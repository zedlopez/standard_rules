<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Writing in Inform 12. Advanced Actions</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Writing in Inform</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="wi_11.html#wi-chapter-11-phrases">11. Phrases</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="wi_13.html#wi-chapter-13-relations">13. Relations</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>12. Advanced Actions</h2>
<div class="toc-section">12.1 <a href="wi_12.html#wi-12.1">A recap of actions</a></div>
<div class="toc-section">12.2 <a href="wi_12.html#wi-12.2">How actions are processed</a></div>
<div class="toc-section">12.3 <a href="wi_12.html#wi-12.3">Giving instructions to other people</a></div>
<div class="toc-section">12.4 <a href="wi_12.html#wi-12.4">Persuasion</a></div>
<div class="toc-section">12.5 <a href="wi_12.html#wi-12.5">Unsuccessful attempts</a></div>
<div class="toc-section">12.6 <a href="wi_12.html#wi-12.6">Spontaneous actions by other people</a></div>
<div class="toc-section">12.7 <a href="wi_12.html#wi-12.7">New actions</a></div>
<div class="toc-section">12.8 <a href="wi_12.html#wi-12.8">Irregular English verbs</a></div>
<div class="toc-section">12.9 <a href="wi_12.html#wi-12.9">Check, carry out, report</a></div>
<div class="toc-section">12.10 <a href="wi_12.html#wi-12.10">Action variables</a></div>
<div class="toc-section">12.11 <a href="wi_12.html#wi-12.11">Making actions work for other people</a></div>
<div class="toc-section">12.12 <a href="wi_12.html#wi-12.12">Check rules for actions by other people</a></div>
<div class="toc-section">12.13 <a href="wi_12.html#wi-12.13">Report rules for actions by other people</a></div>
<div class="toc-section">12.14 <a href="wi_12.html#wi-12.14">Actions for any actor</a></div>
<div class="toc-section">12.15 <a href="wi_12.html#wi-12.15">Out of world actions</a></div>
<div class="toc-section">12.16 <a href="wi_12.html#wi-12.16">Reaching inside and reaching outside rules</a></div>
<div class="toc-section">12.17 <a href="wi_12.html#wi-12.17">Visible vs touchable vs carried</a></div>
<div class="toc-section">12.18 <a href="wi_12.html#wi-12.18">Changing reachability</a></div>
<div class="toc-section">12.19 <a href="wi_12.html#wi-12.19">Changing visibility</a></div>
<div class="toc-section">12.20 <a href="wi_12.html#wi-12.20">Stored actions</a></div>
<div class="toc-section">12.21 <a href="wi_12.html#wi-12.21">Guidelines on how to write rules about actions</a></div>
</header>
<main>
<section class="chapter" id="wi-chapter-12-advanced-actions">
<section class="section" id="wi-12.1"><div>



<h3>WI §12.1. A recap of actions</h3>
<p>Actions are impulses to do something, which arise sometimes through typed commands:</p>

<div class="code"><p class="quoted">
&gt;examine tapestry
</p></div>
<p>and sometimes through "try" phrases occurring in other rules:</p>

<div class="code"><p class="quoted">
Before examining the tapestry, try switching the ultraviolet light on.
</p></div>
<p>Every action either succeeds or fails, though failure may not be a bad thing (something better may have happened). Besides any rules applied in the source text, actions are subject to basic realism rules. A general rule ensures that actions are rejected if the actor would need to touch something which is out of reach, or see something which is invisible; and a couple of hundred other built-in rules police individual actions. For instance, if the ACTIONS testing command has been used to switch monitoring on, then:</p>

<div class="code"><p class="quoted">
&gt;unlock cage with watermelon
<br>[unlocking cage with watermelon]
<br>That doesn't seem to fit the lock.
<br>[unlocking cage with watermelon - failed the can't unlock without the correct key rule]
</p></div>
<p>Actions generated by "try" phrases are allowed to run "silently", which means that if nothing out of the way happens and they succeed, then nothing is printed. For instance:</p>

<div class="code"><p class="quoted">
Before examining the tapestry: say "(Switching on the lamp first.)"; silently try switching the ultraviolet light on.
</p></div>
<p>There are many ways to impose extra rules on actions, and we have seen three main kinds: Before rules, intended so that preliminary activities like the one above can happen before the action is tried; Instead rules, which block or divert the intention, or may cause something spectacularly different to happen; and After rules, which allow for unexpected consequences after the action has taken place.</p>


</div></section>
<section class="section" id="wi-12.2"><div>





<h3>WI §12.2. How actions are processed</h3>
<p>The following flow chart shows the natural course of events when Inform deals with a new action - a "taking" action in the case drawn. For quite a long time, the action may still fail, and it may be that nothing actually happens: but eventually a deciding line is crossed, and once that happens the action will certainly succeed.</p>
<p><img alt="achart.png" src="doc_images/achart.png"></p>
<p>The coloured boxes on this chart represent "rulebooks", that is, collections of rules with a common purpose. The orange boxes for Before, Instead and After were covered in the <a href="wi_7.html#wi-chapter-7-basic-actions">Basic Actions chapter</a>, but the blue boxes are new. The orange boxes are where we put rules to handle unusual situations, or unexpected events: special rules to cover the opening of a container which happens to be booby-trapped, or walking through a doorway into a room where a surprise party is about to be sprung.</p>
<p>Blue boxes hold the mundane, everyday rules - the generic ways that particular actions behave. Every action provides these: "Check" rules, to see if it makes sense - for instance, to see that the player is not trying to take his or her own body, or a whole room, or something he or she already has; then "Carry out" rules, to actually do what the action is supposed to do - in the case of taking, to move an object into the player's possession; and finally "Report" rules, which tell the player what has happened - perhaps printing up "Taken."</p>
<p>When we create a new action, we add a new column to the blue rows in this diagram. As we shall see, we can also put new rules into the existing blue boxes: for instance, if we wanted to increase physical realism by forbidding the player to carry more than a certain weight, we would want to add a new "check taking" rule, and this is entirely legal.</p>
<p>In subsequent chapters, we will see ways to intervene at almost every point in the above diagram - from how "Can we see or touch things?" is reckoned, to each and every individual rule in all of these books. Action-processing may be the single most important thing Inform does, so the system is designed to be immensely flexible. On the other hand, that does make it a lot to take in at one look. Newcomers should probably concentrate on "Instead" and "After" as the basic tools for designing the situations turning up routinely in interactive fiction. There are guidelines at the end of this chapter offering advice on which tricks to use when it comes to more complicated needs.</p>


</div></section>
<section class="section" id="wi-12.3"><div>





<h3>WI §12.3. Giving instructions to other people</h3>
<p>So far, all actions have been carried out by the player: which is fine for exploring the passive world of an empty warehouse, but less good for a drama in which other characters have to be contended with. In fact, an action can be carried out by anybody - by any instance of the "person" kind, that is, which includes all the men, women and animals in the story, and not only the player.</p>
<p>In interactive fiction, players conventionally ask other characters to do something with commands like so:</p>

<div class="code"><p class="quoted">
&gt; will, go west
</p></div>
<p>Clearly "will, go west" should not produce the same action as "go west", because a different person will be trying it: this person is called the "actor", and while the actor is ordinarily the player, here it is the character called Will. Inform distinguishes these two actions like so:</p>

<div class="code"><p class="quoted">
going west
<br>asking Will to try going west
</p></div>
<p>As a result, we can write rules like so:</p>

<div class="code"><p class="quoted">
Instead of asking Will to try going west, say "Will scratches his head, baffled by this talk of westward. Is not the ocean without bound?"
</p></div>
<p>To write rules like this, we sometimes want to generalise about who is supposed to do the deed. To do this we can refer to "person asked", just as the "noun" stands for whatever noun was typed:</p>

<div class="code"><p class="quoted">
Instead of asking somebody to try taking something, say "I don't think we ought to tempt [the person asked] into theft, surely?"
</p></div>
<p>So if the player types "Algy, take sandwich", the "person asked" would be Algy; the "noun" would be the sandwich; and there would be no "second noun".</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-184"><p class="example-p"><span class="example-short-start">184. <a href="rb_7.html#example-184" class="example-link" onClick="(function() { document.getElementById('example-184').setAttribute('open','open'); return true; })();">Virtue</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Defining certain kinds of behavior as inappropriate, so that other characters will refuse indignantly to do any such thing.</span> (c.f. <a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>)</p></div>
<div class="example-short" id="example-short-185"><p class="example-p"><span class="example-short-start">185. <a href="rb_7.html#example-185" class="example-link" onClick="(function() { document.getElementById('example-185').setAttribute('open','open'); return true; })();">Latris Theon</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">A person who can accept instructions to go to new destinations and move towards them according to the most reasonable path.</span> (c.f. <a href="rb_7.html#rb-7.13">RB §7.13. Traveling Characters</a>)</p></div>
</div></section>
<section class="section" id="wi-12.4"><div>





<h3>WI §12.4. Persuasion</h3>
<p>"Asking ... to try ..." actions run through their Before and Instead rules like any other actions, but then (if no rule has intervened) something different happens: Inform has to decide whether the person asked consents to try the action or not. By default, the answer is always no, and text like the following will be printed:</p>

<div class="code"><p class="quoted">
&gt; will, go west
<br>Will has better things to do.
</p></div>
<p>However, we can intervene to make the answer "yes", using a special kind of rule which produces a yes/no answer. The following examples show how we can give broad or narrow permission, as we choose:</p>

<div class="code"><p class="quoted">
Persuasion rule for asking people to try going: persuasion succeeds.
<br>Persuasion rule for asking Will to try going west: persuasion succeeds.
</p></div>
<p>Such a rule can either declare that "persuasion succeeds", or that "persuasion fails", or make no decision and leave it to another rule to say. If it decides that persuasion fails, it is also allowed to say something, describing why: in that event, the standard message ("Will has better things to do.") is suppressed. For example,</p>

<div class="code"><p class="quoted">
Persuasion rule for asking Will to try going:
<br>    say "Will looks put out, and mutters under his breath.";
<br>    persuasion fails.
</p></div>
<p>The following rule, which is really only suitable for testing, makes everybody infinitely obliging:</p>

<div class="code"><p class="quoted">
 Persuasion rule for asking people to try doing something: persuasion succeeds.
</p></div>
<p>Supposing that Will does decide to cooperate, a new action is generated:</p>

<div class="code"><p class="quoted">
Will going west
</p></div>
<p>and this is then subject to all of the usual action machinery. For instance, we could write a rule such as:</p>

<div class="code"><p class="quoted">
Instead of Will going west, say "He runs out into the waves, but soon returns, rueful."
</p></div>
<p>So in this case the new action ("Will going west") failed: but the original action, "asking Will to try going west", is still deemed to have succeeded - after all, Will <em>did</em> try. To put it more formally, "asking X to try A" succeeds if the persuasion rules succeed, and otherwise fails.</p>
<p>Note also that "Instead of..." rules written for other people will be treated by Inform as failures, even if we write something like</p>

<div class="code"><p class="quoted">
Instead of Will pulling the cord:
<br>    say "The bell rings."
</p></div>
<p>and thus may produce unsatisfactory results such as</p>

<div class="code">
<p class="quoted">
&gt;WILL, PULL CORD
<br>The bell rings.
</p>
<p class="quoted">
Will is unable to do that.
</p>
</div>
<p>If we wish to write new successful actions for another character, we will need to create appropriate carry out and report rules for them: these will be explained in the sections to follow.</p>
<p>(Finally, note that the mechanism Inform uses to see if we have printed a refusal message of our own, in the event of persuasion rules failing, can be fooled if we write a persuasion rule explicitly ending with a "[paragraph break]" text substitution.)</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-186"><p class="example-p"><span class="example-short-start">186. <a href="rb_7.html#example-186" class="example-link" onClick="(function() { document.getElementById('example-186').setAttribute('open','open'); return true; })();">The Hypnotist of Blois</a></span> <span class="example-difficulty">★</span>  <span class="example-description">A hypnotist who can make people obedient and then set them free again.</span> (c.f. <a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>)</p></div>
<div class="example-short" id="example-short-187"><p class="example-p"><span class="example-short-start">187. <a href="rb_7.html#example-187" class="example-link" onClick="(function() { document.getElementById('example-187').setAttribute('open','open'); return true; })();">Police State</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Several friends who obey you; a policeman who doesn't (but who takes a dim view of certain kinds of antics).</span> (c.f. <a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>)</p></div>
</div></section>
<section class="section" id="wi-12.5"><div>





<h3>WI §12.5. Unsuccessful attempts</h3>
<p>Suppose, finally, that Will not only consents to try the action, but it also survives its passage through Before and Instead rules. What happens then? In principle, what happens to Will is exactly what would have happened to the player in his place. For instance:</p>

<div class="code"><p class="quoted">
&gt; will, go east
<br>Will leaves to the east.
</p></div>
<p>If on the other hand Will's attempt is frustrated because one of the checking rules stops him, then Will's action fails. For instance, if Will tries going northeast but there is no room to northeast, one of the rules checking the "going" action will stop him. We will then see this:</p>

<div class="code"><p class="quoted">
&gt; will, go northeast
<br>Will is unable to do that.
</p></div>
<p>This is rather a generic message, and we may want something more interesting. We can provide that using yet another special kind of rule:</p>

<div class="code"><p class="quoted">
Unsuccessful attempt by Will going: say "Will blunders around going nowhere, as usual."
</p></div>
<p>Even that is still a little generic, though, because it treats all of the various ways that "going" can fail as the same. If we have ACTIONS switched on, we can see what goes on behind the scenes when we ask Will to walk into a door:</p>

<div class="code"><p class="quoted">
&gt;will, go west
<br>[asking Will to try going west]
<br>[(1) Will going west]
<br>[(1) Will going west - failed the can't go through closed doors rule]
<br>Will blunders around going nowhere, as usual.
<br>[asking Will to try going west - succeeded]
</p></div>
<p>(The "(1)" lets us know that a new action is starting during the old one, and before the old one finishes: sometimes we go up to three or four deep, though seldom more in practical cases.) We can now rewrite the "unsuccessful attempt" rule like so:</p>

<div class="code"><p class="quoted">
Unsuccessful attempt by Will going:
<br>    if the reason the action failed is the can't go through closed doors rule, say "Will looks doubtful and mumbles about doors.";
<br>    otherwise say "Will blunders around going nowhere, as usual."
</p></div>
<p>The value "reason the action failed" is set to whichever checking rule threw out the action which Will tried. The names of these rules try to be self-explanatory - at any rate, those with gnomic names are not useful for this sort of thing, and can be ignored - and can be found out either using ACTIONS or by consulting the Actions index.</p>
<p>Finally, note that "unsuccessful attempt" rules apply only when the person in question is being asked to perform the action by somebody else - as in the examples above.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-188"><p class="example-p"><span class="example-short-start">188. <a href="rb_7.html#example-188" class="example-link" onClick="(function() { document.getElementById('example-188').setAttribute('open','open'); return true; })();">Generation X</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">A person who goes along with the player's instructions, but reluctantly, and will get annoyed after too many repetitions of the same kind of unsuccessful command.</span> (c.f. <a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>)</p></div>
</div></section>
<section class="section" id="wi-12.6"><div>





<h3>WI §12.6. Spontaneous actions by other people</h3>
<p>The player's actions happen not only when he types a command, but can also happen spontaneously as a result of a "try" phrase.</p>

<div class="code"><p class="quoted">
try going west
<br>try asking Will to try going west
</p></div>
<p>The latter might, of course, result in Will trying going west: or it might not - that depends on the persuasion rules. But as the author, we have the ultimate powers of persuasion, and can make Will act in any way we like, without asking:</p>

<div class="code"><p class="quoted">
try Will going west
</p></div>
<p>Nobody in the simulated world requested this: it is an impulse felt by Will alone, so that - from the player's point of view - Will is acting spontaneously. The player need not be anywhere nearby, and may never know what happened. Recall that when actions work their way down through the flow-chart, they are stopped before reaching the "report" stage - when the player is told about them - if they are running "silently". This is also where Inform stops an action which is not witnessed by the player.</p>
<p>To repeat a point in the previous section: "unsuccessful attempt" rules do not apply to actions which the author has caused to happen, using "try". When such actions fail, they invoke no special set of rules. Indeed, when "try" causes somebody other than the player to try an action, nothing will be printed to report back on success or failure. If Will can't go west, that's his problem.</p>
<p>Note that the text "try Will going west" involves the actor's name immediately placed next to the action he is to try, which in a very few cases might cause ambiguities. If the actor's name contains a participle like "going" - say, if Will's full name turned out to be Mr Will Going - then we would have to write out the action name in full, using "trying" to clarify matters:</p>

<div class="code"><p class="quoted">
try Will Going trying going west
</p></div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-189"><p class="example-p"><span class="example-short-start">189. <a href="rb_7.html#example-189" class="example-link" onClick="(function() { document.getElementById('example-189').setAttribute('open','open'); return true; })();">IQ Test</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Introducing Ogg, a person who will unlock and open a container when the player tells him to get something inside.</span> (c.f. <a href="rb_7.html#rb-7.15">RB §7.15. Goal-Seeking Characters</a>)</p></div>
<div class="example-short" id="example-short-190"><p class="example-p"><span class="example-short-start">190. <a href="rb_7.html#example-190" class="example-link" onClick="(function() { document.getElementById('example-190').setAttribute('open','open'); return true; })();">Boston Cream</a></span> <span class="example-difficulty">★★★★</span>  <span class="example-description">A fuller implementation of Ogg, giving him a motivation of his own and allowing him to react to the situation created by the player.</span> (c.f. <a href="rb_7.html#rb-7.15">RB §7.15. Goal-Seeking Characters</a>)</p></div>
</div></section>
<section class="section" id="wi-12.7"><div>





<h3>WI §12.7. New actions</h3>
<p>It is not often that we need to create new actions, but a large work of interactive fiction with no novelty actions is a flavourless dish. Here we shall create an action for photographing things.</p>

<div class="code">
<p class="quoted">
The Ruins is a room. "You find this clearing in the rainforest oddly familiar." The camera is in the Ruins. "Your elephantine camera hangs from a convenient branch."
</p>
<p class="quoted">
Photographing is an action applying to one visible thing and requiring light.
</p>
</div>
<p>In theory that text is already sufficient to make the new action, but what we have so far is rudimentary to say the least. The two qualifications give Inform the useful information that we cannot photograph in the dark, and that we need to be photographing something - not, as in the case of waiting or taking inventory, acting without reference to any particular thing external to ourselves.</p>
<p>The word "visible" here tells Inform that we do not need to be able to touch the thing in question: a line of sight is good enough. These two stipulations were necessary because the default arrangement is that any object must be in touching range, and that most actions can be performed in darkness. (Also, note that if you invent an action which needs to apply to directions like "north" or "south", you need to make this apply to visible things, because the object used inside Inform to represent the idea of "north" can be seen but not touched. So for understanding purposes, "visible thing" is understood as meaning any visible thing or direction: it's more general than "thing", not more specific.)</p>
<p>Occasionally, when writing general rules about actions, it can be useful to find out what the current action's requirements are: the following conditions do what they suggest.</p>

<div class="definition" id="defn144">
<p class="defnprototype"><strong>if action requires a touchable noun:</strong></p>



<p>This condition is true if the action being processed is one whose (first) noun is an object which needs to be touchable by the actor. For example, it's true for "taking", but false for "examining".</p>


</div>


<div class="definition" id="defn145">
<p class="defnprototype"><strong>if action requires a touchable second noun:</strong></p>



<p>This condition is true if the action being processed is one whose second noun is an object which needs to be touchable by the actor. For example, it's true for "putting the brick in the sack", but false for "throwing the brick at the window".</p>


</div>


<div class="definition" id="defn146">
<p class="defnprototype"><strong>if action requires a carried noun:</strong></p>



<p>This condition is true if the action being processed is one whose (first) noun is an object which needs to be carried by the actor. For example, it's true for "dropping", but false for "taking".</p>


</div>


<div class="definition" id="defn147">
<p class="defnprototype"><strong>if action requires a carried second noun:</strong></p>



<p>This condition is true if the action being processed is one whose second noun is an object which needs to be carried by the actor.</p>


</div>


<div class="definition" id="defn148">
<p class="defnprototype"><strong>if action requires light:</strong></p>



<p>This condition is true if the action being processed is one which can only be performed if the actor has light to see by. For example, it's true for "examining", but false for "dropping".</p>


</div>

<p>As further examples, here we create "blinking" and "scraping X with Y". Note the use of "it" to indicate that the name of an object should go here.</p>

<div class="code"><p class="quoted">
Blinking is an action applying to nothing. Scraping it with is an action applying to two things.
</p></div>
<p>The photographing action now exists, but with two provisos: (a) it never happens, because Inform does not know what commands by the player should cause it, and (b) even if it were to happen, nothing would follow, because Inform does not know what to do. (There are no check, carry out or report rules yet.)</p>
<p>The first problem is easily overcome:</p>

<div class="code"><p class="quoted">
Understand "photograph [something]" as photographing.
</p></div>
<p>We will return to the whole subject of parsing, as this process of understanding the player's commands is called, later. But this gives the gist of it.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="wi_17.html#wi-17.1" class="crossreference_link">Understand</a> for the full story</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-191"><p class="example-p"><span class="example-short-start">191. <a href="rb_7.html#example-191" class="example-link" onClick="(function() { document.getElementById('example-191').setAttribute('open','open'); return true; })();">Red Cross</a></span> <span class="example-difficulty">★</span>  <span class="example-description">A DIAGNOSE command which allows the player to check on the health of someone.</span> (c.f. <a href="rb_7.html#rb-7.5">RB §7.5. Combat and Death</a>)</p></div>
<div class="example-short" id="example-short-192"><p class="example-p"><span class="example-short-start">192. <a href="rb_10.html#example-192" class="example-link" onClick="(function() { document.getElementById('example-192').setAttribute('open','open'); return true; })();">3 AM</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">A shake command which agitates soda and makes items thump around in boxes.</span> (c.f. <a href="rb_10.html#rb-10.2">RB §10.2. Liquids</a>)</p></div>
<div class="example-short" id="example-short-193"><p class="example-p"><span class="example-short-start">193. <a href="rb_10.html#example-193" class="example-link" onClick="(function() { document.getElementById('example-193').setAttribute('open','open'); return true; })();">Frizz</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</span> (c.f. <a href="rb_10.html#rb-10.2">RB §10.2. Liquids</a>)</p></div>
</div></section>
<section class="section" id="wi-12.8"><div>





<h3>WI §12.8. Irregular English verbs</h3>
<p>Our three example actions can be recognised in play using the following:</p>

<div class="code">
<p class="quoted">
Understand "photograph [something]" as photographing.
</p>
<p class="quoted">
Understand "blink" as blinking.
</p>
<p class="quoted">
Understand "scrape [something] with [something]" as scraping it with.
</p>
</div>
<p>The last of these examples shows why Inform does not risk generating this automatically: English is so full of irregular verbs. Inform could have guessed "blink" and "photograph", but might then have opted for "scrap" instead of "scrape".</p>
<p>Inform does risk automatically generating the past participle of an action. (Many past participles are never needed, so the stakes are lower if Inform gets this wrong.) What usually happens is that the "-ing" is replaced with "-ed", thus photographed, blinked, scraped - but Inform has a dictionary of some 460 irregular exceptions, such as caught, fled, crossbred, taken, woven. So with luck Inform will guess correctly. If not, we can get around this like so:</p>

<div class="code"><p class="quoted">
Squicking is an action with past participle squacked, applying to one thing.
</p></div>
</div></section>
<section class="section" id="wi-12.9"><div>





<h3>WI §12.9. Check, carry out, report</h3>
<p>The normal behaviour of an action is specified by its three associated rulebooks - check, carry out and report. In the case of our "photographing" example, these rulebooks will be:</p>

<div class="code">
<p class="quoted">
<strong>Check photographing</strong>. Here, for instance, we need to verify that the player has the camera. If any of our checks fail, we should say why and stop the action. If they succeed, we say nothing.
</p>
<p class="quoted">
<strong>Carry out photographing</strong>. At this stage no further checking is needed (or allowed): the action now definitively takes place. At this point we might, for instance, deduct one from the number of exposures left on the film in the camera, or award the player points for capturing something interesting for posterity. But we should say nothing.
</p>
<p class="quoted">
<strong>Report photographing</strong>. At this stage no further activity is needed (or allowed): whatever effect the action had, it has happened and is now over. All we can do is to say what has taken place.
</p>
</div>
<p>So far we have not really gone into the business of what rulebooks are, and we don't do so here either - suffice to say that we can now create whatever rules we need:</p>

<div class="code"><p class="quoted">
A check photographing rule:
<br>    if the camera is not carried:
<br>        say "You can hardly photograph without a camera, now can you?" instead.
</p></div>
<p>In fact, writing "a check photographing rule" is over-formal. We can more simply label our rules like so:</p>

<div class="code">
<p class="quoted">
Check photographing:
<br>    if we have photographed the noun:
<br>        say "You've already snapped [the noun]." instead.
</p>
<p class="quoted">
Report photographing: say "Click!"
</p>
</div>
<p>For the sake of brevity, photography has no interesting consequence (no points to be won, no film to use up), so there are no carry out rules here. Note the way we used the word "instead" once again to stop actions in their tracks.</p>
<p>We can continue to add rules at any point, and a classic thing that happens when testing a new work is that the designer realises there is a case which has not been thought of:</p>

<div class="code"><p class="quoted">
Check photographing:
<br>    if the noun is the camera:
<br>        say "That would require some sort of contraption with mirrors." instead.
</p></div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-194"><p class="example-p"><span class="example-short-start">194. <a href="rb_3.html#example-194" class="example-link" onClick="(function() { document.getElementById('example-194').setAttribute('open','open'); return true; })();">The Dark Ages Revisited</a></span> <span class="example-difficulty">★</span>  <span class="example-description">An electric light kind of device which becomes lit when switched on and dark when switched off.</span> (c.f. <a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>)</p></div>
<div class="example-short" id="example-short-195"><p class="example-p"><span class="example-short-start">195. <a href="rb_10.html#example-195" class="example-link" onClick="(function() { document.getElementById('example-195').setAttribute('open','open'); return true; })();">Paddington</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">A CUT [something] WITH [something] command which acts differently on different types of objects.</span> (c.f. <a href="rb_10.html#rb-10.4">RB §10.4. Glass and Other Damage-Prone Substances</a>)</p></div>
<div class="example-short" id="example-short-196"><p class="example-p"><span class="example-short-start">196. <a href="rb_7.html#example-196" class="example-link" onClick="(function() { document.getElementById('example-196').setAttribute('open','open'); return true; })();">Noisemaking</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">Creating a stage after the report stage of an action, during which other characters may observe and react.</span> (c.f. <a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>)</p></div>
<div class="example-short" id="example-short-197"><p class="example-p"><span class="example-short-start">197. <a href="rb_9.html#example-197" class="example-link" onClick="(function() { document.getElementById('example-197').setAttribute('open','open'); return true; })();">Delicious, Delicious Rocks</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">Adding a "sanity-check" stage to decide whether an action makes any sense, which occurs before any before rules, implicit taking, or check rules.</span> (c.f. <a href="rb_9.html#rb-9.1">RB §9.1. Food</a>)</p></div>
</div></section>
<section class="section" id="wi-12.10"><div>





<h3>WI §12.10. Action variables</h3>
<p>For some complex situations, it can be useful to keep track of a few values throughout the processing of the action. This is not an everyday occurrence: in the Standard Rules, for instance, only two or three out of 90 actions need to do this. But suppose we want to write a more deluxe version of our "photographing" action. This time, rather than having a single thing called the "camera", we will provide a whole range of possible cameras, varying in quality:</p>

<div class="code">
<p class="quoted">
Photographing is an action applying to one visible thing and requiring light. Understand "photograph [something]" as photographing.
</p>
<p class="quoted">
The Studio is a room. Sally is a woman in the Studio. A foam-lined tote bag is in the Studio.
</p>
<p class="quoted">
A camera is a kind of thing. A camera has a number called picture quality. The digital SLR camera is a camera in the tote bag. The player carries a camera called the instant one-shot camera. The picture quality of the SLR camera is 10. The picture quality of the one-shot is 2. Definition: a camera is sharp if its picture quality is 5 or more.
</p>
</div>
<p>And we will want the photographing action to have the player use the best-quality camera which comes to hand. We will give the action a variable called the 'camera photographed with', thus:</p>

<div class="code"><p class="quoted">
The photographing action has an object called the camera photographed with.
</p></div>
<p>Every action's variables must be named differently from those of all other actions, because there are some "before" rules (for instance) which take effect for many different actions, and which might need access to any of their variables. So action variables should be named in a way marking out to which action they belong. The best way to do this is to include the past participle of the action name - just as "camera photographed with" contains the past participle "photographed" of the action "photographing".</p>
<p>This value is created when the action begins, and disappears when the action ends. (If the action should happen a second time before the first time was completed, a second copy of the value is created, leaving the original undisturbed.) When the action begins, the value starts out as something neutral - so if it is a number, it starts out as 0, if a text, it starts out as the blank text "", and so on. Here it is an object, so it starts out as nothing - the value meaning no object at all. But of course we want to give it a value ourselves. We can do that using the "setting action variables" rulebook. For instance:</p>

<div class="code"><p class="quoted">
Setting action variables for photographing:
<br>    now the camera photographed with is the sharpest camera which is carried by the actor.
</p></div>
<p>The "setting action variables" rulebook is run through before even the before rules, and it has no power to stop or change the action. Its rules should say nothing and do nothing other than to set rulebook variables like this one. Note that it is intended to work for any actor, not only the player: so rather than referring to the player as the performer of the action, we need to write "the actor", as in the example above. (See subsequent sections for more on actors.)</p>
<p>We can now write rules such as:</p>

<div class="code"><p class="quoted">
A check photographing rule:
<br>    if the camera photographed with is nothing:
<br>        say "You can hardly photograph without a camera, now can you?" instead.
</p></div>
<p>Only rules to do with the photographing action - before, instead, after, check, carry out, or report rules, and so on - are allowed to see the 'camera photographed with' value: it's the private property of the action.</p>
<p>A further elaboration allows us to make rules about photographing neater to write. If we create our variable like so:</p>

<div class="code"><p class="quoted">
The photographing action has an object called the camera photographed with (matched as "using").
</p></div>
<p>...then we are now allowed to add an optional 'using ...' clause onto a description of the action. The clause has to be introduced with a single word: here, it's 'using'. For instance, we could write rules such as</p>

<div class="code">
<p class="quoted">
Instead of photographing something using the one-shot camera:
<br>    say "But you promised to give this to Sally's nephew."
</p>
<p class="quoted">
Check photographing something using the noun:
<br>    say "That would require some sort of contraption with mirrors." instead.
</p>
<p class="quoted">
Report photographing something using a sharp camera:
<br>    say "You feel cool and important as the shutter clicks."
</p>
</div>
<p>(This is the method used by the Standard Rules to attach optional clauses such as 'to', 'with' and 'through' to the going action.)</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-198"><p class="example-p"><span class="example-short-start">198. <a href="rb_6.html#example-198" class="example-link" onClick="(function() { document.getElementById('example-198').setAttribute('open','open'); return true; })();">The Second Oldest Problem</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Adapting the going action so that something special can happen when going from a dark room to another dark room.</span> (c.f. <a href="rb_6.html#rb-6.9">RB §6.9. Going, Pushing Things in Directions</a>)</p></div>
<div class="example-short" id="example-short-199"><p class="example-p"><span class="example-short-start">199. <a href="rb_3.html#example-199" class="example-link" onClick="(function() { document.getElementById('example-199').setAttribute('open','open'); return true; })();">Further Reasons Why All Poets Are Liars</a></span> <span class="example-difficulty">★</span>  <span class="example-description">The young William Wordsworth, pushing a box about in his room, must struggle to achieve a Romantic point of view.</span> (c.f. <a href="rb_3.html#rb-3.3">RB §3.3. Position Within Rooms</a>)</p></div>
<div class="example-short" id="example-short-200"><p class="example-p"><span class="example-short-start">200. <a href="rb_6.html#example-200" class="example-link" onClick="(function() { document.getElementById('example-200').setAttribute('open','open'); return true; })();">Removal</a></span> <span class="example-difficulty">★</span>  <span class="example-description">TAKE expanded to give responses such as "You take the book from the shelf." or "You pick up the toy from the ground."</span> (c.f. <a href="rb_6.html#rb-6.8">RB §6.8. Taking, Dropping, Inserting and Putting</a>)</p></div>
<div class="example-short" id="example-short-201"><p class="example-p"><span class="example-short-start">201. <a href="rb_7.html#example-201" class="example-link" onClick="(function() { document.getElementById('example-201').setAttribute('open','open'); return true; })();">Puff of Orange Smoke</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">A system in which every character has a body, which is left behind when the person dies; attempts to do something to the body are redirected to the person while the person is alive.</span> (c.f. <a href="rb_7.html#rb-7.5">RB §7.5. Combat and Death</a>)</p></div>
<div class="example-short" id="example-short-202"><p class="example-p"><span class="example-short-start">202. <a href="rb_6.html#example-202" class="example-link" onClick="(function() { document.getElementById('example-202').setAttribute('open','open'); return true; })();">Croft</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">Adding special reporting and handling for objects dropped when the player is on a supporter, and special entering rules for moving from one supporter to another.</span> (c.f. <a href="rb_6.html#rb-6.8">RB §6.8. Taking, Dropping, Inserting and Putting</a>)</p></div>
</div></section>
<section class="section" id="wi-12.11"><div>





<h3>WI §12.11. Making actions work for other people</h3>
<p>The "photographing" action now works very nicely when the player does it. But not when others try. Suppose that neither the player, nor Clark Gable, is holding the camera:</p>

<div class="code">
<p class="quoted">
&gt;photograph clark
<br>You can hardly photograph without a camera, now can you?
</p>
<p class="quoted">
&gt;clark, photograph me
<br>&gt;
</p>
</div>
<p>An uncanny silence. What has happened is that the rules written so far are all implicitly restricted to the player only. This is because when we write -</p>

<div class="code"><p class="quoted">
Check photographing:
<br>    if the camera is not carried:
<br>        say "You can hardly photograph without a camera, now can you?" instead.
</p></div>
<p>the action is "photographing", not "Clark photographing". In the next few sections we shall see how to make the rules work nicely for everybody. This is a little bit harder, so it should be noted right away that in many projects there is no need. In a story which has no other characters who succumb to persuasion, for instance, only the player will ever try the action.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-203"><p class="example-p"><span class="example-short-start">203. <a href="rb_7.html#example-203" class="example-link" onClick="(function() { document.getElementById('example-203').setAttribute('open','open'); return true; })();">The Man of Steel</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">An escaping action which means "go to any room you can reach from here", and is only useful to non-player characters.</span> (c.f. <a href="rb_7.html#rb-7.15">RB §7.15. Goal-Seeking Characters</a>)</p></div>
<div class="example-short" id="example-short-204"><p class="example-p"><span class="example-short-start">204. <a href="rb_6.html#example-204" class="example-link" onClick="(function() { document.getElementById('example-204').setAttribute('open','open'); return true; })();">Trying Taking Manhattan</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">Replacing the inventory reporting rule with another which does something slightly different.</span> (c.f. <a href="rb_6.html#rb-6.7">RB §6.7. Inventory</a>)</p></div>
<div class="example-short" id="example-short-205"><p class="example-p"><span class="example-short-start">205. <a href="rb_7.html#example-205" class="example-link" onClick="(function() { document.getElementById('example-205').setAttribute('open','open'); return true; })();">Under Contract</a></span> <span class="example-difficulty">★★★★</span>  <span class="example-description">Creating a person who accepts most instructions and reacts correctly when a request leads implicitly to inappropriate behavior.</span> (c.f. <a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>)</p></div>
</div></section>
<section class="section" id="wi-12.12"><div>





<h3>WI §12.12. Check rules for actions by other people</h3>
<p>If we want to impose the restriction about carrying the camera on other people, we need a rule like the following:</p>

<div class="code"><p class="quoted">
Check someone photographing: if the person asked does not carry the camera, stop the action.
</p></div>
<p>Implicitly, that "someone" excludes the player. Note that we say nothing in this rule, stopping the action without a word: after all, Clark might well be out of sight when trying this. If he is within sight, then we read:</p>

<div class="code"><p class="quoted">
&gt;clark, photograph me
<br>Clark Gable is unable to do that.
</p></div>
<p>We saw before that Inform's built-in rules all have handy names (the "can't drop what's already dropped rule", and such), and that these are useful when writing better "unable to..." messages. So for a deluxe version, we end up with:</p>

<div class="code"><p class="quoted">
Check someone trying photographing (this is the other people can't photograph without the camera rule): if the person asked does not carry the camera, stop the action.
</p></div>
<p>And now, with ACTIONS on, we find that:</p>

<div class="code"><p class="quoted">
&gt;clark, photograph me
<br>[asking Clark Gable to try photographing yourself]
<br>[(1) Clark Gable photographing yourself]
<br>[(1) Clark Gable photographing yourself - failed the other people can't photograph without the camera rule]
<br>Clark Gable is unable to do that.
<br>[asking Clark Gable to try photographing yourself - succeeded]
</p></div>
<p>which means that we could have, say,</p>

<div class="code"><p class="quoted">
Unsuccessful attempt by Clark photographing:
<br>    if the reason the action failed is the other people can't photograph without the camera rule, say "Clark is too suave to be embarrassed. 'Frankly, my dear, I don't have a camera.'";
<br>    otherwise say "Clark tries, and fails, to take a photograph."
</p></div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-206"><p class="example-p"><span class="example-short-start">206. <a href="rb_6.html#example-206" class="example-link" onClick="(function() { document.getElementById('example-206').setAttribute('open','open'); return true; })();">Get Axe</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Changing the check rules to try automatically leaving a container before attempting to take it. (And arranging things so that other people will do likewise.)</span> (c.f. <a href="rb_6.html#rb-6.10">RB §6.10. Entering and Exiting, Sitting and Standing</a>)</p></div>
<div class="example-short" id="example-short-207"><p class="example-p"><span class="example-short-start">207. <a href="rb_7.html#example-207" class="example-link" onClick="(function() { document.getElementById('example-207').setAttribute('open','open'); return true; })();">Barter Barter</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">Allowing characters other than the player to give objects to one another, accounting for the possibility that some items may not be desired by the intended recipients.</span> (c.f. <a href="rb_7.html#rb-7.4">RB §7.4. Barter and Exchange</a>)</p></div>
</div></section>
<section class="section" id="wi-12.13"><div>





<h3>WI §12.13. Report rules for actions by other people</h3>
<p>Report rules for the player's actions are easy to write, and for many actions, they are not much harder for other people either:</p>

<div class="code"><p class="quoted">
Report photographing: say "Click!"
<br>Report someone photographing: say "Click! [The person asked] takes a snapshot of [the noun]."
</p></div>
<p>But once other people are involved, we have to go to some trouble to get all of the possibilities right. Here is a case which did not immediately occur to the author of the "going" action, for instance:</p>

<div class="code">
<p class="quoted">
&gt;get in cage
<br>You get into the cage.
<br>&gt;clark, get in automobile
<br>Clark Gable gets into the automobile.
<br>&gt;clark, push cage west
<br>Clark Gable goes west in the automobile, pushing the cage in front, and you along too.
</p>
<p class="quoted">
<strong>The Lot</strong> (in the cage)
<br>In the Lot you can see an automobile (in which is Clark Gable).
</p>
</div>
<p>We said before that report rules are skipped if the action is running "silently", or if the action is one that the player does not witness. But that is also a tricky concept. Inform's doctrine is that you witness an action if you can see any of the actor, the noun or the second noun at either the beginning or the end of the action; except that being able to see a backdrop does not count. Thus if Clark Gable, in Beverly Hills, photographs the Hollywood sign then we do not witness this from Sunset Boulevard merely because we, too, can see the Hollywood sign.</p>
<p>While the report rules for actions by the player must actually report something, report rules for other people's actions are under no such obligation. For instance, if Clark unlocks a door from the other side to the player, then this counts as an action that the player witnesses - and after all, it could be argued that the player should hear the key turning in the lock - but in fact the standard rules for reporting locking choose to say nothing.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-208"><p class="example-p"><span class="example-short-start">208. <a href="rb_7.html#example-208" class="example-link" onClick="(function() { document.getElementById('example-208').setAttribute('open','open'); return true; })();">The Man of Steel Excuses Himself</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">Elaborating the report rules to be more interesting than "Clark goes west."</span> (c.f. <a href="rb_7.html#rb-7.15">RB §7.15. Goal-Seeking Characters</a>)</p></div>
<div class="example-short" id="example-short-209"><p class="example-p"><span class="example-short-start">209. <a href="rb_4.html#example-209" class="example-link" onClick="(function() { document.getElementById('example-209').setAttribute('open','open'); return true; })();">Fate Steps In</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">Fate entity which attempts to make things happen, by hook or by crook, including taking preliminary actions to set the player up a bit.</span> (c.f. <a href="rb_4.html#rb-4.6">RB §4.6. Plot Management</a>)</p></div>
</div></section>
<section class="section" id="wi-12.14"><div>





<h3>WI §12.14. Actions for any actor</h3>
<p>In the previous sections, we created a new action by providing one set of rules for the player and another for anybody else who might try to perform it. These rules began with action descriptions in one of the following forms:</p>

<div class="code"><p class="quoted">
Instead of taking a container, ...
<br>Instead of P taking a container, ...
</p></div>
<p>The first form implies that the player must be performing the action: the second allows for any person matching P to be the action, except that this person must not be the player. That means that all rules seen so far either affect only the player, or only other people.</p>
<p>This is often convenient, but sometimes we need to set up a complicated action which really does work in the same way for every actor - for instance, the built-in Inform actions provided by the Standard Rules aim to do this. We can write such rules thus:</p>

<div class="code"><p class="quoted">
Instead of an actor taking a container, ...
</p></div>
<p>Here the rule applies to anyone who tries taking a container, player or not. Inside such a rule, the special value 'the actor' is the person performing the action. For instance, the Standard Rules include this one:</p>

<div class="code"><p class="quoted">
Carry out an actor wearing (this is the standard wearing rule):
<br>    now the actor wears the noun.
</p></div>
</div></section>
<section class="section" id="wi-12.15"><div>





<h3>WI §12.15. Out of world actions</h3>
<p>The actions seen so far are all impulses causing the protagonist inside the fictional world to do something, or at least try to. But when the player types "quit" or "save", that is not a request for anything to happen in the fictional world: it is an instruction to the program simulating that world. In fact, just the same, such requests are treated as actions, but of a special category called "out of world" actions. They do not cause time to pass by, so the turn counter does not advance, nor does this command cycle count as a turn at all; and they are altogether exempt from "Before", "Instead" and "After" rules. Only the player is allowed to try them.</p>
<p>We can also create new out-of-world actions. Suppose we want a dialogue like so:</p>

<div class="code"><p class="quoted">
&gt;ROOMS
<br>You have been to 1 out of 8 rooms.
</p></div>
<p>Here is a complete implementation:</p>

<div class="code"><p class="quoted">
Requesting the room tally is an action out of world.
<br>Report requesting the room tally: say "You have been to [number of visited rooms] out of [number of rooms] room[s]."
<br>Understand "rooms" as requesting the room tally.
</p></div>
<p>It is important not to use "out of world" actions for anything affecting what goes on in the fictional world, or realism will collapse, and action-processing may also fail to work in the usual way. "Out of world" actions should be reserved for providing commands like ROOMS, which monitor events rather than participate in them.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-210"><p class="example-p"><span class="example-short-start">210. <a href="rb_11.html#example-210" class="example-link" onClick="(function() { document.getElementById('example-210').setAttribute('open','open'); return true; })();">Spellbreaker</a></span> <span class="example-difficulty">★</span>  <span class="example-description">P. David Lebling's classic "Spellbreaker" (1986) includes a room where the game cannot be saved: here is an Inform implementation.</span> (c.f. <a href="rb_11.html#rb-11.2">RB §11.2. Saving and Undoing</a>)</p></div>
<div class="example-short" id="example-short-211"><p class="example-p"><span class="example-short-start">211. <a href="rb_11.html#example-211" class="example-link" onClick="(function() { document.getElementById('example-211').setAttribute('open','open'); return true; })();">A point for never saving the game</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">In some of the late 1970s "cave crawl" adventure games, an elaborate scoring system might still leave the player perplexed as to why an apparently perfect play-through resulted in a score which was still one point short of the supposed maximum. Why only 349 out of 350? The answer varied, but sometimes the last point was earned by never saving the game - in other words by playing it right through with nothing to guard against mistakes (except perhaps UNDO for the last command), and in one long session.</span> (c.f. <a href="rb_11.html#rb-11.2">RB §11.2. Saving and Undoing</a>)</p></div>
</div></section>
<section class="section" id="wi-12.16"><div>





<h3>WI §12.16. Reaching inside and reaching outside rules</h3>
<p>The flow chart back at the start of this chapter shows that, early on in processing an action (between Before and Instead), Inform asks the question "Can we see or touch things?" This is where it enforces the requirements in the action's definition:</p>

<div class="code"><p class="quoted">
Photographing is an action applying to one visible thing and requiring light.
<br>Scraping it with is an action applying to two things.
</p></div>
<p>Seeing and touching are two different questions, which Inform answers in different ways. We shall see ways to modify or entirely alter what can be seen using the "deciding the scope of something" activity when we get to the Understanding and <a href="wi_18.html#wi-chapter-18-activities">Activities chapter</a>s, and later in this chapter we will change the definition of touchability. What both have in common is that they are complicated questions, affected by the circumstances. We cannot simply declare that the player can touch a given lever, or can see in a given room: we must arrange for there to be no barriers between the player and the lever, or for there to be a light source in the room.</p>
<p>An example of rules applying to given objects is provided by the way that Inform decides whether the player can reach something or not. For instance, suppose the following:</p>

<div class="code"><p class="quoted">
 The Laboratory is a room. In the Laboratory is a conical flask. The flask is closed and transparent. In the flask is an antibumping granule.
</p></div>
<p>The player will be able to examine the granule but not to take it, as that would require reaching through glass. Suppose the player does type TAKE GRANULE: then Inform looks for potential barriers between the player and the granule, and of course finds the conical flask. If, as in this case, the thing to be touched is on the inside, then Inform asks the "reaching inside" rules for permission. There are two reaching inside rules built in to Inform:</p>

<div class="code"><p class="quoted">
can't reach inside rooms rule
<br>can't reach inside closed containers rule
</p></div>
<p>and in fact the second of these rules will cause the taking action to fail, because the conical flask is a closed container. (The other rule has to do with a player in one room able to see another room through, say, a telescope - merely having a line of sight doesn't give the ability to reach into the frame.)</p>
<p>Symmetrically, Inform also has "reaching outside" rules, used if the player is inside something and wants to reach an object in the wider room. (From a bed, probably yes; from a cage, probably no.) This ordinarily contains just one rule:</p>

<div class="code"><p class="quoted">
can't reach outside closed containers rule
</p></div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-212"><p class="example-p"><span class="example-short-start">212. <a href="rb_3.html#example-212" class="example-link" onClick="(function() { document.getElementById('example-212').setAttribute('open','open'); return true; })();">Carnivale</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">An alternative to backdrops when we want something to be visible from a distance but only touchable from one room.</span> (c.f. <a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>)</p></div>
</div></section>
<section class="section" id="wi-12.17"><div>





<h3>WI §12.17. Visible vs touchable vs carried</h3>
<p>To recap, actions are created like so:</p>

<div class="code"><p class="quoted">
Photographing is an action applying to one visible thing and requiring light.
<br>Depositing it in is an action applying to two things.
<br>Taking inventory is an action applying to nothing.
</p></div>
<p>Actions can involve up to two different things. We can place additional requirements on any of these things by describing them as a "visible thing", "touchable thing" or "carried thing". (If we simply say "thing" or "things", as in the second example, Inform assumes the requirement to be "touchable".) These three conditions are increasingly strong:</p>
<p>- To be "visible", something needs only to be possible to refer to by the player, which in practice means that it must be visible to the player-character. The noun or second noun produced by any action resulting from a command at the keyboard will always satisfy this minimal condition.</p>
<p>- To be "touchable", the player-character must be able to physically touch the thing in question: this normally means that it must be in the same room, and there must be no physical barriers in between.</p>
<p>- To be "carried", the player-character must (directly) carry the thing in question. (But if the player types a command using an action requiring something "carried", like WEAR HAT, the thing in question - the hat - will sometimes be picked up automatically. This is called "implicit taking", and results in text like "(first taking the top hat)" being printed.)</p>
<p>If an action involves two things, they need not have the same requirement as each other:</p>

<div class="code"><p class="quoted">
Waving it at is an action applying to one carried thing and one visible thing.
</p></div>
<p>Thus to "wave magic wand at banyan tree", the player must be holding the wand, but need only be able to see the tree.</p>
<p>Note one special case. Requirements on touchability are waived in the case of "try" actions applied to people other than the player where the things they would need to touch are doors or backdrops. (This is a compromise to avoid difficulties arising from the ambiguous locations of such items.)</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-213"><p class="example-p"><span class="example-short-start">213. <a href="rb_3.html#example-213" class="example-link" onClick="(function() { document.getElementById('example-213').setAttribute('open','open'); return true; })();">Eddystone</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">Creating new commands involving the standard compass directions.</span> (c.f. <a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>)</p></div>
<div class="example-short" id="example-short-214"><p class="example-p"><span class="example-short-start">214. <a href="rb_6.html#example-214" class="example-link" onClick="(function() { document.getElementById('example-214').setAttribute('open','open'); return true; })();">Slogar's Revenge</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">Creating an amulet of tumblers that can be used to lock and unlock things even when it is worn, overriding the usual requirement that keys be carried.</span> (c.f. <a href="rb_6.html#rb-6.3">RB §6.3. Modifying Existing Commands</a>)</p></div>
</div></section>
<section class="section" id="wi-12.18"><div>





<h3>WI §12.18. Changing reachability</h3>
<p>The question of what the player can, and cannot, reach to touch is important in interactive fiction. It contains some of the subtlest ideas in the model world, though they often go unnoticed. For instance, if a key is on a shelf which is part of a closed box, can we reach for the key? This comes down to whether the shelf, described only as "part of" the box, is on the inside or the outside: and in fact, because it cannot know which is the case, Inform allows either. So in general it is best to regard "parts" as being exterior parts, but to avoid having parts on containers that might in the course of play be closed up with the player inside.</p>
<p>We can, if we wish, change the principles of what can be touched by writing new reaching inside or reaching outside rules. Returning to the example of the conical flask:</p>

<div class="code"><p class="quoted">
A rule for reaching inside the flask: say "Your hand passes through the glass as if it were not there, chilling you to the bone."; allow access.
</p></div>
<p>(Or this could equally be called "a reaching inside rule for the flask".) More generally, we could give the usual flexible description of what the rule applies to:</p>

<div class="code"><p class="quoted">
A rule for reaching inside open containers: say "Your hands seem enigmatically too large for [the container in question]."; deny access.
</p></div>
<p>The "container in question" is the one to which the rule is being applied. Note that a reaching inside rule can "deny access" (stopping with failure), or "allow access" (stopping with success), or neither, in which case the decision is left up to any subsequent rules in the rulebook to make. If none of them decide, access is allowed.</p>
<p>If it seems possible that these rules will be employed by people other than the player, then we need to write them a little more carefully, and in particular we need to ensure that they print nothing for other people. In the first case below, anybody can reach through the glass; in the second case, only the player cannot reach into open containers.</p>

<div class="code">
<p class="quoted">
A rule for reaching inside the flask:
<br>    if the person reaching is the player, say "Your hand passes through the glass as if it were not there, chilling you to the bone.";
<br>    allow access.
</p>
<p class="quoted">
A rule for reaching inside open containers:
<br>    if the person reaching is the player:
<br>        say "Your hands seem enigmatically too large for [the container in question].";
<br>        deny access.
</p>
</div>
<p>The "person reaching" is, as its name suggests, the person trying to reach through the barrier in question.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-215"><p class="example-p"><span class="example-short-start">215. <a href="rb_10.html#example-215" class="example-link" onClick="(function() { document.getElementById('example-215').setAttribute('open','open'); return true; })();">Magneto's Revenge</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Kitty Pryde of the X-Men is able to reach through solid objects, so we might implement her with special powers that the player does not have...</span> (c.f. <a href="rb_10.html#rb-10.10">RB §10.10. Magic (Breaking the Laws of Physics)</a>)</p></div>
<div class="example-short" id="example-short-216"><p class="example-p"><span class="example-short-start">216. <a href="rb_3.html#example-216" class="example-link" onClick="(function() { document.getElementById('example-216').setAttribute('open','open'); return true; })();">Waterworld</a></span> <span class="example-difficulty">★</span>  <span class="example-description">A backdrop which the player can examine, but cannot interact with in any other way.</span> (c.f. <a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>)</p></div>
<div class="example-short" id="example-short-217"><p class="example-p"><span class="example-short-start">217. <a href="rb_3.html#example-217" class="example-link" onClick="(function() { document.getElementById('example-217').setAttribute('open','open'); return true; })();">Dinner is Served</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">A window between two locations. When the window is open, the player can reach through into the other location; when it isn't, access is barred.</span> (c.f. <a href="rb_3.html#rb-3.6">RB §3.6. Windows</a>)</p></div>
</div></section>
<section class="section" id="wi-12.19"><div>





<h3>WI §12.19. Changing visibility</h3>
<p>Ordinarily, Inform has a simple model for visibility: it is either fully light or it is fully dark, and certain actions are impossible in the dark, such as examining something.</p>
<p>We first need to remember that darkness affects what actions are even tried, as far as the player's typed commands go. If the player is in a dark room, and there is a screwdriver on the floor, the command EXAMINE SCREWDRIVER will not try any action: the screwdriver is not "in scope", which means that the parser thinks the player does not have any means of knowing it exists. (The rules for scope can be modified - see the <a href="wi_18.html#wi-chapter-18-activities">chapter on Activities</a>.) But let's suppose that the player types EXAMINE BOOK, and is holding the book in question. The book is now "in scope", so the action "examining the book" is tried.</p>
<p>Some actions require light to be present, and "examining" is one of those. So Inform consults the visibility rules to see if it can go ahead. By default, there is only one visibility rule, which says "yes" in the light and "no" in darkness. Here, though, we create another one:</p>

<div class="code"><p class="quoted">
Visibility rule when in darkness:
<br>    if examining the book:
<br>        say "You have to squint. Still...";
<br>        there is sufficient light;
<br>    there is insufficient light.
</p></div>
<p>A visibility rule must always conclude "there is sufficient light", or "there is insufficient light", or else do nothing and leave it to other rules to decide.</p>
<p>It is a possibly unexpected fact that "looking" does not require light, but instead behaves differently in darkness - it prints a pseudo-room-description such as</p>

<div class="code"><p class="quoted">
<strong>Darkness</strong>
<br>It is pitch dark, and you can't see a thing.
</p></div>
<p>instead of printing the description of the player's current room. This means that the "looking" action is unaffected by visibility rules. All the same, what "looking" does in the dark can be changed by using the two activities "printing the name of a dark room" and "printing the description of a dark room" (see the <a href="wi_18.html#wi-chapter-18-activities">Activities chapter</a> for details).</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-218"><p class="example-p"><span class="example-short-start">218. <a href="rb_6.html#example-218" class="example-link" onClick="(function() { document.getElementById('example-218').setAttribute('open','open'); return true; })();">Flashlight</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Visibility set so that looking under objects produces no result unless the player has a light source to shine there (regardless of the light level of the room).</span> (c.f. <a href="rb_6.html#rb-6.6">RB §6.6. Looking Under and Hiding</a>)</p></div>
</div></section>
<section class="section" id="wi-12.20"><div>





<h3>WI §12.20. Stored actions</h3>
<p>As we have seen, to describe an action fully takes a complicated little bundle of information - we need to know what is to be done, who will do it, and what it will be done to. There are times when we would like to remember an action and look back on it later (perhaps many turns later, after many other actions have taken effect) - but this is not easy to do with only the techniques we have seen so far. There are quite a few cases to get right, and it would be easy to not store quite enough of the details.</p>
<p>Fortunately, Inform provides a kind of value called "action" which can do all of this automatically. (In older versions of Inform this was called "stored action", but the word "stored" is now unnecessary, and makes no difference.) As with most other kinds of value, actions can be held in variables, "let" values, properties or table columns. For example:</p>

<div class="code"><p class="quoted">
The best idea yet is an action that varies.
</p></div>
<p>creates a variable called "the best idea yet" which holds an action.</p>
<p>This will normally be created holding the default value - the player waiting. We really only have two ways to make more interesting actions. One is by typing them out explicitly, like so:</p>

<div class="code"><p class="quoted">
now the best idea yet is pushing the button;
</p></div>
<p>Here "pushing the button" is a constant of the kind "action", so it goes into happily into "best idea yet" in the same way that a number like 3 could go into a number that varies. The action must be specific in every respect, so "taking something" or "doing something" will not work - "taking something" is really a general description of many possible actions, not an action in its own right.</p>
<p>The other way to produce a useful action is:</p>

<div class="definition" id="defn149">
<p class="defnprototype"><strong>current action ... action</strong></p>



<p>This phrase produces the action currently being processed as a value - it literally stores the action, and remembers, if necessary, the exact wording of the player's command at the time it was stored - so that even actions arising from commands like LOOK UP X100 IN THE CODE BOOK can be stored faithfully. Examples:</p>

<blockquote class="code"><p class="quoted">
let the present whim be the current action;
<br>say "How you would like to be [current action].";
</p></blockquote>

<p>This only makes sense if an action is currently going on, so it shouldn't be used in "every turn" rules, for instance.</p>


</div>

<p>So much for making actions: now for making use of them. The first obvious idea is to store up an action for several turns and then have it take effect later. That's easily done: just as we can "try" any action written out explicitly, so we can also try a stored one. The phrase to do this has exactly the same wording either way, since it does the same thing either way.</p>
<p>But actions can still be useful even if we never intend to try them. For one thing, we can say them, and this produces a fairly natural description of what the action is:</p>

<div class="code"><p class="quoted">
Before doing something in the presence of the bearded psychiatrist: say "'Zo, the subject vishes to engage in [the current action]. Zis is very interesting.'"
</p></div>
<p>will produce text such as:</p>

<div class="code"><p class="quoted">
"So, the subject vishes to engage in rubbing the fireman's pole. Zis is very interesting."
</p></div>
<p>One of Inform's most convenient features is its ability to test if the action being processed matches vague or complicated descriptions of whole classes of actions. For example,</p>

<div class="code"><p class="quoted">
if the best idea yet is taking something, ...
</p></div>
<p>works even though "taking something" is not a single action; it's a description which could apply to many different actions (taking a box, taking a ball, and so on). What Inform tests is whether the "best idea yet" value, a single action, fits this description or not. We can be even vaguer:</p>

<div class="code"><p class="quoted">
if the best idea yet is doing something to the lever, ...
</p></div>
<p>Just occasionally, this can lead to ambiguities. For instance,</p>

<div class="code"><p class="quoted">
if the current action is wearing something, ...
</p></div>
<p>fails because Inform thinks "wearing" is meant in the sense of the current action having clothes on, so it produces a problem message. To avoid this, simply write:</p>

<div class="code"><p class="quoted">
if the current action is trying wearing something, ...
</p></div>
<p>which can't be misunderstood. Something else to be aware of is that the terms "actor", "noun" and so on will refer to that action: for instance, in</p>

<div class="code"><p class="quoted">
if the best idea yet is taking the noun, ...
</p></div>
<p>"noun" here refers to the noun in "best idea yet", not to its meaning outside of this phrase (if indeed it has such a meaning).</p>
<p>When dealing with actions, we sometimes want to know what they are dealing with. We can extract this information using the following phrases:</p>

<div class="definition" id="defn150">
<p class="defnprototype"><strong>action name part of </strong>(action)<strong> ... action name</strong></p>



<p>This phrase produces the action name part of an action. Example: suppose the current actor is Algy, who is throwing the brick at Biggles. Then</p>

<blockquote class="code"><p class="quoted">
action name part of the current action = throwing it at action
</p></blockquote>



</div>


<div class="definition" id="defn151">
<p class="defnprototype"><strong>noun part of </strong>(action)<strong> ... object</strong></p>



<p>This phrase produces the (first) noun of an action. Example: suppose the current actor is Algy, who is throwing the brick at Biggles. Then</p>

<blockquote class="code"><p class="quoted">
noun part of the current action = the brick
</p></blockquote>

<p>If the noun is something other than an object, this produces just "nothing", the non-object.</p>


</div>


<div class="definition" id="defn152">
<p class="defnprototype"><strong>second noun part of </strong>(action)<strong> ... object</strong></p>



<p>This phrase produces the second noun of an action. Example: suppose the current actor is Algy, who is throwing the brick at Biggles. Then</p>

<blockquote class="code"><p class="quoted">
second noun part of the current action = Biggles
</p></blockquote>

<p>If the second noun is something other than an object (for instance for the command SET DIAL TO 3417 it would be the number 3417), this produces just "nothing", the non-object.</p>


</div>


<div class="definition" id="defn153">
<p class="defnprototype"><strong>actor part of </strong>(action)<strong> ... object</strong></p>



<p>This phrase produces the person who would be carrying out the action if it were being tried. Example: suppose the current actor is Algy, who is throwing the brick at Biggles. Then</p>

<blockquote class="code"><p class="quoted">
actor part of the current action = Algy
</p></blockquote>



</div>

<p>The following phrase is a convenient shorthand form:</p>

<div class="definition" id="defn154">
<p class="defnprototype"><strong>if </strong>(action)<strong> involves </strong>(object)<strong>:</strong></p>



<p>This condition is true if the object appears as any of the actor, the noun or the second noun in the action. Example:</p>

<blockquote class="code"><p class="quoted">
if the current action involves Algy
</p></blockquote>

<p>would be true for "give revolver to Algy", "Algy trying flying the Sopwith Camel", "examine Algy" and so on, but false for "ask Raymond about secret airfield".</p>


</div>


<div class="definition" id="defn155">
<p class="defnprototype"><strong>action of </strong>(an action)<strong> ... action</strong></p>



<p>This phrase is now seldom needed. It produces a literally typed action as a value. Example:</p>

<blockquote class="code"><p class="quoted">
now the best idea yet is the action of pushing the button;
</p></blockquote>

<p>Nowadays in most contexts we can just type "pushing the button" as a value, and that will work fine, so this phrase is retained only to keep old code working.</p>


</div>




</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-219"><p class="example-p"><span class="example-short-start">219. <a href="rb_6.html#example-219" class="example-link" onClick="(function() { document.getElementById('example-219').setAttribute('open','open'); return true; })();">Cactus Will Outlive Us All</a></span> <span class="example-difficulty">★</span>  <span class="example-description">For every character besides the player, there is an action that will cause that character to wither right up and die.</span> (c.f. <a href="rb_6.html#rb-6.14">RB §6.14. Remembering, Converting and Combining Actions</a>)</p></div>
<div class="example-short" id="example-short-220"><p class="example-p"><span class="example-short-start">220. <a href="rb_11.html#example-220" class="example-link" onClick="(function() { document.getElementById('example-220').setAttribute('open','open'); return true; })();">Bosch</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Creating a list of actions that will earn the player points, and using this both to change the score and to give FULL SCORE reports.</span> (c.f. <a href="rb_11.html#rb-11.4">RB §11.4. Scoring</a>)</p></div>
<div class="example-short" id="example-short-221"><p class="example-p"><span class="example-short-start">221. <a href="rb_9.html#example-221" class="example-link" onClick="(function() { document.getElementById('example-221').setAttribute('open','open'); return true; })();">Actor's Studio</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">A video camera that records actions performed in its presence, and plays them back with time-stamps.</span> (c.f. <a href="rb_9.html#rb-9.12">RB §9.12. Cameras and Recording Devices</a>)</p></div>
<div class="example-short" id="example-short-222"><p class="example-p"><span class="example-short-start">222. <a href="rb_6.html#example-222" class="example-link" onClick="(function() { document.getElementById('example-222').setAttribute('open','open'); return true; })();">Anteaters</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">The player carries a gizmo that is able to record actions performed by the player, then force him to repeat them when the gizmo is dropped. This includes storing actions that apply to topics, as in "look up anteater colonies in the guide".</span> (c.f. <a href="rb_6.html#rb-6.14">RB §6.14. Remembering, Converting and Combining Actions</a>)</p></div>
</div></section>
<section class="section" id="wi-12.21"><div>





<h3>WI §12.21. Guidelines on how to write rules about actions</h3>
<p>Looking at the action-processing diagram, there seem to be a bewildering number of ways to intervene. For instance, suppose it must be fatal to pick up a land mine. All six of the following rules would do the business:</p>

<div class="code"><p class="quoted">
Before taking the land mine: end the story saying "Bang!"
<br>Instead of taking the land mine: end the story saying "Bang!"
<br>Check taking the land mine: end the story saying "Bang!"
<br>Carry out taking the land mine: end the story saying "Bang!"
<br>After taking the land mine: end the story saying "Bang!"
<br>Report taking the land mine: end the story saying "Bang!"
</p></div>
<p>So which should we use? Of course, we could decide that it really doesn't matter: what works, works. But it is a good idea to play along with the conventions used by Inform, if only because that will make our rules interact better with each other and with rules by other people which we may someday want to borrow. So this chapter ends by offering a few guidelines. Let us suppose that we have some effect which we want to achieve.</p>
<p><strong>1. Are we just trying to correct the player's typing?</strong></p>
<p>For instance, responding to the command "STEAL GOLDEN EAGLE" with a reply like "To steal something, just try to TAKE it." It is bad style to make a special action for this, which does nothing except to print up this text: better is to use the "Understand ... as a mistake" technique, which will come up in the <a href="wi_17.html#wi-chapter-17-understanding">chapter on Understanding</a>.</p>
<p><strong>2. Does the effect apply only to a particular situation, or is it a general phenomenon?</strong></p>
<p>In other words, does the effect apply only to particular people, things or places, or is it a generic rule of play? In the case of the land mine, this is an easy question to answer: it is a unique situation. On the other hand, stopping the player from carrying unduly heavy weights would be a generic rule of play.</p>
<p>Rules like the one saying that photography is only possible if one holds the camera are, by convention, also counted as generic rules of play: they are not really special rules about the camera, but apply to all possible acts of photography anywhere, so are actually generic.</p>
<p>Sometimes we can choose our own answer to this question, and go either way. Suppose we want a certain place to be muddy-floored, affecting things that happen there. One way would be to write exceptional rules applying to that one room. But we could alternatively create a general concept of muddiness ("A room can be clean or muddy. A room is usually clean.") and then regard the new behaviour as being a set of generic rules applying in muddy rooms. We could then, of course, create a second muddy room with much greater ease, or transplant these rules to other works and have muddy rooms in those too.</p>
<p><strong>3. Particular situations: use Instead or After (or sometimes Before).</strong></p>
<p>The next question is: does the effect kick in after the hoped-for action has taken place, or not? In the case of the land mine, to answer that means deciding whether we think the detonator is sensitive to the slightest touch - in which case the explosion would happen at the first touch, and should be in an "Instead" rule - or whether one must actually pick up and disturb the mine - in which case an "After" should be used.</p>
<p>That leaves us a choice of two rulebooks if the effect takes place when the merest impulse towards the action is felt: "Before" and "Instead". Which to use? In cases of doubt, choose "Instead". But if the effect is intended to absolutely suppress all such impulses - for instance, in a silent examination room there must be no talking - then "Before" might be more appropriate. We could imagine that someone about to say something first has a mental impulse to speak, then opens his mouth so that it becomes visible to others that some talking is about to go on, and finally utters words. Here are three possible responses:</p>

<div class="code"><p class="quoted">
"You cannot contemplate breaking this smothering silence." (<em>Before</em>)
<br>"The invigilator stares you down through her horn-rimmed glasses." (<em>Instead</em>)
<br>"Everyone turns, appalled, as the silence is broken like the surface of a swimming pool by a falling elephant." (<em>After</em>)
</p></div>
<p><strong>4. Generic situations: work with action rules (or sometimes Before).</strong></p>
<p>(a) If the effect takes place only when an action is definitely being tried, then we should use one of the action's three rulebooks: check, carry out or report. Check rules should do nothing, and should say nothing either unless they block the action (in which case, they should say why).</p>
<p>Carry out rules must not block the action - it is too late for that - and should not say anything - that hasn't happened yet. (There are a few exceptions: if the action is to look at something, then carrying it out is in a sense the same thing as reporting it. But in all cases of doubt, a carry out rule should say nothing.) Adding a carry out rule to an existing action can make it do something extra.</p>
<p>Report rules must neither block the action nor do anything. Working with new report rules is a way to make more natural-seeming, or more informative, messages appear. For instance, an effect where we want to be able to see through a door when it is first opened ("You open the panelled door, through which is the Board Room.") would be a case for a report rule.</p>
<p>In all cases, it is good style to write check, carry out or report rules in such a way that they could be used in other works too, or in situations that could conceivably have happened in this one (even if in fact it never does). We may one day want to put our new rules into an extension to be used by other people or in other projects, after all.</p>
<p>In this chapter, we have only seen the addition of new rules. We could add a new "check taking" rule, for instance, with the techniques seen so far. But what if the effect we want is not a matter of adding a rule but taking away, or restricting the applicability, of an existing one? In that case, we will need to say that the rule "does nothing" under certain circumstances (see the <a href="wi_19.html#wi-chapter-19-rulebooks">Rulebooks chapter</a>). The check, carry out and report rules for all of the built-in actions are named, and they appear in the Actions index.</p>
<p>(b) If the effect takes place to divert or supplement an action, before that action actually takes place, then this should be done with a "Before" rule. This is the biggest practical use of "Before" rules: to try other actions, either instead or as well as the one just getting under way.</p>
<p>For example, if we want an automatic mechanism to try opening a container before taking something inside it, that would be a classic case for "Before". Indeed, that is the only way it could work - "Before" rules have a chance to get in before the touchability conditions are tested.</p>
<p>If we wanted a special "stealing" action for the act of taking another person's possessions, we might want to divert any taking action for such items into our new "stealing" action - that too would be a "Before". This would ensure that any "Instead" rules to do with taking do not apply.</p>
<p><strong>5. Changing the behaviour of out-of-world actions.</strong></p>
<p>Remember that "Instead", "Before" and "After" do not apply: so use "check" rules to forbid certain out-of-world activities, or specify that their rules do nothing (see the <a href="wi_19.html#wi-chapter-19-rulebooks">Rulebooks chapter</a>).</p>
<p><strong>Finally...</strong></p>
<p>These are only guidelines. The system is designed to be flexible in order to give the author the widest possible range of options, and nobody should feel ashamed of making use of them.</p>


</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/WI_12_1.html">WI Chapter 12 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="wi_11.html#wi-chapter-11-phrases">11. Phrases</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="wi_13.html#wi-chapter-13-relations">13. Relations</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

