<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Recipe Book 3. Place</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Recipe Book</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_2.html#rb-chapter-2-adaptive-prose">2. Adaptive Prose</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_4.html#rb-chapter-4-time-and-plot">4. Time and Plot</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>3. Place</h2>
<div class="toc-section">3.1 <a href="rb_3.html#rb-3.1">Room Descriptions</a></div>
<div class="toc-section">3.2 <a href="rb_3.html#rb-3.2">Map</a></div>
<div class="toc-section">3.3 <a href="rb_3.html#rb-3.3">Position Within Rooms</a></div>
<div class="toc-section">3.4 <a href="rb_3.html#rb-3.4">Continuous Spaces and The Outdoors</a></div>
<div class="toc-section">3.5 <a href="rb_3.html#rb-3.5">Doors, Staircases, and Bridges</a></div>
<div class="toc-section">3.6 <a href="rb_3.html#rb-3.6">Windows</a></div>
<div class="toc-section">3.7 <a href="rb_3.html#rb-3.7">Lighting</a></div>
<div class="toc-section">3.8 <a href="rb_3.html#rb-3.8">Sounds</a></div>
<div class="toc-section">3.9 <a href="rb_3.html#rb-3.9">Passers-By, Weather and Astronomical Events</a></div>
</header>
<main>
<section class="chapter" id="rb-chapter-3-place">
<section class="section" id="rb-3.1"><div>



<h3>RB §3.1. Room Descriptions</h3>
<p>The printing of a room description is a more delicate business than it might initially seem to be: Inform has to consider all the objects that the player might have brought into the room or dropped there, and all the objects on visible supporters, and decide how to group and list them.</p>
<p>All of this behavior is handled by the looking command, so we find the relevant rules in the carry out looking rulebook. To go through the elements step by step:</p>
<p>Looking begins by printing the name and description of the room we're in. We can introduce variations into room names and descriptions by changing their printed name and description properties, as in</p>

<div class="code"><p class="quoted">
now the printed name of the Church is "Lightning-Struck Ruin";
<br>now the description of the Church is "The beams overhead have been burnt away and the pews are charred. Only the stone walls remain.";
</p></div>
<p>If we need more drastic effects, we can turn off or change either of these features by altering the rules in the carry out looking rulebook. For instance, to remove the name of the location entirely from room descriptions, we would write</p>

<div class="code"><p class="quoted">
The room description heading rule is not listed in the carry out looking rules.
</p></div>
<p>(A word of warning: there is one other context in which the story prints a room name — when restoring a save or undoing a move. To omit the room title here too, add</p>

<div class="code"><p class="quoted">
Rule for printing the name of a room: do nothing.)
</p></div>
<p><a href="rb_3.html#example-334" class="example-link" onClick="(function() { document.getElementById('example-334').setAttribute('open','open'); return true; })();">Ant-Sensitive Sunglasses</a><span class="example-difficulty"> ★</span> demonstrates how to use activities to make more flexible room description text.</p>
<p>Next, the story determines what items are visible to the player and need to be described. These never include the player himself, or scenery, but other things in the environment will be made "marked for listing". This is also the stage at which Inform chooses the order in which items will be listed.</p>
<p>We are allowed to meddle by changing the priorities of objects, in case we want some things to be described to the player first or last in the room description; <a href="rb_3.html#example-358" class="example-link" onClick="(function() { document.getElementById('example-358').setAttribute('open','open'); return true; })();">Priority Lab</a><span class="example-difficulty"> ★</span> goes into detail about how. We can also force things to be left out entirely: <a href="rb_3.html#example-359" class="example-link" onClick="(function() { document.getElementById('example-359').setAttribute('open','open'); return true; })();">Low Light</a><span class="example-difficulty"> ★</span> handles the case of an object that can only be seen when an extra lamp is switched on, even though the room is not otherwise considered dark. <a href="rb_3.html#example-362" class="example-link" onClick="(function() { document.getElementById('example-362').setAttribute('open','open'); return true; })();">Copper River</a><span class="example-difficulty"> ★★★</span> implements the idea of "interesting" and "dull" objects: the story determines which items are currently important to the puzzles or narrative and mentions those in the room description, while suppressing everything else.</p>
<p>Then Inform carries out the writing a paragraph about... activity with anything that provides one; anything it prints the name of, it tags "mentioned". Thus</p>

<div class="code"><p class="quoted">
Rule for writing a paragraph about Mr Wickham:
<br>    say "Mr Wickham looks speculatively at [list of women in the location]."
</p></div>
<p>will count Wickham and everyone he looks at as all having been mentioned, and will not refer to them again through the rest of the room description. More complicated uses of writing a paragraph abound. A developed system for handling supporters that don't list contents appears in <a href="rb_3.html#example-357" class="example-link" onClick="(function() { document.getElementById('example-357').setAttribute('open','open'); return true; })();">The Eye of the Idol</a><span class="example-difficulty"> ★★</span>.</p>
<p>Inform then prints the initial appearances of objects that are marked for listing but not already mentioned; and then it performs the listing nondescript items activity, collating the remaining objects into a paragraph like</p>

<div class="code"><p class="quoted">
You can see a dog, a hen, ...
</p></div>
<p>We can pre-empt items from appearing in this paragraph or change their listing by intervening with a Before listing nondescript items... rule, as in</p>

<div class="code"><p class="quoted">
Before listing nondescript items when the player needs the watch:
<br>    if the watch is marked for listing:
<br>        say "The watch catches your eye.";
<br>        now the watch is not marked for listing.
</p></div>
<p>If we wanted the watch always to be listed this way, it would be better to give it an initial appearance, but for conditional cases, the listing nondescript items activity is a good place to intervene. For instance, <a href="rb_3.html#example-355" class="example-link" onClick="(function() { document.getElementById('example-355').setAttribute('open','open'); return true; })();">Rip</a><span class="example-difficulty"> ★</span> uses this activity to incorporate changeable or portable items into the main description text for a room when (and only when) that is appropriate.</p>
<p>The listing nondescript items activity also allows us to replace the "You can see..." tag with something else more fitting, if for instance we are in a dimly lit room.</p>
<p>When the story compiles the list of nondescript items, it adds tags such as "(open)" or "(empty)" or "(on which is a fish tank)" to the names of containers and supporters. We can suppress or change the "(empty)" tag with the printing room description details of activity, as in</p>

<div class="code"><p class="quoted">
Rule for printing room description details: stop.
</p></div>
<p>And we can suppress the "(open)" and "(on which is...)" sorts of tags with the "omit the contents in listing" phrase, as in</p>

<div class="code"><p class="quoted">
Rule for printing the name of the bottle while not inserting or removing:
<br>    if the bottle contains sand, say "bottle of sand";
<br>    otherwise say "empty bottle";
<br>    omit contents in listing.
</p></div>
<p>Finally, the looking command lists visible non-scenery items that sit on scenery supporters, as in</p>

<div class="code"><p class="quoted">
On the table is a folded newspaper.
</p></div>
<p>These paragraphs can be manipulated with the printing the locale description activity and the printing a locale paragraph about activity.</p>
<p>Another common thing we may want to do is change the description of a room depending on whether we've been there before (as in <a href="rb_3.html#example-4" class="example-link" onClick="(function() { document.getElementById('example-4').setAttribute('open','open'); return true; })();">Slightly Wrong</a><span class="example-difficulty"> ★★</span>) or on how often we've visited (as in <a href="rb_3.html#example-152" class="example-link" onClick="(function() { document.getElementById('example-152').setAttribute('open','open'); return true; })();">Infiltration</a><span class="example-difficulty"> ★</span>). <a href="rb_3.html#example-147" class="example-link" onClick="(function() { document.getElementById('example-147').setAttribute('open','open'); return true; })();">Night Sky</a><span class="example-difficulty"> ★</span>, meanwhile, changes the description of a room when we've examined another object, so that the player's awareness of his environment is affected by other things the character knows.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_6.html#rb-6.4" class="crossreference_link">Looking</a> for ways to change the default length of room descriptions</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-147"><summary><span class="example-summary">147. Night Sky</span> <span class="example-difficulty">★</span></summary><div>
<p>Sometimes a nice effect is to change the way things are described depending on the information the player has gained in the course of play. We could for instance write this:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Night%20Sky%22%5Cn%5CnThe%20Planetarium%20is%20a%20room.%20%22%5Bif%20we%20have%20examined%20the%20sinister%20message%5DA%20dark%20room%20where%20it%20seems%20something%20is%20about%20to%20jump%20out%20at%20you!%5Botherwise%5DA%20tranquil%20dark%20room%20with%20a%20ceilingful%20of%20stars.%5Bend%20if%5D%22%5Cn%5CnThe%20sinister%20message%20is%20a%20thing%20in%20the%20Planetarium.%20%22A%20message%20is%20taped%20to%20the%20wall.%22%20The%20description%20is%20%22'BEWARE.'%22%5Cn%5CnTest%20me%20with%20%22look%20/%20x%20message%20/%20look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Night Sky"
</p>
<p class="quoted">
The Planetarium is a room. "[if we have examined the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]"
</p>
<p class="quoted">
The sinister message is a thing in the Planetarium. "A message is taped to the wall." The description is "'BEWARE.'"
</p>
<p class="quoted">
Test me with "look / x message / look".
</p>
</div>
<p>On the other hand, beware that this would not work as desired:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Night%20Sky%22%5Cn%5CnThe%20Planetarium%20is%20a%20room.%20%22%5Bif%20we%20have%20listened%20to%20the%20sinister%20message%5DA%20dark%20room%20where%20it%20seems%20something%20is%20about%20to%20jump%20out%20at%20you!%5Botherwise%5DA%20tranquil%20dark%20room%20with%20a%20ceilingful%20of%20stars.%5Bend%20if%5D%22%5Cn%5CnThe%20sinister%20message%20is%20a%20thing%20in%20the%20Planetarium.%20%22A%20message%20plays%20very%20softly,%20so%20that%20you%20would%20have%20to%20listen%20to%20hear%20it.%22%20Instead%20of%20doing%20anything%20other%20than%20listening%20to%20the%20message:%20say%20%22It's%20only%20a%20sound,%20after%20all.%22.%20Instead%20of%20listening%20to%20the%20sinister%20message:%20say%20%22A%20voice%20whispers,%20'BEWARE'.%22%5Cn%5CnTest%20me%20with%20%22listen%20to%20message%20/%20look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Night Sky"
</p>
<p class="quoted">
The Planetarium is a room. "[if we have listened to the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]"
</p>
<p class="quoted">
The sinister message is a thing in the Planetarium. "A message plays very softly, so that you would have to listen to hear it." Instead of doing anything other than listening to the message: say "It's only a sound, after all.". Instead of listening to the sinister message: say "A voice whispers, 'BEWARE'."
</p>
<p class="quoted">
Test me with "listen to message / look".
</p>
</div>
<p>The reason is that our Instead rule has pre-empted normal listening, so Inform considers that we have never successfully heard the message. The moral here is that "if we have..." is useful for tracking events that otherwise proceeded completely normally (picking up ordinary objects, examining things); if we have used instead to make some change, we will have to use a different approach to record that the event did occur as scheduled.</p>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.12">WI §9.12. Actions as conditions</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details><details class="full-example" id="example-152"><summary><span class="example-summary">152. Infiltration</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we have a location that makes the player uncomfortable, and we want its description to change slightly each time he goes there, to reflect his increasing unease. We also want the door to that room to show whether he is going there for the first time, or whether this is a repeat visit.</p>
<p>We start with an ordinary room:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Infiltration%22%5Cn%5CnThe%20Wasteland%20is%20a%20room.%20%22In%20its%20more%20distant%20reaches,%20the%20Wasteland%20has%20a%20kind%20of%20austere%20beauty,%20but%20here%20beside%20the%20Secure%20Zone%20it%20is%20the%20worst%20of%20all%20possible%20worlds.%20Barrels%20of%20toxins%20are%20stacked%20the%20regulation%20hundred%20and%20fifty%20feet%20out;%20more%20traditional%20garbage%20has%20simply%20been%20flung%20over%20the%20wall,%20and%20this%20category%20includes%20one%20or%20two%20corpses%20roughly%20and%20inadequately%20disguised%20by%20black%20plastic%20bags.%20The%20wall%20itself%20has%20become%20a%20canvas%20for%20outcasts%20and%20exiles,%20and%20is%20covered%20with%20obscene%20paintings,%20lewd%20remarks%20about%20the%20inhabitants%20of%20the%20Secure%20Zone,%20and%20a%20few%20maudlin%20epitaphs.%22%5Cn%5Cn%5BNow%20the%20door,%20which%20will%20change%20from%20saying%20%22leads%20inside...%22%20to%20%22leads%20back%20inside...%22%20when%20this%20becomes%20appropriate:%5D%5Cn%5CnThe%20portal%20is%20a%20door.%20It%20is%20inside%20from%20the%20Wasteland%20and%20outside%20from%20the%20Secure%20Zone.%20%22%5Bif%20the%20player%20is%20in%20the%20Wasteland%5DTo%20the%20west,%20a%5Botherwise%5DA%5Bend%20if%5D%20portal%20in%20the%20cinder-block%20and%20barbed%20wire%20wall%20leads%5Bif%20the%20player%20is%20in%20the%20Wasteland%20and%20the%20Zone%20is%20visited%5D%20back%5Bend%20if%5D%20%5Bif%20the%20player%20is%20in%20the%20Wasteland%5Dinside%5Botherwise%5Doutside%5Bend%20if%5D.%22%5Cn%5Cn%5BHere%20we%20haven't%20used%20any%20conditions%20that%20we%20didn't%20know%20about%20in%20previous%20sections:%20the%20portal%20line%20only%20reflects%20whether%20the%20Zone%20has%20been%20visited%20never%20or%20visited%20once.%20But%20the%20Secure%20Zone%20itself%20makes%20use%20of%20the%20number%20of%20times%20visited:%5D%5Cn%5CnThe%20Secure%20Zone%20has%20the%20description%20%22%5Bif%20the%20player%20is%20in%20the%20Zone%20for%20the%20second%20time%5DRe-entering%20the%20Zone%20has%20not%20made%20you%20any%20more%20comfortable%20inside.%20%5Bend%20if%5DDespite%20your%20carefully-chosen%20outfit%20and%20the%20walk%20you%20have%20been%20practicing,%20you%20are%20sure%20those%20inside%20can%20tell%20you%20don't%20belong.%20Not%20that%20very%20many%20people%20are%20visible%20here%5Bif%20the%20player%20is%20in%20the%20Zone%20for%20more%20than%20the%20second%20time%5D%20--%20the%20place%20seems%20more%20desolate%20than%20ever%5Bend%20if%5D.%22%5Cn%5CnInstead%20of%20going%20west%20in%20the%20Wasteland,%20try%20going%20inside.%20Instead%20of%20going%20east%20in%20the%20Secure%20Zone,%20try%20going%20outside.%5Cn%5Cn%5BAnd%20finally,%20to%20be%20sure%20that%20the%20player%20does%20see%20our%20fancy%20changing%20descriptions:%5D%5Cn%5CnUse%20full-length%20room%20descriptions.%5Cn%5CnTest%20me%20with%20%22look%20/%20open%20portal%20/%20w%20/%20look%20/%20e%20/%20look%20/%20w%20/%20e%20/%20w%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Infiltration"
</p>
<p class="quoted">
The Wasteland is a room. "In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs."
</p>
</div>
<p>Now the door, which will change from saying "leads inside..." to "leads back inside..." when this becomes appropriate:</p>

<div class="code"><p class="quoted">
The portal is a door. It is inside from the Wasteland and outside from the Secure Zone. "[if the player is in the Wasteland]To the west, a[otherwise]A[end if] portal in the cinder-block and barbed wire wall leads[if the player is in the Wasteland and the Zone is visited] back[end if] [if the player is in the Wasteland]inside[otherwise]outside[end if]."
</p></div>
<p>Here we haven't used any conditions that we didn't know about in previous sections: the portal line only reflects whether the Zone has been visited never or visited once. But the Secure Zone itself makes use of the number of times visited:</p>

<div class="code">
<p class="quoted">
The Secure Zone has the description "[if the player is in the Zone for the second time]Re-entering the Zone has not made you any more comfortable inside. [end if]Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don't belong. Not that very many people are visible here[if the player is in the Zone for more than the second time] -- the place seems more desolate than ever[end if]."
</p>
<p class="quoted">
Instead of going west in the Wasteland, try going inside. Instead of going east in the Secure Zone, try going outside.
</p>
</div>
<p>And finally, to be sure that the player does see our fancy changing descriptions:</p>

<div class="code">
<p class="quoted">
Use full-length room descriptions.
</p>
<p class="quoted">
Test me with "look / open portal / w / look / e / look / w / e / w".
</p>
</div>
<p>Notice that the description of the Secure Zone changes from visit to visit, but that looking repeatedly during a single visit changes nothing.</p>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.14">WI §9.14. How many times?</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details><details class="full-example" id="example-334"><summary><span class="example-summary">334. Ant-Sensitive Sunglasses</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we want to create an object -- or maybe even a series of objects -- that warp the player's perception of every room description and object around him.</p>
<p>We've already seen some ways to create variations in text. For instance, we could make a room description with if substitutions in it, like so:</p>

<div class="code"><p class="quoted">
The Kitchen is a room. "[if the player is wearing the sunglasses]Are ants coming out of the sink? No, probably no.[otherwise]A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of.[end if]"
</p></div>
<p>That works fine if we have one or two variations we want to add; it's not so good if we're going to have several items that work like the sunglasses, or if we want the sunglasses to override the description of every room in the house.</p>
<p>A slightly more flexible method is to use a substitution that calls out to a say phrase, like this:</p>

<div class="code">
<p class="quoted">
The Kitchen is a room. "[kitchen-description]"
</p>
<p class="quoted">
To say kitchen-description:
<br>    if the player is wearing the sunglasses:
<br>        say "Are ants coming out of the sink? No, probably no.";
<br>    otherwise:
<br>        say "A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of."
</p>
</div>
<p>But again this doesn't handle the case of overriding multiple rooms at once very well.</p>
<p>When we reach a point where we need a given piece of text to be very flexible depending on the world model, it's time to use an activity.</p>
<p>Activities offer several advantages. One, we can create an activity like this:</p>

<div class="code"><p class="quoted">
Printing the room-description of something is an activity.
</p></div>
<p>and then write a rule that applies to multiple rooms at once, like:</p>

<div class="code"><p class="quoted">
Rule for printing the room-description of a room when the player wears the sunglasses:
<br>    say "The walls look like they're covered with ants. Just a coincidence, I'm sure."
</p></div>
<p>Inform's usual rule-ranking also means that more-specific rules will override less-specific ones, so we could add</p>

<div class="code"><p class="quoted">
    Rule for printing the room-description of the Kitchen when the player wears the sunglasses:
<br>    say "Are ants coming out of the sink? No, probably not."
</p></div>
<p>and have that rule override the behavior of the activity just in the kitchen. Meanwhile, our base room descriptions remain straightforward and uncluttered by if-statements.</p>
<p>Several other examples will show how to hook activities into existing actions: Crusoe goes into detail about how how to make the descriptions of things more variable, and Aftershock demonstrates activities for describing the behavior of switchable devices.</p>
<p>Here, we preview all of those methods, just to get a sense of how they work and why they might be useful in controlling a game. Subsequent chapters go into more detail about the syntax of creating activities and the list of activities that are already defined by Inform.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Ant-Sensitive%20Sunglasses%22%5Cn%5CnPart%201%20-%20Procedure%5Cn%5Cn%5BTo%20add%20a%20new%20activity%20to%20an%20existing%20Inform%20rule,%20we%20need%20to%20do%20three%20things:%5D%5Cn%5Cn%5B1)%20Define%20our%20new%20activity.%5D%5Cn%5B2)%20Give%20a%20basic%20rule%20that%20says%20what%20is%20supposed%20to%20happen%20when%20that%20activity%20occurs,%20as%20in%20%22Rule%20for...%22%5D%5Cn%5B3)%20Replace%20the%20existing%20rule%20in%20Inform's%20rulebooks%20with%20a%20new%20one%20that%20calls%20on%20our%20activity.%5D%5Cn%5Cn%5BHere%20we%20do%20this%20with%20examining:%5D%5Cn%5CnSection%201%20-%20Item%20Description%5Cn%5CnPrinting%20the%20description%20of%20something%20is%20an%20activity.%5Cn%5Cn%5BNow,%20by%20default,%20we%20want%20to%20print%20the%20description%20property;%20we%20just%20want%20the%20option%20to%20write%20some%20extra%20rules%20overriding%20that%20property.%20So%20we%20tell%20Inform%20that%20our%20most%20basic%20rule%20for%20printing%20the%20description%20of%20something%20is%20just%20to%20give%20that%20description%20text:%5D%5Cn%5CnRule%20for%20printing%20the%20description%20of%20something%20(called%20item):%5Cn%5Ctif%20the%20description%20of%20the%20item%20is%20not%20%22%22:%5Cn%5Ct%5Ctsay%20%22%5Bdescription%20of%20item%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22You%20see%20nothing%20special%20about%20%5Bthe%20item%5D.%22.%5Cn%5Cn%5BNext,%20we%20need%20the%20standard%20examining%20rule%20to%20look%20at%20our%20printing-the-description%20activity:%5D%5Cn%5CnThe%20activity-based%20examining%20rule%20is%20listed%20instead%20of%20the%20standard%20examining%20rule%20in%20the%20carry%20out%20examining%20rules.%5Cn%5CnThis%20is%20the%20activity-based%20examining%20rule:%5Cn%5Ctcarry%20out%20the%20printing%20the%20description%20activity%20with%20the%20noun;%5Cn%5Ctrule%20succeeds.%5Cn%5Cn%5BNow%20we%20do%20the%20same%20thing%20to%20room%20descriptions.%5D%5Cn%5CnSection%202%20-%20Room%20Description%5Cn%5CnPrinting%20the%20room-description%20of%20something%20is%20an%20activity.%5Cn%5CnRule%20for%20printing%20the%20room-description%20of%20a%20room%20(called%20item):%5Cn%5Ctif%20the%20description%20of%20the%20item%20is%20not%20%22%22:%5Cn%5Ct%5Ctsay%20%22%5Bdescription%20of%20item%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctdo%20nothing%20instead.%5Cn%5CnThe%20activity-based%20room%20description%20body%20text%20rule%20is%20listed%20instead%20of%20the%20room%20description%20body%20text%20rule%20in%20the%20carry%20out%20looking%20rules.%5Cn%5Cn%5BOur%20replacement%20rule%20this%20time%20around%20is%20a%20little%20bit%20trickier%20just%20because%20the%20rule%20that%20we're%20replacing%20is%20a%20complicated%20one:%20describing%20a%20room%20already%20checks%20to%20see%20whether%20there's%20light%20to%20see%20by,%20whether%20the%20player%20has%20turned%20off%20room%20descriptions%20when%20he%20enters%20a%20room%20for%20the%20second%20time,%20and%20whether%20the%20player%20character%20is%20(say)%20inside%20a%20closed%20box%20he%20can't%20see%20out%20of.%5D%5Cn%5Cn%5BBut%20all%20of%20those%20details%20are%20re-copied%20from%20the%20standard%20rules,%20and%20the%20important%20thing%20is%20that,%20at%20the%20end,%20we%20again%20carry%20out%20our%20activity.%5D%5Cn%5CnThis%20is%20the%20activity-based%20room%20description%20body%20text%20rule:%5Cn%5Ctif%20the%20visibility%20level%20count%20is%200:%5Cn%5Ct%5Ctif%20set%20to%20abbreviated%20room%20descriptions,%20continue%20the%20action;%5Cn%5Ct%5Ctif%20set%20to%20sometimes%20abbreviated%20room%20descriptions%20and%5Cn%5Ct%5Ct%5Ctabbreviated%20form%20allowed%20is%20true%20and%5Cn%5Ct%5Ct%5Ctdarkness%20witnessed%20is%20true,%5Cn%5Ct%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ct%5Ctbegin%20the%20printing%20the%20description%20of%20a%20dark%20room%20activity;%5Cn%5Ct%5Ctif%20handling%20the%20printing%20the%20description%20of%20a%20dark%20room%20activity,%5Cn%5Ct%5Ct%5Ctsay%20%22It%20is%20pitch%20dark,%20and%20you%20can't%20see%20a%20thing.%22;%5Cn%5Ct%5Ctend%20the%20printing%20the%20description%20of%20a%20dark%20room%20activity;%5Cn%5Ctotherwise%20if%20the%20visibility%20ceiling%20is%20the%20location:%5Cn%5Ct%5Ctif%20set%20to%20abbreviated%20room%20descriptions,%20continue%20the%20action;%5Cn%5Ct%5Ctif%20set%20to%20sometimes%20abbreviated%20room%20descriptions%20and%20abbreviated%20form%5Cn%5Ct%5Ct%5Ctallowed%20is%20true%20and%20the%20location%20is%20visited,%20continue%20the%20action;%5Cn%5Ct%5Ctcarry%20out%20the%20printing%20the%20room-description%20activity%20with%20the%20location.%5Cn%5CnSection%203%20-%20Device%20Description%5Cn%5CnShowing%20action%20of%20something%20is%20an%20activity.%5Cn%5CnRule%20for%20showing%20action%20of%20something%20(called%20item):%5Cn%5Ctif%20the%20item%20is%20switched%20on,%20say%20%22%5BThe%20item%5D%20is%20switched%20on.%22;%5Cn%5Ctotherwise%20say%20%22%5BThe%20item%5D%20is%20switched%20off.%22%5Cn%5CnThe%20activity-based%20described%20devices%20rule%20is%20listed%20instead%20of%20the%20examine%20devices%20rule%20in%20the%20carry%20out%20examining%20rules.%5Cn%5CnThis%20is%20the%20activity-based%20described%20devices%20rule:%5Cn%5Ctif%20the%20noun%20is%20a%20device:%5Cn%5Ct%5Ctcarry%20out%20the%20showing%20action%20activity%20with%20the%20noun;%5Cn%5Ct%5Ctnow%20examine%20text%20printed%20is%20true.%5Cn%5CnReport%20switching%20on%20something:%5Cn%5Ctsay%20%22You%20flip%20a%20switch.%20%22;%5Cn%5Ctcarry%20out%20the%20showing%20action%20activity%20with%20the%20noun%20instead.%5Cn%5CnPart%202%20-%20Scenario%5Cn%5CnThe%20Kitchen%20is%20a%20room.%20%22A%20small%20kitchen%20tucked%20into%20a%20corner%20of%20the%20vacation%20house.%20There%20is%20storage%20space%20for%20five%20or%20six%20cups,%20a%20sink,%20a%20two-ring%20stove;%20nothing%20else%20to%20speak%20of.%22%5Cn%5CnThe%20microwave%20is%20a%20device%20in%20the%20Kitchen.%5Cn%5CnSouth%20of%20the%20Kitchen%20is%20the%20Living%20Area.%20The%20description%20of%20the%20Living%20area%20is%20%22A%20whitewashed%20living/dining/reclining%20area%20in%20what%20used%20to%20be%20a%20shepherd's%20stone%20hut,%20but%20now%20costs%20vacationers%20600%20euros%20a%20week.%20It%20offers%20no%20mod%20cons,%20only%20a%20straight%20view%20of%20the%20Mediterranean%20and%20a%20wobbly%20writing%20table.%22%5Cn%5CnRule%20for%20printing%20the%20room-description%20of%20a%20room%20when%20the%20player%20wears%20the%20sunglasses:%5Cn%5Ctsay%20%22The%20walls%20look%20like%20they're%20covered%20with%20ants.%20Just%20a%20coincidence,%20I'm%20sure%5Bantsy%5D.%22%5Cn%5CnRule%20for%20printing%20the%20room-description%20of%20the%20Kitchen%20when%20the%20player%20wears%20the%20sunglasses:%5Cn%5Ctsay%20%22Are%20ants%20coming%20out%20of%20the%20sink?%20No,%20probably%20not%5Bantsy%5D.%22%5Cn%5CnRule%20for%20printing%20the%20description%20of%20something%20(called%20the%20item)%20when%20the%20player%20wears%20the%20sunglasses:%5Cn%5Ctsay%20%22%5BThe%20item%5D%20%5Bare%5D%20%5Bone%20of%5Dant-colored%5Bor%5Dant-legged%5Bor%5Dcovered%20in%20ants%5Bat%20random%5D%5Bantsy%5D.%22%5Cn%5CnRule%20for%20showing%20action%20of%20the%20microwave:%5Cn%5Ctsay%20%22The%20microwave%20hums%20meaningfully%20to%20itself.%22%5Cn%5CnRule%20for%20showing%20action%20of%20the%20microwave%20when%20the%20player%20wears%20the%20sunglasses:%5Cn%5Ctsay%20%22The%20microwave%20hums%20as%20though%20inhabited%20by%20a%20billion%20ants%5Bantsy%5D.%22%5Cn%5CnThe%20player%20carries%20sunglasses%20of%20freakiness%20and%20an%20apple.%20The%20apple%20is%20edible.%20The%20sunglasses%20are%20wearable.%5Cn%5Cnant-paranoia%20is%20a%20number%20that%20varies.%5Cn%5CnTo%20say%20antsy:%5Cn%5Ctincrease%20ant-paranoia%20by%201;%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20ant-paranoia%20is%20greater%20than%203:%5Cn%5Ct%5Ctsay%20%22Augh!%20AUUUGH!%20GET%20THEM%20OFF--%22;%5Cn%5Ct%5Ctend%20the%20story%20saying%20%22You%20have%20lost%20your%20mind.%22%5Cn%5CnTest%20me%20with%20%22look%20/%20turn%20on%20microwave%20/%20turn%20off%20microwave%20/%20x%20apple%20/%20x%20sunglasses%20/%20s%20/%20wear%20sunglasses%20/%20look%20/%20x%20apple%20/%20n%20/%20turn%20on%20microwave%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Ant-Sensitive Sunglasses"
</p>
<p class="quoted">
Part 1 - Procedure
</p>
</div>
<p>To add a new activity to an existing Inform rule, we need to do three things:</p>
<p>1) Define our new activity.</p>
<p>2) Give a basic rule that says what is supposed to happen when that activity occurs, as in "Rule for..."</p>
<p>3) Replace the existing rule in Inform's rulebooks with a new one that calls on our activity.</p>
<p>Here we do this with examining:</p>

<div class="code">
<p class="quoted">
Section 1 - Item Description
</p>
<p class="quoted">
Printing the description of something is an activity.
</p>
</div>
<p>Now, by default, we want to print the description property; we just want the option to write some extra rules overriding that property. So we tell Inform that our most basic rule for printing the description of something is just to give that description text:</p>

<div class="code"><p class="quoted">
Rule for printing the description of something (called item):
<br>    if the description of the item is not "":
<br>        say "[description of item][paragraph break]";
<br>    otherwise:
<br>        say "You see nothing special about [the item].".
</p></div>
<p>Next, we need the standard examining rule to look at our printing-the-description activity:</p>

<div class="code">
<p class="quoted">
The activity-based examining rule is listed instead of the standard examining rule in the carry out examining rules.
</p>
<p class="quoted">
This is the activity-based examining rule:
<br>    carry out the printing the description activity with the noun;
<br>    rule succeeds.
</p>
</div>
<p>Now we do the same thing to room descriptions.</p>

<div class="code">
<p class="quoted">
Section 2 - Room Description
</p>
<p class="quoted">
Printing the room-description of something is an activity.
</p>
<p class="quoted">
Rule for printing the room-description of a room (called item):
<br>    if the description of the item is not "":
<br>        say "[description of item][paragraph break]";
<br>    otherwise:
<br>        do nothing instead.
</p>
<p class="quoted">
The activity-based room description body text rule is listed instead of the room description body text rule in the carry out looking rules.
</p>
</div>
<p>Our replacement rule this time around is a little bit trickier just because the rule that we're replacing is a complicated one: describing a room already checks to see whether there's light to see by, whether the player has turned off room descriptions when he enters a room for the second time, and whether the player character is (say) inside a closed box he can't see out of.</p>
<p>But all of those details are re-copied from the standard rules, and the important thing is that, at the end, we again carry out our activity.</p>

<div class="code">
<p class="quoted">
This is the activity-based room description body text rule:
<br>    if the visibility level count is 0:
<br>        if set to abbreviated room descriptions, continue the action;
<br>        if set to sometimes abbreviated room descriptions and
<br>            abbreviated form allowed is true and
<br>            darkness witnessed is true,
<br>            continue the action;
<br>        begin the printing the description of a dark room activity;
<br>        if handling the printing the description of a dark room activity,
<br>            say "It is pitch dark, and you can't see a thing.";
<br>        end the printing the description of a dark room activity;
<br>    otherwise if the visibility ceiling is the location:
<br>        if set to abbreviated room descriptions, continue the action;
<br>        if set to sometimes abbreviated room descriptions and abbreviated form
<br>            allowed is true and the location is visited, continue the action;
<br>        carry out the printing the room-description activity with the location.
</p>
<p class="quoted">
Section 3 - Device Description
</p>
<p class="quoted">
Showing action of something is an activity.
</p>
<p class="quoted">
Rule for showing action of something (called item):
<br>    if the item is switched on, say "[The item] is switched on.";
<br>    otherwise say "[The item] is switched off."
</p>
<p class="quoted">
The activity-based described devices rule is listed instead of the examine devices rule in the carry out examining rules.
</p>
<p class="quoted">
This is the activity-based described devices rule:
<br>    if the noun is a device:
<br>        carry out the showing action activity with the noun;
<br>        now examine text printed is true.
</p>
<p class="quoted">
Report switching on something:
<br>    say "You flip a switch. ";
<br>    carry out the showing action activity with the noun instead.
</p>
<p class="quoted">
Part 2 - Scenario
</p>
<p class="quoted">
The Kitchen is a room. "A small kitchen tucked into a corner of the vacation house. There is storage space for five or six cups, a sink, a two-ring stove; nothing else to speak of."
</p>
<p class="quoted">
The microwave is a device in the Kitchen.
</p>
<p class="quoted">
South of the Kitchen is the Living Area. The description of the Living area is "A whitewashed living/dining/reclining area in what used to be a shepherd's stone hut, but now costs vacationers 600 euros a week. It offers no mod cons, only a straight view of the Mediterranean and a wobbly writing table."
</p>
<p class="quoted">
Rule for printing the room-description of a room when the player wears the sunglasses:
<br>    say "The walls look like they're covered with ants. Just a coincidence, I'm sure[antsy]."
</p>
<p class="quoted">
Rule for printing the room-description of the Kitchen when the player wears the sunglasses:
<br>    say "Are ants coming out of the sink? No, probably not[antsy]."
</p>
<p class="quoted">
Rule for printing the description of something (called the item) when the player wears the sunglasses:
<br>    say "[The item] [are] [one of]ant-colored[or]ant-legged[or]covered in ants[at random][antsy]."
</p>
<p class="quoted">
Rule for showing action of the microwave:
<br>    say "The microwave hums meaningfully to itself."
</p>
<p class="quoted">
Rule for showing action of the microwave when the player wears the sunglasses:
<br>    say "The microwave hums as though inhabited by a billion ants[antsy]."
</p>
<p class="quoted">
The player carries sunglasses of freakiness and an apple. The apple is edible. The sunglasses are wearable.
</p>
<p class="quoted">
ant-paranoia is a number that varies.
</p>
<p class="quoted">
To say antsy:
<br>    increase ant-paranoia by 1;
</p>
<p class="quoted">
Every turn:
<br>    if the ant-paranoia is greater than 3:
<br>        say "Augh! AUUUGH! GET THEM OFF--";
<br>        end the story saying "You have lost your mind."
</p>
<p class="quoted">
Test me with "look / turn on microwave / turn off microwave / x apple / x sunglasses / s / wear sunglasses / look / x apple / n / turn on microwave".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.1">WI §18.1. What are activities?</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details><details class="full-example" id="example-355"><summary><span class="example-summary">355. Rip Van Winkle</span> <span class="example-difficulty">★</span></summary><div>
<p>There are times when, for greater elegance of prose, we'd like to mention an object in the main body text of a room. For instance:</p>

<div class="code"><p class="quoted">
Here is a lovely, secluded fold in the mountains, far from civilization: as though to prove it, Rip Van Winkle is sleeping under a tree.
</p></div>
<p>As we've already seen, that's no problem if Rip is scenery. He'll stay there motionless.</p>
<p>But what if something in the game allows Rip to wake up? Or what if we want to use the same technique on a portable object that the player should be allowed to take? Clearly in that case it's not appropriate to make the mentioned thing be scenery, and at the same time, we need to keep Inform from adding a superfluous</p>

<div class="code"><p class="quoted">
You can see Rip Van Winkle here.
</p></div>
<p>to the end of our description.</p>
<p>Here is how:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Rip%20Van%20Winkle%22%5Cn%5CnA%20person%20can%20be%20asleep.%5Cn%5CnThe%20Catskills%20is%20a%20room.%20%22Here%20is%20a%20lovely,%20secluded%20fold%20in%20the%20mountains,%20far%20from%20civilization%5Bif%20Rip%20Van%20Winkle%20is%20asleep%5D:%20as%20though%20to%20prove%20it,%20Rip%20Van%20Winkle%20is%20sleeping%20under%20a%20tree%5Bend%20if%5D.%22%5Cn%5CnA%20tree%20is%20scenery%20in%20the%20Catskills.%5Cn%5CnRip%20Van%20Winkle%20is%20a%20man%20in%20the%20Catskills.%20Rip%20Van%20Winkle%20is%20asleep.%5Cn%5CnBefore%20listing%20nondescript%20items%20of%20the%20Catskills:%5Cn%5Ctif%20Rip%20Van%20Winkle%20is%20marked%20for%20listing:%5Cn%5Ct%5Ctnow%20Rip%20Van%20Winkle%20is%20not%20marked%20for%20listing;%5Cn%5Ct%5Ctif%20Rip%20Van%20Winkle%20is%20not%20asleep,%5Cn%5Ct%5Ct%5Ctsay%20%22Rip%20Van%20Winkle%20stands%20here,%20looking%20mightily%20confused.%22%5Cn%5CnInstead%20of%20waiting:%5Cn%5Ctsay%20%22Rip%20Van%20Winkle%20wakes%20up%20with%20a%20snort.%22;%5Cn%5Ctnow%20Rip%20Van%20Winkle%20is%20not%20asleep.%5Cn%5CnTest%20me%20with%20%22look%20/%20z%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Rip Van Winkle"
</p>
<p class="quoted">
A person can be asleep.
</p>
<p class="quoted">
The Catskills is a room. "Here is a lovely, secluded fold in the mountains, far from civilization[if Rip Van Winkle is asleep]: as though to prove it, Rip Van Winkle is sleeping under a tree[end if]."
</p>
<p class="quoted">
A tree is scenery in the Catskills.
</p>
<p class="quoted">
Rip Van Winkle is a man in the Catskills. Rip Van Winkle is asleep.
</p>
<p class="quoted">
Before listing nondescript items of the Catskills:
<br>    if Rip Van Winkle is marked for listing:
<br>        now Rip Van Winkle is not marked for listing;
<br>        if Rip Van Winkle is not asleep,
<br>            say "Rip Van Winkle stands here, looking mightily confused."
</p>
<p class="quoted">
Instead of waiting:
<br>    say "Rip Van Winkle wakes up with a snort.";
<br>    now Rip Van Winkle is not asleep.
</p>
<p class="quoted">
Test me with "look / z / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.25">WI §18.25. Listing nondescript items of something</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details><details class="full-example" id="example-358"><summary><span class="example-summary">358. Priority Lab</span> <span class="example-difficulty">★</span></summary><div>
<p>When it comes time to start manipulating the priorities of items, it is useful to be able to check the table for debugging purposes; the problem is that printing the names of the objects can itself affect the way the room description is generated, foiling our debugging efforts.</p>
<p>What follows is a rule to help with debugging safely, and a sample of how priorities work:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Priority%20Lab%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnBefore%20printing%20the%20locale%20description%20(this%20is%20the%20dump%20locale%20table%20rule):%5Cn%5Ctsay%20%22Locale%20Priority%20list:%22;%5Cn%5Ctrepeat%20through%20Table%20of%20Locale%20Priorities:%5Cn%5Ct%5Ctlet%20the%20flag%20be%20whether%20or%20not%20the%20notable-object%20entry%20is%20mentioned;%5Cn%5Ct%5Ctsay%20%22%5Bline%20break%5D%20%20%5Bnotable-object%20entry%5D:%20%5Blocale%20description%20priority%20entry%5D%22;%5Cn%5Ct%5Ctif%20the%20flag%20is%20false,%20now%20the%20notable-object%20entry%20is%20not%20mentioned;%5Cn%5Ctsay%20line%20break.%5Cn%5Cn%5BNow,%20let's%20look%20at%20some%20items%20put%20in%20a%20specific%20order.%20Things%20with%20low%20priority%20numbers%20list%20towards%20the%20beginning;%20things%20with%20high%20priority%20numbers%20list%20towards%20the%20end.%20(It%20helps%20to%20think%20of%20it%20as%20though%20we%20were%20making%20a%20numbered%20list%20of%20the%20paragraphs%20to%20appear%20in%20the%20description.)%20Anything%20numbered%200%20doesn't%20appear%20at%20all,%20and%20the%20default%20priority%20of%20an%20object%20is%201.%5D%5Cn%5CnA%20thing%20can%20be%20early-described,%20late-described,%20latest-described,%20never-described,%20sightline-described,%20or%20ordinarily-described.%20A%20thing%20is%20usually%20ordinarily-described.%5Cn%5CnAfter%20choosing%20notable%20locale%20objects%20(this%20is%20the%20apply%20early%20and%20late%20description%20rule):%5Cn%5Ctrepeat%20with%20item%20running%20through%20early-described%20things:%5Cn%5Ct%5Ctif%20there%20is%20a%20notable-object%20of%20item%20in%20the%20Table%20of%20Locale%20Priorities:%5Cn%5Ct%5Ct%5Ctset%20the%20locale%20priority%20of%20the%20item%20to%201;%20%5Blist%20before%20everything%20else%20--%20this%20would%20work%20with%20any%20number%20lower%20than%205%20and%20higher%20than%200%5D%5Cn%5Ctrepeat%20with%20item%20running%20through%20late-described%20things:%5Cn%5Ct%5Ctif%20there%20is%20a%20notable-object%20of%20item%20in%20the%20Table%20of%20Locale%20Priorities:%5Cn%5Ct%5Ct%5Ctset%20the%20locale%20priority%20of%20the%20item%20to%2010;%20%5Blist%20after%20everything%20else%20--%20this%20would%20work%20with%20any%20number%20larger%20than%205%5D%5Cn%5Ctrepeat%20with%20item%20running%20through%20never-described%20things:%5Cn%5Ct%5Ctset%20the%20locale%20priority%20of%20the%20item%20to%200;%20%5Bdon't%20list%20at%20all%5D%5Cn%5Ctcontinue%20the%20activity.%5Cn%5Cn%5BAn%20important%20cautionary%20note:%20priorities%20are%20only%20honored%20if%20the%20objects%20are%20going%20to%20get%20their%20own%20paragraphs%20(with%20%22writing%20a%20paragraph%20about...%22%20or%20because%20they%20have%20initial%20appearances).%20Priorities%20do%20not%20affect%20the%20order%20in%20which%20items%20appear%20in%20the%20final%20%22You%20can%20see...%22%20list,%20except%20that%20items%20with%20priority%200%20or%20lower%20are%20omitted.%20(If%20we%20want%20to%20order%20the%20items%20in%20that%20list,%20we%20may%20want%20to%20resort%20to%20the%20Complex%20Listing%20extension%20by%20Emily%20Short.)%5D%5Cn%5Cn%5BThere%20are%20further%20refinements%20available%20to%20us:%20for%20instance,%20we%20could%20make%20some%20things%20that%20are%20only%20visible%20if%20the%20player%20is%20raised%20above%20ground%20level.%5D%5Cn%5CnAfter%20choosing%20notable%20locale%20objects%20(this%20is%20the%20sightline-described%20things%20are%20visible%20from%20supporters%20rule):%5Cn%5Ctif%20the%20player%20is%20not%20on%20a%20supporter:%5Cn%5Ct%5Ctrepeat%20with%20item%20running%20through%20sightline-described%20things:%5Cn%5Ct%5Ct%5Ctif%20there%20is%20a%20notable-object%20of%20item%20in%20the%20Table%20of%20Locale%20Priorities:%5Cn%5Ct%5Ct%5Ct%5Ctset%20the%20locale%20priority%20of%20the%20item%20to%200;%20%5Bremove%20objects%20that%20can%20only%20be%20seen%20from%20higher%20objects.%5D%5Cn%5Ctcontinue%20the%20activity.%5Cn%5Cn%5Cn%5BIt%20may%20also%20be%20useful%20to%20know%20about%20the%20%22parameter-object%22,%20which%20refers%20to%20the%20thing%20whose%20contents%20we%20are%20currently%20describing:%20the%20standard%20rules%20consider%20how%20to%20describe%20the%20contents%20of%20the%20location%20and%20then%20also%20check%20the%20contents%20of%20any%20supporter%20or%20container%20the%20player%20may%20be%20inside,%20so%20in%20the%20first%20case%20%22parameter-object%22%20would%20be%20the%20location,%20and%20then%20in%20the%20second%20the%20supporter%20in%20question.%5D%5Cn%5Cn%5BIn%20practice%20this%20is%20rarely%20useful,%20but%20should%20we%20need%20to%20change%20priorities%20in%20the%20case%20of%20both%20player%20and%20object%20being%20inside%20a%20particular%20container,%20we%20might%20make%20use%20of%20it,%20for%20instance:%5D%5Cn%5CnA%20thing%20can%20be%20tasteful%20or%20icky.%20A%20thing%20is%20usually%20tasteful.%5Cn%5CnAfter%20choosing%20notable%20locale%20objects%20(this%20is%20the%20icky%20things%20next%20to%20players%20rule):%5Cn%5Ctif%20the%20player%20is%20on%20the%20parameter-object:%5Cn%5Ct%5Ctrepeat%20with%20item%20running%20through%20icky%20things%20:%5Cn%5Ct%5Ct%5Ctif%20there%20is%20a%20notable-object%20of%20item%20in%20the%20Table%20of%20Locale%20Priorities:%5Cn%5Ct%5Ct%5Ct%5Ctset%20the%20locale%20priority%20of%20the%20item%20to%2010;%20%5Bremove%20objects%20that%20can%20only%20be%20seen%20from%20higher%20objects.%5D%5Cn%5Ctcontinue%20the%20activity.%5Cn%5Cn%5BThe%20other%20thing%20to%20note%20is%20that%20by%20default%20that%20final%20collection%20of%20generic%20objects%20(%22You%20can%20also%20see...%22)%20appears%20at%20the%20end,%20regardless%20of%20the%20priority%20of%20everything%20else.%20If%20we%20really%20wanted%20to,%20though,%20we%20could%20force%20something%20to%20appear%20even%20after%20that%20paragraph,%20by%20adding%20a%20new%20listing%20rule%20to%20the%20locale%20description%20rules:%5D%5Cn%5CnAfter%20choosing%20notable%20locale%20objects%20(this%20is%20the%20latest-described%20items%20priority%20rule):%5Cn%5Ctrepeat%20with%20item%20running%20through%20latest-described%20things:%5Cn%5Ct%5Ctif%20the%20item%20is%20a%20notable-object%20listed%20in%20the%20Table%20of%20Locale%20Priorities:%5Cn%5Ct%5Ct%5Ctnow%20the%20item%20is%20mentioned;%5Cn%5Ct%5Ct%5Ctnow%20the%20item%20is%20marked%20for%20late%20listing.%5Cn%5CnThe%20late%20listing%20rule%20is%20listed%20after%20the%20you-can-also-see%20rule%20in%20the%20for%20printing%20the%20locale%20description%20rules.%5Cn%5CnA%20thing%20can%20be%20marked%20for%20late%20listing.%20A%20thing%20is%20usually%20not%20marked%20for%20late%20listing.%5Cn%5CnThis%20is%20the%20late%20listing%20rule:%5Cn%5Ctif%20something%20is%20marked%20for%20late%20listing:%5Cn%5Ct%5Ctsay%20%22Oh!%20And%20also%20%5Ba%20list%20of%20things%20which%20are%20marked%20for%20late%20listing%5D.%22;%5Cn%5Ct%5Ctnow%20everything%20is%20not%20marked%20for%20late%20listing;%5Cn%5Ctcontinue%20the%20activity.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Priority%20Lab%20is%20a%20room.%20The%20early%20bird,%20the%20worm,%20the%20leaf,%20the%20unseen%20object,%20the%20pebble,%20the%20twig,%20and%20the%20late%20edition%20are%20things%20in%20the%20Priority%20Lab.%5Cn%5CnThe%20early%20bird%20is%20early-described.%20The%20late%20edition%20is%20late-described.%20The%20unseen%20object%20is%20never-described.%5Cn%5CnThe%20worm%20is%20icky.%5Cn%5CnThe%20high%20window%20is%20in%20Priority%20Lab.%20It%20is%20sightline-described%20and%20fixed%20in%20place.%20The%20initial%20appearance%20of%20the%20high%20window%20is%20%22There's%20a%20tiny%20high%20window%20up%20near%20the%20ceiling%20that%20you%20can't%20see%20unless%20you're%20on%20top%20of%20something.%22%5Cn%5Cn%5BIn%20order%20for%20the%20priorities%20we%20just%20set%20to%20be%20interesting,%20let's%20give%20out%20some%20initial%20appearances%20and%20writing%20a%20paragraph%20rules:%5D%5Cn%5CnThe%20initial%20appearance%20of%20the%20worm%20is%20%22A%20worm%20inches%20along%20the%20ground.%22%5CnThe%20initial%20appearance%20of%20the%20late%20edition%20is%20%22Finally,%20the%20late%20edition%20lies%20at%20your%20feet.%22%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20the%20early%20bird%20when%20the%20early%20bird%20is%20in%20a%20room:%20say%20%22The%20early%20bird%20always%20appears%20first,%20and%20here%20it%20is.%22%5CnRule%20for%20writing%20a%20paragraph%20about%20the%20leaf:%20say%20%22Look,%20there's%20%5Ba%20leaf%5D%5Bunless%20the%20leaf%20is%20in%20the%20location%5D%20on%20%5Bthe%20holder%20of%20the%20leaf%5D%5Bend%20if%5D!%22%5CnRule%20for%20writing%20a%20paragraph%20about%20an%20icky%20thing%20(called%20icky%20item)%20which%20is%20on%20something%20which%20supports%20the%20player:%20say%20%22Ew,%20%5Ban%20icky%20item%5D%20is%20right%20next%20to%20you.%22%5Cn%5Cn%5BThis%20procedure%20also%20means%20(as%20you%20can%20test%20by%20experiment)%20that%20after%20the%20late%20edition%20has%20been%20picked%20up%20and%20dropped%20again,%20it%20lists%20in%20no%20special%20order%20in%20the%20%22you%20can%20see...%22%20paragraph%20(since%20initial%20appearances%20only%20print%20when%20the%20object%20has%20not%20yet%20been%20moved).%5D%5Cn%5CnThe%20afterthought%20is%20a%20thing%20in%20the%20Priority%20Lab.%20It%20is%20latest-described.%5Cn%5CnThe%20bar%20stool%20is%20an%20enterable%20supporter%20in%20Priority%20Lab.%5Cn%5CnTest%20me%20with%20%22get%20leaf%20/%20drop%20leaf%20/%20look%20/%20x%20unseen%20object%20/%20get%20pebble%20/%20look%20/%20get%20twig%20/%20look%20/%20get%20afterthought%20/%20look%20/%20drop%20twig%20/%20look%20/%20get%20late%20edition%20/%20look%20/%20drop%20late%20edition%20/%20sit%20on%20bar%20stool%20/%20look%20/%20get%20all%20/%20put%20all%20on%20stool%20/%20look%22.%5Cn%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Priority Lab"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
Before printing the locale description (this is the dump locale table rule):
<br>    say "Locale Priority list:";
<br>    repeat through Table of Locale Priorities:
<br>        let the flag be whether or not the notable-object entry is mentioned;
<br>        say "[line break]  [notable-object entry]: [locale description priority entry]";
<br>        if the flag is false, now the notable-object entry is not mentioned;
<br>    say line break.
</p>
</div>
<p>Now, let's look at some items put in a specific order. Things with low priority numbers list towards the beginning; things with high priority numbers list towards the end. (It helps to think of it as though we were making a numbered list of the paragraphs to appear in the description.) Anything numbered 0 doesn't appear at all, and the default priority of an object is 1.</p>

<div class="code">
<p class="quoted">
A thing can be early-described, late-described, latest-described, never-described, sightline-described, or ordinarily-described. A thing is usually ordinarily-described.
</p>
<p class="quoted">
After choosing notable locale objects (this is the apply early and late description rule):
<br>    repeat with item running through early-described things:
<br>        if there is a notable-object of item in the Table of Locale Priorities:
<br>            set the locale priority of the item to 1; [list before everything else -- this would work with any number lower than 5 and higher than 0]
<br>    repeat with item running through late-described things:
<br>        if there is a notable-object of item in the Table of Locale Priorities:
<br>            set the locale priority of the item to 10; [list after everything else -- this would work with any number larger than 5]
<br>    repeat with item running through never-described things:
<br>        set the locale priority of the item to 0; [don't list at all]
<br>    continue the activity.
</p>
</div>
<p>An important cautionary note: priorities are only honored if the objects are going to get their own paragraphs (with "writing a paragraph about..." or because they have initial appearances). Priorities do not affect the order in which items appear in the final "You can see..." list, except that items with priority 0 or lower are omitted. (If we want to order the items in that list, we may want to resort to the Complex Listing extension by Emily Short.)</p>
<p>There are further refinements available to us: for instance, we could make some things that are only visible if the player is raised above ground level.</p>

<div class="code"><p class="quoted">
After choosing notable locale objects (this is the sightline-described things are visible from supporters rule):
<br>    if the player is not on a supporter:
<br>        repeat with item running through sightline-described things:
<br>            if there is a notable-object of item in the Table of Locale Priorities:
<br>                set the locale priority of the item to 0; [remove objects that can only be seen from higher objects.]
<br>    continue the activity.
</p></div>
<p>It may also be useful to know about the "parameter-object", which refers to the thing whose contents we are currently describing: the standard rules consider how to describe the contents of the location and then also check the contents of any supporter or container the player may be inside, so in the first case "parameter-object" would be the location, and then in the second the supporter in question.</p>
<p>In practice this is rarely useful, but should we need to change priorities in the case of both player and object being inside a particular container, we might make use of it, for instance:</p>

<div class="code">
<p class="quoted">
A thing can be tasteful or icky. A thing is usually tasteful.
</p>
<p class="quoted">
After choosing notable locale objects (this is the icky things next to players rule):
<br>    if the player is on the parameter-object:
<br>        repeat with item running through icky things :
<br>            if there is a notable-object of item in the Table of Locale Priorities:
<br>                set the locale priority of the item to 10; [remove objects that can only be seen from higher objects.]
<br>    continue the activity.
</p>
</div>
<p>The other thing to note is that by default that final collection of generic objects ("You can also see...") appears at the end, regardless of the priority of everything else. If we really wanted to, though, we could force something to appear even after that paragraph, by adding a new listing rule to the locale description rules:</p>

<div class="code">
<p class="quoted">
After choosing notable locale objects (this is the latest-described items priority rule):
<br>    repeat with item running through latest-described things:
<br>        if the item is a notable-object listed in the Table of Locale Priorities:
<br>            now the item is mentioned;
<br>            now the item is marked for late listing.
</p>
<p class="quoted">
The late listing rule is listed after the you-can-also-see rule in the for printing the locale description rules.
</p>
<p class="quoted">
A thing can be marked for late listing. A thing is usually not marked for late listing.
</p>
<p class="quoted">
This is the late listing rule:
<br>    if something is marked for late listing:
<br>        say "Oh! And also [a list of things which are marked for late listing].";
<br>        now everything is not marked for late listing;
<br>    continue the activity.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Priority Lab is a room. The early bird, the worm, the leaf, the unseen object, the pebble, the twig, and the late edition are things in the Priority Lab.
</p>
<p class="quoted">
The early bird is early-described. The late edition is late-described. The unseen object is never-described.
</p>
<p class="quoted">
The worm is icky.
</p>
<p class="quoted">
The high window is in Priority Lab. It is sightline-described and fixed in place. The initial appearance of the high window is "There's a tiny high window up near the ceiling that you can't see unless you're on top of something."
</p>
</div>
<p>In order for the priorities we just set to be interesting, let's give out some initial appearances and writing a paragraph rules:</p>

<div class="code">
<p class="quoted">
The initial appearance of the worm is "A worm inches along the ground."
<br>The initial appearance of the late edition is "Finally, the late edition lies at your feet."
</p>
<p class="quoted">
Rule for writing a paragraph about the early bird when the early bird is in a room: say "The early bird always appears first, and here it is."
<br>Rule for writing a paragraph about the leaf: say "Look, there's [a leaf][unless the leaf is in the location] on [the holder of the leaf][end if]!"
<br>Rule for writing a paragraph about an icky thing (called icky item) which is on something which supports the player: say "Ew, [an icky item] is right next to you."
</p>
</div>
<p>This procedure also means (as you can test by experiment) that after the late edition has been picked up and dropped again, it lists in no special order in the "you can see..." paragraph (since initial appearances only print when the object has not yet been moved).</p>

<div class="code">
<p class="quoted">
The afterthought is a thing in the Priority Lab. It is latest-described.
</p>
<p class="quoted">
The bar stool is an enterable supporter in Priority Lab.
</p>
<p class="quoted">
Test me with "get leaf / drop leaf / look / x unseen object / get pebble / look / get twig / look / get afterthought / look / drop twig / look / get late edition / look / drop late edition / sit on bar stool / look / get all / put all on stool / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.26">WI §18.26. Printing the locale description of something</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details><details class="full-example" id="example-359"><summary><span class="example-summary">359. Low Light</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we want a different treatment of lighting than the usual: the room isn't totally dark, but there's something we can't see unless we turn on a bright light.</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60%22Low%20Light%22%5Cn%5Cn%5BFirst%20we%20make%20our%20environment%20and%20its%20light:%5D%5Cn%5CnThe%20Workroom%20is%20a%20room.%20The%20desk%20is%20in%20the%20Workroom.%20The%20brilliant%20lamp%20is%20a%20device%20on%20the%20desk.%5Cn%5CnTo%20decide%20whether%20the%20light%20level%20is%20high:%5Cn%5Ctif%20the%20brilliant%20lamp%20is%20switched%20off,%20no;%5Cn%5Ctif%20the%20player%20cannot%20see%20the%20brilliant%20lamp,%20no;%5Cn%5Ctyes.%5Cn%5CnTo%20decide%20whether%20the%20light%20level%20is%20low:%5Cn%5Ctif%20the%20light%20level%20is%20high,%20no;%5Cn%5Ctyes.%5Cn%5Cn%5BNow%20we%20make%20a%20shadow%20so%20that%20the%20player%20can%20only%20refer%20to%20it%20if%20the%20shadow%20is%20in%20inventory%20or%20the%20light%20is%20on:%5D%5Cn%5CnThe%20shadow%20is%20a%20privately-named%20thing%20on%20the%20desk.%5Cn%5CnUnderstand%20%22barely-visible%22%20or%20%22barely%20visible%22%20or%20%22shadow%22%20as%20the%20shadow%20when%20the%20light%20level%20is%20high.%20Understand%20%22invisible%22%20or%20%22shadow%22%20as%20the%20shadow%20when%20the%20player%20encloses%20the%20shadow.%5Cn%5Cn%5BAnd%20finally%20a%20couple%20of%20extra%20touches%20to%20make%20it%20clear%20why%20we're%20able%20to%20interact%20with%20the%20shadow%20when%20it's%20in%20inventory,%20even%20if%20the%20light%20is%20low:%5D%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20shadow:%5Cn%5Ctif%20the%20light%20level%20is%20high:%5Cn%5Ct%5Ctsay%20%22barely-visible%20%22;%5Cn%5Ctotherwise%20if%20the%20player%20encloses%20the%20shadow:%5Cn%5Ct%5Ctsay%20%22invisible%20(but%20tangible)%20%22%5Cn%5CnAfter%20dropping%20the%20shadow%20when%20the%20light%20level%20is%20low:%5Cn%5Ctsay%20%22You%20let%20it%20go%20and%20it%20fades%20into%20the%20ambient%20gloom.%22%5Cn%5Cn%5BTo%20handle%20the%20appearance%20of%20the%20object,%20we%20want%20to%20set%20its%20locale%20priority%20to%200:%20that%20will%20prevent%20it%20being%20named%20in%20room%20descriptions.%5D%5Cn%5CnAfter%20choosing%20notable%20locale%20objects:%5Cn%5Ctunless%20the%20light%20level%20is%20high:%5Cn%5Ct%5Ctset%20locale%20priority%20of%20the%20shadow%20to%200.%5Cn%5CnTest%20me%20with%20%22look%20/%20get%20shadow%20/%20turn%20on%20lamp%20/%20look%20/%20get%20shadow%20/%20i%20/%20turn%20off%20lamp%20/%20i%20/%20drop%20shadow%20/%20look%20/%20get%20shadow%20/%20turn%20on%20lamp%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Low Light"
</p></div>
<p>First we make our environment and its light:</p>

<div class="code">
<p class="quoted">
The Workroom is a room. The desk is in the Workroom. The brilliant lamp is a device on the desk.
</p>
<p class="quoted">
To decide whether the light level is high:
<br>    if the brilliant lamp is switched off, no;
<br>    if the player cannot see the brilliant lamp, no;
<br>    yes.
</p>
<p class="quoted">
To decide whether the light level is low:
<br>    if the light level is high, no;
<br>    yes.
</p>
</div>
<p>Now we make a shadow so that the player can only refer to it if the shadow is in inventory or the light is on:</p>

<div class="code">
<p class="quoted">
The shadow is a privately-named thing on the desk.
</p>
<p class="quoted">
Understand "barely-visible" or "barely visible" or "shadow" as the shadow when the light level is high. Understand "invisible" or "shadow" as the shadow when the player encloses the shadow.
</p>
</div>
<p>And finally a couple of extra touches to make it clear why we're able to interact with the shadow when it's in inventory, even if the light is low:</p>

<div class="code">
<p class="quoted">
Before printing the name of the shadow:
<br>    if the light level is high:
<br>        say "barely-visible ";
<br>    otherwise if the player encloses the shadow:
<br>        say "invisible (but tangible) "
</p>
<p class="quoted">
After dropping the shadow when the light level is low:
<br>    say "You let it go and it fades into the ambient gloom."
</p>
</div>
<p>To handle the appearance of the object, we want to set its locale priority to 0: that will prevent it being named in room descriptions.</p>

<div class="code">
<p class="quoted">
After choosing notable locale objects:
<br>    unless the light level is high:
<br>        set locale priority of the shadow to 0.
</p>
<p class="quoted">
Test me with "look / get shadow / turn on lamp / look / get shadow / i / turn off lamp / i / drop shadow / look / get shadow / turn on lamp / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.27">WI §18.27. Choosing notable locale objects for something</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details><details class="full-example" id="example-4"><summary><span class="example-summary">4. Slightly Wrong</span> <span class="example-difficulty">★★</span></summary><div>
<p>A fairly common effect in interactive fiction is a room which is described differently on the first visit than on subsequent visits. We can produce this effect as follows:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Slightly%20Wrong%22%5Cn%5CnAwning%20is%20a%20room.%20%22A%20tan%20awning%20is%20stretched%20on%20tent%20poles%20over%20the%20dig-site,%20providing%20a%20little%20shade%20to%20the%20workers%20here;%20you%20are%20at%20the%20bottom%20of%20a%20square%20twenty%20feet%20on%20a%20side,%20marked%20out%20with%20pegs%20and%20lines%20of%20string.%20Uncovered%20in%20the%20south%20face%20of%20this%20square%20is%20an%20awkward%20opening%20into%20the%20earth.%22%5Cn%5CnSlightly%20Wrong%20Chamber%20is%20south%20of%20the%20Awning.%20%22%5Bif%20unvisited%5DWhen%20you%20first%20step%20into%20the%20room,%20you%20are%20bothered%20by%20the%20sense%20that%20something%20is%20not%20quite%20right:%20perhaps%20the%20lighting,%20perhaps%20the%20angle%20of%20the%20walls.%20%5Bend%20if%5DA%20mural%20on%20the%20far%20wall%20depicts%20a%20woman%20with%20a%20staff,%20tipped%20with%20a%20pine-cone.%20She%20appears%20to%20be%20watching%20you.%22%5Cn%5CnTest%20me%20with%20%22look%20/%20s%20/%20look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Slightly Wrong"
</p>
<p class="quoted">
Awning is a room. "A tan awning is stretched on tent poles over the dig-site, providing a little shade to the workers here; you are at the bottom of a square twenty feet on a side, marked out with pegs and lines of string. Uncovered in the south face of this square is an awkward opening into the earth."
</p>
<p class="quoted">
Slightly Wrong Chamber is south of the Awning. "[if unvisited]When you first step into the room, you are bothered by the sense that something is not quite right: perhaps the lighting, perhaps the angle of the walls. [end if]A mural on the far wall depicts a woman with a staff, tipped with a pine-cone. She appears to be watching you."
</p>
<p class="quoted">
Test me with "look / s / look".
</p>
</div>
<p>Note the "[if unvisited]..." in the description of the Slightly Wrong Chamber. A room is considered to be "unvisited" until after the player has seen its description for the first time.</p>
<p>The bracketed text creates a special rule for printing; we will learn more about these in the sections on text with variations and text with substitutions.</p>
<p>Some further fine print: we might write our condition as "if unvisited", "if the location is unvisited", or "if the Chamber is unvisited" -- all of these constructions would be acceptable, but in the absence of more specifics, the condition is understood to apply to the object whose description it is.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.1">WI §3.1. Descriptions</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details><details class="full-example" id="example-357"><summary><span class="example-summary">357. The Eye of the Idol</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22The%20Eye%20of%20the%20Idol%22%5Cn%5CnSection%201%20-%20Reusable%20Material%5Cn%5Cn%5BWe%20start%20by%20defining%20relations%20that%20let%20us%20know%20where%20items%20%22belong%22,%20with%20the%20understanding%20that%20if%20something%20is%20where%20it%20belongs,%20it%20will%20be%20described%20in%20the%20main%20room%20description%20and%20therefore%20should%20not%20be%20separately%20listed.%20Thus:%5D%5Cn%5CnPositioning%20relates%20various%20things%20to%20various%20things.%20The%20verb%20to%20be%20placed%20in%20means%20the%20positioning%20relation.%20The%20verb%20to%20be%20placed%20on%20implies%20the%20positioning%20relation.%5Cn%5CnRoom-positioning%20relates%20various%20things%20to%20various%20rooms.%20The%20verb%20to%20be%20room-placed%20in%20means%20the%20room-positioning%20relation.%5Cn%5Cn%5BWe%20can't%20make%20relations%20relate%20various%20objects%20to%20various%20objects,%20and%20rooms%20are%20not%20things,%20so%20two%20separate%20cases%20are%20necessary.%20An%20alternative%20approach%20would%20be%20to%20say%20%22A%20thing%20has%20an%20object%20called%20the%20initial%20placement%22,%20which%20would%20allow%20a%20thing%20to%20have%20an%20initial%20placement%20that%20was%20a%20room,%20a%20supporter,%20or%20a%20container;%20an%20advantage%20of%20using%20relations,%20though,%20is%20that%20that%20way%20we%20can%20if%20we%20like%20specify%20multiple%20placements%20for%20the%20same%20object,%20so%20that,%20e.g.,%20a%20sparkling%20diamond%20can%20be%20described%20in%20the%20main%20description%20paragraph%20as%20%22half-buried%20in%20dust%22%20in%20the%20beginning%20of%20the%20game,%20and%20then%20at%20the%20end%20as%20%22in%20the%20eye%20of%20the%20idol%22%20at%20the%20end.%5D%5Cn%5Cn%5BNow%20we%20define,%20based%20on%20these%20relations,%20an%20%22in-place%22%20adjective,%20which%20will%20identify%20whether%20something%20is%20in%20a%20location%20which%20will%20specially%20describe%20it:%5D%5Cn%5CnDefinition:%20a%20thing%20(called%20prop)%20is%20in-place:%5Cn%5Ctif%20the%20prop%20is%20in%20the%20location%20and%20the%20prop%20is%20room-placed%20in%20the%20location,%20yes;%5Cn%5Ctif%20the%20holder%20of%20the%20prop%20is%20a%20thing%20and%20the%20prop%20is%20placed%20in%20the%20holder%20of%20the%20prop,%20yes;%5Cn%5Ctno.%5Cn%5CnDefinition:%20a%20thing%20is%20out-of-place%20if%20it%20is%20not%20in-place.%5Cn%5Cn%5BWith%20that%20done,%20removing%20these%20items%20automatically%20from%20the%20room%20description%20is%20actually%20pretty%20easy:%5D%5Cn%5CnBefore%20listing%20nondescript%20items:%5Cn%5Ctnow%20every%20marked%20for%20listing%20in-place%20thing%20is%20not%20marked%20for%20listing.%5Cn%5Cn%5BOne%20tricky%20case%20remains:%20when%20something%20is%20placed%20on%20a%20supporter%20that%20is%20scenery,%20it%20can%20be%20mentioned%20even%20if%20we%20have%20marked%20that%20object%20%22not%20marked%20for%20listing%22.%20What%20matters%20here%20is%20not%20whether%20the%20object%20itself%20is%20marked%20for%20listing%20but%20whether%20the%20supporter%20has%20been%20%22mentioned%22.%20(A%20fuller%20description%20of%20how%20room%20descriptions%20are%20assembled%20is%20available%20in%20the%20Looking%20section%20of%20the%20Commands%20chapter%20in%20the%20Recipe%20Book.)%20So%20let's%20also%20add%20a%20feature%20whereby%20we%20can%20easily%20suppress%20the%20descriptions%20of%20these%20supporters%20when%20appropriate:%5D%5Cn%5CnA%20supporter%20can%20be%20quiet.%5Cn%5Cn%5BA%20quiet%20supporter%20is%20one%20that%20is%20never%20mentioned%20itself%20and%20which%20only%20mentions%20its%20contents%20if%20they%20are%20out%20of%20place.%20This%20allows%20for%20maximum%20flexibility%20in%20incorporating%20it%20into%20the%20body%20of%20room%20descriptions.%5D%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20a%20quiet%20supporter%20(called%20chosen%20table):%5Cn%5Ctif%20an%20out-of-place%20thing%20is%20on%20the%20chosen%20table:%5Cn%5Ct%5Ctif%20an%20in-place%20thing%20is%20on%20the%20chosen%20table,%5Cn%5Ct%5Ct%5Ctsay%20%22On%20%5Bthe%20chosen%20table%5D,%20in%20addition%20to%20%5Bthe%20list%20of%20in-place%20things%20on%20the%20chosen%20table%5D,%20%5Bis-are%20a%20list%20of%20out-of-place%20things%20which%20are%20on%20the%20chosen%20table%5D.%22;%5Cn%5Ct%5Ctotherwise%20say%20%22On%20%5Ba%20chosen%20table%5D%20%5Bis-are%20a%20list%20of%20out-of-place%20things%20which%20are%20on%20the%20chosen%20table%5D.%22;%5Cn%5Ctnow%20the%20chosen%20table%20is%20mentioned.%5Cn%5Cn%5BNotice%20that%20we%20can%20still%20override%20this%20with%20writing%20a%20paragraph%20rules%20about%20specific%20supporters%20in%20our%20game,%20if%20we%20decide%20that%20we%20want%20something%20a%20little%20different%20in%20some%20cases.%5D%5Cn%5Cn%5BNow,%20an%20example%20to%20test%20this%20out:%5D%5Cn%5CnSection%202%20-%20A%20Sample%20Scenario%5Cn%5CnThe%20Sand-Floored%20Chamber%20is%20a%20room.%20%22The%20constant%20wind%20has%20filled%20this%20chamber%20with%20a%20layer%20of%20fine%20red%20sand,%20as%20soft%20as%20powder%20snow%5Bif%20the%20diamond%20is%20in%20the%20Sand-floored%20Chamber%5D.%20Something%20sparkling%20is%20half-buried%20in%20the%20corner%5Bend%20if%5D.%20A%20doorway%20lies%20open%20to%20the%20north.%22%5Cn%5CnThe%20sparkling%20diamond%20is%20in%20the%20Sand-floored%20Chamber.%20The%20sparkling%20diamond%20is%20room-placed%20in%20the%20Sand-floored%20Chamber.%20The%20description%20is%20%22It%20is%20a%20vast%20diamond;%20the%20front%20is%20faceted,%20the%20back%20smoothed%20to%20fit%20in%20some%20sort%20of%20socket.%22%5Cn%5CnThe%20Hexagonal%20Temple%20is%20north%20of%20the%20Sand-Floored%20Chamber.%20%22The%20temple%20walls%20are%20great%20ashlar%20blocks%20rising%20to%20a%20hundred%20feet%20overhead,%20perhaps%20more;%20the%20roof%20is%20a%20scarlet%20awning%20only,%20through%20which%20the%20sun%20filters%20down%20in%20blood%20hues.%20Overseeing%20all%20is%20a%20sculpture%20in%20stone%20and%20ivory%5Bif%20the%20sparkling%20diamond%20is%20in%20the%20idol's%20eye%5D,%20in%20whose%20single%20eye%20a%20vast%20diamond%20gleams%5Bend%20if%5D%5Bmat-and-incense%20text%5D.%22.%5Cn%5CnTo%20say%20mat-and-incense%20text:%5Cn%5Ctif%20the%20mat%20is%20in%20the%20Temple%20and%20the%20incense%20stick%20is%20on%20the%20pedestal:%5Cn%5Ct%5Ctsay%20%22.%20A%20prayer%20mat%20at%20the%20idol's%20feet,%20and%20an%20incense%20stick%20still%20burning%20on%20the%20pedestal,%20indicate%20that%20someone%20was%20only%20recently%20consigning%20her%20grievances%20to%20the%20care%20of%20the%20deity%22;%5Cn%5Ctotherwise%20if%20the%20mat%20is%20in%20the%20Temple:%5Cn%5Ct%5Ctsay%20%22.%20At%20the%20idol's%20feet,%20some%20worshipper%20has%20left%20a%20prayer%20mat%22;%5Cn%5Ctotherwise%20if%20the%20incense%20stick%20is%20on%20the%20pedestal:%5Cn%5Ct%5Ctsay%20%22.%20At%20the%20idol's%20side%20is%20a%20pedestal,%20on%20which%20incense%20still%20smolders%22.%5Cn%5Cn%5BWe%20could%20have%20done%20all%20this%20with%20text%20conditions%20in%20the%20main%20room%20description,%20but%20it%20becomes%20difficult%20to%20read%20when%20there%20are%20too%20many%20conditions%20operating%20in%20the%20same%20text%20property,%20so%20we%20break%20it%20out%20into%20a%20clearer%20set%20of%20conditions.%5D%5Cn%5CnThe%20idol%20is%20scenery%20in%20the%20Hexagonal%20Temple.%20Understand%20%22sculpture%22%20or%20%22stone%22%20or%20%22ivory%22%20as%20the%20idol.%20The%20description%20is%20%22The%20idol%20is%20perhaps%20three%20times%20the%20height%20of%20an%20ordinary%20man.%22%5Cn%5CnThe%20idol's%20eye%20is%20part%20of%20the%20idol.%20It%20is%20a%20container.%20The%20description%20is%20%22%5Bif%20the%20diamond%20is%20in%20the%20idol's%20eye%5DIt%20gleams%20with%20purpose%20and%20righteous%20wrath%5Botherwise%5DA%20round%20socket%20in%20the%20center%20of%20the%20idol's%20forehead%20from%20which%20something%20seems%20to%20be%20missing%5Bend%20if%5D.%22%5Cn%5CnThe%20pedestal%20is%20a%20quiet%20supporter%20in%20the%20Hexagonal%20Temple.%20On%20the%20pedestal%20is%20an%20incense%20stick.%20The%20incense%20stick%20is%20placed%20on%20the%20pedestal.%5Cn%5CnA%20mat%20is%20in%20the%20Hexagonal%20Temple.%20It%20is%20room-placed%20in%20the%20Hexagonal%20Temple.%20The%20description%20is%20%22Woven%20of%20assorted%20grasses.%22%5Cn%5CnTest%20me%20with%20%22get%20diamond%20/%20look%20/%20n%20/%20get%20mat%20/%20look%20/%20drop%20diamond%20/%20look%20/%20get%20diamond%20/%20put%20diamond%20in%20eye%20/%20look%20/%20get%20incense%20/%20look%20/%20drop%20mat%20/%20look%20/%20get%20mat%20/%20put%20mat%20on%20pedestal%20/%20look%20/%20put%20incense%20on%20pedestal%20/%20look%22.%5Cn%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "The Eye of the Idol"
</p>
<p class="quoted">
Section 1 - Reusable Material
</p>
</div>
<p>We start by defining relations that let us know where items "belong", with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:</p>

<div class="code">
<p class="quoted">
Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.
</p>
<p class="quoted">
Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.
</p>
</div>
<p>We can't make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say "A thing has an object called the initial placement", which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as "half-buried in dust" in the beginning of the game, and then at the end as "in the eye of the idol" at the end.</p>
<p>Now we define, based on these relations, an "in-place" adjective, which will identify whether something is in a location which will specially describe it:</p>

<div class="code">
<p class="quoted">
Definition: a thing (called prop) is in-place:
<br>    if the prop is in the location and the prop is room-placed in the location, yes;
<br>    if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;
<br>    no.
</p>
<p class="quoted">
Definition: a thing is out-of-place if it is not in-place.
</p>
</div>
<p>With that done, removing these items automatically from the room description is actually pretty easy:</p>

<div class="code"><p class="quoted">
Before listing nondescript items:
<br>    now every marked for listing in-place thing is not marked for listing.
</p></div>
<p>One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object "not marked for listing". What matters here is not whether the object itself is marked for listing but whether the supporter has been "mentioned". (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let's also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:</p>

<div class="code"><p class="quoted">
A supporter can be quiet.
</p></div>
<p>A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.</p>

<div class="code"><p class="quoted">
Rule for writing a paragraph about a quiet supporter (called chosen table):
<br>    if an out-of-place thing is on the chosen table:
<br>        if an in-place thing is on the chosen table,
<br>            say "On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].";
<br>        otherwise say "On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].";
<br>    now the chosen table is mentioned.
</p></div>
<p>Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.</p>
<p>Now, an example to test this out:</p>

<div class="code">
<p class="quoted">
Section 2 - A Sample Scenario
</p>
<p class="quoted">
The Sand-Floored Chamber is a room. "The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north."
</p>
<p class="quoted">
The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is "It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket."
</p>
<p class="quoted">
The Hexagonal Temple is north of the Sand-Floored Chamber. "The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol's eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].".
</p>
<p class="quoted">
To say mat-and-incense text:
<br>    if the mat is in the Temple and the incense stick is on the pedestal:
<br>        say ". A prayer mat at the idol's feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity";
<br>    otherwise if the mat is in the Temple:
<br>        say ". At the idol's feet, some worshipper has left a prayer mat";
<br>    otherwise if the incense stick is on the pedestal:
<br>        say ". At the idol's side is a pedestal, on which incense still smolders".
</p>
</div>
<p>We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.</p>

<div class="code">
<p class="quoted">
The idol is scenery in the Hexagonal Temple. Understand "sculpture" or "stone" or "ivory" as the idol. The description is "The idol is perhaps three times the height of an ordinary man."
</p>
<p class="quoted">
The idol's eye is part of the idol. It is a container. The description is "[if the diamond is in the idol's eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol's forehead from which something seems to be missing[end if]."
</p>
<p class="quoted">
The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.
</p>
<p class="quoted">
A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is "Woven of assorted grasses."
</p>
<p class="quoted">
Test me with "get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.25">WI §18.25. Listing nondescript items of something</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details><details class="full-example" id="example-362"><summary><span class="example-summary">362. Copper River</span> <span class="example-difficulty">★★★</span></summary><div>
<p>In a very dense environment, we might want to offer the player room descriptions in which only the currently-interesting items are mentioned, while other objects are suppressed even if they are present. In effect, this takes the idea of scenery and makes it more flexible: different things might become background objects or foreground objects at different times during play.</p>
<p>There are a wide range of possible reasons to do this -- to shift the narrative emphasis, to change the mood of the game by highlighting different parts of the environment, to show the game from the perspective of different viewpoint characters -- but in the following example, our goal is to show the player only the objects that are currently useful for puzzles.</p>
<p>To do this, we need some notion of what puzzles are currently available and unsolved, so we make an "unsolved" adjective; we also need to know which things solve the puzzle, so we create a "resolving" relation, to indicate which objects resolve which problems.</p>
<p>Given that information, we can create rules about which objects in the game world are currently interesting, which are currently dull, and describe accordingly:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Copper%20River%22%5Cn%5CnUse%20scoring.%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnResolving%20relates%20various%20things%20to%20various%20things.%20The%20verb%20to%20resolve%20means%20the%20resolving%20relation.%5Cn%5CnDefinition:%20a%20thing%20is%20interesting%20if%20it%20is%20not%20dull.%5Cn%5CnDefinition:%20a%20person%20is%20dull:%5Cn%5Ctno.%5Cn%5CnDefinition:%20a%20thing%20is%20dull:%5Cn%5Ctif%20it%20is%20unsolved,%20no;%5Cn%5Ctif%20it%20resolves%20an%20unsolved%20thing,%20no;%5Cn%5Ctyes.%5Cn%5CnDefinition:%20a%20supporter%20is%20dull:%5Cn%5Ctif%20it%20is%20unsolved,%20no;%5Cn%5Ctif%20it%20resolves%20an%20unsolved%20thing,%20no;%5Cn%5Ctif%20it%20supports%20an%20interesting%20thing,%20no;%5Cn%5Ctyes.%5Cn%5CnDefinition:%20a%20container%20is%20dull:%5Cn%5Ctif%20it%20is%20unsolved,%20no;%5Cn%5Ctif%20it%20resolves%20an%20unsolved%20thing,%20no;%5Cn%5Ctif%20it%20contains%20an%20interesting%20thing,%20no;%5Cn%5Ctyes.%5Cn%5CnAfter%20choosing%20notable%20locale%20objects:%5Cn%5Ctrepeat%20with%20item%20running%20through%20unsolved%20things:%5Cn%5Ct%5Ctset%20the%20locale%20priority%20of%20the%20item%20to%201.%5Cn%5CnFor%20printing%20a%20locale%20paragraph%20about%20a%20dull%20thing%20(called%20item):%5Cn%5Ctnow%20the%20item%20is%20mentioned.%5Cn%5CnBefore%20printing%20a%20locale%20paragraph%20about%20a%20supporter%20(called%20item):%5Cn%5Ctnow%20every%20dull%20thing%20on%20the%20item%20is%20mentioned.%5Cn%5CnBefore%20printing%20a%20locale%20paragraph%20about%20a%20container%20(called%20item):%5Cn%5Ctnow%20every%20dull%20thing%20on%20the%20item%20is%20mentioned.%5Cn%5CnInstead%20of%20searching%20a%20supporter:%5Cn%5Ctif%20the%20noun%20supports%20something%20interesting:%5Cn%5Ct%5Ctsay%20%22%5BA%20list%20of%20interesting%20things%20on%20the%20noun%5D%20%5Bare%5D%20on%20%5Bthe%20noun%5D%22;%5Cn%5Ct%5Ctif%20the%20noun%20supports%20something%20dull:%5Cn%5Ct%5Ct%5Ctsay%20%22%20(alongside%20%5Ba%20list%20of%20dull%20things%20on%20the%20noun%5D)%22;%5Cn%5Ct%5Ctsay%20%22.%22;%5Cn%5Ctotherwise%20if%20the%20noun%20supports%20something%20dull:%5Cn%5Ct%5Ctsay%20%22There's%20nothing%20very%20useful%20here,%20only%20%5Ba%20list%20of%20dull%20things%20on%20the%20noun%5D.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5BThe%20noun%5D%20%5Bare%5D%20completely%20bare.%22%5Cn%5CnInstead%20of%20searching%20a%20container:%5Cn%5Ctif%20the%20noun%20contains%20something%20interesting:%5Cn%5Ct%5Ctsay%20%22%5BA%20list%20of%20interesting%20things%20in%20the%20noun%5D%20%5Bare%5D%20in%20%5Bthe%20noun%5D%22;%5Cn%5Ct%5Ctif%20the%20noun%20contains%20something%20dull:%5Cn%5Ct%5Ct%5Ctsay%20%22%20(alongside%20%5Ba%20list%20of%20dull%20things%20in%20the%20noun%5D)%22;%5Cn%5Ct%5Ctsay%20%22.%22;%5Cn%5Ctotherwise%20if%20the%20noun%20contains%20something%20dull:%5Cn%5Ct%5Ctsay%20%22There's%20nothing%20very%20useful%20here,%20only%20%5Ba%20list%20of%20dull%20things%20in%20the%20noun%5D.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5BThe%20noun%5D%20%5Bare%5D%20completely%20empty.%22%5Cn%5CnBefore%20listing%20contents%20when%20not%20taking%20inventory:%20group%20dull%20things%20together.%5Cn%5CnRule%20for%20grouping%20together%20dull%20things:%20say%20%22assorted%20dull%20items%22.%5Cn%5Cn%5CnSection%202%20-%20Scenario%20World%20and%20Objects%5Cn%5CnThe%20Kitchen%20is%20a%20room.%20%22Your%20Aunt%20Fiona's%20kitchen%20looks%20as%20though%20it%20has%20been%20at%20the%20eye%20of%20a%20glitter%20storm.%20Fine,%20sparkling%20grit%20dusts%20every%20surface.%20The%20appliances%20are%20slightly%20askew,%20too,%20as%20though%20they%20hadn't%20quite%20settled%20after%20a%20vigorous%20earthquake.%22%5Cn%5CnThe%20shelf%20is%20a%20scenery%20supporter%20in%20the%20Kitchen.%20On%20the%20shelf%20is%20a%20can%20of%20beans,%20a%20can%20of%20potato%20leek%20soup,%20and%20a%20tin%20of%20deflating%20powder.%5Cn%5CnThe%20cabinet%20is%20a%20scenery%20container%20in%20the%20Kitchen.%20In%20the%20cabinet%20is%20a%20book%20of%20matches,%20a%20bottle%20of%20descaling%20solution,%20a%20fish%20hook,%20and%20a%20rusty%20knife.%20It%20is%20openable%20and%20closed.%5Cn%5CnThe%20counter%20is%20a%20scenery%20supporter%20in%20the%20Kitchen.%20On%20the%20counter%20is%20an%20espresso%20machine,%20a%20blender,%20and%20a%20mortar.%20The%20blender%20and%20the%20mortar%20are%20containers.%20In%20the%20mortar%20is%20a%20pestle.%20Understand%20%22countertop%22%20as%20the%20counter.%5Cn%5CnThe%20stove%20is%20a%20scenery%20supporter%20in%20the%20Kitchen.%20The%20oven%20is%20part%20of%20the%20stove.%20The%20oven%20is%20a%20closed%20openable%20container.%5Cn%5CnThe%20refrigerator%20is%20a%20fixed%20in%20place%20container%20in%20the%20Kitchen.%5Cn%5CtUnderstand%20%22fridge%22%20as%20the%20refrigerator.%5Cn%5CtThe%20description%20is%20%22The%20refrigerator%20is%20a%20dull%20blue-green,%20and%20has%20a%20puffy,%20marshmallow%20texture%20on%20the%20outside,%20which%20means%20that%20it's%20no%20good%20for%20sticking%20magnets%20to.%20Aunt%20Fiona%20has%20never%20been%20willing%20to%20explain%20where%20she%20got%20it.%22%20The%20refrigerator%20is%20openable%20and%20closed.%5Cn%5CnIn%20the%20refrigerator%20are%20a%20bottle%20of%20ice%20wine,%20a%20bag%20of%20carrot%20sticks,%20and%20an%20egg.%5Cn%5CnAunt%20Fiona%20is%20a%20woman%20in%20the%20Kitchen.%20Aunt%20Fiona%20can%20be%20inflated%20or%20deflated.%20Aunt%20Fiona%20is%20inflated.%20%22%5Bif%20Aunt%20Fiona%20is%20inflated%5DAunt%20Fiona%20stands%20nearby.%20Or%20perhaps%20'stands'%20is%20the%20wrong%20word:%20she%20has%20been%20sort%20of%20puffed%20up%20in%20her%20own%20skin%20like%20a%20balloon,%20and%20is%20now%20propped%20in%20a%20corner%20of%20the%20room%20with%20her%20head%20lolling%20back%5Botherwise%5DAunt%20Fiona%20stands%20--%20on%20her%20own%20two%20slender%20legs%20--%20at%20the%20center%20of%20the%20room%5Bend%20if%5D.%22%5Cn%5CnEvery%20turn%20when%20Fiona%20is%20unsolved%20and%20Fiona%20can%20see%20the%20player:%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%203%20succeeds:%5Cn%5Ct%5Ctsay%20%22%5Bone%20of%5DAunt%20Fiona's%20eyes%20follow%20you,%20wide%20and%20desperate,%20but%20it%20doesn't%20look%20like%20she's%20able%20to%20do%20anything%5Bor%5DAunt%20Fiona%20is%20still%20looking%20reproachful%5Bor%5DA%20faint%20gurgling%20comes%20from%20Aunt%20Fiona%5Bor%5DAunt%20Fiona%20makes%20a%20funny%20croak%20noise%5Bor%5DAunt%20Fiona%20is%20still%20having%20trouble%20speaking.%20Perhaps%20her%20throat%20is%20as%20swollen%20as%20the%20rest%20of%20her%5Bor%5DAunt%20Fiona%20twitches%5Bstopping%5D.%22%5Cn%5CnThere%20is%20a%20thing%20called%20a%20salmon.%20Understand%20%22fish%22%20as%20the%20salmon.%20The%20salmon%20can%20be%20scaly%20or%20prepared.%20The%20salmon%20is%20scaly.%20The%20description%20is%20%22%5Bif%20scaly%5DIt%20looks%20delicious,%20but%20is%20still%20covered%20with%20scales%5Botherwise%5DThe%20salmon%20has%20been%20scaled%20and%20is%20ready%20to%20eat%5Bend%20if%5D.%22%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20salmon%20when%20the%20salmon%20is%20scaly:%5Cn%5Ctsay%20%22very%20scaly%20%22.%5Cn%5CnSection%203%20-%20Scenario%20Puzzles%5Cn%5CnDefinition:%20Aunt%20Fiona%20is%20unsolved%20if%20she%20is%20inflated.%5CnDefinition:%20the%20salmon%20is%20unsolved:%5Cn%5Ctif%20the%20salmon%20is%20off-stage,%20no;%5Cn%5Ctif%20the%20salmon%20is%20scaly,%20yes;%5Cn%5Ctno.%5Cn%5CnThe%20deflating%20powder%20resolves%20Aunt%20Fiona.%5Cn%5CnInstead%20of%20putting%20the%20deflating%20powder%20on%20Aunt%20Fiona:%5Cn%5Cttry%20throwing%20the%20deflating%20powder%20at%20Aunt%20Fiona.%5CnInstead%20of%20giving%20the%20deflating%20powder%20to%20Aunt%20Fiona:%5Cn%5Cttry%20throwing%20the%20deflating%20powder%20at%20Aunt%20Fiona.%5Cn%5CnInstead%20of%20throwing%20the%20deflating%20powder%20at%20Aunt%20Fiona:%5Cn%5Ctif%20Aunt%20Fiona%20is%20inflated:%5Cn%5Ct%5Ctsay%20%22You%20toss%20some%20of%20the%20powder%20in%20Aunt%20Fiona's%20direction,%20and%20with%20a%20sudden%20gaseous%20HUFF!%20she%20returns%20to%20her%20usual%20shape%20and%20size.%20%5Bparagraph%20break%5D'Well!'%20she%20says,%20brushing%20herself%20off.%20'That%20was%20bracing!'%20%5Bparagraph%20break%5DYou%20give%20her%20an%20embarrassed%20smile,%20to%20apologize%20for%20not%20curing%20her%20faster.%22;%5Cn%5Ct%5Ctnow%20Aunt%20Fiona%20is%20deflated;%5Cn%5Ct%5Ctincrease%20the%20score%20by%202;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5Bone%20of%5DYou%20throw%20another%20hefty%20dose%20of%20the%20powder%20at%20your%20aunt.%20%5Bparagraph%20break%5D'Thank%20you,%20child,'%20she%20says,%20sneezing.%20'But%20I%20think%20you've%20done%20enough%20now.'%5Bor%5DYou%20throw%20another%20hefty%20dose%20of%20the%20powder%20at%20your%20aunt.%20%5Bparagraph%20break%5D'You're%20too%20kind,'%20she%20wheezes,%20through%20a%20cloud%20of%20glittering%20dust.%5Bor%5DYou've%20probably%20done%20enough%20with%20the%20powder.%5Bstopping%5D%22.%5Cn%5CnEvery%20turn%20when%20Aunt%20Fiona%20is%20deflated%20and%20the%20salmon%20is%20off-stage:%5Cn%5Ctmove%20the%20salmon%20to%20the%20counter;%5Cn%5Ctsay%20%22'At%20least%20they%20didn't%20get%20this,'%20she%20says,%20producing%20from%20somewhere%20on%20her%20person%20a%20fresh-caught%20salmon.%20An%20odd%20pattern%20around%20its%20eye%20sockets%20makes%20it%20looks%20comically%20as%20though%20it%20wears%20spectacles.%20'It's%20the%20Salmon%20of%20Knowledge,'%20she%20explains%20casually.%20'We%20just%20need%20to%20scale%20and%20cook%20it.'%22%5Cn%5CnThe%20bottle%20of%20descaling%20solution%20resolves%20the%20salmon.%5Cn%5CnDoes%20the%20player%20mean%20putting%20the%20descaling%20solution%20on%20the%20fish%20hook:%20it%20is%20unlikely.%5CnDoes%20the%20player%20mean%20putting%20the%20descaling%20solution%20on%20the%20salmon:%20it%20is%20very%20likely.%5Cn%5CnInstead%20of%20putting%20the%20bottle%20of%20descaling%20solution%20on%20the%20salmon:%5Cn%5Ctif%20the%20salmon%20is%20scaly:%5Cn%5Ct%5Ctnow%20the%20salmon%20is%20prepared;%5Cn%5Ct%5Ctsay%20%22With%20just%20a%20single%20squirt%20of%20the%20descaling%20solution%20(which%20confusingly%20has%20a%20picture%20of%20bathroom%20tiles%20on%20the%20label),%20you%20remove%20the%20scales%20from%20the%20salmon,%20leaving%20its%20pink%20flesh%20ready%20for%20preparation.%22;%5Cn%5Ct%5Ctincrease%20the%20score%20by%202;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22'Don't%20do%20that,'%20Aunt%20Fiona%20warns%20you.%20'Excessive%20applications%20could%20damage%20the%20flesh.'%22%5Cn%5CnTest%20me%20with%20%22look%20/%20get%20powder%20/%20drop%20powder%20/%20look%20/%20look%20in%20cabinet%20/%20get%20powder%20/%20put%20powder%20on%20fiona%20/%20look%20/%20open%20cabinet%20/%20look%20in%20cabinet%20/%20get%20solution%20/%20open%20fridge%20/%20put%20solution%20in%20fridge%20/%20look%20/%20get%20solution%20/%20put%20solution%20on%20salmon%20/%20look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Copper River"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
Resolving relates various things to various things. The verb to resolve means the resolving relation.
</p>
<p class="quoted">
Definition: a thing is interesting if it is not dull.
</p>
<p class="quoted">
Definition: a person is dull:
<br>    no.
</p>
<p class="quoted">
Definition: a thing is dull:
<br>    if it is unsolved, no;
<br>    if it resolves an unsolved thing, no;
<br>    yes.
</p>
<p class="quoted">
Definition: a supporter is dull:
<br>    if it is unsolved, no;
<br>    if it resolves an unsolved thing, no;
<br>    if it supports an interesting thing, no;
<br>    yes.
</p>
<p class="quoted">
Definition: a container is dull:
<br>    if it is unsolved, no;
<br>    if it resolves an unsolved thing, no;
<br>    if it contains an interesting thing, no;
<br>    yes.
</p>
<p class="quoted">
After choosing notable locale objects:
<br>    repeat with item running through unsolved things:
<br>        set the locale priority of the item to 1.
</p>
<p class="quoted">
For printing a locale paragraph about a dull thing (called item):
<br>    now the item is mentioned.
</p>
<p class="quoted">
Before printing a locale paragraph about a supporter (called item):
<br>    now every dull thing on the item is mentioned.
</p>
<p class="quoted">
Before printing a locale paragraph about a container (called item):
<br>    now every dull thing on the item is mentioned.
</p>
<p class="quoted">
Instead of searching a supporter:
<br>    if the noun supports something interesting:
<br>        say "[A list of interesting things on the noun] [are] on [the noun]";
<br>        if the noun supports something dull:
<br>            say " (alongside [a list of dull things on the noun])";
<br>        say ".";
<br>    otherwise if the noun supports something dull:
<br>        say "There's nothing very useful here, only [a list of dull things on the noun].";
<br>    otherwise:
<br>        say "[The noun] [are] completely bare."
</p>
<p class="quoted">
Instead of searching a container:
<br>    if the noun contains something interesting:
<br>        say "[A list of interesting things in the noun] [are] in [the noun]";
<br>        if the noun contains something dull:
<br>            say " (alongside [a list of dull things in the noun])";
<br>        say ".";
<br>    otherwise if the noun contains something dull:
<br>        say "There's nothing very useful here, only [a list of dull things in the noun].";
<br>    otherwise:
<br>        say "[The noun] [are] completely empty."
</p>
<p class="quoted">
Before listing contents when not taking inventory: group dull things together.
</p>
<p class="quoted">
Rule for grouping together dull things: say "assorted dull items".
</p>
<p class="quoted">
Section 2 - Scenario World and Objects
</p>
<p class="quoted">
The Kitchen is a room. "Your Aunt Fiona's kitchen looks as though it has been at the eye of a glitter storm. Fine, sparkling grit dusts every surface. The appliances are slightly askew, too, as though they hadn't quite settled after a vigorous earthquake."
</p>
<p class="quoted">
The shelf is a scenery supporter in the Kitchen. On the shelf is a can of beans, a can of potato leek soup, and a tin of deflating powder.
</p>
<p class="quoted">
The cabinet is a scenery container in the Kitchen. In the cabinet is a book of matches, a bottle of descaling solution, a fish hook, and a rusty knife. It is openable and closed.
</p>
<p class="quoted">
The counter is a scenery supporter in the Kitchen. On the counter is an espresso machine, a blender, and a mortar. The blender and the mortar are containers. In the mortar is a pestle. Understand "countertop" as the counter.
</p>
<p class="quoted">
The stove is a scenery supporter in the Kitchen. The oven is part of the stove. The oven is a closed openable container.
</p>
<p class="quoted">
The refrigerator is a fixed in place container in the Kitchen.
<br>    Understand "fridge" as the refrigerator.
<br>    The description is "The refrigerator is a dull blue-green, and has a puffy, marshmallow texture on the outside, which means that it's no good for sticking magnets to. Aunt Fiona has never been willing to explain where she got it." The refrigerator is openable and closed.
</p>
<p class="quoted">
In the refrigerator are a bottle of ice wine, a bag of carrot sticks, and an egg.
</p>
<p class="quoted">
Aunt Fiona is a woman in the Kitchen. Aunt Fiona can be inflated or deflated. Aunt Fiona is inflated. "[if Aunt Fiona is inflated]Aunt Fiona stands nearby. Or perhaps 'stands' is the wrong word: she has been sort of puffed up in her own skin like a balloon, and is now propped in a corner of the room with her head lolling back[otherwise]Aunt Fiona stands -- on her own two slender legs -- at the center of the room[end if]."
</p>
<p class="quoted">
Every turn when Fiona is unsolved and Fiona can see the player:
<br>    if a random chance of 1 in 3 succeeds:
<br>        say "[one of]Aunt Fiona's eyes follow you, wide and desperate, but it doesn't look like she's able to do anything[or]Aunt Fiona is still looking reproachful[or]A faint gurgling comes from Aunt Fiona[or]Aunt Fiona makes a funny croak noise[or]Aunt Fiona is still having trouble speaking. Perhaps her throat is as swollen as the rest of her[or]Aunt Fiona twitches[stopping]."
</p>
<p class="quoted">
There is a thing called a salmon. Understand "fish" as the salmon. The salmon can be scaly or prepared. The salmon is scaly. The description is "[if scaly]It looks delicious, but is still covered with scales[otherwise]The salmon has been scaled and is ready to eat[end if]."
</p>
<p class="quoted">
Before printing the name of the salmon when the salmon is scaly:
<br>    say "very scaly ".
</p>
<p class="quoted">
Section 3 - Scenario Puzzles
</p>
<p class="quoted">
Definition: Aunt Fiona is unsolved if she is inflated.
<br>Definition: the salmon is unsolved:
<br>    if the salmon is off-stage, no;
<br>    if the salmon is scaly, yes;
<br>    no.
</p>
<p class="quoted">
The deflating powder resolves Aunt Fiona.
</p>
<p class="quoted">
Instead of putting the deflating powder on Aunt Fiona:
<br>    try throwing the deflating powder at Aunt Fiona.
<br>Instead of giving the deflating powder to Aunt Fiona:
<br>    try throwing the deflating powder at Aunt Fiona.
</p>
<p class="quoted">
Instead of throwing the deflating powder at Aunt Fiona:
<br>    if Aunt Fiona is inflated:
<br>        say "You toss some of the powder in Aunt Fiona's direction, and with a sudden gaseous HUFF! she returns to her usual shape and size. [paragraph break]'Well!' she says, brushing herself off. 'That was bracing!' [paragraph break]You give her an embarrassed smile, to apologize for not curing her faster.";
<br>        now Aunt Fiona is deflated;
<br>        increase the score by 2;
<br>    otherwise:
<br>        say "[one of]You throw another hefty dose of the powder at your aunt. [paragraph break]'Thank you, child,' she says, sneezing. 'But I think you've done enough now.'[or]You throw another hefty dose of the powder at your aunt. [paragraph break]'You're too kind,' she wheezes, through a cloud of glittering dust.[or]You've probably done enough with the powder.[stopping]".
</p>
<p class="quoted">
Every turn when Aunt Fiona is deflated and the salmon is off-stage:
<br>    move the salmon to the counter;
<br>    say "'At least they didn't get this,' she says, producing from somewhere on her person a fresh-caught salmon. An odd pattern around its eye sockets makes it looks comically as though it wears spectacles. 'It's the Salmon of Knowledge,' she explains casually. 'We just need to scale and cook it.'"
</p>
<p class="quoted">
The bottle of descaling solution resolves the salmon.
</p>
<p class="quoted">
Does the player mean putting the descaling solution on the fish hook: it is unlikely.
<br>Does the player mean putting the descaling solution on the salmon: it is very likely.
</p>
<p class="quoted">
Instead of putting the bottle of descaling solution on the salmon:
<br>    if the salmon is scaly:
<br>        now the salmon is prepared;
<br>        say "With just a single squirt of the descaling solution (which confusingly has a picture of bathroom tiles on the label), you remove the scales from the salmon, leaving its pink flesh ready for preparation.";
<br>        increase the score by 2;
<br>    otherwise:
<br>        say "'Don't do that,' Aunt Fiona warns you. 'Excessive applications could damage the flesh.'"
</p>
<p class="quoted">
Test me with "look / get powder / drop powder / look / look in cabinet / get powder / put powder on fiona / look / open cabinet / look in cabinet / get solution / open fridge / put solution in fridge / look / get solution / put solution on salmon / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.28">WI §18.28. Printing a locale paragraph about</a><br><a href="rb_3.html#rb-3.1">RB §3.1. Room Descriptions</a>
</div></details>
</div></section>
<section class="section" id="rb-3.2"><div>





<h3>RB §3.2. Map</h3>
<p>A work of IF contains many spectacles and activities, and these must not all present themselves at once, or the player will be overwhelmed. One way to spread them out is in time, by having them available only as a plot develops, but another is to spread them out literally in space. The player has to walk between the Library and the Swimming Pool, and thus bookish and athletic tasks are not both presenting themselves at once. There have been valiant "one-room" IFs, and it forms a respectable sub-genre of the art, but most works of any size need a map.</p>
<p>Inform, following IF conventions, divides the world up into locations called "rooms", connected together by so-called "map connections" along compass bearings. Thus:</p>

<div class="code"><p class="quoted">
The Library is east of the Swimming Pool.
</p></div>
<p>The example <a href="rb_3.html#example-5" class="example-link" onClick="(function() { document.getElementById('example-5').setAttribute('open','open'); return true; })();">Port Royal 1</a><span class="example-difficulty"> ★</span> develops a medium-sized map from such sentences. This develops in <a href="rb_3.html#example-9" class="example-link" onClick="(function() { document.getElementById('example-9').setAttribute('open','open'); return true; })();">Port Royal 2</a><span class="example-difficulty"> ★</span> to include connections which bend around, allowing the rooms not to lie on an imaginary square grid.</p>
<p>Because it is useful to group rooms together under names describing whole areas, Inform also allows rooms to be placed in "regions". Thus:</p>

<div class="code"><p class="quoted">
The Campus Area is a region. The Library and the Swimming Pool are in the Campus Area.
</p></div>
<p><a href="rb_3.html#example-10" class="example-link" onClick="(function() { document.getElementById('example-10').setAttribute('open','open'); return true; })();">Port Royal 3</a><span class="example-difficulty"> ★</span> demonstrates this further. <a href="rb_3.html#example-101" class="example-link" onClick="(function() { document.getElementById('example-101').setAttribute('open','open'); return true; })();">A&amp;E</a><span class="example-difficulty"> ★★</span> shows how regions can be used to write simple rules which regulate access to and from whole areas of the map.</p>
<p>Many old-school IF puzzles involve journeys through the map which are confused, randomised or otherwise frustrated: see <a href="rb_3.html#example-125" class="example-link" onClick="(function() { document.getElementById('example-125').setAttribute('open','open'); return true; })();">Bee Chambers</a><span class="example-difficulty"> ★</span> for a typical maze, <a href="rb_3.html#example-134" class="example-link" onClick="(function() { document.getElementById('example-134').setAttribute('open','open'); return true; })();">Zork II</a><span class="example-difficulty"> ★</span> for a randomised connection, <a href="rb_3.html#example-40" class="example-link" onClick="(function() { document.getElementById('example-40').setAttribute('open','open'); return true; })();">Prisoner's Dilemma</a><span class="example-difficulty"> ★★</span> for a change in the map occurring during play. A completely random map takes us away from traditional IF and more towards a different sort of old-school game, the computerised role-playing game with its endless quests through dungeons with randomly generated treasures and monsters. This style of map - building itself one step at a time, as the player explores - can sometimes be useful to provide an illusion of infinite expanse: see <a href="rb_3.html#example-78" class="example-link" onClick="(function() { document.getElementById('example-78').setAttribute('open','open'); return true; })();">All Roads Lead To Mars</a><span class="example-difficulty"> ★</span>.</p>
<p>While the standard compass directions are conventional in IF, there are times when we may want to replace them without other forms of directional relationship. <a href="rb_3.html#example-287" class="example-link" onClick="(function() { document.getElementById('example-287').setAttribute('open','open'); return true; })();">Indirection</a><span class="example-difficulty"> ★</span> renames the compass directions to correspond to primary colors, as in Mayan thinking. <a href="rb_3.html#example-41" class="example-link" onClick="(function() { document.getElementById('example-41').setAttribute('open','open'); return true; })();">The World of Charles S. Roberts</a><span class="example-difficulty"> ★★</span> substitutes new ones, instead, introducing a hex-grid map in place of the usual one.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_6.html#rb-6.9" class="crossreference_link">Going, Pushing Things in Directions</a> for ways to add more relative directions, such as context-sensitive understanding of OUT and IN</div>
<div class="crossreference">
<a href="rb_3.html#rb-3.1" class="crossreference_link">Room Descriptions</a> for ways to modify the room description printed</div>
<div class="crossreference">
<a href="rb_8.html#rb-8.2" class="crossreference_link">Ships, Trains and Elevators</a> for rooms which move around in the map and for directions aboard a ship</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-5"><summary><span class="example-summary">5. Port Royal 1</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%221691%22%5Cn%5CnFort%20James%20is%20a%20room.%20%22The%20enclosure%20of%20Fort%20James%20is%20a%20large,%20roughly%20hexagonal%20court%20walled%20with%20heavy%20stone.%20%20The%20walls%20face%20the%20entrance%20to%20Port%20Royal%20Harbour,%20and%20the%20battery%20of%20guns%20is%20prepared%20to%20destroy%20any%20enemy%20ship%20arriving.%22%5Cn%5Cn%5BUnless%20we%20arrange%20otherwise,%20this%20will%20be%20the%20first%20room%20in%20the%20game%20because%20it%20is%20the%20first%20we%20have%20defined.%5D%5Cn%5Cn%5BFor%20subsequent%20rooms,%20we%20do%20not%20have%20to%20say%20explicitly%20that%20they%20are%20rooms,%20as%20long%20as%20they%20are%20connected%20to%20a%20room%20on%20the%20map.%20For%20instance,%20this%20will%20automatically%20make%20Thames%20Street%20End%20a%20room:%5D%5Cn%5CnThames%20Street%20End%20is%20south%20of%20Fort%20James.%20%22The%20ill-named%20Thames%20Street%20runs%20from%20here%20--%20at%20the%20point%20of%20the%20peninsula%20--%20all%20the%20way%20east%20among%20houses%20and%20shops,%20through%20the%20Fish%20Market,%20edging%20by%20the%20round%20front%20of%20Fort%20Carlisle,%20to%20the%20point%20where%20the%20town%20stops%20and%20there%20is%20only%20sandy%20spit%20beyond.%20Lime%20Street,%20wider%20and%20healthier%20but%20not%20as%20rich,%20runs%20directly%20south,%20and%20to%20the%20north%20the%20road%20opens%20up%20into%20the%20courtyard%20of%20Fort%20James.%22%5Cn%5CnWater%20Lane%20is%20east%20of%20Thames%20Street%20End.%20%22Here%20Thames%20Street%20--%20never%20very%20straight%20--%20goes%20steeply%20southeast%20for%20a%20portion%20before%20continuing%20more%20directly%20to%20the%20east.%5Cn%5CnWater%20Lane%20runs%20south%20toward%20Queen%20Street,%20and%20facing%20onto%20it%20is%20the%20New%20Prison%20--%20which,%20in%20the%20way%20of%20these%20things,%20is%20neither.%20%20It%20did%20serve%20in%20that%20capacity%20for%20a%20time,%20and%20in%20a%20measure%20of%20the%20villainy%20which%20has%20been%20usual%20in%20Port%20Royal%20from%20its%20earliest%20days,%20it%20is%20nearly%20the%20largest%20building%20in%20the%20town.%22%5Cn%5Cn%5BIf%20we%20have%20some%20concern%20that%20the%20room%20name%20will%20be%20confused%20with%20an%20existing%20name,%20we%20can%20be%20more%20explicit%20about%20it%20using%20%22called%22:%5D%5Cn%5CnEast%20of%20Water%20Lane%20is%20a%20room%20called%20Thames%20Street%20at%20the%20Wherry%20Bridge.%20%20Thames%20Street%20at%20the%20Wherry%20Bridge%20has%20the%20description%20%22To%20the%20southwest%20is%20the%20fishmarket;%20directly%20across%20the%20street%20is%20the%20entrance%20to%20a%20private%20alley%20through%20a%20brick%20archway.%22%5Cn%5CnThe%20Private%20Alley%20is%20south%20of%20Thames%20Street%20at%20the%20Wherry%20Bridge.%20%22You're%20just%20outside%20the%20tavern%20the%20Feathers.%20To%20the%20north,%20under%20a%20pretty%20little%20archway,%20is%20the%20active%20mayhem%20of%20Thames%20Street,%20but%20the%20alley%20narrows%20down%20to%20a%20dead%20end%20a%20little%20distance%20to%20the%20south.%22%5Cn%5Cn%5BAnd%20now%20we%20get%20%22inside%22,%20which%20generates%20a%20space%20treated%20as%20its%20own%20area%20on%20the%20map.%5D%5Cn%5CnThe%20Feathers%20is%20inside%20from%20the%20Private%20Alley.%20%20%22Newly%20built%20with%20brick,%20replacing%20the%20older%20Feathers%20tavern%20that%20used%20to%20stand%20here.%20It%20sells%20wines%20in%20quantity,%20as%20well%20as%20serving%20them%20directly,%20and%20the%20goods%20are%20always%20of%20the%20best%20quality.%20There's%20a%20room%20upstairs%20for%20those%20wanting%20to%20stay%20the%20night.%22%20The%20Feathers%20Bedroom%20is%20above%20the%20Feathers.%5Cn%5Cn%5BAnd%20if%20we%20like%20we%20can%20declare%20a%20number%20of%20rooms%20for%20which%20we%20will%20come%20back%20and%20write%20the%20descriptions%20later.%20There%20is%20no%20obligation%20for%20the%20description%20to%20occur%20at%20the%20first%20definition%20of%20the%20room.%5D%5Cn%5CnLime%20Street%20is%20south%20of%20Thames%20Street%20End.%5Cn%5Cn%5BFor%20efficiency,%20we%20can%20also%20write%20multiple%20sets%20of%20connections%20at%20once:%5D%5Cn%5CnQueen%20Street%20East%20is%20east%20of%20Queen%20Street%20Middle%20and%20south%20of%20Private%20Alley.%5Cn%5Cn%5BClicking%20Go%20will%20translate%20this%20description%20into%20a%20sketchy%20but%20working%20simulation%20of%20Port%20Royal,%20in%20which%20we%20can%20type%20movement%20commands%20like%20EAST%20or%20SOUTH%20to%20explore%20the%20streets.%20Looking%20at%20the%20World%20tab%20of%20the%20Index,%20we%20can%20also%20see%20a%20schematic%20map%20of%20the%20simulation%20as%20it%20currently%20stands.%20Like%20the%20rest%20of%20the%20Index,%20this%20is%20provided%20entirely%20for%20the%20author's%20benefit,%20and%20is%20not%20visible%20to%20the%20player.%20(Though%20if%20we%20do%20decide%20that%20we%20want%20players%20to%20have%20access%20to%20a%20printed%20map%20while%20they%20play,%20Inform%20can%20help:%20we%20will%20return%20to%20the%20layout%20of%20Port%20Royal%20in%20the%20chapter%20on%20Publishing.)%5D%5Cn%5Cn%5BThe%20following%20Test%20command%20allows%20us%20to%20type%20TEST%20ME%20and%20explore%20the%20map%20we%20just%20devised:%5D%5Cn%5CnTest%20me%20with%20%22s%20/%20e%20/%20e%20/%20s%20/%20in%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "1691"
</p>
<p class="quoted">
Fort James is a room. "The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving."
</p>
</div>
<p>Unless we arrange otherwise, this will be the first room in the game because it is the first we have defined.</p>
<p>For subsequent rooms, we do not have to say explicitly that they are rooms, as long as they are connected to a room on the map. For instance, this will automatically make Thames Street End a room:</p>

<div class="code">
<p class="quoted">
Thames Street End is south of Fort James. "The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond. Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James."
</p>
<p class="quoted">
Water Lane is east of Thames Street End. "Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.
</p>
<p class="quoted">
Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town."
</p>
</div>
<p>If we have some concern that the room name will be confused with an existing name, we can be more explicit about it using "called":</p>

<div class="code">
<p class="quoted">
East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description "To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway."
</p>
<p class="quoted">
The Private Alley is south of Thames Street at the Wherry Bridge. "You're just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south."
</p>
</div>
<p>And now we get "inside", which generates a space treated as its own area on the map.</p>

<div class="code"><p class="quoted">
The Feathers is inside from the Private Alley.  "Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There's a room upstairs for those wanting to stay the night." The Feathers Bedroom is above the Feathers.
</p></div>
<p>And if we like we can declare a number of rooms for which we will come back and write the descriptions later. There is no obligation for the description to occur at the first definition of the room.</p>

<div class="code"><p class="quoted">
Lime Street is south of Thames Street End.
</p></div>
<p>For efficiency, we can also write multiple sets of connections at once:</p>

<div class="code"><p class="quoted">
Queen Street East is east of Queen Street Middle and south of Private Alley.
</p></div>
<p>Clicking Go will translate this description into a sketchy but working simulation of Port Royal, in which we can type movement commands like EAST or SOUTH to explore the streets. Looking at the World tab of the Index, we can also see a schematic map of the simulation as it currently stands. Like the rest of the Index, this is provided entirely for the author's benefit, and is not visible to the player. (Though if we do decide that we want players to have access to a printed map while they play, Inform can help: we will return to the layout of Port Royal in the chapter on Publishing.)</p>
<p>The following Test command allows us to type TEST ME and explore the map we just devised:</p>

<div class="code"><p class="quoted">
Test me with "s / e / e / s / in".
</p></div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.2">WI §3.2. Rooms and the map</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-9"><summary><span class="example-summary">9. Port Royal 2</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%221691%22%5Cn%5CnThames%20Street%20End%20is%20a%20room.%5Cn%5Cn%5BIf%20we%20check%20out%20a%20map%20of%20historic%20Port%20Royal,%20we%20find%20that%20Thames%20Street%20End%20bends%20around%20the%20northwest%20tip%20of%20the%20peninsula%20and%20becomes%20the%20(very)%20roughly%20north/south%20Fisher's%20Row.%20We%20can't%20put%20Fisher's%20Row%20south%20of%20Thames%20Street%20End,%20though,%20because%20Lime%20Street%20is%20already%20going%20that%20way.%20So%20instead,%20let's%20have%20a%20map%20connection%20that%20bends%20around%20from%20west%20to%20north:%5D%5Cn%5CnWest%20of%20Thames%20Street%20End%20is%20north%20of%20Fisher's%20Row.%5Cn%5Cn%5BNow%20continuing%20west%20along%20Thames%20Street,%20or%20north%20along%20Fisher's%20Row,%20will%20bring%20us%20around%20the%20corner%20in%20question.%20Asymmetric%20map%20connections%20should%20be%20used%20carefully.%20They're%20good%20for%20representing%20the%20layout%20of%20the%20real%20world,%20which%20tends%20not%20to%20be%20laid%20out%20on%20a%20convenient%20square%20matrix,%20but%20if%20exits%20are%20not%20described%20clearly%20they%20can%20be%20disorienting%20for%20the%20player.%20So%20let's%20be%20sure%20to%20make%20things%20clear:%5D%5Cn%5CnThe%20description%20of%20Fisher's%20Row%20is%20%22A%20waterfront%20street%20that%20runs%20south%20towards%20Chocolata%20Hole,%20where%20the%20small%20craft%20are%20harboured.%20It%20also%20continues%20north%20around%20the%20tip%20of%20the%20peninsula%20from%20here,%20turning%20into%20the%20east-west%20Thames%20Street.%22%5Cn%5Cn%5BMeanwhile,%20suppose%20Fort%20James%20is%20in%20a%20prominent%20position,%20raised%20a%20bit%20from%20its%20surroundings;%20maybe%20the%20player%20should%20be%20able%20to%20go%20down%20from%20there,%20as%20well%20as%20south,%20to%20get%20to%20Thames%20Street%20End.%5D%5Cn%5CnThames%20Street%20End%20is%20down%20from%20Fort%20James.%20Thames%20Street%20End%20is%20south%20from%20Fort%20James.%5Cn%5Cn%5BBut%20we%20don't%20want%20the%20upward%20direction%20to%20work:%5D%5Cn%5CnUp%20from%20Thames%20Street%20End%20is%20nowhere.%5Cn%5CnTest%20me%20with%20%22n%20/%20d%20/%20u%20/%20w%20/%20e%20/%20n%20/%20s%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "1691"
</p>
<p class="quoted">
Thames Street End is a room.
</p>
</div>
<p>If we check out a map of historic Port Royal, we find that Thames Street End bends around the northwest tip of the peninsula and becomes the (very) roughly north/south Fisher's Row. We can't put Fisher's Row south of Thames Street End, though, because Lime Street is already going that way. So instead, let's have a map connection that bends around from west to north:</p>

<div class="code"><p class="quoted">
West of Thames Street End is north of Fisher's Row.
</p></div>
<p>Now continuing west along Thames Street, or north along Fisher's Row, will bring us around the corner in question. Asymmetric map connections should be used carefully. They're good for representing the layout of the real world, which tends not to be laid out on a convenient square matrix, but if exits are not described clearly they can be disorienting for the player. So let's be sure to make things clear:</p>

<div class="code"><p class="quoted">
The description of Fisher's Row is "A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street."
</p></div>
<p>Meanwhile, suppose Fort James is in a prominent position, raised a bit from its surroundings; maybe the player should be able to go down from there, as well as south, to get to Thames Street End.</p>

<div class="code"><p class="quoted">
Thames Street End is down from Fort James. Thames Street End is south from Fort James.
</p></div>
<p>But we don't want the upward direction to work:</p>

<div class="code">
<p class="quoted">
Up from Thames Street End is nowhere.
</p>
<p class="quoted">
Test me with "n / d / u / w / e / n / s".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.3">WI §3.3. One-way connections</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-10"><summary><span class="example-summary">10. Port Royal 3</span> <span class="example-difficulty">★</span></summary><div>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60%221691%22%5Cn%5Cn%5BWe%20should%20go%20ahead%20and%20do%20all%20our%20room%20definitions%20first...%5D%5Cn%5CnFort%20James%20is%20a%20room.%20%22The%20enclosure%20of%20Fort%20James%20is%20a%20large,%20roughly%20hexagonal%20court%20walled%20with%20heavy%20stone.%20%20The%20walls%20face%20the%20entrance%20to%20Port%20Royal%20Harbour,%20and%20the%20battery%20of%20guns%20is%20prepared%20to%20destroy%20any%20enemy%20ship%20arriving.%22%5Cn%5CnThames%20Street%20End%20is%20south%20of%20Fort%20James.%20%22The%20ill-named%20Thames%20Street%20runs%20from%20here%20--%20at%20the%20point%20of%20the%20peninsula%20--%20all%20the%20way%20east%20among%20houses%20and%20shops,%20through%20the%20Fish%20Market,%20edging%20by%20the%20round%20front%20of%20Fort%20Carlisle,%20to%20the%20point%20where%20the%20town%20stops%20and%20there%20is%20only%20sandy%20spit%20beyond.%20%20Most%20of%20that%20stretch%20is%20full%20of%20people%20at%20all%20hours.%20%20Imported%20goods%20are%20moved%20off%20of%20ships%20and%20taken%20to%20distributors;%20exported%20goods%20are%20brought%20to%20be%20loaded;%20and%20there%20is%20one%20public%20house%20and%20brothel%20for%20every%20ten%20inhabitants.%5Cn%5CnLime%20Street,%20wider%20and%20healthier%20but%20not%20as%20rich,%20runs%20directly%20south,%20and%20to%20the%20north%20the%20road%20opens%20up%20into%20the%20courtyard%20of%20Fort%20James.%22%5Cn%5CnLime%20Street%20is%20south%20of%20Thames%20Street%20End.%20West%20of%20Thames%20Street%20End%20is%20north%20of%20Fisher's%20Row.%20The%20description%20of%20Fisher's%20Row%20is%20%22A%20waterfront%20street%20that%20runs%20south%20towards%20Chocolata%20Hole,%20where%20the%20small%20craft%20are%20harboured.%20It%20also%20continues%20north%20around%20the%20tip%20of%20the%20peninsula%20from%20here,%20turning%20into%20the%20east-west%20Thames%20Street.%22%5Cn%5CnThames%20Street%20End%20is%20down%20from%20Fort%20James.%20Up%20from%20Thames%20Street%20End%20is%20nowhere.%5Cn%5CnWater%20Lane%20is%20east%20of%20Thames%20Street%20End.%20%22Here%20Thames%20Street%20--%20never%20very%20straight%20--%20goes%20steeply%20southeast%20for%20a%20portion%20before%20continuing%20more%20directly%20to%20the%20east.%5Cn%5CnWater%20Lane%20runs%20south%20toward%20Queen%20Street,%20and%20facing%20onto%20it%20is%20the%20New%20Prison%20--%20which,%20in%20the%20way%20of%20these%20things,%20is%20neither.%20%20It%20did%20serve%20in%20that%20capacity%20for%20a%20time,%20and%20in%20a%20measure%20of%20the%20villainy%20which%20has%20been%20usual%20in%20Port%20Royal%20from%20its%20earliest%20days,%20it%20is%20nearly%20the%20largest%20building%20in%20the%20town.%22%5Cn%5Cn%5CnEast%20of%20Water%20Lane%20is%20a%20room%20called%20Thames%20Street%20at%20the%20Wherry%20Bridge.%20%20Thames%20Street%20at%20the%20Wherry%20Bridge%20has%20the%20description%20%22To%20the%20southwest%20is%20the%20fishmarket;%20directly%20across%20the%20street%20is%20the%20entrance%20to%20a%20private%20alley%20through%20a%20brick%20archway.%22%5Cn%5CnThe%20Fishmarket%20is%20southwest%20of%20Thames%20Street%20at%20the%20Wherry%20Bridge.%5Cn%5CnThe%20Private%20Alley%20is%20south%20of%20Thames%20Street%20at%20the%20Wherry%20Bridge.%20%22You're%20just%20outside%20the%20tavern%20the%20Feathers.%20To%20the%20north,%20under%20a%20pretty%20little%20archway,%20is%20the%20active%20mayhem%20of%20Thames%20Street,%20but%20the%20alley%20narrows%20down%20to%20a%20dead%20end%20a%20little%20distance%20to%20the%20south.%22%5Cn%5CnThe%20Feathers%20is%20inside%20from%20the%20Private%20Alley.%20%20%22Newly%20built%20with%20brick,%20replacing%20the%20older%20Feathers%20tavern%20that%20used%20to%20stand%20here.%20It%20sells%20wines%20in%20quantity,%20as%20well%20as%20serving%20them%20directly,%20and%20the%20goods%20are%20always%20of%20the%20best%20quality.%20There's%20a%20room%20upstairs%20for%20those%20wanting%20to%20stay%20the%20night.%22%20The%20Feathers%20Bedroom%20is%20above%20the%20Feathers.%5Cn%5CnThames%20Street%20by%20the%20King's%20House%20is%20east%20of%20Thames%20Street%20at%20the%20Wherry%20Bridge.%20%20%22The%20King's%20House%20is%20reserved%20for%20the%20use%20of%20the%20Governor,%20but%20he%20does%20not%20live%20in%20it,%20and%20it%20is%20frequently%20being%20rented%20out%20to%20some%20merchant%20so%20that%20the%20government%20will%20at%20least%20derive%20some%20value%20from%20it.%20It%20is%20nearly%20the%20least%20interesting%20establishment%20on%20Thames%20Street,%20and%20the%20crowd%20--%20which,%20to%20the%20west,%20is%20extremely%20dense%20--%20here%20thins%20out%20a%20bit.%22%5Cn%5CnThames%20Street%20before%20Fort%20Carlisle%20is%20east%20of%20Thames%20Street%20by%20the%20King's%20House.%20%22Here%20Thames%20Street,%20formerly%20a%20respectable%20width,%20narrows%20to%20a%20footpath%20in%20order%20to%20edge%20around%20the%20front%20of%20Fort%20Carlisle,%20underneath%20the%20mouths%20of%20the%20cannon.%5Cn%5CnThere%20are%20no%20buildings%20on%20the%20harbour%20side%20of%20Thames%20Street%20at%20this%20point,%20which%20means%20that%20you%20have%20an%20unusually%20good%20view%20of%20the%20ships%20at%20dock,%20water%20beyond,%20and%20the%20Blue%20Mountains%20rising%20on%20the%20other%20side%20of%20the%20harbour.%22%5Cn%5Cn%5CnSouth%20of%20Thames%20Street%20before%20Fort%20Carlisle%20is%20a%20room%20called%20Fort%20Carlisle.%20The%20description%20of%20Fort%20Carlisle%20is%20%22Handsomely%20arrayed%20with%20cannons%20which%20you%20could%20fire%20at%20any%20moment%20--%20though%20of%20course%20there%20are%20ships%20at%20dock%20which%20might%20be%20in%20the%20way.%22%5Cn%5CnQueen%20Street%20End%20is%20south%20of%20Lime%20Street.%5Cn%5CnQueen%20Street%20Middle%20is%20east%20of%20Queen%20Street%20End.%5Cn%5Cn%5CnQueen%20Street%20East%20is%20east%20of%20Queen%20Street%20Middle%20and%20south%20of%20Private%20Alley.%5Cn%5CnQueen%20Street%20at%20the%20Prison%20is%20east%20of%20Queen%20Street%20East.%5Cn%5Cn%5BNow,%20if%20we%20like,%20we%20can%20create%20regions%20to%20distinguish%20the%20coast%20from%20the%20portions%20of%20town%20that%20aren't%20on%20the%20water:%5D%5Cn%5CnInland%20is%20a%20region.%20Queen%20Street%20End,%20Queen%20Street%20Middle,%20Queen%20Street%20East,%20Private%20Alley,%20Lime%20Street,%20and%20Queen%20Street%20at%20the%20Prison%20are%20in%20Inland.%5Cn%5CnWaterfront%20is%20a%20region.%20Thames%20Street%20before%20Fort%20Carlisle,%20Thames%20Street%20by%20the%20King's%20House,%20Thames%20Street%20at%20the%20Wherry%20Bridge,%20Water%20Lane,%20Fishmarket,%20Fisher's%20Row,%20and%20Thames%20Street%20End%20are%20in%20Waterfront.%5Cn%5Cn%5BThere's%20no%20rule%20that%20regions%20must%20be%20contiguous,%20so%20we%20could%20if%20we%20like%20make%20a%20region%20consisting%20just%20of%20the%20two%20forts:%5D%5Cn%5CnMilitary%20Holdings%20is%20a%20region.%20Fort%20Carlisle%20and%20Fort%20James%20are%20in%20Military%20Holdings.%5Cn%5Cn%5BAnd%20we%20might%20make%20the%20Feathers%20Tavern%20part%20of%20the%20Inland%20area,%20but%20within%20its%20own%20subcategory:%5D%5Cn%5CnTavern%20is%20a%20region.%20It%20is%20in%20Inland.%20Feathers%20and%20Feathers%20Bedroom%20are%20in%20Tavern.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "1691"
</p></div>
<p>We should go ahead and do all our room definitions first...</p>

<div class="code">
<p class="quoted">
Fort James is a room. "The enclosure of Fort James is a large, roughly hexagonal court walled with heavy stone.  The walls face the entrance to Port Royal Harbour, and the battery of guns is prepared to destroy any enemy ship arriving."
</p>
<p class="quoted">
Thames Street End is south of Fort James. "The ill-named Thames Street runs from here -- at the point of the peninsula -- all the way east among houses and shops, through the Fish Market, edging by the round front of Fort Carlisle, to the point where the town stops and there is only sandy spit beyond.  Most of that stretch is full of people at all hours.  Imported goods are moved off of ships and taken to distributors; exported goods are brought to be loaded; and there is one public house and brothel for every ten inhabitants.
</p>
<p class="quoted">
Lime Street, wider and healthier but not as rich, runs directly south, and to the north the road opens up into the courtyard of Fort James."
</p>
<p class="quoted">
Lime Street is south of Thames Street End. West of Thames Street End is north of Fisher's Row. The description of Fisher's Row is "A waterfront street that runs south towards Chocolata Hole, where the small craft are harboured. It also continues north around the tip of the peninsula from here, turning into the east-west Thames Street."
</p>
<p class="quoted">
Thames Street End is down from Fort James. Up from Thames Street End is nowhere.
</p>
<p class="quoted">
Water Lane is east of Thames Street End. "Here Thames Street -- never very straight -- goes steeply southeast for a portion before continuing more directly to the east.
</p>
<p class="quoted">
Water Lane runs south toward Queen Street, and facing onto it is the New Prison -- which, in the way of these things, is neither.  It did serve in that capacity for a time, and in a measure of the villainy which has been usual in Port Royal from its earliest days, it is nearly the largest building in the town."
</p>
<p class="quoted">
East of Water Lane is a room called Thames Street at the Wherry Bridge.  Thames Street at the Wherry Bridge has the description "To the southwest is the fishmarket; directly across the street is the entrance to a private alley through a brick archway."
</p>
<p class="quoted">
The Fishmarket is southwest of Thames Street at the Wherry Bridge.
</p>
<p class="quoted">
The Private Alley is south of Thames Street at the Wherry Bridge. "You're just outside the tavern the Feathers. To the north, under a pretty little archway, is the active mayhem of Thames Street, but the alley narrows down to a dead end a little distance to the south."
</p>
<p class="quoted">
The Feathers is inside from the Private Alley.  "Newly built with brick, replacing the older Feathers tavern that used to stand here. It sells wines in quantity, as well as serving them directly, and the goods are always of the best quality. There's a room upstairs for those wanting to stay the night." The Feathers Bedroom is above the Feathers.
</p>
<p class="quoted">
Thames Street by the King's House is east of Thames Street at the Wherry Bridge.  "The King's House is reserved for the use of the Governor, but he does not live in it, and it is frequently being rented out to some merchant so that the government will at least derive some value from it. It is nearly the least interesting establishment on Thames Street, and the crowd -- which, to the west, is extremely dense -- here thins out a bit."
</p>
<p class="quoted">
Thames Street before Fort Carlisle is east of Thames Street by the King's House. "Here Thames Street, formerly a respectable width, narrows to a footpath in order to edge around the front of Fort Carlisle, underneath the mouths of the cannon.
</p>
<p class="quoted">
There are no buildings on the harbour side of Thames Street at this point, which means that you have an unusually good view of the ships at dock, water beyond, and the Blue Mountains rising on the other side of the harbour."
</p>
<p class="quoted">
South of Thames Street before Fort Carlisle is a room called Fort Carlisle. The description of Fort Carlisle is "Handsomely arrayed with cannons which you could fire at any moment -- though of course there are ships at dock which might be in the way."
</p>
<p class="quoted">
Queen Street End is south of Lime Street.
</p>
<p class="quoted">
Queen Street Middle is east of Queen Street End.
</p>
<p class="quoted">
Queen Street East is east of Queen Street Middle and south of Private Alley.
</p>
<p class="quoted">
Queen Street at the Prison is east of Queen Street East.
</p>
</div>
<p>Now, if we like, we can create regions to distinguish the coast from the portions of town that aren't on the water:</p>

<div class="code">
<p class="quoted">
Inland is a region. Queen Street End, Queen Street Middle, Queen Street East, Private Alley, Lime Street, and Queen Street at the Prison are in Inland.
</p>
<p class="quoted">
Waterfront is a region. Thames Street before Fort Carlisle, Thames Street by the King's House, Thames Street at the Wherry Bridge, Water Lane, Fishmarket, Fisher's Row, and Thames Street End are in Waterfront.
</p>
</div>
<p>There's no rule that regions must be contiguous, so we could if we like make a region consisting just of the two forts:</p>

<div class="code"><p class="quoted">
Military Holdings is a region. Fort Carlisle and Fort James are in Military Holdings.
</p></div>
<p>And we might make the Feathers Tavern part of the Inland area, but within its own subcategory:</p>

<div class="code"><p class="quoted">
Tavern is a region. It is in Inland. Feathers and Feathers Bedroom are in Tavern.
</p></div>
<p>Now the index map will be colored to reflect our regions, and later in the game development we would be able to make rules that affect just one region at a time.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.4">WI §3.4. Regions and the index map</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-78"><summary><span class="example-summary">78. All Roads Lead to Mars</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we want to allow the player to wander freely in any direction, but ourselves maintain control over the order in which he encounters the rooms. This sort of effect emphasizes the order of the story-telling over any kind of rigorous simulation of space; on multiple play-throughs, the player might not find all the same rooms in the same locations.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22All%20Roads%20Lead%20to%20Mars%22%5Cn%5CnBefore%20going%20a%20direction%20(called%20way)%20when%20a%20room%20(called%20next%20location)%20is%20not%20visited:%5Cn%5Ctlet%20further%20place%20be%20the%20room%20the%20way%20from%20the%20location;%5Cn%5Ctif%20further%20place%20is%20a%20room,%20continue%20the%20action;%5Cn%5Ctchange%20the%20way%20exit%20of%20the%20location%20to%20the%20next%20location;%5Cn%5Ctlet%20reverse%20be%20the%20opposite%20of%20the%20way;%5Cn%5Ctchange%20the%20reverse%20exit%20of%20the%20next%20location%20to%20the%20location.%5Cn%5CnThe%20Open%20Plain%20is%20a%20room.%20%22A%20wide-open%20grassy%20expanse,%20from%20which%20you%20could%20really%20go%20any%20way%20at%20all.%22%5Cn%5CnThe%20Hilly%20Place%20is%20a%20room.%20%22The%20grassland%20gives%20way%20to%20a%20somewhat%20more%20hilly%20area,%20though%20there%20is%20still%20very%20little%20to%20guide%20you%20any%20particular%20way.%22%5Cn%5CnThe%20Stream%20is%20a%20room.%20%22This%20is%20the%20third%20place%20you've%20been%20today,%20and%20so%20the%20stream%20is%20welcome.%20How%20refreshing!%22%5Cn%5CnTest%20me%20with%20%22n%20/%20s%20/%20e%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "All Roads Lead to Mars"
</p>
<p class="quoted">
Before going a direction (called way) when a room (called next location) is not visited:
<br>    let further place be the room the way from the location;
<br>    if further place is a room, continue the action;
<br>    change the way exit of the location to the next location;
<br>    let reverse be the opposite of the way;
<br>    change the reverse exit of the next location to the location.
</p>
<p class="quoted">
The Open Plain is a room. "A wide-open grassy expanse, from which you could really go any way at all."
</p>
<p class="quoted">
The Hilly Place is a room. "The grassland gives way to a somewhat more hilly area, though there is still very little to guide you any particular way."
</p>
<p class="quoted">
The Stream is a room. "This is the third place you've been today, and so the stream is welcome. How refreshing!"
</p>
<p class="quoted">
Test me with "n / s / e / e".
</p>
</div>
<p>If we wanted still to be able to find routes between places, we could define a relationship of connection between rooms, which we would add to as we went along.</p>
</div>
<div class="linkback">
<a href="wi_6.html#wi-6.14">WI §6.14. Adjacent rooms and routes through the map</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-125"><summary><span class="example-summary">125. Bee Chambers</span> <span class="example-difficulty">★</span></summary><div>
<p>Mazes are a traditional element of interactive fiction, often consisting of apparently identical rooms with exits that do not work reciprocally and which cause confusion.</p>
<p>The methods of mapping mazes are now fairly well understood and mazes themselves tend to be regarded as tiresome rather than enjoyable by a large portion of the playing audience. However, if we did want to ignore the common wisdom and create a maze, randomly generated at the start of play, here would be one way to go about it:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Maze%20of%20Gloom%22%5Cn%5CnA%20Bee%20Chamber%20is%20a%20kind%20of%20room.%20The%20printed%20name%20of%20a%20Bee%20Chamber%20is%20usually%20%22Hexagonal%20Room%22.%20The%20description%20of%20a%20Bee%20Chamber%20is%20usually%20%22Waxy,%20translucent%20walls%20surround%20you%20on%20six%20sides;%20the%20floor%20and%20ceiling%20are%20made%20of%20the%20same%20material,%20gently%20uneven.%20There%20are%20exits%20in%20every%20direction,%20cut%20into%20the%20faces%20or%20the%20corners.%22%5Cn%5CnBee1,%20Bee2,%20Bee3,%20Bee4,%20Bee5,%20Bee6,%20Bee7,%20Bee8,%20Bee9,%20and%20Bee10%20are%20Bee%20Chambers.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20right%20hand%20status%20line%20is%20%22%5Bnumber%20of%20visited%20rooms%5D/%5Bnumber%20of%20rooms%5D%22;%5Cn%5Ctrepeat%20with%20place%20running%20through%20Bee%20Chambers:%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20north%20of%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20northwest%20of%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20west%20of%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20southwest%20of%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20south%20of%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20southeast%20of%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20east%20of%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20northeast%20of%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20above%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20below%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20inside%20place;%5Cn%5Ct%5Ctnow%20a%20random%20Bee%20Chamber%20is%20mapped%20outside%20place.%5Cn%5CnTest%20me%20with%20%22in%20/%20out%20/%20up%20/%20down%20/%20n%20/%20ne%20/%20nw%20/%20e%20/%20w%20/%20sw%20/%20se%20/%20s%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Maze of Gloom"
</p>
<p class="quoted">
A Bee Chamber is a kind of room. The printed name of a Bee Chamber is usually "Hexagonal Room". The description of a Bee Chamber is usually "Waxy, translucent walls surround you on six sides; the floor and ceiling are made of the same material, gently uneven. There are exits in every direction, cut into the faces or the corners."
</p>
<p class="quoted">
Bee1, Bee2, Bee3, Bee4, Bee5, Bee6, Bee7, Bee8, Bee9, and Bee10 are Bee Chambers.
</p>
<p class="quoted">
When play begins:
<br>    now right hand status line is "[number of visited rooms]/[number of rooms]";
<br>    repeat with place running through Bee Chambers:
<br>        now a random Bee Chamber is mapped north of place;
<br>        now a random Bee Chamber is mapped northwest of place;
<br>        now a random Bee Chamber is mapped west of place;
<br>        now a random Bee Chamber is mapped southwest of place;
<br>        now a random Bee Chamber is mapped south of place;
<br>        now a random Bee Chamber is mapped southeast of place;
<br>        now a random Bee Chamber is mapped east of place;
<br>        now a random Bee Chamber is mapped northeast of place;
<br>        now a random Bee Chamber is mapped above place;
<br>        now a random Bee Chamber is mapped below place;
<br>        now a random Bee Chamber is mapped inside place;
<br>        now a random Bee Chamber is mapped outside place.
</p>
<p class="quoted">
Test me with "in / out / up / down / n / ne / nw / e / w / sw / se / s".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.11">WI §8.11. Now...</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-134"><summary><span class="example-summary">134. Zork II</span> <span class="example-difficulty">★</span></summary><div>
<p>All we need to do is select the player's destination for him at random:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Zork%20II%22%5Cn%5CnThe%20Carousel%20Room%20is%20a%20room.%5Cn%5CnInstead%20of%20going%20from%20the%20Carousel%20Room:%5Cn%5Ctmove%20the%20player%20to%20a%20random%20adjacent%20room.%5Cn%5Cn%5BTo%20avoid%20infringing%20the%20original%20game%20too%20much,%20let's%20try%20a%20somewhat%20different%20setting:%5D%5Cn%5CnThe%20Games%20of%20Chance%20is%20north%20of%20the%20Carousel%20Room.%20The%20Haunted%20Funhouse%20is%20northwest%20of%20the%20Carousel%20Room.%20The%20Ferris%20Wheel%20is%20east%20of%20the%20Carousel%20Room.%20The%20Topsy-Turvy%20is%20northeast%20of%20the%20Carousel%20Room.%20The%20Reproduction%20Henge%20is%20south%20of%20the%20Carousel%20Room.%20The%20Women's%20Toilet%20is%20southwest%20of%20the%20Carousel%20Room.%20The%20Men's%20Toilet%20is%20southeast%20of%20the%20Carousel%20Room.%20The%20Cotton%20Candy%20Shop%20is%20west%20of%20the%20Carousel%20Room.%5Cn%5CnTest%20me%20with%20%22s%22.%5Cn%5Cn%5BAnd%20the%20following%20means%20that%20the%20test%20runs%20consistently%20even%20though%20the%20numbers%20are%20theoretically%20random.%20To%20make%20them%20truly%20random,%20remove%20this%20line.%5D%5Cn%5CnWhen%20play%20begins,%20seed%20the%20random-number%20generator%20with%201234.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Zork II"
</p>
<p class="quoted">
The Carousel Room is a room.
</p>
<p class="quoted">
Instead of going from the Carousel Room:
<br>    move the player to a random adjacent room.
</p>
</div>
<p>To avoid infringing the original game too much, let's try a somewhat different setting:</p>

<div class="code">
<p class="quoted">
The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women's Toilet is southwest of the Carousel Room. The Men's Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.
</p>
<p class="quoted">
Test me with "s".
</p>
</div>
<p>And the following means that the test runs consistently even though the numbers are theoretically random. To make them truly random, remove this line.</p>

<div class="code"><p class="quoted">
When play begins, seed the random-number generator with 1234.
</p></div>
<p>Or if we want to add the refinement that the Carousel Room can be switched off:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Zork%20II%22%5Cn%5CnThe%20Carousel%20Room%20is%20a%20room.%20The%20spinning%20machine%20is%20a%20switched%20on%20device%20in%20the%20Carousel%20Room.%5Cn%5Cn%5BAnd%20then%5D%5Cn%5CnInstead%20of%20going%20from%20the%20Carousel%20Room%20when%20the%20spinning%20machine%20is%20switched%20on:%5Cn%5Ctmove%20the%20player%20to%20a%20random%20adjacent%20room.%5Cn%5CnThe%20Games%20of%20Chance%20is%20north%20of%20the%20Carousel%20Room.%20The%20Haunted%20Funhouse%20is%20northwest%20of%20the%20Carousel%20Room.%20The%20Ferris%20Wheel%20is%20east%20of%20the%20Carousel%20Room.%20The%20Topsy-Turvy%20is%20northeast%20of%20the%20Carousel%20Room.%20The%20Reproduction%20Henge%20is%20south%20of%20the%20Carousel%20Room.%20The%20Women's%20Toilet%20is%20southwest%20of%20the%20Carousel%20Room.%20The%20Men's%20Toilet%20is%20southeast%20of%20the%20Carousel%20Room.%20The%20Cotton%20Candy%20Shop%20is%20west%20of%20the%20Carousel%20Room.%5Cn%5CnTest%20me%20with%20%22turn%20off%20machine%20/%20s%20/%20n%20/%20turn%20on%20machine%20/%20s%22.%5Cn%5CnWhen%20play%20begins,%20seed%20the%20random-number%20generator%20with%201234.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Zork II"
</p>
<p class="quoted">
The Carousel Room is a room. The spinning machine is a switched on device in the Carousel Room.
</p>
</div>
<p>And then</p>

<div class="code">
<p class="quoted">
Instead of going from the Carousel Room when the spinning machine is switched on:
<br>    move the player to a random adjacent room.
</p>
<p class="quoted">
The Games of Chance is north of the Carousel Room. The Haunted Funhouse is northwest of the Carousel Room. The Ferris Wheel is east of the Carousel Room. The Topsy-Turvy is northeast of the Carousel Room. The Reproduction Henge is south of the Carousel Room. The Women's Toilet is southwest of the Carousel Room. The Men's Toilet is southeast of the Carousel Room. The Cotton Candy Shop is west of the Carousel Room.
</p>
<p class="quoted">
Test me with "turn off machine / s / n / turn on machine / s".
</p>
<p class="quoted">
When play begins, seed the random-number generator with 1234.
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.19">WI §8.19. Random choices of things</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-287"><summary><span class="example-summary">287. Indirection</span> <span class="example-difficulty">★</span></summary><div>
<p>In Mayan culture, colours seem to have been used as names for the primary directions: for instance, "red" implies east as the colour of sunrise. So the following might be a stylish touch for a game in which the player has to get inside the Mayan world-view:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Indirection%22%5Cn%5CnUnderstand%20%22white%22%20and%20%22sac%22%20as%20north.%20Understand%20%22red%22%20and%20%22chac%22%20as%20east.%20Understand%20%22yellow%22%20and%20%22kan%22%20as%20south.%20Understand%20%22black%22%20and%20%22chikin%22%20as%20west.%5Cn%5Cn%5BWe%20could%20also%20use%20a%20colour%20as%20a%20verb:%5D%5Cn%5CnUnderstand%20%22turquoise%22%20and%20%22yax%22%20as%20looking.%5Cn%5Cn%5BAnd%20now%20a%20few%20extra%20rooms%20to%20try%20it%20out%20in:%5D%5Cn%5CnThe%20Square%20Chamber%20is%20a%20room.%20%22A%20sunken,%20gloomy%20stone%20chamber,%20ten%20yards%20across.%20A%20shaft%20of%20sunlight%20cuts%20in%20from%20the%20steps%20above,%20giving%20the%20chamber%20a%20diffuse%20light,%20but%20in%20the%20shadows%20low%20lintelled%20doorways%20to%20east%20and%20south%20lead%20into%20the%20deeper%20darkness%20of%20the%20Temple.%22%5Cn%5CnThe%20Wormcast%20is%20east%20of%20the%20Square%20Chamber.%20The%20Corridor%20is%20south%20of%20the%20Square%20Chamber.%5Cn%5CnTest%20me%20with%20%22kan%20/%20white%20/%20chac%20/%20black%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Indirection"
</p>
<p class="quoted">
Understand "white" and "sac" as north. Understand "red" and "chac" as east. Understand "yellow" and "kan" as south. Understand "black" and "chikin" as west.
</p>
</div>
<p>We could also use a colour as a verb:</p>

<div class="code"><p class="quoted">
Understand "turquoise" and "yax" as looking.
</p></div>
<p>And now a few extra rooms to try it out in:</p>

<div class="code">
<p class="quoted">
The Square Chamber is a room. "A sunken, gloomy stone chamber, ten yards across. A shaft of sunlight cuts in from the steps above, giving the chamber a diffuse light, but in the shadows low lintelled doorways to east and south lead into the deeper darkness of the Temple."
</p>
<p class="quoted">
The Wormcast is east of the Square Chamber. The Corridor is south of the Square Chamber.
</p>
<p class="quoted">
Test me with "kan / white / chac / black".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.1">WI §17.1. Understand</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-40"><summary><span class="example-summary">40. Prisoner's Dilemma</span> <span class="example-difficulty">★★</span></summary><div>
<p>We can change the directions in the map in mid-game, though in practice this is rarely necessary. But suppose we do not want a door or any sign of a door to exist before the player takes some action, in this case pressing a button:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Prisoner's%20Dilemma%22%5Cn%5CnChallenger's%20Waiting%20Room%20is%20a%20room.%20%22The%20challenge%20is%20this:%20to%20wait%20as%20long%20as%20you%20can%20endure%20to%20do%20so%20in%20a%20room%20with%20no%20features%20and%20no%20clock.%20If%20you%20wait%20longer%20than%20all%20the%20other%20contestants,%20you%20win.%22%5Cn%5CnThe%20button%20is%20fixed%20in%20place%20in%20the%20Challenger's%20Waiting%20Room.%20%22The%20only%20item%20in%20view%20is%20a%20black%20recessed%20button.%22%5Cn%5CnAmid%20the%20Cheering%20Throng%20is%20a%20room.%5Cn%5CnInstead%20of%20pushing%20the%20button%20for%20the%20first%20time:%5Cn%5Ctchange%20the%20east%20exit%20of%20the%20Challenger's%20Waiting%20Room%20to%20Amid%20the%20Cheering%20Throng;%5Cn%5Ctchange%20the%20west%20exit%20of%20the%20Cheering%20Throng%20to%20the%20Challenger's%20Waiting%20Room;%5Cn%5Ctsay%20%22With%20a%20groan%20of%20gears,%20the%20east%20wall%20swings%20open!%20If%20you've%20lost%20now,%20well,%20you've%20lost...%22%5Cn%5CnTest%20me%20with%20%22e%20/%20push%20button%20/%20e%20/%20w%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Prisoner's Dilemma"
</p>
<p class="quoted">
Challenger's Waiting Room is a room. "The challenge is this: to wait as long as you can endure to do so in a room with no features and no clock. If you wait longer than all the other contestants, you win."
</p>
<p class="quoted">
The button is fixed in place in the Challenger's Waiting Room. "The only item in view is a black recessed button."
</p>
<p class="quoted">
Amid the Cheering Throng is a room.
</p>
<p class="quoted">
Instead of pushing the button for the first time:
<br>    change the east exit of the Challenger's Waiting Room to Amid the Cheering Throng;
<br>    change the west exit of the Cheering Throng to the Challenger's Waiting Room;
<br>    say "With a groan of gears, the east wall swings open! If you've lost now, well, you've lost..."
</p>
<p class="quoted">
Test me with "e / push button / e / w".
</p>
</div>
<p>Our instructions about pushing the button will be further explained in the chapter on Actions, but the thing to note here is that we can "change (whatever) exit" in order to set or re-set map directions. Notice that we have to set both directions explicitly: changing the east exit of the Waiting Room does not automatically also change the west exit of Amid the Cheering Throng.</p>
<p>This allows greater flexibility in our games but does require an extra line or so of work.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.26">WI §3.26. Directions</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-41"><summary><span class="example-summary">41. The World of Charles S. Roberts</span> <span class="example-difficulty">★★</span></summary><div>
<p>Wargaming is an ancient pursuit, but its modern form began as a professional training exercise in 19th-century Prussian staff colleges; since at least as early as H. G. Wells's "Little Wars" (1913) it has been a hobby of "boys from twelve years of age to one hundred and fifty and for that more intelligent sort of girl who likes boys' games and books." The free-form tabletop game used miniature figures and tape-measured movements, and remains the dominant form today. But in the mid-20th century, map grids on printed sheets gave the hobby a sudden new lease of life. They were easier to set up, more interesting to look at, cheaper to sell by mail-order. 1970s sales figures for "Strategy and Tactics", the leading US subscription-based wargame distributor, were very similar to those of Infocom's IF games in the 1980s. And like classical IF, the grid-based wargame parceled up a continuous world into locations.</p>
<p>Grids were initially square, as on a chessboard, but square cells have several disadvantages. Four directions of movement (N, E, S, W) is too few, yet allowing movement in the diagonal directions means allowing tanks to travel about 1.4 times faster northeast than they do north. Square grids also only conform cleanly to man-made landscape features such as buildings in one orientation, and they never fit hills well. (A compromise measure to fix this, cutting the squares into octagons to leave smaller diamond squares at corner intersections, has never caught on.)</p>
<p><img alt="hexes.jpg" src="doc_images/hexes.jpg"></p>
<p>But following Charles S. Roberts's American Civil War designs for Avalon Hill of 1958-61 (notably "Chancellorsville" and the second edition of "Gettysburg"), a hexagonal grid became the new standard. Each hexagon is the same distance from the centre of all six of its neighbours, which are at equal angular spacings; and clumps of hexagons fit the shape of lakes, contoured hills, and so forth, much more naturally than clumps of squares do. Hexes also have a certain mystique - an air of "I don't belong in the children's department".</p>
<p>But hexes are tricky for IF, not least because English lacks words for "the direction 60 degrees around from front". Our cognitive view of the world tends to be square, perhaps because our two eyes both face front, in a direction at right angles to the plane of our arms, legs, pelvis and eyes. We reach out sideways at right angles to our walking. Even early hex-grid wargames called the cells "squares", though "hexes" eventually caught on. Still and all:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22The%20World%20of%20Charles%20S.%20Roberts%22%5Cn%5CnForward%20is%20a%20direction.%20Forward%20has%20opposite%20backward.%20Understand%20%22f%22%20as%20forward.%5CnBackward%20is%20a%20direction.%20Backward%20has%20opposite%20forward.%20Understand%20%22b%22%20and%20%22back%22%20as%20backward.%5CnForward%20left%20is%20a%20direction.%20Forward%20left%20has%20opposite%20backward%20right.%20Understand%20%22fl%22%20as%20forward%20left.%5CnForward%20right%20is%20a%20direction.%20Forward%20right%20has%20opposite%20backward%20left.%20Understand%20%22fr%22%20as%20forward%20right.%5CnBackward%20left%20is%20a%20direction.%20Backward%20left%20has%20opposite%20forward%20right.%20Understand%20%22bl%22%20as%20backward%20left.%5CnBackward%20right%20is%20a%20direction.%20Backward%20right%20has%20opposite%20forward%20left.%20Understand%20%22br%22%20as%20backward%20right.%5Cn%5Cn%5BNow%20to%20forbid%20the%20use%20of%20the%20compass%20directions:%5D%5Cn%5CnA%20direction%20can%20be%20hexagonal%20or%20squared-off.%20A%20direction%20is%20usually%20squared-off.%20Forward,%20backward,%20forward%20left,%20forward%20right,%20backward%20left%20and%20backward%20right%20are%20hexagonal.%5Cn%5CnBefore%20going%20a%20squared-off%20direction,%20say%20%22In%20this%20hexagonally-divided%20landscape,%20squared-off%20directions%20are%20not%20allowed.%22%20instead.%5Cn%5Cn%5BA%20slight%20nuisance%20is%20that,%20with%20things%20as%20they%20are%20above,%20typing%20BACKWARD%20produces%20the%20response%20%22Which%20do%20you%20mean,%20backward,%20backward%20left%20or%20backward%20right?%22%20To%20avoid%20that%20silly%20question,%20we%20write:%5D%5Cn%5CnDoes%20the%20player%20mean%20going%20backward:%20it%20is%20very%20likely.%20Does%20the%20player%20mean%20going%20forward:%20it%20is%20very%20likely.%5Cn%5Cn%5BAnd%20now%20a%20clump%20of%2037%20hexes,%20in%20six%20columns%20of%20six%20or%20seven%20rooms%20each.%20There%20are%20many%20ingenious%20ways%20we%20could%20put%20this%20map%20together%20automatically,%20but%20instead%20we%20will%20take%20a%20deep%20breath%20and%20write:%5D%5Cn%5CnE1%20is%20forward%20of%20E2.%20%22Open%20farmland.%22%20E2%20is%20forward%20of%20E3.%20%22The%20edge%20of%20woods.%22%20E3%20is%20forward%20of%20E4.%20%22Deep%20woodland.%22%20E4%20is%20forward%20of%20E5.%20%22Deep%20woodland.%22%20E5%20is%20forward%20of%20E6.%20%22The%20rear%20edge%20of%20woods.%22%20E6%20is%20forward%20of%20E7.%20%22The%20start%20of%20a%20road%20leading%20forward%20right.%22%20E7%20is%20a%20room.%20%22Grassland.%22%5Cn%5CnF1%20is%20forward%20of%20F2.%20%22The%20edge%20of%20farmland.%22%20F2%20is%20forward%20of%20F3.%20%22The%20edge%20of%20woods.%22%20F3%20is%20forward%20of%20F4.%20%22Clearing%20in%20woods.%22%20F4%20is%20forward%20of%20F5.%20%22Deep%20woodland.%22%20F5%20is%20forward%20of%20F6.%20%22A%20road%20runs%20backward%20left%20to%20forward%20right.%22%20F6%20is%20a%20room.%20%22The%20edge%20of%20grassland.%22%5Cn%5CnG1%20is%20forward%20of%20G2.%20%22Grassland.%22%20G2%20is%20forward%20of%20G3.%20%22The%20edge%20of%20farmland.%22%20G3%20is%20forward%20of%20G4.%20%22A%20copse%20of%20trees.%22%20G4%20is%20forward%20of%20G5.%20%22The%20backward%20edge%20of%20woodland.%22%20G5%20is%20forward%20of%20G6.%20%22A%20bend%20in%20the%20road,%20from%20backward%20left%20to%20backward%20right.%22%20G6%20is%20forward%20of%20G7.%20%22Open%20farmland.%22%20G7%20is%20a%20room.%20%22Open%20farmland.%22%5Cn%5CnH1%20is%20forward%20of%20H2.%20%22Grassland,%20bordered%20by%20a%20hedge%20to%20the%20right.%22%20H2%20is%20forward%20of%20H3.%20%22The%20edge%20of%20farmland,%20with%20a%20hedge%20to%20forward%20right.%22%20H3%20is%20forward%20of%20H4.%20%22A%20copse%20of%20trees.%22%20H4%20is%20forward%20of%20H5.%20%22Open%20farmland.%22%20H5%20is%20forward%20of%20H6.%20%22A%20passing%20place%20on%20the%20road,%20which%20bends%20forward%20left%20to%20forward%20right.%22%20H6%20is%20a%20room.%20%22Open%20farmland.%22%5Cn%5CnI1%20is%20forward%20of%20I2.%20%22The%20end%20of%20a%20forward%20road,%20blocked%20by%20hedges%20on%20all%20sides%20except%20backward.%22%20I2%20is%20forward%20of%20I3.%20%20%22A%20straight%20road%20runs%20forward%20to%20backward,%20with%20long%20hedges%20to%20left%20and%20right.%22%20I3%20is%20forward%20of%20I4.%20%20%22A%20straight%20road%20runs%20forward%20to%20backward,%20alongside%20a%20long%20hedge%20to%20right.%22%20I4%20is%20forward%20of%20I5.%20%20%22A%20straight%20road%20runs%20forward%20to%20backward,%20alongside%20a%20long%20hedge%20to%20right.%22%20I5%20is%20forward%20of%20I6.%20%22Where%20three%20roads,%20forward,%20backward%20left%20and%20backward%20right,%20meet.%20Forward%20right%20is%20a%20thick%20hedge.%22%20I6%20is%20forward%20of%20I7.%20%22Open%20farmland.%22%20I7%20is%20a%20room.%20%22Open%20farmland.%22%5Cn%5CnJ1%20is%20forward%20of%20J2.%20%22Dense%20woodland,%20with%20a%20hedge%20to%20left.%22%20J2%20is%20forward%20of%20J3.%20%22Grassland,%20with%20a%20hedge%20to%20left.%22%20J3%20is%20forward%20of%20J4.%20%22The%20edge%20of%20farmland,%20with%20a%20hedge%20to%20left.%22%20J4%20is%20a%20room.%20%22Open%20farmland,%20with%20a%20long%20hedge%20blocking%20movement%20forward%20left,%20backward%20left%20or%20backward.%22%20J5%20is%20forward%20of%20J6.%20%22A%20road%20running%20forward%20left%20to%20backward%20right,%20alongside%20a%20hedge.%22%20J6%20is%20a%20room.%20%22Open%20farmland.%22%5Cn%5CnF1%20is%20forward%20right%20of%20E2%20and%20backward%20right%20of%20E1.%20F2%20is%20forward%20right%20of%20E3%20and%20backward%20right%20of%20E2.%20F3%20is%20forward%20right%20of%20E4%20and%20backward%20right%20of%20E3.%20F4%20is%20forward%20right%20of%20E5%20and%20backward%20right%20of%20E4.%20F5%20is%20forward%20right%20of%20E6%20and%20backward%20right%20of%20E5.%20F6%20is%20forward%20right%20of%20E7%20and%20backward%20right%20of%20E6.%5Cn%5CnG1%20is%20forward%20right%20of%20F1.%20G2%20is%20forward%20right%20of%20F2%20and%20backward%20right%20of%20F1.%20G3%20is%20forward%20right%20of%20F3%20and%20backward%20right%20of%20F2.%20G4%20is%20forward%20right%20of%20F4%20and%20backward%20right%20of%20F3.%20G5%20is%20forward%20right%20of%20F5%20and%20backward%20right%20of%20F4.%20G6%20is%20forward%20right%20of%20F6%20and%20backward%20right%20of%20F5.%5Cn%5CnH1%20is%20forward%20right%20of%20G2%20and%20backward%20right%20of%20G1.%20H2%20is%20forward%20right%20of%20G3%20and%20backward%20right%20of%20G2.%20H3%20is%20forward%20right%20of%20G4%20and%20backward%20right%20of%20G3.%20H4%20is%20forward%20right%20of%20G5%20and%20backward%20right%20of%20G4.%20H5%20is%20forward%20right%20of%20G6%20and%20backward%20right%20of%20G5.%20H6%20is%20forward%20right%20of%20G7%20and%20backward%20right%20of%20G6.%5Cn%5CnI3%20is%20forward%20right%20of%20H3%20and%20backward%20right%20of%20H2.%20I4%20is%20forward%20right%20of%20H4%20and%20backward%20right%20of%20H3.%20I5%20is%20forward%20right%20of%20H5%20and%20backward%20right%20of%20H4.%20I6%20is%20forward%20right%20of%20H6%20and%20backward%20right%20of%20H5.%5Cn%5CnJ5%20is%20forward%20right%20of%20I6%20and%20backward%20right%20of%20I5.%20J6%20is%20forward%20right%20of%20I7%20and%20backward%20right%20of%20I6.%5Cn%5Cn%5BAnd%20now%20we%20have%20a%20hexagonally-gridded%20world.%20Route-finding%20will%20work;%20prepositional%20forms%20like%20%22to%20be%20mapped%20backward%20left%20of%22%20exist,%20just%20as%20they%20should;%20and%20in%20general%20these%20directions%20are%20just%20as%20good%20as%20the%20square%20ones.%20(The%20only%20thing%20which%20doesn't%20look%20good%20is%20the%20Index%20map,%20where%20Inform%20is%20just%20unable%20to%20draw%20a%20picture%20because%20it%20assumes%20a%20square%20grid.%20But%20that%20has%20no%20effect%20on%20play.)%5D%5Cn%5Cn%5BThe%20landscape%20is%20much%20easier%20to%20navigate%20with%20a%20little%20diagram:%5D%5Cn%5CnTo%20say%20legend%20(D%20-%20direction):%5Cn%5Ctlet%20destination%20hex%20be%20the%20room%20D%20from%20the%20location;%5Cn%5Ctif%20the%20destination%20hex%20is%20nothing,%20say%20%22%20%20%22;%5Cn%5Ctotherwise%20say%20the%20destination%20hex.%5Cn%5CnCarry%20out%20looking:%5Cn%5Ctsay%20%22%5Bfixed%20letter%20spacing%5D%20%20%20%5C%20%5Blegend%20forward%5D%20/%5Bline%20break%5D%5Blegend%20forward%20left%5D%20%20----%20%20%5Blegend%20forward%20right%5D%5Bline%20break%5D%20%20%20/%20%20%20%20%5C%5Bline%20break%5D--&lt;%20%20%5Blocation%5D%20%20&gt;--%5Bline%20break%5D%20%20%20%5C%20%20%20%20/%5Bline%20break%5D%5Blegend%20backward%20left%5D%20%20----%20%20%5Blegend%20backward%20right%5D%5Bline%20break%5D%20%20%20/%20%5Blegend%20backward%5D%20%5C%5Bvariable%20letter%20spacing%5D%5Bline%20break%5D%22.%5Cn%5Cn%5BAnd%20finally:%5D%5Cn%5CnThe%20player%20is%20in%20I5.%5Cn%5CnTest%20me%20with%20%22f%20/%20forward%20/%20backward%20left%20/%20bl%20/%20br%20/%20br%20/%20f%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "The World of Charles S. Roberts"
</p>
<p class="quoted">
Forward is a direction. Forward has opposite backward. Understand "f" as forward.
<br>Backward is a direction. Backward has opposite forward. Understand "b" and "back" as backward.
<br>Forward left is a direction. Forward left has opposite backward right. Understand "fl" as forward left.
<br>Forward right is a direction. Forward right has opposite backward left. Understand "fr" as forward right.
<br>Backward left is a direction. Backward left has opposite forward right. Understand "bl" as backward left.
<br>Backward right is a direction. Backward right has opposite forward left. Understand "br" as backward right.
</p>
</div>
<p>Now to forbid the use of the compass directions:</p>

<div class="code">
<p class="quoted">
A direction can be hexagonal or squared-off. A direction is usually squared-off. Forward, backward, forward left, forward right, backward left and backward right are hexagonal.
</p>
<p class="quoted">
Before going a squared-off direction, say "In this hexagonally-divided landscape, squared-off directions are not allowed." instead.
</p>
</div>
<p>A slight nuisance is that, with things as they are above, typing BACKWARD produces the response "Which do you mean, backward, backward left or backward right?" To avoid that silly question, we write:</p>

<div class="code"><p class="quoted">
Does the player mean going backward: it is very likely. Does the player mean going forward: it is very likely.
</p></div>
<p>And now a clump of 37 hexes, in six columns of six or seven rooms each. There are many ingenious ways we could put this map together automatically, but instead we will take a deep breath and write:</p>

<div class="code">
<p class="quoted">
E1 is forward of E2. "Open farmland." E2 is forward of E3. "The edge of woods." E3 is forward of E4. "Deep woodland." E4 is forward of E5. "Deep woodland." E5 is forward of E6. "The rear edge of woods." E6 is forward of E7. "The start of a road leading forward right." E7 is a room. "Grassland."
</p>
<p class="quoted">
F1 is forward of F2. "The edge of farmland." F2 is forward of F3. "The edge of woods." F3 is forward of F4. "Clearing in woods." F4 is forward of F5. "Deep woodland." F5 is forward of F6. "A road runs backward left to forward right." F6 is a room. "The edge of grassland."
</p>
<p class="quoted">
G1 is forward of G2. "Grassland." G2 is forward of G3. "The edge of farmland." G3 is forward of G4. "A copse of trees." G4 is forward of G5. "The backward edge of woodland." G5 is forward of G6. "A bend in the road, from backward left to backward right." G6 is forward of G7. "Open farmland." G7 is a room. "Open farmland."
</p>
<p class="quoted">
H1 is forward of H2. "Grassland, bordered by a hedge to the right." H2 is forward of H3. "The edge of farmland, with a hedge to forward right." H3 is forward of H4. "A copse of trees." H4 is forward of H5. "Open farmland." H5 is forward of H6. "A passing place on the road, which bends forward left to forward right." H6 is a room. "Open farmland."
</p>
<p class="quoted">
I1 is forward of I2. "The end of a forward road, blocked by hedges on all sides except backward." I2 is forward of I3.  "A straight road runs forward to backward, with long hedges to left and right." I3 is forward of I4.  "A straight road runs forward to backward, alongside a long hedge to right." I4 is forward of I5.  "A straight road runs forward to backward, alongside a long hedge to right." I5 is forward of I6. "Where three roads, forward, backward left and backward right, meet. Forward right is a thick hedge." I6 is forward of I7. "Open farmland." I7 is a room. "Open farmland."
</p>
<p class="quoted">
J1 is forward of J2. "Dense woodland, with a hedge to left." J2 is forward of J3. "Grassland, with a hedge to left." J3 is forward of J4. "The edge of farmland, with a hedge to left." J4 is a room. "Open farmland, with a long hedge blocking movement forward left, backward left or backward." J5 is forward of J6. "A road running forward left to backward right, alongside a hedge." J6 is a room. "Open farmland."
</p>
<p class="quoted">
F1 is forward right of E2 and backward right of E1. F2 is forward right of E3 and backward right of E2. F3 is forward right of E4 and backward right of E3. F4 is forward right of E5 and backward right of E4. F5 is forward right of E6 and backward right of E5. F6 is forward right of E7 and backward right of E6.
</p>
<p class="quoted">
G1 is forward right of F1. G2 is forward right of F2 and backward right of F1. G3 is forward right of F3 and backward right of F2. G4 is forward right of F4 and backward right of F3. G5 is forward right of F5 and backward right of F4. G6 is forward right of F6 and backward right of F5.
</p>
<p class="quoted">
H1 is forward right of G2 and backward right of G1. H2 is forward right of G3 and backward right of G2. H3 is forward right of G4 and backward right of G3. H4 is forward right of G5 and backward right of G4. H5 is forward right of G6 and backward right of G5. H6 is forward right of G7 and backward right of G6.
</p>
<p class="quoted">
I3 is forward right of H3 and backward right of H2. I4 is forward right of H4 and backward right of H3. I5 is forward right of H5 and backward right of H4. I6 is forward right of H6 and backward right of H5.
</p>
<p class="quoted">
J5 is forward right of I6 and backward right of I5. J6 is forward right of I7 and backward right of I6.
</p>
</div>
<p>And now we have a hexagonally-gridded world. Route-finding will work; prepositional forms like "to be mapped backward left of" exist, just as they should; and in general these directions are just as good as the square ones. (The only thing which doesn't look good is the Index map, where Inform is just unable to draw a picture because it assumes a square grid. But that has no effect on play.)</p>
<p>The landscape is much easier to navigate with a little diagram:</p>

<div class="code">
<p class="quoted">
To say legend (D - direction):
<br>    let destination hex be the room D from the location;
<br>    if the destination hex is nothing, say "  ";
<br>    otherwise say the destination hex.
</p>
<p class="quoted">
Carry out looking:
<br>    say "[fixed letter spacing]   \ [legend forward] /[line break][legend forward left]  ----  [legend forward right][line break]   /    \[line break]--&lt;  [location]  &gt;--[line break]   \    /[line break][legend backward left]  ----  [legend backward right][line break]   / [legend backward] \[variable letter spacing][line break]".
</p>
</div>
<p>And finally:</p>

<div class="code">
<p class="quoted">
The player is in I5.
</p>
<p class="quoted">
Test me with "f / forward / backward left / bl / br / br / f".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.26">WI §3.26. Directions</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details><details class="full-example" id="example-101"><summary><span class="example-summary">101. A&amp;E</span> <span class="example-difficulty">★★</span></summary><div>
<p>Rules about going to regions make it easy to exclude the player from a large portion of the map, even if there are many connecting paths to the region. For instance, in this story it would be annoying to have to write a rule about all four exits by which the player could reach the film set area:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22A&amp;E%22%5Cn%5CnWinding%20Street%20is%20a%20room.%20Winding%20Street%20is%20west%20of%20Duck%20Pond.%20Sloping%20Street%20is%20north%20of%20Winding%20Street,%20northwest%20of%20Duck%20Pond,%20west%20of%20Stately%20Lawn,%20and%20southwest%20of%20Stately%20Home.%20Stately%20Lawn%20is%20north%20of%20Duck%20Pond.%20Stately%20Home%20is%20north%20of%20Stately%20Lawn.%5Cn%5CnFilm%20Set%20is%20a%20region.%20Duck%20Pond,%20Stately%20Lawn,%20and%20Stately%20Home%20are%20in%20Film%20Set.%5Cn%5CnInstead%20of%20going%20to%20Film%20Set%20when%20the%20player%20does%20not%20carry%20the%20VIP%20Pass:%20say%20%22A%20burly%20studio%20guard%20materializes%20in%20your%20path,%20convincing%20you%20that%20you%20would%20prefer%20to%20be%20elsewhere.%22%5Cn%5CnThe%20VIP%20Pass%20is%20in%20the%20garbage%20can.%20The%20garbage%20can%20is%20in%20Sloping%20Street.%5Cn%5CnAfter%20going%20to%20the%20Film%20Set:%5Cn%5Ctsay%20%22Success!%20At%20last%20you%20are%20inside%20the%20set%20of%20'Prouder%20and%20More%20Prejudiced'.%20Next%20step:%20locating%20Mr%20Firth.%22;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5CnTest%20me%20with%20%22e%20/%20n%20/%20e%20/%20get%20pass%20/%20e%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "A&amp;E"
</p>
<p class="quoted">
Winding Street is a room. Winding Street is west of Duck Pond. Sloping Street is north of Winding Street, northwest of Duck Pond, west of Stately Lawn, and southwest of Stately Home. Stately Lawn is north of Duck Pond. Stately Home is north of Stately Lawn.
</p>
<p class="quoted">
Film Set is a region. Duck Pond, Stately Lawn, and Stately Home are in Film Set.
</p>
<p class="quoted">
Instead of going to Film Set when the player does not carry the VIP Pass: say "A burly studio guard materializes in your path, convincing you that you would prefer to be elsewhere."
</p>
<p class="quoted">
The VIP Pass is in the garbage can. The garbage can is in Sloping Street.
</p>
<p class="quoted">
After going to the Film Set:
<br>    say "Success! At last you are inside the set of 'Prouder and More Prejudiced'. Next step: locating Mr Firth.";
<br>    end the story finally.
</p>
<p class="quoted">
Test me with "e / n / e / get pass / e".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.13">WI §7.13. Going from, going to</a><br><a href="rb_3.html#rb-3.2">RB §3.2. Map</a>
</div></details>
</div></section>
<section class="section" id="rb-3.3"><div>





<h3>RB §3.3. Position Within Rooms</h3>
<p>Inform's division of geography into "rooms" is a good compromise for most purposes. The rooms are cut off from each other by (imaginary or actual) walls, while all of the interior of a given room is regarded as the same place.</p>
<p>Suppose we want things to happen differently in different corners of the same room? Inform can already do this a little, in that the player can be inside an enterable container or on an enterable supporter. For instance:</p>

<div class="code"><p class="quoted">
Instead of opening a door when the player is on the bed, say "You can't reach the handle from the bed."
</p></div>
<p>If we need to have divided-up areas of the floor itself, the standard approach is to define a small number of named positions. We then need to remember at which of these locations the player (or something else) currently stands.</p>
<p><a href="rb_3.html#example-199" class="example-link" onClick="(function() { document.getElementById('example-199').setAttribute('open','open'); return true; })();">Further Reasons Why All Poets Are Liars</a><span class="example-difficulty"> ★</span> allows the player to be in different parts of a room by standing on a box which can be in different places: thus only the box needs an internal position, not the player, simplifying matters neatly.</p>
<p>Another interesting case is when one room is entirely inside another (such as a hut in a field, or a booth in a large convention hall), so that the exterior of the room should be visible from another location. <a href="rb_3.html#example-7" class="example-link" onClick="(function() { document.getElementById('example-7').setAttribute('open','open'); return true; })();">Starry Void</a><span class="example-difficulty"> ★★★</span> gives a simple demonstration of a magician's booth that can be examined from the outside, opened and closed, and entered to reach a new location.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.4" class="crossreference_link">Continuous Spaces and The Outdoors</a> for making the space between rooms continuous</div>
<div class="crossreference">
<a href="rb_7.html#rb-7.5" class="crossreference_link">Combat and Death</a> for the use of position in a room in determining combat maneuvers</div>
<div class="crossreference">
<a href="rb_6.html#rb-6.10" class="crossreference_link">Entering and Exiting, Sitting and Standing</a> for automatically getting up from chairs before going places</div>
<div class="crossreference">
<a href="rb_5.html#rb-5.1" class="crossreference_link">The Human Body</a> for letting the player take different postures on furniture or on the floor</div>
<div class="crossreference">
<a href="rb_8.html#rb-8.4" class="crossreference_link">Furniture</a> for cages, beds, and other kinds of enterable supporters and containers</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-199"><summary><span class="example-summary">199. Further Reasons Why All Poets Are Liars</span> <span class="example-difficulty">★</span></summary><div>
<p>We begin with the location and its fittings, and we create a kind of value which names the different internal positions we will allow.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Further%20Reasons%20Why%20All%20Poets%20Are%20Liars%22%5Cn%5CnNook%20Obscure%20is%20a%20room.%20%22Above%20the%20College%20kitchens,%20which%20make%20a%20humming%20sound,%20less%20tuneable%20than%20bees,%20but%20hardly%20less%20industrious,%20with%20shrill%20notes%20of%20sharp%20command%20and%20scolding%20intermixed:%20and%20below%20Trinity's%20loquacious%20clock,%20who%20never%20lets%20the%20quarters,%20night%20or%20day,%20slip%20by%20him%20unproclaimed,%20and%20tells%20the%20hours%20twice%20over%20with%20a%20male%20and%20female%20voice.%20In%20short,%20the%20kind%20of%20rubbish%20room%20they%20give%20to%20a%20northern%20villager.%20But%20you%20get%20a%20bed%20and%20a%20high%20shelf%20all%20of%20your%20own.%20And%20you%20long%20to%20find%20some%20Romantic%20way%20to%20look%20out%20of%20the%20window.%22%5Cn%5CnThe%20window,%20the%20shelf%20and%20the%20bed%20are%20scenery%20in%20the%20Nook%20Obscure.%20The%20shelf%20and%20the%20bed%20are%20supporters.%20The%20bed%20is%20enterable.%5Cn%5CnInternal%20position%20is%20a%20kind%20of%20value.%20The%20internal%20positions%20are%20nowhere%20at%20all,%20over%20by%20the%20window,%20under%20the%20shelf%20and%20near%20the%20bed.%5Cn%5CnThe%20box%20is%20an%20enterable%20supporter%20in%20Nook%20Obscure.%20The%20current%20box%20position%20is%20an%20internal%20position%20that%20varies.%20The%20current%20box%20position%20is%20near%20the%20bed.%20%22Your%20packing%20case,%20stamped%20W.%20WORDSWORTH%20(KENDAL),%20is%20%5Bcurrent%20box%20position%5D.%22%20Instead%20of%20taking%20the%20box,%20say%20%22It%20is%20filled%20with%20your%20peerless%20rock%20collection%20and%20too%20heavy%20to%20lift,%20but%20could%20be%20pushed.%22%20Instead%20of%20opening%20the%20box,%20say%20%22It%20is%20securely%20nailed%20shut.%22%5Cn%5Cn%5BWe%20create%20an%20action,%20%22pushing%20it%20over%20to%22,%20for%20pushing%20a%20box%20around%20on%20the%20floor%20of%20a%20single%20location.%20(Calling%20this%20%22pushing%20it%20over%20to%22%20prevents%20clashes%20with%20the%20existing%20%22pushing%20it%20to%22%20action,%20which%20is%20for%20pushing%20things%20from%20one%20room%20to%20another.)%20Almost%20half%20of%20the%20text%20which%20defines%20the%20action%20is%20concerned%20with%20the%20two%20action%20variables,%20but%20they%20make%20the%20implementation%20of%20everything%20else%20so%20much%20easier%20that%20we%20end%20up%20writing%20less%20than%20if%20we%20hadn't%20used%20them.%5D%5Cn%5CnUnderstand%20%22push%20%5Bbox%5D%22%20as%20a%20mistake%20(%22You%20can%20push%20the%20box%20to%20the%20window,%20the%20bed%20or%20the%20shelf.%22).%5Cn%5CnUnderstand%20%22push%20%5Bsomething%5D%20to%20%5Bsomething%5D%22%20as%20pushing%20it%20over%20to.%20Pushing%20it%20over%20to%20is%20an%20action%20applying%20to%20two%20things.%5Cn%5CnThe%20pushing%20it%20over%20to%20action%20has%20an%20internal%20position%20called%20the%20old%20position.%5CnThe%20pushing%20it%20over%20to%20action%20has%20an%20internal%20position%20called%20the%20new%20position.%5CnSetting%20action%20variables%20for%20pushing%20something%20over%20to%20something:%5Cn%5Ctnow%20the%20old%20position%20is%20the%20current%20box%20position;%5Cn%5Ctnow%20the%20new%20position%20is%20nowhere%20at%20all;%5Cn%5Ctif%20the%20second%20noun%20is%20the%20window,%20now%20the%20new%20position%20is%20over%20by%20the%20window;%5Cn%5Ctif%20the%20second%20noun%20is%20the%20bed,%20now%20the%20new%20position%20is%20near%20the%20bed;%5Cn%5Ctif%20the%20second%20noun%20is%20the%20shelf,%20now%20the%20new%20position%20is%20under%20the%20shelf.%5Cn%5CnCheck%20pushing%20it%20over%20to:%5Cn%5Ctif%20the%20noun%20is%20not%20the%20box,%20say%20%22That's%20not%20something%20you%20can%20push.%22%20instead;%5Cn%5Ctif%20the%20player%20is%20on%20the%20bed,%20say%20%22You%20can't%20reach%20from%20here.%22%20instead;%5Cn%5Ctif%20the%20player%20is%20on%20the%20noun,%20say%20%22Not%20while%20you%20are%20standing%20on%20%5Bthe%20noun%5D.%22%20instead;%5Cn%5Ctif%20the%20new%20position%20is%20nowhere%20at%20all,%20say%20%22You%20can%20only%20push%20%5Bthe%20noun%5D%20to%20the%20window,%20the%20bed%20or%20the%20shelf.%22%20instead;%5Cn%5Ctif%20the%20new%20position%20is%20the%20old%20position,%20say%20%22The%20%5Bnoun%5D%20is%20already%20%5Bnew%20position%5D.%22%20instead.%5CnCarry%20out%20pushing%20it%20over%20to:%5Cn%5Ctnow%20the%20current%20box%20position%20is%20the%20new%20position.%5CnReport%20pushing%20it%20over%20to:%5Cn%5Ctsay%20%22With%20some%20effort,%20you%20shove%20%5Bthe%20noun%5D%20from%20%5Bold%20position%5D%20to%20%5Bnew%20position%5D.%22%5Cn%5Cn%5BEverything%20which%20remains%20simply%20provides%20a%20couple%20of%20puzzles%20to%20test%20this%20arrangement.%5D%5Cn%5CnEuclid's%20Elements%20is%20on%20the%20shelf.%20Understand%20%22euclid%22%20or%20%22book%22%20as%20the%20Elements.%5CnInstead%20of%20taking%20something%20(called%20the%20item)%20which%20is%20on%20the%20shelf:%5Cn%5Ctif%20the%20player%20is%20on%20the%20box%20and%20the%20current%20box%20position%20is%20under%20the%20shelf,%20continue%20the%20action;%5Cn%5Ctsay%20%22You%20cannot%20reach%20%5Bthe%20item%5D,%20which%20is%20up%20on%20the%20shelf.%22%5Cn%5CnInstead%20of%20examining%20the%20window:%5Cn%5Ctsay%20%22This%20window%20opens%20rather%20unpromisingly%20onto%20the%20chapel%20wall%20opposite,%20so%20even%20granted%20the%20moonlight%20it%20is%20dark%20in%20here.%20Still,%20surely%20there's%20a%20poem%20here%20somewhere?%22%5Cn%5CnInstead%20of%20examining%20the%20window%20when%20the%20player%20is%20on%20the%20bed:%5Cn%5Ctsay%20%22Just%20a%20blank%20patch%20of%20chapel%20wall.%22%5Cn%5CnInstead%20of%20examining%20the%20window%20when%20the%20player%20is%20on%20the%20box:%5Cn%5Ctif%20the%20current%20box%20position%20is%20near%20the%20bed:%5Cn%5Ct%5Ctsay%20%22Tantalisingly,%20you%20are%20not%20quite%20able%20to%20spy%20the%20statue.%22;%5Cn%5Ctotherwise%20if%20the%20current%20box%20position%20is%20under%20the%20shelf:%5Cn%5Ct%5Ctsay%20%22All%20you%20can%20see%20is%20the%20antechapel%20wall,%20and%20the%20dull%20silver%20gleam%20of%20the%20pealing%20organ.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22At%20last!%20You%20can%20just,%20standing%20on%20tiptoes%20on%20the%20box%20right%20up%20at%20the%20window,%20make%20out%20the%20top%20of%20the%20statue!%20Of%20such%20epiphanies%20are%20Poesy%20born.%20Let's%20see%20now...%20oh%20yes...%5Bparagraph%20break%5DAnd%20from%20my%20pillow,%20looking%20forth%20by%20light%5Bline%20break%5DOf%20moon%20or%20favouring%20stars,%20I%20could%20behold%5Bline%20break%5DThe%20antechapel%20where%20the%20statue%20stood%5Bline%20break%5DOf%20Newton%20with%20his%20prism%20and%20silent%20face,%5Bline%20break%5DThe%20marble%20index%20of%20a%20mind%20for%20ever%5Bline%20break%5DVoyaging%20through%20strange%20seas%20of%20Thought,%20alone.%22;%5Cn%5Ct%5Ctend%20the%20story%20finally.%5Cn%5CnTest%20me%20with%20%22get%20on%20bed%20/%20x%20window%20/%20get%20off%20/%20x%20window%20/get%20elements%20/%20get%20on%20box%20/%20x%20window%20/%20get%20elements%20/%20push%20box%20to%20shelf%20/%20get%20off%20/%20push%20box%20to%20shelf%20/%20get%20on%20box%20/%20get%20elements%20/%20x%20window%20/%20get%20off%20/%20push%20box%20to%20window%20/%20get%20on%20box%20/%20x%20window%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Further Reasons Why All Poets Are Liars"
</p>
<p class="quoted">
Nook Obscure is a room. "Above the College kitchens, which make a humming sound, less tuneable than bees, but hardly less industrious, with shrill notes of sharp command and scolding intermixed: and below Trinity's loquacious clock, who never lets the quarters, night or day, slip by him unproclaimed, and tells the hours twice over with a male and female voice. In short, the kind of rubbish room they give to a northern villager. But you get a bed and a high shelf all of your own. And you long to find some Romantic way to look out of the window."
</p>
<p class="quoted">
The window, the shelf and the bed are scenery in the Nook Obscure. The shelf and the bed are supporters. The bed is enterable.
</p>
<p class="quoted">
Internal position is a kind of value. The internal positions are nowhere at all, over by the window, under the shelf and near the bed.
</p>
<p class="quoted">
The box is an enterable supporter in Nook Obscure. The current box position is an internal position that varies. The current box position is near the bed. "Your packing case, stamped W. WORDSWORTH (KENDAL), is [current box position]." Instead of taking the box, say "It is filled with your peerless rock collection and too heavy to lift, but could be pushed." Instead of opening the box, say "It is securely nailed shut."
</p>
</div>
<p>We create an action, "pushing it over to", for pushing a box around on the floor of a single location. (Calling this "pushing it over to" prevents clashes with the existing "pushing it to" action, which is for pushing things from one room to another.) Almost half of the text which defines the action is concerned with the two action variables, but they make the implementation of everything else so much easier that we end up writing less than if we hadn't used them.</p>

<div class="code">
<p class="quoted">
Understand "push [box]" as a mistake ("You can push the box to the window, the bed or the shelf.").
</p>
<p class="quoted">
Understand "push [something] to [something]" as pushing it over to. Pushing it over to is an action applying to two things.
</p>
<p class="quoted">
The pushing it over to action has an internal position called the old position.
<br>The pushing it over to action has an internal position called the new position.
<br>Setting action variables for pushing something over to something:
<br>    now the old position is the current box position;
<br>    now the new position is nowhere at all;
<br>    if the second noun is the window, now the new position is over by the window;
<br>    if the second noun is the bed, now the new position is near the bed;
<br>    if the second noun is the shelf, now the new position is under the shelf.
</p>
<p class="quoted">
Check pushing it over to:
<br>    if the noun is not the box, say "That's not something you can push." instead;
<br>    if the player is on the bed, say "You can't reach from here." instead;
<br>    if the player is on the noun, say "Not while you are standing on [the noun]." instead;
<br>    if the new position is nowhere at all, say "You can only push [the noun] to the window, the bed or the shelf." instead;
<br>    if the new position is the old position, say "The [noun] is already [new position]." instead.
<br>Carry out pushing it over to:
<br>    now the current box position is the new position.
<br>Report pushing it over to:
<br>    say "With some effort, you shove [the noun] from [old position] to [new position]."
</p>
</div>
<p>Everything which remains simply provides a couple of puzzles to test this arrangement.</p>

<div class="code">
<p class="quoted">
Euclid's Elements is on the shelf. Understand "euclid" or "book" as the Elements.
<br>Instead of taking something (called the item) which is on the shelf:
<br>    if the player is on the box and the current box position is under the shelf, continue the action;
<br>    say "You cannot reach [the item], which is up on the shelf."
</p>
<p class="quoted">
Instead of examining the window:
<br>    say "This window opens rather unpromisingly onto the chapel wall opposite, so even granted the moonlight it is dark in here. Still, surely there's a poem here somewhere?"
</p>
<p class="quoted">
Instead of examining the window when the player is on the bed:
<br>    say "Just a blank patch of chapel wall."
</p>
<p class="quoted">
Instead of examining the window when the player is on the box:
<br>    if the current box position is near the bed:
<br>        say "Tantalisingly, you are not quite able to spy the statue.";
<br>    otherwise if the current box position is under the shelf:
<br>        say "All you can see is the antechapel wall, and the dull silver gleam of the pealing organ.";
<br>    otherwise:
<br>        say "At last! You can just, standing on tiptoes on the box right up at the window, make out the top of the statue! Of such epiphanies are Poesy born. Let's see now... oh yes...[paragraph break]And from my pillow, looking forth by light[line break]Of moon or favouring stars, I could behold[line break]The antechapel where the statue stood[line break]Of Newton with his prism and silent face,[line break]The marble index of a mind for ever[line break]Voyaging through strange seas of Thought, alone.";
<br>        end the story finally.
</p>
<p class="quoted">
Test me with "get on bed / x window / get off / x window /get elements / get on box / x window / get elements / push box to shelf / get off / push box to shelf / get on box / get elements / x window / get off / push box to window / get on box / x window".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.10">WI §12.10. Action variables</a><br><a href="rb_3.html#rb-3.3">RB §3.3. Position Within Rooms</a>
</div></details><details class="full-example" id="example-7"><summary><span class="example-summary">7. Starry Void</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Sometimes we may want a room to be visible from the outside in one location, but treated as a separate location when we are inside. The simplest way to do this is to make the exterior form of the object into a door object, and to describe it differently from different vantage points. (Doors in general are described more fully in the Doors section of the Things chapter.)</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Starry%20Void%22%5Cn%5CnThe%20Center%20Ring%20is%20a%20room.%5Cn%5CnThe%20magician's%20booth%20is%20a%20door.%20%22%5Bif%20the%20player%20is%20in%20Center%20Ring%5DA%20magician's%20booth%20stands%20in%20the%20corner,%20painted%20dark%20blue%20with%20glittering%20gold%20stars.%5Botherwise%20if%20the%20magician's%20booth%20is%20closed%5DA%20crack%20of%20light%20indicates%20the%20way%20back%20out%20to%20the%20center%20ring.%5Botherwise%5DThe%20door%20stands%20open%20to%20the%20outside.%5Bend%20if%5D%22.%5Cn%5Cn%5BHere%20we've%20arranged%20for%20the%20booth%20to%20be%20described%20in%20the%20initial%20room%20description%20in%20different%20ways%20depending%20on%20where%20the%20player%20is%20when%20viewing%20it.%20We%20might%20like%20to%20do%20the%20same%20if%20the%20player%20takes%20a%20closer%20look:%5D%5Cn%5CnInstead%20of%20examining%20the%20magician's%20booth%20in%20the%20Center%20Ring:%5Cn%5Ctsay%20%22It%20is%20dark%20blue%20and%20glittering%20with%20gold%20stars.%20%5Bif%20the%20booth%20is%20open%5DThe%20door%20currently%20stands%20open%5Botherwise%5DIt%20has%20been%20firmly%20shut%5Bend%20if%5D.%22%5Cn%5CnInstead%20of%20examining%20the%20magician's%20booth%20in%20the%20Starry%20Void:%5Cn%5Ctsay%20%22The%20booth%20door%20is%20%5Bif%20the%20magician's%20booth%20is%20open%5Dwide%20open%5Botherwise%5Dshut,%20admitting%20only%20a%20thin%20crack%20of%20light%5Bend%20if%5D.%22%5Cn%5Cn%5BAnd%20now%20we%20put%20it%20in%20place:%5D%5Cn%5CnThe%20magician's%20booth%20is%20inside%20from%20Center%20Ring%20and%20outside%20from%20Starry%20Void.%5Cn%5Cn%5B...and%20make%20sure%20that%20the%20booth-and-door%20object%20responds%20to%20all%20the%20names%20we%20have%20used%20for%20it%20in%20different%20places:%5D%5Cn%5CnUnderstand%20%22door%22%20or%20%22of%22%20or%20%22the%22%20or%20%22light%22%20or%20%22crack%22%20or%20%22thin%20crack%22%20as%20the%20booth.%5Cn%5CnTest%20me%20with%20%22examine%20booth%20/%20open%20door%20of%20the%20booth%20/%20in%20/%20examine%20door%20/%20close%20door%20/%20look%20/%20examine%20crack%20of%20light%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Starry Void"
</p>
<p class="quoted">
The Center Ring is a room.
</p>
<p class="quoted">
The magician's booth is a door. "[if the player is in Center Ring]A magician's booth stands in the corner, painted dark blue with glittering gold stars.[otherwise if the magician's booth is closed]A crack of light indicates the way back out to the center ring.[otherwise]The door stands open to the outside.[end if]".
</p>
</div>
<p>Here we've arranged for the booth to be described in the initial room description in different ways depending on where the player is when viewing it. We might like to do the same if the player takes a closer look:</p>

<div class="code">
<p class="quoted">
Instead of examining the magician's booth in the Center Ring:
<br>    say "It is dark blue and glittering with gold stars. [if the booth is open]The door currently stands open[otherwise]It has been firmly shut[end if]."
</p>
<p class="quoted">
Instead of examining the magician's booth in the Starry Void:
<br>    say "The booth door is [if the magician's booth is open]wide open[otherwise]shut, admitting only a thin crack of light[end if]."
</p>
</div>
<p>And now we put it in place:</p>

<div class="code"><p class="quoted">
The magician's booth is inside from Center Ring and outside from Starry Void.
</p></div>
<p>...and make sure that the booth-and-door object responds to all the names we have used for it in different places:</p>

<div class="code">
<p class="quoted">
Understand "door" or "of" or "the" or "light" or "crack" or "thin crack" as the booth.
</p>
<p class="quoted">
Test me with "examine booth / open door of the booth / in / examine door / close door / look / examine crack of light".
</p>
</div>
<p>A final nice touch, if we're so inclined, is to borrow from the Basic Actions chapter and make the player automatically open the booth door before trying to enter:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60%20Before%20going%20through%20the%20closed%20magician's%20booth:%5Cn%5Ctsay%20%22(first%20opening%20the%20door%20of%20the%20booth)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Ctsilently%20try%20opening%20the%20booth.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  Before going through the closed magician's booth:
<br>    say "(first opening the door of the booth)[command clarification break]";
<br>    silently try opening the booth.
</p></div>
<p>For the contrasting case of a space that is nested inside another place and is not its own room -- say a stall at an open-air market, or a rowboat on a lake -- see the example "Tamed".</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.2">WI §3.2. Rooms and the map</a><br><a href="rb_3.html#rb-3.3">RB §3.3. Position Within Rooms</a>
</div></details>
</div></section>
<section class="section" id="rb-3.4"><div>





<h3>RB §3.4. Continuous Spaces and The Outdoors</h3>
<p>Suppose we want to blur the boundaries between rooms, in an environment where there are no walls: out of doors, for instance?</p>
<p>The simplest cases involve making something exceptional visible in more than one place. <a href="rb_3.html#example-212" class="example-link" onClick="(function() { document.getElementById('example-212').setAttribute('open','open'); return true; })();">Carnivale</a><span class="example-difficulty"> ★★</span> features an exceptionally large landmark seen by day; <a href="rb_3.html#example-213" class="example-link" onClick="(function() { document.getElementById('example-213').setAttribute('open','open'); return true; })();">Eddystone</a><span class="example-difficulty"> ★★</span> an exceptionally bright one by night. <a href="rb_3.html#example-216" class="example-link" onClick="(function() { document.getElementById('example-216').setAttribute('open','open'); return true; })();">Waterworld</a><span class="example-difficulty"> ★</span> allows a very distant object (the Sun) to be seen throughout many rooms, but never approached. <a href="rb_3.html#example-80" class="example-link" onClick="(function() { document.getElementById('example-80').setAttribute('open','open'); return true; })();">View of Green Hills</a><span class="example-difficulty"> ★★★</span> gives the player an explicit command for looking through into an adjacent room.</p>
<p>Three systematic examples then present outdoor landscapes with increasing sophistication. <a href="rb_3.html#example-62" class="example-link" onClick="(function() { document.getElementById('example-62').setAttribute('open','open'); return true; })();">Tiny Garden</a><span class="example-difficulty"> ★★</span> gives the multiple rooms of an extended lawn descriptions which automatically adapt to say which directions lead into further lawn area. <a href="rb_3.html#example-366" class="example-link" onClick="(function() { document.getElementById('example-366').setAttribute('open','open'); return true; })();">Rock Garden</a><span class="example-difficulty"> ★★</span> provides a relation, "connected with", between rooms, allowing items in one to be seen from the other: an attempt to interact with a visible item in a different area of the garden triggers an implicit going action first. <a href="rb_3.html#example-367" class="example-link" onClick="(function() { document.getElementById('example-367').setAttribute('open','open'); return true; })();">Stately Gardens</a><span class="example-difficulty"> ★★★</span> provides a much larger outdoor area, where larger landmarks are visible from further away, and room descriptions are highly adaptive.</p>
<p>In an outdoor environment, the distinction between a one-move journey and a multiple-move journey is also blurred. <a href="rb_3.html#example-79" class="example-link" onClick="(function() { document.getElementById('example-79').setAttribute('open','open'); return true; })();">Hotel Stechelberg</a><span class="example-difficulty"> ★★</span> shows a signpost which treats these equally.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.3" class="crossreference_link">Position Within Rooms</a> for making the space within a room continuous</div>
<div class="crossreference">
<a href="rb_3.html#rb-3.6" class="crossreference_link">Windows</a> for another way to see between locations</div>
<div class="crossreference">
<a href="rb_3.html#rb-3.5" class="crossreference_link">Doors, Staircases, and Bridges</a> for still a third way to be told at least what lies adjacent</div>
<div class="crossreference">
<a href="rb_3.html#rb-3.9" class="crossreference_link">Passers-By, Weather and Astronomical Events</a> for more on describing the sky</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-216"><summary><span class="example-summary">216. Waterworld</span> <span class="example-difficulty">★</span></summary><div>
<p>It's tempting to handle the player's inability to interact with something with a simple instead rule:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Waterworld%201%22%5Cn%5CnA%20view%20is%20a%20kind%20of%20backdrop.%20Instead%20of%20doing%20something%20other%20than%20examining%20to%20a%20view,%20say%20%22You%20are%20too%20far%20from%20%5Bthe%20noun%5D%20to%20do%20anything%20but%20look.%22%5Cn%5CnThe%20sun%20is%20a%20view.%20It%20is%20everywhere.%20The%20description%20is%20%22A%20blazing%20sun%20makes%20you%20wish%20you%20had%20never%20been%20born.%22%5Cn%5CnThe%20Sahara%20is%20a%20room.%20North%20of%20the%20Sahara%20is%20More%20Sahara.%20North%20of%20More%20Sahara%20is%20Yet%20Further%20Sahara.%5Cn%5CnTest%20me%20with%20%22x%20sun%20/%20get%20sun%20/%20n%20/%20x%20sun%20/%20n%20/%20x%20sun%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Waterworld 1"
</p>
<p class="quoted">
A view is a kind of backdrop. Instead of doing something other than examining to a view, say "You are too far from [the noun] to do anything but look."
</p>
<p class="quoted">
The sun is a view. It is everywhere. The description is "A blazing sun makes you wish you had never been born."
</p>
<p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p>
<p class="quoted">
Test me with "x sun / get sun / n / x sun / n / x sun".
</p>
</div>
<p>Unfortunately, the rule does not address the case where the object in question is the second noun; so for instance the following example reveals the difficulty:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Waterworld%202%22%5Cn%5CnA%20view%20is%20a%20kind%20of%20backdrop.%20Instead%20of%20doing%20something%20other%20than%20examining%20to%20a%20view,%20say%20%22You%20are%20too%20far%20from%20%5Bthe%20noun%5D%20to%20do%20anything%20but%20look.%22%5Cn%5CnThe%20player%20carries%20a%20rope.%5Cn%5CnThe%20sun%20is%20a%20view.%20It%20is%20everywhere.%20The%20description%20is%20%22A%20blazing%20sun%20makes%20you%20wish%20you%20had%20never%20been%20born.%22%5Cn%5CnThe%20Sahara%20is%20a%20room.%20North%20of%20the%20Sahara%20is%20More%20Sahara.%20North%20of%20More%20Sahara%20is%20Yet%20Further%20Sahara.%5Cn%5CnTest%20me%20with%20%22x%20sun%20/%20get%20sun%20/%20n%20/%20x%20sun%20/%20n%20/%20x%20sun%20/%20tie%20rope%20to%20the%20sun%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Waterworld 2"
</p>
<p class="quoted">
A view is a kind of backdrop. Instead of doing something other than examining to a view, say "You are too far from [the noun] to do anything but look."
</p>
<p class="quoted">
The player carries a rope.
</p>
<p class="quoted">
The sun is a view. It is everywhere. The description is "A blazing sun makes you wish you had never been born."
</p>
<p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p>
<p class="quoted">
Test me with "x sun / get sun / n / x sun / n / x sun / tie rope to the sun".
</p>
</div>
<p>...where the response here behaves as though the sun is in reach. If we had a fully implemented tying action, the player would (even more disastrously) be allowed to lasso celestial objects.</p>
<p>We could add a second instead rule as well:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Waterworld%203%22%5Cn%5CnA%20view%20is%20a%20kind%20of%20backdrop.%5Cn%5CnInstead%20of%20doing%20something%20other%20than%20examining%20when%20the%20noun%20is%20a%20view:%5Cn%5Ctsay%20%22You%20are%20too%20far%20from%20%5Bthe%20noun%5D%20to%20do%20anything%20but%20look.%22%5CnInstead%20of%20doing%20something%20other%20than%20examining%20when%20the%20second%20noun%20is%20a%20view:%5Cn%5Ctsay%20%22You%20are%20too%20far%20from%20%5Bthe%20second%20noun%5D%20to%20do%20anything%20but%20look.%22%5Cn%5CnThe%20player%20carries%20a%20rope.%5Cn%5CnThe%20sun%20is%20a%20view.%20It%20is%20everywhere.%20The%20description%20is%20%22A%20blazing%20sun%20makes%20you%20wish%20you%20had%20never%20been%20born.%22%5Cn%5CnThe%20Sahara%20is%20a%20room.%20North%20of%20the%20Sahara%20is%20More%20Sahara.%20North%20of%20More%20Sahara%20is%20Yet%20Further%20Sahara.%5Cn%5CnTest%20me%20with%20%22x%20sun%20/%20get%20sun%20/%20n%20/%20x%20sun%20/%20n%20/%20x%20sun%20/%20tie%20rope%20to%20sun%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Waterworld 3"
</p>
<p class="quoted">
A view is a kind of backdrop.
</p>
<p class="quoted">
Instead of doing something other than examining when the noun is a view:
<br>    say "You are too far from [the noun] to do anything but look."
<br>Instead of doing something other than examining when the second noun is a view:
<br>    say "You are too far from [the second noun] to do anything but look."
</p>
<p class="quoted">
The player carries a rope.
</p>
<p class="quoted">
The sun is a view. It is everywhere. The description is "A blazing sun makes you wish you had never been born."
</p>
<p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p>
<p class="quoted">
Test me with "x sun / get sun / n / x sun / n / x sun / tie rope to sun".
</p>
</div>
<p>This produces acceptable output again, but there is a more elegant way, one that works better with Inform's existing world model. Currently the default model assumes that accessibility -- whether the player can reach something or not -- is checked between the Before... rules and the Instead... rules. We can add our own accessibility rules, including this one to govern whether views are accessible. So for instance:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Waterworld%204%22%5Cn%5CnA%20view%20is%20a%20kind%20of%20backdrop.%5Cn%5CnThe%20can't%20touch%20views%20rule%20is%20listed%20before%20the%20access%20through%20barriers%20rule%20in%20the%20accessibility%20rulebook.%5Cn%5CnAccessibility%20rule%20(this%20is%20the%20can't%20touch%20views%20rule):%5Cn%5Ctif%20the%20action%20requires%20a%20touchable%20noun%20and%20the%20noun%20is%20a%20view:%5Cn%5Ct%5Ctsay%20%22You%20are%20too%20far%20from%20%5Bthe%20noun%5D%20to%20do%20anything%20but%20look.%22%20instead;%5Cn%5Ctif%20the%20action%20requires%20a%20touchable%20second%20noun%20and%20the%20second%20noun%20is%20a%20view:%5Cn%5Ct%5Ctsay%20%22You%20are%20too%20far%20from%20%5Bthe%20second%20noun%5D%20to%20do%20anything%20but%20look.%22%20instead;%5Cn%5CnThe%20player%20carries%20a%20rope.%5Cn%5CnThe%20sun%20is%20a%20view.%20It%20is%20everywhere.%20The%20description%20is%20%22A%20blazing%20sun%20makes%20you%20wish%20you%20had%20never%20been%20born.%22%5Cn%5CnThe%20Sahara%20is%20a%20room.%20North%20of%20the%20Sahara%20is%20More%20Sahara.%20North%20of%20More%20Sahara%20is%20Yet%20Further%20Sahara.%5Cn%5CnTest%20me%20with%20%22x%20sun%20/%20get%20sun%20/%20n%20/%20x%20sun%20/%20n%20/%20x%20sun%20/%20tie%20rope%20to%20sun%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Waterworld 4"
</p>
<p class="quoted">
A view is a kind of backdrop.
</p>
<p class="quoted">
The can't touch views rule is listed before the access through barriers rule in the accessibility rulebook.
</p>
<p class="quoted">
Accessibility rule (this is the can't touch views rule):
<br>    if the action requires a touchable noun and the noun is a view:
<br>        say "You are too far from [the noun] to do anything but look." instead;
<br>    if the action requires a touchable second noun and the second noun is a view:
<br>        say "You are too far from [the second noun] to do anything but look." instead;
</p>
<p class="quoted">
The player carries a rope.
</p>
<p class="quoted">
The sun is a view. It is everywhere. The description is "A blazing sun makes you wish you had never been born."
</p>
<p class="quoted">
The Sahara is a room. North of the Sahara is More Sahara. North of More Sahara is Yet Further Sahara.
</p>
<p class="quoted">
Test me with "x sun / get sun / n / x sun / n / x sun / tie rope to sun".
</p>
</div>
<p>Now our new accessibility rule fits into its proper stage.</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.18">WI §12.18. Changing reachability</a><br><a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>
</div></details><details class="full-example" id="example-62"><summary><span class="example-summary">62. Tiny Garden</span> <span class="example-difficulty">★★</span></summary><div>
<p>Sometimes we want to make a list of something too complicated to express in a say list... phrase. When this happens, we can instead mark all the items we want to mention as "marked for listing".</p>
<p>In this case, we have a lawn area made up of four rooms. We want each room to automatically describe the directions leading to the other parts of the lawn. To do this, we will first determine which directions are relevant and mark those for listing, then list them.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Tiny%20Garden%22%5Cn%5CnThe%20Herb%20Garden%20is%20a%20room.%20%22Along%20this%20side%20of%20the%20house%20run%20your%20great-aunt's%20herb%20beds.%22%5Cn%5CnA%20Grassy%20Room%20is%20a%20kind%20of%20room.%20The%20printed%20name%20of%20a%20Grassy%20Room%20is%20usually%20%22Lawn%22.%20The%20description%20of%20a%20Grassy%20Room%20is%20%22The%20grass%20underfoot%20is%20thick%20and%20green.%20The%20lawn%20extends%20to%20%5Bgrassy%20directions%5D%20from%20here.%22%5Cn%5Cn%5BThe%20following%20phrase%20goes%20through%20all%20the%20directions%20in%20the%20compass%20and%20marks%20the%20ones%20that%20are%20interesting%20to%20us%20at%20the%20moment.%5D%5Cn%5CnTo%20say%20grassy%20directions:%5Cn%5Ctrepeat%20with%20that%20way%20running%20through%20directions:%5Cn%5Ct%5Ctif%20the%20room%20that%20way%20from%20the%20location%20is%20a%20grassy%20room,%5Cn%5Ct%5Ct%5Ctnow%20that%20way%20is%20marked%20for%20listing;%5Cn%5Ctsay%20%22%5Ba%20list%20of%20directions%20which%20are%20marked%20for%20listing%5D%22;%5Cn%5Ctnow%20every%20direction%20is%20not%20marked%20for%20listing.%5Cn%5CnLawn1%20is%20west%20of%20the%20Herb%20Garden.%20It%20contains%20a%20picnic%20table%20and%20a%20wicker%20basket.%20Lawn2%20is%20south%20of%20Lawn1%20and%20southeast%20of%20Lawn4.%20Lawn3%20is%20southwest%20of%20Lawn1,%20west%20of%20Lawn2,%20and%20south%20of%20Lawn4.%20Lawn4%20is%20west%20of%20Lawn1.%20Lawn4%20contains%20a%20birdbath.%20The%20birdbath%20is%20fixed%20in%20place.%5Cn%5CnLawn1,%20Lawn2,%20Lawn3,%20and%20Lawn4%20are%20Grassy%20Rooms.%5Cn%5CnTest%20me%20with%20%22w%20/%20s%20/%20w%20/%20n%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Tiny Garden"
</p>
<p class="quoted">
The Herb Garden is a room. "Along this side of the house run your great-aunt's herb beds."
</p>
<p class="quoted">
A Grassy Room is a kind of room. The printed name of a Grassy Room is usually "Lawn". The description of a Grassy Room is "The grass underfoot is thick and green. The lawn extends to [grassy directions] from here."
</p>
</div>
<p>The following phrase goes through all the directions in the compass and marks the ones that are interesting to us at the moment.</p>

<div class="code">
<p class="quoted">
To say grassy directions:
<br>    repeat with that way running through directions:
<br>        if the room that way from the location is a grassy room,
<br>            now that way is marked for listing;
<br>    say "[a list of directions which are marked for listing]";
<br>    now every direction is not marked for listing.
</p>
<p class="quoted">
Lawn1 is west of the Herb Garden. It contains a picnic table and a wicker basket. Lawn2 is south of Lawn1 and southeast of Lawn4. Lawn3 is southwest of Lawn1, west of Lawn2, and south of Lawn4. Lawn4 is west of Lawn1. Lawn4 contains a birdbath. The birdbath is fixed in place.
</p>
<p class="quoted">
Lawn1, Lawn2, Lawn3, and Lawn4 are Grassy Rooms.
</p>
<p class="quoted">
Test me with "w / s / w / n".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.5">WI §5.5. Text with lists</a><br><a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>
</div></details><details class="full-example" id="example-79"><summary><span class="example-summary">79. Hotel Stechelberg</span> <span class="example-difficulty">★★</span></summary><div>
<p>The following rule appends a paragraph to every room description. We need not worry about doors (despite the pass in the Bernese Oberland known figuratively as the "Little Door").</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hotel%20Stechelberg%22%5Cn%5CnAfter%20looking:%5Cn%5Ctsay%20%22Yellow%20arms%20on%20the%20signpost%20point:-%5Bline%20break%5D%22;%5Cn%5Ctrepeat%20with%20destination%20running%20through%20interesting%20rooms:%5Cn%5Ct%5Ctlet%20the%20way%20be%20the%20best%20route%20from%20the%20location%20to%20the%20destination;%5Cn%5Ct%5Ctif%20the%20way%20is%20a%20direction,%20say%20%22%20%20%5Bway%5D%20for%20%5Bthe%20destination%5D:%20%5Bnumber%20of%20moves%20from%20the%20location%20to%20the%20destination%5D%20Std.%22%5Cn%5CnHotel%20Stechelberg%20is%20a%20room.%20%22The%20wooden%20hiking%20inn%20at%20the%20end%20of%20the%20road,%20with%20flowerboxes,%20canton%20flags,%20outdoor%20tables%20and%20a%20triangular%20paddock%20for%20the%20cows%20contesting%20the%20annual%20Miss%20Stechelberg%20competition.%20Otto%20and%20Marianne%20do%20cheerful%20innkeeper%20things,%20while%20the%20sun%20blazes%20from%20a%20gentian-blue%20sky.%22%5Cn%5CnA%20room%20can%20be%20dull%20or%20interesting.%20A%20room%20is%20usually%20dull.%5Cn%5CnNorth%20of%20Hotel%20Stechelberg%20is%20Trummelbachfalle.%20North%20of%20Trummelbachfalle%20is%20Lauterbrunnen.%20Lauterbrunnen%20is%20interesting.%5Cn%5CnSoutheast%20of%20Hotel%20Stechelberg%20is%20Trachsellauenen.%20Trachsellauenen%20is%20interesting.%5Cn%5CnTest%20me%20with%20%22look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hotel Stechelberg"
</p>
<p class="quoted">
After looking:
<br>    say "Yellow arms on the signpost point:-[line break]";
<br>    repeat with destination running through interesting rooms:
<br>        let the way be the best route from the location to the destination;
<br>        if the way is a direction, say "  [way] for [the destination]: [number of moves from the location to the destination] Std."
</p>
<p class="quoted">
Hotel Stechelberg is a room. "The wooden hiking inn at the end of the road, with flowerboxes, canton flags, outdoor tables and a triangular paddock for the cows contesting the annual Miss Stechelberg competition. Otto and Marianne do cheerful innkeeper things, while the sun blazes from a gentian-blue sky."
</p>
<p class="quoted">
A room can be dull or interesting. A room is usually dull.
</p>
<p class="quoted">
North of Hotel Stechelberg is Trummelbachfalle. North of Trummelbachfalle is Lauterbrunnen. Lauterbrunnen is interesting.
</p>
<p class="quoted">
Southeast of Hotel Stechelberg is Trachsellauenen. Trachsellauenen is interesting.
</p>
<p class="quoted">
Test me with "look".
</p>
</div>
<p>With a bit more work, the result might be:</p>

<div class="code">
<p class="quoted">
Hotel Stechelberg
<br>The wooden hiking inn at the end of the road, with flowerboxes, canton flags, outdoor tables and a triangular paddock for the cows contesting the annual Miss Stechelberg competition. Otto and Marianne do cheerful innkeeper things, while the sun blazes from a gentian-blue sky.
</p>
<p class="quoted">
Yellow arms on the signpost point:-
<br>    north for Lauterbrunnen: 2 Std.
<br>    west for Sefinental: 2 Std.
<br>    west for Schilthorn: 6 Std.
<br>    southeast for Trachsellauenen: 1 Std.
<br>    southeast for Oberhornsee: 3 Std.
</p>
</div>
</div>
<div class="linkback">
<a href="wi_6.html#wi-6.14">WI §6.14. Adjacent rooms and routes through the map</a><br><a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>
</div></details><details class="full-example" id="example-212"><summary><span class="example-summary">212. Carnivale</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to make an object that (unlike a backdrop) is definitely located in one room, but can be seen from far off. We want to allow the player to interact with it from a distance, but only using those actions that require visibility. Other actions should be denied:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Carnivale%22%5Cn%5CnThe%20Fairground%20is%20a%20region.%20Park%20Entrance,%20By%20the%20Wheel,%20and%20Candy%20Stand%20are%20in%20Fairground.%20Candy%20Stand%20is%20north%20of%20By%20the%20Wheel.%20Park%20Entrance%20is%20west%20of%20Candy%20Stand%20and%20northwest%20of%20By%20the%20Wheel.%5Cn%5CnThe%20ferris%20wheel%20is%20scenery%20in%20By%20the%20Wheel.%20%22It%20is%20extravagantly%20tall%20and%20carries%20several%20dozen%20glass%20gondolas%20for%20riders.%22%5Cn%5CnThe%20description%20of%20By%20the%20Wheel%20is%20%22You%20stand%20at%20the%20foot%20of%20an%20enormous%20ferris%20wheel,%20which%20turns%20far%20too%20quickly%20and%20never%20seems%20to%20stop%20for%20new%20riders.%22%5Cn%5CnThe%20description%20of%20Park%20Entrance%20is%20%22You%20are%20now%20just%20inside%20the%20gates.%20Behind%20you%20snakes%20a%20triple%20line%20of%20fairgoers%20all%20the%20way%20down%20the%20length%20of%20the%20valley%20to%20the%20railway%20station.%20Roughly%20southeast%20of%20here%20is%20the%20ferris%20wheel,%20towering%20over%20the%20other%20attractions.%22%5Cn%5CnThe%20description%20of%20Candy%20Stand%20is%20%22A%20hut%20in%20pale%20pink%20and%20baby%20blue%20dispenses%20marshmallow%20death's-heads,%20sugar-beetles,%20and%20other%20such%20treats.%20The%20giant%20ferris%20wheel%20is%20just%20off%20to%20the%20south%20from%20here.%22%5Cn%5Cn%5BAs%20the%20descriptions%20make%20clear,%20the%20ferris%20wheel%20should%20be%20visible%20from%20everywhere%20in%20the%20fair,%20so%20we'll%20borrow%20a%20line%20from%20the%20Activities%20chapter%20to%20make%20that%20happen:%5D%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player:%5Cn%5Ctif%20the%20location%20is%20in%20Fairground,%20place%20the%20ferris%20wheel%20in%20scope.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Carnivale"
</p>
<p class="quoted">
The Fairground is a region. Park Entrance, By the Wheel, and Candy Stand are in Fairground. Candy Stand is north of By the Wheel. Park Entrance is west of Candy Stand and northwest of By the Wheel.
</p>
<p class="quoted">
The ferris wheel is scenery in By the Wheel. "It is extravagantly tall and carries several dozen glass gondolas for riders."
</p>
<p class="quoted">
The description of By the Wheel is "You stand at the foot of an enormous ferris wheel, which turns far too quickly and never seems to stop for new riders."
</p>
<p class="quoted">
The description of Park Entrance is "You are now just inside the gates. Behind you snakes a triple line of fairgoers all the way down the length of the valley to the railway station. Roughly southeast of here is the ferris wheel, towering over the other attractions."
</p>
<p class="quoted">
The description of Candy Stand is "A hut in pale pink and baby blue dispenses marshmallow death's-heads, sugar-beetles, and other such treats. The giant ferris wheel is just off to the south from here."
</p>
</div>
<p>As the descriptions make clear, the ferris wheel should be visible from everywhere in the fair, so we'll borrow a line from the Activities chapter to make that happen:</p>

<div class="code"><p class="quoted">
After deciding the scope of the player:
<br>    if the location is in Fairground, place the ferris wheel in scope.
</p></div>
<p>"Scope" determines what the player can interact with; by writing this rule, we make Inform understand all commands that refer to the ferris wheel when the player is anywhere in the fairground, instead of responding with</p>

<div class="code"><p class="quoted">
You can't see any such thing.
</p></div>
<p>as it normally would.</p>
<p>Now, by default, if the player were to type TOUCH FERRIS WHEEL while in another room, he would get the response</p>

<div class="code"><p class="quoted">
You can't reach into By the Wheel.
</p></div>
<p>This may not be quite what we want, but we can replace this text with our own reaching inside rule:</p>

<div class="code"><p class="quoted">
Rule for reaching inside a room:
<br>    say "You can only look from this distance.";
<br>    deny access.
</p></div>
<p>And because our accessibility rules are considered before the "Instead" phase, we can write the following rule confident that it will apply only when the player is in fact in range to touch the ferris wheel:</p>

<div class="code">
<p class="quoted">
Instead of touching the ferris wheel:
<br>    say "You don't dare: it's spinning too fast."
</p>
<p class="quoted">
Test me with "x ferris wheel / touch ferris wheel / se / x ferris wheel / touch ferris wheel".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.16">WI §12.16. Reaching inside and reaching outside rules</a><br><a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>
</div></details><details class="full-example" id="example-213"><summary><span class="example-summary">213. Eddystone</span> <span class="example-difficulty">★★</span></summary><div>
<p>Using the compass directions in commands is a little bit finicky because directions are forbidden to figure in any interactions involving touch. (Really, directions are more a concept than an object; this is a compromise situation.) In any case, if we want to write a new command involving these, we need to be sure to specify that the direction is a visible thing. For instance:</p>

<div class="code">
<p class="quoted">
"Eddystone"
</p>
<p class="quoted">
The Lighthouse is a room. "A lonely place, but in these tense times, no one but the lighthouse keeper and a few trusted agents are allowed on the grounds at all, for fear of sabotage."
</p>
<p class="quoted">
The light is a fixed in place thing in the Lighthouse.  "At the center of the room is the light itself, a 1000-Watt tungsten halogen light powered by diesel generator, and having a visible range of twenty-six nautical miles." Understand "lamp" as the light. It is lit. The light has a a direction called heading. The heading of the light is north.
</p>
<p class="quoted">
A room is usually dark.
</p>
<p class="quoted">
Understand "turn [something] [a direction]" as reorienting it to. Reorienting it to is an action applying to two things.
</p>
</div>
<p>will give us</p>

<div class="code"><p class="quoted">
&gt;turn light northeast
<br>You must name something more substantial.
</p></div>
<p>To avoid this mystifying result:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Eddystone%22%5Cn%5CnThe%20Lighthouse%20is%20a%20room.%20%22A%20lonely%20place,%20but%20in%20these%20tense%20times,%20no%20one%20but%20the%20lighthouse%20keeper%20and%20a%20few%20trusted%20agents%20are%20allowed%20on%20the%20grounds%20at%20all,%20for%20fear%20of%20sabotage.%22%5Cn%5CnThe%20light%20is%20a%20fixed%20in%20place%20thing%20in%20the%20Lighthouse.%20%20%22At%20the%20center%20of%20the%20room%20is%20the%20light%20itself,%20a%201000-Watt%20tungsten%20halogen%20light%20powered%20by%20diesel%20generator,%20and%20having%20a%20visible%20range%20of%20twenty-six%20nautical%20miles.%22%20Understand%20%22lamp%22%20as%20the%20light.%20It%20is%20lit.%20The%20light%20has%20a%20direction%20called%20heading.%20The%20heading%20of%20the%20light%20is%20north.%5Cn%5CnA%20room%20is%20usually%20dark.%5Cn%5CnUnderstand%20%22turn%20%5Bsomething%5D%20%5Ba%20direction%5D%22%20as%20reorienting%20it%20to.%20Reorienting%20it%20to%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20visible%20thing.%5Cn%5CnInstead%20of%20turning%20the%20light,%20say%20%22Try%20turning%20the%20light%20to%20the%20direction%20of%20your%20choice.%22%5Cn%5CnCheck%20reorienting%20it%20to:%20if%20the%20noun%20is%20not%20the%20light,%20say%20%22You%20couldn't%20do%20so%20meaningfully.%22%20instead;%20if%20the%20second%20noun%20is%20up%20or%20the%20second%20noun%20is%20down,%20say%20%22The%20light%20only%20points%20in%20compass%20directions.%22%20instead.%5Cn%5Cn%5BAnd%20now%20that's%20done,%20we%20have%20a%20little%20fun%20calculating%20where%20the%20beam%20hits:%5D%5Cn%5CnCarry%20out%20reorienting%20it%20to:%5Cn%5Ctnow%20the%20heading%20of%20the%20light%20is%20the%20second%20noun;%5Cn%5Ctlet%20way%20be%20the%20heading%20of%20the%20light;%5Cn%5Ctlet%20place%20be%20the%20room%20way%20from%20the%20Lighthouse;%5Cn%5Ctwhile%20place%20is%20a%20room%20and%20place%20is%20lower%20than%20Lighthouse:%5Cn%5Ct%5Ctlet%20place%20be%20the%20room%20way%20from%20the%20place;%5Cn%5Ctif%20place%20is%20not%20a%20room,%20now%20the%20beam%20is%20nowhere;%5Cn%5Ctotherwise%20move%20beam%20to%20the%20place.%5Cn%5CnReport%20reorienting%20it%20to:%20say%20%22The%20light%20now%20points%20%5Bheading%20of%20the%20light%5D%5Bif%20the%20beam%20is%20in%20a%20room%5D,%20spotlighting%20%5Bthe%20holder%20of%20the%20beam%5D%5Botherwise%5D,%20into%20empty%20space%5Bend%20if%5D.%22%5Cn%5CnThe%20beam%20is%20a%20lit%20thing.%20Understand%20%22light%22%20or%20%22brilliant%22%20as%20the%20beam.%20%22Brilliant%20light%20from%20the%20lighthouse%20floods%20the%20whole%20area.%22%20It%20is%20fixed%20in%20place.%20Instead%20of%20doing%20something%20other%20than%20examining%20to%20the%20beam:%20say%20%22The%20light%20is,%20of%20course,%20intangible.%22%20The%20description%20is%20%22The%20light%20is%20coming%20from%20the%20lighthouse,%20since%20the%20lamp%20is%20apparently%20pointed%20this%20way.%22%5Cn%5CnAltitude%20is%20a%20kind%20of%20value.%20200%20ft%20specifies%20an%20altitude.%20A%20room%20has%20an%20altitude.%20The%20altitude%20of%20a%20room%20is%20usually%2050%20ft.%20The%20altitude%20of%20the%20Lighthouse%20is%20100%20ft.%5Cn%5CnDefinition:%20a%20room%20is%20low%20if%20its%20altitude%20is%2020%20ft%20or%20less.%5Cn%5CnThe%20Jetty%20is%20south%20of%20the%20Lighthouse.%20%22During%20daylight%20hours,%20a%20fine%20place%20to%20catch%20almost%20unlimited%20supplies%20of%20crayfish.%20Less%20entertaining%20by%20night.%22%5Cn%5CnNorth%20of%20the%20Lighthouse%20is%20the%20Uphill%20Road.%20The%20altitude%20of%20Uphill%20Road%20is%2075%20ft.%20North%20of%20Uphill%20Road%20is%20Hilltop.%20The%20altitude%20of%20Hilltop%20is%20110%20ft.%20The%20description%20of%20Hilltop%20is%20%22The%20highest%20natural%20point%20around%20for%20miles;%20sometimes%20you%20will%20sit%20up%20here%20and%20watch%20for%20the%20lighthouse%20supply%20ship,%20the%20Lady%20Loch.%22%5Cn%5CnNortheast%20of%20the%20Lighthouse%20is%20Open%20Field.%20East%20of%20the%20Lighthouse%20is%20Stanley%20Creek%20Valley.%20The%20description%20of%20Stanley%20Creek%20is%20%22This%20place%20used%20to%20have%20some%20other%20name%20meaning%20Ghost%20Valley%20in%20the%20aboriginal%20language,%20but%20it%20was%20piously%20renamed%20by%20missionaries.%22%20Train%20Trestle%20is%20east%20of%20the%20Stanley%20Creek%20Valley.%20%22The%20now-abandoned%20track%20of%20the%20Bush%20Pacific%20Railway%20runs%20here,%20above%20Stanley%20Creek.%22%20The%20altitude%20of%20Train%20Trestle%20is%20100%20ft.%5Cn%5CnBefore%20going%20from%20a%20room%20(called%20source)%20to%20a%20room%20(called%20destination):%5Cn%5Ctif%20source%20is%20lower%20than%20destination:%5Cn%5Ct%5Ctsay%20%22It's%20an%20uphill%20climb...%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctif%20destination%20is%20lower%20than%20source,%20say%20%22You're%20heading%20downhill%20now...%22;%5Cn%5Ct%5Ctotherwise%20say%20%22It's%20a%20straight%20shot.%22%5Cn%5CnTest%20me%20with%20%22turn%20lamp%20/%20turn%20lamp%20down%20/%20turn%20lamp%20east%20/%20e%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Eddystone"
</p>
<p class="quoted">
The Lighthouse is a room. "A lonely place, but in these tense times, no one but the lighthouse keeper and a few trusted agents are allowed on the grounds at all, for fear of sabotage."
</p>
<p class="quoted">
The light is a fixed in place thing in the Lighthouse.  "At the center of the room is the light itself, a 1000-Watt tungsten halogen light powered by diesel generator, and having a visible range of twenty-six nautical miles." Understand "lamp" as the light. It is lit. The light has a direction called heading. The heading of the light is north.
</p>
<p class="quoted">
A room is usually dark.
</p>
<p class="quoted">
Understand "turn [something] [a direction]" as reorienting it to. Reorienting it to is an action applying to one thing and one visible thing.
</p>
<p class="quoted">
Instead of turning the light, say "Try turning the light to the direction of your choice."
</p>
<p class="quoted">
Check reorienting it to: if the noun is not the light, say "You couldn't do so meaningfully." instead; if the second noun is up or the second noun is down, say "The light only points in compass directions." instead.
</p>
</div>
<p>And now that's done, we have a little fun calculating where the beam hits:</p>

<div class="code">
<p class="quoted">
Carry out reorienting it to:
<br>    now the heading of the light is the second noun;
<br>    let way be the heading of the light;
<br>    let place be the room way from the Lighthouse;
<br>    while place is a room and place is lower than Lighthouse:
<br>        let place be the room way from the place;
<br>    if place is not a room, now the beam is nowhere;
<br>    otherwise move beam to the place.
</p>
<p class="quoted">
Report reorienting it to: say "The light now points [heading of the light][if the beam is in a room], spotlighting [the holder of the beam][otherwise], into empty space[end if]."
</p>
<p class="quoted">
The beam is a lit thing. Understand "light" or "brilliant" as the beam. "Brilliant light from the lighthouse floods the whole area." It is fixed in place. Instead of doing something other than examining to the beam: say "The light is, of course, intangible." The description is "The light is coming from the lighthouse, since the lamp is apparently pointed this way."
</p>
<p class="quoted">
Altitude is a kind of value. 200 ft specifies an altitude. A room has an altitude. The altitude of a room is usually 50 ft. The altitude of the Lighthouse is 100 ft.
</p>
<p class="quoted">
Definition: a room is low if its altitude is 20 ft or less.
</p>
<p class="quoted">
The Jetty is south of the Lighthouse. "During daylight hours, a fine place to catch almost unlimited supplies of crayfish. Less entertaining by night."
</p>
<p class="quoted">
North of the Lighthouse is the Uphill Road. The altitude of Uphill Road is 75 ft. North of Uphill Road is Hilltop. The altitude of Hilltop is 110 ft. The description of Hilltop is "The highest natural point around for miles; sometimes you will sit up here and watch for the lighthouse supply ship, the Lady Loch."
</p>
<p class="quoted">
Northeast of the Lighthouse is Open Field. East of the Lighthouse is Stanley Creek Valley. The description of Stanley Creek is "This place used to have some other name meaning Ghost Valley in the aboriginal language, but it was piously renamed by missionaries." Train Trestle is east of the Stanley Creek Valley. "The now-abandoned track of the Bush Pacific Railway runs here, above Stanley Creek." The altitude of Train Trestle is 100 ft.
</p>
<p class="quoted">
Before going from a room (called source) to a room (called destination):
<br>    if source is lower than destination:
<br>        say "It's an uphill climb...";
<br>    otherwise:
<br>        if destination is lower than source, say "You're heading downhill now...";
<br>        otherwise say "It's a straight shot."
</p>
<p class="quoted">
Test me with "turn lamp / turn lamp down / turn lamp east / e / e".
</p>
</div>
<p>All very loosely based on the Eddystone Point lighthouse of Tasmania, built in 1889, and forbiddingly remote even today. George Isaacs, a child growing up in the lighthouse, remembers the plentiful crayfish.</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.17">WI §12.17. Visible vs touchable vs carried</a><br><a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>
</div></details><details class="full-example" id="example-366"><summary><span class="example-summary">366. Rock Garden</span> <span class="example-difficulty">★★</span></summary><div>
<p>A map of linked rooms works well for modeling enclosed or indoor space, and somewhat less well for modeling large open spaces, where a person should reasonably be able to see things which are much too far away to touch. With some modifications to scoping, though, we can create an environment where objects in nearby rooms are described and viewable, and where the player will automatically move towards distant items before interacting with them physically.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Rock%20Garden%22%5Cn%5CnSection%201%20-%20General%20Rules%5Cn%5CnIntervisibility%20relates%20rooms%20to%20each%20other%20in%20groups.%20The%20verb%20to%20be%20connected%20with%20means%20the%20intervisibility%20relation.%5Cn%5CnDefinition:%20a%20room%20is%20inter-visible%20if%20it%20is%20connected%20with%20more%20than%20one%20room.%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player%20when%20the%20location%20is%20an%20inter-visible%20room:%5Cn%5Ctrepeat%20with%20other%20place%20running%20through%20rooms%20which%20are%20connected%20with%20the%20location:%5Cn%5Ct%5Ctunless%20the%20other%20place%20is%20the%20location,%20place%20the%20other%20place%20in%20scope.%5Cn%5CnRule%20for%20reaching%20inside%20a%20room%20(called%20target)%20which%20is%20connected%20with%20the%20location:%5Cn%5Ctlet%20way%20be%20the%20best%20route%20from%20the%20location%20to%20the%20target;%5Cn%5Ctif%20the%20way%20is%20not%20a%20direction:%5Cn%5Ct%5Ctsay%20%22You%20can't%20get%20over%20to%20%5Bthe%20target%5D%20from%20here.%22;%5Cn%5Ct%5Ctdeny%20access;%5Cn%5Ctsay%20%22(first%20heading%20%5Bway%5D)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Cttry%20going%20way;%5Cn%5Ctif%20the%20player%20is%20in%20the%20target,%20allow%20access;%5Cn%5Ctotherwise%20deny%20access.%5Cn%5CnAfter%20looking%20when%20the%20location%20is%20an%20inter-visible%20room:%5Cn%5Ctrepeat%20with%20other%20place%20running%20through%20rooms%20which%20are%20connected%20with%20the%20location:%5Cn%5Ct%5Ctif%20the%20other%20place%20is%20not%20the%20location,%20describe%20locale%20for%20other%20place.%5Cn%5CnSection%202%20-%20The%20Scenario%5Cn%5CnRock%20Garden%20West%20is%20west%20of%20Rock%20Garden%20East.%20Rock%20Garden%20East%20contains%20a%20rake.%20Rock%20Garden%20West%20contains%20a%20bench%20and%20a%20maple%20leaf.%20The%20bench%20is%20an%20enterable%20supporter.%5Cn%5CnRock%20Garden%20West%20is%20connected%20with%20Rock%20Garden%20East.%5Cn%5CnTest%20me%20with%20%22get%20rake%20/%20drop%20rake%20/%20sit%20on%20bench%20/%20get%20rake%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Rock Garden"
</p>
<p class="quoted">
Section 1 - General Rules
</p>
<p class="quoted">
Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.
</p>
<p class="quoted">
Definition: a room is inter-visible if it is connected with more than one room.
</p>
<p class="quoted">
After deciding the scope of the player when the location is an inter-visible room:
<br>    repeat with other place running through rooms which are connected with the location:
<br>        unless the other place is the location, place the other place in scope.
</p>
<p class="quoted">
Rule for reaching inside a room (called target) which is connected with the location:
<br>    let way be the best route from the location to the target;
<br>    if the way is not a direction:
<br>        say "You can't get over to [the target] from here.";
<br>        deny access;
<br>    say "(first heading [way])[command clarification break]";
<br>    try going way;
<br>    if the player is in the target, allow access;
<br>    otherwise deny access.
</p>
<p class="quoted">
After looking when the location is an inter-visible room:
<br>    repeat with other place running through rooms which are connected with the location:
<br>        if the other place is not the location, describe locale for other place.
</p>
<p class="quoted">
Section 2 - The Scenario
</p>
<p class="quoted">
Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.
</p>
<p class="quoted">
Rock Garden West is connected with Rock Garden East.
</p>
<p class="quoted">
Test me with "get rake / drop rake / sit on bench / get rake".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.29">WI §18.29. Deciding the scope of something</a><br><a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>
</div></details><details class="full-example" id="example-80"><summary><span class="example-summary">80. A View of Green Hills</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose a game in which the player is wandering an open landscape with long vistas, allowing him to LOOK in some direction, or even look at an adjacent location.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22A%20View%20of%20Green%20Hills%22%5Cn%5CnCorinth%20is%20a%20room.%20Athens%20is%20east%20of%20Corinth.%20Epidaurus%20is%20southeast%20of%20Corinth%20and%20east%20of%20Mycenae.%20Mycenae%20is%20south%20of%20Corinth.%20Olympia%20is%20west%20of%20Mycenae.%20Argos%20is%20south%20of%20Mycenae.%20Thebes%20is%20northwest%20of%20Athens.%20Pylos%20is%20south%20of%20Olympia.%20Sparta%20is%20east%20of%20Pylos%20and%20south%20of%20Argos.%20Delphi%20is%20northwest%20of%20Thebes.%5Cn%5CnUnderstand%20%22look%20%5Bdirection%5D%22%20as%20facing.%5Cn%5CnFacing%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20facing:%5Cn%5Ctlet%20the%20viewed%20item%20be%20the%20room%20noun%20from%20the%20location;%5Cn%5Ctif%20the%20viewed%20item%20is%20not%20a%20room,%20say%20%22You%20can't%20see%20anything%20promising%20that%20way.%22%20instead;%5Cn%5Cttry%20looking%20toward%20the%20viewed%20item.%5Cn%5Cn%5BIn%20rules%20about%20action%20handling,%20%22noun%22%20refers%20to%20the%20first%20object%20that%20the%20player%20has%20mentioned%20in%20his%20command,%20so%20if%20the%20player%20typed%20&gt;LOOK%20WEST,%20%22let%20the%20viewed%20item%20be%20the%20room%20noun%20from%20the%20location%22%20would%20be%20processed%20as%20%22let%20the%20viewed%20item%20be%20the%20room%20west%20from%20the%20location%22,%20and%20so%20on.%5D%5Cn%5Cn%5BWe%20can%20at%20need%20override%20the%20default%20behavior,%20if%20it%20is%20not%20going%20to%20be%20appropriate%20for%20the%20player%20to%20see%20the%20next%20room%20over.%20There%20is%20only%20sky%20above%20at%20any%20time,%20so...%5D%5Cn%5CnInstead%20of%20facing%20up:%5Cn%5Ctsay%20%22Above%20you%20is%20bright%20sky.%22%5Cn%5CnUnderstand%20%22look%20toward%20%5Bany%20adjacent%20room%5D%22%20as%20looking%20toward.%20Understand%20%22examine%20%5Bany%20adjacent%20room%5D%22%20as%20looking%20toward.%5Cn%5CnLooking%20toward%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20looking%20toward:%5Cn%5Ctsay%20%22You%20make%20out%20%5Bthe%20noun%5D%20that%20way.%22%5Cn%5Cn%5BThis%20design%20allows%20us%20to%20create%20descriptions%20for%20rooms%20(as%20seen%20from%20the%20outside)%20which%20will%20work%20regardless%20of%20where%20we're%20looking%20from.%20For%20instance:%5D%5Cn%5CnInstead%20of%20looking%20toward%20Athens:%5Cn%5Ctsay%20%22Even%20from%20here%20you%20can%20make%20out%20the%20silhouette%20of%20the%20Acropolis.%22%5Cn%5CnTest%20me%20with%20%22look%20north%20/%20look%20south%20/%20look%20up%20/%20look%20east%20/%20east%20/%20look%20west%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "A View of Green Hills"
</p>
<p class="quoted">
Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</p>
<p class="quoted">
Understand "look [direction]" as facing.
</p>
<p class="quoted">
Facing is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out facing:
<br>    let the viewed item be the room noun from the location;
<br>    if the viewed item is not a room, say "You can't see anything promising that way." instead;
<br>    try looking toward the viewed item.
</p>
</div>
<p>In rules about action handling, "noun" refers to the first object that the player has mentioned in his command, so if the player typed &gt;LOOK WEST, "let the viewed item be the room noun from the location" would be processed as "let the viewed item be the room west from the location", and so on.</p>
<p>We can at need override the default behavior, if it is not going to be appropriate for the player to see the next room over. There is only sky above at any time, so...</p>

<div class="code">
<p class="quoted">
Instead of facing up:
<br>    say "Above you is bright sky."
</p>
<p class="quoted">
Understand "look toward [any adjacent room]" as looking toward. Understand "examine [any adjacent room]" as looking toward.
</p>
<p class="quoted">
Looking toward is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out looking toward:
<br>    say "You make out [the noun] that way."
</p>
</div>
<p>This design allows us to create descriptions for rooms (as seen from the outside) which will work regardless of where we're looking from. For instance:</p>

<div class="code">
<p class="quoted">
Instead of looking toward Athens:
<br>    say "Even from here you can make out the silhouette of the Acropolis."
</p>
<p class="quoted">
Test me with "look north / look south / look up / look east / east / look west".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_6.html#wi-6.14">WI §6.14. Adjacent rooms and routes through the map</a><br><a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>
</div></details><details class="full-example" id="example-367"><summary><span class="example-summary">367. Stately Gardens</span> <span class="example-difficulty">★★★</span></summary><div>
<p>This time we're going to assume that the player can see into any room that is on a line of sight within one or two steps of travel.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Stately%20Gardens%22%5Cn%5CnChapter%201%20-%20Laying%20Out%20Rooms%5Cn%5CnA%20room%20can%20be%20indoors%20or%20outdoors.%5Cn%5CnUse%20full-length%20room%20descriptions.%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player:%5Cn%5Ctrepeat%20with%20the%20way%20running%20through%20directions:%5Cn%5Ct%5Ctlet%20first%20step%20be%20the%20room%20the%20way%20from%20the%20location;%5Cn%5Ct%5Ctif%20the%20first%20step%20is%20a%20room:%5Cn%5Ct%5Ct%5Ctplace%20the%20first%20step%20in%20scope;%5Cn%5Ct%5Ct%5Ctlet%20second%20step%20be%20the%20room%20the%20way%20from%20the%20first%20step;%5Cn%5Ct%5Ct%5Ctif%20the%20second%20step%20is%20a%20room,%20place%20the%20second%20step%20in%20scope;%5Cn%5Ctplace%20the%20obelisk%20in%20scope.%5Cn%5Cn%5BThe%20obelisk%20is%20so%20large%20that%20it%20can%20be%20seen%20from%20every%20room.%20If%20we%20had%20a%20number%20of%20such%20large%20monuments%20we%20might%20want%20to%20write%20a%20systematic%20routine%20to%20handle%20them,%20but%20this%20will%20do%20for%20now.%5D%5Cn%5CnThe%20room%20description%20heading%20rule%20is%20not%20listed%20in%20the%20carry%20out%20looking%20rules.%5Cn%5Cn%5BNow,%20we%20set%20things%20up%20so%20that%20the%20surrounding%20areas%20are%20described%20automatically%20as%20part%20of%20the%20room%20description:%5D%5Cn%5CnBuilding%20description%20is%20a%20truth%20state%20that%20varies.%20Building%20description%20is%20false.%5Cn%5CnAfter%20looking%20when%20the%20location%20is%20an%20outdoors%20room:%5Cn%5Ctnow%20count%20of%20sentences%20is%200;%5Cn%5Ctnow%20building%20description%20is%20true;%5Cn%5Ctrepeat%20with%20way%20running%20through%20directions:%5Cn%5Ct%5Ctlet%20space%20be%20the%20room%20way%20from%20the%20location;%5Cn%5Ct%5Ctif%20space%20is%20an%20outdoors%20room,%20silently%20try%20looking%20toward%20space;%5Cn%5Ctif%20the%20obelisk%20is%20not%20in%20the%20location%20and%20the%20obelisk%20is%20unmentioned:%5Cn%5Ct%5Ctlet%20the%20way%20be%20the%20best%20route%20from%20location%20to%20the%20Upper%20Terrace;%5Cn%5Ct%5Ctif%20the%20way%20is%20a%20direction,%20say%20%22%5BThe%20obelisk%5D%20is%20proudly%20visible%20on%20%5Bthe%20way%5D%20horizon.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ct%5Ctincrement%20the%20count%20of%20sentences;%5Cn%5Ctnow%20building%20description%20is%20false;%5Cn%5Ctunless%20the%20count%20of%20sentences%20is%200:%5Cn%5Ct%5Ctsay%20paragraph%20break.%5Cn%5Cn%5BBut%20perhaps%20there%20are%20a%20few%20rooms%20where%20we%20do%20not%20wish%20that%20to%20happen,%20so%20we'll%20build%20in%20exceptions%20for%20those.%5D%5Cn%5CnAfter%20looking%20in%20the%20rose%20garden:%5Cn%5Ctsay%20%22Otherwise,%20you%20are%20quite%20cut%20off.%22.%5Cn%5CnAfter%20looking%20in%20the%20Ha-ha:%5Cn%5Ctdo%20nothing.%5Cn%5Cn%5BAnd%20suppose%20we%20want%20to%20allow%20the%20player%20to%20look%20in%20any%20direction:%5D%5Cn%5CnUnderstand%20%22look%20%5Bdirection%5D%22%20or%20%22look%20to/toward%20%5Bdirection%5D%22%20as%20facing.%5Cn%5CnFacing%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20facing:%5Cn%5Ctlet%20the%20viewed%20item%20be%20the%20room%20noun%20from%20the%20location;%5Cn%5Ctif%20the%20viewed%20item%20is%20not%20a%20room:%5Cn%5Ct%5Ctif%20the%20location%20is%20indoors,%20say%20%22Your%20view%20is%20restricted%20by%20the%20lack%20of%20doors%20or%20windows%20in%20that%20direction.%22%20instead;%5Cn%5Ct%5Ctotherwise%20say%20%22You%20can't%20see%20anything%20promising%20that%20way.%22%20instead;%5Cn%5Cttry%20looking%20toward%20the%20viewed%20item.%5Cn%5CnInstead%20of%20facing%20up:%5Cn%5Ctsay%20%22Above%20you%20is%20bright%20sky.%22%5Cn%5Cn%5BWe%20also%20need%20to%20tell%20distant%20rooms%20how%20to%20describe%20themselves.%5D%5Cn%5CnUnderstand%20%22look%20toward%20%5Bany%20adjacent%20room%5D%22%20as%20looking%20toward.%5Cn%5CnLooking%20toward%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCheck%20looking%20toward%20a%20room%20which%20does%20not%20contain%20something%20mentionable:%5Cn%5Ctif%20building%20description%20is%20false:%5Cn%5Ct%5Ctsay%20%22You%20can't%20make%20out%20anything%20of%20interest%20that%20way.%22%20instead.%5Cn%5CnCarry%20out%20looking%20toward:%5Cn%5Ctnow%20every%20thing%20is%20unmentioned;%5Cn%5Ctnow%20the%20chosen%20direction%20is%20the%20best%20route%20from%20the%20location%20to%20the%20noun;%5Cn%5Ctnow%20the%20second%20noun%20is%20the%20room%20the%20chosen%20direction%20from%20the%20noun;%5Cn%5Ctif%20the%20noun%20contains%20something%20mentionable:%5Cn%5Ct%5Ctrepeat%20with%20item%20running%20through%20mentionable%20things%20in%20the%20noun:%5Cn%5Ct%5Ct%5Ctcarry%20out%20the%20writing%20a%20distant%20paragraph%20about%20activity%20with%20the%20item;%5Cn%5Ctif%20the%20noun%20contains%20something%20mentionable:%5Cn%5Ct%5Ctincrement%20the%20count%20of%20sentences;%5Cn%5Ct%5Ctchoose%20row%20count%20of%20sentences%20in%20the%20Table%20of%20Distance%20Sentences;%5Cn%5Ct%5Ctif%20the%20second%20noun%20is%20an%20outdoors%20room%20and%20the%20second%20noun%20contains%20something%20mentionable,%20say%20%22%5Bboth%20entry%5D%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ct%5Ctotherwise%20say%20%22%5Bhere%20entry%5D%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctif%20the%20second%20noun%20is%20an%20outdoors%20room%20and%20the%20second%20noun%20contains%20something%20mentionable:%5Cn%5Ct%5Ct%5Ctincrement%20the%20count%20of%20sentences;%5Cn%5Ct%5Ct%5Ctchoose%20row%20count%20of%20sentences%20in%20the%20Table%20of%20Distance%20Sentences;%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bthere%20entry%5D%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctif%20building%20description%20is%20false:%5Cn%5Ct%5Ctsay%20paragraph%20break.%5Cn%5Cn%5BAnd%20again,%20some%20exception%20needs%20to%20be%20made%20for%20seeing%20what's%20in%20the%20dip%20in%20the%20ground:%5D%5Cn%5CnInstead%20of%20looking%20toward%20the%20Ha-ha:%5Cn%5Ctnow%20the%20chosen%20direction%20is%20the%20best%20route%20from%20the%20location%20to%20the%20noun;%5Cn%5Ctnow%20the%20second%20noun%20is%20the%20room%20the%20chosen%20direction%20from%20the%20noun;%5Cn%5Ctif%20the%20second%20noun%20is%20an%20outdoors%20room%20and%20the%20second%20noun%20contains%20something%20mentionable:%5Cn%5Ct%5Ctincrement%20the%20count%20of%20sentences;%5Cn%5Ct%5Ctchoose%20row%20count%20of%20sentences%20in%20the%20Table%20of%20Distance%20Sentences;%5Cn%5Ct%5Ctsay%20%22%5Bthere%20entry%5D%20%5Brun%20paragraph%20on%5D%22.%5Cn%5Cn%5BThe%20following%20is%20to%20account%20for%20cases%20where%20the%20player%20types%20%22look%20toward%20obelisk%22%20or%20similar,%20rather%20than%20looking%20toward%20a%20room:%5D%5Cn%5CnUnderstand%20%22look%20toward%20%5Bsomething%5D%22%20as%20examining.%5Cn%5Cn%5BThe%20following%20is%20arguably%20an%20unnecessary%20refinement,%20but%20the%20listing%20of%20items%20in%20the%20distance%20gets%20a%20bit%20repetitive%20unless%20we%20vary%20the%20sentence%20structure.%5D%5Cn%5CnChosen%20direction%20is%20a%20direction%20that%20varies.%5Cn%5CnCount%20of%20sentences%20is%20a%20number%20that%20varies.%5Cn%5CnTable%20of%20Distance%20Sentences%5Cnboth%5Cthere%5Ctthere%5Cn%22From%20here,%20you%20make%20out%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20noun%5D%20a%20little%20way%20%5Bchosen%20direction%5D,%20and,%20further%20on,%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Ct%22From%20here,%20you%20make%20out%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20noun%5D%20%5Bif%20the%20noun%20is%20not%20adjacent%20to%20the%20location%5Dsome%20distance%20%5Bend%20if%5Dto%20%5Bthe%20chosen%20direction%5D.%22%5Ct%22From%20here,%20you%20make%20out%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D%20some%20distance%20%5Bchosen%20direction%5D.%22%5Cn%22To%20%5Bthe%20chosen%20direction%5D%20there%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D,%20partly%20obscuring%20your%20further%20view%20of%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Ct%22To%20%5Bthe%20chosen%20direction%5D%20there%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D.%22%5Ct%22Quite%20a%20way%20%5Bchosen%20direction%5D%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Cn%22Then%20%5Bchosen%20direction%5D%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D,%20and%20beyond%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Ct%22Meanwhile,%20to%20%5Bthe%20chosen%20direction%5D%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D.%22%5Ct%22Meanwhile,%20%5Bchosen%20direction%5D%20in%20the%20middle%20distance%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Cn%22When%20you%20turn%20%5Bchosen%20direction%5D,%20you%20see%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20noun%5D,%20and%20somewhat%20further%20on%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Ct%22When%20you%20turn%20%5Bchosen%20direction%5D,%20you%20see%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20noun%5D.%22%5Ct%22If%20you%20turn%20%5Bchosen%20direction%5D,%20you%20see%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D%20some%20way%20off.%22%5Cn%22Somewhere%20generally%20%5Bchosen%20direction%5D%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D,%20beyond%20which,%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Ct%22Roughly%20%5Bchosen%20direction%5D%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D.%22%5Ct%22Moreover,%20in%20the%20%5Bchosen%20direction%5D%20distance%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Cn%22%5BThe%20chosen%20direction%5D%20shows%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20noun%5D%20and%20then%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Ct%22And%20to%20%5Bthe%20chosen%20direction%5D%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20noun%5D.%22%5Ct%22Meanwhile,%20%5Bchosen%20direction%5D%20in%20the%20middle%20distance%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Cn%22Then,%20%5Bchosen%20direction%5D,%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D,%20and%20beyond%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Ct%22Meanwhile,%20to%20%5Bthe%20chosen%20direction%5D%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D.%22%5Ct%22Meanwhile,%20%5Bchosen%20direction%5D%20in%20the%20middle%20distance%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Cn%22Finally,%20%5Bchosen%20direction%5D,%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D,%20somewhat%20nearer%20than%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Ct%22Finally,%20to%20%5Bthe%20chosen%20direction%5D%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20noun%5D.%22%5Ct%22Finally,%20%5Bchosen%20direction%5D%20in%20the%20middle%20distance%20%5Bis-are%20a%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D.%22%5Cn%5Cn%5BNow,%20our%20ability%20to%20view%20things%20at%20a%20distance%20should%20be%20determined%20by%20the%20size%20of%20the%20things%20we're%20trying%20to%20see:%5D%5Cn%5CnChapter%202%20-%20Height%5Cn%5CnA%20height%20is%20a%20kind%20of%20value.%2010%20feet%2011%20inches%20specifies%20a%20height.%2010%20feet%2011%20specifies%20a%20height.%20The%20verb%20to%20stand%20means%20the%20height%20property.%20The%20verb%20to%20measure%20means%20the%20height%20property.%20A%20thing%20has%20a%20height.%20The%20height%20of%20a%20thing%20is%20usually%203%20feet%200.%5Cn%5CnDefinition:%20a%20thing%20is%20tiny%20if%20its%20height%20is%200%20feet%206%20inches%20or%20less.%5Cn%5CnDefinition:%20a%20thing%20is%20short%20if%20its%20height%20is%203%20feet%200%20or%20less.%5Cn%5CnDefinition:%20a%20thing%20is%20tall%20if%20its%20height%20is%206%20feet%200%20or%20more.%5Cn%5CnThe%20height%20of%20a%20man%20is%20usually%205%20feet%2010%20inches.%20The%20height%20of%20a%20woman%20is%20usually%205%20feet%206%20inches.%5Cn%5CnDefinition:%20a%20thing%20is%20monumental%20if%20it%20is%20taller%20than%2025%20feet%200%20inches.%5Cn%5CnDefinition:%20a%20thing%20is%20mentionable%20if%20it%20stands%20tall%20enough%20to%20see.%5Cn%5CnTo%20decide%20whether%20(item%20-%20a%20thing)%20stands%20tall%20enough%20to%20see:%5Cn%5Ctif%20the%20item%20is%20in%20the%20Rose%20Garden%20and%20the%20item%20is%20shorter%20than%20the%20roses,%20no;%5Cn%5Ctif%20the%20item%20is%20mentioned,%20no;%5Cn%5Ctif%20the%20item%20is%20in%20an%20adjacent%20room%20and%20item%20is%20taller%20than%202%20feet%200,%20yes;%5Cn%5Ctif%20the%20item%20is%20taller%20than%204%20feet%200,%20yes;%5Cn%5Ctno.%5Cn%5CnInstead%20of%20examining%20something%20which%20is%20within%20a%20room%20(called%20the%20space)%20which%20is%20not%20the%20location:%5Cn%5Ctif%20the%20location%20is%20adjacent%20to%20the%20space:%5Cn%5Ct%5Ctif%20the%20noun%20is%20tiny,%20say%20%22It%20is%20too%20far%20from%20here%20for%20you%20to%20make%20out%20much%20detail%20about%20%5Bthe%20noun%5D.%22%20instead;%5Cn%5Ct%5Ctlet%20way%20be%20the%20best%20route%20from%20the%20location%20to%20the%20space;%5Cn%5Ct%5Ctif%20the%20way%20is%20a%20direction,%20say%20%22You%20gaze%20off%20%5Bway%5D%20at%20%5Bthe%20noun%5D...%22;%5Cn%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctif%20the%20noun%20is%20short,%20say%20%22It%20is%20too%20far%20from%20here%20for%20you%20to%20make%20out%20much%20detail%20about%20%5Bthe%20noun%5D.%22%20instead;%5Cn%5Ct%5Ctlet%20way%20be%20the%20best%20route%20from%20the%20location%20to%20the%20space;%5Cn%5Ct%5Ctif%20the%20way%20is%20a%20direction,%20say%20%22You%20gaze%20off%20%5Bway%5D%20into%20the%20distance%20at%20%5Bthe%20noun%5D...%22;%5Cn%5Ct%5Ctcontinue%20the%20action.%5Cn%5Cn%5BWe%20might%20also%20want%20to%20be%20able%20to%20override,%20manually,%20the%20way%20distant%20things%20are%20described.%5D%5Cn%5CnWriting%20a%20distant%20paragraph%20about%20something%20is%20an%20activity.%5Cn%5CnRule%20for%20writing%20a%20distant%20paragraph%20about%20the%20lily%20pond:%5Cn%5Ctif%20the%20second%20noun%20is%20a%20room%20and%20something%20mentionable%20is%20in%20the%20second%20noun,%20say%20%22A%20%5Blily%20pond%5D,%20%5Bchosen%20direction%5D,%20patchily%20reflects%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20second%20noun%5D%20on%20the%20far%20side.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctotherwise%20say%20%22To%20%5Bthe%20chosen%20direction%5D,%20%5Ba%20lily%20pond%5D%20shimmers%20in%20the%20sunlight.%20%5Brun%20paragraph%20on%5D%22%5Cn%5CnRule%20for%20writing%20a%20distant%20paragraph%20about%20the%20roses:%5Cn%5Ctif%20something%20in%20the%20Rose%20Garden%20is%20taller%20than%20the%20roses,%5Cn%5Ct%5Ctsay%20%22Over%20the%20tops%20of%20%5Bthe%20roses%5D,%20%5Bchosen%20direction%5D,%20you%20see%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20rose%20garden%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctotherwise%20say%20%22Immediately%20%5Bchosen%20direction%5D%20is%20%5Bthe%20roses%5D.%20%5Brun%20paragraph%20on%5D%22%5Cn%5CnRule%20for%20writing%20a%20distant%20paragraph%20about%20the%20obelisk:%5Cn%5Ctif%20a%20mentionable%20thing%20in%20the%20Upper%20Terrace%20is%20shorter%20than%20the%20obelisk,%5Cn%5Ct%5Ctsay%20%22A%20stupidly%20grand%20%5Bobelisk%5D,%20%5Bchosen%20direction%5D,%20towers%20over%20%5Ba%20list%20of%20mentionable%20things%20in%20the%20Upper%20Terrace%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctotherwise%20say%20%22To%20%5Bthe%20chosen%20direction%5D,%20you%20can't%20help%20noticing%20%5Bthe%20obelisk%5D,%20which%20is%20much%20larger%20than%20any%20object%20really%20needs%20to%20be.%20%5Brun%20paragraph%20on%5D%22.%5Cn%5CnAfter%20writing%20a%20distant%20paragraph%20about%20something:%5Cn%5Ctincrement%20the%20count%20of%20sentences.%5Cn%5Cn%5BMoreover,%20proximate%20things%20might%20have%20special%20descriptions%20too.%5D%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20something%20tiny%20when%20the%20location%20is%20outdoors:%5Cn%5Ctif%20the%20location%20is%20the%20Gravel%20Circle,%5Cn%5Ct%5Ctsay%20%22Abandoned%20in%20the%20gravel%20%5Bis-are%20a%20list%20of%20unmentioned%20tiny%20things%20in%20the%20location%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctotherwise%20say%20%22Half%20trampled%20into%20the%20grass,%20and%20easy%20to%20miss,%20%5Bis-are%20a%20list%20of%20unmentioned%20tiny%20things%20in%20the%20location%5D.%20%5Brun%20paragraph%20on%5D%22%5Cn%5CnBefore%20doing%20something%20other%20than%20examining%20or%20approaching%20to%20something%20which%20is%20not%20within%20the%20location:%5Cn%5Ctif%20the%20player%20has%20the%20noun,%20continue%20the%20action;%5Cn%5Ctsay%20%22(first%20going%20over%20to%20%5Bthe%20noun%5D)%5Bline%20break%5D%22;%5Cn%5Cttry%20approaching%20the%20noun;%5Cn%5Ctif%20the%20noun%20is%20not%20within%20the%20location,%20stop%20the%20action.%5Cn%5CnUnderstand%20%22go%20toward/to/towards/near%20%5Bsomething%5D%22%20or%20%22approach%20%5Bsomething%5D%22%20as%20approaching.%5Cn%5CnApproaching%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCheck%20approaching:%5Cn%5Ctif%20the%20player%20is%20in%20something,%20say%20%22You'll%20have%20to%20get%20up.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20within%20the%20location,%20say%20%22You're%20as%20close%20to%20%5Bthe%20noun%5D%20as%20you%20can%20get.%22%20instead;%5Cn%5Ctlet%20space%20be%20the%20location%20of%20the%20noun;%5Cn%5Ctif%20the%20space%20is%20not%20a%20room,%20say%20%22You%20don't%20quite%20see%20how%20to%20get%20there.%22%20instead;%5Cn%5Ctlet%20way%20be%20the%20best%20route%20from%20the%20location%20to%20the%20space;%5Cn%5Ctunless%20way%20is%20a%20direction,%5Cn%5Ct%5Ctsay%20%22You%20can't%20see%20how%20to%20get%20over%20there%20from%20here.%22%20instead.%5Cn%5CnTo%20head%20to%20(space%20-%20a%20room):%5Cn%5Ctlet%20the%20way%20be%20the%20best%20route%20from%20the%20location%20to%20the%20space;%5Cn%5Ctif%20the%20space%20is%20adjacent%20to%20the%20location,%5Cn%5Ct%5Cttry%20going%20way;%5Cn%5Ctotherwise%20silently%20try%20going%20way.%5Cn%5CnCarry%20out%20approaching:%5Cn%5Ctlet%20space%20be%20the%20location%20of%20the%20noun;%5Cn%5Ctwhile%20the%20space%20is%20not%20the%20location:%5Cn%5Ct%5Cthead%20to%20space.%5Cn%5Cn%5BThis%20is%20a%20bit%20primitive,%20since%20if%20we%20had%20an%20occasion%20where%20going%20was%20blocked,%20we%20could%20get%20stuck%20in%20a%20loop.%20So%20we%20would%20need%20to%20be%20careful,%20but%20for%20this%20example%20it%20won't%20arise.%5D%5Cn%5CnGoing%20state%20is%20a%20truth%20state%20that%20varies.%20Going%20state%20is%20false.%5Cn%5CnCheck%20going:%5Cn%5Ctnow%20going%20state%20is%20true.%5Cn%5CnThe%20description%20of%20a%20room%20is%20usually%20%22%5Bif%20going%20state%20is%20true%5DYou%20drift%20%5Bnoun%5D%20across%20the%20open%20lawn%5Bdirection%20relative%20to%20obelisk%5D.%20%5Bend%20if%5DAn%20absolutely%20phenomenal%20quantity%20of%20manicured%20turf%20stretches%20from%20where%20you%20stand%20in%20almost%20every%20direction.%22%5Cn%5CnBefore%20reading%20a%20command:%5Cn%5Ctnow%20going%20state%20is%20false.%5Cn%5CnTo%20say%20direction%20relative%20to%20obelisk:%5Cn%5Ctif%20obelisk%20is%20in%20the%20location:%5Cn%5Ct%5Ctsay%20%22,%20as%20though%20drawn%20magnetically%20to%20the%20foot%20of%20the%20monument%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctlet%20way%20be%20the%20best%20route%20from%20the%20location%20to%20the%20Upper%20Terrace;%5Cn%5Ct%5Ctif%20way%20is%20the%20noun,%20say%20%22,%20drawn%20towards%20%5Bthe%20obelisk%5D%22;%5Cn%5Ct%5Ctif%20the%20way%20is%20the%20opposite%20of%20the%20noun,%20say%20%22,%20keeping%20%5Bthe%20obelisk%5D%20more%20or%20less%20at%20your%20back%22.%5Cn%5CnChapter%203%20-%20The%20Grounds%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20left%20hand%20status%20line%20is%20%22Idyllic%22;%5Cn%5Ctnow%20the%20right%20hand%20status%20line%20is%20%22%20%22.%5Cn%5CnThe%20Gravel%20Circle,%20the%20Ha-ha,%20the%20Sheep%20Field,%20the%20Open%20Lawn,%20the%20Croquet%20Ground,%20the%20Rose%20Garden,%20the%20Upper%20Terrace,%20the%20Middle%20Terrace,%20and%20the%20Lower%20Terrace%20are%20outdoors.%5Cn%5CnThe%20Middle%20Terrace%20is%20north%20of%20the%20Lower%20Terrace%20and%20south%20of%20the%20Upper%20Terrace.%20The%20lily%20pond%20is%20fixed%20in%20place%20in%20the%20Middle%20Terrace.%22You%20%5Bif%20going%20state%20is%20true%5Dcome%20to%5Botherwise%5Dare%20at%5Bend%20if%5D%20the%20north%20edge%20of%20a%20perfectly%20round%20lily%20pond,%20bordered%20with%20stones.%20Its%20surface%20patchily%20reflects%20%5Bthe%20marble%20anteater%5D%20on%20the%20south%20bank.%22%20A%20tent%20peg%20and%20a%20wilted%20orchid%20are%20in%20the%20Middle%20Terrace.%20The%20tent%20peg%20measures%200%20feet%206.%20The%20orchid%20measures%200%20feet%204.%5Cn%5CnThe%20description%20of%20the%20Lower%20Terrace%20is%20%22%5Bif%20going%20state%20is%20true%5DYou%20climb%20%5Bnoun%5D%20up%20a%20small%20hillock%5Bdirection%20relative%20to%20obelisk%5D%5Botherwise%5DYou%20stand%20on%20a%20short,%20round,%20entirely%20artificial%20hillock%5Bend%20if%5D.%22%5Cn%5CnThe%20marble%20anteater%20is%20a%20fixed%20in%20place%20thing%20in%20the%20Lower%20Terrace.%20The%20height%20of%20marble%20anteater%20is%206%20feet%202%20inches.%22A%20marble%20anteater%20stands%20on%20a%20pedestal%20at%20the%20top%20of%20the%20hill.%20In%20the%20bright%20sunlight%20the%20white%20marble%20makes%20a%20striking%20contrast%20with%20%5Bthe%20obelisk%5D%20in%20the%20distance.%22%20The%20description%20is%20%22The%20anteater%20is%20very%20much%20more%20than%20life-size.%22%5Cn%5CnThe%20obelisk%20of%20black%20granite%20is%20a%20fixed%20in%20place%20thing%20in%20the%20Upper%20Terrace.%22Now%20that%20you%20are%20at%20the%20foot%20of%20it,%20you%20can%20properly%20appreciate%20the%20stupid%20immensity%20of%20the%20obelisk,%20pointing%20stonily%20at%20heaven.%22%20The%20height%20of%20the%20obelisk%20is%2050%20feet%200%20inches.%20The%20description%20of%20the%20obelisk%20is%20%22It%20stands%20ridiculously%20tall,%20and%20has%20an%20inscription%20on%20the%20face.%22%5Cn%5CnThe%20inscription%20is%20part%20of%20the%20obelisk.%20The%20height%20of%20the%20inscription%20is%200%20feet%203%20inches.%20The%20description%20of%20the%20inscription%20is%20%22You%20can't%20read%20the%20squirming,%20pointed%20letters,%20but%20they%20make%20you%20uneasy.%22.%5Cn%5CnThe%20Gravel%20Circle%20is%20west%20of%20the%20Upper%20Terrace,%20northwest%20of%20the%20Middle%20Terrace,%20and%20north%20of%20the%20Croquet%20Ground.%20The%20description%20of%20the%20Gravel%20Circle%20is%20%22%5Bif%20going%20state%20is%20true%5DYou%20head%20%5Bnoun%5D%20until%20the%20lawn%20thins%20and%5Botherwise%5DHere%20the%20lawn%5Bend%20if%5D%20gives%20way%20to%20a%20circle%20of%20raked%20gravel,%20which%20crunches%20pleasingly%20beneath%20you.%22%5Cn%5CnInstead%20of%20going%20northwest%20in%20the%20Upper%20Terrace,%20try%20going%20north.%5Cn%5CnThe%20Ha-ha%20is%20north%20of%20the%20Gravel%20Circle%20and%20northwest%20of%20the%20Upper%20Terrace.%20The%20description%20of%20the%20Ha-ha%20is%20%22%5Bif%20going%20state%20is%20true%5DThe%20land%20dips%20here%20so%20suddenly%20that%20you%20do%20not%20know%20the%20dip%20is%20there%20until%20you're%20in%20it;%20but%20it%20prevents%20livestock%20from%20crossing%20barriers,%20and%20that%20is%20the%20important%20thing%5Botherwise%5DYou%20are%20at%20the%20base%20of%20a%20steep-sided%20depression,%20so%20the%20lawn%20continues%20north%20and%20south%20more%20or%20less%20at%20the%20level%20of%20your%20head%5Bend%20if%5D.%5Cn%5CnThe%20tip%20of%20%5Bthe%20obelisk%5D%20is%20the%20only%20thing%20you%20can%20make%20out%20from%20this%20depression,%20off%20to%20the%20southeast.%22.%20North%20of%20the%20Ha-ha%20is%20the%20Sheep%20Field.%20In%20the%20Sheep%20Field%20is%20an%20animal%20called%20a%20black%20sheep.%20The%20black%20sheep%20stands%204%20feet%203%20inches.%22A%20black%20sheep%20grazes%20placidly%20nearby.%22%20The%20description%20of%20the%20black%20sheep%20is%20%22It%20reminds%20you%20of%20your%20Uncle%20Tim.%22%5Cn%5CnBefore%20going%20from%20the%20Ha-ha:%5Cn%5Ctsay%20%22It's%20a%20bit%20of%20a%20scramble%20to%20get%20back%20up%20the%20side%20of%20the%20depression,%20and%20you%20keep%20slipping%20in%20the%20damp%20grass.%20But%20you%20manage%20at%20last.%22%5Cn%5CnThe%20Rose%20Garden%20is%20%20southwest%20of%20the%20Lower%20Terrace.%20The%20thicket%20of%20red%20roses%20is%20a%20fixed%20in%20place%20thing%20in%20the%20Rose%20Garden.%20The%20thicket%20stands%204%20feet%202%20inches.%22Heavy%20red%20roses%20grow%20over%20a%20roughly%20horseshoe-shaped%20wall%20around%20you.%20Over%20this%20barrier,%20the%20head%20of%20%5Bthe%20marble%20anteater%5D%20is%20visible%20to%20the%20northwest,%20and%20the%20tip%20of%20%5Bthe%20obelisk%5D%20in%20the%20distance.%22%5Cn%5CnThe%20description%20of%20the%20Rose%20Garden%20is%20%22%5Bif%20going%20state%20is%20true%5DYou%20slip%20%5Bnoun%5D%20into%20the%20enclosure%20of%20the%20rose%20garden.%20%5Bend%20if%5DThe%20rest%20of%20the%20park,%20and%20the%20world,%20seems%20muted%20and%20quiet.%22%5Cn%5CnInstead%20of%20smelling%20the%20rose%20garden:%20try%20smelling%20the%20roses.%20Instead%20of%20smelling%20the%20roses,%20say%20%22The%20smell%20tickles%20the%20back%20of%20your%20throat%20and%20makes%20you%20want%20to%20cough.%22%5Cn%5CnInstead%20of%20listening%20to%20the%20rose%20garden:%5Cn%5Ctsay%20%22You%20can't%20hear%20anything%20at%20all.%22%5Cn%5CnThe%20Open%20Lawn%20is%20north%20of%20the%20Rose%20Garden,%20west%20of%20the%20Lower%20Terrace,%20and%20southwest%20of%20the%20Middle%20Terrace.%20The%20Croquet%20Ground%20is%20north%20of%20the%20Open%20Lawn,%20west%20of%20the%20Middle%20Terrace,%20southwest%20of%20the%20Upper%20Terrace,%20and%20northwest%20of%20the%20Lower%20Terrace.%5Cn%5CnA%20discarded%20champagne%20cork%20is%20in%20the%20Open%20Lawn.%20It%20stands%200%20feet%202%20inches.%5Cn%5CnA%20stone%20bench%20is%20an%20enterable%20supporter%20in%20the%20Croquet%20Ground.%20It%20stands%203%20feet%208%20inches.%22There%20is%20a%20stone%20bench%20here%20--%20a%20sort%20of%20stone%20sofa,%20really,%20with%20nymphs%20disporting%20themselves%20on%20the%20arms%20and%20back.%22%20The%20description%20of%20the%20bench%20is%20%22It%20used%20to%20be%20a%20Roman%20sarcophagus%20--%20hence%20the%20nymphs%20--%20but%20someone%20has%20thoughtfully%20recarved%20it%20as%20lawn%20furniture.%22%5Cn%5CnThe%20half-size%20Bentley%20is%20a%20vehicle%20in%20the%20Gravel%20Circle.%22A%20sort%20of%20child's-toy%20version%20of%20a%20Bentley%20is%20parked%20%5Bif%20something%20parkable%20is%20in%20the%20location%5Dbeside%20%5Bthe%20tallest%20parkable%20thing%20in%20the%20location%5D%5Botherwise%5Dclose%20at%20hand%5Bend%20if%5D.%22%20The%20description%20of%20the%20half-size%20Bentley%20is%20%22Of%20beautiful%20and%20unambiguously%20luxurious%20lines,%20but%20sized%20down%20to%20hold%20only%20one%20or%20(at%20a%20stretch)%20two%20people,%20and%20powered%20by%20electricity.%22%20The%20half-size%20Bentley%20stands%203%20feet%206%20inches.%5Cn%5CnDefinition:%20a%20thing%20is%20parkable%20if%20it%20is%20not%20a%20person%20and%20it%20is%20not%20the%20Bentley.%5Cn%5CnInstead%20of%20touching%20the%20obelisk,%20say%20%22Though%20it%20is%20black%20stone%20in%20sunlight,%20the%20obelisk%20is%20very%20cold%20to%20the%20touch.%22%5Cn%5CnTest%20me%20with%20%22look%20east%20/%20look%20toward%20obelisk%20/%20s%20/%20s%20/%20e%20/%20sw%20/%20ne%20/%20n%20/%20n%20/%20w%20/%20n%20/%20n%20/%20examine%20obelisk%20/%20touch%20obelisk%20/%20read%20inscription%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Stately Gardens"
</p>
<p class="quoted">
Chapter 1 - Laying Out Rooms
</p>
<p class="quoted">
A room can be indoors or outdoors.
</p>
<p class="quoted">
Use full-length room descriptions.
</p>
<p class="quoted">
After deciding the scope of the player:
<br>    repeat with the way running through directions:
<br>        let first step be the room the way from the location;
<br>        if the first step is a room:
<br>            place the first step in scope;
<br>            let second step be the room the way from the first step;
<br>            if the second step is a room, place the second step in scope;
<br>    place the obelisk in scope.
</p>
</div>
<p>The obelisk is so large that it can be seen from every room. If we had a number of such large monuments we might want to write a systematic routine to handle them, but this will do for now.</p>

<div class="code"><p class="quoted">
The room description heading rule is not listed in the carry out looking rules.
</p></div>
<p>Now, we set things up so that the surrounding areas are described automatically as part of the room description:</p>

<div class="code">
<p class="quoted">
Building description is a truth state that varies. Building description is false.
</p>
<p class="quoted">
After looking when the location is an outdoors room:
<br>    now count of sentences is 0;
<br>    now building description is true;
<br>    repeat with way running through directions:
<br>        let space be the room way from the location;
<br>        if space is an outdoors room, silently try looking toward space;
<br>    if the obelisk is not in the location and the obelisk is unmentioned:
<br>        let the way be the best route from location to the Upper Terrace;
<br>        if the way is a direction, say "[The obelisk] is proudly visible on [the way] horizon. [run paragraph on]";
<br>        increment the count of sentences;
<br>    now building description is false;
<br>    unless the count of sentences is 0:
<br>        say paragraph break.
</p>
</div>
<p>But perhaps there are a few rooms where we do not wish that to happen, so we'll build in exceptions for those.</p>

<div class="code">
<p class="quoted">
After looking in the rose garden:
<br>    say "Otherwise, you are quite cut off.".
</p>
<p class="quoted">
After looking in the Ha-ha:
<br>    do nothing.
</p>
</div>
<p>And suppose we want to allow the player to look in any direction:</p>

<div class="code">
<p class="quoted">
Understand "look [direction]" or "look to/toward [direction]" as facing.
</p>
<p class="quoted">
Facing is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out facing:
<br>    let the viewed item be the room noun from the location;
<br>    if the viewed item is not a room:
<br>        if the location is indoors, say "Your view is restricted by the lack of doors or windows in that direction." instead;
<br>        otherwise say "You can't see anything promising that way." instead;
<br>    try looking toward the viewed item.
</p>
<p class="quoted">
Instead of facing up:
<br>    say "Above you is bright sky."
</p>
</div>
<p>We also need to tell distant rooms how to describe themselves.</p>

<div class="code">
<p class="quoted">
Understand "look toward [any adjacent room]" as looking toward.
</p>
<p class="quoted">
Looking toward is an action applying to one visible thing.
</p>
<p class="quoted">
Check looking toward a room which does not contain something mentionable:
<br>    if building description is false:
<br>        say "You can't make out anything of interest that way." instead.
</p>
<p class="quoted">
Carry out looking toward:
<br>    now every thing is unmentioned;
<br>    now the chosen direction is the best route from the location to the noun;
<br>    now the second noun is the room the chosen direction from the noun;
<br>    if the noun contains something mentionable:
<br>        repeat with item running through mentionable things in the noun:
<br>            carry out the writing a distant paragraph about activity with the item;
<br>    if the noun contains something mentionable:
<br>        increment the count of sentences;
<br>        choose row count of sentences in the Table of Distance Sentences;
<br>        if the second noun is an outdoors room and the second noun contains something mentionable, say "[both entry] [run paragraph on]";
<br>        otherwise say "[here entry] [run paragraph on]";
<br>    otherwise:
<br>        if the second noun is an outdoors room and the second noun contains something mentionable:
<br>            increment the count of sentences;
<br>            choose row count of sentences in the Table of Distance Sentences;
<br>            say "[there entry] [run paragraph on]";
<br>    if building description is false:
<br>        say paragraph break.
</p>
</div>
<p>And again, some exception needs to be made for seeing what's in the dip in the ground:</p>

<div class="code"><p class="quoted">
Instead of looking toward the Ha-ha:
<br>    now the chosen direction is the best route from the location to the noun;
<br>    now the second noun is the room the chosen direction from the noun;
<br>    if the second noun is an outdoors room and the second noun contains something mentionable:
<br>        increment the count of sentences;
<br>        choose row count of sentences in the Table of Distance Sentences;
<br>        say "[there entry] [run paragraph on]".
</p></div>
<p>The following is to account for cases where the player types "look toward obelisk" or similar, rather than looking toward a room:</p>

<div class="code"><p class="quoted">
Understand "look toward [something]" as examining.
</p></div>
<p>The following is arguably an unnecessary refinement, but the listing of items in the distance gets a bit repetitive unless we vary the sentence structure.</p>

<div class="code">
<p class="quoted">
Chosen direction is a direction that varies.
</p>
<p class="quoted">
Count of sentences is a number that varies.
</p>
<p class="quoted">
Table of Distance Sentences
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">both</p></td>
<td class="quotedtablecell"><p class="quoted">here</p></td>
<td class="quotedtablecell"><p class="quoted">there</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"From here, you make out [a list of mentionable things in the noun] a little way [chosen direction], and, further on, [a list of mentionable things in the second noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"From here, you make out [a list of mentionable things in the noun] [if the noun is not adjacent to the location]some distance [end if]to [the chosen direction]."</p></td>
<td class="quotedtablecell"><p class="quoted">"From here, you make out [a list of mentionable things in the second noun] some distance [chosen direction]."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"To [the chosen direction] there [is-are a list of mentionable things in the noun], partly obscuring your further view of [a list of mentionable things in the second noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"To [the chosen direction] there [is-are a list of mentionable things in the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Quite a way [chosen direction] [is-are a list of mentionable things in the second noun]."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Then [chosen direction] [is-are a list of mentionable things in the noun], and beyond [a list of mentionable things in the second noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Meanwhile, to [the chosen direction] [is-are a list of mentionable things in the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun]."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"When you turn [chosen direction], you see [a list of mentionable things in the noun], and somewhat further on [a list of mentionable things in the second noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"When you turn [chosen direction], you see [a list of mentionable things in the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"If you turn [chosen direction], you see [a list of mentionable things in the second noun] some way off."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Somewhere generally [chosen direction] [is-are a list of mentionable things in the noun], beyond which, [a list of mentionable things in the second noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Roughly [chosen direction] [is-are a list of mentionable things in the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Moreover, in the [chosen direction] distance [is-are a list of mentionable things in the second noun]."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"[The chosen direction] shows [a list of mentionable things in the noun] and then [a list of mentionable things in the second noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"And to [the chosen direction] [a list of mentionable things in the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun]."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Then, [chosen direction], [is-are a list of mentionable things in the noun], and beyond [a list of mentionable things in the second noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Meanwhile, to [the chosen direction] [is-are a list of mentionable things in the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Meanwhile, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun]."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Finally, [chosen direction], [is-are a list of mentionable things in the noun], somewhat nearer than [a list of mentionable things in the second noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Finally, to [the chosen direction] [is-are a list of mentionable things in the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"Finally, [chosen direction] in the middle distance [is-are a list of mentionable things in the second noun]."</p></td>
</tr>
</table>
</div>
<p>Now, our ability to view things at a distance should be determined by the size of the things we're trying to see:</p>

<div class="code">
<p class="quoted">
Chapter 2 - Height
</p>
<p class="quoted">
A height is a kind of value. 10 feet 11 inches specifies a height. 10 feet 11 specifies a height. The verb to stand means the height property. The verb to measure means the height property. A thing has a height. The height of a thing is usually 3 feet 0.
</p>
<p class="quoted">
Definition: a thing is tiny if its height is 0 feet 6 inches or less.
</p>
<p class="quoted">
Definition: a thing is short if its height is 3 feet 0 or less.
</p>
<p class="quoted">
Definition: a thing is tall if its height is 6 feet 0 or more.
</p>
<p class="quoted">
The height of a man is usually 5 feet 10 inches. The height of a woman is usually 5 feet 6 inches.
</p>
<p class="quoted">
Definition: a thing is monumental if it is taller than 25 feet 0 inches.
</p>
<p class="quoted">
Definition: a thing is mentionable if it stands tall enough to see.
</p>
<p class="quoted">
To decide whether (item - a thing) stands tall enough to see:
<br>    if the item is in the Rose Garden and the item is shorter than the roses, no;
<br>    if the item is mentioned, no;
<br>    if the item is in an adjacent room and item is taller than 2 feet 0, yes;
<br>    if the item is taller than 4 feet 0, yes;
<br>    no.
</p>
<p class="quoted">
Instead of examining something which is within a room (called the space) which is not the location:
<br>    if the location is adjacent to the space:
<br>        if the noun is tiny, say "It is too far from here for you to make out much detail about [the noun]." instead;
<br>        let way be the best route from the location to the space;
<br>        if the way is a direction, say "You gaze off [way] at [the noun]...";
<br>        continue the action;
<br>    otherwise:
<br>        if the noun is short, say "It is too far from here for you to make out much detail about [the noun]." instead;
<br>        let way be the best route from the location to the space;
<br>        if the way is a direction, say "You gaze off [way] into the distance at [the noun]...";
<br>        continue the action.
</p>
</div>
<p>We might also want to be able to override, manually, the way distant things are described.</p>

<div class="code">
<p class="quoted">
Writing a distant paragraph about something is an activity.
</p>
<p class="quoted">
Rule for writing a distant paragraph about the lily pond:
<br>    if the second noun is a room and something mentionable is in the second noun, say "A [lily pond], [chosen direction], patchily reflects [a list of mentionable things in the second noun] on the far side. [run paragraph on]";
<br>    otherwise say "To [the chosen direction], [a lily pond] shimmers in the sunlight. [run paragraph on]"
</p>
<p class="quoted">
Rule for writing a distant paragraph about the roses:
<br>    if something in the Rose Garden is taller than the roses,
<br>        say "Over the tops of [the roses], [chosen direction], you see [a list of mentionable things in the rose garden]. [run paragraph on]";
<br>    otherwise say "Immediately [chosen direction] is [the roses]. [run paragraph on]"
</p>
<p class="quoted">
Rule for writing a distant paragraph about the obelisk:
<br>    if a mentionable thing in the Upper Terrace is shorter than the obelisk,
<br>        say "A stupidly grand [obelisk], [chosen direction], towers over [a list of mentionable things in the Upper Terrace]. [run paragraph on]";
<br>    otherwise say "To [the chosen direction], you can't help noticing [the obelisk], which is much larger than any object really needs to be. [run paragraph on]".
</p>
<p class="quoted">
After writing a distant paragraph about something:
<br>    increment the count of sentences.
</p>
</div>
<p>Moreover, proximate things might have special descriptions too.</p>

<div class="code">
<p class="quoted">
Rule for writing a paragraph about something tiny when the location is outdoors:
<br>    if the location is the Gravel Circle,
<br>        say "Abandoned in the gravel [is-are a list of unmentioned tiny things in the location]. [run paragraph on]";
<br>    otherwise say "Half trampled into the grass, and easy to miss, [is-are a list of unmentioned tiny things in the location]. [run paragraph on]"
</p>
<p class="quoted">
Before doing something other than examining or approaching to something which is not within the location:
<br>    if the player has the noun, continue the action;
<br>    say "(first going over to [the noun])[line break]";
<br>    try approaching the noun;
<br>    if the noun is not within the location, stop the action.
</p>
<p class="quoted">
Understand "go toward/to/towards/near [something]" or "approach [something]" as approaching.
</p>
<p class="quoted">
Approaching is an action applying to one visible thing.
</p>
<p class="quoted">
Check approaching:
<br>    if the player is in something, say "You'll have to get up." instead;
<br>    if the noun is within the location, say "You're as close to [the noun] as you can get." instead;
<br>    let space be the location of the noun;
<br>    if the space is not a room, say "You don't quite see how to get there." instead;
<br>    let way be the best route from the location to the space;
<br>    unless way is a direction,
<br>        say "You can't see how to get over there from here." instead.
</p>
<p class="quoted">
To head to (space - a room):
<br>    let the way be the best route from the location to the space;
<br>    if the space is adjacent to the location,
<br>        try going way;
<br>    otherwise silently try going way.
</p>
<p class="quoted">
Carry out approaching:
<br>    let space be the location of the noun;
<br>    while the space is not the location:
<br>        head to space.
</p>
</div>
<p>This is a bit primitive, since if we had an occasion where going was blocked, we could get stuck in a loop. So we would need to be careful, but for this example it won't arise.</p>

<div class="code">
<p class="quoted">
Going state is a truth state that varies. Going state is false.
</p>
<p class="quoted">
Check going:
<br>    now going state is true.
</p>
<p class="quoted">
The description of a room is usually "[if going state is true]You drift [noun] across the open lawn[direction relative to obelisk]. [end if]An absolutely phenomenal quantity of manicured turf stretches from where you stand in almost every direction."
</p>
<p class="quoted">
Before reading a command:
<br>    now going state is false.
</p>
<p class="quoted">
To say direction relative to obelisk:
<br>    if obelisk is in the location:
<br>        say ", as though drawn magnetically to the foot of the monument";
<br>    otherwise:
<br>        let way be the best route from the location to the Upper Terrace;
<br>        if way is the noun, say ", drawn towards [the obelisk]";
<br>        if the way is the opposite of the noun, say ", keeping [the obelisk] more or less at your back".
</p>
<p class="quoted">
Chapter 3 - The Grounds
</p>
<p class="quoted">
When play begins:
<br>    now the left hand status line is "Idyllic";
<br>    now the right hand status line is " ".
</p>
<p class="quoted">
The Gravel Circle, the Ha-ha, the Sheep Field, the Open Lawn, the Croquet Ground, the Rose Garden, the Upper Terrace, the Middle Terrace, and the Lower Terrace are outdoors.
</p>
<p class="quoted">
The Middle Terrace is north of the Lower Terrace and south of the Upper Terrace. The lily pond is fixed in place in the Middle Terrace."You [if going state is true]come to[otherwise]are at[end if] the north edge of a perfectly round lily pond, bordered with stones. Its surface patchily reflects [the marble anteater] on the south bank." A tent peg and a wilted orchid are in the Middle Terrace. The tent peg measures 0 feet 6. The orchid measures 0 feet 4.
</p>
<p class="quoted">
The description of the Lower Terrace is "[if going state is true]You climb [noun] up a small hillock[direction relative to obelisk][otherwise]You stand on a short, round, entirely artificial hillock[end if]."
</p>
<p class="quoted">
The marble anteater is a fixed in place thing in the Lower Terrace. The height of marble anteater is 6 feet 2 inches."A marble anteater stands on a pedestal at the top of the hill. In the bright sunlight the white marble makes a striking contrast with [the obelisk] in the distance." The description is "The anteater is very much more than life-size."
</p>
<p class="quoted">
The obelisk of black granite is a fixed in place thing in the Upper Terrace."Now that you are at the foot of it, you can properly appreciate the stupid immensity of the obelisk, pointing stonily at heaven." The height of the obelisk is 50 feet 0 inches. The description of the obelisk is "It stands ridiculously tall, and has an inscription on the face."
</p>
<p class="quoted">
The inscription is part of the obelisk. The height of the inscription is 0 feet 3 inches. The description of the inscription is "You can't read the squirming, pointed letters, but they make you uneasy.".
</p>
<p class="quoted">
The Gravel Circle is west of the Upper Terrace, northwest of the Middle Terrace, and north of the Croquet Ground. The description of the Gravel Circle is "[if going state is true]You head [noun] until the lawn thins and[otherwise]Here the lawn[end if] gives way to a circle of raked gravel, which crunches pleasingly beneath you."
</p>
<p class="quoted">
Instead of going northwest in the Upper Terrace, try going north.
</p>
<p class="quoted">
The Ha-ha is north of the Gravel Circle and northwest of the Upper Terrace. The description of the Ha-ha is "[if going state is true]The land dips here so suddenly that you do not know the dip is there until you're in it; but it prevents livestock from crossing barriers, and that is the important thing[otherwise]You are at the base of a steep-sided depression, so the lawn continues north and south more or less at the level of your head[end if].
</p>
<p class="quoted">
The tip of [the obelisk] is the only thing you can make out from this depression, off to the southeast.". North of the Ha-ha is the Sheep Field. In the Sheep Field is an animal called a black sheep. The black sheep stands 4 feet 3 inches."A black sheep grazes placidly nearby." The description of the black sheep is "It reminds you of your Uncle Tim."
</p>
<p class="quoted">
Before going from the Ha-ha:
<br>    say "It's a bit of a scramble to get back up the side of the depression, and you keep slipping in the damp grass. But you manage at last."
</p>
<p class="quoted">
The Rose Garden is  southwest of the Lower Terrace. The thicket of red roses is a fixed in place thing in the Rose Garden. The thicket stands 4 feet 2 inches."Heavy red roses grow over a roughly horseshoe-shaped wall around you. Over this barrier, the head of [the marble anteater] is visible to the northwest, and the tip of [the obelisk] in the distance."
</p>
<p class="quoted">
The description of the Rose Garden is "[if going state is true]You slip [noun] into the enclosure of the rose garden. [end if]The rest of the park, and the world, seems muted and quiet."
</p>
<p class="quoted">
Instead of smelling the rose garden: try smelling the roses. Instead of smelling the roses, say "The smell tickles the back of your throat and makes you want to cough."
</p>
<p class="quoted">
Instead of listening to the rose garden:
<br>    say "You can't hear anything at all."
</p>
<p class="quoted">
The Open Lawn is north of the Rose Garden, west of the Lower Terrace, and southwest of the Middle Terrace. The Croquet Ground is north of the Open Lawn, west of the Middle Terrace, southwest of the Upper Terrace, and northwest of the Lower Terrace.
</p>
<p class="quoted">
A discarded champagne cork is in the Open Lawn. It stands 0 feet 2 inches.
</p>
<p class="quoted">
A stone bench is an enterable supporter in the Croquet Ground. It stands 3 feet 8 inches."There is a stone bench here -- a sort of stone sofa, really, with nymphs disporting themselves on the arms and back." The description of the bench is "It used to be a Roman sarcophagus -- hence the nymphs -- but someone has thoughtfully recarved it as lawn furniture."
</p>
<p class="quoted">
The half-size Bentley is a vehicle in the Gravel Circle."A sort of child's-toy version of a Bentley is parked [if something parkable is in the location]beside [the tallest parkable thing in the location][otherwise]close at hand[end if]." The description of the half-size Bentley is "Of beautiful and unambiguously luxurious lines, but sized down to hold only one or (at a stretch) two people, and powered by electricity." The half-size Bentley stands 3 feet 6 inches.
</p>
<p class="quoted">
Definition: a thing is parkable if it is not a person and it is not the Bentley.
</p>
<p class="quoted">
Instead of touching the obelisk, say "Though it is black stone in sunlight, the obelisk is very cold to the touch."
</p>
<p class="quoted">
Test me with "look east / look toward obelisk / s / s / e / sw / ne / n / n / w / n / n / examine obelisk / touch obelisk / read inscription".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.29">WI §18.29. Deciding the scope of something</a><br><a href="rb_3.html#rb-3.4">RB §3.4. Continuous Spaces and The Outdoors</a>
</div></details>
</div></section>
<section class="section" id="rb-3.5"><div>





<h3>RB §3.5. Doors, Staircases, and Bridges</h3>
<p>Inform's "door" kind provides for a tangible thing which comes between one room and another. A door can be open or closed, and openable or not: it can be locked or unlocked, and lockable or not. Here we create a conventional door, a natural gap in the rocks, and a (fixed in place) wooden ladder:</p>

<div class="code"><p class="quoted">
The fire door is an open door. The fire door is east of the Projection Booth and west of the Fire Escape.
<br>The narrow crevice is an open unopenable door. The crevice is east of the Col du Prafleuri and west of Rocky Knoll Above Arolla.
<br>The wooden ladder is an open unopenable door. The ladder is above the Stableyard and below the Hay Loft.
</p></div>
<p>Most doors are visible from both sides: they are single objects but present in two rooms at once, which raises a number of complications. Inform normally uses the same description looking from each way, which is not very interesting: <a href="rb_3.html#example-63" class="example-link" onClick="(function() { document.getElementById('example-63').setAttribute('open','open'); return true; })();">When?</a><span class="example-difficulty"> ★</span> and <a href="rb_3.html#example-65" class="example-link" onClick="(function() { document.getElementById('example-65').setAttribute('open','open'); return true; })();">Whence?</a><span class="example-difficulty"> ★★★</span> demonstrate neat ways to describe the two sides differently, and <a href="rb_3.html#example-319" class="example-link" onClick="(function() { document.getElementById('example-319').setAttribute('open','open'); return true; })();">Whither?</a><span class="example-difficulty"> ★</span> adds the option for the player to refer to doors as "the west door" and "the east door" automatically.</p>
<p><strong>Neighbourhood Watch</strong> goes further by making a door behave differently on each side: from the "outside" you need a key, but "inside" it opens on a latch. Finally, <a href="rb_3.html#example-22" class="example-link" onClick="(function() { document.getElementById('example-22').setAttribute('open','open'); return true; })();">Garibaldi 1</a><span class="example-difficulty"> ★★★</span> shows how to access information about the two sides of a door.</p>
<p><a href="rb_3.html#example-128" class="example-link" onClick="(function() { document.getElementById('example-128').setAttribute('open','open'); return true; })();">Higher Calling</a><span class="example-difficulty"> ★</span> demonstrates doors which automatically open as needed: though using the Inform extension Locksmith by Emily Short is probably easier and better. <a href="rb_3.html#example-151" class="example-link" onClick="(function() { document.getElementById('example-151').setAttribute('open','open'); return true; })();">Elsie</a><span class="example-difficulty"> ★★</span>, conversely, demonstrates a door that closes one turn after the player has opened it.</p>
<p>Certain complications apply when characters other than the player have to see and interact with doors that exist in other rooms. <a href="rb_3.html#example-236" class="example-link" onClick="(function() { document.getElementById('example-236').setAttribute('open','open'); return true; })();">Wainwright Acts</a><span class="example-difficulty"> ★</span> demonstrates the syntax needed to handle this technically quirky situation.</p>
<p><a href="rb_3.html#example-45" class="example-link" onClick="(function() { document.getElementById('example-45').setAttribute('open','open'); return true; })();">Something Narsty</a><span class="example-difficulty"> ★</span> and <a href="rb_3.html#example-88" class="example-link" onClick="(function() { document.getElementById('example-88').setAttribute('open','open'); return true; })();">Hayseed</a><span class="example-difficulty"> ★</span> provide a "staircase" kind useful for vertically arranged, always-open doors like staircases and (fixed in place) ladders.</p>
<p><a href="rb_3.html#example-106" class="example-link" onClick="(function() { document.getElementById('example-106').setAttribute('open','open'); return true; })();">One Short Plank</a><span class="example-difficulty"> ★★</span> implements a precarious plank bridge across a chasm as an open unopenable door.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.6" class="crossreference_link">Windows</a> for climbing through a window from one room to another</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.6" class="crossreference_link">Ropes</a> for portable connections between rooms, much of the development of which could be adapted to handle portable ladders. "Doors" are never allowed to move</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.10" class="crossreference_link">Magic (Breaking the Laws of Physics)</a> for a hat that lets the player walk through closed doors</div>
<div class="crossreference">
<a href="rb_6.html#rb-6.3" class="crossreference_link">Modifying Existing Commands</a> for ways to allow the player to unlock with a key he isn't currently holding</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-45"><summary><span class="example-summary">45. Something Narsty</span> <span class="example-difficulty">★</span></summary><div>
<p>In a game with many staircases, we might want:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60A%20staircase%20is%20a%20kind%20of%20door.%20A%20staircase%20is%20always%20open.%20A%20staircase%20is%20never%20openable.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> A staircase is a kind of door. A staircase is always open. A staircase is never openable.
</p></div>
<p>Defining the staircase this way means that we will never be able to get away with (for instance) a folding ladder into the attic which is sometimes closed up. So alternatively we might do</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Something%20Narsty%22%5Cn%5CnA%20staircase%20is%20a%20kind%20of%20door.%20A%20staircase%20is%20usually%20open.%20A%20staircase%20is%20seldom%20openable.%5Cn%5Cn%5BWe%20could%20then%20write%20a%20rule%20so%20that%20whenever%20the%20player%20types%20CLIMB%20%5Bany%20staircase%5D,%20the%20command%20is%20diverted%20to%20an%20enter%20command,%20while%20all%20other%20doors%20refuse%20to%20respond%20to%20such%20treatment.%20Still,%20this%20kind%20is%20now%20usable,%20as%20we%20see%20in%20this%20trivial%20example:%5D%5Cn%5CnThe%20ladder%20is%20a%20staircase.%20It%20is%20above%20the%20Woodshed%20and%20below%20the%20Scary%20Loft.%5Cn%5CnTest%20me%20with%20%22up%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Something Narsty"
</p>
<p class="quoted">
A staircase is a kind of door. A staircase is usually open. A staircase is seldom openable.
</p>
</div>
<p>We could then write a rule so that whenever the player types CLIMB [any staircase], the command is diverted to an enter command, while all other doors refuse to respond to such treatment. Still, this kind is now usable, as we see in this trivial example:</p>

<div class="code">
<p class="quoted">
The ladder is a staircase. It is above the Woodshed and below the Scary Loft.
</p>
<p class="quoted">
Test me with "up".
</p>
</div>
<p>But these are refinements for a later chapter.</p>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.3">WI §4.3. Degrees of certainty</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-63"><summary><span class="example-summary">63. When?</span> <span class="example-difficulty">★</span></summary><div>
<p>Very simple, but quite frequently useful:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22When?%22%5Cn%5CnThe%20temporal%20vortex%20is%20an%20open%20door.%20It%20is%20west%20of%20Yesterday%20and%20east%20of%20Today.%20%22A%20whirling%20temporal%20vortex%20leads%20%5Bif%20the%20player%20is%20in%20Yesterday%5Dwest%5Botherwise%5Deast%5Bend%20if%5D.%22%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "When?"
</p>
<p class="quoted">
The temporal vortex is an open door. It is west of Yesterday and east of Today. "A whirling temporal vortex leads [if the player is in Yesterday]west[otherwise]east[end if]."
</p>
</div>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.6">WI §5.6. Text with variations</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-88"><summary><span class="example-summary">88. Hayseed</span> <span class="example-difficulty">★</span></summary><div>
<p>Presumably all staircase-type connections between rooms should respond when the player says CLIMB STAIRS (or the equivalent). So</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hayseed%22%5Cn%5CnA%20staircase%20is%20a%20kind%20of%20door.%20A%20staircase%20is%20usually%20open.%20A%20staircase%20is%20seldom%20openable.%5Cn%5CnThe%20ladder%20is%20a%20staircase.%20It%20is%20above%20the%20Barn%20and%20below%20the%20Hayloft.%5Cn%5CnInstead%20of%20climbing%20a%20staircase:%5Cn%5Cttry%20entering%20the%20noun.%5Cn%5CnTest%20me%20with%20%22climb%20ladder%20/%20g%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hayseed"
</p>
<p class="quoted">
A staircase is a kind of door. A staircase is usually open. A staircase is seldom openable.
</p>
<p class="quoted">
The ladder is a staircase. It is above the Barn and below the Hayloft.
</p>
<p class="quoted">
Instead of climbing a staircase:
<br>    try entering the noun.
</p>
<p class="quoted">
Test me with "climb ladder / g".
</p>
</div>
<p>Attempts to climb other types of door will still be treated as useless.</p>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.4">WI §7.4. Try and try silently</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-128"><summary><span class="example-summary">128. Higher Calling</span> <span class="example-difficulty">★</span></summary><div>
<p>"Called" is quite useful in the context of rules about going, since go rules often refer to things other than the noun the player typed. For instance, suppose we want to have doors which politely open when the player tries to pass through them:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Higher%20Calling%22%5Cn%5CnBefore%20going%20through%20a%20closed%20door%20(called%20the%20blocking%20door):%5Cn%5Ctsay%20%22(first%20opening%20%5Bthe%20blocking%20door%5D)%5Bline%20break%5D%22;%5Cn%5Ctsilently%20try%20opening%20the%20blocking%20door;%5Cn%5Ctif%20the%20blocking%20door%20is%20closed,%20stop%20the%20action.%5Cn%5CnDome%20is%20a%20room.%20North%20of%20Dome%20is%20North%20Chapel.%20South%20of%20the%20Dome%20is%20South%20Chapel.%20West%20of%20the%20Dome%20is%20Western%20End.%20Quiet%20Corner%20is%20northwest%20of%20the%20Dome,%20north%20of%20Western%20End,%20and%20west%20of%20North%20Chapel.%20Loud%20Corner%20is%20east%20of%20North%20Chapel,%20northeast%20of%20Dome,%20and%20north%20of%20Eastern%20End.%20Eastern%20End%20is%20north%20of%20Dim%20Corner%20and%20east%20of%20Dome.%20Dim%20Corner%20is%20southeast%20of%20Dome%20and%20east%20of%20South%20Chapel.%20Ruined%20Corner%20is%20southwest%20of%20Dome,%20west%20of%20South%20Chapel,%20and%20south%20of%20Western%20End.%5Cn%5CnThe%20church%20door%20is%20east%20of%20Eastern%20End%20and%20west%20of%20the%20Courtyard.%20The%20church%20door%20is%20a%20door.%5Cn%5CnTest%20me%20with%20%22e%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Higher Calling"
</p>
<p class="quoted">
Before going through a closed door (called the blocking door):
<br>    say "(first opening [the blocking door])[line break]";
<br>    silently try opening the blocking door;
<br>    if the blocking door is closed, stop the action.
</p>
<p class="quoted">
Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.
</p>
<p class="quoted">
The church door is east of Eastern End and west of the Courtyard. The church door is a door.
</p>
<p class="quoted">
Test me with "e / e".
</p>
</div>
<p>A fuller set of such rules is included in the Locksmith extension.</p>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.15">WI §8.15. Calling names</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-236"><summary><span class="example-summary">236. Wainwright Acts</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we wanted to write rules for a character who will interact with doors in other locations even when the player is not present. This poses a little challenge: doors are actually single objects, and -- with the same shuffling of stage properties that applies to backdrops -- they are moved as needed to represent the door object in whatever room contains the player.</p>
<p>That means that it isn't safe to rely on a phrase like</p>

<div class="code"><p class="quoted">
if an open door is in the location of Bernard
</p></div>
<p>because, even if Bernard's location is connected by doors to other places, the actual representation of that door may not be "in" Bernard's location, from the model's point of view, at this exact moment.</p>
<p>This does not, of course, mean that we can't ask this question; just that we have to be a little cleverer about how we phrase it. Every door has properties that correspond to the two locations</p>
<p>linked:</p>

<div class="code"><p class="quoted">
the front side of the blue door (a room, which is arbitrarily one side of the door)
<br>the back side of the blue door (arbitrarily the other side)
</p></div>
<p>We can make this information easier to check with a conditional relation, like so:</p>

<div class="code"><p class="quoted">
Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.
</p></div>
<p>And this allows us to write rules that have characters interacting with doors even in the player's absence:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Wainwright%20Acts%22%5Cn%5CnThe%20Waiting%20Room%20is%20a%20room.%20The%20waiting%20room%20door%20is%20west%20of%20the%20Waiting%20Room%20and%20east%20of%20the%20Gents'%20Loo.%20The%20Waiting%20Room%20door%20is%20an%20open%20door.%20%22The%20waiting%20room%20door%20%5Bif%20open%5Dstands%20open%5Botherwise%5Dis%20shut%20firmly%5Bend%20if%5D.%22%5Cn%5CnSir%20Humphrey%20is%20a%20man%20in%20the%20Gents'%20Loo.%5Cn%5CnLiminality%20relates%20a%20door%20(called%20X)%20to%20a%20room%20(called%20Y)%20when%20the%20front%20side%20of%20X%20is%20Y%20or%20the%20back%20side%20of%20X%20is%20Y.%20The%20verb%20to%20be%20a%20threshold%20of%20means%20the%20liminality%20relation.%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20he%20is%20not%20the%20player.%5Cn%5CnEvery%20turn:%5Cn%5Ctrepeat%20with%20indiscreet%20one%20running%20through%20other%20people:%5Cn%5Ct%5Ctrepeat%20with%20port%20running%20through%20open%20doors%20that%20are%20a%20threshold%20of%20the%20location%20of%20the%20indiscreet%20one:%5Cn%5Ct%5Ct%5Ctif%20the%20port%20is%20a%20threshold%20of%20the%20location%20and%20the%20indiscreet%20one%20is%20not%20in%20the%20location:%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22Through%20%5Bthe%20port%5D,%20you%20overhear%20%5Bthe%20indiscreet%20one%5D%20discussing%20%5Bone%20of%5Dhis%20hopes%20for%20your%20imminent%20resignation%5Bor%5Dyour%20wife's%20infidelity%5Bor%5Dyour%20financially%20straitened%20circumstances%5Bor%5Dways%20to%20avoid%20attending%20your%20birthday%20party%5Bor%5Dyour%20halitosis%5Bas%20decreasingly%20likely%20outcomes%5D.%22%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20z%20/%20w%20/%20z%20/%20e%20/%20close%20door%20/%20z%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Wainwright Acts"
</p>
<p class="quoted">
The Waiting Room is a room. The waiting room door is west of the Waiting Room and east of the Gents' Loo. The Waiting Room door is an open door. "The waiting room door [if open]stands open[otherwise]is shut firmly[end if]."
</p>
<p class="quoted">
Sir Humphrey is a man in the Gents' Loo.
</p>
<p class="quoted">
Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.
</p>
<p class="quoted">
Definition: a person is other if he is not the player.
</p>
<p class="quoted">
Every turn:
<br>    repeat with indiscreet one running through other people:
<br>        repeat with port running through open doors that are a threshold of the location of the indiscreet one:
<br>            if the port is a threshold of the location and the indiscreet one is not in the location:
<br>                say "Through [the port], you overhear [the indiscreet one] discussing [one of]his hopes for your imminent resignation[or]your wife's infidelity[or]your financially straitened circumstances[or]ways to avoid attending your birthday party[or]your halitosis[as decreasingly likely outcomes]."
</p>
<p class="quoted">
Test me with "z / z / z / w / z / e / close door / z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.12">WI §13.12. Relations which express conditions</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-319"><summary><span class="example-summary">319. Whither?</span> <span class="example-difficulty">★</span></summary><div>
<p>Here we expand on the simple examples When? and Whence?; this time we want the player to be able to refer to doors by their directions, as in "the west door" when the door in question does in fact lead west.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Whither?%22%5Cn%5CnThe%20temporal%20vortex%20is%20an%20open%20door.%20It%20is%20west%20of%20Yesterday%20and%20east%20of%20Today.%5Cn%5CnThe%20initial%20appearance%20of%20a%20door%20is%20usually%20%22Nearby%20%5Ban%20item%20described%5D%20leads%20%5Bif%20the%20other%20side%20of%20the%20item%20described%20is%20visited%5D%5Bdirection%20of%20the%20item%20described%20from%20the%20location%5D%20to%20%5Bthe%20other%20side%5D%5Botherwise%5D%5Bdirection%20of%20the%20item%20described%20from%20the%20location%5D%5Bend%20if%5D.%22%5Cn%5CnDirection-relevance%20relates%20a%20door%20(called%20X)%20to%20a%20direction%20(called%20Y)%20when%20the%20direction%20of%20X%20from%20the%20location%20is%20Y.%20The%20verb%20to%20be%20directionally-relevant%20to%20means%20the%20direction-relevance%20relation.%5Cn%5CnUnderstand%20%22%5Bsomething%20related%20by%20direction-relevance%5D%20door%22%20as%20a%20door.%5Cn%5Cn%5BAs%20an%20added%20touch,%20we%20respond%20also%20to%20the%20case%20where%20the%20player%20postulates%20a%20door%20in%20some%20direction%20when%20there%20is%20no%20such%20thing%20at%20the%20moment:%5D%5Cn%5CnRule%20for%20printing%20a%20parser%20error%20when%20the%20player's%20command%20includes%20%22%5Bnon-door%20direction%5D%20door%22:%5Cn%5Ctsay%20%22There%20is%20no%20door%20in%20that%20direction.%22%20instead.%5Cn%5CnDefinition:%20a%20direction%20(called%20direction%20D)%20is%20non-door:%5Cn%5Ctlet%20the%20target%20be%20the%20room-or-door%20direction%20D%20from%20the%20location;%5Cn%5Ctif%20the%20target%20is%20a%20door:%5Cn%5Ct%5Ctno;%5Cn%5Ctyes;%5Cn%5CnTest%20me%20with%20%22examine%20west%20door%20/%20x%20east%20door%20/%20w%20/%20x%20w%20door%20/%20x%20e%20door%20/%20tie%20me%20to%20the%20west%20door%20/%20tie%20the%20west%20door%20to%20me%20/%20push%20the%20west%20door%20east%20/%20push%20the%20east%20door%20west%22.%5Cn%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Whither?"
</p>
<p class="quoted">
The temporal vortex is an open door. It is west of Yesterday and east of Today.
</p>
<p class="quoted">
The initial appearance of a door is usually "Nearby [an item described] leads [if the other side of the item described is visited][direction of the item described from the location] to [the other side][otherwise][direction of the item described from the location][end if]."
</p>
<p class="quoted">
Direction-relevance relates a door (called X) to a direction (called Y) when the direction of X from the location is Y. The verb to be directionally-relevant to means the direction-relevance relation.
</p>
<p class="quoted">
Understand "[something related by direction-relevance] door" as a door.
</p>
</div>
<p>As an added touch, we respond also to the case where the player postulates a door in some direction when there is no such thing at the moment:</p>

<div class="code">
<p class="quoted">
Rule for printing a parser error when the player's command includes "[non-door direction] door":
<br>    say "There is no door in that direction." instead.
</p>
<p class="quoted">
Definition: a direction (called direction D) is non-door:
<br>    let the target be the room-or-door direction D from the location;
<br>    if the target is a door:
<br>        no;
<br>    yes;
</p>
<p class="quoted">
Test me with "examine west door / x east door / w / x w door / x e door / tie me to the west door / tie the west door to me / push the west door east / push the east door west".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.16">WI §17.16. Understanding things by their relations</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-24"><summary><span class="example-summary">24. Neighborhood Watch</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want a locked door that can be opened with a key, but is also openable by hand without a key from one side only. We start by defining an ordinary lockable door and the key that controls it:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Neighborhood%20Watch%22%5Cn%5CnThe%20shabby%20door%20is%20a%20door.%20It%20is%20outside%20from%20the%20Studio%20Apartment%20and%20inside%20from%20the%20Rickety%20Stairwell.%20The%20shabby%20door%20is%20locked.%5Cn%5CnThe%20brass%20key%20is%20carried%20by%20the%20player.%20It%20unlocks%20the%20shabby%20door.%5Cn%5Cn%5BThe%20next%20part%20is%20going%20to%20require%20that%20we%20modify%20the%20normal%20operation%20of%20the%20%22lock%22%20command.%20%22Lock%22%20ordinarily%20requires%20that%20the%20player%20supply%20two%20objects:%20a%20thing%20he%20wants%20to%20unlock,%20and%20the%20key%20he%20wants%20to%20use%20on%20it.%20The%20full%20command%20is%20LOCK%20DOOR%20WITH%20THE%20KEY,%20and%20Inform%20will%20not%20accept%20simply%20LOCK%20DOOR%20as%20locking.%5D%5Cn%5Cn%5BTherefore,%20we're%20going%20to%20need%20to%20create%20our%20own%20new%20variant%20on%20the%20lock%20verb%20(and%20the%20unlock%20verb,%20while%20we're%20at%20it).%20The%20full%20procedure%20for%20this%20is%20laid%20out%20in%20the%20chapters%20on%20Action%20and%20Understanding,%20but%20here%20is%20an%20example:%5D%5Cn%5CnUnderstand%20%22lock%20%5Bsomething%5D%22%20as%20locking%20keylessly.%20Locking%20keylessly%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5Cn%5BHere%20we've%20created%20a%20new%20action%20--%20locking%20something%20without%20a%20key%20--%20and%20we've%20told%20Inform%20to%20understand%20LOCK%20DOOR%20as%20this%20action,%20rather%20than%20an%20incomplete%20command%20to%20LOCK%20DOOR%20WITH%20SOMETHING.%5D%5Cn%5Cn%5BNow%20we%20add%20some%20instructions%20so%20that%20the%20game%20will%20not%20let%20us%20use%20this%20keyless%20unlocking%20command%20unless%20we're%20in%20the%20right%20place%20or%20are%20properly%20equipped:%5D%5Cn%5CnCheck%20locking%20keylessly:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20door,%20say%20%22%5BThe%20noun%5D%20is%20not%20something%20you%20can%20lock.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20locked,%20say%20%22%5BThe%20noun%5D%20is%20already%20locked.%22%20instead;%5Cn%5Ctif%20the%20player%20carries%20the%20brass%20key%20and%20the%20player%20is%20in%20the%20Stairwell,%20try%20locking%20the%20noun%20with%20the%20brass%20key%20instead;%5Cn%5Ctif%20the%20player%20is%20in%20the%20Stairwell,%20say%20%22You%20can't%20lock%20the%20door%20from%20this%20side%20without%20the%20key.%22%20instead.%5Cn%5Cn%5BThis%20check%20rule%20is%20performed%20before%20the%20keyless%20locking%20action%20succeeds.%20The%20first%20thing%20we%20do%20is%20try%20to%20use%20the%20key%20if%20the%20player%20is%20outside%20and%20has%20the%20key:%20this%20way,%20LOCK%20DOOR%20will%20turn%20automatically%20into%20LOCK%20DOOR%20WITH%20THE%20KEY,%20under%20circumstances%20where%20that%20is%20both%20possible%20and%20necessary.%5D%5Cn%5Cn%5BThe%20second%20thing%20is%20to%20check%20whether%20the%20player%20is%20outside%20but%20keyless,%20and,%20if%20so%20stop%20the%20action%20from%20being%20performed%20successfully.%20Here%20we%20print%20a%20failure%20message%20followed%20by%20the%20word%20%22instead%22,%20which%20tells%20Inform%20that%20we've%20substituted%20some%20other%20outcome%20for%20the%20usual%20performance%20of%20the%20action.%5D%5Cn%5Cn%5BNow%20we're%20reasonably%20sure%20that%20the%20player%20is%20only%20locking%20keylessly%20in%20the%20case%20that%20he%20is%20inside%20the%20Studio.%20(We%20might%20have%20to%20do%20a%20more%20thorough%20check%20for%20this%20if%20there%20were%20more%20than%20two%20rooms,%20but%20as%20it%20is,%20the%20player%20can%20only%20be%20in%20the%20Stairwell%20or%20in%20the%20Studio,%20so%20if%20we%20have%20ruled%20out%20the%20Stairwell,%20we%20are%20safe.)%20So%20now%20we%20want%20to%20add%20what%20happens%20when%20locking-without-a-key%20command%20succeeds:%5D%5Cn%5CnCarry%20out%20locking%20keylessly:%5Cn%5Ctnow%20the%20noun%20is%20locked.%5Cn%5Cn%5BThat's%20it.%20We've%20just%20told%20Inform%20to%20make%20the%20door%20be%20locked.%20%22Now...%22%20syntax%20will%20be%20explained%20more%20thoroughly%20in%20the%20chapter%20on%20change.%20But%20we%20still%20haven't%20described%20to%20the%20player%20what%20just%20happened,%20so%20let's%20provide%20a%20description%20of%20that,%20too:%5D%5Cn%5CnReport%20locking%20keylessly:%5Cn%5Ctsay%20%22You%20flip%20over%20the%20deadbolt%20to%20lock%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5BAnd%20now%20we%20have%20to%20do%20a%20similar%20set%20of%20things%20for%20unlocking:%5D%5Cn%5CnUnderstand%20%22unlock%20%5Bsomething%5D%22%20as%20unlocking%20keylessly.%20Unlocking%20keylessly%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20unlocking%20keylessly:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20door,%20say%20%22%5BThe%20noun%5D%20is%20not%20something%20you%20can%20lock.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20unlocked,%20say%20%22%5BThe%20noun%5D%20is%20already%20unlocked.%22%20instead;%5Cn%5Ctif%20the%20player%20carries%20the%20brass%20key%20and%20the%20player%20is%20in%20the%20Stairwell,%20try%20unlocking%20the%20noun%20with%20the%20brass%20key%20instead;%5Cn%5Ctif%20the%20player%20is%20in%20the%20Stairwell,%20say%20%22You%20can't%20unlock%20the%20door%20from%20this%20side%20without%20the%20key.%22%20instead.%5Cn%5CnCarry%20out%20unlocking%20keylessly:%5Cn%5Ctnow%20the%20noun%20is%20unlocked.%5Cn%5CnReport%20unlocking%20keylessly:%5Cn%5Ctsay%20%22You%20flip%20over%20the%20deadbolt%20to%20unlock%20%5Bthe%20noun%5D.%22%5Cn%5CnTest%20me%20with%20%22unlock%20door%20/%20drop%20key%20/%20open%20door%20/%20out%20/%20close%20door%20/%20lock%20door%20/%20open%20door%20/%20in%20/%20get%20key%20/%20out%20/%20close%20door%20/%20lock%20door%20/%20unlock%20door%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Neighborhood Watch"
</p>
<p class="quoted">
The shabby door is a door. It is outside from the Studio Apartment and inside from the Rickety Stairwell. The shabby door is locked.
</p>
<p class="quoted">
The brass key is carried by the player. It unlocks the shabby door.
</p>
</div>
<p>The next part is going to require that we modify the normal operation of the "lock" command. "Lock" ordinarily requires that the player supply two objects: a thing he wants to unlock, and the key he wants to use on it. The full command is LOCK DOOR WITH THE KEY, and Inform will not accept simply LOCK DOOR as locking.</p>
<p>Therefore, we're going to need to create our own new variant on the lock verb (and the unlock verb, while we're at it). The full procedure for this is laid out in the chapters on Action and Understanding, but here is an example:</p>

<div class="code"><p class="quoted">
Understand "lock [something]" as locking keylessly. Locking keylessly is an action applying to one thing.
</p></div>
<p>Here we've created a new action -- locking something without a key -- and we've told Inform to understand LOCK DOOR as this action, rather than an incomplete command to LOCK DOOR WITH SOMETHING.</p>
<p>Now we add some instructions so that the game will not let us use this keyless unlocking command unless we're in the right place or are properly equipped:</p>

<div class="code"><p class="quoted">
Check locking keylessly:
<br>    if the noun is not a door, say "[The noun] is not something you can lock." instead;
<br>    if the noun is locked, say "[The noun] is already locked." instead;
<br>    if the player carries the brass key and the player is in the Stairwell, try locking the noun with the brass key instead;
<br>    if the player is in the Stairwell, say "You can't lock the door from this side without the key." instead.
</p></div>
<p>This check rule is performed before the keyless locking action succeeds. The first thing we do is try to use the key if the player is outside and has the key: this way, LOCK DOOR will turn automatically into LOCK DOOR WITH THE KEY, under circumstances where that is both possible and necessary.</p>
<p>The second thing is to check whether the player is outside but keyless, and, if so stop the action from being performed successfully. Here we print a failure message followed by the word "instead", which tells Inform that we've substituted some other outcome for the usual performance of the action.</p>
<p>Now we're reasonably sure that the player is only locking keylessly in the case that he is inside the Studio. (We might have to do a more thorough check for this if there were more than two rooms, but as it is, the player can only be in the Stairwell or in the Studio, so if we have ruled out the Stairwell, we are safe.) So now we want to add what happens when locking-without-a-key command succeeds:</p>

<div class="code"><p class="quoted">
Carry out locking keylessly:
<br>    now the noun is locked.
</p></div>
<p>That's it. We've just told Inform to make the door be locked. "Now..." syntax will be explained more thoroughly in the chapter on change. But we still haven't described to the player what just happened, so let's provide a description of that, too:</p>

<div class="code"><p class="quoted">
Report locking keylessly:
<br>    say "You flip over the deadbolt to lock [the noun]."
</p></div>
<p>And now we have to do a similar set of things for unlocking:</p>

<div class="code">
<p class="quoted">
Understand "unlock [something]" as unlocking keylessly. Unlocking keylessly is an action applying to one thing.
</p>
<p class="quoted">
Check unlocking keylessly:
<br>    if the noun is not a door, say "[The noun] is not something you can lock." instead;
<br>    if the noun is unlocked, say "[The noun] is already unlocked." instead;
<br>    if the player carries the brass key and the player is in the Stairwell, try unlocking the noun with the brass key instead;
<br>    if the player is in the Stairwell, say "You can't unlock the door from this side without the key." instead.
</p>
<p class="quoted">
Carry out unlocking keylessly:
<br>    now the noun is unlocked.
</p>
<p class="quoted">
Report unlocking keylessly:
<br>    say "You flip over the deadbolt to unlock [the noun]."
</p>
<p class="quoted">
Test me with "unlock door / drop key / open door / out / close door / lock door / open door / in / get key / out / close door / lock door / unlock door".
</p>
</div>
<p>Some (but not all) of this work is done for you if you like by the Locksmith extension. If you prefer, you can include that extension, then follow the documentation in order to implement the remainder of the scenario. Locksmith takes care of implementing the additional locking and unlocking actions, and provides some other conveniences.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.13">WI §3.13. Locks and keys</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-106"><summary><span class="example-summary">106. One Short Plank</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22One%20Short%20Plank%22%5Cn%5CnThe%20East%20Jungle%20is%20a%20room.%20The%20plank%20bridge%20is%20west%20of%20the%20East%20Jungle%20and%20east%20of%20the%20West%20Jungle.%20The%20plank%20is%20an%20open%20unopenable%20door.%20%22A%20precarious%20plank%20bridge%20extends%20%5Bif%20the%20location%20is%20West%20Jungle%5Deast%5Botherwise%5Dwest%5Bend%20if%5D%20across%20the%20chasm.%22%20The%20description%20of%20the%20plank%20is%20%22Extremely%20fragile%20and%20precarious.%22%5Cn%5CnInstead%20of%20going%20through%20the%20plank%20when%20the%20player%20is%20carrying%20something:%5Cn%5Ctsay%20%22You%20step%20gingerly%20across%20the%20plank,%20which%20bows%20under%20your%20weight.%20But%20your%20meagre%20possessions%20are%20the%20straw%20which%20breaks%20the%20camel's%20back!%22;%5Cn%5Ctend%20the%20story.%5Cn%5CnAfter%20going%20through%20the%20plank:%5Cn%5Ctsay%20%22You%20step%20gingerly%20across%20the%20plank,%20grateful%20that%20you're%20not%20burdened.%22;%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnThere%20is%20a%20feather%20in%20the%20East%20Jungle.%5Cn%5Cn%5BBut%20indeed,%20why%20stop%20there?%5D%5Cn%5CnThe%20gigantic%20stone%20ball%20is%20a%20thing%20in%20the%20West%20Jungle.%20It%20is%20pushable%20between%20rooms.%5Cn%5CnBefore%20going%20through%20the%20plank%20with%20something:%5Cn%5Ctsay%20%22Surely%20you%20jest.%22%20instead.%5Cn%5CnTest%20me%20with%20%22w%20/%20e%20/%20w%20/%20push%20ball%20e%20/%20e%20/%20get%20feather%20/%20w%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "One Short Plank"
</p>
<p class="quoted">
The East Jungle is a room. The plank bridge is west of the East Jungle and east of the West Jungle. The plank is an open unopenable door. "A precarious plank bridge extends [if the location is West Jungle]east[otherwise]west[end if] across the chasm." The description of the plank is "Extremely fragile and precarious."
</p>
<p class="quoted">
Instead of going through the plank when the player is carrying something:
<br>    say "You step gingerly across the plank, which bows under your weight. But your meagre possessions are the straw which breaks the camel's back!";
<br>    end the story.
</p>
<p class="quoted">
After going through the plank:
<br>    say "You step gingerly across the plank, grateful that you're not burdened.";
<br>    continue the action.
</p>
<p class="quoted">
There is a feather in the East Jungle.
</p>
</div>
<p>But indeed, why stop there?</p>

<div class="code">
<p class="quoted">
The gigantic stone ball is a thing in the West Jungle. It is pushable between rooms.
</p>
<p class="quoted">
Before going through the plank with something:
<br>    say "Surely you jest." instead.
</p>
<p class="quoted">
Test me with "w / e / w / push ball e / e / get feather / w".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.14">WI §7.14. Going by, going through, going with</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-151"><summary><span class="example-summary">151. Elsie</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to create an automated door of the sort that closes when it isn't in use. A convenient way is to write a rule that fires "every turn when the sliding door was open". This will be true only if the door was open at the beginning of the turn: if the player just opened it this turn, it stays open, and if it was already closed, it stays closed. Thus:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Elsie%22%5Cn%5CnThe%20axis-ward%20is%20a%20direction.%20The%20opposite%20of%20axis-ward%20is%20hub-ward.%20Understand%20%22aw%22%20or%20%22axisward%22%20as%20axis-ward.%5CnThe%20hub-ward%20is%20a%20direction.%20The%20opposite%20of%20hub-ward%20is%20axis-ward.%20Understand%20%22hw%22%20or%20%22hubward%22%20as%20hub-ward.%5Cn%5CnThe%20Ship's%20Bridge%20is%20a%20room.%5Cn%5CnThe%20sliding%20door%20is%20a%20door.%20It%20is%20axis-ward%20from%20Bridge%20and%20hub-ward%20from%20C%20Deck.%20The%20initial%20appearance%20is%20%22There%20is%20a%20door%20in%20this%20wall%5Bif%20closed%5D%20--%20or%20at%20least,%20the%20potential%20for%20a%20door,%20since%20currently%20it%20is%20sealed,%20distinguishable%20from%20the%20rest%20of%20the%20wall%20only%20by%20the%20warning%20stripes%20on%20its%20surface%5Bend%20if%5D.%22%5Cn%5CnEvery%20turn%20when%20the%20sliding%20door%20was%20open:%5Cn%5Ctnow%20the%20sliding%20door%20is%20closed;%5Cn%5Ctif%20the%20player%20can%20see%20the%20sliding%20door:%5Cn%5Ct%5Ctsay%20%22The%20sliding%20door%20slips%20back%20into%20place,%20sealing%20the%20wall%20as%20though%20there%20had%20never%20been%20a%20breach.%22%5Cn%5CnAfter%20opening%20the%20sliding%20door:%5Cn%5Ctsay%20%22You%20press%20the%20appropriate%20buttons,%20and%20a%20section%20of%20wall%20slides%20away.%22%5Cn%5CnTest%20me%20with%20%22open%20door%20/%20look%20/%20enter%20door%20/%20z%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Elsie"
</p>
<p class="quoted">
The axis-ward is a direction. The opposite of axis-ward is hub-ward. Understand "aw" or "axisward" as axis-ward.
<br>The hub-ward is a direction. The opposite of hub-ward is axis-ward. Understand "hw" or "hubward" as hub-ward.
</p>
<p class="quoted">
The Ship's Bridge is a room.
</p>
<p class="quoted">
The sliding door is a door. It is axis-ward from Bridge and hub-ward from C Deck. The initial appearance is "There is a door in this wall[if closed] -- or at least, the potential for a door, since currently it is sealed, distinguishable from the rest of the wall only by the warning stripes on its surface[end if]."
</p>
<p class="quoted">
Every turn when the sliding door was open:
<br>    now the sliding door is closed;
<br>    if the player can see the sliding door:
<br>        say "The sliding door slips back into place, sealing the wall as though there had never been a breach."
</p>
<p class="quoted">
After opening the sliding door:
<br>    say "You press the appropriate buttons, and a section of wall slides away."
</p>
<p class="quoted">
Test me with "open door / look / enter door / z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.13">WI §9.13. The past and perfect tenses</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-22"><summary><span class="example-summary">22. Garibaldi 1</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we would like to allow the player to view the status of all the doors functioning in the game; and we want to identify those doors by mentioning which two rooms they connect. The following uses some techniques that will be covered in later chapters, but the basic idea may be obvious:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Garibaldi%22%5Cn%5CnThe%20security%20readout%20is%20a%20device.%20The%20description%20of%20the%20readout%20is%20%22The%20screen%20is%20blank.%22%5Cn%5CnInstead%20of%20examining%20the%20switched%20on%20security%20readout:%5Cn%5Ctsay%20%22The%20screen%20reads:%20%5Bfixed%20letter%20spacing%5D%22;%5Cn%5Ctsay%20line%20break;%5Cn%5Ctrepeat%20with%20item%20running%20through%20doors:%5Cn%5Ct%5Ctsay%20line%20break;%5Cn%5Ct%5Ctsay%20%22%20%20%5Bitem%5D%20(%5Bfront%20side%20of%20the%20item%5D/%5Bback%20side%20of%20the%20item%5D):%20%5Bif%20the%20item%20is%20locked%5DLOCKED%5Botherwise%5DUNLOCKED%5Bend%20if%5D%22;%5Cn%5Ctsay%20variable%20letter%20spacing;%5Cn%5Ctsay%20paragraph%20break.%5Cn%5Cn%5BIt%20is%20more%20or%20less%20arbitrary%20which%20room%20winds%20up%20as%20the%20%22front%20side%22%20and%20which%20as%20the%20%22back%22,%20but%20in%20this%20case%20it%20hardly%20matters.%5D%5Cn%5CnThe%20player%20carries%20the%20security%20readout.%5Cn%5CnThe%20Docking%20Bay%20is%20a%20room.%20The%20inner%20airlock%20is%20a%20door.%20It%20is%20north%20of%20the%20Docking%20Bay%20and%20south%20of%20the%20Zocalo.%20The%20inner%20airlock%20is%20lockable%20and%20unlocked.%20%20The%20outer%20airlock%20is%20lockable%20and%20locked.%20It%20is%20a%20door.%20It%20is%20south%20of%20the%20Docking%20Bay%20and%20north%20of%20Space.%5Cn%5CnThe%20quarantine%20seal%20is%20a%20door.%20It%20is%20west%20of%20the%20Zocalo%20and%20east%20of%20Medlab.%20Quarantine%20seal%20is%20locked.%5Cn%5CnThe%20security%20pass%20unlocks%20the%20inner%20airlock.%20The%20player%20carries%20the%20security%20pass.%5Cn%5CnTest%20me%20with%20%22x%20readout%20/%20turn%20on%20readout%20/%20x%20readout%20/%20lock%20inner%20airlock%20with%20security%20pass%20/%20x%20readout%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Garibaldi"
</p>
<p class="quoted">
The security readout is a device. The description of the readout is "The screen is blank."
</p>
<p class="quoted">
Instead of examining the switched on security readout:
<br>    say "The screen reads: [fixed letter spacing]";
<br>    say line break;
<br>    repeat with item running through doors:
<br>        say line break;
<br>        say "  [item] ([front side of the item]/[back side of the item]): [if the item is locked]LOCKED[otherwise]UNLOCKED[end if]";
<br>    say variable letter spacing;
<br>    say paragraph break.
</p>
</div>
<p>It is more or less arbitrary which room winds up as the "front side" and which as the "back", but in this case it hardly matters.</p>

<div class="code">
<p class="quoted">
The player carries the security readout.
</p>
<p class="quoted">
The Docking Bay is a room. The inner airlock is a door. It is north of the Docking Bay and south of the Zocalo. The inner airlock is lockable and unlocked.  The outer airlock is lockable and locked. It is a door. It is south of the Docking Bay and north of Space.
</p>
<p class="quoted">
The quarantine seal is a door. It is west of the Zocalo and east of Medlab. Quarantine seal is locked.
</p>
<p class="quoted">
The security pass unlocks the inner airlock. The player carries the security pass.
</p>
<p class="quoted">
Test me with "x readout / turn on readout / x readout / lock inner airlock with security pass / x readout".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.12">WI §3.12. Doors</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details><details class="full-example" id="example-65"><summary><span class="example-summary">65. Whence?</span> <span class="example-difficulty">★★★</span></summary><div>
<p>It would be fairly tedious reading to have a large game full of doors that describe themselves this way. Nonetheless, if we insisted we could use our knowledge of the map as leverage to make every door in the game describe itself automatically.</p>
<p>To do this, we make use of the phrase "direction of (the door) from (a room)" -- in this case, the direction of the door we're looking at when viewed from the player's location. Thus:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Whence?%22%5Cn%5CnThe%20temporal%20vortex%20is%20an%20open%20door.%20It%20is%20west%20of%20Yesterday%20and%20east%20of%20Today.%5Cn%5CnThe%20initial%20appearance%20of%20a%20door%20is%20usually%20%22Nearby%20%5Ban%20item%20described%5D%20leads%20%5Bif%20the%20other%20side%20of%20the%20item%20described%20is%20visited%5D%5Bdirection%20of%20the%20item%20described%20from%20the%20location%5D%20to%20%5Bthe%20other%20side%5D%5Botherwise%5D%5Bdirection%20of%20the%20item%20described%20from%20the%20location%5D%5Bend%20if%5D.%22%5Cn%5CnTest%20me%20with%20%22w%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Whence?"
</p>
<p class="quoted">
The temporal vortex is an open door. It is west of Yesterday and east of Today.
</p>
<p class="quoted">
The initial appearance of a door is usually "Nearby [an item described] leads [if the other side of the item described is visited][direction of the item described from the location] to [the other side][otherwise][direction of the item described from the location][end if]."
</p>
<p class="quoted">
Test me with "w / e".
</p>
</div>
<p>Yet a further variation on this, which can automatically understand "the east door" and "the west door" when appropriate, may be found in the example "Whither?".</p>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.6">WI §5.6. Text with variations</a><br><a href="rb_3.html#rb-3.5">RB §3.5. Doors, Staircases, and Bridges</a>
</div></details>
</div></section>
<section class="section" id="rb-3.6"><div>





<h3>RB §3.6. Windows</h3>
<p>Calvin Coolidge once described windows as "rectangles of glass." For us, they have two purposes: first, they offer a view of landscape beyond. In the simplest case the view is of an area which will not be interacted with in play, and therefore does not need to adapt to whatever may have changed there:</p>

<div class="code"><p class="quoted">
The window is scenery in the Turret. "Through the window you see miles and miles of unbroken forest, turning from green to flame in the hard early autumn."
</p></div>
<p>More interesting is to adapt the view a little to provide a changing picture: a forest may not change much, but a street scene will. <a href="rb_3.html#example-272" class="example-link" onClick="(function() { document.getElementById('example-272').setAttribute('open','open'); return true; })();">Port Royal 4</a><span class="example-difficulty"> ★★</span> allows us to glimpse random passers-by.</p>
<p>The trickiest kind of window allows the player to see another room which can also be encountered in play, and to interact with what is there. <a href="rb_3.html#example-217" class="example-link" onClick="(function() { document.getElementById('example-217').setAttribute('open','open'); return true; })();">Dinner is Served</a><span class="example-difficulty"> ★★</span> presents a shop window, allowing people to see inside from the street, and even to reach through.</p>
<p><a href="rb_3.html#example-116" class="example-link" onClick="(function() { document.getElementById('example-116').setAttribute('open','open'); return true; })();">Vitrine</a><span class="example-difficulty"> ★</span> handles the complication of a window misting up to become opaque, and thus temporarily hiding its view.</p>
<p>Second, windows provide openings in walls and can act as conduits. <a href="rb_3.html#example-21" class="example-link" onClick="(function() { document.getElementById('example-21').setAttribute('open','open'); return true; })();">Escape</a><span class="example-difficulty"> ★★</span> shows how a "door" in the Inform sense can become a window. <a href="rb_3.html#example-181" class="example-link" onClick="(function() { document.getElementById('example-181').setAttribute('open','open'); return true; })();">A Haughty Spirit</a><span class="example-difficulty"> ★★★</span> provides a general kind of window for jumping down out of: ideal for escapers from Colditz-like castles.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.5" class="crossreference_link">Doors, Staircases, and Bridges</a> for a door which can be partially seen through</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-116"><summary><span class="example-summary">116. Vitrine</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Vitrine%22%5Cn%5CnPlaza%20View%20is%20a%20room.%20%22Your%20uncle's%20apartment,%20on%20loan%20to%20you%20for%20viewing%20the%20parade%20and%20celebrations%20today.%20This%20would%20be%20more%20of%20a%20sacrifice%20on%20his%20part%20if%20he%20weren't%20currently%20yachting%20around%20Corfu.%22%5Cn%5CnThe%20smart%20window%20is%20a%20device%20in%20Plaza%20View.%20It%20is%20fixed%20in%20place.%20%22A%20vast%20smart%20window%20%5Bif%20transparent%5Doverlooks%20the%20park%5Botherwise%5Dhas%20turned%20to%20a%20sheet%20of%20hazy%20blue%5Bend%20if%5D.%22%20The%20smart%20window%20can%20be%20transparent.%20The%20smart%20window%20is%20transparent.%20The%20description%20is%20%22An%20electrochromic%20device%20which%20changes%20shade%20and%20transparency%20in%20response%20to%20the%20application%20of%20current.%5Cn%5CnCurtains%20are%20so%20last%20year.%22%5Cn%5Cn%5BNote%20the%20%22can%20be%20transparent%22%20line.%20Devices%20ordinarily%20are%20not%20allowed%20to%20have%20transparency%20or%20opaqueness,%20but%20we%20can%20make%20an%20exception%20in%20this%20case.%20Without%20that%20line,%20attempts%20to%20change%20the%20transparency%20of%20the%20window%20will%20fail.%5D%5Cn%5CnCarry%20out%20switching%20off%20the%20window:%20now%20the%20window%20is%20transparent.%5Cn%5CnCarry%20out%20switching%20on%20the%20window:%20now%20the%20window%20is%20opaque.%5Cn%5CnInstead%20of%20searching%20a%20transparent%20window:%20say%20%22Isn't%20it%20lovely%20out%20there?%22%5Cn%5CnInstead%20of%20searching%20an%20opaque%20window:%20say%20%22The%20window%20is%20currently%20darkened.%22%5Cn%5CnTest%20me%20with%20%22look%20through%20window%20/%20switch%20window%20/%20look%20through%20window%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Vitrine"
</p>
<p class="quoted">
Plaza View is a room. "Your uncle's apartment, on loan to you for viewing the parade and celebrations today. This would be more of a sacrifice on his part if he weren't currently yachting around Corfu."
</p>
<p class="quoted">
The smart window is a device in Plaza View. It is fixed in place. "A vast smart window [if transparent]overlooks the park[otherwise]has turned to a sheet of hazy blue[end if]." The smart window can be transparent. The smart window is transparent. The description is "An electrochromic device which changes shade and transparency in response to the application of current.
</p>
<p class="quoted">
Curtains are so last year."
</p>
</div>
<p>Note the "can be transparent" line. Devices ordinarily are not allowed to have transparency or opaqueness, but we can make an exception in this case. Without that line, attempts to change the transparency of the window will fail.</p>

<div class="code">
<p class="quoted">
Carry out switching off the window: now the window is transparent.
</p>
<p class="quoted">
Carry out switching on the window: now the window is opaque.
</p>
<p class="quoted">
Instead of searching a transparent window: say "Isn't it lovely out there?"
</p>
<p class="quoted">
Instead of searching an opaque window: say "The window is currently darkened."
</p>
<p class="quoted">
Test me with "look through window / switch window / look through window / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.4">WI §8.4. Change of either/or properties</a><br><a href="rb_3.html#rb-3.6">RB §3.6. Windows</a>
</div></details><details class="full-example" id="example-21"><summary><span class="example-summary">21. Escape</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to offer the player a window he can climb through, instead of a boring ordinary door. Our window will be like a door in that it connects two rooms, appears in both places, and impedes movement when it is shut. But we also want to add that we can look through it and see what lies on the other side; and we further want to understand "climb through window" or "jump through window" as attempts to pass through it.</p>
<p>We'll start by defining a couple of rooms and making the window a door between them.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Escape%22%5Cn%5CnYour%20Bedroom%20is%20a%20room.%20The%20bedroom%20window%20is%20a%20door.%20It%20is%20west%20of%20Your%20Bedroom%20and%20east%20of%20the%20Grassy%20Slope.%5Cn%5Cn%5BNow%20we%20have%20a%20%22bedroom%20window%22%20object%20which%20can%20be%20entered.%20Now,%20to%20catch%20the%20case%20where%20the%20player%20types%20%22LOOK%20THROUGH%20WINDOW%22:%5D%5Cn%5CnInstead%20of%20searching%20the%20window:%5Cn%5Ctsay%20%22Through%20the%20window,%20you%20make%20out%20%5Bthe%20other%20side%20of%20the%20window%5D.%22%5Cn%5Cn%5BThe%20other%20side%20of%20a%20door%20is%20always%20defined%20to%20be%20the%20room%20that%20we%20are%20not%20currently%20in%20when%20doing%20the%20check.%20When%20we%20are%20in%20the%20bedrooom,%20the%20other%20side%20will%20be%20the%20grassy%20slope,%20and%20vice%20versa.%20%22Searching%22%20is%20the%20action%20that%20occurs%20when%20the%20player%20attempts%20to%20LOOK%20THROUGH%20something.%20(To%20review%20what%20grammar%20gives%20rise%20to%20what%20actions,%20we%20can%20always%20consult%20the%20Actions%20portion%20of%20the%20Index.)%5D%5Cn%5Cn%5BNext%20we%20want%20to%20cover%20the%20case%20where%20we%20climb%20through%20the%20window:%5D%5Cn%5CnInstead%20of%20climbing%20the%20window:%5Cn%5Cttry%20entering%20the%20window.%5Cn%5Cn%5BAnd%20because%20%22climb%20window%22%20is%20understood%20but%20%22climb%20THROUGH%20window%22%20is%20not,%20we%20will%20have%20to%20borrow%20from%20the%20chapter%20on%20Understanding%20to%20add%20some%20new%20vocabulary%20to%20the%20game%20(and%20we'll%20add%20Jump%20too,%20while%20we're%20at%20it):%5D%5Cn%5CnUnderstand%20%22climb%20through%20%5Bsomething%5D%22%20as%20climbing.%20Understand%20%22jump%20through%20%5Bsomething%5D%22%20as%20climbing.%5Cn%5Cn%5BNow%20the%20final%20piece:%20Inform%20will%20already%20keep%20the%20player%20from%20going%20through%20a%20closed%20window,%20but%20it%20will%20say%20%22You%20can't,%20since%20the%20bedroom%20window%20is%20in%20the%20way.%22%20This%20is%20probably%20not%20ideal,%20so%20we%20can%20replace%20the%20instruction%20thus:%5D%5Cn%5CnInstead%20of%20going%20through%20the%20closed%20window:%5Cn%5Ctsay%20%22The%20window%20is%20shut:%20you'd%20break%20the%20glass.%22%5Cn%5CnTest%20me%20with%20%22look%20through%20window%20/%20climb%20through%20window%20/%20open%20window%20/%20climb%20through%20window%20/%20look%20through%20window%20/%20close%20window%20/%20e%20/%20open%20window%20/%20e%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Escape"
</p>
<p class="quoted">
Your Bedroom is a room. The bedroom window is a door. It is west of Your Bedroom and east of the Grassy Slope.
</p>
</div>
<p>Now we have a "bedroom window" object which can be entered. Now, to catch the case where the player types "LOOK THROUGH WINDOW":</p>

<div class="code"><p class="quoted">
Instead of searching the window:
<br>    say "Through the window, you make out [the other side of the window]."
</p></div>
<p>The other side of a door is always defined to be the room that we are not currently in when doing the check. When we are in the bedrooom, the other side will be the grassy slope, and vice versa. "Searching" is the action that occurs when the player attempts to LOOK THROUGH something. (To review what grammar gives rise to what actions, we can always consult the Actions portion of the Index.)</p>
<p>Next we want to cover the case where we climb through the window:</p>

<div class="code"><p class="quoted">
Instead of climbing the window:
<br>    try entering the window.
</p></div>
<p>And because "climb window" is understood but "climb THROUGH window" is not, we will have to borrow from the chapter on Understanding to add some new vocabulary to the game (and we'll add Jump too, while we're at it):</p>

<div class="code"><p class="quoted">
Understand "climb through [something]" as climbing. Understand "jump through [something]" as climbing.
</p></div>
<p>Now the final piece: Inform will already keep the player from going through a closed window, but it will say "You can't, since the bedroom window is in the way." This is probably not ideal, so we can replace the instruction thus:</p>

<div class="code">
<p class="quoted">
Instead of going through the closed window:
<br>    say "The window is shut: you'd break the glass."
</p>
<p class="quoted">
Test me with "look through window / climb through window / open window / climb through window / look through window / close window / e / open window / e".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.12">WI §3.12. Doors</a><br><a href="rb_3.html#rb-3.6">RB §3.6. Windows</a>
</div></details><details class="full-example" id="example-217"><summary><span class="example-summary">217. Dinner is Served</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Dinner%20is%20Served%22%5Cn%5CnStreet%20in%20Kolonaki%20is%20a%20room.%20%22There%20is%20a%20single%20round%20table%20out%20on%20the%20street%20here,%20and%20a%20window%20more%20or%20less%20at%20knee%20level%20looks%20down%20into%20the%20Olive%20Tree%20Gyro%20Shop,%20which%20is%20partly%20basement.%22%5Cn%5CnThe%20Street%20contains%20a%20round%20table.%20The%20table%20is%20scenery.%20On%20the%20round%20table%20is%20a%20plate.%20On%20the%20plate%20are%20a%20gyro%20and%20a%20mound%20of%20fresh%20potates.%20The%20plate%20is%20portable.%20The%20potates%20and%20the%20gyro%20are%20edible.%20The%20description%20of%20potates%20is%20%22They'd%20be%20called%20french%20fries,%20at%20home,%20but%20these%20are%20steak-cut%20and%20fried%20in%20olive%20oil.%22%20The%20description%20of%20the%20gyro%20is%20%22Dripping%20garlic-yogurt%20sauce.%22%5Cn%5CnOlive%20Tree%20Gyro%20Shop%20is%20inside%20from%20Street%20in%20Kolonaki.%20Kostis%20is%20a%20man%20in%20the%20Gyro%20Shop.%20In%20the%20Shop%20is%20a%20stand.%20On%20the%20stand%20is%20a%20rotating%20column%20of%20cooking%20lamb%20flesh.%20In%20the%20shop%20is%20a%20closed,%20openable%20container%20called%20a%20drinks%20refrigerator.%20The%20refrigerator%20contains%20a%20can%20of%20Mythos%20beer%20and%20a%20can%20of%20Coke%20Light.%5Cn%5Cn%5BHere's%20the%20part%20that%20allows%20reaching%20through%20the%20window.%5D%5Cn%5Cn%5BWe%20replace%20the%20usual%20rule%20that%20says%20the%20player%20can%20never%20reach%20into%20a%20room%20with%20one%20that%20more%20specifically%20checks%20whether%20we%20are%20trying%20to%20reach%20through%20the%20window.%20If%20we%20aren't,%20we%20return%20the%20usual%20refusal.%20If%20we%20are,%20we%20return%20a%20custom%20refusal%20if%20the%20window%20is%20closed%20(%22You%20can't%20reach%20through%20the%20closed%20window%22),%20but%20allow%20access%20if%20the%20window%20is%20open.%5D%5Cn%5CnThe%20can't%20reach%20through%20closed%20window%20rule%20is%20listed%20instead%20of%20the%20can't%20reach%20inside%20rooms%20rule%20in%20the%20reaching%20inside%20rules.%5Cn%5CnThis%20is%20the%20can't%20reach%20through%20closed%20window%20rule:%5Cn%5Ctlet%20reaching%20through%20the%20window%20be%20false;%5Cn%5Ctif%20the%20container%20in%20question%20is%20a%20room%20and%20the%20container%20in%20question%20is%20not%20the%20location:%5Cn%5Ct%5Ctif%20the%20container%20in%20question%20is%20the%20Street%20and%20the%20location%20is%20the%20Olive%20Tree%20Gyro%20Shop:%5Cn%5Ct%5Ct%5Ctnow%20reaching%20through%20the%20window%20is%20true;%5Cn%5Ct%5Ctif%20the%20container%20in%20question%20is%20the%20Gyro%20Shop%20and%20the%20location%20is%20the%20Street:%5Cn%5Ct%5Ct%5Ctnow%20reaching%20through%20the%20window%20is%20true;%5Cn%5Ct%5Ctif%20reaching%20through%20the%20window%20is%20true:%5Cn%5Ct%5Ct%5Ctif%20the%20window%20is%20closed:%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22You%20can't%20reach%20through%20the%20closed%20window.%22;%5Cn%5Ct%5Ct%5Ct%5Ctdeny%20access;%5Cn%5Ct%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ct%5Ctallow%20access;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctsay%20%22You%20can't%20reach%20into%20%5Bthe%20container%20in%20question%5D%20from%20here.%22;%5Cn%5Ct%5Ct%5Ctdeny%20access.%5Cn%5Cn%5BAnd%20the%20rest%20is%20window-dressing.%5D%5Cn%5CnAfter%20looking%20when%20a%20room%20(called%20the%20next%20room)%20is%20adjacent:%5Cn%5Cttry%20examining%20the%20next%20room.%5Cn%5CnInstead%20of%20examining%20a%20supporter,%20say%20%22On%20%5Bthe%20noun%5D%20%5Bis-are%20a%20list%20of%20things%20on%20the%20noun%5D.%22%20Instead%20of%20examining%20an%20open%20container,%20say%20%22In%20%5Bthe%20noun%5D%20%5Bis-are%20a%20list%20of%20things%20in%20the%20noun%5D.%22%5Cn%5CnThe%20window%20is%20a%20backdrop.%20It%20is%20in%20the%20Street%20and%20the%20Shop.%20The%20window%20can%20be%20openable.%20The%20window%20can%20be%20open.%20The%20window%20is%20openable%20and%20closed.%20Instead%20of%20searching%20the%20window%20in%20the%20Street:%20try%20examining%20the%20shop.%20Instead%20of%20searching%20the%20window%20in%20the%20Shop:%20try%20examining%20the%20street.%5Cn%5CnUnderstand%20%22examine%20%5Bany%20adjacent%20room%5D%22%20as%20examining.%5Cn%5CnInstead%20of%20examining%20a%20room:%5Cn%5Ctsay%20%22Over%20in%20%5Bthe%20noun%5D,%20you%20can%20see%20%5Ba%20list%20of%20visible%20things%20in%20the%20noun%5D.%22%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player:%5Cn%5Ctif%20the%20player%20is%20in%20the%20Street,%20place%20the%20Shop%20in%20scope;%5Cn%5Ctif%20the%20player%20is%20in%20the%20Shop,%20place%20the%20Street%20in%20scope.%5Cn%5CnTest%20me%20with%20%22examine%20shop%20/%20open%20refrigerator%20/%20open%20window%20/%20examine%20shop%20/%20open%20refrigerator%20/%20get%20beer%20/%20in%20/%20examine%20street%20/%20out%20/%20get%20gyro%20/%20close%20window%20/%20put%20gyro%20in%20refrigerator%20/%20open%20window%20/%20put%20gyro%20in%20refrigerator%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Dinner is Served"
</p>
<p class="quoted">
Street in Kolonaki is a room. "There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement."
</p>
<p class="quoted">
The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is "They'd be called french fries, at home, but these are steak-cut and fried in olive oil." The description of the gyro is "Dripping garlic-yogurt sauce."
</p>
<p class="quoted">
Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.
</p>
</div>
<p>Here's the part that allows reaching through the window.</p>
<p>We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren't, we return the usual refusal. If we are, we return a custom refusal if the window is closed ("You can't reach through the closed window"), but allow access if the window is open.</p>

<div class="code">
<p class="quoted">
The can't reach through closed window rule is listed instead of the can't reach inside rooms rule in the reaching inside rules.
</p>
<p class="quoted">
This is the can't reach through closed window rule:
<br>    let reaching through the window be false;
<br>    if the container in question is a room and the container in question is not the location:
<br>        if the container in question is the Street and the location is the Olive Tree Gyro Shop:
<br>            now reaching through the window is true;
<br>        if the container in question is the Gyro Shop and the location is the Street:
<br>            now reaching through the window is true;
<br>        if reaching through the window is true:
<br>            if the window is closed:
<br>                say "You can't reach through the closed window.";
<br>                deny access;
<br>            otherwise:
<br>                allow access;
<br>        otherwise:
<br>            say "You can't reach into [the container in question] from here.";
<br>            deny access.
</p>
</div>
<p>And the rest is window-dressing.</p>

<div class="code">
<p class="quoted">
After looking when a room (called the next room) is adjacent:
<br>    try examining the next room.
</p>
<p class="quoted">
Instead of examining a supporter, say "On [the noun] [is-are a list of things on the noun]." Instead of examining an open container, say "In [the noun] [is-are a list of things in the noun]."
</p>
<p class="quoted">
The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.
</p>
<p class="quoted">
Understand "examine [any adjacent room]" as examining.
</p>
<p class="quoted">
Instead of examining a room:
<br>    say "Over in [the noun], you can see [a list of visible things in the noun]."
</p>
<p class="quoted">
After deciding the scope of the player:
<br>    if the player is in the Street, place the Shop in scope;
<br>    if the player is in the Shop, place the Street in scope.
</p>
<p class="quoted">
Test me with "examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.18">WI §12.18. Changing reachability</a><br><a href="rb_3.html#rb-3.6">RB §3.6. Windows</a>
</div></details><details class="full-example" id="example-272"><summary><span class="example-summary">272. Port Royal 4</span> <span class="example-difficulty">★★</span></summary><div>
<p>Our protagonist is imprisoned in Port Royal, waiting out his years, and sometimes through the window of his cell he is able to see someone.</p>
<p>We are, however, obsessive about historical accuracy, so we provide a table of people who really lived in the city, together with the year in which their existence is attested. We want these people to appear in the description only in the year when they are known to have been present. (After all, mortality was high in Port Royal and new people were constantly arriving, so someone's presence one year is no guarantee of their continued existence the next.)</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Waiting%20for%20Godot,%20Chyrurgeon%22%5Cn%5CnNew%20New%20Prison%20is%20a%20room.%20%22You%20have%20a%20not%20very%20interesting%20room.%20Through%20the%20window%20you%20see%20passing%20%5Bcurrent%20denizen%5D.%22%5Cn%5CnInstead%20of%20waiting:%5Cn%5Ctincrement%20the%20current%20year;%5Cn%5Ctsay%20%22It%20is%20now%20the%20year%20%5Bthe%20current%20year%5D.%22;%5Cn%5Cttry%20looking.%5Cn%5CnWhen%20play%20begins:%20now%20the%20right%20hand%20status%20line%20is%20%22%5Bcurrent%20year%5D%22.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20current%20year%20is%201692:%5Cn%5Ct%5Ctsay%20%22It%20turns%20out%20you%20have%20remained%20imprisoned%20until%20the%20great%20earthquake%20of%201692!%20Oops.%22;%5Cn%5Ct%5Ctend%20the%20story.%5Cn%5CnCurrent%20year%20is%20a%20number%20that%20varies.%20The%20current%20year%20is%201664.%5Cn%5CnTo%20say%20current%20denizen:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Occupations%20and%20People:%5Cn%5Ct%5Ctif%20the%20date%20attested%20entry%20is%20the%20current%20year:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bnickname%20entry%5D%20%5Bfamily%20entry%5D,%20%5Btrade%20entry%5D%22;%5Cn%5Ct%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22absolutely%20no%20one%22.%5Cn%5Cn%5BIt%20is%20possible%20to%20look%20up%20a%20row%20corresponding%20to,%20say,%20a%20specific%20year%20value%20using%20%22listed%20in%22,%20but%20repeat%20through%20is%20convenient%20here%20because%20we%20know%20that%20we%20will%20never%20wind%20up%20trying%20to%20print%20entries%20when%20no%20row%20can%20be%20successfully%20selected.%5D%5Cn%5CnTable%20of%20Occupations%20and%20People%5CnTrade%5Ctnickname%5Ctfamily%5CtDate%20attested%5Cn%22architect%22%5Ct%22Robert%22%5Ct%22Snead%22%5Ct1684%5Cn%22baker%22%5Ct%22William%22%5Ct%22Wingar%22%5Ct1683%5Cn%22barber%22%5Ct%22William%22%5Ct%22Alcocke%22%5Ct1676%5Cn%22blacksmith%22%5Ct%22William%22%5Ct%22Davidson%22%5Ct1679%5Cn%22bricklayer%22%5Ct%22Samuel%22%5Ct%22Richardson%22%5Ct1683%5Cn%22butcher%22%5Ct%22John%22%5Ct%22Dennis%22%5Ct1676%5Cn%22carpenter%22%5Ct%22John%22%5Ct%22Albert%22%5Ct1675%5Cn%22cabinet-maker%22%5Ct%22Robert%22%5Ct%22Avis%22%5Ct1666%5Cn%22joiner%22%5Ct%22Peter%22%5Ct%22Bartaboa%22%5Ct1666%5Cn%22chandler%22%5Ct%22William%22%5Ct%22Bates%22%5Ct1674%5Cn%22chyrurgeon%22%5Ct%22William%22%5Ct%22Axtell%22%5Ct1674%5Cn%22chyrurgeon%22%5Ct%22Thomas%22%5Ct%22Trapham%22%5Ct1678%5Cn%22combmaker%22%5Ct%22Paul%22%5Ct%22Bennett%22%5Ct1673%5Cn%22cooper%22%5Ct%22James%22%5Ct%22Hall%22%5Ct1676%5Cn%22cooper%22%5Ct%22Henry%22%5Ct%22Pullein%22%5Ct1675%5Cn%22cordwainer%22%5Ct%22George%22%5Ct%22Barnard%22%5Ct1675%5Cn%22cordwainer%22%5Ct%22Edward%22%5Ct%22Skannon%22%5Ct1680%5Cn%22cordwainer%22%5Ct%22John%22%5Ct%22Wilmott%22%5Ct1675%5Cn%22drugster%22%5Ct%22William%22%5Ct%22Mathews%22%5Ct1682%5Cn%22fisherman%22%5Ct%22Richard%22%5Ct%22Collingwood%22%5Ct1674%5Cn%22glazier%22%5Ct%22Thomas%22%5Ct%22Hudson%22%5Ct1684%5Cn%22goldsmith%22%5Ct%22Richard%22%5Ct%22Lord%22%5Ct1677%5Cn%22gunsmith%22%5Ct%22Stephen%22%5Ct%22Massey%22%5Ct1664%5Cn%22hatmaker%22%5Ct%22John%22%5Ct%22Rosewell%22%5Ct1683%5Cn%22ivory%20turner%22%5Ct%22William%22%5Ct%22Clifton%22%5Ct1691%5Cn%22labourer%22%5Ct%22John%22%5Ct%22Dennis%22%5Ct1674%5Cn%22limeburner%22%5Ct%22John%22%5Ct%22Hardwick%22%5Ct1675%5Cn%22mariner%22%5Ct%22Alexander%22%5Ct%22Bailing%22%5Ct1680%5Cn%22mariner%22%5Ct%22Thomas%22%5Ct%22Bowtell%22%5Ct1675%5Cn%22mariner%22%5Ct%22Peter%22%5Ct%22Claiton%22%5Ct1675%5Cn%22mariner%22%5Ct%22Joseph%22%5Ct%22Cupid%22%5Ct1672%5Cn%22mariner%22%5Ct%22Michael%22%5Ct%22Dunn%22%5Ct1675%5Cn%22mason%22%5Ct%22John%22%5Ct%22Stone%22%5Ct1673%5Cn%22merchant%22%5Ct%22John%22%5Ct%22Agard%22%5Ct1680%5Cn%22merchant%22%5Ct%22David%20Lopez%22%5Ct%22Narbona%22%5Ct1674%5Cn%22merchant%22%5Ct%22Abraham%22%5Ct%22Langford%22%5Ct1675%5Cn%22merchant%22%5Ct%22John%22%5Ct%22Sweeting%22%5Ct1675%5Cn%22merchant%22%5Ct%22Charles%22%5Ct%22Knight%22%5Ct1680%5Cn%22merchant%22%5Ct%22Cornelius%22%5Ct%22Vandananker%22%5Ct1670%5Cn%22merchant%22%5Ct%22Moses%20Jesurum%22%5Ct%22Cordova%22%5Ct1675%5Cn%22pewterer%22%5Ct%22Simon%22%5Ct%22Benning%22%5Ct1667%5Cn%22pipemaker%22%5Ct%22John%22%5Ct%22Pope%22%5Ct1680%5Cn%22porter%22%5Ct%22George%22%5Ct%22Paul%22%5Ct1670%5Cn%22poulterer%22%5Ct%22Richard%22%5Ct%22Jeffreys%22%5Ct1677%5Cn%22sailmaker%22%5Ct%22Adam%22%5Ct%22Brewer%22%5Ct1671%5Cn%22schoolmaster%22%5Ct%22Peter%22%5Ct%22Bird%22%5Ct1677%5Cn%22shipwright%22%5Ct%22William%22%5Ct%22Cavell%22%5Ct1676%5Cn%22tailor%22%5Ct%22William%22%5Ct%22Case%22%5Ct1676%5Cn%22tailor%22%5Ct%22Pewter%22%5Ct%22Ebden%22%5Ct1683%5Cn%22waterman%22%5Ct%22William%22%5Ct%22Brocke%22%5Ct1674%5Cn%22waterman%22%5Ct%22Joel%22%5Ct%22Clements%22%5Ct1668%5Cn%22wherryman%22%5Ct%22John%22%5Ct%22Grant%22%5Ct1669%5Cn%22victualler%22%5Ct%22Barnaby%22%5Ct%22Adams%22%5Ct1675%5Cn%22vintner%22%5Ct%22Gabriel%22%5Ct%22Adkins%22%5Ct1668%5Cn%22tavern-keeper%22%5Ct%22John%22%5Ct%22Baldwin%22%5Ct1670%5Cn%22tavern-keeper%22%5Ct%22Mary%22%5Ct%22Dayton%22%5Ct1664%5Cn%22tavern-keeper%22%5Ct%22James%22%5Ct%22Turpin%22%5Ct1679%5Cn%22tavern-keeper%22%5Ct%22Christopher%22%5Ct%22Mayham%22%5Ct1664%5Cn%5CnTest%20me%20with%20%22wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Waiting for Godot, Chyrurgeon"
</p>
<p class="quoted">
New New Prison is a room. "You have a not very interesting room. Through the window you see passing [current denizen]."
</p>
<p class="quoted">
Instead of waiting:
<br>    increment the current year;
<br>    say "It is now the year [the current year].";
<br>    try looking.
</p>
<p class="quoted">
When play begins: now the right hand status line is "[current year]".
</p>
<p class="quoted">
Every turn:
<br>    if the current year is 1692:
<br>        say "It turns out you have remained imprisoned until the great earthquake of 1692! Oops.";
<br>        end the story.
</p>
<p class="quoted">
Current year is a number that varies. The current year is 1664.
</p>
<p class="quoted">
To say current denizen:
<br>    repeat through the Table of Occupations and People:
<br>        if the date attested entry is the current year:
<br>            say "[nickname entry] [family entry], [trade entry]";
<br>            blank out the whole row;
<br>            rule succeeds;
<br>    say "absolutely no one".
</p>
</div>
<p>It is possible to look up a row corresponding to, say, a specific year value using "listed in", but repeat through is convenient here because we know that we will never wind up trying to print entries when no row can be successfully selected.</p>

<div class="code">
<p class="quoted">
Table of Occupations and People
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">Trade</p></td>
<td class="quotedtablecell"><p class="quoted">nickname</p></td>
<td class="quotedtablecell"><p class="quoted">family</p></td>
<td class="quotedtablecell"><p class="quoted">Date attested</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"architect"</p></td>
<td class="quotedtablecell"><p class="quoted">"Robert"</p></td>
<td class="quotedtablecell"><p class="quoted">"Snead"</p></td>
<td class="quotedtablecell"><p class="quoted">1684</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"baker"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Wingar"</p></td>
<td class="quotedtablecell"><p class="quoted">1683</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"barber"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Alcocke"</p></td>
<td class="quotedtablecell"><p class="quoted">1676</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"blacksmith"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Davidson"</p></td>
<td class="quotedtablecell"><p class="quoted">1679</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"bricklayer"</p></td>
<td class="quotedtablecell"><p class="quoted">"Samuel"</p></td>
<td class="quotedtablecell"><p class="quoted">"Richardson"</p></td>
<td class="quotedtablecell"><p class="quoted">1683</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"butcher"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Dennis"</p></td>
<td class="quotedtablecell"><p class="quoted">1676</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"carpenter"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Albert"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cabinet-maker"</p></td>
<td class="quotedtablecell"><p class="quoted">"Robert"</p></td>
<td class="quotedtablecell"><p class="quoted">"Avis"</p></td>
<td class="quotedtablecell"><p class="quoted">1666</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"joiner"</p></td>
<td class="quotedtablecell"><p class="quoted">"Peter"</p></td>
<td class="quotedtablecell"><p class="quoted">"Bartaboa"</p></td>
<td class="quotedtablecell"><p class="quoted">1666</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"chandler"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Bates"</p></td>
<td class="quotedtablecell"><p class="quoted">1674</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"chyrurgeon"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Axtell"</p></td>
<td class="quotedtablecell"><p class="quoted">1674</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"chyrurgeon"</p></td>
<td class="quotedtablecell"><p class="quoted">"Thomas"</p></td>
<td class="quotedtablecell"><p class="quoted">"Trapham"</p></td>
<td class="quotedtablecell"><p class="quoted">1678</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"combmaker"</p></td>
<td class="quotedtablecell"><p class="quoted">"Paul"</p></td>
<td class="quotedtablecell"><p class="quoted">"Bennett"</p></td>
<td class="quotedtablecell"><p class="quoted">1673</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cooper"</p></td>
<td class="quotedtablecell"><p class="quoted">"James"</p></td>
<td class="quotedtablecell"><p class="quoted">"Hall"</p></td>
<td class="quotedtablecell"><p class="quoted">1676</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cooper"</p></td>
<td class="quotedtablecell"><p class="quoted">"Henry"</p></td>
<td class="quotedtablecell"><p class="quoted">"Pullein"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cordwainer"</p></td>
<td class="quotedtablecell"><p class="quoted">"George"</p></td>
<td class="quotedtablecell"><p class="quoted">"Barnard"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cordwainer"</p></td>
<td class="quotedtablecell"><p class="quoted">"Edward"</p></td>
<td class="quotedtablecell"><p class="quoted">"Skannon"</p></td>
<td class="quotedtablecell"><p class="quoted">1680</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cordwainer"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Wilmott"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"drugster"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Mathews"</p></td>
<td class="quotedtablecell"><p class="quoted">1682</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"fisherman"</p></td>
<td class="quotedtablecell"><p class="quoted">"Richard"</p></td>
<td class="quotedtablecell"><p class="quoted">"Collingwood"</p></td>
<td class="quotedtablecell"><p class="quoted">1674</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"glazier"</p></td>
<td class="quotedtablecell"><p class="quoted">"Thomas"</p></td>
<td class="quotedtablecell"><p class="quoted">"Hudson"</p></td>
<td class="quotedtablecell"><p class="quoted">1684</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"goldsmith"</p></td>
<td class="quotedtablecell"><p class="quoted">"Richard"</p></td>
<td class="quotedtablecell"><p class="quoted">"Lord"</p></td>
<td class="quotedtablecell"><p class="quoted">1677</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"gunsmith"</p></td>
<td class="quotedtablecell"><p class="quoted">"Stephen"</p></td>
<td class="quotedtablecell"><p class="quoted">"Massey"</p></td>
<td class="quotedtablecell"><p class="quoted">1664</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"hatmaker"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Rosewell"</p></td>
<td class="quotedtablecell"><p class="quoted">1683</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"ivory turner"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Clifton"</p></td>
<td class="quotedtablecell"><p class="quoted">1691</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"labourer"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Dennis"</p></td>
<td class="quotedtablecell"><p class="quoted">1674</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"limeburner"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Hardwick"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"mariner"</p></td>
<td class="quotedtablecell"><p class="quoted">"Alexander"</p></td>
<td class="quotedtablecell"><p class="quoted">"Bailing"</p></td>
<td class="quotedtablecell"><p class="quoted">1680</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"mariner"</p></td>
<td class="quotedtablecell"><p class="quoted">"Thomas"</p></td>
<td class="quotedtablecell"><p class="quoted">"Bowtell"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"mariner"</p></td>
<td class="quotedtablecell"><p class="quoted">"Peter"</p></td>
<td class="quotedtablecell"><p class="quoted">"Claiton"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"mariner"</p></td>
<td class="quotedtablecell"><p class="quoted">"Joseph"</p></td>
<td class="quotedtablecell"><p class="quoted">"Cupid"</p></td>
<td class="quotedtablecell"><p class="quoted">1672</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"mariner"</p></td>
<td class="quotedtablecell"><p class="quoted">"Michael"</p></td>
<td class="quotedtablecell"><p class="quoted">"Dunn"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"mason"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Stone"</p></td>
<td class="quotedtablecell"><p class="quoted">1673</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"merchant"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Agard"</p></td>
<td class="quotedtablecell"><p class="quoted">1680</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"merchant"</p></td>
<td class="quotedtablecell"><p class="quoted">"David Lopez"</p></td>
<td class="quotedtablecell"><p class="quoted">"Narbona"</p></td>
<td class="quotedtablecell"><p class="quoted">1674</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"merchant"</p></td>
<td class="quotedtablecell"><p class="quoted">"Abraham"</p></td>
<td class="quotedtablecell"><p class="quoted">"Langford"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"merchant"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Sweeting"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"merchant"</p></td>
<td class="quotedtablecell"><p class="quoted">"Charles"</p></td>
<td class="quotedtablecell"><p class="quoted">"Knight"</p></td>
<td class="quotedtablecell"><p class="quoted">1680</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"merchant"</p></td>
<td class="quotedtablecell"><p class="quoted">"Cornelius"</p></td>
<td class="quotedtablecell"><p class="quoted">"Vandananker"</p></td>
<td class="quotedtablecell"><p class="quoted">1670</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"merchant"</p></td>
<td class="quotedtablecell"><p class="quoted">"Moses Jesurum"</p></td>
<td class="quotedtablecell"><p class="quoted">"Cordova"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"pewterer"</p></td>
<td class="quotedtablecell"><p class="quoted">"Simon"</p></td>
<td class="quotedtablecell"><p class="quoted">"Benning"</p></td>
<td class="quotedtablecell"><p class="quoted">1667</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"pipemaker"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Pope"</p></td>
<td class="quotedtablecell"><p class="quoted">1680</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"porter"</p></td>
<td class="quotedtablecell"><p class="quoted">"George"</p></td>
<td class="quotedtablecell"><p class="quoted">"Paul"</p></td>
<td class="quotedtablecell"><p class="quoted">1670</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"poulterer"</p></td>
<td class="quotedtablecell"><p class="quoted">"Richard"</p></td>
<td class="quotedtablecell"><p class="quoted">"Jeffreys"</p></td>
<td class="quotedtablecell"><p class="quoted">1677</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"sailmaker"</p></td>
<td class="quotedtablecell"><p class="quoted">"Adam"</p></td>
<td class="quotedtablecell"><p class="quoted">"Brewer"</p></td>
<td class="quotedtablecell"><p class="quoted">1671</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"schoolmaster"</p></td>
<td class="quotedtablecell"><p class="quoted">"Peter"</p></td>
<td class="quotedtablecell"><p class="quoted">"Bird"</p></td>
<td class="quotedtablecell"><p class="quoted">1677</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"shipwright"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Cavell"</p></td>
<td class="quotedtablecell"><p class="quoted">1676</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"tailor"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Case"</p></td>
<td class="quotedtablecell"><p class="quoted">1676</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"tailor"</p></td>
<td class="quotedtablecell"><p class="quoted">"Pewter"</p></td>
<td class="quotedtablecell"><p class="quoted">"Ebden"</p></td>
<td class="quotedtablecell"><p class="quoted">1683</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"waterman"</p></td>
<td class="quotedtablecell"><p class="quoted">"William"</p></td>
<td class="quotedtablecell"><p class="quoted">"Brocke"</p></td>
<td class="quotedtablecell"><p class="quoted">1674</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"waterman"</p></td>
<td class="quotedtablecell"><p class="quoted">"Joel"</p></td>
<td class="quotedtablecell"><p class="quoted">"Clements"</p></td>
<td class="quotedtablecell"><p class="quoted">1668</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"wherryman"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Grant"</p></td>
<td class="quotedtablecell"><p class="quoted">1669</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"victualler"</p></td>
<td class="quotedtablecell"><p class="quoted">"Barnaby"</p></td>
<td class="quotedtablecell"><p class="quoted">"Adams"</p></td>
<td class="quotedtablecell"><p class="quoted">1675</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"vintner"</p></td>
<td class="quotedtablecell"><p class="quoted">"Gabriel"</p></td>
<td class="quotedtablecell"><p class="quoted">"Adkins"</p></td>
<td class="quotedtablecell"><p class="quoted">1668</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"tavern-keeper"</p></td>
<td class="quotedtablecell"><p class="quoted">"John"</p></td>
<td class="quotedtablecell"><p class="quoted">"Baldwin"</p></td>
<td class="quotedtablecell"><p class="quoted">1670</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"tavern-keeper"</p></td>
<td class="quotedtablecell"><p class="quoted">"Mary"</p></td>
<td class="quotedtablecell"><p class="quoted">"Dayton"</p></td>
<td class="quotedtablecell"><p class="quoted">1664</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"tavern-keeper"</p></td>
<td class="quotedtablecell"><p class="quoted">"James"</p></td>
<td class="quotedtablecell"><p class="quoted">"Turpin"</p></td>
<td class="quotedtablecell"><p class="quoted">1679</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"tavern-keeper"</p></td>
<td class="quotedtablecell"><p class="quoted">"Christopher"</p></td>
<td class="quotedtablecell"><p class="quoted">"Mayham"</p></td>
<td class="quotedtablecell"><p class="quoted">1664</p></td>
</tr>
</table>
<p class="quoted">
Test me with "wait / wait / wait / wait / wait / wait / wait / wait / wait / wait".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.6">WI §16.6. Repeating through tables</a><br><a href="rb_3.html#rb-3.6">RB §3.6. Windows</a>
</div></details><details class="full-example" id="example-181"><summary><span class="example-summary">181. A Haughty Spirit</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we have a game in which the player can climb through windows which overlook rooms below. We want him to be allowed to climb out windows to reach a room on the same level or at most one level lower than the one he's on; otherwise, he should get a refusal, saying that he would break his neck.</p>
<p>To figure out the height distance between the start room and the destination room, we might have a repeat loop look at all the directions one has to follow along the "best route" path between the two rooms, and record any ups and downs; then subtract the number of "up" steps from the number of "down" steps, and report what remains.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22A%20Haughty%20Spirit%22%5Cn%5CnTo%20decide%20what%20number%20is%20the%20distance%20(first%20place%20-%20a%20room)%20rises%20above%20(second%20place%20-%20a%20room):%5Cn%5Ctlet%20the%20total%20distance%20be%20the%20number%20of%20moves%20from%20the%20first%20place%20to%20the%20second%20place;%5Cn%5Ctif%20the%20total%20distance%20is%20less%20than%201,%20decide%20on%200;%5Cn%5Ctlet%20count%20of%20down%20moves%20be%200;%5Cn%5Ctlet%20count%20of%20up%20moves%20be%200;%5Cn%5Ctlet%20next%20place%20be%20the%20first%20place;%5Cn%5Ctrepeat%20with%20counter%20running%20from%201%20to%20the%20total%20distance:%5Cn%5Ct%5Ctlet%20the%20way%20be%20the%20best%20route%20from%20the%20next%20place%20to%20the%20second%20place;%5Cn%5Ct%5Ctif%20the%20way%20is%20down,%20let%20count%20of%20down%20moves%20be%20the%20count%20of%20down%20moves%20plus%201;%5Cn%5Ct%5Ctif%20the%20way%20is%20up,%20let%20the%20count%20of%20up%20moves%20be%20the%20count%20of%20up%20moves%20plus%201;%5Cn%5Ct%5Ctlet%20next%20place%20be%20the%20room%20the%20way%20from%20next%20place;%5Cn%5Ctlet%20the%20decision%20be%20the%20count%20of%20down%20moves%20minus%20the%20count%20of%20up%20moves;%5Cn%5Ctdecide%20on%20the%20decision.%5Cn%5Cn%5BNow%20we%20just%20have%20to%20create%20windows%20and%20some%20action%20rules%20for%20interacting%20with%20them...%5D%5Cn%5CnA%20window%20is%20a%20kind%20of%20thing.%20A%20window%20is%20always%20fixed%20in%20place.%20A%20window%20can%20be%20open%20or%20closed.%20A%20window%20is%20usually%20closed.%20A%20window%20can%20be%20openable%20or%20unopenable.%20A%20window%20is%20usually%20openable.%5Cn%5CnUnderstand%20%22climb%20through%20%5Bsomething%5D%22%20as%20entering.%20Understand%20%22jump%20through/out%20%5Bsomething%5D%22%20as%20entering.%5Cn%5CnBefore%20entering%20a%20closed%20window:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20would%20have%20to%20be%20opened%20first.%22%20instead.%5Cn%5CnInstead%20of%20entering%20a%20window:%5Cn%5Ctif%20the%20noun%20overlooks%20a%20room%20(called%20the%20far%20side):%5Cn%5Ct%5Ctlet%20fall%20be%20the%20distance%20the%20location%20rises%20above%20the%20far%20side;%5Cn%5Ct%5Ctif%20fall%20is%20greater%20than%201,%20say%20%22You'd%20break%20your%20neck.%22%20instead;%5Cn%5Ct%5Ctsay%20%22You%20tumble%20into%20%5Bthe%20far%20side%5D.%22;%5Cn%5Ct%5Ctmove%20the%20player%20to%20the%20far%20side;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22There's%20nowhere%20to%20go.%22%5Cn%5CnInstead%20of%20examining%20a%20window:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20%5Bif%20the%20noun%20is%20open%5Dopens%20over%5Botherwise%5Dgives%20a%20view%20of%5Bend%20if%5D%20%5Bthe%20list%20of%20rooms%20overlooked%20by%20the%20noun%5D.%22%5Cn%5Cn%5BHere%20we%20must%20anticipate%20a%20little%20from%20the%20chapter%20on%20Relations,%20and%20provide%20ourselves%20with%20a%20way%20of%20keeping%20track%20of%20how%20windows%20and%20rooms%20relate%20to%20one%20another:%5D%5Cn%5CnOverlooking%20relates%20various%20windows%20to%20various%20rooms.%20The%20verb%20to%20overlook%20means%20the%20overlooking%20relation.%20The%20initial%20appearance%20of%20a%20window%20is%20usually%20%22%5BThe%20item%20described%5D%20overlooks%20%5Bthe%20list%20of%20rooms%20overlooked%20by%20the%20item%20described%5D.%22%5Cn%5CnThe%20Square%20Keep%20is%20above%20the%20Winding%20Staircase.%20The%20Winding%20Staircase%20is%20above%20the%20Motte.%20A%20crown%20and%20a%20broken%20sword%20are%20in%20the%20Motte.%20The%20Bailey%20is%20west%20of%20the%20Motte.%5Cn%5CnThe%20long%20window%20is%20in%20the%20Keep.%20The%20long%20window%20overlooks%20the%20Bailey%20and%20the%20Motte.%20The%20narrow%20window%20is%20in%20the%20Winding%20Staircase.%20The%20narrow%20window%20overlooks%20the%20Bailey.%5Cn%5CnTest%20me%20with%20%22jump%20through%20window%20/%20open%20window%20/%20jump%20through%20window%20/%20d%20/%20x%20narrow%20window%20/%20open%20window%20/%20climb%20through%20window%20/%20e%20/%20up%20/%20down%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "A Haughty Spirit"
</p>
<p class="quoted">
To decide what number is the distance (first place - a room) rises above (second place - a room):
<br>    let the total distance be the number of moves from the first place to the second place;
<br>    if the total distance is less than 1, decide on 0;
<br>    let count of down moves be 0;
<br>    let count of up moves be 0;
<br>    let next place be the first place;
<br>    repeat with counter running from 1 to the total distance:
<br>        let the way be the best route from the next place to the second place;
<br>        if the way is down, let count of down moves be the count of down moves plus 1;
<br>        if the way is up, let the count of up moves be the count of up moves plus 1;
<br>        let next place be the room the way from next place;
<br>    let the decision be the count of down moves minus the count of up moves;
<br>    decide on the decision.
</p>
</div>
<p>Now we just have to create windows and some action rules for interacting with them...</p>

<div class="code">
<p class="quoted">
A window is a kind of thing. A window is always fixed in place. A window can be open or closed. A window is usually closed. A window can be openable or unopenable. A window is usually openable.
</p>
<p class="quoted">
Understand "climb through [something]" as entering. Understand "jump through/out [something]" as entering.
</p>
<p class="quoted">
Before entering a closed window:
<br>    say "[The noun] would have to be opened first." instead.
</p>
<p class="quoted">
Instead of entering a window:
<br>    if the noun overlooks a room (called the far side):
<br>        let fall be the distance the location rises above the far side;
<br>        if fall is greater than 1, say "You'd break your neck." instead;
<br>        say "You tumble into [the far side].";
<br>        move the player to the far side;
<br>    otherwise:
<br>        say "There's nowhere to go."
</p>
<p class="quoted">
Instead of examining a window:
<br>    say "[The noun] [if the noun is open]opens over[otherwise]gives a view of[end if] [the list of rooms overlooked by the noun]."
</p>
</div>
<p>Here we must anticipate a little from the chapter on Relations, and provide ourselves with a way of keeping track of how windows and rooms relate to one another:</p>

<div class="code">
<p class="quoted">
Overlooking relates various windows to various rooms. The verb to overlook means the overlooking relation. The initial appearance of a window is usually "[The item described] overlooks [the list of rooms overlooked by the item described]."
</p>
<p class="quoted">
The Square Keep is above the Winding Staircase. The Winding Staircase is above the Motte. A crown and a broken sword are in the Motte. The Bailey is west of the Motte.
</p>
<p class="quoted">
The long window is in the Keep. The long window overlooks the Bailey and the Motte. The narrow window is in the Winding Staircase. The narrow window overlooks the Bailey.
</p>
<p class="quoted">
Test me with "jump through window / open window / jump through window / d / x narrow window / open window / climb through window / e / up / down".
</p>
</div>
<p>We could then add rules to allow the player to look through windows and see things in the rooms below, but that would require more material from later chapters.</p>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.17">WI §11.17. Phrases to decide other things</a><br><a href="rb_3.html#rb-3.6">RB §3.6. Windows</a>
</div></details>
</div></section>
<section class="section" id="rb-3.7"><div>





<h3>RB §3.7. Lighting</h3>
<p>At any place (room, or inside a container) light is either fully present or fully absent. Inform does not usually try to track intermediate states of lighting, but see <a href="rb_3.html#example-51" class="example-link" onClick="(function() { document.getElementById('example-51').setAttribute('open','open'); return true; })();">The Undertomb 2</a><span class="example-difficulty"> ★★</span> for a single lantern with varying light levels and <a href="rb_3.html#example-347" class="example-link" onClick="(function() { document.getElementById('example-347').setAttribute('open','open'); return true; })();">Zorn of Zorna</a><span class="example-difficulty"> ★★★</span> for multiple candles that can be lit for cumulative changes to the light level.</p>
<p>Light can be added to, but not taken away: rooms and things can act as sources of light, by having the "lighted" and "lit" properties respectively, but they cannot be sinks which drain light away. The reason darkness is not a constant hazard in Inform-written games is that rooms always have the "lighted" property unless declared "dark". (We assume daylight or some always-on electric lighting.) A "dark" room may well still be illuminated if a light source happens to be present:</p>

<div class="code"><p class="quoted">
The Deep Crypt is a dark room. The candle lantern is a lit thing in the Deep Crypt.
</p></div>
<p><a href="rb_3.html#example-311" class="example-link" onClick="(function() { document.getElementById('example-311').setAttribute('open','open'); return true; })();">Hymenaeus</a><span class="example-difficulty"> ★</span> allows us to explicitly refer to torches as "lit" or "unlit", or (as synonyms) "flaming" or "extinguished".</p>
<p>For light produced electrically we might want a wall switch, as in <a href="rb_3.html#example-26" class="example-link" onClick="(function() { document.getElementById('example-26').setAttribute('open','open'); return true; })();">Down Below</a><span class="example-difficulty"> ★★</span>, or a portable lamp, as in <a href="rb_3.html#example-194" class="example-link" onClick="(function() { document.getElementById('example-194').setAttribute('open','open'); return true; })();">The Dark Ages Revisited</a><span class="example-difficulty"> ★</span>.</p>
<p>The fierce, locally confined light thrown out by a carried lamp has a quality quite unlike weak but ambient daylight, and <a href="rb_3.html#example-352" class="example-link" onClick="(function() { document.getElementById('example-352').setAttribute('open','open'); return true; })();">Reflections</a><span class="example-difficulty"> ★</span> exploits this to make a lantern feel more realistic.</p>
<p>When the player experiences darkness in a location, Inform is usually very guarded in what it reveals. ("It is pitch dark, and you can't see a thing.") <a href="rb_3.html#example-348" class="example-link" onClick="(function() { document.getElementById('example-348').setAttribute('open','open'); return true; })();">Hohmann Transfer</a><span class="example-difficulty"> ★★</span> gives darkness a quite different look, and <a href="rb_3.html#example-349" class="example-link" onClick="(function() { document.getElementById('example-349').setAttribute('open','open'); return true; })();">Four Stars</a><span class="example-difficulty"> ★★★</span> heightens the other senses so that a player in darkness can still detect her surroundings. The first of the two examples in <a href="rb_3.html#example-364" class="example-link" onClick="(function() { document.getElementById('example-364').setAttribute('open','open'); return true; })();">Peeled</a><span class="example-difficulty"> ★</span> allows exploration of a dark place by touch.</p>
<p>It is sometimes useful to check whether a room that is not the current location happens to contain a light source or be naturally lighted. This poses a few challenges. <a href="rb_3.html#example-81" class="example-link" onClick="(function() { document.getElementById('example-81').setAttribute('open','open'); return true; })();">Unblinking</a><span class="example-difficulty"> ★★★</span> demonstrates one way of doing this, so long as there are no backdrop light sources.</p>
<p><a href="rb_3.html#example-291" class="example-link" onClick="(function() { document.getElementById('example-291').setAttribute('open','open'); return true; })();">Cloak of Darkness</a><span class="example-difficulty"> ★★★★</span> is a short and sweet game based on a light puzzle.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.1" class="crossreference_link">Room Descriptions</a> for an item that can only be seen in bright light, when an extra lamp is switched on</div>
<div class="crossreference">
<a href="rb_6.html#rb-6.6" class="crossreference_link">Looking Under and Hiding</a> for a looking under action which is helped by the fiercer brightness of a light source</div>
<div class="crossreference">
<a href="rb_6.html#rb-6.9" class="crossreference_link">Going, Pushing Things in Directions</a> for making it hazardous to walk around in the dark</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.7" class="crossreference_link">Electricity and Magnetism</a> for batteries to power a torch or flashlight</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.8" class="crossreference_link">Fire</a> for a non-electrical way to produce light</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-194"><summary><span class="example-summary">194. The Dark Ages Revisited</span> <span class="example-difficulty">★</span></summary><div>
<p>This will be explored more in subsequent examples, but one of the things we can do with carry out rules is extend the function of existing commands so that they do more, or have special effects in specific situations. For instance, suppose we want to have a class of electric light:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Dark%20Ages%20Revisited%22%5Cn%5CnAn%20electric%20light%20is%20a%20kind%20of%20device.%20Carry%20out%20switching%20on%20an%20electric%20light:%20now%20the%20noun%20is%20lit.%20Carry%20out%20switching%20off%20an%20electric%20light:%20now%20the%20noun%20is%20unlit.%5Cn%5Cn%5BThis%20will%20not%20affect%20the%20behavior%20of%20any%20other%20devices%20when%20switched;%20it%20will%20also%20not%20change%20the%20way%20in%20which%20switching%20lights%20on%20and%20off%20is%20reported.%20The%20player%20will%20still%20see%20%22You%20switch%20the%20sodium%20lamp%20on.%22%20or%20the%20like.%20In%20this%20case%20that%20is%20probably%20what%20we%20want.%20If%20we%20wanted%20a%20special%20way%20of%20describing%20turning%20on%20electric%20lights%20as%20opposed%20to%20all%20other%20devices,%20we%20could%20also%20add%20an%20after%20rule%20for%20the%20electric%20light%20class.%20Adding%20this%20rule%20to%20the%20carry%20out%20train%20does%20guarantee,%20though,%20that%20in%20no%20case%20will%20we%20manage%20to%20make%20the%20lamp%20lit%20without%20actually%20making%20it%20switched%20on%20(or%20vice%20versa).%5D%5Cn%5CnThe%20Stooped%20Corridor%20is%20a%20room.%20%22A%20low,%20square-cut%20corridor,%20running%20north%20to%20south,%20stooping%20you%20over.%22%5Cn%5CnThe%20sodium%20lamp%20is%20an%20electric%20light%20in%20the%20Stooped%20Corridor.%20%22%5Bif%20switched%20on%5DThe%20sodium%20lamp%20squats%20on%20the%20ground,%20burning%20away.%5Botherwise%5DThe%20sodium%20lamp%20squats%20heavily%20on%20the%20ground.%5Bend%20if%5D%22.%20The%20description%20is%20%22It%20is%20a%20heavy-duty%20archaeologist's%20lamp,%20%5Bif%20switched%20off%5Dcurrently%20off.%5Botherwise%5Dblazing%20with%20brilliant%20yellow%20light.%5Bend%20if%5D%22%5Cn%5CnInstead%20of%20burning%20the%20sodium%20lamp,%20try%20switching%20on%20the%20lamp.%5Cn%5Cn%5BSo%20far%20so%20easy.%20Since%20we've%20built%20the%20description%20of%20its%20light%20or%20darkness%20into%20the%20lamp's%20description,%20though,%20we%20may%20want%20to%20get%20rid%20of%20the%20%22...is%20switched%20on%22%20line%20that%20automatically%20follows%20when%20we%20look%20at%20something.%20For%20this%20we%20do%20need%20to%20borrow%20from%20a%20later%20chapter:%5D%5Cn%5CnThe%20examine%20devices%20rule%20is%20not%20listed%20in%20the%20carry%20out%20examining%20rules.%5Cn%5CnTest%20me%20with%20%22x%20lamp%20/%20switch%20lamp%20on%20/%20look%20/%20x%20lamp%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Dark Ages Revisited"
</p>
<p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit.
</p>
</div>
<p>This will not affect the behavior of any other devices when switched; it will also not change the way in which switching lights on and off is reported. The player will still see "You switch the sodium lamp on." or the like. In this case that is probably what we want. If we wanted a special way of describing turning on electric lights as opposed to all other devices, we could also add an after rule for the electric light class. Adding this rule to the carry out train does guarantee, though, that in no case will we manage to make the lamp lit without actually making it switched on (or vice versa).</p>

<div class="code">
<p class="quoted">
The Stooped Corridor is a room. "A low, square-cut corridor, running north to south, stooping you over."
</p>
<p class="quoted">
The sodium lamp is an electric light in the Stooped Corridor. "[if switched on]The sodium lamp squats on the ground, burning away.[otherwise]The sodium lamp squats heavily on the ground.[end if]". The description is "It is a heavy-duty archaeologist's lamp, [if switched off]currently off.[otherwise]blazing with brilliant yellow light.[end if]"
</p>
<p class="quoted">
Instead of burning the sodium lamp, try switching on the lamp.
</p>
</div>
<p>So far so easy. Since we've built the description of its light or darkness into the lamp's description, though, we may want to get rid of the "...is switched on" line that automatically follows when we look at something. For this we do need to borrow from a later chapter:</p>

<div class="code">
<p class="quoted">
The examine devices rule is not listed in the carry out examining rules.
</p>
<p class="quoted">
Test me with "x lamp / switch lamp on / look / x lamp".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.9">WI §12.9. Check, carry out, report</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-311"><summary><span class="example-summary">311. Hymenaeus</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hymenaeus%22%5Cn%5CnA%20torch%20is%20kind%20of%20thing.%20Understand%20the%20lit%20property%20as%20describing%20a%20torch.%20Understand%20%22lighted%22%20or%20%22flaming%22%20or%20%22burning%22%20as%20lit.%20Understand%20%22extinguished%22%20as%20unlit.%20A%20torch%20is%20usually%20lit.%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20lit%20torch,%20say%20%22flaming%20%22.%5CnBefore%20printing%20the%20name%20of%20an%20unlit%20torch,%20say%20%22extinguished%20%22.%5Cn%5CnThe%20Wedding%20Procession%20is%20a%20room.%5Cn%5CnOrpheus%20is%20a%20man%20in%20the%20Wedding%20Procession.%20Orpheus%20carries%20a%20torch.%5CnEurydice%20is%20a%20woman%20in%20the%20Wedding%20Procession.%20Eurydice%20carries%20a%20torch.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20someone%20(called%20target):%5Cn%5Ctsay%20%22%5BThe%20target%5D%20carries%20%5Ba%20list%20of%20things%20carried%20by%20the%20target%5D.%22%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%202%20succeeds%20and%20a%20torch%20is%20lit:%5Cn%5Ct%5Ctlet%20target%20torch%20be%20a%20random%20lit%20torch;%5Cn%5Ct%5Ctnow%20the%20target%20torch%20is%20unlit;%5Cn%5Ct%5Ctsay%20%22Aquilo%20blows%20down%20from%20the%20north,%20extinguishing%20the%20torch%20carried%20by%20%5Bthe%20holder%20of%20the%20target%20torch%5D.%22%5Cn%5CnInstead%20of%20examining%20a%20lit%20torch:%5Cn%5Ctsay%20%22It%20casts%20a%20bright%20glow%20over%20%5Bthe%20holder%20of%20the%20noun%5D.%22%5CnInstead%20of%20examining%20an%20unlit%20torch:%5Cn%5Ctsay%20%22%5BThe%20holder%20of%20the%20noun%5D%20is%20looking%20at%20it%20disconsolately,%20obviously%20worried%20about%20the%20omens.%22%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20z%20/%20look%20/%20x%20flaming%20torch%20/%20x%20extinguished%20torch%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hymenaeus"
</p>
<p class="quoted">
A torch is kind of thing. Understand the lit property as describing a torch. Understand "lighted" or "flaming" or "burning" as lit. Understand "extinguished" as unlit. A torch is usually lit.
</p>
<p class="quoted">
Before printing the name of a lit torch, say "flaming ".
<br>Before printing the name of an unlit torch, say "extinguished ".
</p>
<p class="quoted">
The Wedding Procession is a room.
</p>
<p class="quoted">
Orpheus is a man in the Wedding Procession. Orpheus carries a torch.
<br>Eurydice is a woman in the Wedding Procession. Eurydice carries a torch.
</p>
<p class="quoted">
Rule for writing a paragraph about someone (called target):
<br>    say "[The target] carries [a list of things carried by the target]."
</p>
<p class="quoted">
Every turn:
<br>    if a random chance of 1 in 2 succeeds and a torch is lit:
<br>        let target torch be a random lit torch;
<br>        now the target torch is unlit;
<br>        say "Aquilo blows down from the north, extinguishing the torch carried by [the holder of the target torch]."
</p>
<p class="quoted">
Instead of examining a lit torch:
<br>    say "It casts a bright glow over [the holder of the noun]."
<br>Instead of examining an unlit torch:
<br>    say "[The holder of the noun] is looking at it disconsolately, obviously worried about the omens."
</p>
<p class="quoted">
Test me with "z / z / z / look / x flaming torch / x extinguished torch".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.15">WI §17.15. Understanding things by their properties</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-352"><summary><span class="example-summary">352. Reflections</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Reflections%22%5Cn%5CnBehind%20the%20Waterfall%20is%20a%20room.%20%22Though%20one%20wall%20of%20the%20cave%20is%20open%20to%20the%20waterfall,%20the%20quantity%20of%20water%20is%20so%20great%20that%20barely%20any%20light%20comes%20through%20from%20the%20outside.%22%20Behind%20the%20Waterfall%20is%20dark.%5Cn%5CnSurface%20is%20a%20kind%20of%20value.%20The%20surfaces%20are%20shiny%20and%20dull.%20A%20thing%20has%20a%20surface.%20A%20thing%20is%20usually%20dull.%5Cn%5CnThe%20player%20carries%20a%20reflecting%20ball,%20a%20canopic%20jar,%20an%20abacus,%20a%20plumbline,%20a%20piece%20of%20chalk,%20and%20a%20torch.%20The%20reflecting%20ball%20is%20shiny.%5Cn%5CnAladdin's%20lamp%20is%20a%20shiny%20thing%20in%20Behind%20the%20Waterfall.%5Cn%5CnBrightness%20is%20a%20kind%20of%20value.%20The%20brightnesses%20are%20guttering,%20weak,%20radiant%20and%20blazing.%20The%20torch%20has%20a%20brightness.%20The%20torch%20is%20blazing.%20The%20torch%20is%20lit.%5Cn%5CnUnderstand%20%22blow%20out%20%5Bsomething%5D%22%20or%20%22blow%20%5Bsomething%5D%22%20or%20%22extinguish%20%5Bsomething%5D%22%20as%20blowing%20out.%20Blowing%20out%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCarry%20out%20blowing%20out:%20say%20%22Futile.%22%5Cn%5CnInstead%20of%20blowing%20out%20the%20torch:%5Cn%5Ctnow%20brightness%20of%20torch%20is%20the%20brightness%20before%20the%20brightness%20of%20the%20torch;%5Cn%5Ctsay%20%22The%20light%20of%20the%20torch%20dies%20to%20%5Bbrightness%20of%20torch%5D.%22%5Cn%5CnInstead%20of%20blowing%20out%20the%20guttering%20torch:%5Cn%5Ctsay%20%22Fool!%20Do%20you%20want%20to%20put%20it%20out%20entirely?%22%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20a%20shiny%20thing:%5Cn%5Ctsay%20%22The%20%5Bbrightness%20of%20the%20torch%5D%20light%20of%20%5Bthe%20torch%5D%20reflects%20in%20the%20surface%5Bif%20the%20number%20of%20shiny%20things%20in%20the%20location%20&gt;%201%5Ds%5Bend%20if%5D%20of%20%5Bthe%20list%20of%20shiny%20things%20in%20the%20location%5D.%22%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20torch%20while%20writing%20a%20paragraph%20about%20something:%5Cn%5Ctif%20the%20torch%20is%20in%20the%20location,%20say%20%22fallen%20%22.%5Cn%5CnTest%20me%20with%20%22drop%20ball%20/%20look%20/%20blow%20torch%20/%20look%20/%20drop%20torch%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Reflections"
</p>
<p class="quoted">
Behind the Waterfall is a room. "Though one wall of the cave is open to the waterfall, the quantity of water is so great that barely any light comes through from the outside." Behind the Waterfall is dark.
</p>
<p class="quoted">
Surface is a kind of value. The surfaces are shiny and dull. A thing has a surface. A thing is usually dull.
</p>
<p class="quoted">
The player carries a reflecting ball, a canopic jar, an abacus, a plumbline, a piece of chalk, and a torch. The reflecting ball is shiny.
</p>
<p class="quoted">
Aladdin's lamp is a shiny thing in Behind the Waterfall.
</p>
<p class="quoted">
Brightness is a kind of value. The brightnesses are guttering, weak, radiant and blazing. The torch has a brightness. The torch is blazing. The torch is lit.
</p>
<p class="quoted">
Understand "blow out [something]" or "blow [something]" or "extinguish [something]" as blowing out. Blowing out is an action applying to one thing.
</p>
<p class="quoted">
Carry out blowing out: say "Futile."
</p>
<p class="quoted">
Instead of blowing out the torch:
<br>    now brightness of torch is the brightness before the brightness of the torch;
<br>    say "The light of the torch dies to [brightness of torch]."
</p>
<p class="quoted">
Instead of blowing out the guttering torch:
<br>    say "Fool! Do you want to put it out entirely?"
</p>
<p class="quoted">
Rule for writing a paragraph about a shiny thing:
<br>    say "The [brightness of the torch] light of [the torch] reflects in the surface[if the number of shiny things in the location &gt; 1]s[end if] of [the list of shiny things in the location]."
</p>
<p class="quoted">
Before printing the name of the torch while writing a paragraph about something:
<br>    if the torch is in the location, say "fallen ".
</p>
<p class="quoted">
Test me with "drop ball / look / blow torch / look / drop torch / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.24">WI §18.24. Writing a paragraph about</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-364"><summary><span class="example-summary">364. Peeled</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we have a situation where the player is in darkness, but is allowed to feel and interact with (except for examining) any large objects. In that case, we write a scope rule that puts those large objects into scope all the time, and trust the "requires light" aspect of verbs like examining to prevent the player from doing any actions that he shouldn't:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Peeled%22%5Cn%5CnA%20thing%20can%20be%20large%20or%20small.%5Cn%5CnBefore%20touching%20a%20large%20thing%20when%20in%20darkness:%20say%20%22You%20grope%20for%20%5Bthe%20noun%5D...%22%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player:%5Cn%5Ctrepeat%20with%20item%20running%20through%20large%20things%20in%20the%20location:%5Cn%5Ct%5Ctplace%20item%20in%20scope.%5Cn%5CnSome%20generic%20surroundings%20are%20backdrop.%20They%20are%20everywhere.%20Understand%20%22walls%22%20or%20%22wall%22%20or%20%22ceiling%22%20or%20%22ground%22%20or%20%22floor%22%20or%20%22area%22%20or%20%22room%22%20or%20%22here%22%20as%20the%20generic%20surroundings.%20Instead%20of%20touching%20the%20generic%20surroundings:%20say%20%22You%20encounter%20nothing%20extraordinary.%22%20Instead%20of%20touching%20the%20generic%20surroundings%20when%20in%20darkness:%20say%20%22You%20try%20feeling%20your%20way%20around%20and%20reach%20%5Ba%20list%20of%20large%20things%20in%20the%20location%5D.%22%20After%20deciding%20the%20scope%20of%20the%20player%20when%20in%20darkness:%20place%20the%20surroundings%20in%20scope.%5Cn%5CnThe%20Room%20of%20Mystery%20is%20a%20dark%20room.%20The%20bearskin%20rug%20is%20a%20large%20thing%20in%20the%20Room%20of%20Mystery.%20Instead%20of%20touching%20the%20rug:%20say%20%22It%20feels%20furry!%22%5Cn%5CnThe%20peeled%20grape%20is%20a%20small%20thing%20in%20the%20Room%20of%20Mystery.%20Instead%20of%20touching%20the%20peeled%20grape:%20say%20%22Gosh,%20is%20that%20an%20eyeball?%22%5Cn%5CnTest%20me%20with%20%22feel%20floor%20/%20feel%20rug%20/%20eat%20rug%20/%20examine%20rug%20/%20get%20grape%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Peeled"
</p>
<p class="quoted">
A thing can be large or small.
</p>
<p class="quoted">
Before touching a large thing when in darkness: say "You grope for [the noun]..."
</p>
<p class="quoted">
After deciding the scope of the player:
<br>    repeat with item running through large things in the location:
<br>        place item in scope.
</p>
<p class="quoted">
Some generic surroundings are backdrop. They are everywhere. Understand "walls" or "wall" or "ceiling" or "ground" or "floor" or "area" or "room" or "here" as the generic surroundings. Instead of touching the generic surroundings: say "You encounter nothing extraordinary." Instead of touching the generic surroundings when in darkness: say "You try feeling your way around and reach [a list of large things in the location]." After deciding the scope of the player when in darkness: place the surroundings in scope.
</p>
<p class="quoted">
The Room of Mystery is a dark room. The bearskin rug is a large thing in the Room of Mystery. Instead of touching the rug: say "It feels furry!"
</p>
<p class="quoted">
The peeled grape is a small thing in the Room of Mystery. Instead of touching the peeled grape: say "Gosh, is that an eyeball?"
</p>
<p class="quoted">
Test me with "feel floor / feel rug / eat rug / examine rug / get grape".
</p>
</div>
<p>Sadly, because the grape is small, the player will never encounter this horror.</p>
<p>Alternatively, suppose we have a situation in which the player can use one command to interact with a kind of thing that isn't normally in scope. It's usually most convenient to write the "understand" rule appropriately rather than use the scope activity.</p>
<p>(Note that we define "inquiring about" as applying to one *visible* thing; otherwise we would be required to be able to touch the catsuit in order to inquire about it. More on this restriction may be found in the Advanced Actions chapter on the topic of visible, touchable, and carried things.)</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Peeled%22%5Cn%5CnMr%20Steed's%20Flat%20is%20a%20room.%5Cn%5CnUnderstand%20%22ask%20about%20%5Bany%20subject%5D%22%20as%20inquiring%20about.%20A%20subject%20is%20a%20kind%20of%20thing.%20The%20skintight%20catsuit%20is%20a%20subject.%20Inquiring%20about%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20inquiring%20about%20something:%5Cn%5Ctsay%20%22'What%20can%20you%20tell%20me%20about%20%5Bthe%20noun%5D?'%20you%20demand.%20Mr%20Steed%20raises%20his%20eyebrows,%20but%20does%20not%20reply.%22%5Cn%5CnTest%20me%20with%20%22ask%20about%20catsuit%20/%20x%20catsuit%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Peeled"
</p>
<p class="quoted">
Mr Steed's Flat is a room.
</p>
<p class="quoted">
Understand "ask about [any subject]" as inquiring about. A subject is a kind of thing. The skintight catsuit is a subject. Inquiring about is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out inquiring about something:
<br>    say "'What can you tell me about [the noun]?' you demand. Mr Steed raises his eyebrows, but does not reply."
</p>
<p class="quoted">
Test me with "ask about catsuit / x catsuit".
</p>
</div>
<p>All this said, there do arise certain complex situations when we want an activity-specific scoping.</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.29">WI §18.29. Deciding the scope of something</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-26"><summary><span class="example-summary">26. Down Below</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to have a room with a light switch. Turning the switch off makes the room go dark; turning it on restores the light. This kind of switch is an obvious candidate as a device.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Down%20Below%22%5Cn%5CnTerrifying%20Basement%20is%20a%20room.%20The%20light%20switch%20is%20a%20switched%20on%20device%20in%20the%20Terrifying%20Basement.%20It%20is%20fixed%20in%20place.%5Cn%5Cn%5BHere%20we%20define%20our%20light%20switch,%20and%20we%20also%20make%20it%20start%20out%20as%20%22switched%20on%22.%20The%20Terrifying%20Basement%20will%20also%20start%20out%20lit%20(as%20all%20rooms%20do,%20by%20default,%20unless%20we%20specifically%20say%20that%20they%20are%20dark).%20We%20further%20say%20that%20it%20is%20fixed%20in%20place%20to%20avoid%20the%20ludicrous%20possibility%20of%20the%20player%20picking%20it%20up%20and%20carrying%20it%20away.%5D%5Cn%5Cn%5BNext%20we%20add%20some%20instructions%20to%20control%20how%20turning%20the%20light%20switch%20on%20and%20off%20affects%20the%20room%20light.%20These%20borrow%20from%20later%20chapters%20on%20actions,%20but%20the%20gist%20may%20be%20obvious%20anyway:%5D%5Cn%5CnCarry%20out%20switching%20off%20the%20light%20switch:%20now%20the%20Terrifying%20Basement%20is%20dark.%5Cn%5CnCarry%20out%20switching%20on%20the%20light%20switch:%20now%20the%20Terrifying%20Basement%20is%20lighted.%5Cn%5Cn%5BInform%20already%20has%20the%20idea%20of%20light%20and%20darkness%20built%20in;%20we%20will%20see%20more%20about%20this%20later,%20and%20the%20Phrasebook%20(in%20the%20Index%20tab)%20also%20contains%20a%20list%20of%20all%20the%20adjectives%20(lighted,%20dark,%20etc)%20which%20are%20important%20to%20use%20here.%5D%5Cn%5Cn%5BSpeaking%20of%20the%20Index,%20the%20Actions%20tab%20contains%20a%20list%20of%20all%20the%20grammar%20that%20can%20be%20used%20to%20activate%20a%20given%20command:%20for%20instance,%20the%20switching%20action%20responds%20to%20%22switch%20%5Bsomething%5D%22%20or%20%22turn%20on%20%5Bsomething%5D%22.%20In%20this%20case,%20we%20may%20want%20to%20give%20the%20player%20an%20extra%20option%20or%20two.%20It%20would%20be%20pretty%20natural%20for%20a%20player%20to%20try%20&gt;FLIP%20SWITCH,%20so%20let's%20add%20that%20in:%5D%5Cn%5CnUnderstand%20%22flip%20%5Bsomething%20switched%20off%5D%22%20as%20switching%20on.%20Understand%20%22flip%20%5Bsomething%20switched%20on%5D%22%20as%20switching%20off.%20Understand%20%22flip%20%5Bsomething%5D%22%20as%20switching%20on.%5Cn%5Cn%5BThe%20nuances%20of%20this%20will%20be%20explored%20in%20the%20chapter%20on%20Understanding.%20What%20is%20useful%20to%20know%20here%20is%20that%20we%20have%20taught%20Inform%20to%20understand%20that%20&gt;FLIP%20LIGHT%20SWITCH%20means%20to%20turn%20it%20on%20when%20the%20switch%20is%20already%20off;%20if%20the%20switch%20is%20already%20on,%20FLIP%20SWITCH%20means%20to%20turn%20the%20switch%20off.%20Depending%20on%20the%20kind%20of%20device%20we%20are%20modeling%20(button?%20lever?%20dial?),%20we%20might%20want%20to%20write%20similar%20lines%20for%20commands%20such%20as%20PUSH,%20PRESS,%20PULL,%20TURN,%20and%20so%20on.%5D%5Cn%5Cn%5BFinally,%20we%20need%20to%20deal%20with%20a%20special%20case.%20In%20general,%20the%20player%20cannot%20interact%20with%20other%20things%20in%20a%20dark%20room%20because%20he%20can't%20see%20them,%20but%20if%20we%20adhered%20strictly%20to%20this%20it%20would%20be%20impossible%20for%20him%20to%20find%20the%20light%20switch%20to%20turn%20it%20back%20on.%20So%20we%20need%20something%20from%20the%20chapter%20on%20Activities%20to%20change%20this:%5D%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player%20when%20the%20location%20is%20the%20Terrifying%20Basement:%5Cn%5Ctplace%20the%20light%20switch%20in%20scope.%5Cn%5CnUpstairs%20is%20above%20the%20Terrifying%20Basement.%5Cn%5CnTest%20me%20with%20%22turn%20off%20light%20/%20look%20/%20flip%20light%20switch%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Down Below"
</p>
<p class="quoted">
Terrifying Basement is a room. The light switch is a switched on device in the Terrifying Basement. It is fixed in place.
</p>
</div>
<p>Here we define our light switch, and we also make it start out as "switched on". The Terrifying Basement will also start out lit (as all rooms do, by default, unless we specifically say that they are dark). We further say that it is fixed in place to avoid the ludicrous possibility of the player picking it up and carrying it away.</p>
<p>Next we add some instructions to control how turning the light switch on and off affects the room light. These borrow from later chapters on actions, but the gist may be obvious anyway:</p>

<div class="code">
<p class="quoted">
Carry out switching off the light switch: now the Terrifying Basement is dark.
</p>
<p class="quoted">
Carry out switching on the light switch: now the Terrifying Basement is lighted.
</p>
</div>
<p>Inform already has the idea of light and darkness built in; we will see more about this later, and the Phrasebook (in the Index tab) also contains a list of all the adjectives (lighted, dark, etc) which are important to use here.</p>
<p>Speaking of the Index, the Actions tab contains a list of all the grammar that can be used to activate a given command: for instance, the switching action responds to "switch [something]" or "turn on [something]". In this case, we may want to give the player an extra option or two. It would be pretty natural for a player to try &gt;FLIP SWITCH, so let's add that in:</p>

<div class="code"><p class="quoted">
Understand "flip [something switched off]" as switching on. Understand "flip [something switched on]" as switching off. Understand "flip [something]" as switching on.
</p></div>
<p>The nuances of this will be explored in the chapter on Understanding. What is useful to know here is that we have taught Inform to understand that &gt;FLIP LIGHT SWITCH means to turn it on when the switch is already off; if the switch is already on, FLIP SWITCH means to turn the switch off. Depending on the kind of device we are modeling (button? lever? dial?), we might want to write similar lines for commands such as PUSH, PRESS, PULL, TURN, and so on.</p>
<p>Finally, we need to deal with a special case. In general, the player cannot interact with other things in a dark room because he can't see them, but if we adhered strictly to this it would be impossible for him to find the light switch to turn it back on. So we need something from the chapter on Activities to change this:</p>

<div class="code">
<p class="quoted">
After deciding the scope of the player when the location is the Terrifying Basement:
<br>    place the light switch in scope.
</p>
<p class="quoted">
Upstairs is above the Terrifying Basement.
</p>
<p class="quoted">
Test me with "turn off light / look / flip light switch".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.14">WI §3.14. Devices and descriptions</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-51"><summary><span class="example-summary">51. The Undertomb 2</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Undertomb%202%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnBrightness%20is%20a%20kind%20of%20value.%20The%20brightnesses%20are%20guttering,%20weak,%20radiant%20and%20blazing.%5Cn%5CnA%20brightness%20can%20be%20adequate%20or%20inadequate.%20A%20brightness%20is%20usually%20adequate.%20Guttering%20is%20inadequate.%5Cn%5CnTemperature%20is%20a%20kind%20of%20value.%20100C%20specifies%20a%20temperature.%5Cn%5CnA%20brightness%20has%20a%20temperature.%20The%20temperature%20of%20a%20brightness%20is%20usually%20700C.%20The%20temperature%20of%20blazing%20is%201400C.%20The%20temperature%20of%20radiant%20is%201100C.%5Cn%5CnA%20dead%20end%20is%20a%20kind%20of%20room%20with%20printed%20name%20%22Dead%20End%22%20and%20description%20%22This%20is%20a%20dead%20end,%20where%20crags%20in%20the%20uneven%20rock%20are%20caught%20by%20the%20%5Bbrightness%20of%20the%20lantern%5D%20flame%20you%20hold%20aloft.%20Despite%20%5Briver%20sound%5D%20there%20is%20no%20sign%20of%20the%20stream.%22%20A%20dead%20end%20is%20usually%20dark.%5Cn%5CnA%20dead%20end%20has%20some%20text%20called%20river%20sound.%20The%20river%20sound%20of%20a%20dead%20end%20is%20usually%20%22a%20faint%20whispering%20of%20running%20water%22.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Undertomb%20is%20a%20dark%20room.%20%22From%20this%20dim%20cross-groined%20room,%20exits%20depart%20east,%20south,%20and%20northwest.%22%5Cn%5CnEast%20is%20a%20dead%20end.%20South%20is%20a%20dead%20end%20with%20printed%20name%20%22Collapsed%20Dead%20End%22.%5Cn%5CnNorthwest%20is%20a%20dead%20end%20called%20the%20Tortuous%20Alcove.%20%20The%20Tortuous%20Alcove%20has%20river%20sound%20%22a%20gurgle%20of%20running%20water%22.%5Cn%5CnThe%20player%20carries%20a%20book.%20The%20description%20of%20the%20book%20is%20%22%5Bif%20the%20brightness%20of%20the%20lantern%20is%20adequate%5DMany%20secrets%20are%20now%20yours.%5Botherwise%5DNo,%20the%20print's%20too%20tiny%20by%20this%20awful%20light.%22%5Cn%5CnIn%20the%20Undertomb%20is%20a%20lantern.%20It%20is%20lit.%20The%20lantern%20has%20a%20brightness.%20The%20lantern%20is%20blazing.%20The%20description%20of%20the%20lantern%20is%20%22The%20lantern%20shines%20with%20a%20flame%20at%20%5Btemperature%20of%20the%20brightness%20of%20the%20lantern%5D.%22%5Cn%5CnAfter%20waiting%20in%20the%20Tortuous%20Alcove%20when%20the%20brightness%20of%20the%20lantern%20is%20not%20guttering:%5Cn%5Ctnow%20the%20lantern%20is%20the%20brightness%20before%20the%20brightness%20of%20the%20lantern;%5Cn%5Ctsay%20%22You%20wait%20so%20long%20that%20your%20lantern%20dims%20a%20bit.%22%5Cn%5CnTest%20me%20with%20%22east%20/%20west%20/%20get%20lantern%20/%20east%20/%20west%20/%20south%20/%20north%20/%20northwest%20/%20read%20book%20/%20x%20lantern%20/%20z%20/%20x%20lantern%20/%20read%20book%20/%20look%20/%20z%20/%20x%20lantern%20/%20read%20book%20/%20look%20/%20z%20/%20x%20lantern%20/%20read%20book%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Undertomb 2"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
Brightness is a kind of value. The brightnesses are guttering, weak, radiant and blazing.
</p>
<p class="quoted">
A brightness can be adequate or inadequate. A brightness is usually adequate. Guttering is inadequate.
</p>
<p class="quoted">
Temperature is a kind of value. 100C specifies a temperature.
</p>
<p class="quoted">
A brightness has a temperature. The temperature of a brightness is usually 700C. The temperature of blazing is 1400C. The temperature of radiant is 1100C.
</p>
<p class="quoted">
A dead end is a kind of room with printed name "Dead End" and description "This is a dead end, where crags in the uneven rock are caught by the [brightness of the lantern] flame you hold aloft. Despite [river sound] there is no sign of the stream." A dead end is usually dark.
</p>
<p class="quoted">
A dead end has some text called river sound. The river sound of a dead end is usually "a faint whispering of running water".
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Undertomb is a dark room. "From this dim cross-groined room, exits depart east, south, and northwest."
</p>
<p class="quoted">
East is a dead end. South is a dead end with printed name "Collapsed Dead End".
</p>
<p class="quoted">
Northwest is a dead end called the Tortuous Alcove.  The Tortuous Alcove has river sound "a gurgle of running water".
</p>
<p class="quoted">
The player carries a book. The description of the book is "[if the brightness of the lantern is adequate]Many secrets are now yours.[otherwise]No, the print's too tiny by this awful light."
</p>
<p class="quoted">
In the Undertomb is a lantern. It is lit. The lantern has a brightness. The lantern is blazing. The description of the lantern is "The lantern shines with a flame at [temperature of the brightness of the lantern]."
</p>
<p class="quoted">
After waiting in the Tortuous Alcove when the brightness of the lantern is not guttering:
<br>    now the lantern is the brightness before the brightness of the lantern;
<br>    say "You wait so long that your lantern dims a bit."
</p>
<p class="quoted">
Test me with "east / west / get lantern / east / west / south / north / northwest / read book / x lantern / z / x lantern / read book / look / z / x lantern / read book / look / z / x lantern / read book / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.9">WI §4.9. Using new kinds of value in properties</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-348"><summary><span class="example-summary">348. Hohmann Transfer</span> <span class="example-difficulty">★★</span></summary><div>
<p>Inform automatically keeps track of light and darkness, handling such questions as whether a room is lit, whether the player can see any light sources, etc., and then managing the descriptions accordingly. When the room is dark and no light sources are visible, the player is said to be "in darkness".</p>
<p>If we don't specify otherwise, Inform will describe our surroundings in a dark room thus:</p>

<div class="code"><p class="quoted">
Darkness
<br>It is pitch dark, and you can't see a thing.
</p></div>
<p>This is fine in many situations, but we may sometimes want to replace this phrase with something else.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hohmann%20Transfer%22%5Cn%5CnThe%20Western%20Hemisphere%20is%20a%20dark%20room.%20%22The%20cloud%20mass%20covers%20much%20of%20the%20land%20on%20this%20side%20of%20the%20planet,%20and%20a%20particularly%20nasty%20storm%20is%20brewing%20off%20to%20the%20south.%22%5Cn%5CnThe%20Eastern%20Hemisphere%20is%20west%20of%20the%20Western%20Hemisphere.%20The%20Eastern%20Hemisphere%20is%20east%20of%20the%20Western%20Hemisphere.%20The%20Eastern%20Hemisphere%20is%20north%20of%20the%20Western%20Hemisphere.%20The%20Eastern%20Hemisphere%20is%20south%20of%20the%20Western%20Hemisphere.%20%22This%20side%20of%20the%20planet%20is%20more%20ocean%20than%20land,%20with%20only%20two%20continents%20worthy%20of%20the%20name,%20and%20a%20volcanic%20archipelago%20in%20the%20north%20seas.%22%5Cn%5CnUse%20full-length%20room%20descriptions.%5Cn%5CnRule%20for%20printing%20the%20description%20of%20a%20dark%20room:%5Cn%5Ctsay%20%22It's%20night%20on%20this%20side%20of%20the%20planet,%20so%20you%20can%20make%20out%20only%20the%20glow%20of%20urbanized%20areas%20along%20the%20seacoasts.%22%20%20instead.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20dark%20room:%5Cn%5Ctsay%20%22Dark%20Side%22%20instead.%5Cn%5Cn%5BAnd%20now%20a%20few%20minor%20refinements%20so%20that%20we%20can%20see%20what%20happens%20when%20one%20room%20becomes%20dark%20and%20the%20other%20light:%5D%5Cn%5CnCarry%20out%20going:%5Cn%5Ctsay%20%22You%20fire%20the%20thrusters%20and%20loop%20around%20to%20the%20other%20side%20of%20the%20planet%20before%20settling%20into%20a%20new%20geosynchronous%20orbit.%20Six%20months%20and%20one%20minute%20later...%22%5Cn%5CnThe%20time%20of%20day%20is%204:55%20PM.%5Cn%5CnAt%205%20PM:%5Cn%5Ctnow%20the%20Eastern%20Hemisphere%20is%20dark;%5Cn%5Ctnow%20the%20Western%20Hemisphere%20is%20lit.%5Cn%5CnRule%20for%20printing%20the%20announcement%20of%20darkness:%5Cn%5Ctsay%20%22The%20planet%20abruptly%20spins%20itself%20over,%20exposing%20its%20cool%20underbelly%20to%20the%20sun.%22%5Cn%5CnTest%20me%20with%20%22e%20/%20z%20/%20z%20/%20w%20/%20z%20/%20z%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hohmann Transfer"
</p>
<p class="quoted">
The Western Hemisphere is a dark room. "The cloud mass covers much of the land on this side of the planet, and a particularly nasty storm is brewing off to the south."
</p>
<p class="quoted">
The Eastern Hemisphere is west of the Western Hemisphere. The Eastern Hemisphere is east of the Western Hemisphere. The Eastern Hemisphere is north of the Western Hemisphere. The Eastern Hemisphere is south of the Western Hemisphere. "This side of the planet is more ocean than land, with only two continents worthy of the name, and a volcanic archipelago in the north seas."
</p>
<p class="quoted">
Use full-length room descriptions.
</p>
<p class="quoted">
Rule for printing the description of a dark room:
<br>    say "It's night on this side of the planet, so you can make out only the glow of urbanized areas along the seacoasts."  instead.
</p>
<p class="quoted">
Rule for printing the name of a dark room:
<br>    say "Dark Side" instead.
</p>
</div>
<p>And now a few minor refinements so that we can see what happens when one room becomes dark and the other light:</p>

<div class="code">
<p class="quoted">
Carry out going:
<br>    say "You fire the thrusters and loop around to the other side of the planet before settling into a new geosynchronous orbit. Six months and one minute later..."
</p>
<p class="quoted">
The time of day is 4:55 PM.
</p>
<p class="quoted">
At 5 PM:
<br>    now the Eastern Hemisphere is dark;
<br>    now the Western Hemisphere is lit.
</p>
<p class="quoted">
Rule for printing the announcement of darkness:
<br>    say "The planet abruptly spins itself over, exposing its cool underbelly to the sun."
</p>
<p class="quoted">
Test me with "e / z / z / w / z / z / e".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.22">WI §18.22. Printing the description of a dark room</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-81"><summary><span class="example-summary">81. Unblinking</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we're simulating a situation where the player needs to travel through lit areas only, but we want to give him some hints about which way might be safe. Here we'll find our best route through light-filled rooms.</p>
<p>The slightly tricky part is that it's not necessarily easy to tell whether a room has a lamp in it. We may say "if the Crypt is lighted", but that only tells us whether it has been declared to be inherently lighted or dark, not whether it happens to contain a light source that the player would be able to see if he went in.</p>
<p>The easiest way to get around this is to create an object -- the light-meter; place it in the target location; and check whether it "can see" a lit object. This preserves all the usual rules about open and closed containers, transparency, etc.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Unblinking%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnThe%20light-meter%20is%20a%20privately-named%20scenery%20thing.%5Cn%5CnDefinition:%20a%20room%20(called%20the%20target%20room)%20is%20light-filled:%5Cn%5Ctif%20the%20target%20room%20is%20lighted:%5Cn%5Ct%5Ctyes;%5Cn%5Ctmove%20the%20light-meter%20to%20the%20target%20room;%5Cn%5Ctlet%20the%20answer%20be%20false;%5Cn%5Ctif%20the%20light-meter%20can%20see%20a%20lit%20thing:%5Cn%5Ct%5Ctnow%20the%20answer%20is%20true;%5Cn%5Ctnow%20the%20light-meter%20is%20nowhere;%5Cn%5Ctdecide%20on%20the%20answer.%5Cn%5Cn%5BThat%20done,%20we're%20free%20to%20use%20our%20best-route%20phrases%20to%20choose%20a%20particular%20route.%5D%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Tomb%20of%20Angels%20is%20a%20room.%20%22This%20ancient%20underground%20tomb%20is%20lightless%20but%20for%20a%20few%20shafts%20from%20the%20surface.%20Everywhere%20in%20the%20shadows%20are%20carved%20angels,%20their%20faces%20worn%20away%20by%20water%20and%20pollution,%20their%20wings%20little%20more%20than%20nubs.%22%5Cn%5CnThe%20Upward%20Path%20is%20above%20the%20Tomb%20of%20Angels.%20It%20is%20dark.%20%22The%20staircase%20switches%20back%20on%20itself%20many%20times%20as%20it%20ascends%20towards%20the%20Crash%20Site.%22%5Cn%5CnA%20container%20called%20the%20sarcophagus%20is%20in%20the%20Upward%20Path.%20It%20is%20closed%20and%20openable.%20%22A%20sarcophagus%20rests%20in%20the%20niche%20here,%20%5Bif%20open%5Dthe%20lid%20pushed%20aside%5Botherwise%5Dthe%20lid%20firmly%20in%20place%5Bend%20if%5D.%22%5Cn%5CnThe%20Crash%20Site%20is%20above%20the%20Upward%20Path.%20%22The%20ceiling%20has%20wholly%20caved%20in%20here,%20and%20the%20belly%20of%20the%20spaceship%20above%20you%20is%20visible%20--%20including%20the%20escape%20hatch.%22%5Cn%5CnA%20candle%20is%20a%20kind%20of%20thing.%20A%20candle%20is%20usually%20lit.%20The%20player%20carries%20four%20candles.%5Cn%5CnAfter%20looking%20when%20the%20location%20is%20not%20the%20Crash%20Site:%5Cn%5Ctif%20the%20best%20route%20from%20the%20location%20to%20the%20Crash%20Site%20through%20light-filled%20rooms%20is%20a%20direction%20(called%20next%20way):%5Cn%5Ct%5Ctsay%20%22It%20looks%20like%20there's%20a%20safe,%20lit%20path%20%5Bif%20the%20number%20of%20moves%20from%20the%20location%20to%20the%20Crash%20Site%20through%20light-filled%20rooms%20is%201%5Dstraight%5Botherwise%5Dif%20you%20go%5Bend%20if%5D%20%5Bnext%20way%5D.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22It%20looks%20like%20there%20is%20no%20fully%20lit%20path%20from%20here%20to%20the%20Crash%20Site.%22%5Cn%5CnTest%20me%20with%20%22up%20/%20drop%20candle%20/%20down%20/%20up%20/%20take%20the%20candle%20/%20open%20sarcophagus%20/%20put%20candle%20in%20sarcophagus%20/%20down%20/%20up%20/%20close%20sarcophagus%20/%20d%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Unblinking"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
The light-meter is a privately-named scenery thing.
</p>
<p class="quoted">
Definition: a room (called the target room) is light-filled:
<br>    if the target room is lighted:
<br>        yes;
<br>    move the light-meter to the target room;
<br>    let the answer be false;
<br>    if the light-meter can see a lit thing:
<br>        now the answer is true;
<br>    now the light-meter is nowhere;
<br>    decide on the answer.
</p>
</div>
<p>That done, we're free to use our best-route phrases to choose a particular route.</p>

<div class="code">
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Tomb of Angels is a room. "This ancient underground tomb is lightless but for a few shafts from the surface. Everywhere in the shadows are carved angels, their faces worn away by water and pollution, their wings little more than nubs."
</p>
<p class="quoted">
The Upward Path is above the Tomb of Angels. It is dark. "The staircase switches back on itself many times as it ascends towards the Crash Site."
</p>
<p class="quoted">
A container called the sarcophagus is in the Upward Path. It is closed and openable. "A sarcophagus rests in the niche here, [if open]the lid pushed aside[otherwise]the lid firmly in place[end if]."
</p>
<p class="quoted">
The Crash Site is above the Upward Path. "The ceiling has wholly caved in here, and the belly of the spaceship above you is visible -- including the escape hatch."
</p>
<p class="quoted">
A candle is a kind of thing. A candle is usually lit. The player carries four candles.
</p>
<p class="quoted">
After looking when the location is not the Crash Site:
<br>    if the best route from the location to the Crash Site through light-filled rooms is a direction (called next way):
<br>        say "It looks like there's a safe, lit path [if the number of moves from the location to the Crash Site through light-filled rooms is 1]straight[otherwise]if you go[end if] [next way].";
<br>    otherwise:
<br>        say "It looks like there is no fully lit path from here to the Crash Site."
</p>
<p class="quoted">
Test me with "up / drop candle / down / up / take the candle / open sarcophagus / put candle in sarcophagus / down / up / close sarcophagus / d".
</p>
</div>
<p>An important word of caution: this method would give false negatives if there were a backdrop lightsource, such as the moon, providing light to the Upward Path. This is because backdrops are actually moved around the map by Inform during play, following the player around. So if the moon backdrop is in the Crash Site with the player, it will not be in the Upward Path as well -- even if it's scheduled to move there as soon as the player does.</p>
</div>
<div class="linkback">
<a href="wi_6.html#wi-6.14">WI §6.14. Adjacent rooms and routes through the map</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-347"><summary><span class="example-summary">347. Zorn of Zorna</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Zorn%20of%20Zorna%22%5Cn%5CnVisibility%20rule:%5Cn%5Ctif%20examining:%5Cn%5Ct%5Ctif%20the%20detail%20of%20the%20noun%20is%20fine%20and%20the%20number%20of%20visible%20lit%20candles%20is%20less%20than%205,%20there%20is%20insufficient%20light;%5Cn%5Ct%5Ctif%20the%20detail%20of%20the%20noun%20is%20ordinary%20and%20the%20number%20of%20visible%20lit%20candles%20is%20less%20than%203,%20there%20is%20insufficient%20light;%5Cn%5Ctthere%20is%20sufficient%20light.%5Cn%5CnDetail%20is%20a%20kind%20of%20value.%20The%20details%20are%20fine,%20ordinary,%20and%20gross.%20A%20thing%20has%20detail.%5Cn%5CnA%20candle%20is%20a%20kind%20of%20thing.%20Before%20printing%20the%20name%20of%20a%20candle%20while%20not%20burning%20or%20blowing%20out:%20say%20%22%5Bif%20lit%5Dlit%20%5Botherwise%5Dunlit%20%5Bend%20if%5D%22.%20A%20candle%20is%20usually%20lit.%20Before%20printing%20the%20plural%20name%20of%20a%20candle%20while%20not%20burning%20or%20blowing%20out:%20say%20%22%5Bif%20lit%5Dlit%20%5Botherwise%5Dunlit%20%5Bend%20if%5D%22.%20A%20candle%20is%20usually%20lit.%20Understand%20the%20lit%20property%20as%20describing%20a%20candle.%20A%20candle%20is%20usually%20gross.%5Cn%5CnInstead%20of%20burning%20a%20candle:%20now%20the%20noun%20is%20lit;%20say%20%22You%20light%20%5Bthe%20noun%5D.%22%5Cn%5CnUnderstand%20%22blow%20out%20%5Bsomething%5D%22%20or%20%22extinguish%20%5Bsomething%5D%22%20or%20%22put%20out%20%5Bsomething%5D%22%20as%20blowing%20out.%20Understand%20the%20command%20%22snuff%22%20as%20%22extinguish%22.%20Blowing%20out%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnUnderstand%20%22burn%20%5Bunlit%20candle%5D%22%20as%20burning.%5Cn%5CnInstead%20of%20blowing%20out%20a%20candle:%5Cn%5Ctnow%20the%20noun%20is%20unlit;%5Cn%5Ctsay%20%22You%20put%20out%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5CnRule%20for%20printing%20a%20refusal%20to%20act%20in%20the%20dark:%5Cn%5Ctif%20we%20are%20examining%20something,%20say%20%22The%20details%20of%20%5Bthe%20noun%5D%20are%20too%20fine%20to%20make%20out%20in%20the%20light%20of%20only%20%5Bthe%20number%20of%20visible%20lit%20candles%20in%20words%5D%20candle%5Bs%5D.%22%20instead.%5Cn%5Cn%5CnEvery%20turn%20when%20the%20Todal%20is%20visible:%5Cn%5Ctif%20the%20number%20of%20visible%20lit%20candles%20is%20greater%20than%201:%5Cn%5Ct%5Ctsay%20%22The%20brightness%20of%20the%20room%20wakens%20the%20Todal%20from%20slumber,%20and%20with%20you%20unarmed...%22;%5Cn%5Ct%5Ctend%20the%20story;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Todal%20sleeps%20fitfully,%20troubled%20by%20even%20that%20faint%20light.%22%5Cn%5CnA%20room%20is%20usually%20dark.%5Cn%5CnThe%20Palace%20is%20a%20room.%20%22The%20Duke%20is%20out;%20the%20way%20is%20clear.%20East%20is%20Saralinda's%20Chamber;%20north,%20a%20hallway%20zigs%20and%20zags%20down%20to%20the%20gate%20that%20leads%20out.%22%20A%20finely-written%20placard%20is%20in%20the%20Palace.%20%22A%20finely-written%20placard%20is%20on%20the%20wall%20next%20to%20this%20exit.%22%20The%20placard%20is%20fine.%20The%20description%20of%20the%20placard%20is%20%22You%20read:%20'Beware%20the%20Todal:%20its%20bite%20is%20worse%20than%20its%20gleep.%5Cn%5CnNo%20more%20than%20one%20candle!'%22%5Cn%5CnThe%20candle-stand%20is%20a%20supporter%20in%20the%20Palace.%20Understand%20%22stand%22%20as%20the%20candle-stand.%20The%20description%20of%20the%20candle-stand%20is%20%22The%20candle-stand%20is%20a%20tall%20metal%20branch%20for%20holding%20lights,%20but%20someone%20has%20quite%20practically%20added%20casters%20to%20the%20bottom.%22%20It%20is%20pushable%20between%20rooms.%20Three%20candles%20are%20on%20the%20candle-stand.%20Instead%20of%20removing%20something%20from%20the%20candle-stand:%20say%20%22%5BThe%20noun%5D%20is%20fixed%20quite%20firmly%20in%20place.%22%20Instead%20of%20taking%20something%20which%20is%20on%20the%20candle-stand:%20say%20%22%5BThe%20noun%5D%20won't%20come%20out%20of%20the%20holder.%22%20Instead%20of%20putting%20something%20on%20the%20candle-stand:%20say%20%22%5BThe%20candle-stand%5D%20is%20full.%22%5Cn%5CnSaralinda's%20Chamber%20is%20east%20of%20the%20Palace.%20%22Now%20that%20Saralinda%20herself%20is%20gone,%20there%20is%20no%20real%20radiance%20in%20this%20place.%22%20Two%20unlit%20candles%20are%20in%20Saralinda's%20Chamber.%5Cn%5CnA%20large-print%20romantic%20novel%20is%20in%20Saralinda's%20Chamber.%20The%20novel%20is%20ordinary.%20The%20description%20of%20the%20novel%20is%20%22'She%20Was%20Only%20The%20Chimney-Sweep's%20Daughter',%20by%20Marie%20Swelldon.%22%5Cn%5CnThe%20Zig-Zag%20Hallway%20is%20north%20of%20the%20Palace.%20%22The%20Hallway%20goes%20left,%20then%20right,%20then%20left%20again...%22%20Two%20unlit%20candles%20are%20in%20the%20Hallway.%5Cn%5CnTodal%20is%20an%20animal%20in%20the%20Zig-Zag%20Hallway.%5Cn%5CnRule%20for%20printing%20the%20description%20of%20a%20dark%20room%20when%20the%20Todal%20is%20in%20the%20location:%5Cn%5Cttry%20listening.%5Cn%5CnInstead%20of%20listening%20when%20in%20darkness%20and%20the%20Todal%20is%20in%20the%20location:%5Cn%5Ctsay%20%22In%20the%20darkness%20something%20softly%20gleeps.%22%5Cn%5CnInstead%20of%20going%20north%20from%20the%20Hallway%20when%20in%20darkness:%5Cn%5Ctsay%20%22You%20stumble%20and%20cannot%20find%20your%20way.%22%5Cn%5CnNorth%20of%20the%20Hallway%20is%20Freedom.%20Instead%20of%20going%20to%20Freedom:%20say%20%22You%20make%20it%20out%20into%20the%20cool%20night%20air%20at%20last!%22;%20end%20the%20story%20finally.%5Cn%5CnTest%20me%20with%20%22examine%20placard%20/%20get%20placard%20/%20n%20/%20listen%20/%20n%20/%20s%20/%20examine%20candle-stand%20/%20push%20candle-stand%20east%20/%20examine%20novel%20/%20get%20unlit%20candle%20/%20light%20it%20/%20light%20unlit%20candle%20/%20examine%20placard%20/%20push%20candle-stand%20west%20/%20e%20/%20examine%20novel%20/%20w%20/%20n%20/%20n%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Zorn of Zorna"
</p>
<p class="quoted">
Visibility rule:
<br>    if examining:
<br>        if the detail of the noun is fine and the number of visible lit candles is less than 5, there is insufficient light;
<br>        if the detail of the noun is ordinary and the number of visible lit candles is less than 3, there is insufficient light;
<br>    there is sufficient light.
</p>
<p class="quoted">
Detail is a kind of value. The details are fine, ordinary, and gross. A thing has detail.
</p>
<p class="quoted">
A candle is a kind of thing. Before printing the name of a candle while not burning or blowing out: say "[if lit]lit [otherwise]unlit [end if]". A candle is usually lit. Before printing the plural name of a candle while not burning or blowing out: say "[if lit]lit [otherwise]unlit [end if]". A candle is usually lit. Understand the lit property as describing a candle. A candle is usually gross.
</p>
<p class="quoted">
Instead of burning a candle: now the noun is lit; say "You light [the noun]."
</p>
<p class="quoted">
Understand "blow out [something]" or "extinguish [something]" or "put out [something]" as blowing out. Understand the command "snuff" as "extinguish". Blowing out is an action applying to one thing.
</p>
<p class="quoted">
Understand "burn [unlit candle]" as burning.
</p>
<p class="quoted">
Instead of blowing out a candle:
<br>    now the noun is unlit;
<br>    say "You put out [the noun]."
</p>
<p class="quoted">
Rule for printing a refusal to act in the dark:
<br>    if we are examining something, say "The details of [the noun] are too fine to make out in the light of only [the number of visible lit candles in words] candle[s]." instead.
</p>
<p class="quoted">
Every turn when the Todal is visible:
<br>    if the number of visible lit candles is greater than 1:
<br>        say "The brightness of the room wakens the Todal from slumber, and with you unarmed...";
<br>        end the story;
<br>    otherwise:
<br>        say "Todal sleeps fitfully, troubled by even that faint light."
</p>
<p class="quoted">
A room is usually dark.
</p>
<p class="quoted">
The Palace is a room. "The Duke is out; the way is clear. East is Saralinda's Chamber; north, a hallway zigs and zags down to the gate that leads out." A finely-written placard is in the Palace. "A finely-written placard is on the wall next to this exit." The placard is fine. The description of the placard is "You read: 'Beware the Todal: its bite is worse than its gleep.
</p>
<p class="quoted">
No more than one candle!'"
</p>
<p class="quoted">
The candle-stand is a supporter in the Palace. Understand "stand" as the candle-stand. The description of the candle-stand is "The candle-stand is a tall metal branch for holding lights, but someone has quite practically added casters to the bottom." It is pushable between rooms. Three candles are on the candle-stand. Instead of removing something from the candle-stand: say "[The noun] is fixed quite firmly in place." Instead of taking something which is on the candle-stand: say "[The noun] won't come out of the holder." Instead of putting something on the candle-stand: say "[The candle-stand] is full."
</p>
<p class="quoted">
Saralinda's Chamber is east of the Palace. "Now that Saralinda herself is gone, there is no real radiance in this place." Two unlit candles are in Saralinda's Chamber.
</p>
<p class="quoted">
A large-print romantic novel is in Saralinda's Chamber. The novel is ordinary. The description of the novel is "'She Was Only The Chimney-Sweep's Daughter', by Marie Swelldon."
</p>
<p class="quoted">
The Zig-Zag Hallway is north of the Palace. "The Hallway goes left, then right, then left again..." Two unlit candles are in the Hallway.
</p>
<p class="quoted">
Todal is an animal in the Zig-Zag Hallway.
</p>
<p class="quoted">
Rule for printing the description of a dark room when the Todal is in the location:
<br>    try listening.
</p>
<p class="quoted">
Instead of listening when in darkness and the Todal is in the location:
<br>    say "In the darkness something softly gleeps."
</p>
<p class="quoted">
Instead of going north from the Hallway when in darkness:
<br>    say "You stumble and cannot find your way."
</p>
<p class="quoted">
North of the Hallway is Freedom. Instead of going to Freedom: say "You make it out into the cool night air at last!"; end the story finally.
</p>
<p class="quoted">
Test me with "examine placard / get placard / n / listen / n / s / examine candle-stand / push candle-stand east / examine novel / get unlit candle / light it / light unlit candle / examine placard / push candle-stand west / e / examine novel / w / n / n".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.18">WI §18.18. Printing a refusal to act in the dark</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-349"><summary><span class="example-summary">349. Four Stars 1</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Four%20Stars%22%5Cn%5CnA%20thing%20has%20some%20text%20called%20sound.%20The%20sound%20of%20a%20thing%20is%20usually%20%22silence%22.%5Cn%5CnThe%20report%20listening%20rule%20is%20not%20listed%20in%20the%20report%20listening%20to%20rules.%5Cn%5CnCarry%20out%20listening%20to%20something:%5Cn%5Ctsay%20%22From%20%5Bthe%20noun%5D%20you%20hear%20%5Bthe%20sound%20of%20the%20noun%5D.%22%5Cn%5CnInstead%20of%20listening%20to%20a%20room:%5Cn%5Ctif%20an%20audible%20thing%20can%20be%20touched%20by%20the%20player,%20say%20%22You%20hear%20%5Bthe%20list%20of%20audible%20things%20which%20can%20be%20touched%20by%20the%20player%5D.%22;%5Cn%5Ctotherwise%20say%20%22A%20merciful%20peace%20prevails.%22%5Cn%5CnDefinition:%20a%20thing%20is%20audible%20if%20the%20sound%20of%20it%20is%20not%20%22silence%22.%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20audible%20while%20listening%20to%20a%20room:%5Cn%5Ctsay%20%22%5Bsound%5D%20from%20the%20%22%5Cn%5Cn%5CnA%20thing%20has%20some%20text%20called%20scent.%20The%20scent%20of%20a%20thing%20is%20usually%20%22nothing%22.%5Cn%5CnThe%20report%20smelling%20rule%20is%20not%20listed%20in%20the%20report%20smelling%20rulebook.%5Cn%5CnCarry%20out%20smelling%20something:%5Cn%5Ctsay%20%22From%20%5Bthe%20noun%5D%20you%20smell%20%5Bscent%20of%20the%20noun%5D.%22%5Cn%5CnInstead%20of%20smelling%20a%20room:%5Cn%5Ctif%20a%20scented%20thing%20can%20be%20touched%20by%20the%20player,%20say%20%22You%20smell%20%5Bthe%20list%20of%20scented%20things%20which%20can%20be%20touched%20by%20the%20player%5D.%22;%5Cn%5Ctotherwise%20say%20%22The%20place%20is%20blissfully%20odorless.%22%5Cn%5CnDefinition:%20a%20thing%20is%20scented%20if%20the%20scent%20of%20it%20is%20not%20%22nothing%22.%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20scented%20while%20smelling%20a%20room:%20say%20%22%5Bscent%5D%20from%20the%20%22%5Cn%5Cn%5CnThe%20Waning%20Moon%20Resort%20is%20a%20dark%20room.%20%22A%20spacious%20room%20with%20a%20flagstone%20floor,%20and%20a%20dreamcatcher%20hung%20over%20the%20king-size%20bed.%22%20The%20dreamcatcher%20is%20scenery%20in%20the%20Resort.%20The%20description%20is%20%22The%20usual%20web%20of%20threads%20and%20crystals,%20feathers%20and%20beads.%22%20Instead%20of%20taking%20the%20dreamcatcher,%20say%20%22Ah,%20ah%20--%20you%20might%20be%20tempted%20to%20take%20it%20as%20a%20souvenir,%20except%20that%20the%20price%20list%20in%20the%20minibar%20clearly%20states%20they%20charge%20%2465%20apiece%20if%20you%20walk%20off%20with%20one.%20Cheaper%20than%20stealing%20the%20Frette%20bathrobes,%20but%20still%20probably%20not%20a%20good%20idea.%22%5Cn%5CnThe%20king-size%20bed%20is%20an%20enterable%20supporter%20in%20the%20Resort.%20The%20description%20is%20%22200-thread-count%20Egyptian%20cotton%20sheets,%20according%20to%20the%20website.%20You%20would%20make%20fun,%20only%20they%20really%20are%20extraordinarily%20comfortable.%22%20The%20player%20is%20on%20the%20bed.%20A%20Lindt%20chocolate%20is%20on%20the%20bed.%20It%20is%20edible.%20The%20scent%20of%20the%20chocolate%20is%20%22chocolate-hazelnut%20smell%22.%5Cn%5CnInstead%20of%20exiting:%20say%20%22You%20are%20too%20weary%20to%20move.%22%5Cn%5CnThe%20suitcase%20is%20an%20openable%20closed%20container%20in%20the%20Resort.%5Cn%5CnAn%20electric%20light%20is%20a%20kind%20of%20device.%20Carry%20out%20switching%20on%20an%20electric%20light:%20now%20the%20noun%20is%20lit.%20Carry%20out%20switching%20off%20an%20electric%20light:%20now%20the%20noun%20is%20unlit.%20Understand%20%22light%22%20as%20an%20electric%20light.%5Cn%5CnThe%20solar%20lamp%20is%20an%20electric%20light%20in%20Waning%20Moon%20Resort.%20The%20description%20is%20%22Specially%20designed%20to%20give%20light%20in%20a%20spectrum%20resembling%20sunlight,%20to%20improve%20the%20mood%20and%20make%20a%20person%20energetic.%22%20The%20lamp%20is%20switched%20on%20and%20lit.%5Cn%5CnAn%20electric%20noisemaker%20is%20a%20kind%20of%20device.%20An%20electric%20noisemaker%20has%20some%20text%20called%20usual%20sound.%20The%20usual%20sound%20of%20an%20electric%20noisemaker%20is%20usually%20%22beepbeepbeep%22.%20Carry%20out%20switching%20on%20an%20electric%20noisemaker:%20now%20the%20sound%20of%20the%20noun%20is%20the%20usual%20sound%20of%20the%20noun.%20Report%20switching%20on%20an%20electric%20noisemaker:%20say%20%22%5BThe%20noun%5D%20goes%20%5Busual%20sound%20of%20the%20noun%5D!%22%20instead.%20Report%20switching%20off%20an%20electric%20noisemaker:%20say%20%22You%20switch%20off%20%5Bthe%20noun%5D,%20silencing%20the%20%5Busual%20sound%20of%20the%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20switching%20off%20an%20electric%20noisemaker:%20now%20the%20sound%20of%20the%20noun%20is%20%22silence%22.%5Cn%5CnThe%20bedside%20table%20is%20in%20the%20Resort.%20The%20table%20supports%20a%20potted%20plant%20and%20a%20Bose%20speaker.%20The%20scent%20of%20the%20potted%20plant%20is%20%22rosemary%22%5Cn%5CnThe%20Bose%20speaker%20is%20an%20electric%20noisemaker.%20The%20usual%20sound%20of%20the%20speaker%20is%20%22soothing%20whalesong%22.%20The%20sound%20of%20the%20speaker%20is%20%22soothing%20whalesong%22.%20The%20speaker%20is%20switched%20on.%5Cn%5CnInstead%20of%20touching%20a%20device:%20say%20%22You%20feel%20the%20surface%20of%20%5Bthe%20noun%5D%20and%20discover%20the%20switch.%22%5Cn%5CnInstead%20of%20touching%20a%20scented%20thing:%20say%20%22The%20brush%20of%20your%20fingers%20stirs%20loose%20a%20fresh%20cloud%20of%20%5Bscent%20of%20the%20noun%5D%20smell.%22%5Cn%5CnRule%20for%20printing%20the%20description%20of%20a%20dark%20room:%20try%20listening;%20try%20smelling;%20rule%20succeeds.%5Cn%5CnInstead%20of%20examining%20an%20audible%20thing%20while%20in%20darkness:%20try%20listening%20to%20the%20noun.%20Instead%20of%20examining%20something%20while%20in%20darkness:%20try%20touching%20the%20noun.%5Cn%5CnBefore%20touching%20something%20when%20in%20darkness:%5Cn%5Ctsay%20%22You%20grope%20about...%22%5Cn%5CnAfter%20inserting%20the%20plant%20into%20something:%5Cn%5Ctsay%20%22You%20unceremoniously%20dump%20%5Bthe%20noun%5D%20into%20%5Bthe%20second%20noun%5D,%20hoping%20it%20sustains%20no%20important%20damage%20thereby.%22%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20dark%20room:%20if%20the%20player%20can%20touch%20an%20audible%20thing,%20say%20%22Noisy%20%22;%20if%20the%20player%20can%20touch%20a%20scented%20thing,%20say%20%22Perfumed%20%22.%5Cn%5CnVisibility%20rule%20when%20in%20darkness:%5Cn%5Ctif%20examining%20something,%20there%20is%20sufficient%20light;%5Cn%5Ctthere%20is%20insufficient%20light.%5Cn%5CnRule%20for%20printing%20the%20announcement%20of%20darkness:%20say%20%22It%20is%20now%20pleasantly%20lightless%20in%20here.%22%20instead.%5Cn%5CnRule%20for%20deciding%20the%20scope%20of%20the%20player%20while%20in%20darkness:%20place%20the%20location%20in%20scope.%5Cn%5CnTo%20decide%20whether%20in%20daylight:%5Cn%5Ctif%20in%20darkness,%20no;%5Cn%5Ctyes.%5Cn%5CnInstead%20of%20sleeping%20when%20in%20daylight:%5Cn%5Ctsay%20%22You've%20never%20been%20able%20to%20sleep%20with%20the%20light%20on.%22%5Cn%5CnInstead%20of%20sleeping%20when%20the%20player%20can%20touch%20an%20audible%20thing%20(called%20the%20irritant):%5Cn%5Ctsay%20%22The%20steady%20%5Bsound%20of%20the%20irritant%5D%20from%20%5Bthe%20irritant%5D%20prevents%20your%20slumber.%22%5Cn%5CnInstead%20of%20sleeping%20when%20the%20player%20can%20touch%20a%20scented%20thing%20(called%20the%20irritant):%5Cn%5Ctif%20the%20irritant%20is%20chocolate,%20say%20%22The%20smell%20of%20chocolate%20continues%20to%20tantalize%20you,%20keeping%20you%20from%20sleep.%22;%5Cn%5Ctotherwise%20say%20%22You%20sniffle.%20%5BThe%20irritant%5D%20is%20probably%20acting%20on%20your%20allergies.%22%5Cn%5CnInstead%20of%20sleeping:%5Cn%5Ctsay%20%22You%20slip%20easily%20into%20the%20arms%20of%20Morpheus.%22;%5Cn%5Ctend%20the%20story%20finally%20saying%20%22At%20last...%22%5Cn%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22You%20have%20at%20last%20escaped%20from%20the%20airport%20and%20gotten%20through%20customs;%20survived%20an%20unnerving%20taxi%20ride%20over%20icy%20highways;%20stared%20down%20the%20impertinent%20concierge;%20endured%20the%20bellhop's%20catalog%20of%20features%20in%20your%20room;%20and%20achieved,%20finally,%20a%20moment%20of%20peace.%20Time%20for%20a%20good%20night's%20slumber!%22%5Cn%5CnTest%20me%20with%20%22x%20dreamcatcher%20/%20switch%20lamp%20off%20/%20look%20/%20sleep%20/%20eat%20chocolate%20/%20sleep%20/%20get%20plant%20/%20examine%20plant%20/%20open%20suitcase%20/%20put%20plant%20in%20suitcase%20/%20close%20suitcase%20/%20sleep%20/%20look%20/%20examine%20bose%20/%20switch%20bose%20off%20/%20sleep%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Four Stars"
</p>
<p class="quoted">
A thing has some text called sound. The sound of a thing is usually "silence".
</p>
<p class="quoted">
The report listening rule is not listed in the report listening to rules.
</p>
<p class="quoted">
Carry out listening to something:
<br>    say "From [the noun] you hear [the sound of the noun]."
</p>
<p class="quoted">
Instead of listening to a room:
<br>    if an audible thing can be touched by the player, say "You hear [the list of audible things which can be touched by the player].";
<br>    otherwise say "A merciful peace prevails."
</p>
<p class="quoted">
Definition: a thing is audible if the sound of it is not "silence".
</p>
<p class="quoted">
Before printing the name of something audible while listening to a room:
<br>    say "[sound] from the "
</p>
<p class="quoted">
A thing has some text called scent. The scent of a thing is usually "nothing".
</p>
<p class="quoted">
The report smelling rule is not listed in the report smelling rulebook.
</p>
<p class="quoted">
Carry out smelling something:
<br>    say "From [the noun] you smell [scent of the noun]."
</p>
<p class="quoted">
Instead of smelling a room:
<br>    if a scented thing can be touched by the player, say "You smell [the list of scented things which can be touched by the player].";
<br>    otherwise say "The place is blissfully odorless."
</p>
<p class="quoted">
Definition: a thing is scented if the scent of it is not "nothing".
</p>
<p class="quoted">
Before printing the name of something scented while smelling a room: say "[scent] from the "
</p>
<p class="quoted">
The Waning Moon Resort is a dark room. "A spacious room with a flagstone floor, and a dreamcatcher hung over the king-size bed." The dreamcatcher is scenery in the Resort. The description is "The usual web of threads and crystals, feathers and beads." Instead of taking the dreamcatcher, say "Ah, ah -- you might be tempted to take it as a souvenir, except that the price list in the minibar clearly states they charge $65 apiece if you walk off with one. Cheaper than stealing the Frette bathrobes, but still probably not a good idea."
</p>
<p class="quoted">
The king-size bed is an enterable supporter in the Resort. The description is "200-thread-count Egyptian cotton sheets, according to the website. You would make fun, only they really are extraordinarily comfortable." The player is on the bed. A Lindt chocolate is on the bed. It is edible. The scent of the chocolate is "chocolate-hazelnut smell".
</p>
<p class="quoted">
Instead of exiting: say "You are too weary to move."
</p>
<p class="quoted">
The suitcase is an openable closed container in the Resort.
</p>
<p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit. Understand "light" as an electric light.
</p>
<p class="quoted">
The solar lamp is an electric light in Waning Moon Resort. The description is "Specially designed to give light in a spectrum resembling sunlight, to improve the mood and make a person energetic." The lamp is switched on and lit.
</p>
<p class="quoted">
An electric noisemaker is a kind of device. An electric noisemaker has some text called usual sound. The usual sound of an electric noisemaker is usually "beepbeepbeep". Carry out switching on an electric noisemaker: now the sound of the noun is the usual sound of the noun. Report switching on an electric noisemaker: say "[The noun] goes [usual sound of the noun]!" instead. Report switching off an electric noisemaker: say "You switch off [the noun], silencing the [usual sound of the noun]." instead.
</p>
<p class="quoted">
Carry out switching off an electric noisemaker: now the sound of the noun is "silence".
</p>
<p class="quoted">
The bedside table is in the Resort. The table supports a potted plant and a Bose speaker. The scent of the potted plant is "rosemary"
</p>
<p class="quoted">
The Bose speaker is an electric noisemaker. The usual sound of the speaker is "soothing whalesong". The sound of the speaker is "soothing whalesong". The speaker is switched on.
</p>
<p class="quoted">
Instead of touching a device: say "You feel the surface of [the noun] and discover the switch."
</p>
<p class="quoted">
Instead of touching a scented thing: say "The brush of your fingers stirs loose a fresh cloud of [scent of the noun] smell."
</p>
<p class="quoted">
Rule for printing the description of a dark room: try listening; try smelling; rule succeeds.
</p>
<p class="quoted">
Instead of examining an audible thing while in darkness: try listening to the noun. Instead of examining something while in darkness: try touching the noun.
</p>
<p class="quoted">
Before touching something when in darkness:
<br>    say "You grope about..."
</p>
<p class="quoted">
After inserting the plant into something:
<br>    say "You unceremoniously dump [the noun] into [the second noun], hoping it sustains no important damage thereby."
</p>
<p class="quoted">
Before printing the name of a dark room: if the player can touch an audible thing, say "Noisy "; if the player can touch a scented thing, say "Perfumed ".
</p>
<p class="quoted">
Visibility rule when in darkness:
<br>    if examining something, there is sufficient light;
<br>    there is insufficient light.
</p>
<p class="quoted">
Rule for printing the announcement of darkness: say "It is now pleasantly lightless in here." instead.
</p>
<p class="quoted">
Rule for deciding the scope of the player while in darkness: place the location in scope.
</p>
<p class="quoted">
To decide whether in daylight:
<br>    if in darkness, no;
<br>    yes.
</p>
<p class="quoted">
Instead of sleeping when in daylight:
<br>    say "You've never been able to sleep with the light on."
</p>
<p class="quoted">
Instead of sleeping when the player can touch an audible thing (called the irritant):
<br>    say "The steady [sound of the irritant] from [the irritant] prevents your slumber."
</p>
<p class="quoted">
Instead of sleeping when the player can touch a scented thing (called the irritant):
<br>    if the irritant is chocolate, say "The smell of chocolate continues to tantalize you, keeping you from sleep.";
<br>    otherwise say "You sniffle. [The irritant] is probably acting on your allergies."
</p>
<p class="quoted">
Instead of sleeping:
<br>    say "You slip easily into the arms of Morpheus.";
<br>    end the story finally saying "At last..."
</p>
<p class="quoted">
When play begins:
<br>    say "You have at last escaped from the airport and gotten through customs; survived an unnerving taxi ride over icy highways; stared down the impertinent concierge; endured the bellhop's catalog of features in your room; and achieved, finally, a moment of peace. Time for a good night's slumber!"
</p>
<p class="quoted">
Test me with "x dreamcatcher / switch lamp off / look / sleep / eat chocolate / sleep / get plant / examine plant / open suitcase / put plant in suitcase / close suitcase / sleep / look / examine bose / switch bose off / sleep".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.22">WI §18.22. Printing the description of a dark room</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details><details class="full-example" id="example-291"><summary><span class="example-summary">291. Cloak of Darkness</span> <span class="example-difficulty">★★★★</span></summary><div>
<p>"Cloak of Darkness" is a brief example game that has been implemented in nearly every IF system currently used. It hasn't got much claim to complexity or richness, but it does exemplify many of the standard things one might want an IF language to be able to do: define descriptions and the results of actions, assign synonyms to nouns, create new verbs, handle darkness, track repeated acts, and so on.</p>
<p>Here is what the game looks like in Inform:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Cloak%20of%20Darkness%22%5Cn%5CnThe%20story%20headline%20is%20%22A%20basic%20IF%20demonstration.%22%5Cn%5CnUse%20scoring.%5Cn%5CnThe%20maximum%20score%20is%202.%5Cn%5Cn%5BWhatever%20room%20we%20define%20first%20becomes%20the%20starting%20room%20of%20the%20game,%20in%20the%20absence%20of%20other%20instructions:%5D%5Cn%5CnFoyer%20of%20the%20Opera%20House%20is%20a%20room.%20%20%22You%20are%20standing%20in%20a%20spacious%20hall,%20splendidly%20decorated%20in%20red%20and%20gold,%20with%20glittering%20chandeliers%20overhead.%20The%20entrance%20from%20the%20street%20is%20to%20the%20north,%20and%20there%20are%20doorways%20south%20and%20west.%22%5Cn%5CnInstead%20of%20going%20north%20in%20the%20Foyer,%20say%20%22You've%20only%20just%20arrived,%20and%20besides,%20the%20weather%20outside%20seems%20to%20be%20getting%20worse.%22%5Cn%5Cn%5BWe%20can%20add%20more%20rooms%20by%20specifying%20their%20relation%20to%20the%20first%20room.%20Unless%20we%20say%20otherwise,%20the%20connection%20will%20automatically%20be%20bidirectional,%20so%20%22The%20Cloakroom%20is%20west%20of%20the%20Foyer%22%20will%20also%20mean%20%22The%20Foyer%20is%20east%20of%20the%20Cloakroom%22:%5D%5Cn%5CnThe%20Cloakroom%20is%20west%20of%20the%20Foyer.%20%22The%20walls%20of%20this%20small%20room%20were%20clearly%20once%20lined%20with%20hooks,%20though%20now%20only%20one%20remains.%20The%20exit%20is%20a%20door%20to%20the%20east.%22%5Cn%5CnIn%20the%20Cloakroom%20is%20a%20supporter%20called%20the%20small%20brass%20hook.%20The%20hook%20is%20scenery.%20Understand%20%22peg%22%20as%20the%20hook.%5Cn%5Cn%5BInform%20will%20automatically%20understand%20any%20words%20in%20the%20object%20definition%20(%22small%22,%20%22brass%22,%20and%20%22hook%22,%20in%20this%20case),%20but%20we%20can%20add%20extra%20synonyms%20with%20this%20sort%20of%20Understand%20command.%5D%5Cn%5CnThe%20description%20of%20the%20hook%20is%20%22It's%20just%20a%20small%20brass%20hook,%20%5Bif%20something%20is%20on%20the%20hook%5Dwith%20%5Ba%20list%20of%20things%20on%20the%20hook%5D%20hanging%20on%20it%5Botherwise%5Dscrewed%20to%20the%20wall%5Bend%20if%5D.%22%5Cn%5Cn%5BThis%20description%20is%20general%20enough%20that,%20if%20we%20were%20to%20add%20other%20hangable%20items%20to%20the%20game,%20they%20would%20automatically%20be%20described%20correctly%20as%20well.%5D%5Cn%5CnThe%20Bar%20is%20south%20of%20the%20Foyer.%20The%20printed%20name%20of%20the%20bar%20is%20%22Foyer%20Bar%22.%20The%20Bar%20is%20dark.%20%20%22The%20bar,%20much%20rougher%20than%20you'd%20have%20guessed%20after%20the%20opulence%20of%20the%20foyer%20to%20the%20north,%20is%20completely%20empty.%20There%20seems%20to%20be%20some%20sort%20of%20message%20scrawled%20in%20the%20sawdust%20on%20the%20floor.%22%5Cn%5CnThe%20scrawled%20message%20is%20scenery%20in%20the%20Bar.%20Understand%20%22floor%22%20or%20%22sawdust%22%20as%20the%20message.%5Cn%5CnNeatness%20is%20a%20kind%20of%20value.%20The%20neatnesses%20are%20neat,%20scuffed,%20and%20trampled.%20The%20message%20has%20a%20neatness.%20The%20message%20is%20neat.%5Cn%5Cn%5BWe%20could%20if%20we%20wished%20use%20a%20number%20to%20indicate%20how%20many%20times%20the%20player%20has%20stepped%20on%20the%20message,%20but%20Inform%20also%20makes%20it%20easy%20to%20add%20descriptive%20properties%20of%20this%20sort,%20so%20that%20the%20code%20remains%20readable%20even%20when%20the%20reader%20does%20not%20know%20what%20%22the%20number%20of%20the%20message%22%20might%20mean.%5D%5Cn%5CnInstead%20of%20examining%20the%20message:%5Cn%5Ctincrement%20score;%5Cn%5Ctsay%20%22The%20message,%20neatly%20marked%20in%20the%20sawdust,%20reads...%22;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5Cn%5BThis%20second%20rule%20takes%20precedence%20over%20the%20first%20one%20whenever%20the%20message%20is%20trampled.%20Inform%20automatically%20applies%20whichever%20rule%20is%20most%20specific:%5D%5Cn%5CnInstead%20of%20examining%20the%20trampled%20message:%5Cn%5Ctsay%20%22The%20message%20has%20been%20carelessly%20trampled,%20making%20it%20difficult%20to%20read.%20You%20can%20just%20distinguish%20the%20words...%22;%5Cn%5Ctend%20the%20story%20saying%20%22You%20have%20lost%22.%5Cn%5Cn%5BThis%20command%20advances%20the%20state%20of%20the%20message%20from%20neat%20to%20scuffed%20and%20from%20scuffed%20to%20trampled.%20We%20can%20define%20any%20kinds%20of%20value%20we%20like%20and%20advance%20or%20decrease%20them%20in%20this%20way:%5D%5Cn%5CnInstead%20of%20doing%20something%20other%20than%20going%20in%20the%20bar%20when%20in%20darkness:%5Cn%5Ctif%20the%20message%20is%20not%20trampled,%20now%20the%20neatness%20of%20the%20message%20is%20the%20neatness%20after%20the%20neatness%20of%20the%20message;%5Cn%5Ctsay%20%22In%20the%20dark?%20You%20could%20easily%20disturb%20something.%22%5Cn%5CnInstead%20of%20going%20nowhere%20from%20the%20bar%20when%20in%20darkness:%5Cn%5Ctnow%20the%20message%20is%20trampled;%5Cn%5Ctsay%20%22Blundering%20around%20in%20the%20dark%20isn't%20a%20good%20idea!%22%5Cn%5Cn%5BThis%20defines%20an%20object%20which%20is%20worn%20at%20the%20start%20of%20play.%20Because%20we%20have%20said%20the%20player%20is%20wearing%20the%20item,%20Inform%20infers%20that%20it%20is%20clothing%20and%20can%20be%20taken%20off%20and%20put%20on%20again%20at%20will.%5D%5Cn%5CnThe%20player%20wears%20a%20velvet%20cloak.%20The%20cloak%20can%20be%20hung%20or%20unhung.%20Understand%20%22dark%22%20or%20%22black%22%20or%20%22satin%22%20as%20the%20cloak.%20The%20description%20of%20the%20cloak%20is%20%22A%20handsome%20cloak,%20of%20velvet%20trimmed%20with%20satin,%20and%20slightly%20splattered%20with%20raindrops.%20Its%20blackness%20is%20so%20deep%20that%20it%20almost%20seems%20to%20suck%20light%20from%20the%20room.%22%5Cn%5CnCarry%20out%20taking%20the%20cloak:%5Cn%5Ctnow%20the%20bar%20is%20dark.%5Cn%5CnCarry%20out%20putting%20the%20unhung%20cloak%20on%20something%20in%20the%20cloakroom:%5Cn%5Ctnow%20the%20cloak%20is%20hung;%5Cn%5Ctincrement%20score.%5Cn%5CnCarry%20out%20putting%20the%20cloak%20on%20something%20in%20the%20cloakroom:%5Cn%5Ctnow%20the%20bar%20is%20lit.%5Cn%5CnCarry%20out%20dropping%20the%20cloak%20in%20the%20cloakroom:%5Cn%5Ctnow%20the%20bar%20is%20lit.%5Cn%5CnInstead%20of%20dropping%20or%20putting%20the%20cloak%20on%20when%20the%20player%20is%20not%20in%20the%20cloakroom:%5Cn%5Ctsay%20%22This%20isn't%20the%20best%20place%20to%20leave%20a%20smart%20cloak%20lying%20around.%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22%5Bparagraph%20break%5DHurrying%20through%20the%20rainswept%20November%20night,%20you're%20glad%20to%20see%20the%20bright%20lights%20of%20the%20Opera%20House.%20It's%20surprising%20that%20there%20aren't%20more%20people%20about%20but,%20hey,%20what%20do%20you%20expect%20in%20a%20cheap%20demo%20game...?%22%5Cn%5CnUnderstand%20%22hang%20%5Bsomething%20preferably%20held%5D%20on%20%5Bsomething%5D%22%20as%20putting%20it%20on.%5Cn%5CnTest%20me%20with%20%22s%20/%20n%20/%20w%20/%20inventory%20/%20hang%20cloak%20on%20hook%20/%20e%20/%20s%20/%20read%20message%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Cloak of Darkness"
</p>
<p class="quoted">
The story headline is "A basic IF demonstration."
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
The maximum score is 2.
</p>
</div>
<p>Whatever room we define first becomes the starting room of the game, in the absence of other instructions:</p>

<div class="code">
<p class="quoted">
Foyer of the Opera House is a room.  "You are standing in a spacious hall, splendidly decorated in red and gold, with glittering chandeliers overhead. The entrance from the street is to the north, and there are doorways south and west."
</p>
<p class="quoted">
Instead of going north in the Foyer, say "You've only just arrived, and besides, the weather outside seems to be getting worse."
</p>
</div>
<p>We can add more rooms by specifying their relation to the first room. Unless we say otherwise, the connection will automatically be bidirectional, so "The Cloakroom is west of the Foyer" will also mean "The Foyer is east of the Cloakroom":</p>

<div class="code">
<p class="quoted">
The Cloakroom is west of the Foyer. "The walls of this small room were clearly once lined with hooks, though now only one remains. The exit is a door to the east."
</p>
<p class="quoted">
In the Cloakroom is a supporter called the small brass hook. The hook is scenery. Understand "peg" as the hook.
</p>
</div>
<p>Inform will automatically understand any words in the object definition ("small", "brass", and "hook", in this case), but we can add extra synonyms with this sort of Understand command.</p>

<div class="code"><p class="quoted">
The description of the hook is "It's just a small brass hook, [if something is on the hook]with [a list of things on the hook] hanging on it[otherwise]screwed to the wall[end if]."
</p></div>
<p>This description is general enough that, if we were to add other hangable items to the game, they would automatically be described correctly as well.</p>

<div class="code">
<p class="quoted">
The Bar is south of the Foyer. The printed name of the bar is "Foyer Bar". The Bar is dark.  "The bar, much rougher than you'd have guessed after the opulence of the foyer to the north, is completely empty. There seems to be some sort of message scrawled in the sawdust on the floor."
</p>
<p class="quoted">
The scrawled message is scenery in the Bar. Understand "floor" or "sawdust" as the message.
</p>
<p class="quoted">
Neatness is a kind of value. The neatnesses are neat, scuffed, and trampled. The message has a neatness. The message is neat.
</p>
</div>
<p>We could if we wished use a number to indicate how many times the player has stepped on the message, but Inform also makes it easy to add descriptive properties of this sort, so that the code remains readable even when the reader does not know what "the number of the message" might mean.</p>

<div class="code"><p class="quoted">
Instead of examining the message:
<br>    increment score;
<br>    say "The message, neatly marked in the sawdust, reads...";
<br>    end the story finally.
</p></div>
<p>This second rule takes precedence over the first one whenever the message is trampled. Inform automatically applies whichever rule is most specific:</p>

<div class="code"><p class="quoted">
Instead of examining the trampled message:
<br>    say "The message has been carelessly trampled, making it difficult to read. You can just distinguish the words...";
<br>    end the story saying "You have lost".
</p></div>
<p>This command advances the state of the message from neat to scuffed and from scuffed to trampled. We can define any kinds of value we like and advance or decrease them in this way:</p>

<div class="code">
<p class="quoted">
Instead of doing something other than going in the bar when in darkness:
<br>    if the message is not trampled, now the neatness of the message is the neatness after the neatness of the message;
<br>    say "In the dark? You could easily disturb something."
</p>
<p class="quoted">
Instead of going nowhere from the bar when in darkness:
<br>    now the message is trampled;
<br>    say "Blundering around in the dark isn't a good idea!"
</p>
</div>
<p>This defines an object which is worn at the start of play. Because we have said the player is wearing the item, Inform infers that it is clothing and can be taken off and put on again at will.</p>

<div class="code">
<p class="quoted">
The player wears a velvet cloak. The cloak can be hung or unhung. Understand "dark" or "black" or "satin" as the cloak. The description of the cloak is "A handsome cloak, of velvet trimmed with satin, and slightly splattered with raindrops. Its blackness is so deep that it almost seems to suck light from the room."
</p>
<p class="quoted">
Carry out taking the cloak:
<br>    now the bar is dark.
</p>
<p class="quoted">
Carry out putting the unhung cloak on something in the cloakroom:
<br>    now the cloak is hung;
<br>    increment score.
</p>
<p class="quoted">
Carry out putting the cloak on something in the cloakroom:
<br>    now the bar is lit.
</p>
<p class="quoted">
Carry out dropping the cloak in the cloakroom:
<br>    now the bar is lit.
</p>
<p class="quoted">
Instead of dropping or putting the cloak on when the player is not in the cloakroom:
<br>    say "This isn't the best place to leave a smart cloak lying around."
</p>
<p class="quoted">
When play begins:
<br>    say "[paragraph break]Hurrying through the rainswept November night, you're glad to see the bright lights of the Opera House. It's surprising that there aren't more people about but, hey, what do you expect in a cheap demo game...?"
</p>
<p class="quoted">
Understand "hang [something preferably held] on [something]" as putting it on.
</p>
<p class="quoted">
Test me with "s / n / w / inventory / hang cloak on hook / e / s / read message".
</p>
</div>
<p>And that's all. As always, type TEST ME to watch the scenario play itself out.</p>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.2">WI §17.2. New commands for old grammar</a><br><a href="rb_3.html#rb-3.7">RB §3.7. Lighting</a>
</div></details>
</div></section>
<section class="section" id="rb-3.8"><div>





<h3>RB §3.8. Sounds</h3>
<p>It is too easily assumed that room descriptions are what the player sees, but as <a href="rb_3.html#example-50" class="example-link" onClick="(function() { document.getElementById('example-50').setAttribute('open','open'); return true; })();">The Undertomb</a><span class="example-difficulty"> ★</span> demonstrates, they might just as easily include ambient sounds.</p>
<p>So Inform's "listening to" action is the audio equivalent of "examining", rather than "looking". Despite this the player can type LISTEN, which Inform understands as listening to the everything in the location at once. A simple but effective way to handle this is shown in <a href="rb_3.html#example-95" class="example-link" onClick="(function() { document.getElementById('example-95').setAttribute('open','open'); return true; })();">The Art of Noise</a><span class="example-difficulty"> ★★★</span>.</p>
<p><a href="rb_3.html#example-363" class="example-link" onClick="(function() { document.getElementById('example-363').setAttribute('open','open'); return true; })();">Four Stars 2</a><span class="example-difficulty"> ★</span> adjusts the idea of "visibility" to make it behave differently for listening purposes: this introduces a formal idea of "audibility".</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.7" class="crossreference_link">Lighting</a> for heightened hearing in darkness, and the rest of "Four Stars"</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-50"><summary><span class="example-summary">50. The Undertomb 1</span> <span class="example-difficulty">★</span></summary><div>
<p>This example creates a kind of room, "dead end", and gives each a textual description called its "river sound". Note the use of a text substitution to fill in the appropriate river sound text in each dead end.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Undertomb%22%5Cn%5CnA%20dead%20end%20is%20a%20kind%20of%20room%20with%20printed%20name%20%22Dead%20End%22%20and%20description%20%22This%20is%20a%20dead%20end.%20You'll%20have%20to%20go%20back%20the%20way%20you%20came,%20consoled%20only%20by%20%5Briver%20sound%5D.%22%20A%20dead%20end%20is%20usually%20dark.%5Cn%5CnThe%20Undertomb%20is%20a%20dark%20room.%20East%20is%20a%20dead%20end.%20South%20is%20a%20dead%20end%20with%20printed%20name%20%22Collapsed%20Dead%20End%22.%20Northwest%20is%20a%20dead%20end%20called%20the%20Tortuous%20Alcove.%20In%20the%20Undertomb%20is%20the%20lantern.%20It%20is%20lit.%5Cn%5CnA%20dead%20end%20has%20some%20text%20called%20river%20sound.%20The%20river%20sound%20of%20a%20dead%20end%20is%20usually%20%22a%20faint%20whispering%20of%20running%20water%22.%20The%20Tortuous%20Alcove%20has%20river%20sound%20%22a%20gurgle%20of%20running%20water%22.%5Cn%5CnTest%20me%20with%20%22get%20lantern%20/%20e%20/%20w%20/%20s%20/%20n%20/%20nw%20/%20se%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Undertomb"
</p>
<p class="quoted">
A dead end is a kind of room with printed name "Dead End" and description "This is a dead end. You'll have to go back the way you came, consoled only by [river sound]." A dead end is usually dark.
</p>
<p class="quoted">
The Undertomb is a dark room. East is a dead end. South is a dead end with printed name "Collapsed Dead End". Northwest is a dead end called the Tortuous Alcove. In the Undertomb is the lantern. It is lit.
</p>
<p class="quoted">
A dead end has some text called river sound. The river sound of a dead end is usually "a faint whispering of running water". The Tortuous Alcove has river sound "a gurgle of running water".
</p>
<p class="quoted">
Test me with "get lantern / e / w / s / n / nw / se".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.9">WI §4.9. Using new kinds of value in properties</a><br><a href="rb_3.html#rb-3.8">RB §3.8. Sounds</a>
</div></details><details class="full-example" id="example-363"><summary><span class="example-summary">363. Four Stars 2</span> <span class="example-difficulty">★</span></summary><div>
<p>As we have seen, a well-written understand rule will often solve the problem of allowing the player to apply specific actions to objects not normally in scope. When we need to adjust scope for some other reason than reading the player's command, though, "deciding the scope of..." may come in handy.</p>
<p>For instance, suppose we wanted to extend Four Stars 1 to add a tomcat on the balcony that will be heard whenever the player listens from the next room, as in:</p>

<div class="code"><p class="quoted">
&gt;listen
<br>You hear the soothing whalesong from the Bose speaker and the yowling from the tomcat.
</p></div>
<p>To do this, we need to make sure that in the rule that assembles our listening description,</p>

<div class="code"><p class="quoted">
Instead of listening to a room:
<br>    if an audible thing can be touched by the player, say "You hear [the list of audible things which can be touched by the player].";
<br>    otherwise say "A merciful peace prevails."
</p></div>
<p>now includes the tomcat in the "list of audible things which can be touched by the player".</p>
<p>To this end, we're going to change the way we assess scope, but only during the listening action. Otherwise the tomcat remains in the other room and off-limits. The new source text is marked out below:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Four%20Stars%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnA%20thing%20has%20some%20text%20called%20sound.%20The%20sound%20of%20a%20thing%20is%20usually%20%22silence%22.%5Cn%5CnThe%20report%20listening%20rule%20is%20not%20listed%20in%20the%20report%20listening%20to%20rules.%5Cn%5CnCarry%20out%20listening%20to%20something:%5Cn%5Ctsay%20%22From%20%5Bthe%20noun%5D%20you%20hear%20%5Bthe%20sound%20of%20the%20noun%5D.%22%5Cn%5CnInstead%20of%20listening%20to%20a%20room:%5Cn%5Ctif%20an%20audible%20thing%20can%20be%20touched%20by%20the%20player,%20say%20%22You%20hear%20%5Bthe%20list%20of%20audible%20things%20which%20can%20be%20touched%20by%20the%20player%5D.%22;%5Cn%5Ctotherwise%20say%20%22A%20merciful%20peace%20prevails.%22%5Cn%5CnDefinition:%20a%20thing%20is%20audible%20if%20the%20sound%20of%20it%20is%20not%20%22silence%22.%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20audible%20while%20listening%20to%20a%20room:%5Cn%5Ctsay%20%22%5Bsound%5D%20from%20the%20%22%5Cn%5Cn%5CnA%20thing%20has%20some%20text%20called%20scent.%20The%20scent%20of%20a%20thing%20is%20usually%20%22nothing%22.%5Cn%5CnThe%20report%20smelling%20rule%20is%20not%20listed%20in%20the%20report%20smelling%20rulebook.%5Cn%5CnCarry%20out%20smelling%20something:%5Cn%5Ctsay%20%22From%20%5Bthe%20noun%5D%20you%20smell%20%5Bscent%20of%20the%20noun%5D.%22%5Cn%5CnInstead%20of%20smelling%20a%20room:%5Cn%5Ctif%20a%20scented%20thing%20can%20be%20touched%20by%20the%20player,%20say%20%22You%20smell%20%5Bthe%20list%20of%20scented%20things%20which%20can%20be%20touched%20by%20the%20player%5D.%22;%5Cn%5Ctotherwise%20say%20%22The%20place%20is%20blissfully%20odorless.%22%5Cn%5CnDefinition:%20a%20thing%20is%20scented%20if%20the%20scent%20of%20it%20is%20not%20%22nothing%22.%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20scented%20while%20smelling%20a%20room:%20say%20%22%5Bscent%5D%20from%20the%20%22%5Cn%5Cn%5BHere%20is%20our%20addition:%5D%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player%20while%20listening%20or%20sleeping%20or%20looking:%5Cn%5Ctif%20in%20darkness:%5Cn%5Ct%5Ctrepeat%20with%20locale%20running%20through%20adjacent%20rooms:%5Cn%5Ct%5Ct%5Ctplace%20locale%20in%20scope.%5Cn%5CnA%20reaching%20inside%20rule%20while%20listening%20or%20sleeping%20or%20looking:%5Cn%5Ctrule%20succeeds.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Waning%20Moon%20Resort%20is%20a%20dark%20room.%20%22A%20spacious%20room%20with%20a%20flagstone%20floor,%20and%20a%20dreamcatcher%20hung%20over%20the%20king-size%20bed.%22%20The%20dreamcatcher%20is%20scenery%20in%20the%20Resort.%20The%20description%20is%20%22The%20usual%20web%20of%20threads%20and%20crystals,%20feathers%20and%20beads.%22%20Instead%20of%20taking%20the%20dreamcatcher,%20say%20%22Ah,%20ah%20--%20you%20might%20be%20tempted%20to%20take%20it%20as%20a%20souvenir,%20except%20that%20the%20price%20list%20in%20the%20minibar%20clearly%20states%20they%20charge%20%2465%20apiece%20if%20you%20walk%20off%20with%20one.%20Cheaper%20than%20stealing%20the%20Frette%20bathrobes,%20but%20still%20probably%20not%20a%20good%20idea.%22%5Cn%5Cn%5BAnd%20now%20our%20threat%20to%20the%20player's%20peace:%5D%5Cn%5CnThe%20Balcony%20is%20outside%20from%20the%20Resort.%20In%20the%20Balcony%20is%20a%20tomcat.%20The%20sound%20of%20the%20tomcat%20is%20%22yowling%22.%20After%20printing%20the%20name%20of%20the%20tomcat%20when%20the%20tomcat%20is%20not%20visible:%20say%20%22%20outside%20on%20the%20balcony%22.%5Cn%5Cn%5BFrom%20here%20we%20continue%20with%20the%20same%20scenario%20as%20before:%5D%5Cn%5CnThe%20king-size%20bed%20is%20an%20enterable%20supporter%20in%20the%20Resort.%20The%20description%20is%20%22200-thread-count%20Egyptian%20cotton%20sheets,%20according%20to%20the%20website.%20You%20would%20make%20fun,%20only%20they%20really%20are%20extraordinarily%20comfortable.%22%20The%20player%20is%20on%20the%20bed.%20A%20Lindt%20chocolate%20is%20on%20the%20bed.%20It%20is%20edible.%20The%20scent%20of%20the%20chocolate%20is%20%22chocolate-hazelnut%20smell%22.%5Cn%5CnInstead%20of%20exiting:%20say%20%22You%20are%20too%20weary%20to%20move.%22%5Cn%5CnThe%20suitcase%20is%20an%20openable%20closed%20container%20in%20the%20Resort.%5Cn%5CnAn%20electric%20light%20is%20a%20kind%20of%20device.%20Carry%20out%20switching%20on%20an%20electric%20light:%20now%20the%20noun%20is%20lit.%20Carry%20out%20switching%20off%20an%20electric%20light:%20now%20the%20noun%20is%20unlit.%20Understand%20%22light%22%20as%20an%20electric%20light.%5Cn%5CnThe%20solar%20lamp%20is%20an%20electric%20light%20in%20Waning%20Moon%20Resort.%20The%20description%20is%20%22Specially%20designed%20to%20give%20light%20in%20a%20spectrum%20resembling%20sunlight,%20to%20improve%20the%20mood%20and%20make%20a%20person%20energetic.%22%20The%20lamp%20is%20switched%20on%20and%20lit.%5Cn%5CnAn%20electric%20noisemaker%20is%20a%20kind%20of%20device.%20An%20electric%20noisemaker%20has%20some%20text%20called%20usual%20sound.%20The%20usual%20sound%20of%20an%20electric%20noisemaker%20is%20usually%20%22beepbeepbeep%22.%20Carry%20out%20switching%20on%20an%20electric%20noisemaker:%20now%20the%20sound%20of%20the%20noun%20is%20the%20usual%20sound%20of%20the%20noun.%20Report%20switching%20on%20an%20electric%20noisemaker:%20say%20%22%5BThe%20noun%5D%20goes%20%5Busual%20sound%20of%20the%20noun%5D!%22%20instead.%20Report%20switching%20off%20an%20electric%20noisemaker:%20say%20%22You%20switch%20off%20%5Bthe%20noun%5D,%20silencing%20the%20%5Busual%20sound%20of%20the%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20switching%20off%20an%20electric%20noisemaker:%20now%20the%20sound%20of%20the%20noun%20is%20%22silence%22.%5Cn%5CnThe%20bedside%20table%20is%20in%20the%20Resort.%20The%20table%20supports%20a%20potted%20plant%20and%20a%20Bose%20speaker.%20The%20scent%20of%20the%20potted%20plant%20is%20%22rosemary%22%5Cn%5CnThe%20Bose%20speaker%20is%20an%20electric%20noisemaker.%20The%20usual%20sound%20of%20the%20speaker%20is%20%22soothing%20whalesong%22.%20The%20sound%20of%20the%20speaker%20is%20%22soothing%20whalesong%22.%20The%20speaker%20is%20switched%20on.%5Cn%5CnInstead%20of%20touching%20a%20device:%20say%20%22You%20feel%20the%20surface%20of%20%5Bthe%20noun%5D%20and%20discover%20the%20switch.%22%5Cn%5CnInstead%20of%20touching%20a%20scented%20thing:%20say%20%22The%20brush%20of%20your%20fingers%20stirs%20loose%20a%20fresh%20cloud%20of%20%5Bscent%20of%20the%20noun%5D%20smell.%22%5Cn%5CnRule%20for%20printing%20the%20description%20of%20a%20dark%20room:%20try%20listening;%20try%20smelling;%20rule%20succeeds.%5Cn%5CnInstead%20of%20examining%20an%20audible%20thing%20while%20in%20darkness:%20try%20listening%20to%20the%20noun.%20Instead%20of%20examining%20something%20while%20in%20darkness:%20try%20touching%20the%20noun.%5Cn%5CnBefore%20touching%20something%20when%20in%20darkness:%5Cn%5Ctsay%20%22You%20grope%20about...%22%5Cn%5CnAfter%20inserting%20the%20plant%20into%20something:%5Cn%5Ctsay%20%22You%20unceremoniously%20dump%20%5Bthe%20noun%5D%20into%20%5Bthe%20second%20noun%5D,%20hoping%20it%20sustains%20no%20important%20damage%20thereby.%22%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20dark%20room:%20if%20the%20player%20can%20touch%20an%20audible%20thing,%20say%20%22Noisy%20%22;%20if%20the%20player%20can%20touch%20a%20scented%20thing,%20say%20%22Perfumed%20%22.%5Cn%5CnVisibility%20rule%20when%20in%20darkness:%5Cn%5Ctif%20examining%20something,%20there%20is%20sufficient%20light;%5Cn%5Ctthere%20is%20insufficient%20light.%5Cn%5CnRule%20for%20printing%20the%20announcement%20of%20darkness:%20say%20%22It%20is%20now%20pleasantly%20lightless%20in%20here.%22%20instead.%5Cn%5CnRule%20for%20deciding%20the%20scope%20of%20the%20player%20while%20in%20darkness:%20place%20the%20location%20in%20scope.%5Cn%5CnTo%20decide%20whether%20in%20daylight:%5Cn%5Ctif%20in%20darkness,%20no;%5Cn%5Ctyes.%5Cn%5CnInstead%20of%20sleeping%20when%20in%20daylight:%5Cn%5Ctsay%20%22You've%20never%20been%20able%20to%20sleep%20with%20the%20light%20on.%22%5Cn%5CnInstead%20of%20sleeping%20when%20the%20player%20can%20touch%20an%20audible%20thing%20(called%20the%20irritant):%5Cn%5Ctsay%20%22The%20steady%20%5Bsound%20of%20the%20irritant%5D%20from%20%5Bthe%20irritant%5D%20prevents%20your%20slumber.%22%5Cn%5CnInstead%20of%20sleeping%20when%20the%20player%20can%20touch%20a%20scented%20thing%20(called%20the%20irritant):%5Cn%5Ctif%20the%20irritant%20is%20chocolate,%20say%20%22The%20smell%20of%20chocolate%20continues%20to%20tantalize%20you,%20keeping%20you%20from%20sleep.%22;%5Cn%5Ctotherwise%20say%20%22You%20sniffle.%20%5BThe%20irritant%5D%20is%20probably%20acting%20on%20your%20allergies.%22%5Cn%5CnInstead%20of%20sleeping:%5Cn%5Ctsay%20%22You%20slip%20easily%20into%20the%20arms%20of%20Morpheus.%22;%5Cn%5Ctend%20the%20story%20finally%20saying%20%22At%20last...%22%5Cn%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22You%20have%20at%20last%20escaped%20from%20the%20airport%20and%20gotten%20through%20customs;%20survived%20an%20unnerving%20taxi%20ride%20over%20icy%20highways;%20stared%20down%20the%20impertinent%20concierge;%20endured%20the%20bellhop's%20catalog%20of%20features%20in%20your%20room;%20and%20achieved,%20finally,%20a%20moment%20of%20peace.%20Time%20for%20a%20good%20night's%20slumber!%22%5Cn%5CnTest%20me%20with%20%22listen%20/%20x%20dreamcatcher%20/%20switch%20lamp%20off%20/%20look%20/%20sleep%20/%20eat%20chocolate%20/%20sleep%20/%20get%20plant%20/%20examine%20plant%20/%20open%20suitcase%20/%20put%20plant%20in%20suitcase%20/%20close%20suitcase%20/%20sleep%20/%20look%20/%20examine%20bose%20/%20switch%20bose%20off%20/%20sleep%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Four Stars"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
A thing has some text called sound. The sound of a thing is usually "silence".
</p>
<p class="quoted">
The report listening rule is not listed in the report listening to rules.
</p>
<p class="quoted">
Carry out listening to something:
<br>    say "From [the noun] you hear [the sound of the noun]."
</p>
<p class="quoted">
Instead of listening to a room:
<br>    if an audible thing can be touched by the player, say "You hear [the list of audible things which can be touched by the player].";
<br>    otherwise say "A merciful peace prevails."
</p>
<p class="quoted">
Definition: a thing is audible if the sound of it is not "silence".
</p>
<p class="quoted">
Before printing the name of something audible while listening to a room:
<br>    say "[sound] from the "
</p>
<p class="quoted">
A thing has some text called scent. The scent of a thing is usually "nothing".
</p>
<p class="quoted">
The report smelling rule is not listed in the report smelling rulebook.
</p>
<p class="quoted">
Carry out smelling something:
<br>    say "From [the noun] you smell [scent of the noun]."
</p>
<p class="quoted">
Instead of smelling a room:
<br>    if a scented thing can be touched by the player, say "You smell [the list of scented things which can be touched by the player].";
<br>    otherwise say "The place is blissfully odorless."
</p>
<p class="quoted">
Definition: a thing is scented if the scent of it is not "nothing".
</p>
<p class="quoted">
Before printing the name of something scented while smelling a room: say "[scent] from the "
</p>
</div>
<p>Here is our addition:</p>

<div class="code">
<p class="quoted">
After deciding the scope of the player while listening or sleeping or looking:
<br>    if in darkness:
<br>        repeat with locale running through adjacent rooms:
<br>            place locale in scope.
</p>
<p class="quoted">
A reaching inside rule while listening or sleeping or looking:
<br>    rule succeeds.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Waning Moon Resort is a dark room. "A spacious room with a flagstone floor, and a dreamcatcher hung over the king-size bed." The dreamcatcher is scenery in the Resort. The description is "The usual web of threads and crystals, feathers and beads." Instead of taking the dreamcatcher, say "Ah, ah -- you might be tempted to take it as a souvenir, except that the price list in the minibar clearly states they charge $65 apiece if you walk off with one. Cheaper than stealing the Frette bathrobes, but still probably not a good idea."
</p>
</div>
<p>And now our threat to the player's peace:</p>

<div class="code"><p class="quoted">
The Balcony is outside from the Resort. In the Balcony is a tomcat. The sound of the tomcat is "yowling". After printing the name of the tomcat when the tomcat is not visible: say " outside on the balcony".
</p></div>
<p>From here we continue with the same scenario as before:</p>

<div class="code">
<p class="quoted">
The king-size bed is an enterable supporter in the Resort. The description is "200-thread-count Egyptian cotton sheets, according to the website. You would make fun, only they really are extraordinarily comfortable." The player is on the bed. A Lindt chocolate is on the bed. It is edible. The scent of the chocolate is "chocolate-hazelnut smell".
</p>
<p class="quoted">
Instead of exiting: say "You are too weary to move."
</p>
<p class="quoted">
The suitcase is an openable closed container in the Resort.
</p>
<p class="quoted">
An electric light is a kind of device. Carry out switching on an electric light: now the noun is lit. Carry out switching off an electric light: now the noun is unlit. Understand "light" as an electric light.
</p>
<p class="quoted">
The solar lamp is an electric light in Waning Moon Resort. The description is "Specially designed to give light in a spectrum resembling sunlight, to improve the mood and make a person energetic." The lamp is switched on and lit.
</p>
<p class="quoted">
An electric noisemaker is a kind of device. An electric noisemaker has some text called usual sound. The usual sound of an electric noisemaker is usually "beepbeepbeep". Carry out switching on an electric noisemaker: now the sound of the noun is the usual sound of the noun. Report switching on an electric noisemaker: say "[The noun] goes [usual sound of the noun]!" instead. Report switching off an electric noisemaker: say "You switch off [the noun], silencing the [usual sound of the noun]." instead.
</p>
<p class="quoted">
Carry out switching off an electric noisemaker: now the sound of the noun is "silence".
</p>
<p class="quoted">
The bedside table is in the Resort. The table supports a potted plant and a Bose speaker. The scent of the potted plant is "rosemary"
</p>
<p class="quoted">
The Bose speaker is an electric noisemaker. The usual sound of the speaker is "soothing whalesong". The sound of the speaker is "soothing whalesong". The speaker is switched on.
</p>
<p class="quoted">
Instead of touching a device: say "You feel the surface of [the noun] and discover the switch."
</p>
<p class="quoted">
Instead of touching a scented thing: say "The brush of your fingers stirs loose a fresh cloud of [scent of the noun] smell."
</p>
<p class="quoted">
Rule for printing the description of a dark room: try listening; try smelling; rule succeeds.
</p>
<p class="quoted">
Instead of examining an audible thing while in darkness: try listening to the noun. Instead of examining something while in darkness: try touching the noun.
</p>
<p class="quoted">
Before touching something when in darkness:
<br>    say "You grope about..."
</p>
<p class="quoted">
After inserting the plant into something:
<br>    say "You unceremoniously dump [the noun] into [the second noun], hoping it sustains no important damage thereby."
</p>
<p class="quoted">
Before printing the name of a dark room: if the player can touch an audible thing, say "Noisy "; if the player can touch a scented thing, say "Perfumed ".
</p>
<p class="quoted">
Visibility rule when in darkness:
<br>    if examining something, there is sufficient light;
<br>    there is insufficient light.
</p>
<p class="quoted">
Rule for printing the announcement of darkness: say "It is now pleasantly lightless in here." instead.
</p>
<p class="quoted">
Rule for deciding the scope of the player while in darkness: place the location in scope.
</p>
<p class="quoted">
To decide whether in daylight:
<br>    if in darkness, no;
<br>    yes.
</p>
<p class="quoted">
Instead of sleeping when in daylight:
<br>    say "You've never been able to sleep with the light on."
</p>
<p class="quoted">
Instead of sleeping when the player can touch an audible thing (called the irritant):
<br>    say "The steady [sound of the irritant] from [the irritant] prevents your slumber."
</p>
<p class="quoted">
Instead of sleeping when the player can touch a scented thing (called the irritant):
<br>    if the irritant is chocolate, say "The smell of chocolate continues to tantalize you, keeping you from sleep.";
<br>    otherwise say "You sniffle. [The irritant] is probably acting on your allergies."
</p>
<p class="quoted">
Instead of sleeping:
<br>    say "You slip easily into the arms of Morpheus.";
<br>    end the story finally saying "At last..."
</p>
<p class="quoted">
When play begins:
<br>    say "You have at last escaped from the airport and gotten through customs; survived an unnerving taxi ride over icy highways; stared down the impertinent concierge; endured the bellhop's catalog of features in your room; and achieved, finally, a moment of peace. Time for a good night's slumber!"
</p>
<p class="quoted">
Test me with "listen / x dreamcatcher / switch lamp off / look / sleep / eat chocolate / sleep / get plant / examine plant / open suitcase / put plant in suitcase / close suitcase / sleep / look / examine bose / switch bose off / sleep".
</p>
</div>
<p>Of course, this new version is less happy for the player, as we haven't included any way to silence the cat.</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.29">WI §18.29. Deciding the scope of something</a><br><a href="rb_3.html#rb-3.8">RB §3.8. Sounds</a>
</div></details><details class="full-example" id="example-95"><summary><span class="example-summary">95. The Art of Noise</span> <span class="example-difficulty">★★★</span></summary><div>
<p>This example involves redesigning the LISTEN command, removing its built-in function and replacing that with something more ambitious. We will learn more about how to do this later on.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Art%20of%20Noise%22%5Cn%5CnA%20thing%20has%20some%20text%20called%20sound.%20The%20sound%20of%20a%20thing%20is%20usually%20%22silence%22.%5Cn%5CnThe%20report%20listening%20rule%20is%20not%20listed%20in%20the%20report%20listening%20to%20rules.%5Cn%5CnCarry%20out%20listening%20to%20something:%5Cn%5Ctsay%20%22From%20%5Bthe%20noun%5D%20you%20hear%20%5Bthe%20sound%20of%20the%20noun%5D.%22%5Cn%5CnInstead%20of%20listening%20to%20a%20room:%5Cn%5Ctif%20an%20audible%20thing%20can%20be%20touched%20by%20the%20player,%20say%20%22You%20hear%20%5Bthe%20list%20of%20audible%20things%20which%20can%20be%20touched%20by%20the%20player%5D.%22;%5Cn%5Ctotherwise%20say%20%22Nothing%20of%20note.%22%5Cn%5CnDefinition:%20a%20thing%20is%20audible%20if%20the%20sound%20of%20it%20is%20not%20%22silence%22.%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20audible%20while%20listening%20to%20a%20room:%5Cn%5Ctsay%20%22%5Bsound%5D%20from%20the%20%22%5Cn%5CnThe%20Sharper%20Image%20is%20a%20room.%20The%20pet%20rock%20is%20a%20thing%20in%20the%20Sharper%20Image.%20The%20toy%20car%20is%20a%20thing%20in%20the%20Sharper%20Image.%20The%20sound%20of%20the%20car%20is%20%22whirring%20and%20zooming%22.%20The%20plastic%20widget%20is%20a%20thing%20in%20the%20Sharper%20Image.%20The%20sound%20of%20the%20plastic%20widget%20is%20%22bleeps%20and%20bloops%22.%20The%20pointless%20gadget%20is%20a%20thing%20in%20Sharper%20Image.%20The%20sound%20of%20the%20pointless%20gadget%20is%20%22buzzbuzzbuzz%22.%5Cn%5CnThe%20soundproof%20case%20is%20a%20transparent%20openable%20container%20in%20the%20Sharper%20Image.%20It%20is%20closed%20and%20fixed%20in%20place.%5Cn%5CnTest%20me%20with%20%22listen%20/%20listen%20to%20rock%20/%20listen%20to%20car%20/%20get%20all%20/%20open%20case%20/%20put%20all%20in%20case%20/%20listen%20/%20close%20case%20/%20listen%20/%20listen%20to%20car%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Art of Noise"
</p>
<p class="quoted">
A thing has some text called sound. The sound of a thing is usually "silence".
</p>
<p class="quoted">
The report listening rule is not listed in the report listening to rules.
</p>
<p class="quoted">
Carry out listening to something:
<br>    say "From [the noun] you hear [the sound of the noun]."
</p>
<p class="quoted">
Instead of listening to a room:
<br>    if an audible thing can be touched by the player, say "You hear [the list of audible things which can be touched by the player].";
<br>    otherwise say "Nothing of note."
</p>
<p class="quoted">
Definition: a thing is audible if the sound of it is not "silence".
</p>
<p class="quoted">
Before printing the name of something audible while listening to a room:
<br>    say "[sound] from the "
</p>
<p class="quoted">
The Sharper Image is a room. The pet rock is a thing in the Sharper Image. The toy car is a thing in the Sharper Image. The sound of the car is "whirring and zooming". The plastic widget is a thing in the Sharper Image. The sound of the plastic widget is "bleeps and bloops". The pointless gadget is a thing in Sharper Image. The sound of the pointless gadget is "buzzbuzzbuzz".
</p>
<p class="quoted">
The soundproof case is a transparent openable container in the Sharper Image. It is closed and fixed in place.
</p>
<p class="quoted">
Test me with "listen / listen to rock / listen to car / get all / open case / put all in case / listen / close case / listen / listen to car".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.7">WI §7.7. The other four senses</a><br><a href="rb_3.html#rb-3.8">RB §3.8. Sounds</a>
</div></details>
</div></section>
<section class="section" id="rb-3.9"><div>





<h3>RB §3.9. Passers-By, Weather and Astronomical Events</h3>
<p>Out of doors, nature is seldom still. Clouds scull by at random, as in <a href="rb_3.html#example-129" class="example-link" onClick="(function() { document.getElementById('example-129').setAttribute('open','open'); return true; })();">Weathering</a><span class="example-difficulty"> ★</span>, and provide some variety in what would otherwise be lifelessly static room descriptions. In much the same way, passers-by and other diversions make a city street a constant bustle: see <a href="rb_3.html#example-132" class="example-link" onClick="(function() { document.getElementById('example-132').setAttribute('open','open'); return true; })();">Uptown Girls</a><span class="example-difficulty"> ★★★</span> for this human breeze. A more nagging sense of atmosphere can be experienced in <a href="rb_3.html#example-157" class="example-link" onClick="(function() { document.getElementById('example-157').setAttribute('open','open'); return true; })();">Full Moon</a><span class="example-difficulty"> ★</span>.</p>
<p><a href="rb_3.html#example-120" class="example-link" onClick="(function() { document.getElementById('example-120').setAttribute('open','open'); return true; })();">Orange Cones</a><span class="example-difficulty"> ★★★</span> offers traffic that is present on every road in the story unless a room is marked off with orange cones -- and this is allowed to change during play.</p>
<p><a href="rb_3.html#example-164" class="example-link" onClick="(function() { document.getElementById('example-164').setAttribute('open','open'); return true; })();">Night and Day</a><span class="example-difficulty"> ★</span> and <a href="rb_3.html#example-144" class="example-link" onClick="(function() { document.getElementById('example-144').setAttribute('open','open'); return true; })();">Totality</a><span class="example-difficulty"> ★★</span> each schedule celestial events to provide a changing display in the sky above, and this time running like clockwork rather than at random.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_4.html#rb-4.4" class="crossreference_link">Scene Changes</a> for meteors and a moon-rise</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-129"><summary><span class="example-summary">129. Weathering</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Weathering%22%5Cn%5CnA%20cloud%20pattern%20is%20a%20kind%20of%20value.%20The%20cloud%20patterns%20are%20cumulus,%20altocumulus,%20cumulonimbus,%20stratus,%20cirrus,%20nimbus,%20nimbostratus.%5Cn%5CnThe%20Mount%20Pisgah%20Station%20is%20a%20room.%20%22The%20rocky%20peak%20of%20Mt.%20Pisgah%20(altitude%20872m)%20is%20graced%20only%20by%20an%20automatic%20weather%20station.%20The%20clouds,%20close%20enough%20almost%20to%20touch,%20are%20%5Ba%20random%20cloud%20pattern%5D.%20Temperature:%20%5Ba%20random%20number%20from%207%20to%2017%5D%20degrees,%20barometric%20pressure:%20%5B950%20%20%20a%20random%20number%20from%200%20to%2015%5D%20millibars.%22%5Cn%5CnTest%20me%20with%20%22look%20/%20look%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Weathering"
</p>
<p class="quoted">
A cloud pattern is a kind of value. The cloud patterns are cumulus, altocumulus, cumulonimbus, stratus, cirrus, nimbus, nimbostratus.
</p>
<p class="quoted">
The Mount Pisgah Station is a room. "The rocky peak of Mt. Pisgah (altitude 872m) is graced only by an automatic weather station. The clouds, close enough almost to touch, are [a random cloud pattern]. Temperature: [a random number from 7 to 17] degrees, barometric pressure: [950 + a random number from 0 to 15] millibars."
</p>
<p class="quoted">
Test me with "look / look / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.18">WI §8.18. Randomness</a><br><a href="rb_3.html#rb-3.9">RB §3.9. Passers-By, Weather and Astronomical Events</a>
</div></details><details class="full-example" id="example-157"><summary><span class="example-summary">157. Full Moon</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Full%20Moon%22%5Cn%5CnWolf%20Pursuit%20is%20a%20scene.%20Wolf%20Pursuit%20begins%20when%20play%20begins.%5Cn%5CnEvery%20turn%20during%20Wolf%20Pursuit,%20say%20%22%5Bone%20of%5DA%20twig%20snaps%20behind%20you!%5Bor%5DThe%20wind%20howls%20in%20your%20ears.%5Bor%5DYou%20feel%20chilly.%5Bat%20random%5D%22.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22You%20have%20lost%20your%20spectacles,%20and%20the%20lamp,%20and%20can%20see%20barely%20further%20than%20the%20next%20tree.%20Roots%20keep%20trying%20to%20trip%20you,%20too...%22%5Cn%5CnThe%20Dark%20Forest%20is%20a%20room.%20%22You%20are%20mostly%20aware%20that%20you%20are%20not%20as%20alone%20here%20as%20you%20would%20like,%20and%20that%20the%20ground%20is%20uneven.%22%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20z%20/%20z%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Full Moon"
</p>
<p class="quoted">
Wolf Pursuit is a scene. Wolf Pursuit begins when play begins.
</p>
<p class="quoted">
Every turn during Wolf Pursuit, say "[one of]A twig snaps behind you![or]The wind howls in your ears.[or]You feel chilly.[at random]".
</p>
<p class="quoted">
When play begins:
<br>    say "You have lost your spectacles, and the lamp, and can see barely further than the next tree. Roots keep trying to trip you, too..."
</p>
<p class="quoted">
The Dark Forest is a room. "You are mostly aware that you are not as alone here as you would like, and that the ground is uneven."
</p>
<p class="quoted">
Test me with "z / z / z / z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_10.html#wi-10.4">WI §10.4. During scenes</a><br><a href="rb_3.html#rb-3.9">RB §3.9. Passers-By, Weather and Astronomical Events</a>
</div></details><details class="full-example" id="example-164"><summary><span class="example-summary">164. Night and Day</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we want to have a sequence of nights and days in our game, with one scene to govern each daylight condition.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Night%20and%20Day%22%5Cn%5CnThe%20sun%20is%20a%20backdrop.%20It%20is%20everywhere.%20The%20description%20is%20%22Currently%20out%20of%20sight.%22%5Cn%5CnNight%20is%20a%20recurring%20scene.%20Night%20begins%20when%20play%20begins.%20Night%20begins%20when%20Dusk%20ends.%20Night%20ends%20when%20the%20time%20since%20Night%20began%20is%203%20minutes.%5Cn%5Cn%5BNotice%20that%20our%20two%20conditions%20for%20the%20beginning%20of%20Night%20are%20not%20in%20conflict:%20it%20will%20be%20night-time%20when%20the%20game%20begins,%20and%20then%20night%20will%20also%20recur%20every%20time%20the%20Dusk%20scene%20ends.%5D%5Cn%5CnWhen%20Night%20begins:%5Cn%5Ctsay%20%22The%20sun%20falls%20below%20the%20horizon%20and%20the%20temperature%20drops%20abruptly%20to%20well%20below%20zero.%22;%5Cn%5Ctnow%20the%20description%20of%20the%20sun%20is%20%22Currently%20out%20of%20sight.%22%5Cn%5CnDawn%20is%20a%20recurring%20scene.%20Dawn%20begins%20when%20Night%20ends.%20Dawn%20ends%20when%20the%20time%20since%20Dawn%20began%20is%201%20minute.%5Cn%5CnWhen%20Dawn%20begins:%5Cn%5Ctsay%20%22The%20sun%20appears%20on%20the%20horizon.%22;%5Cn%5Ctnow%20the%20description%20of%20the%20sun%20is%20%22It%20is%20tiny%20and%20weak.%22.%5Cn%5CnDay%20is%20a%20recurring%20scene.%20Day%20begins%20when%20Dawn%20ends.%20Day%20ends%20when%20the%20time%20since%20Day%20began%20is%203%20minutes.%5Cn%5CnWhen%20Day%20begins:%5Cn%5Ctsay%20%22The%20sun%20is%20now%20properly%20up.%22%5Cn%5CnDusk%20is%20a%20recurring%20scene.%20Dusk%20begins%20when%20Day%20ends.%20Dusk%20ends%20when%20the%20time%20since%20Dusk%20began%20is%201%20minute.%5Cn%5CnWhen%20Dusk%20begins:%5Cn%5Ctsay%20%22The%20sun%20has%20passed%20across%20the%20sky%20and%20is%20on%20the%20verge%20of%20setting.%22%5Cn%5CnCratered%20Landscape%20is%20a%20room.%20%22The%20ground%20here%20is%20%5Bif%20Night%20is%20happening%5Ddim%20silver,%20with%20the%20craters%20visible%20as%20darker%20splotches%5Botherwise%5Dthe%20color%20of%20dried%20blood;%20here%20and%20there%20it%20is%20also%20rippled%20by%20impact%20craters%5Bend%20if%5D.%20The%20horizon%20curves%20visibly.%22%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20z%20/%20look%20/%20x%20sun%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Night and Day"
</p>
<p class="quoted">
The sun is a backdrop. It is everywhere. The description is "Currently out of sight."
</p>
<p class="quoted">
Night is a recurring scene. Night begins when play begins. Night begins when Dusk ends. Night ends when the time since Night began is 3 minutes.
</p>
</div>
<p>Notice that our two conditions for the beginning of Night are not in conflict: it will be night-time when the game begins, and then night will also recur every time the Dusk scene ends.</p>

<div class="code">
<p class="quoted">
When Night begins:
<br>    say "The sun falls below the horizon and the temperature drops abruptly to well below zero.";
<br>    now the description of the sun is "Currently out of sight."
</p>
<p class="quoted">
Dawn is a recurring scene. Dawn begins when Night ends. Dawn ends when the time since Dawn began is 1 minute.
</p>
<p class="quoted">
When Dawn begins:
<br>    say "The sun appears on the horizon.";
<br>    now the description of the sun is "It is tiny and weak.".
</p>
<p class="quoted">
Day is a recurring scene. Day begins when Dawn ends. Day ends when the time since Day began is 3 minutes.
</p>
<p class="quoted">
When Day begins:
<br>    say "The sun is now properly up."
</p>
<p class="quoted">
Dusk is a recurring scene. Dusk begins when Day ends. Dusk ends when the time since Dusk began is 1 minute.
</p>
<p class="quoted">
When Dusk begins:
<br>    say "The sun has passed across the sky and is on the verge of setting."
</p>
<p class="quoted">
Cratered Landscape is a room. "The ground here is [if Night is happening]dim silver, with the craters visible as darker splotches[otherwise]the color of dried blood; here and there it is also rippled by impact craters[end if]. The horizon curves visibly."
</p>
<p class="quoted">
Test me with "z / z / z / look / x sun / z / z / z / z / z / z / z".
</p>
</div>
<p>If we run this example and then have a look at the scenes index, we'll see that the cycle is listed through thus:</p>

<div class="code"><p class="quoted">
Night (recurring)
<br>    Dawn (recurring)
<br>        Day (recurring)
<br>            Dusk (recurring)
<br>                Night
</p></div>
<p>with the second "Night" in italics, to indicate that it is a repetition of the same scene that has already been listed above.</p>
</div>
<div class="linkback">
<a href="wi_10.html#wi-10.7">WI §10.7. Multiple beginnings and repeats</a><br><a href="rb_3.html#rb-3.9">RB §3.9. Passers-By, Weather and Astronomical Events</a>
</div></details><details class="full-example" id="example-144"><summary><span class="example-summary">144. Totality</span> <span class="example-difficulty">★★</span></summary><div>
<p>First we define the events, and then we create a phrase to schedule them:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Totality%22%5Cn%5CnAt%20the%20time%20when%20the%20penumbra%20appears:%5Cn%5Ctsay%20%22The%20sunlight%20dies%20away%20to%20an%20eerie,%20brownish%20penumbra.%22%5Cn%5CnAt%20the%20time%20when%20the%20eclipse%20begins:%5Cn%5Ctsay%20%22The%20moon%20passes%20across%20the%20disc%20of%20the%20sun,%20plunging%20the%20world%20into%20darkness.%22;%5Cn%5Ctnow%20the%20Chamber%20is%20dark.%5Cn%5CnAt%20the%20time%20when%20the%20eclipse%20ends:%5Cn%5Ctsay%20%22The%20moon%20passes%20away%20from%20the%20sun,%20and%20a%20gloomy%20penumbral%20light%20returns.%22;%5Cn%5Ctnow%20the%20Chamber%20is%20lighted.%5Cn%5CnAt%20the%20time%20when%20normal%20sunlight%20returns:%5Cn%5Ctsay%20%22The%20sun%20shines%20once%20more%20bright%20in%20the%20sky,%20not%20to%20be%20eclipsed%20again%20on%20this%20spot%20for%20another%20thirty-seven%20years.%22%5Cn%5CnTo%20schedule%20an%20eclipse%20for%20(totality%20-%20a%20time):%5Cn%5Ctthe%20penumbra%20appears%20at%20two%20minutes%20before%20totality;%5Cn%5Ctthe%20eclipse%20begins%20at%20totality;%5Cn%5Ctthe%20eclipse%20ends%20at%20three%20minutes%20after%20totality;%5Cn%5Ctnormal%20sunlight%20returns%20at%20five%20minutes%20after%20totality.%5Cn%5Cn%5BNow%20we%20make%20use%20of%20the%20new%20phrase:%5D%5Cn%5CnWhen%20play%20begins,%20schedule%20an%20eclipse%20for%203:27%20PM.%5Cn%5CnThe%20Chamber%20is%20a%20room.%5Cn%5CnThe%20time%20of%20day%20is%203:25%20PM.%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Totality"
</p>
<p class="quoted">
At the time when the penumbra appears:
<br>    say "The sunlight dies away to an eerie, brownish penumbra."
</p>
<p class="quoted">
At the time when the eclipse begins:
<br>    say "The moon passes across the disc of the sun, plunging the world into darkness.";
<br>    now the Chamber is dark.
</p>
<p class="quoted">
At the time when the eclipse ends:
<br>    say "The moon passes away from the sun, and a gloomy penumbral light returns.";
<br>    now the Chamber is lighted.
</p>
<p class="quoted">
At the time when normal sunlight returns:
<br>    say "The sun shines once more bright in the sky, not to be eclipsed again on this spot for another thirty-seven years."
</p>
<p class="quoted">
To schedule an eclipse for (totality - a time):
<br>    the penumbra appears at two minutes before totality;
<br>    the eclipse begins at totality;
<br>    the eclipse ends at three minutes after totality;
<br>    normal sunlight returns at five minutes after totality.
</p>
</div>
<p>Now we make use of the new phrase:</p>

<div class="code">
<p class="quoted">
When play begins, schedule an eclipse for 3:27 PM.
</p>
<p class="quoted">
The Chamber is a room.
</p>
<p class="quoted">
The time of day is 3:25 PM.
</p>
<p class="quoted">
Test me with "z / z / z / z / z / z / z / z / z".
</p>
</div>
<p>We shall see much more about creating phrases later. Their advantage is that they enable a complicated sequence of operations to be given a meaningful name, and that they can be re-used many times as needed.</p>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.11">WI §9.11. Future events</a><br><a href="rb_3.html#rb-3.9">RB §3.9. Passers-By, Weather and Astronomical Events</a>
</div></details><details class="full-example" id="example-120"><summary><span class="example-summary">120. Orange Cones</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Because we can invent our own adjectives (see the chapter on Phrases), we can make the conditions for a backdrop as simple or as complicated as we like.</p>
<p>In this scenario, we want the player to be able to take, move, and drop orange traffic cones to seal off one street or another. So we create our own "accessible" adjective as follows:</p>

<div class="code"><p class="quoted">
Definition: a road is accessible if the orange cones are not in it.
</p></div>
<p>...and now</p>

<div class="code"><p class="quoted">
move the traffic backdrop to all accessible roads.
</p></div>
<p>will tell the traffic backdrop where to appear.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Orange%20Cones%22%5Cn%5CnA%20road%20is%20a%20kind%20of%20room.%5Cn%5CnThe%20traffic%20is%20a%20backdrop.%20It%20is%20not%20scenery.%20The%20initial%20appearance%20is%20%22Dense%20traffic%20snarls%20the%20streets,%20making%20it%20difficult%20to%20cross%20even%20with%20the%20lights.%20Men%20on%20motorbikes%20edge%20between%20the%20cars,%20and%20sometimes%20pull%20up%20onto%20the%20sidewalks%20to%20go%20around.%22%20The%20description%20is%20%22It%20is%20more%20or%20less%20as%20usual%20for%20this%20time%20of%20day.%20It's%20a%20wonder%20it%20ever%20dissipates,%20really.%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctmove%20the%20traffic%20backdrop%20to%20all%20accessible%20roads.%5Cn%5CnA%20line%20of%20orange%20cones%20are%20a%20thing.%5Cn%5CnDefinition:%20a%20road%20is%20accessible%20if%20the%20orange%20cones%20are%20not%20in%20it.%5Cn%5CnAfter%20dropping%20the%20orange%20cones%20in%20a%20road:%5Cn%5Ctsay%20%22With%20steely%20determination%20you%20begin%20to%20lay%20out%20the%20orange%20cones,%20blocking%20access%20to%20this%20segment%20of%20street.%20This%20produces%20honking%20and%20swearing%20--%20but%20you%20persevere.%22;%5Cn%5Ctupdate%20backdrop%20positions.%5Cn%5CnAfter%20taking%20the%20orange%20cones:%5Cn%5Ctsay%20%22You%20go%20around%20taking%20up%20the%20orange%20cones,%20and%20within%20moments%20the%20traffic%20begins%20to%20flow%20into%20the%20street%20again.%22;%5Cn%5Ctupdate%20backdrop%20positions.%5Cn%5Cn%5BThat%20accomplishes%20everything%20we%20set%20out%20to%20do,%20but%20let's%20add%20a%20very%20simple%20puzzle%20to%20test%20it%20out%20with:%5D%5Cn%5CnThe%20Town%20Square%20is%20a%20road.%20North%20of%20the%20Town%20Square%20is%20Candle%20Street.%20Candle%20Street%20is%20a%20road.%20East%20of%20Town%20Square%20is%20Mortar%20Street.%20Mortar%20Street%20is%20a%20road.%5Cn%5CnThe%20line%20of%20orange%20cones%20are%20in%20Mortar%20Street.%5Cn%5CnThe%20player%20wears%20a%20reflective%20vest%20and%20a%20hard%20hat.%5Cn%5CnThe%20manhole%20cover%20is%20a%20door.%20%22%5Bif%20location%20is%20accessible%5DUnder%20the%20cars%20in%20the%20middle%20of%20the%20street,%20you%20can%20just%20make%20out%20the%20cover%20of%20the%20manhole%20you%20need%20to%20get%20into.%5Botherwise%5DThere's%20a%20promising%20manhole%20in%20the%20middle%20of%20the%20street.%5Bend%20if%5D%22.%20It%20is%20closed%20and%20openable.%20It%20is%20below%20the%20Town%20Square%20and%20above%20the%20Access%20Tunnel.%5Cn%5CnInstead%20of%20opening%20the%20manhole%20cover%20when%20the%20location%20is%20an%20accessible%20road:%5Cn%5Ctsay%20%22You%20can't%20get%20anywhere%20near%20the%20manhole%20cover%20with%20all%20these%20cars%20above%20it.%22%5Cn%5CnInstead%20of%20taking%20the%20orange%20cones%20in%20Town%20Square:%5Cn%5Ctif%20the%20manhole%20cover%20is%20closed%20or%20Town%20Square%20is%20accessible,%20continue%20the%20action;%5Cn%5Ctotherwise%20say%20%22You'd%20better%20not%20let%20the%20traffic%20back%20in%20until%20you've%20closed%20the%20manhole.%20There'll%20be%20accidents%20otherwise.%22%5Cn%5CnAfter%20going%20to%20the%20Access%20Tunnel:%5Cn%5Ctsay%20%22With%20a%20stealthy%20glance%20left%20and%20right,%20you%20lower%20yourself%20into%20the%20access%20tunnel,%20thus%20accomplishing%20your%20mission%20for%20Chapter%202.%20To%20continue%20your%20adventure,%20see%20Chapter%203:%20The%20Vault%20of%20Peaquod.%22;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5Cn%5BAnd%20finally,%20a%20couple%20of%20features%20from%20the%20Activities%20chapter%20to%20make%20the%20output%20more%20elegant:%5D%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20the%20orange%20cones:%20say%20%22A%20line%20of%20orange%20cones%20holds%20back%20the%20traffic%20from%20entering%20here.%22%5Cn%5CnRule%20for%20printing%20the%20name%20of%20the%20orange%20cones%20when%20the%20cones%20are%20carried%20by%20the%20player:%5Cn%5Ctsay%20%22stack%20of%20orange%20cones%22.%5Cn%5CnTest%20me%20with%20%22x%20traffic%20/%20open%20manhole%20/%20n%20/%20x%20traffic%20/%20s%20/%20e%20/%20x%20traffic%20/%20get%20cones%20/%20look%20/%20x%20traffic%20/%20w%20/%20drop%20cones%20/%20look%20/%20open%20manhole%20/%20take%20cones%20/%20d%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Orange Cones"
</p>
<p class="quoted">
A road is a kind of room.
</p>
<p class="quoted">
The traffic is a backdrop. It is not scenery. The initial appearance is "Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around." The description is "It is more or less as usual for this time of day. It's a wonder it ever dissipates, really."
</p>
<p class="quoted">
When play begins:
<br>    move the traffic backdrop to all accessible roads.
</p>
<p class="quoted">
A line of orange cones are a thing.
</p>
<p class="quoted">
Definition: a road is accessible if the orange cones are not in it.
</p>
<p class="quoted">
After dropping the orange cones in a road:
<br>    say "With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.";
<br>    update backdrop positions.
</p>
<p class="quoted">
After taking the orange cones:
<br>    say "You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.";
<br>    update backdrop positions.
</p>
</div>
<p>That accomplishes everything we set out to do, but let's add a very simple puzzle to test it out with:</p>

<div class="code">
<p class="quoted">
The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.
</p>
<p class="quoted">
The line of orange cones are in Mortar Street.
</p>
<p class="quoted">
The player wears a reflective vest and a hard hat.
</p>
<p class="quoted">
The manhole cover is a door. "[if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There's a promising manhole in the middle of the street.[end if]". It is closed and openable. It is below the Town Square and above the Access Tunnel.
</p>
<p class="quoted">
Instead of opening the manhole cover when the location is an accessible road:
<br>    say "You can't get anywhere near the manhole cover with all these cars above it."
</p>
<p class="quoted">
Instead of taking the orange cones in Town Square:
<br>    if the manhole cover is closed or Town Square is accessible, continue the action;
<br>    otherwise say "You'd better not let the traffic back in until you've closed the manhole. There'll be accidents otherwise."
</p>
<p class="quoted">
After going to the Access Tunnel:
<br>    say "With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.";
<br>    end the story finally.
</p>
</div>
<p>And finally, a couple of features from the Activities chapter to make the output more elegant:</p>

<div class="code">
<p class="quoted">
Rule for writing a paragraph about the orange cones: say "A line of orange cones holds back the traffic from entering here."
</p>
<p class="quoted">
Rule for printing the name of the orange cones when the cones are carried by the player:
<br>    say "stack of orange cones".
</p>
<p class="quoted">
Test me with "x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.8">WI §8.8. Moving backdrops</a><br><a href="rb_3.html#rb-3.9">RB §3.9. Passers-By, Weather and Astronomical Events</a>
</div></details><details class="full-example" id="example-132"><summary><span class="example-summary">132. Uptown Girls</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we have an urban space we want to populate with random passers-by. These should have a range of characteristics and not always be described in the same way; and once the player has noticed one, he should be able to look at her further, until another pedestrian crosses his path.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Uptown%20Girls%22%5Cn%5CnRiverside%20Drive%20is%20a%20room.%20%22There's%20a%20pleasant%20late-afternoon%20view%20of%20the%20Hudson,%20and%20a%20snap%20in%20the%20air,%20and%20you%20would%20rather%20be%20here%20than%20anywhere.%22%5Cn%5CnInstead%20of%20going%20a%20direction,%20say%20%22Oh,%20you%20know%20where%20you're%20going;%20no%20need%20to%20deviate%20from%20the%20usual%20path.%22%5Cn%5CnInstead%20of%20waiting,%20say%20%22You%20stroll%20along%20enjoying%20the%20November%20crispness.%22%5Cn%5Cn%5BIt%20gets%20a%20little%20annoying%20to%20have%20a%20random%20event%20occurring%20every%20single%20turn%20of%20play,%20so%20let's%20introduce%20some%20randomness%20to%20determine%20how%20often%20the%20message%20appears:%5D%5Cn%5CnEvery%20turn%20when%20a%20random%20chance%20of%201%20in%203%20succeeds:%5Cn%5Ctreset%20passerby;%5Cn%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Atmospheric%20Events;%5Cn%5Ctsay%20%22%5Bevent%20entry%5D%5Bparagraph%20break%5D%22%5Cn%5CnTable%20of%20Atmospheric%20Events%5Cnevent%5Cn%22Slowly%20%5Ba%20passerby%5D%20strolls%20by,%20turning%20to%20look%20at%20you%20as%20she%20passes.%22%5Cn%22Some%20%5Bpasserby%5D%20nearly%20bumps%20into%20you.%22%5Cn%22You%20dodge%20to%20avoid%20%5Ba%20passerby%5D.%22%5Cn%22You%20weave%20around%20%5Ba%20passerby%5D,%20who%20has%20stalled%20to%20look%20into%20a%20window.%22%5Cn%22There's%20a%20ruckus%20as%20one%20of%20the%20ubiquitous%20taxis%20nearly%20collides%20with%20%5Ba%20passerby%5D%20crossing%20the%20street.%22%5Cn%22%5BThe%20passerby%5D%20beside%20you%20waves%20to%20a%20friend%20across%20the%20street.%22%5Cn%22To%20your%20left,%20%5Ba%20passerby%5D%20drops%20her%20purse,%20and%20swears%20as%20she%20retrieves%20it.%22%5Cn%5CnHair%20color%20is%20a%20kind%20of%20value.%20A%20person%20has%20hair%20color.%20the%20hair%20colors%20are%20red-headed,%20brunette,%20blonde.%5Cn%5CnHeight%20is%20a%20kind%20of%20value.%20A%20person%20has%20height.%20The%20heights%20are%20tall,%20medium-height,%20short.%5Cn%5CnGrooming%20is%20a%20kind%20of%20value.%20A%20person%20has%20grooming.%20The%20groomings%20are%20messy%20and%20tidy.%5Cn%5CnTo%20reset%20passerby:%5Cn%5Ctnow%20the%20hair%20color%20of%20the%20passerby%20is%20a%20random%20hair%20color;%5Cn%5Ctnow%20the%20height%20of%20the%20passerby%20is%20a%20random%20height;%5Cn%5Ctnow%20the%20grooming%20of%20the%20passerby%20is%20a%20random%20grooming.%5Cn%5CnThe%20passerby%20is%20a%20woman%20in%20Riverside%20Drive.%20The%20passerby%20is%20scenery.%20Understand%20%22woman%22%20or%20%22lady%22%20as%20the%20passerby.%20The%20printed%20name%20of%20the%20passerby%20is%20%22%5Bone%20of%5Dwoman%5Bor%5Dlady%5Bpurely%20at%20random%5D%22.%5Cn%5Cn%5BAt%20this%20point%20we%20borrow%20some%20techniques%20from%20later%20to%20describe%20the%20woman%20with%20a%20random%20combination%20of%20characteristics,%20and%20to%20let%20the%20player%20refer%20to%20her%20by%20those%20traits:%5D%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20passerby:%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%204%20succeeds,%20say%20%22%5Bheight%5D%20%22;%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%204%20succeeds,%20say%20%22%5Bgrooming%5D%20%22;%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%204%20succeeds,%20say%20%22%5Bhair%20color%5D%20%22.%5Cn%5CnUnderstand%20the%20hair%20color%20property%20as%20describing%20the%20passerby.%20Understand%20the%20height%20property%20as%20describing%20the%20passerby.%20Understand%20the%20grooming%20property%20as%20describing%20the%20passerby.%5Cn%5Cn%5BIf%20we%20also%20wanted%20each%20of%20those%20combinations%20to%20mean%20some%20more%20specifically-described%20woman:%5D%5Cn%5CnInstead%20of%20examining%20a%20passerby:%5Cn%5Ctrepeat%20through%20Table%20of%20Passerby%20Descriptions:%5Cn%5Ct%5Ctif%20hair%20entry%20is%20the%20hair%20color%20of%20the%20passerby%20and%20height%20entry%20is%20the%20height%20of%20the%20passerby%20and%20grooming%20entry%20is%20the%20grooming%20of%20the%20passerby,%20say%20%22%5Bdescription%20entry%5D%5Bparagraph%20break%5D%22.%5Cn%5CnTable%20of%20Passerby%20Descriptions%5Cnhair%5Ctheight%5Ctgrooming%5Ctdescription%5Cnred-headed%5Cttall%5Ctmessy%5Ct%22An%20older%20woman%20with%20long%20red%20hippie-hair%20poking%20out%20of%20a%20ponytail%20in%20straggles,%20and%20bent%20to%20hide%20how%20tall%20she%20is.%22%5Cnred-headed%5Ctmedium-height%5Ctmessy%5Ct%22A%20shaggy%20red-head%20with%20shingled%20hair.%22%5Cnred-headed%5Ctshort%5Ctmessy%5Ct%22Almost%20an%20urchin,%20and%20very%20young,%20with%20ginger%20hair%20and%20a%20smudged%20nose%20and%20far%20too%20many%20freckles.%22%5Cnred-headed%5Cttall%5Cttidy%5Ct%22A%20precise%20career%20woman%20with%20henna-red%20hair.%22%5Cnred-headed%5Ctmedium-height%5Cttidy%5Ct%22Her%20hair%20is%20red%20in%20the%20way%20that%20lollipops%20and%20fire%20trucks%20are%20red:%20not%20by%20nature%20but%20by%20art.%20The%20rest%20of%20her%20clothing%20is%20pretty%20ordinary,%20though.%22%5Cnred-headed%5Ctshort%5Cttidy%5Ct%22Thin%20and%20small%20in%20every%20sense,%20with%20chin-length%20red-hair.%20Even%20high%20heels%20do%20not%20bring%20her%20head%20much%20above%20your%20shoulder.%22%5Cnbrunette%5Cttall%5Ctmessy%5Ct%22A%20Juno-esque%20woman%20with%20dark%20hair,%20wearing%20something%20resembling%20a%20tent.%22%5Cnbrunette%5Ctmedium-height%5Ctmessy%5Ct%22An%20unremarkable%20woman%20with%20dark%20brown%20hair%20and%20the%20aura%20of%20needing%20a%20wash.%22%5Cnbrunette%5Ctshort%5Ctmessy%5Ct%22There%20are%20mustard%20stains%20on%20the%20t-shirt%20of%20this%20short%20brown-haired%20woman.%20Estimated%20age%20ca.%2040.%20Possibly%20homeless.%22%5Cnbrunette%5Cttall%5Cttidy%5Ct%22A%20leggy%20brunette%20in%20business%20attire.%22%5Cnbrunette%5Ctmedium-height%5Cttidy%5Ct%22Medium-height,%20brown-haired,%20generally%20nondescript.%22%5Cnbrunette%5Ctshort%5Cttidy%20%5Ct%22A%20neat%20little%20dark-haired%20girl.%22%5Cnblonde%5Cttall%5Ctmessy%5Ct%22A%20tall%20blonde%20of%20about%20thirteen%20who%20looks%20as%20though%20she%20has%20not%20yet%20figured%20out%20how%20to%20get%20her%20wardrobe%20to%20catch%20up%20with%20her%20rate%20of%20growth.%20Her%20t-shirt%20and%20her%20pants%20are%20too%20short.%22%5Cnblonde%5Ctmedium-height%5Ctmessy%5Ct%22Black%20leather%20pants%20and%20the%20wall-o-hair%20look.%22%5Cnblonde%5Ctshort%5Ctmessy%5Ct%22One%20of%20those%20shocking%20platinum%20blonde%20types,%20with%20a%20tiger-patterned%20skirt.%20Reeally%20trashy.%22%5Cnblonde%5Cttall%5Cttidy%5Ct%22Elfin%20and%20severe,%20with%20perfectly%20straight%20hair%20falling%20to%20the%20middle%20of%20the%20back.%22%5Cnblonde%5Ctmedium-height%5Cttidy%5Ct%22A%20rounded,%20Marilyn-esque%20blonde.%22%5Cnblonde%5Ctshort%5Cttidy%5Ct%20%22Pin-precise%20in%20a%20blue-and-white%20striped%20suit%20and%20a%20boyish%20haircut.%22%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20x%20passerby%20/%20z%20/%20z%20/%20x%20passerby%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Uptown Girls"
</p>
<p class="quoted">
Riverside Drive is a room. "There's a pleasant late-afternoon view of the Hudson, and a snap in the air, and you would rather be here than anywhere."
</p>
<p class="quoted">
Instead of going a direction, say "Oh, you know where you're going; no need to deviate from the usual path."
</p>
<p class="quoted">
Instead of waiting, say "You stroll along enjoying the November crispness."
</p>
</div>
<p>It gets a little annoying to have a random event occurring every single turn of play, so let's introduce some randomness to determine how often the message appears:</p>

<div class="code">
<p class="quoted">
Every turn when a random chance of 1 in 3 succeeds:
<br>    reset passerby;
<br>    choose a random row in the Table of Atmospheric Events;
<br>    say "[event entry][paragraph break]"
</p>
<p class="quoted">
Table of Atmospheric Events
<br>event
<br>"Slowly [a passerby] strolls by, turning to look at you as she passes."
<br>"Some [passerby] nearly bumps into you."
<br>"You dodge to avoid [a passerby]."
<br>"You weave around [a passerby], who has stalled to look into a window."
<br>"There's a ruckus as one of the ubiquitous taxis nearly collides with [a passerby] crossing the street."
<br>"[The passerby] beside you waves to a friend across the street."
<br>"To your left, [a passerby] drops her purse, and swears as she retrieves it."
</p>
<p class="quoted">
Hair color is a kind of value. A person has hair color. the hair colors are red-headed, brunette, blonde.
</p>
<p class="quoted">
Height is a kind of value. A person has height. The heights are tall, medium-height, short.
</p>
<p class="quoted">
Grooming is a kind of value. A person has grooming. The groomings are messy and tidy.
</p>
<p class="quoted">
To reset passerby:
<br>    now the hair color of the passerby is a random hair color;
<br>    now the height of the passerby is a random height;
<br>    now the grooming of the passerby is a random grooming.
</p>
<p class="quoted">
The passerby is a woman in Riverside Drive. The passerby is scenery. Understand "woman" or "lady" as the passerby. The printed name of the passerby is "[one of]woman[or]lady[purely at random]".
</p>
</div>
<p>At this point we borrow some techniques from later to describe the woman with a random combination of characteristics, and to let the player refer to her by those traits:</p>

<div class="code">
<p class="quoted">
Before printing the name of the passerby:
<br>    if a random chance of 1 in 4 succeeds, say "[height] ";
<br>    if a random chance of 1 in 4 succeeds, say "[grooming] ";
<br>    if a random chance of 1 in 4 succeeds, say "[hair color] ".
</p>
<p class="quoted">
Understand the hair color property as describing the passerby. Understand the height property as describing the passerby. Understand the grooming property as describing the passerby.
</p>
</div>
<p>If we also wanted each of those combinations to mean some more specifically-described woman:</p>

<div class="code">
<p class="quoted">
Instead of examining a passerby:
<br>    repeat through Table of Passerby Descriptions:
<br>        if hair entry is the hair color of the passerby and height entry is the height of the passerby and grooming entry is the grooming of the passerby, say "[description entry][paragraph break]".
</p>
<p class="quoted">
Table of Passerby Descriptions
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">hair</p></td>
<td class="quotedtablecell"><p class="quoted">height</p></td>
<td class="quotedtablecell"><p class="quoted">grooming</p></td>
<td class="quotedtablecell"><p class="quoted">description</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">red-headed</p></td>
<td class="quotedtablecell"><p class="quoted">tall</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"An older woman with long red hippie-hair poking out of a ponytail in straggles, and bent to hide how tall she is."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">red-headed</p></td>
<td class="quotedtablecell"><p class="quoted">medium-height</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"A shaggy red-head with shingled hair."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">red-headed</p></td>
<td class="quotedtablecell"><p class="quoted">short</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"Almost an urchin, and very young, with ginger hair and a smudged nose and far too many freckles."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">red-headed</p></td>
<td class="quotedtablecell"><p class="quoted">tall</p></td>
<td class="quotedtablecell"><p class="quoted">tidy</p></td>
<td class="quotedtablecell"><p class="quoted">"A precise career woman with henna-red hair."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">red-headed</p></td>
<td class="quotedtablecell"><p class="quoted">medium-height</p></td>
<td class="quotedtablecell"><p class="quoted">tidy</p></td>
<td class="quotedtablecell"><p class="quoted">"Her hair is red in the way that lollipops and fire trucks are red: not by nature but by art. The rest of her clothing is pretty ordinary, though."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">red-headed</p></td>
<td class="quotedtablecell"><p class="quoted">short</p></td>
<td class="quotedtablecell"><p class="quoted">tidy</p></td>
<td class="quotedtablecell"><p class="quoted">"Thin and small in every sense, with chin-length red-hair. Even high heels do not bring her head much above your shoulder."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">brunette</p></td>
<td class="quotedtablecell"><p class="quoted">tall</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"A Juno-esque woman with dark hair, wearing something resembling a tent."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">brunette</p></td>
<td class="quotedtablecell"><p class="quoted">medium-height</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"An unremarkable woman with dark brown hair and the aura of needing a wash."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">brunette</p></td>
<td class="quotedtablecell"><p class="quoted">short</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"There are mustard stains on the t-shirt of this short brown-haired woman. Estimated age ca. 40. Possibly homeless."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">brunette</p></td>
<td class="quotedtablecell"><p class="quoted">tall</p></td>
<td class="quotedtablecell"><p class="quoted">tidy</p></td>
<td class="quotedtablecell"><p class="quoted">"A leggy brunette in business attire."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">brunette</p></td>
<td class="quotedtablecell"><p class="quoted">medium-height</p></td>
<td class="quotedtablecell"><p class="quoted">tidy</p></td>
<td class="quotedtablecell"><p class="quoted">"Medium-height, brown-haired, generally nondescript."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">brunette</p></td>
<td class="quotedtablecell"><p class="quoted">short</p></td>
<td class="quotedtablecell"><p class="quoted">tidy </p></td>
<td class="quotedtablecell"><p class="quoted">"A neat little dark-haired girl."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">blonde</p></td>
<td class="quotedtablecell"><p class="quoted">tall</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"A tall blonde of about thirteen who looks as though she has not yet figured out how to get her wardrobe to catch up with her rate of growth. Her t-shirt and her pants are too short."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">blonde</p></td>
<td class="quotedtablecell"><p class="quoted">medium-height</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"Black leather pants and the wall-o-hair look."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">blonde</p></td>
<td class="quotedtablecell"><p class="quoted">short</p></td>
<td class="quotedtablecell"><p class="quoted">messy</p></td>
<td class="quotedtablecell"><p class="quoted">"One of those shocking platinum blonde types, with a tiger-patterned skirt. Reeally trashy."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">blonde</p></td>
<td class="quotedtablecell"><p class="quoted">tall</p></td>
<td class="quotedtablecell"><p class="quoted">tidy</p></td>
<td class="quotedtablecell"><p class="quoted">"Elfin and severe, with perfectly straight hair falling to the middle of the back."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">blonde</p></td>
<td class="quotedtablecell"><p class="quoted">medium-height</p></td>
<td class="quotedtablecell"><p class="quoted">tidy</p></td>
<td class="quotedtablecell"><p class="quoted">"A rounded, Marilyn-esque blonde."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">blonde</p></td>
<td class="quotedtablecell"><p class="quoted">short</p></td>
<td class="quotedtablecell"><p class="quoted">tidy</p></td>
<td class="quotedtablecell"><p class="quoted"> "Pin-precise in a blue-and-white striped suit and a boyish haircut."</p></td>
</tr>
</table>
<p class="quoted">
Test me with "z / z / x passerby / z / z / x passerby".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.18">WI §8.18. Randomness</a><br><a href="rb_3.html#rb-3.9">RB §3.9. Passers-By, Weather and Astronomical Events</a>
</div></details>
</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/RB_3_1.html">RB Chapter 3 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_2.html#rb-chapter-2-adaptive-prose">2. Adaptive Prose</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_4.html#rb-chapter-4-time-and-plot">4. Time and Plot</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

