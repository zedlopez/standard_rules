<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Recipe Book 2. Adaptive Prose</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Recipe Book</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_1.html#rb-chapter-1-how-to-use-the-recipe-book">1. How to Use The Recipe Book</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_3.html#rb-chapter-3-place">3. Place</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>2. Adaptive Prose</h2>
<div class="toc-section">2.1 <a href="rb_2.html#rb-2.1">Varying What Is Written</a></div>
<div class="toc-section">2.2 <a href="rb_2.html#rb-2.2">Varying What Is Read</a></div>
<div class="toc-section">2.3 <a href="rb_2.html#rb-2.3">Using the Player&#039;s Input</a></div>
</header>
<main>
<section class="chapter" id="rb-chapter-2-adaptive-prose">
<section class="section" id="rb-2.1"><div>



<h3>RB §2.1. Varying What Is Written</h3>
<p>Before getting to actual recipes, many recipe books begin with intimidating lists of high-end kitchen equipment (carbon-steel pans, a high-temperature range, a Provencal shallot-grater, a set of six pomegranate juicers): fortunately, readers who have downloaded Inform already have the complete kitchen used by the authors. But the other traditional preliminaries, about universal skills such as chopping vegetables, boiling water and measuring quantities, do have an equivalent.</p>
<p>For us, the most basic technique of IF is to craft the text so that it smoothly and elegantly adapts to describe the situation, disguising the machine which is never far beneath the surface. This means using text substitutions so that any response likely to be seen more than once or twice will vary.</p>
<p><a href="rb_2.html#example-178" class="example-link" onClick="(function() { document.getElementById('example-178').setAttribute('open','open'); return true; })();">M. Melmoth's Duel</a><span class="example-difficulty"> ★</span> demonstrates three basic techniques: an ever-changing random variation, a random variation changing only after the player has been absent for a while, and a message tweaked to add an extra comment in one special case. (Random choices can be quite specifically constrained, as <a href="rb_2.html#example-169" class="example-link" onClick="(function() { document.getElementById('example-169').setAttribute('open','open'); return true; })();">Ahem</a><span class="example-difficulty"> ★</span> shows in passing.) <a href="rb_2.html#example-71" class="example-link" onClick="(function() { document.getElementById('example-71').setAttribute('open','open'); return true; })();">Fifty Ways to Leave Your Larva</a><span class="example-difficulty"> ★</span> and <a href="rb_2.html#example-72" class="example-link" onClick="(function() { document.getElementById('example-72').setAttribute('open','open'); return true; })();">Fifty Times Fifty Ways</a><span class="example-difficulty"> ★★★</span> show how a generic message can be given a tweak to make it a better fit for the person it currently talks about. <a href="rb_2.html#example-439" class="example-link" onClick="(function() { document.getElementById('example-439').setAttribute('open','open'); return true; })();">Curare</a><span class="example-difficulty"> ★</span> picks out an item carried by the player to work into a message, trying to make an apt rather than random choice. <a href="rb_2.html#example-305" class="example-link" onClick="(function() { document.getElementById('example-305').setAttribute('open','open'); return true; })();">Straw Into Gold</a><span class="example-difficulty"> ★★★</span> demonstrates how to have Inform parrot back the player's choice of name for an object.</p>
<p>Another reason to vary messages is to avoid unnatural phrasing. <a href="rb_2.html#example-60" class="example-link" onClick="(function() { document.getElementById('example-60').setAttribute('open','open'); return true; })();">Ballpark</a><span class="example-difficulty"> ★★★</span> turns needlessly precise numbers - another computerish trait - into more idiomatic English. (Likewise <a href="rb_2.html#example-174" class="example-link" onClick="(function() { document.getElementById('example-174').setAttribute('open','open'); return true; })();">Numberless</a><span class="example-difficulty"> ★</span>, though it is really an example demonstrating how to split behaviour into many cases.) <a href="rb_2.html#example-343" class="example-link" onClick="(function() { document.getElementById('example-343').setAttribute('open','open'); return true; })();">Prolegomena</a><span class="example-difficulty"> ★</span> shows how to use these vaguer quantifiers any time Inform describes a group of objects (as in "You can see 27 paper clips here.").</p>
<p><a href="rb_2.html#example-454" class="example-link" onClick="(function() { document.getElementById('example-454').setAttribute('open','open'); return true; })();">Blink</a><span class="example-difficulty"> ★</span>, a short but demanding example from the extreme end of <em>Writing with Inform</em>, shows how the basic text variation mechanisms of Inform can themselves be extended. <a href="rb_2.html#example-421" class="example-link" onClick="(function() { document.getElementById('example-421').setAttribute('open','open'); return true; })();">Blackout</a><span class="example-difficulty"> ★</span> demonstrates text manipulation at a lower level, replacing every letter of a room name with "*" when the player is in darkness.</p>
<p>Inform's included extension Complex Listing allows us more control over the order and presentation of lists of items.</p>
<p>For how to change printed text to upper, lower, sentence, or title casing, see <a href="rb_2.html#example-413" class="example-link" onClick="(function() { document.getElementById('example-413').setAttribute('open','open'); return true; })();">Rocket Man</a><span class="example-difficulty"> ★</span>.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-71"><summary><span class="example-summary">71. Fifty Ways to Leave Your Larva</span> <span class="example-difficulty">★</span></summary><div>
<p>We can use these substitutions to put together fairly complicated variations within a single piece of text:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Fifty%20Ways%20to%20Leave%20Your%20Larva%22%5Cn%5CnThe%20Beekeeper's%20Palace%20is%20a%20room.%20Wasp%20is%20a%20woman%20in%20the%20palace.%20Drone%20is%20a%20man%20in%20the%20palace.%5Cn%5CnInstead%20of%20kissing%20someone:%5Cn%5Ctsay%20%22'%5Bdenial%5D,%20%5Binsult%5D!%20%5Bboast%5D!'%22;%5Cn%5Cn%5BIn%20this%20context,%20%5Bdenial%5D%20is%20understood%20to%20refer%20to%20the%20denial%20property%20of%20the%20noun%20--%20but%20we%20could%20spell%20it%20out%20with%20%22denial%20of%20the%20noun%22%20if%20we%20wanted%20to.%5D%5Cn%5CnA%20person%20has%20some%20text%20called%20denial.%20The%20denial%20of%20a%20person%20is%20usually%20%22Stand%20back%22.%20The%20denial%20of%20Drone%20is%20%22You%20forget%20yourself%22%5Cn%5CnA%20person%20has%20some%20text%20called%20%20insult.%20The%20insult%20of%20a%20person%20is%20usually%20%22Grasshopper%22.%20The%20insult%20of%20Wasp%20is%20%22Larva%22.%5Cn%5CnA%20person%20has%20some%20text%20called%20%20boast.%20The%20boast%20of%20a%20person%20is%20usually%20%22I%20am%20ferocious%22.%20The%20boast%20of%20Drone%20is%20%22I%20have%20ferocious%20allies%22.%5Cn%5Cn%5BAnd%20then%20it%20would%20be%20trivial%20to%20insert%20further%20rules%20using%20these%20responses:%5D%5Cn%5CnInstead%20of%20attacking%20someone:%5Cn%5Ctsay%20%22'Get%20away,%20%5Binsult%5D!'%22%5Cn%5CnTest%20me%20with%20%22kiss%20wasp%20/%20hit%20wasp%20/%20hit%20drone%20/%20kiss%20drone%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Fifty Ways to Leave Your Larva"
</p>
<p class="quoted">
The Beekeeper's Palace is a room. Wasp is a woman in the palace. Drone is a man in the palace.
</p>
<p class="quoted">
Instead of kissing someone:
<br>    say "'[denial], [insult]! [boast]!'";
</p>
</div>
<p>In this context, [denial] is understood to refer to the denial property of the noun -- but we could spell it out with "denial of the noun" if we wanted to.</p>

<div class="code">
<p class="quoted">
A person has some text called denial. The denial of a person is usually "Stand back". The denial of Drone is "You forget yourself"
</p>
<p class="quoted">
A person has some text called  insult. The insult of a person is usually "Grasshopper". The insult of Wasp is "Larva".
</p>
<p class="quoted">
A person has some text called  boast. The boast of a person is usually "I am ferocious". The boast of Drone is "I have ferocious allies".
</p>
</div>
<p>And then it would be trivial to insert further rules using these responses:</p>

<div class="code">
<p class="quoted">
Instead of attacking someone:
<br>    say "'Get away, [insult]!'"
</p>
<p class="quoted">
Test me with "kiss wasp / hit wasp / hit drone / kiss drone".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.13">WI §5.13. Making new substitutions</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-169"><summary><span class="example-summary">169. Ahem</span> <span class="example-difficulty">★</span></summary><div>
<p>As we see in the example here, it is possible to use slashed variations in more than one place in a phrase, and to offer a number of separate forms. The main rule of thumb to remember is that value inputs for the phrase should always be separated by some text; so</p>

<div class="code"><p class="quoted">
To do/follow (chosen rule - a rule) exactly/precisely/just/-- (N - a number) time/times:
<br>    ....
</p></div>
<p>would cause a problem when we tried to call it with</p>

<div class="code"><p class="quoted">
follow the throat-clearing rule 2 times.
</p></div>
<p>In general, we probably don't need to make our phrase definitions quite so flexible as this, but it's a good idea to account for "a" vs. "the", and for the possibility of using singular and plural forms, especially when writing extensions or other source to be shared.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Ahem%22%5Cn%5CnTo%20do/follow%20(chosen%20rule%20-%20a%20rule)%20exactly/precisely/just%20(N%20-%20a%20number)%20time/times:%5Cn%5Ctrepeat%20with%20index%20running%20from%201%20to%20N:%5Cn%5Ct%5Ctfollow%20chosen%20rule.%5Cn%5CnThis%20is%20the%20throat-clearing%20rule:%5Cn%5Ctsay%20%22'Ahem,'%20says%20%5Ba%20random%20visible%20person%20who%20is%20not%20the%20player%5D.%22%5Cn%5CnAfter%20waiting:%5Cn%5Ctdo%20the%20throat-clearing%20rule%20just%20one%20time.%5Cn%5CnInstead%20of%20listening:%5Cn%5Ctfollow%20the%20throat-clearing%20rule%20precisely%20three%20times.%5Cn%5CnInstead%20of%20smelling:%5Cn%5Ctfollow%20the%20throat-clearing%20rule%20exactly%202%20times.%5Cn%5CnChateau%20Marmont%20is%20a%20room.%20Tom,%20Jack,%20Zsa-Zsa,%20and%20Wilma-Faye%20are%20people%20in%20the%20Chateau.%20Zsa-Zsa%20and%20Wilma-Faye%20are%20women.%5Cn%5CnTest%20me%20with%20%22wait%20/%20smell%20/%20listen%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Ahem"
</p>
<p class="quoted">
To do/follow (chosen rule - a rule) exactly/precisely/just (N - a number) time/times:
<br>    repeat with index running from 1 to N:
<br>        follow chosen rule.
</p>
<p class="quoted">
This is the throat-clearing rule:
<br>    say "'Ahem,' says [a random visible person who is not the player]."
</p>
<p class="quoted">
After waiting:
<br>    do the throat-clearing rule just one time.
</p>
<p class="quoted">
Instead of listening:
<br>    follow the throat-clearing rule precisely three times.
</p>
<p class="quoted">
Instead of smelling:
<br>    follow the throat-clearing rule exactly 2 times.
</p>
<p class="quoted">
Chateau Marmont is a room. Tom, Jack, Zsa-Zsa, and Wilma-Faye are people in the Chateau. Zsa-Zsa and Wilma-Faye are women.
</p>
<p class="quoted">
Test me with "wait / smell / listen".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.3">WI §11.3. Pattern matching</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-174"><summary><span class="example-summary">174. Numberless</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Numberless%22%5Cn%5CnThe%20Rambling%20Warren%20is%20a%20room.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctlet%20N%20be%20a%20random%20number%20between%201%20and%205;%5Cn%5Ctif%20N%20is%201:%5Cn%5Ct%5Ctsay%20%22N%20is%20one.%22;%5Cn%5Ctotherwise%20if%20N%20is%202:%5Cn%5Ct%5Ctsay%20%22N%20is%20two.%22;%5Cn%5Ctotherwise%20if%20N%20is%203:%5Cn%5Ct%5Ctsay%20%22N%20is%20three.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22N%20is%20more%20than%20the%20number%20of%20your%20toes.%22%5Cn%5Cn%5BThe%20final%20%22otherwise%22%20here%20will%20fire%20only%20if%20none%20of%20the%20earlier%20conditions%20applies;%20we%20could%20leave%20it%20out%20and%20print%20nothing%20in%20the%20case%20that%20N%20is%204%20or%205.%5D%5Cn%5Cn%5BThe%20more%20compact%20way%20to%20do%20this%20is%20to%20create%20a%20list%20of%20values%20that%20our%20number%20could%20match;%20in%20many%20programming%20languages%20this%20is%20called%20a%20switch%20statement.%20For%20example:%5D%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctlet%20Y%20be%20a%20random%20number%20between%206%20and%2010;%5Cn%5Ctif%20Y%20is:%5Cn%5Ct%5Ct--%206:%20say%20%22Six%20is%20the%20magic%20number!%22;%5Cn%5Ct%5Ct--%207:%20say%20%22The%20number%20of%20the%20day%20is%20seven!%22;%5Cn%5Ct%5Ct--%20otherwise:%20say%20%22Today's%20magic%20number%20is%20boring.%22%5Cn%5Cn%5Cn%5BAs%20a%20final%20option,%20we%20can%20use%20a%20construction%20we've%20seen%20only%20briefly%20before%20now:%20a%20table.%20The%20use%20of%20tables%20will%20be%20explained%20more%20fully%20in%20their%20own%20chapter,%20but%20here%20we%20see%20in%20brief%20that%20we%20can%20assign%20a%20number%20of%20values%20to%20one%20column%20of%20a%20table%20and%20then%20use%20that%20table%20to%20look%20up%20output:%5D%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctlet%20X%20be%20a%20random%20number%20between%2011%20and%2014;%5Cn%5Ctif%20X%20is%20a%20number%20listed%20in%20the%20Table%20of%20Switching,%20say%20%22%5Boutput%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise%20say%20%22X%20is%20greater%20than%20the%20number%20of%20your%20noses!%22%5Cn%5CnTable%20of%20Switching%5Cnnumber%5Ctoutput%5Cn11%5Ct%22X%20is%20eleven!%22%5Cn12%5Ct%22X%20is%20twelve!%22%5Cn13%5Ct%22X%20is%20thirteen!%22%5Cn%5CnTest%20me%20with%20%22z%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Numberless"
</p>
<p class="quoted">
The Rambling Warren is a room.
</p>
<p class="quoted">
When play begins:
<br>    let N be a random number between 1 and 5;
<br>    if N is 1:
<br>        say "N is one.";
<br>    otherwise if N is 2:
<br>        say "N is two.";
<br>    otherwise if N is 3:
<br>        say "N is three.";
<br>    otherwise:
<br>        say "N is more than the number of your toes."
</p>
</div>
<p>The final "otherwise" here will fire only if none of the earlier conditions applies; we could leave it out and print nothing in the case that N is 4 or 5.</p>
<p>The more compact way to do this is to create a list of values that our number could match; in many programming languages this is called a switch statement. For example:</p>

<div class="code"><p class="quoted">
When play begins:
<br>    let Y be a random number between 6 and 10;
<br>    if Y is:
<br>        -- 6: say "Six is the magic number!";
<br>        -- 7: say "The number of the day is seven!";
<br>        -- otherwise: say "Today's magic number is boring."
</p></div>
<p>As a final option, we can use a construction we've seen only briefly before now: a table. The use of tables will be explained more fully in their own chapter, but here we see in brief that we can assign a number of values to one column of a table and then use that table to look up output:</p>

<div class="code">
<p class="quoted">
When play begins:
<br>    let X be a random number between 11 and 14;
<br>    if X is a number listed in the Table of Switching, say "[output entry][paragraph break]";
<br>    otherwise say "X is greater than the number of your noses!"
</p>
<p class="quoted">
Table of Switching
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">number</p></td>
<td class="quotedtablecell"><p class="quoted">output</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">11</p></td>
<td class="quotedtablecell"><p class="quoted">"X is eleven!"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">12</p></td>
<td class="quotedtablecell"><p class="quoted">"X is twelve!"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">13</p></td>
<td class="quotedtablecell"><p class="quoted">"X is thirteen!"</p></td>
</tr>
</table>
<p class="quoted">
Test me with "z".
</p>
</div>
<p>As we shall see, things other than text can be stored in tables, so we could also use a table as a way to look up objects or even rules to carry out.</p>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.8">WI §11.8. Otherwise</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-178"><summary><span class="example-summary">178. M. Melmoth's Duel</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22M.%20Melmoth's%20Duel%22%5Cn%5CnSaint-Germain-des-Pr%C3%A9s%20is%20a%20room.%20%22Haunt%20of%20artists,%20of%20the%20coffee-drinking%20sort,%20and%20of%20caf%C3%A9s,%20of%20the%20artist-haunted%20sort,%20you%20once%20again%20find%20yourself%20outside%20M.%20Melmoth's%20hotel.%20Today%20%5Bone%20of%5Dthe%20recently-fallen%20rain%20runs%20down%20the%20gutters%20of%20the%206th%5Bor%5Dsunlight%20glints%20even%20off%20the%20blackened%20windows%20of%20the%20Abbey%5Bor%5Dcrowds%20of%20vulgar%20children%20play%20chase%20around%20the%20lampposts%5Bat%20random%5D,%20and%20you%20long%20to%20be%20indoors.%22%5Cn%5CnThe%20H%C3%B4tel%20d'Alsace%20is%20inside%20from%20Saint-Germain-des-Pr%C3%A9s.%20%22Typical.%20Oscar%20writes%20you%20a%20letter%20announcing%20his%20own%20imminent%20demise%20-%20'My%20wallpaper%20and%20I%20are%20fighting%20a%20duel%20to%20the%20death.%20One%20or%20other%20of%20us%20has%20got%20to%20go.'%20-%20and%20then%20you%20get%20there%20and%20he's%20out,%20no%20doubt%20procuring%20paint%20the%20colour%20of%20absinthe,%20if%20he%20isn't%20procuring%20the%20painter.%22%5Cn%5CnTint%20is%20a%20kind%20of%20value.%20The%20tints%20are%20green,%20aquamarine%20and%20darkish%20purple.%5Cn%5CnThe%20wallpaper%20is%20fixed%20in%20place%20in%20the%20H%C3%B4tel.%20The%20wallpaper%20has%20a%20tint.%20%22In%20this%20light,%20the%20wallpaper%20has%20a%20distinctly%20%5Btint%20of%20the%20wallpaper%5D%20wash.%20%5Bif%20the%20tint%20of%20the%20wallpaper%20is%20darkish%20purple%5DYou%20particularly%20dislike%20purple.%5Bend%20if%5D%22%5Cn%5CnBefore%20going%20to%20the%20H%C3%B4tel:%20now%20the%20wallpaper%20is%20a%20random%20tint.%5Cn%5CnAfter%20going%20from%20the%20H%C3%B4tel,%20say%20%22You%20leave,%20shaking%20your%20head.%20But%20within%20twenty-four%20hours,%20you%20are%20back,%20as%20you%20always%20knew%20you%20would%20be.%22%5Cn%5CnTest%20me%20with%20%22in%20/%20out%20/%20look%20/%20in%20/%20out%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "M. Melmoth's Duel"
</p>
<p class="quoted">
Saint-Germain-des-Prés is a room. "Haunt of artists, of the coffee-drinking sort, and of cafés, of the artist-haunted sort, you once again find yourself outside M. Melmoth's hotel. Today [one of]the recently-fallen rain runs down the gutters of the 6th[or]sunlight glints even off the blackened windows of the Abbey[or]crowds of vulgar children play chase around the lampposts[at random], and you long to be indoors."
</p>
<p class="quoted">
The Hôtel d'Alsace is inside from Saint-Germain-des-Prés. "Typical. Oscar writes you a letter announcing his own imminent demise - 'My wallpaper and I are fighting a duel to the death. One or other of us has got to go.' - and then you get there and he's out, no doubt procuring paint the colour of absinthe, if he isn't procuring the painter."
</p>
<p class="quoted">
Tint is a kind of value. The tints are green, aquamarine and darkish purple.
</p>
<p class="quoted">
The wallpaper is fixed in place in the Hôtel. The wallpaper has a tint. "In this light, the wallpaper has a distinctly [tint of the wallpaper] wash. [if the tint of the wallpaper is darkish purple]You particularly dislike purple.[end if]"
</p>
<p class="quoted">
Before going to the Hôtel: now the wallpaper is a random tint.
</p>
<p class="quoted">
After going from the Hôtel, say "You leave, shaking your head. But within twenty-four hours, you are back, as you always knew you would be."
</p>
<p class="quoted">
Test me with "in / out / look / in / out / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.15">WI §11.15. Let and temporary variables</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-249"><summary><span class="example-summary">249. Olfactory Settings</span> <span class="example-difficulty">★</span></summary><div>
<p>While this isn't very interesting as IF, it runs through most of the adaptive-text tricks.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Olfactory%20Settings%22%5Cn%5CnThe%20Doghouse%20is%20a%20room.%20%22Not%20so%20much%20a%20place%20as%20a%20state%20of%20being.%22%5Cn%5CnThe%20player%20carries%20a%20ticket%20to%20the%20opera,%20some%20papers,%20and%20a%20bouquet%20of%20flowers.%20The%20bouquet%20is%20ambiguously%20plural.%5Cn%5CnInstead%20of%20eating%20something%20inedible,%20say%20%22%5BThe%20noun%5D%20%5Bdon't%5D%20seem%20likely%20to%20agree%20with%20%5Bus%5D%20at%20all.%20%5BWe%5D%5B'%5Dd%20be%20wiser%20to%20leave%20%5Bregarding%20the%20noun%5D%5Bthem%5D%20alone.%22%5Cn%5CnInstead%20of%20touching%20something:%20say%20%22%5Bregarding%20the%20noun%5D%5BThose%5D%20%5Bare%5D%20all%20prickly.%22%5Cn%5CnInstead%20of%20smelling%20something:%20say%20%22%5BOur%5D%20nose%20%5Bregarding%20nothing%5D%5Bare%5D%20too%20weak%20to%20get%20much%20smell%20from%20%5Bregarding%20the%20noun%5D%5Bthose%5D.%22%5Cn%5CnInstead%20of%20smelling%20the%20bouquet:%20say%20%22%5Bregarding%20the%20noun%5D%5BThey%5D%5B're%5D%20lovely.%22%5Cn%5CnInstead%20of%20tasting%20something:%5Cn%5Ctsay%20%22Whew,%20%5Bregarding%20the%20noun%5D%5Bare%5D%20%5Bthose%5D%20ever%20nasty!%22%5Cn%5CnTest%20me%20with%20%22x%20ticket%20/%20eat%20it%20/%20eat%20them%20/%20touch%20it%20/%20touch%20them%20/%20smell%20it%20/%20smell%20them%20/%20taste%20it%20/%20taste%20them%20/%20x%20papers%20/%20eat%20it%20/%20eat%20them%20/%20touch%20them%20/%20smell%20them%20/%20taste%20them%20/%20x%20bouquet%20/%20eat%20it%20/%20eat%20them%20/%20touch%20them%20/%20smell%20them%20/%20taste%20them%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Olfactory Settings"
</p>
<p class="quoted">
The Doghouse is a room. "Not so much a place as a state of being."
</p>
<p class="quoted">
The player carries a ticket to the opera, some papers, and a bouquet of flowers. The bouquet is ambiguously plural.
</p>
<p class="quoted">
Instead of eating something inedible, say "[The noun] [don't] seem likely to agree with [us] at all. [We][']d be wiser to leave [regarding the noun][them] alone."
</p>
<p class="quoted">
Instead of touching something: say "[regarding the noun][Those] [are] all prickly."
</p>
<p class="quoted">
Instead of smelling something: say "[Our] nose [regarding nothing][are] too weak to get much smell from [regarding the noun][those]."
</p>
<p class="quoted">
Instead of smelling the bouquet: say "[regarding the noun][They]['re] lovely."
</p>
<p class="quoted">
Instead of tasting something:
<br>    say "Whew, [regarding the noun][are] [those] ever nasty!"
</p>
<p class="quoted">
Test me with "x ticket / eat it / eat them / touch it / touch them / smell it / smell them / taste it / taste them / x papers / eat it / eat them / touch them / smell them / taste them / x bouquet / eat it / eat them / touch them / smell them / taste them".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_14.html#wi-14.6">WI §14.6. Adapting demonstratives and possessives</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-252"><summary><span class="example-summary">252. Responsive</span> <span class="example-difficulty">★</span></summary><div>
<p>The most straightforward way to alter the response text for something in the standard rules is to select the Index tab, then select Actions, then pick the particular action whose text we'd like to alter. Under action details, there will be icons that look like speech bubbles.</p>
<p>Clicking on the speech bubble will show what the current response text is, and give us an option called "set".</p>
<p>If we click "set", this will automatically paste in the response name that we need to change. We can put this inside a "when play begins" rule in order to make that change take effect from the start of the game, like so:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Responsive%22%5Cn%5CnAn%20Anonymous%20B613%20Cell%20is%20a%20room.%20%22There%20isn't%20much%20to%20see%20in%20this%20bare%20room.%20What%20there%20is,%20you've%20already%20seen%20sometime%20in%20the%20last%20twenty%20years.%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20print%20empty%20inventory%20rule%20response%20(A)%20is%20%22%5BWe%5D%20%5Bhave%5D%20absolutely%20nothing.%22.%5Cn%5CnTest%20me%20with%20%22i%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Responsive"
</p>
<p class="quoted">
An Anonymous B613 Cell is a room. "There isn't much to see in this bare room. What there is, you've already seen sometime in the last twenty years."
</p>
<p class="quoted">
When play begins:
<br>    now print empty inventory rule response (A) is "[We] [have] absolutely nothing.".
</p>
<p class="quoted">
Test me with "i".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_14.html#wi-14.11">WI §14.11. Changing the text of responses</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-343"><summary><span class="example-summary">343. Prolegomena</span> <span class="example-difficulty">★</span></summary><div>
<p>Room descriptions often make the player character out to be a bit of a savant, able to count whole stacks of items at a glance: "You see 27 paper clips here."</p>
<p>We can adjust this behavior to our liking, though, with the printing a number... activity, as follows:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Prolegomena%22%5Cn%5CnThe%20Editor's%20Office%20is%20a%20room.%20The%20desk%20is%20a%20supporter%20in%20the%20Editor's%20Office.%5Cn%5CnA%20red%20pencil%20is%20a%20kind%20of%20thing.%2012%20red%20pencils%20are%20on%20the%20desk.%5Cn%5CnA%20letter%20is%20a%20kind%20of%20thing.%2012%20letters%20are%20on%20the%20desk.%20Understand%20%22correspondence%22%20as%20a%20letter.%5Cn%5CnRule%20for%20printing%20the%20plural%20name%20of%20a%20letter:%5Cn%5Ctif%20the%20listing%20group%20size%20is%20greater%20than%207,%20say%20%22correspondence%22;%5Cn%5Ctotherwise%20say%20%22letters%22.%5Cn%5CnRule%20for%20printing%20a%20number%20of%20something%20(called%20the%20target)%20when%20the%20listing%20group%20size%20is%20greater%20than%207:%5Cn%5Ctsay%20%22%5Bone%20of%5Dsome%20%5Bor%5Dvarious%20%5Bor%5Dan%20assortment%20of%20%5Bat%20random%5D%22;%5Cn%5Ctcarry%20out%20the%20printing%20the%20plural%20name%20activity%20with%20the%20target.%5Cn%5Cn%5BThis%20general%20rule%20can%20of%20course%20be%20overridden%20by%20more%20specific%20ones;%20for%20instance,%20if%20we%20want%20to%20take%20the%20opportunity%20to%20comment%20on%20the%20viewpoint%20character's%20appetite%20for%20instruments%20of%20correction:%5D%5Cn%5CnRule%20for%20printing%20a%20number%20of%20red%20pencils%20(called%20the%20target)%20when%20the%20listing%20group%20size%20is%20greater%20than%2010:%5Cn%5Ctcarry%20out%20the%20printing%20the%20plural%20name%20activity%20with%20the%20target;%5Cn%5Ctsay%20%22%20in%20nearly-sufficient%20quantity%22.%5Cn%5CnTest%20me%20with%20%22get%20two%20letters%20/%20look%20/%20get%20a%20pencil%20/%20i%20/%20get%20pencil%20/%20g%20/%20g%20/%20look%20/%20i%20/%20get%20all%20/%20i%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Prolegomena"
</p>
<p class="quoted">
The Editor's Office is a room. The desk is a supporter in the Editor's Office.
</p>
<p class="quoted">
A red pencil is a kind of thing. 12 red pencils are on the desk.
</p>
<p class="quoted">
A letter is a kind of thing. 12 letters are on the desk. Understand "correspondence" as a letter.
</p>
<p class="quoted">
Rule for printing the plural name of a letter:
<br>    if the listing group size is greater than 7, say "correspondence";
<br>    otherwise say "letters".
</p>
<p class="quoted">
Rule for printing a number of something (called the target) when the listing group size is greater than 7:
<br>    say "[one of]some [or]various [or]an assortment of [at random]";
<br>    carry out the printing the plural name activity with the target.
</p>
</div>
<p>This general rule can of course be overridden by more specific ones; for instance, if we want to take the opportunity to comment on the viewpoint character's appetite for instruments of correction:</p>

<div class="code">
<p class="quoted">
Rule for printing a number of red pencils (called the target) when the listing group size is greater than 10:
<br>    carry out the printing the plural name activity with the target;
<br>    say " in nearly-sufficient quantity".
</p>
<p class="quoted">
Test me with "get two letters / look / get a pencil / i / get pencil / g / g / look / i / get all / i".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.12">WI §18.12. Printing a number of something</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-345"><summary><span class="example-summary">345. Wesponses</span> <span class="example-difficulty">★</span></summary><div>
<p>If we want to change individual responses to player action, then the best thing to do is to use the response facility to modify those selections, as shown in the chapter on Responses.</p>
<p>However, suppose what we want is to give the parser a speech impediment that slightly alters all of the responses it issues. For this purpose, we might need to do a bit of text replacement...</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Wesponses%22%5Cn%5CnThe%20Office%20is%20a%20room.%20Barry%20Kripke%20is%20a%20man%20in%20the%20Office.%5Cn%5CnThe%20response%20inhibition%20is%20initially%20false.%5Cn%5CnRule%20for%20issuing%20the%20response%20text%20of%20a%20response%20(called%20R)%20when%20response%20inhibition%20is%20false:%5Cn%5Ctnow%20response%20inhibition%20is%20true;%5Cn%5Ctlet%20output%20be%20%22%5Btext%20of%20R%5D%22;%5Cn%5Ctnow%20response%20inhibition%20is%20false;%5Cn%5Ctreplace%20the%20text%20%22r%22%20in%20output%20with%20%22w%22;%5Cn%5Ctreplace%20the%20text%20%22R%22%20in%20output%20with%20%22W%22;%5Cn%5Ctsay%20%22%5Boutput%5D%22.%5Cn%5CnTest%20me%20with%20%22i%20/%20x%20barry%20/%20listen%20/%20waffle%20/%20jump%22%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Wesponses"
</p>
<p class="quoted">
The Office is a room. Barry Kripke is a man in the Office.
</p>
<p class="quoted">
The response inhibition is initially false.
</p>
<p class="quoted">
Rule for issuing the response text of a response (called R) when response inhibition is false:
<br>    now response inhibition is true;
<br>    let output be "[text of R]";
<br>    now response inhibition is false;
<br>    replace the text "r" in output with "w";
<br>    replace the text "R" in output with "W";
<br>    say "[output]".
</p>
<p class="quoted">
Test me with "i / x barry / listen / waffle / jump"
</p>
</div>
<p>Notice that this doesn't affect the printed names of objects in the room description or other kinds of output text -- only those that are issued by the response mechanism.</p>
<p>It would also not work to try to give our parser a nervous personality by simply adding "Um, " to the beginning of each response, because responses are not guaranteed to be full standalone sentences. For example, we could imagine writing</p>

<div class="code"><p class="quoted">
Rule for issuing the response text of a response (called R) when response inhibition is false:
<br>    now response inhibition is true;
<br>    let output be "Um, [text of R]";
<br>    now response inhibition is false;
<br>    say "[output]".
</p></div>
<p>but here is what the room description would say as a result:</p>

<div class="code"><p class="quoted">
Office
<br>Um, You Um, can see Barry KripkeUm,  here
</p></div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.15">WI §18.15. Issuing the response text of something</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-413"><summary><span class="example-summary">413. Rocket Man</span> <span class="example-difficulty">★</span></summary><div>
<p>We can now change the case of any text produced by a "to say..." phrase. This is often useful when we would like to make use of a standard say phrase in some new context. Say, for instance, that we would like to "[is-are the list...]" in a context that needs the first letter to be capitalized.</p>
<p>We could write a new say phrase, such as "to say is-are the list of (N - a description of objects) in sentence capitalization"; but there is an easier way, and that is to set a text variable to the output of the to say phrase, and then print that text in the case of our choice.</p>
<p>For example:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Rocket%20Man%22%5Cn%5CnInstead%20of%20going%20somewhere%20from%20the%20spaceport%20when%20the%20player%20carries%20something:%5Cn%5Ctlet%20N%20be%20%22%5Bis-are%20the%20list%20of%20things%20carried%20by%20the%20player%5D%20really%20suitable%20gear%20to%20take%20to%20the%20moon?%22%20in%20sentence%20case;%5Cn%5Ctsay%20%22%5BN%5D%5Bparagraph%20break%5D%22.%5Cn%5CnThe%20Spaceport%20is%20a%20room.%20North%20of%20the%20Spaceport%20is%20the%20Rocket%20Launch%20Pad.%20The%20player%20carries%20a%20stuffed%20bear,%20a%20chocolate%20cookie,%20and%20a%20book.%5Cn%5CnThe%20description%20of%20the%20book%20is%20%22It%20is%20entitled%20%5Bitalic%20type%5DWhy%20Not%20To%20Take%20%5Bsentence%20cased%20inventory%5D%20To%20The%20Moon%5Broman%20type%5D.%22%5Cn%5CnTo%20say%20sentence%20cased%20inventory:%5Cn%5Ctlet%20N%20be%20%22%5Ba%20list%20of%20things%20carried%20by%20the%20player%5D%22%20in%20title%20case;%5Cn%5Ctsay%20%22%5BN%5D%22.%5Cn%5CnTest%20me%20with%20%22n%20/%20x%20book%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Rocket Man"
</p>
<p class="quoted">
Instead of going somewhere from the spaceport when the player carries something:
<br>    let N be "[is-are the list of things carried by the player] really suitable gear to take to the moon?" in sentence case;
<br>    say "[N][paragraph break]".
</p>
<p class="quoted">
The Spaceport is a room. North of the Spaceport is the Rocket Launch Pad. The player carries a stuffed bear, a chocolate cookie, and a book.
</p>
<p class="quoted">
The description of the book is "It is entitled [italic type]Why Not To Take [sentence cased inventory] To The Moon[roman type]."
</p>
<p class="quoted">
To say sentence cased inventory:
<br>    let N be "[a list of things carried by the player]" in title case;
<br>    say "[N]".
</p>
<p class="quoted">
Test me with "n / x book".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_20.html#wi-20.4">WI §20.4. Upper and lower case letters</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-421"><summary><span class="example-summary">421. Blackout</span> <span class="example-difficulty">★</span></summary><div>
<p>In this example, we want the names of rooms to be asterisked out if the player wanders around without the benefit of a candle. We can do this by treating the room names as text, then replacing every letter:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Blackout%22%5Cn%5CnTiny%20Room%20is%20a%20dark%20room.%20Absurdly%20Long-Named%20Room%20is%20a%20dark%20room.%20It%20is%20west%20of%20Tiny%20Room.%5Cn%5CnThe%20Candle%20Factory%20is%20north%20of%20Tiny%20Room.%20It%20contains%20a%20beeswax%20candle.%20The%20beeswax%20candle%20is%20lit.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20dark%20room:%5Cn%5Ctlet%20N%20be%20%22%5Blocation%5D%22;%5Cn%5Ctreplace%20the%20regular%20expression%20%22%5Cw%22%20in%20N%20with%20%22*%22;%5Cn%5Ctsay%20%22%5BN%5D%22.%5Cn%5CnTest%20me%20with%20%22w%20/%20look%20/%20e%20/%20n%20/%20get%20candle%20/%20s%20/%20w%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Blackout"
</p>
<p class="quoted">
Tiny Room is a dark room. Absurdly Long-Named Room is a dark room. It is west of Tiny Room.
</p>
<p class="quoted">
The Candle Factory is north of Tiny Room. It contains a beeswax candle. The beeswax candle is lit.
</p>
<p class="quoted">
Rule for printing the name of a dark room:
<br>    let N be "[location]";
<br>    replace the regular expression "\w" in N with "*";
<br>    say "[N]".
</p>
<p class="quoted">
Test me with "w / look / e / n / get candle / s / w".
</p>
</div>
<p>Notice that the hyphen in the Absurdly Long-Named Room does not get replaced. We could replace even that, if we liked, with</p>

<div class="code"><p class="quoted">
    replace the regular expression "\S" in N with "*";
</p></div>
<p>which would catch every character that is not a space.</p>
</div>
<div class="linkback">
<a href="wi_20.html#wi-20.8">WI §20.8. Replacements</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-439"><summary><span class="example-summary">439. Curare</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Curare%22%5Cn%5CnA%20thing%20has%20a%20number%20called%20the%20last%20use.%20The%20last%20use%20of%20a%20thing%20is%20usually%200.%5Cn%5CnDefinition:%20a%20thing%20is%20old%20if%20its%20last%20use%20is%2012%20or%20less.%5Cn%5Cn%5BThe%20actual%20number%20chosen%20in%20this%20definition%20is%20pretty%20much%20irrelevant:%20the%20main%20thing%20is%20that%20we%20want%20to%20establish%20relative%20values.%20The%20lower%20the%20%22last%20use%22%20number%20of%20an%20item,%20the%20older%20that%20item%20should%20be%20understood%20to%20be,%20as%20we%20see%20here:%5D%5Cn%5CnTo%20decide%20which%20thing%20is%20cyclically%20random%20(collection%20-%20a%20description%20of%20objects):%5Cn%5Ctlet%20choice%20be%20the%20oldest%20member%20of%20the%20collection;%5Cn%5Ctnow%20the%20last%20use%20of%20the%20choice%20is%20the%20turn%20count;%5Cn%5Ctdecide%20on%20choice.%5Cn%5Cn%5BThis%20phrase%20will%20select,%20from%20the%20collection%20of%20objects%20passed%20to%20it,%20the%20one%20that%20has%20been%20mentioned%20least%20recently.%20This%20means%20that%20if%20we%20consult%20it%20repeatedly%20about%20the%20same%20collection,%20it%20will%20begin%20to%20cycle%20predictably;%20but%20if%20new%20items%20are%20added%20to%20the%20collection,%20it%20will%20mention%20these%20first%20before%20returning%20to%20the%20previous%20cycle.%20Now%20we%20can%20use%20this:%5D%5Cn%5CnAfter%20taking%20inventory:%5Cn%5Ctsay%20%22You%20stare%20morosely%20at%20%5Bthe%20cyclically%20random%20thing%20carried%20by%20the%20player%5D,%20wondering%20what%20you're%20ever%20going%20to%20find%20to%20do%20with%20it.%22%5Cn%5Cn%5BWe%20could%20have%20said%20%22You%20stare%20morosely%20at%20%5Bthe%20oldest%20thing%20carried%20by%20the%20player%5D%22%20here,%20but%20doing%20so%20would%20not%20have%20set%20the%20%22last%20use%22%20property%20correctly,%20so%20we%20would%20not%20get%20the%20cycling%20behavior%20that%20we're%20looking%20for.%5D%5Cn%5CnThe%20Evidence%20Room%20is%20a%20room.%20Some%20shelves%20are%20scenery%20supporters%20in%20the%20Evidence%20Room.%20A%20box%20is%20a%20kind%20of%20container%20which%20is%20open%20and%20not%20openable.%20On%20the%20shelves%20is%20a%20box.%20%20It%20contains%20a%20deformed%20bullet%20and%20a%20driver's%20license.%5Cn%5CnThe%20player%20carries%20a%20steel%20fish%20hook,%20a%20Chinese%20passport,%20a%20tube%20of%20synthetic%20curare,%20and%20an%20envelope%20full%20of%20Euros.%5Cn%5CnTest%20me%20with%20%22i%20/%20i%20/%20i%20/%20i%20/%20i%20/%20i%20/%20get%20all%20from%20box%20/%20i%20/%20i%20/%20i%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Curare"
</p>
<p class="quoted">
A thing has a number called the last use. The last use of a thing is usually 0.
</p>
<p class="quoted">
Definition: a thing is old if its last use is 12 or less.
</p>
</div>
<p>The actual number chosen in this definition is pretty much irrelevant: the main thing is that we want to establish relative values. The lower the "last use" number of an item, the older that item should be understood to be, as we see here:</p>

<div class="code"><p class="quoted">
To decide which thing is cyclically random (collection - a description of objects):
<br>    let choice be the oldest member of the collection;
<br>    now the last use of the choice is the turn count;
<br>    decide on choice.
</p></div>
<p>This phrase will select, from the collection of objects passed to it, the one that has been mentioned least recently. This means that if we consult it repeatedly about the same collection, it will begin to cycle predictably; but if new items are added to the collection, it will mention these first before returning to the previous cycle. Now we can use this:</p>

<div class="code"><p class="quoted">
After taking inventory:
<br>    say "You stare morosely at [the cyclically random thing carried by the player], wondering what you're ever going to find to do with it."
</p></div>
<p>We could have said "You stare morosely at [the oldest thing carried by the player]" here, but doing so would not have set the "last use" property correctly, so we would not get the cycling behavior that we're looking for.</p>

<div class="code">
<p class="quoted">
The Evidence Room is a room. Some shelves are scenery supporters in the Evidence Room. A box is a kind of container which is open and not openable. On the shelves is a box.  It contains a deformed bullet and a driver's license.
</p>
<p class="quoted">
The player carries a steel fish hook, a Chinese passport, a tube of synthetic curare, and an envelope full of Euros.
</p>
<p class="quoted">
Test me with "i / i / i / i / i / i / get all from box / i / i / i".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_22.html#wi-22.2">WI §22.2. Descriptions as values</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-454"><summary><span class="example-summary">454. Blink</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we are writing a game in which the mood of the piece changes, and we would like to have lots of descriptions that vary according to its current state. We might in that case want to create our own "by atmosphere" token, to control text variations, like this:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Blink%22%5Cn%5CnAtmosphere%20is%20a%20kind%20of%20value.%20The%20atmospheres%20are%20normal,%20melancholy,%20and%20creepy.%5Cn%5CnThe%20current%20atmosphere%20is%20an%20atmosphere%20that%20varies.%5Cn%5CnTo%20say%20by%20atmosphere%20--%20ending%20say_one_of%20with%20marker%20I7_SOO_ATM:%5Cn%5Ct(-%20%7B-close-brace%7D%20-).%5Cn%5Cn%5BSince%20we're%20operating%20within%20the%20untyped%20Inform%206,%20we%20can%20make%20use%20of%20the%20fact%20that%20kinds%20of%20value%20are%20(internally)%20just%20constants,%20enumerated%20in%20the%20same%20order%20in%20which%20they%20were%20originally%20defined.%20In%20other%20words,%20%22normal%22%20at%20the%20I6%20level%20translates%20to%201,%20%22melancholy%22%20to%202,%20and%20%22creepy%22%20to%203;%20so%20we%20can%20return%20the%20value%20of%20the%20current%20atmosphere,%20and%20thereby%20select%20option%201,%202,%20or%203:%5D%5Cn%5CnInclude%20(-%5Cn%5B%20I7_SOO_ATM%20oldval%20count;%5Cn%5Ctif%20(count%20&lt;%20(%20%20current%20atmosphere%20%20))%20return%20count;%5Cn%5Ctreturn%20(%20%20current%20atmosphere%20%20);%20%5D;%5Cn-)%5Cn%5Cn%5BAnd%20that%20concludes%20the%20hard%20part.%20Now%20to%20test%20that%20it%20works:%5D%5Cn%5CnThe%20Flat%20is%20a%20room.%20%22A%20small%20%5Bone%20of%5Dbut%20cozy%5Bor%5Ddepressing%5Bor%5Dimprisoning%5Bby%20atmosphere%5D%20flat.%20Outside%20the%20window,%20the%20sun%20is%20%5Bone%20of%5D%5Bor%5D%5Bor%5Dapparently%20%5Bby%20atmosphere%5Dshining%20and%20there%20is%20a%20brisk%20breeze%20through%20the%20leaves%20of%20the%20birch%20trees.%20%5Bone%20of%5DIt%20would%20be%20quite%20nice%20weather%20for%20a%20walk%5Bor%5DThe%20rest%20of%20the%20world%20apparently%20has%20no%20appreciation%20of%20what%20you%20suffer%5Bor%5DIt%20all%20looks%20deceptively%20normal%5Bby%20atmosphere%5D.%22%5Cn%5CnInstead%20of%20waiting%20when%20the%20current%20atmosphere%20is%20normal:%5Cn%5Ctsay%20%22Everything%20stretches%20wide%20and%20flat%20for%20just%20a%20moment,%20as%20though%20all%20the%20world%20around%20you%20were%20painted%20on%20a%20thin%20rubber%20sheet%20that%20is%20being%20%5Bitalic%20type%5Dstretched%5Broman%20type%5D.%20Then%20it%20snaps%20back%20into%20place,%20leaving%20your%20ears%20ringing.%20But%20that%20little%20glitch%20was%20enough%20to%20warn%20you.%20Someone%20is%20tampering%20with%20space-time%20again.%20Someone%20very%20close%20by.%22;%5Cn%5Ctnow%20the%20current%20atmosphere%20is%20creepy.%5Cn%5CnTest%20me%20with%20%22look%20/%20z%20/%20look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Blink"
</p>
<p class="quoted">
Atmosphere is a kind of value. The atmospheres are normal, melancholy, and creepy.
</p>
<p class="quoted">
The current atmosphere is an atmosphere that varies.
</p>
<p class="quoted">
To say by atmosphere -- ending say_one_of with marker I7_SOO_ATM:
<br>    (- {-close-brace} -).
</p>
</div>
<p>Since we're operating within the untyped Inform 6, we can make use of the fact that kinds of value are (internally) just constants, enumerated in the same order in which they were originally defined. In other words, "normal" at the I6 level translates to 1, "melancholy" to 2, and "creepy" to 3; so we can return the value of the current atmosphere, and thereby select option 1, 2, or 3:</p>

<div class="code"><p class="quoted">
Include (-
<br>[ I7_SOO_ATM oldval count;
<br>    if (count &lt; (+ current atmosphere +)) return count;
<br>    return (+ current atmosphere +); ];
<br>-)
</p></div>
<p>And that concludes the hard part. Now to test that it works:</p>

<div class="code">
<p class="quoted">
The Flat is a room. "A small [one of]but cozy[or]depressing[or]imprisoning[by atmosphere] flat. Outside the window, the sun is [one of][or][or]apparently [by atmosphere]shining and there is a brisk breeze through the leaves of the birch trees. [one of]It would be quite nice weather for a walk[or]The rest of the world apparently has no appreciation of what you suffer[or]It all looks deceptively normal[by atmosphere]."
</p>
<p class="quoted">
Instead of waiting when the current atmosphere is normal:
<br>    say "Everything stretches wide and flat for just a moment, as though all the world around you were painted on a thin rubber sheet that is being [italic type]stretched[roman type]. Then it snaps back into place, leaving your ears ringing. But that little glitch was enough to warn you. Someone is tampering with space-time again. Someone very close by.";
<br>    now the current atmosphere is creepy.
</p>
<p class="quoted">
Test me with "look / z / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_27.html#wi-27.30">WI §27.30. To say one of</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-245"><summary><span class="example-summary">245. Fun with Participles</span> <span class="example-difficulty">★★</span></summary><div>
<p>Mostly the Standard Rules use verbs adapted to finite forms ("he jumped", "we take the hammer", and so on). But Inform can also produce participles to describe actions that are ongoing: "he is carrying the fedora" or "taking the hammer..."</p>
<p>In this example, we give non-player characters actions to perform and then have Inform dynamically describe what they're doing when the player chooses to look.</p>
<p>We start by establishing the idea that a verb can describe a particular action:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Fun%20with%20Participles%22%5Cn%5CnSection%201%20-%20Descriptive%20Functionality%5Cn%5CnDescribing%20relates%20various%20verbs%20to%20various%20action%20names.%20The%20verb%20to%20describe%20means%20the%20describing%20relation.%5Cn%5CnTo%20look%20around%20is%20a%20verb.%20The%20verb%20look%20around%20describes%20the%20looking%20action.%5Cn%5CnTo%20stand%20about%20is%20a%20verb.%20The%20verb%20stand%20about%20describes%20the%20waiting%20action.%20To%20look%20bored%20is%20a%20verb.%20The%20verb%20look%20bored%20describes%20the%20waiting%20action.%20To%20waste%20time%20is%20a%20verb.%20The%20verb%20waste%20time%20describes%20the%20waiting%20action.%5Cn%5CnTo%20jump%20is%20a%20verb.%20To%20leap%20is%20a%20verb.%20To%20pirouette%20is%20a%20verb.%20The%20verb%20jump%20describes%20the%20jumping%20action.%20The%20verb%20leap%20describes%20the%20jumping%20action.%20The%20verb%20pirouette%20describes%20the%20jumping%20action.%5Cn%5Cn%5BNow%20we%20need%20to%20give%20every%20character%20some%20sort%20of%20idle%20activity.%20By%20default,%20we'll%20have%20people%20just%20be%20waiting,%20but%20allow%20for%20that%20idle%20activity%20to%20change%20into%20something%20more%20interesting%20if%20the%20player%20has%20told%20them%20to%20do%20something%20else.%5D%5Cn%5CnA%20person%20has%20an%20action%20name%20called%20the%20current%20idle.%20The%20current%20idle%20of%20a%20person%20is%20usually%20the%20waiting%20action.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20someone%20%20(called%20chosen%20person)%20when%20a%20verb%20describes%20the%20current%20idle%20of%20the%20chosen%20person:%5Cn%5Ctsay%20%22%5BThe%20chosen%20person%5D%20%5Bare%5D%20here,%20%5Bpresent%20participle%20of%20a%20random%20verb%20that%20describes%20(the%20current%20idle%20of%20the%20chosen%20person)%5D.%22%5Cn%5CnInstead%20of%20someone%20doing%20something:%5Cn%5Ctnow%20the%20current%20idle%20of%20the%20person%20asked%20is%20(the%20action%20name%20part%20of%20the%20current%20action);%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnA%20persuasion%20rule:%5Cn%5Ctpersuasion%20succeeds.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnLab%20is%20a%20room.%20The%20fedora%20is%20a%20wearable%20thing%20in%20the%20Lab.%20Clark%20is%20a%20man%20in%20the%20Lab.%5Cn%5Cn%5BAnd%20just%20to%20give%20past%20participles%20a%20test-drive%20as%20well,%20let's%20make%20Clark%20a%20bit%20of%20a%20drama%20king:%5D%5Cn%5CnAfter%20Clark%20doing%20something%20when%20a%20verb%20describes%20(the%20action%20name%20part%20of%20the%20current%20action):%5Cn%5Ctsay%20%22'Fine,%20have%20it%20your%20way!'%20Clark%20exclaims.%20'But%20I%20have%20%5Bpast%20participle%20of%20a%20random%20verb%20that%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%5D%20for%20the%20last%20time!'%22;%5Cn%5Ctrule%20succeeds.%5Cn%5CnTest%20me%20with%20%22look%20/%20Clark,%20jump%20/%20look%20/%20Clark,%20look%20/%20look%20/%20Clark,%20wait%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Fun with Participles"
</p>
<p class="quoted">
Section 1 - Descriptive Functionality
</p>
<p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p>
<p class="quoted">
To look around is a verb. The verb look around describes the looking action.
</p>
<p class="quoted">
To stand about is a verb. The verb stand about describes the waiting action. To look bored is a verb. The verb look bored describes the waiting action. To waste time is a verb. The verb waste time describes the waiting action.
</p>
<p class="quoted">
To jump is a verb. To leap is a verb. To pirouette is a verb. The verb jump describes the jumping action. The verb leap describes the jumping action. The verb pirouette describes the jumping action.
</p>
</div>
<p>Now we need to give every character some sort of idle activity. By default, we'll have people just be waiting, but allow for that idle activity to change into something more interesting if the player has told them to do something else.</p>

<div class="code">
<p class="quoted">
A person has an action name called the current idle. The current idle of a person is usually the waiting action.
</p>
<p class="quoted">
Rule for writing a paragraph about someone  (called chosen person) when a verb describes the current idle of the chosen person:
<br>    say "[The chosen person] [are] here, [present participle of a random verb that describes (the current idle of the chosen person)]."
</p>
<p class="quoted">
Instead of someone doing something:
<br>    now the current idle of the person asked is (the action name part of the current action);
<br>    continue the action.
</p>
<p class="quoted">
A persuasion rule:
<br>    persuasion succeeds.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
Lab is a room. The fedora is a wearable thing in the Lab. Clark is a man in the Lab.
</p>
</div>
<p>And just to give past participles a test-drive as well, let's make Clark a bit of a drama king:</p>

<div class="code">
<p class="quoted">
After Clark doing something when a verb describes (the action name part of the current action):
<br>    say "'Fine, have it your way!' Clark exclaims. 'But I have [past participle of a random verb that describes (the action name part of the current action)] for the last time!'";
<br>    rule succeeds.
</p>
<p class="quoted">
Test me with "look / Clark, jump / look / Clark, look / look / Clark, wait".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_14.html#wi-14.3">WI §14.3. More on adapting verbs</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-246"><summary><span class="example-summary">246. Variety</span> <span class="example-difficulty">★★</span></summary><div>
<p>Verbs can be related to other things by relations. We've seen that it's possible for a verb to "mean" a relationship. But we can also create a relation between verbs and actions. For instance, we can tell Inform that "take", "get", and "acquire" are all valid ways to describe the action of taking, and then allow it to pick a verb randomly to describe whatever action just occurred.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Variety%22%5Cn%5CnSection%201%20-%20Descriptive%20Functionality%5Cn%5CnDescribing%20relates%20various%20verbs%20to%20various%20action%20names.%20The%20verb%20to%20describe%20means%20the%20describing%20relation.%5Cn%5CnTo%20take%20is%20a%20verb.%20To%20acquire%20is%20a%20verb.%20To%20get%20is%20a%20verb.%5Cn%5CnThe%20verb%20take%20describes%20the%20taking%20action.%20The%20verb%20acquire%20describes%20the%20taking%20action.%20The%20verb%20get%20describes%20the%20taking%20action.%5Cn%5CnTo%20drop%20is%20a%20verb.%20To%20put%20down%20is%20a%20verb.%20To%20discard%20is%20a%20verb.%20The%20verb%20drop%20describes%20the%20dropping%20action.%20The%20verb%20put%20down%20describes%20the%20dropping%20action.%20The%20verb%20discard%20describes%20the%20dropping%20action.%5Cn%5CnTo%20sniff%20is%20a%20verb.%20To%20smell%20is%20a%20verb.%20The%20verb%20sniff%20describes%20the%20smelling%20action.%20The%20verb%20smell%20describes%20the%20smelling%20action.%5Cn%5CnTo%20jump%20is%20a%20verb.%20To%20leap%20is%20a%20verb.%20To%20pirouette%20is%20a%20verb.%20The%20verb%20jump%20describes%20the%20jumping%20action.%20The%20verb%20leap%20describes%20the%20jumping%20action.%20The%20verb%20pirouette%20describes%20the%20jumping%20action.%5Cn%5CnAfter%20an%20actor%20doing%20something%20when%20the%20noun%20is%20nothing%20and%20a%20verb%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%20(this%20is%20the%20apply%20random%20verbs%20to%20describing%20nounless%20actions%20rule):%5Cn%5Ctsay%20%22%5BThe%20actor%5D%20%5Bverb%20rendering%20applied%20to%20a%20random%20verb%20that%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%5D.%22;%5Cn%5Ctrule%20succeeds.%5Cn%5CnAfter%20an%20actor%20doing%20something%20to%20something%20when%20a%20verb%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%20(this%20is%20the%20apply%20random%20verbs%20to%20describing%20actions%20rule):%5Cn%5Ctsay%20%22%5BThe%20actor%5D%20%5Bverb%20rendering%20applied%20to%20a%20random%20verb%20that%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%5D%20%5Bthe%20noun%5D.%22;%5Cn%5Ctrule%20succeeds.%5Cn%5CnTo%20decide%20which%20text%20is%20the%20rendering%20of%20(V%20-%20verb)%20(this%20is%20verb%20rendering):%5Cn%5Ctdecide%20on%20%22%5Badapt%20V%5D%22.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnLab%20is%20a%20room.%20The%20table%20is%20here.%20The%20bat%20and%20the%20ball%20are%20on%20the%20table.%5Cn%5CnTest%20me%20with%20%22get%20ball%20/%20drop%20ball%20/%20get%20bat%20/%20drop%20bat%20/%20smell%20ball%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Variety"
</p>
<p class="quoted">
Section 1 - Descriptive Functionality
</p>
<p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p>
<p class="quoted">
To take is a verb. To acquire is a verb. To get is a verb.
</p>
<p class="quoted">
The verb take describes the taking action. The verb acquire describes the taking action. The verb get describes the taking action.
</p>
<p class="quoted">
To drop is a verb. To put down is a verb. To discard is a verb. The verb drop describes the dropping action. The verb put down describes the dropping action. The verb discard describes the dropping action.
</p>
<p class="quoted">
To sniff is a verb. To smell is a verb. The verb sniff describes the smelling action. The verb smell describes the smelling action.
</p>
<p class="quoted">
To jump is a verb. To leap is a verb. To pirouette is a verb. The verb jump describes the jumping action. The verb leap describes the jumping action. The verb pirouette describes the jumping action.
</p>
<p class="quoted">
After an actor doing something when the noun is nothing and a verb describes (the action name part of the current action) (this is the apply random verbs to describing nounless actions rule):
<br>    say "[The actor] [verb rendering applied to a random verb that describes (the action name part of the current action)].";
<br>    rule succeeds.
</p>
<p class="quoted">
After an actor doing something to something when a verb describes (the action name part of the current action) (this is the apply random verbs to describing actions rule):
<br>    say "[The actor] [verb rendering applied to a random verb that describes (the action name part of the current action)] [the noun].";
<br>    rule succeeds.
</p>
<p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br>    decide on "[adapt V]".
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
Lab is a room. The table is here. The bat and the ball are on the table.
</p>
<p class="quoted">
Test me with "get ball / drop ball / get bat / drop bat / smell ball".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_14.html#wi-14.3">WI §14.3. More on adapting verbs</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-247"><summary><span class="example-summary">247. Variety 2</span> <span class="example-difficulty">★★</span></summary><div>
<p>Some of our default actions establish relations between items in the world, and reporting on the relation ("You are now carrying the fedora") can be a valid response alongside reporting on the action itself ("You take the fedora").</p>
<p>To do this, we need to teach Inform explicitly which relations are the results of actions, then check this when reporting on actions:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Variety%202%22%5Cn%5CnSection%201%20-%20Descriptive%20Functionality%5Cn%5CnDescribing%20relates%20various%20verbs%20to%20various%20action%20names.%20The%20verb%20to%20describe%20means%20the%20describing%20relation.%5Cn%5CnTable%20of%20Action%20Results%5Cnrelated%20action%5Ctrelation%5Cnthe%20taking%20action%5Ctthe%20carrying%20relation%5Cnthe%20wearing%20action%5Ctthe%20wearing%20relation%5Cnthe%20taking%20off%20action%5Ctthe%20carrying%20relation%5Cn%5Cn%5CnTo%20take%20is%20a%20verb.%20To%20acquire%20is%20a%20verb.%20To%20get%20is%20a%20verb.%5Cn%5CnThe%20verb%20take%20describes%20the%20taking%20action.%20The%20verb%20acquire%20describes%20the%20taking%20action.%20The%20verb%20get%20describes%20the%20taking%20action.%5Cn%5CnTo%20drop%20is%20a%20verb.%20To%20put%20down%20is%20a%20verb.%20To%20discard%20is%20a%20verb.%20The%20verb%20drop%20describes%20the%20dropping%20action.%20The%20verb%20put%20down%20describes%20the%20dropping%20action.%20The%20verb%20discard%20describes%20the%20dropping%20action.%5Cn%5CnTo%20sniff%20is%20a%20verb.%20To%20smell%20is%20a%20verb.%20The%20verb%20sniff%20describes%20the%20smelling%20action.%20The%20verb%20smell%20describes%20the%20smelling%20action.%5Cn%5CnTo%20jump%20is%20a%20verb.%20To%20leap%20is%20a%20verb.%20To%20pirouette%20is%20a%20verb.%20The%20verb%20jump%20describes%20the%20jumping%20action.%20The%20verb%20leap%20describes%20the%20jumping%20action.%20The%20verb%20pirouette%20describes%20the%20jumping%20action.%5Cn%5CnTo%20don%20is%20a%20verb.%20The%20verb%20don%20describes%20the%20wearing%20action.%5Cn%5CnTo%20doff%20is%20a%20verb.%20The%20verb%20doff%20describes%20the%20taking%20off%20action.%5Cn%5Cn%5CnAfter%20an%20actor%20doing%20something%20when%20the%20noun%20is%20nothing%20and%20a%20verb%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%20(this%20is%20the%20apply%20random%20verbs%20to%20describing%20nounless%20actions%20rule):%5Cn%5Ctsay%20%22%5BThe%20actor%5D%20%5Bverb%20rendering%20applied%20to%20a%20random%20verb%20that%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%5D.%22;%5Cn%5Ctrule%20succeeds.%5Cn%5CnAfter%20an%20actor%20doing%20something%20to%20something%20when%20a%20verb%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%20(this%20is%20the%20apply%20random%20verbs%20to%20describing%20actions%20rule):%5Cn%5Ctlet%20current%20action%20name%20be%20the%20action%20name%20part%20of%20the%20current%20action;%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%202%20succeeds%20and%20the%20current%20action%20name%20is%20a%20related%20action%20listed%20in%20the%20Table%20of%20Action%20Results:%5Cn%5Ct%5Ctchoose%20a%20row%20with%20the%20related%20action%20of%20current%20action%20name%20in%20the%20Table%20of%20Action%20Results;%5Cn%5Ct%5Ctlet%20R%20be%20the%20relation%20entry;%5Cn%5Ct%5Ctlet%20subject%20be%20the%20actor;%5Cn%5Ct%5Ctlet%20chosen%20object%20be%20the%20noun;%5Cn%5Ct%5Ctsay%20%22%5BThe%20subject%5D%20%5Bare%5D%20now%20%5Bpresent%20participle%20of%20a%20random%20verb%20that%20means%20R%5D%20%5Bthe%20chosen%20object%5D.%22;%5Cn%5Ctelse:%5Cn%5Ct%5Ctsay%20%22%5BThe%20actor%5D%20%5Bverb%20rendering%20applied%20to%20a%20random%20verb%20that%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%5D%20%5Bthe%20noun%5D.%22;%5Cn%5Ctrule%20succeeds.%5Cn%5CnTo%20decide%20which%20text%20is%20the%20rendering%20of%20(V%20-%20verb)%20(this%20is%20verb%20rendering):%5Cn%5Ctdecide%20on%20%22%5Badapt%20V%5D%22.%5Cn%5CnTo%20say%20infinitive%20of%20(V%20-%20a%20verb):%20(-%20%7BV%7D(1);%20-).%5Cn%5CnTo%20say%20past%20participle%20of%20(V%20-%20a%20verb):%20(-%20%7BV%7D(2);%20-).%5Cn%5CnTo%20say%20present%20participle%20of%20(V%20-%20a%20verb):%20(-%20%7BV%7D(3);%20-).%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnLab%20is%20a%20room.%20The%20fedora%20is%20a%20wearable%20thing%20in%20the%20Lab.%5Cn%5CnTest%20me%20with%20%22wear%20the%20fedora%20/%20take%20off%20the%20fedora%20/%20wear%20fedora%20/%20take%20off%20fedora%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Variety 2"
</p>
<p class="quoted">
Section 1 - Descriptive Functionality
</p>
<p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p>
<p class="quoted">
Table of Action Results
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">related action</p></td>
<td class="quotedtablecell"><p class="quoted">relation</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">the carrying relation</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the wearing action</p></td>
<td class="quotedtablecell"><p class="quoted">the wearing relation</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the taking off action</p></td>
<td class="quotedtablecell"><p class="quoted">the carrying relation</p></td>
</tr>
</table>
<p class="quoted">
To take is a verb. To acquire is a verb. To get is a verb.
</p>
<p class="quoted">
The verb take describes the taking action. The verb acquire describes the taking action. The verb get describes the taking action.
</p>
<p class="quoted">
To drop is a verb. To put down is a verb. To discard is a verb. The verb drop describes the dropping action. The verb put down describes the dropping action. The verb discard describes the dropping action.
</p>
<p class="quoted">
To sniff is a verb. To smell is a verb. The verb sniff describes the smelling action. The verb smell describes the smelling action.
</p>
<p class="quoted">
To jump is a verb. To leap is a verb. To pirouette is a verb. The verb jump describes the jumping action. The verb leap describes the jumping action. The verb pirouette describes the jumping action.
</p>
<p class="quoted">
To don is a verb. The verb don describes the wearing action.
</p>
<p class="quoted">
To doff is a verb. The verb doff describes the taking off action.
</p>
<p class="quoted">
After an actor doing something when the noun is nothing and a verb describes (the action name part of the current action) (this is the apply random verbs to describing nounless actions rule):
<br>    say "[The actor] [verb rendering applied to a random verb that describes (the action name part of the current action)].";
<br>    rule succeeds.
</p>
<p class="quoted">
After an actor doing something to something when a verb describes (the action name part of the current action) (this is the apply random verbs to describing actions rule):
<br>    let current action name be the action name part of the current action;
<br>    if a random chance of 1 in 2 succeeds and the current action name is a related action listed in the Table of Action Results:
<br>        choose a row with the related action of current action name in the Table of Action Results;
<br>        let R be the relation entry;
<br>        let subject be the actor;
<br>        let chosen object be the noun;
<br>        say "[The subject] [are] now [present participle of a random verb that means R] [the chosen object].";
<br>    else:
<br>        say "[The actor] [verb rendering applied to a random verb that describes (the action name part of the current action)] [the noun].";
<br>    rule succeeds.
</p>
<p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br>    decide on "[adapt V]".
</p>
<p class="quoted">
To say infinitive of (V - a verb): (- {V}(1); -).
</p>
<p class="quoted">
To say past participle of (V - a verb): (- {V}(2); -).
</p>
<p class="quoted">
To say present participle of (V - a verb): (- {V}(3); -).
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
Lab is a room. The fedora is a wearable thing in the Lab.
</p>
<p class="quoted">
Test me with "wear the fedora / take off the fedora / wear fedora / take off fedora".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_14.html#wi-14.3">WI §14.3. More on adapting verbs</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-250"><summary><span class="example-summary">250. Relevant Relations</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose that we wanted authors to be able to indicate which relations should or should not be included in room descriptions, and have the system dynamically honor that instruction.</p>
<p>Inform already knows about verbs for describing supporting, containment, carrying, and wearing, so we could write a set of instructions to handle such cases. To do this, we're using the "writing a paragraph about" activity, which is described in the chapter on activities.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Relevant%20Relations%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20something%20(called%20item):%5Cn%5Ctnow%20the%20current%20paragraph%20is%20%7B%20%7D;%5Cn%5Ctsay%20%22%5Bone%20of%5D%5Bregarding%20item%5DThere%20%5Bare%5D%20%5Ban%20item%5D%20here%5Bor%5D%5BWe%5D%20%5Bcan%20see%5D%20%5Ban%20item%5D%20here%5Bat%20random%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctfollow%20the%20descriptive%20rules%20for%20the%20item;%5Cn%5Ctrepeat%20with%20new%20item%20running%20through%20the%20current%20paragraph:%5Cn%5Ct%5Ctnow%20the%20prior%20named%20object%20is%20nothing;%5Cn%5Ct%5Ctif%20new%20item%20is%20not%20the%20item:%5Cn%5Ct%5Ct%5Ctfollow%20the%20descriptive%20rules%20for%20the%20new%20item;%5Cn%5Ctsay%20paragraph%20break.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20someone%20(called%20chosen%20person):%5Cn%5Ctnow%20the%20current%20paragraph%20is%20%7B%20%7D;%5Cn%5Ctsay%20%22%5Bone%20of%5D%5Bregarding%20chosen%20person%5D%5BThe%20chosen%20person%5D%20%5Bare%5D%20here%5Bor%5D%5BWe%5D%20%5Bcan%20see%5D%20%5Ba%20chosen%20person%5D%20here%5Bat%20random%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctfollow%20the%20descriptive%20rules%20for%20the%20chosen%20person;%5Cn%5Ctrepeat%20with%20new%20item%20running%20through%20the%20current%20paragraph:%5Cn%5Ct%5Ctnow%20the%20prior%20named%20object%20is%20nothing;%5Cn%5Ct%5Ctif%20new%20item%20is%20not%20the%20chosen%20person:%5Cn%5Ct%5Ct%5Ctfollow%20the%20descriptive%20rules%20for%20the%20new%20item;%5Cn%5Ctsay%20paragraph%20break.%5Cn%5Cn%5CnThe%20descriptive%20rules%20are%20an%20object-based%20rulebook.%5Cn%5CnDefinition:%20a%20container%20is%20see-through:%5Cn%5Ctif%20it%20is%20transparent:%5Cn%5Ct%5Ctyes;%5Cn%5Ctif%20it%20is%20open:%5Cn%5Ct%5Ctyes;%5Cn%5Ctno.%5Cn%5CnA%20descriptive%20rule%20for%20a%20see-through%20container%20(called%20item)%20(this%20is%20the%20describe%20contents%20rule):%5Cn%5Ctdescribe%20the%20containment%20relation%20for%20item.%5Cn%5CnA%20descriptive%20rule%20for%20a%20supporter%20(called%20item):%5Cn%5Ctdescribe%20the%20support%20relation%20for%20item.%5Cn%5CnA%20descriptive%20rule%20for%20a%20person%20(called%20item):%5Cn%5Ctdescribe%20the%20wearing%20relation%20for%20the%20item.%5Cn%5CnA%20descriptive%20rule%20for%20a%20person%20(called%20item):%5Cn%5Ctdescribe%20the%20carrying%20relation%20for%20the%20item.%5Cn%5CnThe%20current%20paragraph%20is%20a%20list%20of%20things%20that%20varies.%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20(called%20mentioned%20target)%20while%20writing%20a%20paragraph%20about%20something:%5Cn%5Ctadd%20the%20mentioned%20target%20to%20the%20current%20paragraph,%20if%20absent.%5Cn%5CnTo%20describe%20(R%20-%20a%20relation%20of%20objects)%20for%20(item%20-%20a%20thing):%5Cn%5Ctif%20a%20thing%20to%20which%20item%20relates%20by%20R%20is%20a%20thing:%5Cn%5Ct%5Ctsay%20%22%5BThe%20item%20with%20pronoun%5D%20%5Bverb%20rendering%20applied%20to%20a%20random%20verb%20that%20means%20R%5D%20%5Bthe%20list%20of%20things%20to%20which%20item%20relates%20by%20R%20with%20indefinite%20articles%5D.%20%5Brun%20paragraph%20on%5D%22%5Cn%5CnTo%20decide%20which%20text%20is%20the%20rendering%20of%20(V%20-%20verb)%20(this%20is%20verb%20rendering):%5Cn%5Ctdecide%20on%20%22%5Badapt%20V%5D%22.%5Cn%5CnTo%20say%20(T%20-%20a%20thing)%20with%20pronoun:%5Cn%5Ctif%20T%20is%20the%20prior%20named%20object:%5Cn%5Ct%5Ctsay%20%22%5Bregarding%20T%5D%5BThey%5D%22;%5Cn%5Ctelse:%5Cn%5Ct%5Ctsay%20%22%5BThe%20T%5D%22%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Space%20Elevator%20is%20a%20room.%20%22Mercifully,%20there%20aren't%20any%20windows.%20The%20ability%20to%20see%20how%20far%20up%20you%20are%20would%20almost%20certainly%20make%20you%20ill.%22%5Cn%5CnThe%20luggage%20rack%20is%20a%20supporter%20in%20the%20Space%20Elevator.%20The%20suitcase%20is%20a%20closed%20openable%20container%20on%20the%20luggage%20rack.%20The%20bouquet%20is%20on%20the%20luggage%20rack.%5Cn%5CnClark%20is%20a%20man%20in%20the%20Space%20Elevator.%20Clark%20is%20carrying%20a%20box%20of%20cupcakes.%20Clark%20is%20wearing%20a%20t-shirt.%20The%20description%20of%20the%20box%20of%20cupcakes%20is%20%22They're%20the%20latest%20confection%20from%20Red%20Velvet%20Planet,%20the%20Martian%20bakery.%22%5Cn%5CnPersuasion%20rule:%20persuasion%20succeeds.%5Cn%5Cn%5BWe%20can%20if%20we%20like%20then%20add%20alternate%20names%20for%20these%20relations%20that%20will%20be%20randomly%20swapped%20in%20some%20of%20the%20time.%20For%20instance:%5D%5Cn%5CnTo%20sport%20is%20a%20verb.%20The%20verb%20to%20sport%20means%20the%20wearing%20relation.%5Cn%5CnTo%20hold%20up%20is%20a%20verb.%20The%20verb%20to%20hold%20up%20means%20the%20support%20relation.%5Cn%5CnTest%20me%20with%20%22clark,%20drop%20the%20box%20/%20look%20/%20clark,%20take%20the%20suitcase%20/%20look%20/%20clark,%20get%20bouquet%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Relevant Relations"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
Rule for writing a paragraph about something (called item):
<br>    now the current paragraph is { };
<br>    say "[one of][regarding item]There [are] [an item] here[or][We] [can see] [an item] here[at random]. [run paragraph on]";
<br>    follow the descriptive rules for the item;
<br>    repeat with new item running through the current paragraph:
<br>        now the prior named object is nothing;
<br>        if new item is not the item:
<br>            follow the descriptive rules for the new item;
<br>    say paragraph break.
</p>
<p class="quoted">
Rule for writing a paragraph about someone (called chosen person):
<br>    now the current paragraph is { };
<br>    say "[one of][regarding chosen person][The chosen person] [are] here[or][We] [can see] [a chosen person] here[at random]. [run paragraph on]";
<br>    follow the descriptive rules for the chosen person;
<br>    repeat with new item running through the current paragraph:
<br>        now the prior named object is nothing;
<br>        if new item is not the chosen person:
<br>            follow the descriptive rules for the new item;
<br>    say paragraph break.
</p>
<p class="quoted">
The descriptive rules are an object-based rulebook.
</p>
<p class="quoted">
Definition: a container is see-through:
<br>    if it is transparent:
<br>        yes;
<br>    if it is open:
<br>        yes;
<br>    no.
</p>
<p class="quoted">
A descriptive rule for a see-through container (called item) (this is the describe contents rule):
<br>    describe the containment relation for item.
</p>
<p class="quoted">
A descriptive rule for a supporter (called item):
<br>    describe the support relation for item.
</p>
<p class="quoted">
A descriptive rule for a person (called item):
<br>    describe the wearing relation for the item.
</p>
<p class="quoted">
A descriptive rule for a person (called item):
<br>    describe the carrying relation for the item.
</p>
<p class="quoted">
The current paragraph is a list of things that varies.
</p>
<p class="quoted">
Before printing the name of something (called mentioned target) while writing a paragraph about something:
<br>    add the mentioned target to the current paragraph, if absent.
</p>
<p class="quoted">
To describe (R - a relation of objects) for (item - a thing):
<br>    if a thing to which item relates by R is a thing:
<br>        say "[The item with pronoun] [verb rendering applied to a random verb that means R] [the list of things to which item relates by R with indefinite articles]. [run paragraph on]"
</p>
<p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br>    decide on "[adapt V]".
</p>
<p class="quoted">
To say (T - a thing) with pronoun:
<br>    if T is the prior named object:
<br>        say "[regarding T][They]";
<br>    else:
<br>        say "[The T]"
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Space Elevator is a room. "Mercifully, there aren't any windows. The ability to see how far up you are would almost certainly make you ill."
</p>
<p class="quoted">
The luggage rack is a supporter in the Space Elevator. The suitcase is a closed openable container on the luggage rack. The bouquet is on the luggage rack.
</p>
<p class="quoted">
Clark is a man in the Space Elevator. Clark is carrying a box of cupcakes. Clark is wearing a t-shirt. The description of the box of cupcakes is "They're the latest confection from Red Velvet Planet, the Martian bakery."
</p>
<p class="quoted">
Persuasion rule: persuasion succeeds.
</p>
</div>
<p>We can if we like then add alternate names for these relations that will be randomly swapped in some of the time. For instance:</p>

<div class="code">
<p class="quoted">
To sport is a verb. The verb to sport means the wearing relation.
</p>
<p class="quoted">
To hold up is a verb. The verb to hold up means the support relation.
</p>
<p class="quoted">
Test me with "clark, drop the box / look / clark, take the suitcase / look / clark, get bouquet".
</p>
</div>
<p>One might, hypothetically, imagine going even further than this and simply designating relations as either "important" or "unimportant" -- perhaps changing the relation's designation at runtime. Relations are not themselves allowed to have properties, however.</p>
</div>
<div class="linkback">
<a href="wi_14.html#wi-14.9">WI §14.9. Verbs as values</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-251"><summary><span class="example-summary">251. History Lab</span> <span class="example-difficulty">★★</span></summary><div>
<p>The examples Variety and Narrative Register show how verbs can be associated with particular actions. Here, we use the same principle so that we can report to the player what was last done to a particular object, either by the player or by someone else.</p>
<p>To do this, we need to use the idea of stored actions from the Advanced Actions chapter.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22History%20Lab%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnAn%20object%20has%20an%20action%20called%20the%20last%20action.%5Cn%5CnDescribing%20relates%20various%20verbs%20to%20various%20action%20names.%20The%20verb%20to%20describe%20means%20the%20describing%20relation.%5Cn%5CnTo%20take%20is%20a%20verb.%20The%20verb%20take%20describes%20the%20taking%20action.%5CnTo%20drop%20is%20a%20verb.%20The%20verb%20drop%20describes%20the%20dropping%20action.%5CnTo%20look%20at%20is%20a%20verb.%20The%20verb%20look%20at%20describes%20the%20examining%20action.%5CnTo%20examine%20is%20a%20verb.%20The%20verb%20examine%20describes%20the%20examining%20action.%5Cn%5CnAfter%20an%20actor%20doing%20something%20to%20something:%5Cn%5Ctif%20a%20verb%20describes%20the%20action%20name%20part%20of%20the%20current%20action:%5Cn%5Ct%5Ctnow%20the%20indefinite%20article%20of%20the%20noun%20is%20%22the%22;%5Cn%5Ct%5Ctnow%20the%20last%20action%20of%20the%20noun%20is%20the%20current%20action;%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnAfter%20printing%20the%20name%20of%20something%20(called%20item):%5Cn%5Ctif%20the%20last%20action%20of%20the%20item%20is%20not%20waiting%20and%20the%20last%20action%20of%20the%20item%20is%20not%20the%20current%20action:%5Cn%5Ct%5Ctlet%20chosen%20action-name%20be%20the%20action%20name%20part%20of%20the%20last%20action%20of%20the%20item;%5Cn%5Ct%5Ctlet%20chosen%20actor%20be%20the%20actor%20part%20of%20the%20the%20last%20action%20of%20the%20item;%5Cn%5Ct%5Ctif%20a%20verb%20describes%20the%20chosen%20action-name:%5Cn%5Ct%5Ct%5Ctlet%20the%20chosen%20verb%20be%20a%20random%20verb%20that%20describes%20the%20chosen%20action-name;%5Cn%5Ct%5Ct%5Ctsay%20%22%20%5Bif%20the%20chosen%20actor%20is%20the%20player%5D%5Bwe%5D%5Belse%5D%5Bchosen%20actor%5D%5Bend%20if%5D%20%5Badapt%20chosen%20verb%20in%20past%20tense%5D%22;%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnLab%20is%20a%20room.%20It%20contains%20a%20box.%20The%20box%20contains%20a%20newspaper.%20Clark%20is%20a%20man%20in%20the%20Lab.%5Cn%5CnA%20persuasion%20rule:%5Cn%5Ctpersuasion%20succeeds.%5Cn%5CnTest%20me%20with%20%22x%20box%20/%20look%20/%20x%20newspaper%20/%20look%20/%20clark,%20x%20newspaper%20/%20clark,%20get%20box%20/%20clark,%20drop%20box%20/%20look%20/%20take%20box%20/%20i%20/%20smell%20box%20/%20i%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "History Lab"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
An object has an action called the last action.
</p>
<p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p>
<p class="quoted">
To take is a verb. The verb take describes the taking action.
<br>To drop is a verb. The verb drop describes the dropping action.
<br>To look at is a verb. The verb look at describes the examining action.
<br>To examine is a verb. The verb examine describes the examining action.
</p>
<p class="quoted">
After an actor doing something to something:
<br>    if a verb describes the action name part of the current action:
<br>        now the indefinite article of the noun is "the";
<br>        now the last action of the noun is the current action;
<br>    continue the action.
</p>
<p class="quoted">
After printing the name of something (called item):
<br>    if the last action of the item is not waiting and the last action of the item is not the current action:
<br>        let chosen action-name be the action name part of the last action of the item;
<br>        let chosen actor be the actor part of the the last action of the item;
<br>        if a verb describes the chosen action-name:
<br>            let the chosen verb be a random verb that describes the chosen action-name;
<br>            say " [if the chosen actor is the player][we][else][chosen actor][end if] [adapt chosen verb in past tense]";
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
Lab is a room. It contains a box. The box contains a newspaper. Clark is a man in the Lab.
</p>
<p class="quoted">
A persuasion rule:
<br>    persuasion succeeds.
</p>
<p class="quoted">
Test me with "x box / look / x newspaper / look / clark, x newspaper / clark, get box / clark, drop box / look / take box / i / smell box / i".
</p>
</div>
<p>Notice that smelling the box does not change the box's description because we haven't gotten around to defining a smell or sniff verb.</p>
</div>
<div class="linkback">
<a href="wi_14.html#wi-14.9">WI §14.9. Verbs as values</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-60"><summary><span class="example-summary">60. Ballpark</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Sometimes it is more sensible to describe numbers roughly than in exact terms. For instance, we might want to have our player perceive "many people" rather than "forty-two people" on entering a room. To achieve this, we might write our own "to say" phrase.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Ballpark%22%5Cn%5CnTo%20say%20(count%20-%20a%20number)%20in%20round%20numbers:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Numerical%20Approximation:%5Cn%5Ct%5Ctif%20count%20is%20less%20than%20threshold%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bapproximation%20entry%5D%22;%5Cn%5Ct%5Ct%5Ctrule%20succeeds.%5Cn%5Cn%5BPhrases%20will%20be%20explained%20more%20thoroughly%20in%20a%20later%20chapter,%20but%20as%20we%20have%20already%20seen%20in%20the%20examples,%20we%20can%20make%20a%20%22To%20say...%22%20phrase%20that%20will%20allow%20us%20to%20create%20our%20own%20text%20substitutions.%20In%20this%20case,%20we%20are%20going%20to%20replace%20the%20specific%20number%20with%20a%20vaguer%20one%20chosen%20from%20a%20chart,%20so:%5D%5Cn%5CnTable%20of%20Numerical%20Approximation%5Cnthreshold%5Ctapproximation%5Cn1%5Ct%22no%22%5Cn2%5Ct%22one%22%5Cn3%5Ct%22a%20couple%20of%22%5Cn6%5Ct%22a%20few%22%5Cn11%5Ct%22some%22%5Cn21%5Ct%22many%22%5Cn1000%5Ct%22lots%20and%20lots%20of%22%5Cn%5Cn%5BThe%20idea%20here%20is%20that%20we%20will%20work%20our%20way%20through%20the%20table%20until%20we%20hit%20a%20line%20where%20the%20threshold%20number%20is%20higher%20than%20the%20number%20we%20want%20to%20express,%20and%20then%20print%20that%20output:%20so%20if%20we%20have%20less%20than%20one%20item,%20we'll%20print%20%22no%22;%20if%20we%20have%20more%20than%20none%20but%20less%20than%20two,%20we'll%20print%20%22one%22;%20if%20we%20have%20less%20than%20three,%20we'll%20print%20%22a%20couple%20of%22;%20if%20we%20have%20three,%20four,%20or%20five%20(but%20not%20six),%20we'll%20print%20%22a%20few.%22%5D%5Cn%5CnA%20room%20has%20a%20number%20called%20the%20population.%20The%20population%20of%20a%20room%20is%20usually%200.%20The%20description%20of%20a%20room%20is%20usually%20%22You%20observe%20%5Bpopulation%20of%20the%20location%20in%20round%20numbers%5D%20%5Bif%20population%20of%20the%20location%20is%201%5Dperson%20%5Botherwise%5Dpeople%20%5Bend%20if%5Dhere.%22.%5Cn%5CnThe%20Stadium%20is%20a%20room.%20The%20Hot%20Dog%20Stand%20is%20west%20of%20the%20Stadium.%20The%20Women's%20Restroom%20is%20south%20of%20the%20Stadium.%5Cn%5CnThe%20population%20of%20the%20Stadium%20is%20500.%20The%20population%20of%20the%20Hot%20Dog%20Stand%20is%203.%20The%20population%20of%20the%20Restroom%20is%20750.%5Cn%5CnTest%20me%20with%20%22w%20/%20e%20/%20s%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Ballpark"
</p>
<p class="quoted">
To say (count - a number) in round numbers:
<br>    repeat through the Table of Numerical Approximation:
<br>        if count is less than threshold entry:
<br>            say "[approximation entry]";
<br>            rule succeeds.
</p>
</div>
<p>Phrases will be explained more thoroughly in a later chapter, but as we have already seen in the examples, we can make a "To say..." phrase that will allow us to create our own text substitutions. In this case, we are going to replace the specific number with a vaguer one chosen from a chart, so:</p>

<div class="code">
<p class="quoted">
Table of Numerical Approximation
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">threshold</p></td>
<td class="quotedtablecell"><p class="quoted">approximation</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">"no"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">"one"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">3</p></td>
<td class="quotedtablecell"><p class="quoted">"a couple of"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">6</p></td>
<td class="quotedtablecell"><p class="quoted">"a few"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">11</p></td>
<td class="quotedtablecell"><p class="quoted">"some"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">21</p></td>
<td class="quotedtablecell"><p class="quoted">"many"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">1000</p></td>
<td class="quotedtablecell"><p class="quoted">"lots and lots of"</p></td>
</tr>
</table>
</div>
<p>The idea here is that we will work our way through the table until we hit a line where the threshold number is higher than the number we want to express, and then print that output: so if we have less than one item, we'll print "no"; if we have more than none but less than two, we'll print "one"; if we have less than three, we'll print "a couple of"; if we have three, four, or five (but not six), we'll print "a few."</p>

<div class="code">
<p class="quoted">
A room has a number called the population. The population of a room is usually 0. The description of a room is usually "You observe [population of the location in round numbers] [if population of the location is 1]person [otherwise]people [end if]here.".
</p>
<p class="quoted">
The Stadium is a room. The Hot Dog Stand is west of the Stadium. The Women's Restroom is south of the Stadium.
</p>
<p class="quoted">
The population of the Stadium is 500. The population of the Hot Dog Stand is 3. The population of the Restroom is 750.
</p>
<p class="quoted">
Test me with "w / e / s".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.4">WI §5.4. Text with numbers</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-72"><summary><span class="example-summary">72. Fifty Times Fifty Ways</span> <span class="example-difficulty">★★★</span></summary><div>
<p>There is only so much we can cram into a text property, so being able to swap in properties is useful but limited. Fortunately, we can also, if we want, create new phrases for how to say things in brackets:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Fifty%20Times%20Fifty%20Ways%22%5Cn%5CnThe%20Beekeeper's%20Palace%20is%20a%20room.%20Wasp%20is%20a%20woman%20in%20the%20palace.%20Drone%20is%20a%20man%20in%20the%20palace.%5Cn%5CnA%20person%20can%20be%20fierce%20or%20mellow.%20Wasp%20is%20fierce.%20Drone%20is%20mellow.%20A%20person%20can%20be%20calm%20or%20angry.%20A%20person%20is%20usually%20calm.%20A%20person%20has%20some%20text%20called%20%20insult.%20The%20insult%20of%20a%20person%20is%20usually%20%22Grasshopper%22.%20The%20insult%20of%20Wasp%20is%20%22Larva%22.%5Cn%5CnInstead%20of%20kissing%20someone:%5Cn%5Ctsay%20%22'%5Bdenial%20for%20the%20noun%5D,%20%5Binsult%20for%20the%20noun%5D!%20%5Bboast%5D!'%22;%5Cn%5Cn%5BNow%20to%20provide%20some%20meaning%20to%20these%20bracketed%20forms.%20We'll%20start%20with%20the%20easy%20one:%5D%5Cn%5CnTo%20say%20boast:%5Cn%5Ctsay%20%22I%20have%20ferocious%20allies%22.%5Cn%5Cn%5BThis%20is%20a%20%22to%20say%22%20phrase;%20we%20will%20learn%20more%20about%20phrases%20in%20a%20later%20chapter,%20but%20for%20now%20it%20may%20be%20enough%20to%20observe%20that%20whatever%20we%20write%20after%20%22to%20say...%22%20becomes%20a%20valid%20substitution%20in%20bracketed%20speech.%20In%20this%20particular%20case%20there%20is%20no%20advantage%20to%20using%20the%20boast%20token%20rather%20than%20spelling%20the%20text%20out%20in%20the%20quotation,%20but%20we%20might%20in%20theory%20add%20further%20instructions%20to%20randomize%20the%20output,%20for%20instance.%5D%5Cn%5Cn%5BTo%20say%20phrases%20can%20be%20more%20complex,%20as%20well,%20since%20we%20can%20have%20them%20incorporate%20extra%20information:%5D%5Cn%5CnTo%20say%20insult%20for%20(speaker%20-%20a%20person):%5Cn%5Ctif%20speaker%20is%20angry,%20say%20%22%5Bthe%20insult%20of%20the%20noun%5D%22;%5Cn%5Ctotherwise%20say%20%22small%20one%22.%5Cn%5Cn%5BHere%20where%20we%20have%20(speaker%20-%20a%20person),%20we%20are%20leaving%20a%20slot%20which%20we%20can%20later%20fill%20in,%20madlibs-like,%20with%20any%20person%20we%20like.%20That%20is%20why%20we%20can%20write%20%22insult%20for%20the%20noun%22:%20we%20are%20summoning%20the%20To%20say%20phrase%20and%20telling%20it%20to%20fill%20in%20the%20identity%20of%20the%20unknown%20speaker%20with%20the%20noun.%5D%5Cn%5Cn%5BThis%20differs%20from%20%22insult%20of%20the%20noun%22%20in%20the%20previous%20example;%20in%20that%20case,%20each%20person%20had%20his%20own%20insult%20property,%20and%20were%20merely%20printing%20that%20property%20out.%20Here%20we%20are%20actually%20telling%20Inform%20to%20calculate%20anew%20what%20the%20insult%20should%20be,%20and%20giving%20it%20some%20instructions%20about%20how%20to%20do%20that.%5D%5Cn%5Cn%5BOur%20instructions%20can%20also%20get%20arbitrarily%20complex:%5D%5Cn%5CnTo%20say%20denial%20for%20(speaker%20-%20a%20person):%5Cn%5Ctif%20speaker%20is%20calm:%5Cn%5Ct%5Ctsay%20%22You%20must%20not%22;%5Cn%5Ctotherwise%20if%20speaker%20is%20female:%5Cn%5Ct%5Ctsay%20%22Stand%20back%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22You%20forget%20yourself%22.%5Cn%5CnInstead%20of%20attacking%20someone:%5Cn%5Ctnow%20the%20noun%20is%20angry;%5Cn%5Ctsay%20%22'Get%20away,%20%5Binsult%5D!'%22%5Cn%5CnTest%20me%20with%20%22kiss%20wasp%20/%20hit%20wasp%20/%20kiss%20wasp%20/%20kiss%20drone%20/%20hit%20drone%20/%20kiss%20drone%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Fifty Times Fifty Ways"
</p>
<p class="quoted">
The Beekeeper's Palace is a room. Wasp is a woman in the palace. Drone is a man in the palace.
</p>
<p class="quoted">
A person can be fierce or mellow. Wasp is fierce. Drone is mellow. A person can be calm or angry. A person is usually calm. A person has some text called  insult. The insult of a person is usually "Grasshopper". The insult of Wasp is "Larva".
</p>
<p class="quoted">
Instead of kissing someone:
<br>    say "'[denial for the noun], [insult for the noun]! [boast]!'";
</p>
</div>
<p>Now to provide some meaning to these bracketed forms. We'll start with the easy one:</p>

<div class="code"><p class="quoted">
To say boast:
<br>    say "I have ferocious allies".
</p></div>
<p>This is a "to say" phrase; we will learn more about phrases in a later chapter, but for now it may be enough to observe that whatever we write after "to say..." becomes a valid substitution in bracketed speech. In this particular case there is no advantage to using the boast token rather than spelling the text out in the quotation, but we might in theory add further instructions to randomize the output, for instance.</p>
<p>To say phrases can be more complex, as well, since we can have them incorporate extra information:</p>

<div class="code"><p class="quoted">
To say insult for (speaker - a person):
<br>    if speaker is angry, say "[the insult of the noun]";
<br>    otherwise say "small one".
</p></div>
<p>Here where we have (speaker - a person), we are leaving a slot which we can later fill in, madlibs-like, with any person we like. That is why we can write "insult for the noun": we are summoning the To say phrase and telling it to fill in the identity of the unknown speaker with the noun.</p>
<p>This differs from "insult of the noun" in the previous example; in that case, each person had his own insult property, and were merely printing that property out. Here we are actually telling Inform to calculate anew what the insult should be, and giving it some instructions about how to do that.</p>
<p>Our instructions can also get arbitrarily complex:</p>

<div class="code">
<p class="quoted">
To say denial for (speaker - a person):
<br>    if speaker is calm:
<br>        say "You must not";
<br>    otherwise if speaker is female:
<br>        say "Stand back";
<br>    otherwise:
<br>        say "You forget yourself".
</p>
<p class="quoted">
Instead of attacking someone:
<br>    now the noun is angry;
<br>    say "'Get away, [insult]!'"
</p>
<p class="quoted">
Test me with "kiss wasp / hit wasp / kiss wasp / kiss drone / hit drone / kiss drone".
</p>
</div>
<p>So the effects we can get with text substitutions are quite flexible. We could even, if we wanted, fill in the substitutions by random choice, or by selecting items from a long list or table, should we have so bellicose a set of characters that they cannot make do with one or two insulting remarks apiece.</p>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.13">WI §5.13. Making new substitutions</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-248"><summary><span class="example-summary">248. Narrative Register</span> <span class="example-difficulty">★★★</span></summary><div>
<p>As we saw in "Variety", we can associate verbs with particular actions and call them up as needed. If we do that, though, we can also store additional information about those verbs and use that information to select the ideal verb to use in a particular situation.</p>
<p>In this example, we create a table of verbs and their meanings, together with some connotative information. Each time we report an action, we then score all the available verbs to decide which is the most suitable to use at the moment.  This allows us to change the narrator's diction change mid-game and have the action descriptions change as well.</p>
<p>Moreover, because we're using adaptive verbs, these responses will automatically inflect properly even if we change the story tense and viewpoint.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Narrative%20Register%22%5Cn%5CnSection%201%20-%20Descriptive%20Functionality%5Cn%5CnDescribing%20relates%20various%20verbs%20to%20various%20action%20names.%20The%20verb%20to%20describe%20means%20the%20describing%20relation.%5Cn%5CnTo%20take%20is%20a%20verb.%20To%20acquire%20is%20a%20verb.%20To%20get%20is%20a%20verb.%20To%20gain%20is%20a%20verb.%20To%20obtain%20is%20a%20verb.%20To%20pick%20up%20is%20a%20verb.%20To%20bag%20is%20a%20verb.%20To%20procure%20is%20a%20verb.%20To%20score%20is%20a%20verb.%20To%20grab%20is%20a%20verb.%20To%20snag%20is%20a%20verb.%20To%20snatch%20is%20a%20verb.%20To%20collect%20is%20a%20verb.%5Cn%5CnTo%20drop%20is%20a%20verb.%20To%20put%20down%20is%20a%20verb.%20To%20discard%20is%20a%20verb.%20To%20throw%20away%20is%20a%20verb.%20To%20dispose%20of%20is%20a%20verb.%20To%20set%20down%20is%20a%20verb.%20To%20toss%20aside%20is%20a%20verb.%20To%20ditch%20is%20a%20verb.%20To%20abandon%20is%20a%20verb.%20To%20dump%20is%20a%20verb.%20To%20jettison%20is%20a%20verb.%20To%20abjure%20is%20a%20verb.%20To%20foresake%20is%20a%20verb.%20To%20dispense%20with%20is%20a%20verb.%5Cn%5CnAfter%20an%20actor%20doing%20something%20to%20something%20when%20a%20verb%20describes%20(the%20action%20name%20part%20of%20the%20current%20action)%20(this%20is%20the%20apply%20random%20verbs%20to%20describing%20actions%20rule):%5Cn%5Ctscore%20the%20relevant%20verbs;%5Cn%5Ctsort%20the%20Table%20of%20Verb%20Meanings%20in%20reverse%20relevance%20order;%5Cn%5Ctchoose%20row%201%20in%20the%20Table%20of%20Verb%20Meanings;%5Cn%5Ctlet%20top%20score%20be%20the%20relevance%20entry;%5Cn%5Ctsort%20Table%20of%20Verb%20Meanings%20in%20random%20order;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Verb%20Meanings:%5Cn%5Ct%5Ctif%20relevance%20entry%20is%20top%20score:%5Cn%5Ct%5Ct%5Ctsay%20%22%5BThe%20actor%5D%20%5Bverb%20rendering%20applied%20to%20(word%20entry)%5D%20%5Bthe%20noun%5D.%22;%5Cn%5Ct%5Ct%5Cterase%20relevance;%5Cn%5Ct%5Ct%5Ctrule%20succeeds.%5Cn%5CnTo%20decide%20which%20text%20is%20the%20rendering%20of%20(V%20-%20verb)%20(this%20is%20verb%20rendering):%5Cn%5Ctdecide%20on%20%22%5Badapt%20V%5D%22.%5Cn%5CnTo%20score%20the%20relevant%20verbs:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Verb%20Meanings:%5Cn%5Ct%5Ctif%20the%20meaning%20entry%20is%20(the%20action%20name%20part%20of%20the%20current%20action):%5Cn%5Ct%5Ct%5Ctincrease%20relevance%20entry%20by%201;%5Cn%5Ct%5Ct%5Ctrepeat%20with%20chosen%20connotation%20running%20through%20connotations%20entry:%5Cn%5Ct%5Ct%5Ct%5Ctif%20the%20chosen%20connotation%20is%20listed%20in%20the%20current%20register:%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctincrease%20relevance%20entry%20by%201;%5Cn%5Ct%5Ct%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctdecrease%20relevance%20entry%20by%201.%5Cn%5CnTo%20erase%20relevance:%5Cn%5Ctrepeat%20through%20Table%20of%20Verb%20Meanings:%5Cn%5Ct%5Ctnow%20relevance%20entry%20is%200.%5Cn%5Cn%5CnA%20tonality%20is%20a%20kind%20of%20value.%20The%20tonalities%20are%20pompous,%20archaic,%20slangy,%20upbeat,%20downbeat.%5Cn%5CnConnoting%20relates%20various%20verbs%20to%20various%20tonalities.%20The%20verb%20to%20connote%20means%20the%20connoting%20relation.%5Cn%5CnThe%20current%20register%20is%20a%20list%20of%20tonalities%20that%20varies.%20The%20current%20register%20is%20%7B%20%7D.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Verb%20Meanings:%5Cn%5Ct%5Ctnow%20the%20word%20entry%20describes%20the%20meaning%20entry;%5Cn%5Ct%5Ctnow%20relevance%20entry%20is%200;%5Cn%5Ct%5Ctrepeat%20with%20chosen%20tone%20running%20through%20the%20connotations%20entry:%5Cn%5Ct%5Ct%5Ctnow%20the%20word%20entry%20connotes%20the%20chosen%20tone.%5Cn%5CnTable%20of%20Verb%20Meanings%5Cnword%5Ctmeaning%5Ctconnotations%5Ctrelevance%20(%20a%20number%20)%5Cnthe%20verb%20take%5Ctthe%20taking%20action%5Ct%7B%20%7D%5Cnthe%20verb%20acquire%5Ctthe%20taking%20action%5Ct%7B%20pompous%20%7D%5Cnthe%20verb%20get%5Ctthe%20taking%20action%5Ct%7B%20%7D%5Cnthe%20verb%20gain%5Ctthe%20taking%20action%5Ct%7B%20%7D%5Cnthe%20verb%20obtain%5Ctthe%20taking%20action%5Ct%7B%20pompous%20%7D%5Cnthe%20verb%20pick%20up%20%5Ctthe%20taking%20action%5Ct%7B%20%7D%5Cnthe%20verb%20bag%5Ctthe%20taking%20action%5Ct%7B%20slangy%20%7D%5Cnthe%20verb%20score%5Ctthe%20taking%20action%5Ct%7B%20slangy,%20upbeat%20%7D%5Cnthe%20verb%20procure%5Ctthe%20taking%20action%5Ct%7B%20archaic%20%7D%5Cnthe%20verb%20grab%5Ctthe%20taking%20action%5Ct%7B%20slangy%20%7D%5Cnthe%20verb%20snag%5Ctthe%20taking%20action%5Ct%7B%20slangy%20%7D%5Cnthe%20verb%20snatch%5Ctthe%20taking%20action%5Ct%7B%20slangy%20%7D%5Cnthe%20verb%20collect%5Ctthe%20taking%20action%5Ct%7B%20%7D%5Cnthe%20verb%20discard%5Ctthe%20dropping%20action%5Ct%7B%20pompous%20%7D%5Cnthe%20verb%20drop%5Ctthe%20dropping%20action%5Ct%7B%20%7D%5Cnthe%20verb%20put%20down%5Ctthe%20dropping%20action%5Ct%7B%20%7D%5Cnthe%20verb%20toss%20aside%5Ctthe%20dropping%20action%5Ct%7B%20%7D%5Cnthe%20verb%20ditch%5Ctthe%20dropping%20action%5Ct%7B%20slangy%20%7D%5Cnthe%20verb%20throw%20away%5Ctthe%20dropping%20action%5Ct%7B%20%7D%5Cnthe%20verb%20dispose%20of%5Ctthe%20dropping%20action%5Ct%7B%20%7D%5Cnthe%20verb%20set%20down%5Ctthe%20dropping%20action%5Ct%7B%20%7D%5Cnthe%20verb%20abandon%5Ctthe%20dropping%20action%5Ct%7B%20downbeat%20%7D%5Cnthe%20verb%20dump%5Ctthe%20dropping%20action%5Ct%7B%20downbeat%20%7D%5Cnthe%20verb%20abjure%5Ctthe%20dropping%20action%5Ct%7B%20archaic%20%7D%5Cnthe%20verb%20foresake%5Ctthe%20dropping%20action%5Ct%7B%20archaic%20%7D%5Cnthe%20verb%20jettison%5Ctthe%20dropping%20action%5Ct%7B%20pompous%20%7D%5Cnthe%20verb%20dispense%20with%5Ctthe%20dropping%20action%5Ct%7B%20pompous%20%7D%5Cn%5CnSection%202%20-%20Changing%20Tone%20Mid-Game%5Cn%5CnUnderstand%20%22new%20tone%22%20as%20changing%20the%20tone.%20Changing%20the%20tone%20is%20an%20action%20out%20of%20world.%5Cn%5CnCarry%20out%20changing%20the%20tone:%5Cn%5Ctnow%20the%20current%20register%20is%20%7B%20%7D;%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%204%20succeeds:%5Cn%5Ct%5Ctsay%20%22Your%20narrator%20will%20now%20adopt%20an%20ordinary%20tone.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctlet%20rando%20be%20a%20random%20tonality;%5Cn%5Ctadd%20rando%20to%20the%20current%20register,%20if%20absent;%5Cn%5Ctsay%20%22Your%20narrator%20will%20now%20be%20%5Brando%5D.%22%5Cn%5Cn%5CnSection%203%20-%20Scenario%5Cn%5CnLab%20is%20a%20room.%20The%20table%20is%20here.%20The%20bat%20and%20the%20ball%20are%20on%20the%20table.%5Cn%5CnTest%20me%20with%20%22get%20ball%20/%20drop%20ball%20/%20get%20bat%20/%20drop%20bat%20/%20new%20tone%20/%20get%20all%20/%20drop%20all%20/%20new%20tone%20/%20get%20all%20/%20drop%20all%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Narrative Register"
</p>
<p class="quoted">
Section 1 - Descriptive Functionality
</p>
<p class="quoted">
Describing relates various verbs to various action names. The verb to describe means the describing relation.
</p>
<p class="quoted">
To take is a verb. To acquire is a verb. To get is a verb. To gain is a verb. To obtain is a verb. To pick up is a verb. To bag is a verb. To procure is a verb. To score is a verb. To grab is a verb. To snag is a verb. To snatch is a verb. To collect is a verb.
</p>
<p class="quoted">
To drop is a verb. To put down is a verb. To discard is a verb. To throw away is a verb. To dispose of is a verb. To set down is a verb. To toss aside is a verb. To ditch is a verb. To abandon is a verb. To dump is a verb. To jettison is a verb. To abjure is a verb. To foresake is a verb. To dispense with is a verb.
</p>
<p class="quoted">
After an actor doing something to something when a verb describes (the action name part of the current action) (this is the apply random verbs to describing actions rule):
<br>    score the relevant verbs;
<br>    sort the Table of Verb Meanings in reverse relevance order;
<br>    choose row 1 in the Table of Verb Meanings;
<br>    let top score be the relevance entry;
<br>    sort Table of Verb Meanings in random order;
<br>    repeat through the Table of Verb Meanings:
<br>        if relevance entry is top score:
<br>            say "[The actor] [verb rendering applied to (word entry)] [the noun].";
<br>            erase relevance;
<br>            rule succeeds.
</p>
<p class="quoted">
To decide which text is the rendering of (V - verb) (this is verb rendering):
<br>    decide on "[adapt V]".
</p>
<p class="quoted">
To score the relevant verbs:
<br>    repeat through the Table of Verb Meanings:
<br>        if the meaning entry is (the action name part of the current action):
<br>            increase relevance entry by 1;
<br>            repeat with chosen connotation running through connotations entry:
<br>                if the chosen connotation is listed in the current register:
<br>                    increase relevance entry by 1;
<br>                otherwise:
<br>                    decrease relevance entry by 1.
</p>
<p class="quoted">
To erase relevance:
<br>    repeat through Table of Verb Meanings:
<br>        now relevance entry is 0.
</p>
<p class="quoted">
A tonality is a kind of value. The tonalities are pompous, archaic, slangy, upbeat, downbeat.
</p>
<p class="quoted">
Connoting relates various verbs to various tonalities. The verb to connote means the connoting relation.
</p>
<p class="quoted">
The current register is a list of tonalities that varies. The current register is { }.
</p>
<p class="quoted">
When play begins:
<br>    repeat through the Table of Verb Meanings:
<br>        now the word entry describes the meaning entry;
<br>        now relevance entry is 0;
<br>        repeat with chosen tone running through the connotations entry:
<br>            now the word entry connotes the chosen tone.
</p>
<p class="quoted">
Table of Verb Meanings
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">word</p></td>
<td class="quotedtablecell"><p class="quoted">meaning</p></td>
<td class="quotedtablecell"><p class="quoted">connotations</p></td>
<td class="quotedtablecell"><p class="quoted">relevance ( a number )</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb take</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb acquire</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ pompous }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb get</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb gain</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb obtain</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ pompous }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb pick up </p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb bag</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ slangy }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb score</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ slangy, upbeat }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb procure</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ archaic }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb grab</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ slangy }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb snag</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ slangy }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb snatch</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ slangy }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb collect</p></td>
<td class="quotedtablecell"><p class="quoted">the taking action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb discard</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ pompous }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb drop</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb put down</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb toss aside</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb ditch</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ slangy }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb throw away</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb dispose of</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb set down</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb abandon</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ downbeat }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb dump</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ downbeat }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb abjure</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ archaic }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb foresake</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ archaic }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb jettison</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ pompous }</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">the verb dispense with</p></td>
<td class="quotedtablecell"><p class="quoted">the dropping action</p></td>
<td class="quotedtablecell"><p class="quoted">{ pompous }</p></td>
</tr>
</table>
<p class="quoted">
Section 2 - Changing Tone Mid-Game
</p>
<p class="quoted">
Understand "new tone" as changing the tone. Changing the tone is an action out of world.
</p>
<p class="quoted">
Carry out changing the tone:
<br>    now the current register is { };
<br>    if a random chance of 1 in 4 succeeds:
<br>        say "Your narrator will now adopt an ordinary tone.";
<br>        rule succeeds;
<br>    let rando be a random tonality;
<br>    add rando to the current register, if absent;
<br>    say "Your narrator will now be [rando]."
</p>
<p class="quoted">
Section 3 - Scenario
</p>
<p class="quoted">
Lab is a room. The table is here. The bat and the ball are on the table.
</p>
<p class="quoted">
Test me with "get ball / drop ball / get bat / drop bat / new tone / get all / drop all / new tone / get all / drop all".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_14.html#wi-14.3">WI §14.3. More on adapting verbs</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details><details class="full-example" id="example-305"><summary><span class="example-summary">305. Straw Into Gold</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Straw%20Into%20Gold%22%5Cn%5CnThe%20Cell%20is%20a%20room.%20Rumpelstiltskin%20is%20an%20improper-named%20man%20in%20the%20Cell.%20%20Rumpelstiltskin%20can%20be%20identified%20or%20unidentified.%20Rumpelstiltskin%20is%20unidentified.%5Cn%5CnR-name%20is%20a%20kind%20of%20value.%20The%20R-names%20are%20dwarf,%20guy,%20dude,%20and%20man-thing.%20Rumpelstiltskin%20has%20an%20R-name.%20Understand%20%22%5BR-name%5D%22%20as%20Rumpelstiltskin.%5Cn%5Cn%5BOur%20example%20is%20slightly%20complicated%20by%20the%20fact%20that%20%22man%22%20is%20a%20name%20already%20known%20to%20Inform,%20so%20we%20can't%20re-use%20it%20as%20a%20kind%20of%20value.%20This%20is%20possible%20to%20work%20around,%20though:%5D%5Cn%5CnUnderstand%20%22man%22%20as%20man-thing.%5Cn%5Cn%5BNow%20we%20borrow%20from%20the%20Activities%20chapter%20to%20look%20at%20the%20exact%20wording%20of%20the%20player's%20command:%5D%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctif%20the%20player's%20command%20includes%20%22%5BR-name%5D%22,%5Cn%5Ct%5Ctnow%20the%20R-name%20of%20Rumpelstiltskin%20is%20the%20R-name%20understood;%5Cn%5Ctif%20the%20player's%20command%20includes%20%22Rumpelstiltskin%22:%5Cn%5Ct%5Ctnow%20Rumpelstiltskin%20is%20identified;%5Cn%5Ct%5Ctnow%20Rumpelstiltskin%20is%20proper-named.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20Rumpelstiltskin%20when%20Rumpelstiltskin%20is%20unidentified:%5Cn%5Ctif%20the%20R-name%20of%20Rumpelstiltskin%20is%20man-thing:%5Cn%5Ct%5Ctsay%20%22man%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5BR-name%5D%22.%5Cn%5CnTest%20me%20with%20%22x%20dwarf%20/%20x%20guy%20/%20x%20dude%20/%20look%20/%20x%20rumpelstiltskin%20/%20look%20/%20x%20man%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Straw Into Gold"
</p>
<p class="quoted">
The Cell is a room. Rumpelstiltskin is an improper-named man in the Cell.  Rumpelstiltskin can be identified or unidentified. Rumpelstiltskin is unidentified.
</p>
<p class="quoted">
R-name is a kind of value. The R-names are dwarf, guy, dude, and man-thing. Rumpelstiltskin has an R-name. Understand "[R-name]" as Rumpelstiltskin.
</p>
</div>
<p>Our example is slightly complicated by the fact that "man" is a name already known to Inform, so we can't re-use it as a kind of value. This is possible to work around, though:</p>

<div class="code"><p class="quoted">
Understand "man" as man-thing.
</p></div>
<p>Now we borrow from the Activities chapter to look at the exact wording of the player's command:</p>

<div class="code">
<p class="quoted">
After reading a command:
<br>    if the player's command includes "[R-name]",
<br>        now the R-name of Rumpelstiltskin is the R-name understood;
<br>    if the player's command includes "Rumpelstiltskin":
<br>        now Rumpelstiltskin is identified;
<br>        now Rumpelstiltskin is proper-named.
</p>
<p class="quoted">
Rule for printing the name of Rumpelstiltskin when Rumpelstiltskin is unidentified:
<br>    if the R-name of Rumpelstiltskin is man-thing:
<br>        say "man";
<br>    otherwise:
<br>        say "[R-name]".
</p>
<p class="quoted">
Test me with "x dwarf / x guy / x dude / look / x rumpelstiltskin / look / x man".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.9">WI §17.9. Understanding kinds of value</a><br><a href="rb_2.html#rb-2.1">RB §2.1. Varying What Is Written</a>
</div></details>
</div></section>
<section class="section" id="rb-2.2"><div>





<h3>RB §2.2. Varying What Is Read</h3>
<p>Making the printed text adapt to circumstances only makes half of the conversation graceful: the other half is to allow the player's commands to have a similar freedom. The things the player can refer to should always respond to the names which would seem natural to the player. Inform provides a variety of techniques for understanding words always, or only under certain conditions; and, if need be, we can also get direct access to what the player has typed in order to examine it with regular expressions. (This last resort is rarely necessary.)</p>
<p><a href="rb_2.html#example-11" class="example-link" onClick="(function() { document.getElementById('example-11').setAttribute('open','open'); return true; })();">First Name Basis</a><span class="example-difficulty"> ★</span> shows how to assign names to things or to kinds of thing - if, for instance, we want the player to be able to refer to any man as "man" or "gentleman":</p>

<div class="code"><p class="quoted">
Understand "man" or "gentleman" as a man.
</p></div>
<p>We may also sometimes want to give names that are specifically plural, as in</p>

<div class="code"><p class="quoted">
A duck is a kind of animal. Understand "birds" as the plural of duck.
</p></div>
<p>or</p>

<div class="code"><p class="quoted">
Understand "birds" as the plural of the magpie.
</p></div>
<p><a href="rb_2.html#example-43" class="example-link" onClick="(function() { document.getElementById('example-43').setAttribute('open','open'); return true; })();">Vouvray</a><span class="example-difficulty"> ★★</span> demonstrates.</p>
<p>A common challenge arises when two objects have names that overlap or are related, and we wish Inform to choose sensibly between them: for instance, a cigarette vs. a cigarette case. If a word should apply to something only as part of a phrase (e.g., "cigarette" alone should never refer to the cigarette case) we can manage the situation as follows:</p>

<div class="code"><p class="quoted">
The case is a closed openable container. The printed name is "cigarette case". Understand "cigarette case" as the case.
</p></div>
<p>Because "cigarette" here appears only as part of the phrase "cigarette case", it will be understood only in that context; the conflict with the bare cigarette will not arise.</p>
<p>As a variant, we may want one object only to take precedence over another in naming. If we wanted the player to be allowed to refer casually to the cigarette case as "cigarette" when (and only when) the cigarette itself is not in view, we could add</p>

<div class="code"><p class="quoted">
Understand "cigarette" as the case when the cigarette is not visible.
</p></div>
<p>Tricks which consider the visibility of other objects can be bad for performance if used widely; but for adding finesse to the treatment of a few items, they work very well.</p>
<p>(There may still arise cases where the player uses a name which can legitimately refer to two different things in view. To deal with this situation, we may want the Does the player mean... rules, explained in the <a href="wi_17.html#wi-chapter-17-understanding">chapter on Understanding</a>; and to change the way the story asks for clarification, see the two activities Asking which do you mean and Clarifying the parser's choice of something.)</p>
<p>Names of things which contain prepositions can also be tricky because Inform misreads the sentences creating them: <a href="rb_2.html#example-19" class="example-link" onClick="(function() { document.getElementById('example-19').setAttribute('open','open'); return true; })();">Laura</a><span class="example-difficulty"> ★★</span> shows how some awkward cases can be safely overcome.</p>
<p>A more difficult case is to ensure that if we change the description or nature of something in play, then the names we understand for it adapt, too. "Understand... when..." can be all that's needed:</p>

<div class="code"><p class="quoted">
Understand "king" as Aragorn when we have crowned Aragorn.
</p></div>
<p>Or, similarly, if we want some combination of categories and characteristics to be recognized:</p>

<div class="code"><p class="quoted">
Understand "giant" as a man when the item described is tall.
</p></div>
<p>"The item described" here refers to the thing being named. "...when" can even be useful in defining new commands, and <a href="rb_2.html#example-323" class="example-link" onClick="(function() { document.getElementById('example-323').setAttribute('open','open'); return true; })();">Quiz Show</a><span class="example-difficulty"> ★</span> demonstrates how to ask open-ended questions that the player can answer only on the subsequent turn.</p>
<p>Properties can also be matched without fuss:</p>

<div class="code"><p class="quoted">
Tint is a kind of value. The tints are green, aquamarine and darkish purple. The wallpaper is fixed in place in the Hotel. The wallpaper has a tint. Understand the tint property as describing the wallpaper.
</p></div>
<p>This allows EXAMINE AQUAMARINE WALLPAPER if, but only if, it happens to be aquamarine at the moment. Relationships can also be matched automatically:</p>

<div class="code"><p class="quoted">
A box is a kind of container. The red box is a box in the Toyshop. Some crayons are in the red box. Understand "box of [something related by containment]" as a box.
</p></div>
<p>which recognises BOX OF CRAYONS until they are removed, when it reverts to plain BOX only.</p>
<p>Greater difficulty arises if, using some variable or property or table to mark that a bottle contains wine, we print messages calling it "bottle of wine". We are then honour-bound to understand commands like TAKE BOTTLE OF WINE in return, not to insist on TAKE BOTTLE. Almost all "simulation" IF runs in to issues like this, and there is no general solution because simulations are so varied.</p>
<p>A converse challenge arises when we want to <em>avoid</em> understanding the player's references to an object under some or all circumstances. This is relatively uncommon, but does sometimes occur. For this situation, Inform provides the "privately-named" property, as in</p>

<div class="code"><p class="quoted">
The unrecognizable object is a privately-named thing in the Kitchen.
</p></div>
<p>Here "privately-named" tells Inform not to understand the object's source name automatically. It is then up to us to create any understand lines we want to refer to the object, as in</p>

<div class="code"><p class="quoted">
Understand "oyster fork" as the unrecognizable object when the etiquette book is read.
</p></div>
<p>Of course, if we need an object that the player is never allowed to refer to at all, we can just make this privately-named and then not provide any understand lines at all.</p>
<p>A final source of difficulty is that by default Inform truncates words to nine letters before attempting to identify them. This is no problem in most circumstances and is likely to go unnoticed -- until we have two very long words whose names are nearly identical, such as "north-northwest exit" and "north-northeast exit". (To make matters worse, a punctuation mark such as a hyphen counts as two letters on its own.)</p>
<p>When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would write</p>

<div class="code"><p class="quoted">
Use DICT_WORD_SIZE of 15.
</p></div>
<p>When compiling for the Z-machine, the solution is harder. <a href="rb_2.html#example-374" class="example-link" onClick="(function() { document.getElementById('example-374').setAttribute('open','open'); return true; })();">North by Northwest</a><span class="example-difficulty"> ★★</span> shows how to use the reading a command activity to pre-process very long names, rendering them accessible to the parser again.</p>
<p>Inform also allows the player to refer to the most recently seen objects and people as IT, HIM, HER, and so on. It sets these pronouns by default, but there are times when we wish to override the way it does that. <a href="rb_2.html#example-325" class="example-link" onClick="(function() { document.getElementById('example-325').setAttribute('open','open'); return true; })();">Pot of Petunias</a><span class="example-difficulty"> ★</span> shows off a way to make Inform recognize an object as IT when it would not otherwise have done so.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_10.html#rb-10.2" class="crossreference_link">Liquids</a> for a resolution of this bottle-of-wine issue</div>
<div class="crossreference">
<a href="rb_2.html#rb-2.3" class="crossreference_link">Using the Player's Input</a> for an example (Mr. Burns' Repast) in which a fish can be called by any arbitrary word as long as it ends in the letters -fish</div>
<div class="crossreference">
<a href="rb_5.html#rb-5.5" class="crossreference_link">Memory and Knowledge</a> for a way to refer to characters whom the player knows about but who aren't currently in the room</div>
<div class="crossreference">
<a href="rb_6.html#rb-6.17" class="crossreference_link">Clarification and Correction</a> for ways to improve guesses about what the player means</div>
<div class="crossreference">
<a href="rb_6.html#rb-6.18" class="crossreference_link">Alternatives To Standard Parsing</a> for several esoteric variations on the default behavior, such as accepting adverbs anywhere in the command, and scanning the player's input for keywords</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-11"><summary><span class="example-summary">11. First Name Basis</span> <span class="example-difficulty">★</span></summary><div>
<p>Sometimes we create objects that we want the player to be able to call by different names: a television that should also answer to "tv" and "telly", for instance, or a refrigerator the player might also call "fridge". In this case, we can use instructions like</p>

<div class="code"><p class="quoted">
Understand "tv" and "telly" as the television.
</p></div>
<p>to add extra names to the object we've defined.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22First%20Name%20Basis%22%5Cn%5CnThe%20Crew%20Lounge%20is%20a%20room.%20%22Deliberately%20spartan:%20the%20crew%20feels%20weight%20restrictions%20here%20first,%20so%20there%20aren't%20any%20chairs,%20just%20a%20few%20thin%20pads%20on%20the%20ground.%22%5Cn%5CnThe%20holographic%20projector%20is%20a%20device%20in%20the%20Crew%20Lounge.%20%22The%20one%20major%20source%20of%20entertainment%20is%20the%20holographic%20projector,%20a%20top%20of%20the%20line%20Misthon%209000,%20on%20which%20you%20view%20every%20beam%20you%20can%20get.%22%20Understand%20%22holo%22%20or%20%22holograph%22%20or%20%22Misthon%22%20or%20%229000%22%20as%20the%20projector.%5Cn%5CnThe%20description%20of%20the%20projector%20is%20%22%5Bif%20switched%20on%5DThe%20projector%20is%20now%20playing%20a%20documentary%20about%20the%20early%20politics%20of%20the%20Mars%20colony.%5Botherwise%5DThe%20air%20above%20the%20projector%20is%20disappointingly%20clear.%5Bend%20if%5D%22.%5Cn%5Cn%5B(This%20description%20is%20for%20local%20color;%20we%20will%20learn%20more%20about%20devices,%20and%20conditions%20like%20%22if%20switched%20on%22,%20later%20in%20this%20chapter.)%5D%5Cn%5Cn%5BBy%20default,%20Inform%20does%20not%20understand%20the%20names%20of%20an%20object's%20kind%20as%20referring%20to%20that%20object,%20unless%20the%20object%20has%20no%20other%20name%20of%20its%20own.%20We%20can%20change%20this,%20if%20we%20like,%20by%20defining%20names%20that%20should%20be%20applied%20to%20everything%20of%20a%20given%20kind:%5D%5Cn%5CnLewis%20and%20Harper%20are%20men%20in%20the%20Crew%20Lounge.%20Understand%20%22man%22%20or%20%22guy%22%20or%20%22chap%22%20or%20%22lad%22%20or%20%22male%22%20as%20a%20man.%20Understand%20%22men%22%20or%20%22chaps%22%20or%20%22lads%22%20or%20%22guys%22%20or%20%22males%22%20as%20the%20plural%20of%20a%20man.%5Cn%5CnThe%20description%20of%20Lewis%20is%20%22A%20wiry,%20excitable%20engineer%20who%20just%20signed%20aboard%20last%20week.%22%20The%20description%20of%20Harper%20is%20%22Harper's%20a%20good%20guy:%20taciturn%20when%20sober,%20affectionate%20when%20drunk,%20but%20rarely%20annoying%20in%20either%20state.%22%5Cn%5CnTest%20me%20with%20%22x%20holo%20/%20x%20man%20/%20lewis%20/%20x%20guy%20/%20harper%20/%20turn%20on%20projector%20/%20x%20holo%20projector%20/%20get%20men%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "First Name Basis"
</p>
<p class="quoted">
The Crew Lounge is a room. "Deliberately spartan: the crew feels weight restrictions here first, so there aren't any chairs, just a few thin pads on the ground."
</p>
<p class="quoted">
The holographic projector is a device in the Crew Lounge. "The one major source of entertainment is the holographic projector, a top of the line Misthon 9000, on which you view every beam you can get." Understand "holo" or "holograph" or "Misthon" or "9000" as the projector.
</p>
<p class="quoted">
The description of the projector is "[if switched on]The projector is now playing a documentary about the early politics of the Mars colony.[otherwise]The air above the projector is disappointingly clear.[end if]".
</p>
</div>
<p>(This description is for local color; we will learn more about devices, and conditions like "if switched on", later in this chapter.)</p>
<p>By default, Inform does not understand the names of an object's kind as referring to that object, unless the object has no other name of its own. We can change this, if we like, by defining names that should be applied to everything of a given kind:</p>

<div class="code">
<p class="quoted">
Lewis and Harper are men in the Crew Lounge. Understand "man" or "guy" or "chap" or "lad" or "male" as a man. Understand "men" or "chaps" or "lads" or "guys" or "males" as the plural of a man.
</p>
<p class="quoted">
The description of Lewis is "A wiry, excitable engineer who just signed aboard last week." The description of Harper is "Harper's a good guy: taciturn when sober, affectionate when drunk, but rarely annoying in either state."
</p>
<p class="quoted">
Test me with "x holo / x man / lewis / x guy / harper / turn on projector / x holo projector / get men".
</p>
</div>
<p>Inform's naming abilities go considerably further, in fact: we can also instruct it to understand words only under certain circumstances, or only when they appear with other words. Fuller details may be found in the chapter on Understanding.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.5">WI §3.5. Kinds</a><br><a href="rb_2.html#rb-2.2">RB §2.2. Varying What Is Read</a>
</div></details><details class="full-example" id="example-323"><summary><span class="example-summary">323. Quiz Show</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Quiz%20Show%22%20by%20Mike%20Tarbert%5Cn%5CnUse%20scoring.%5Cn%5CnAnswer%20mode%20is%20a%20truth%20state%20that%20varies.%5CnCurrent%20state%20is%20a%20text%20that%20varies.%5Cn%5CnGuessing%20is%20an%20action%20applying%20to%20one%20topic.%5CnUnderstand%20%22%5Btext%5D%22%20as%20guessing%20when%20answer%20mode%20is%20true.%5Cn%5Cn%5BBecause%20of%20the%20%22...when%22%20part%20of%20this%20line,%20random%20text%20is%20only%20treated%20as%20an%20answer%20when%20a%20question%20is%20being%20asked.%5D%5Cn%5CnCheck%20guessing%20(this%20is%20the%20default%20wrong%20answer%20rule):%5Cn%5Ctif%20the%20topic%20understood%20is%20not%20a%20topic%20listed%20in%20the%20Table%20of%20Dates%20of%20Statehood:%5Cn%5Ct%5Ctsay%20%22Wrong!%22;%5Cn%5Ctnow%20answer%20mode%20is%20false.%5Cn%5CnCarry%20out%20guessing%20a%20topic%20listed%20in%20the%20Table%20of%20Dates%20of%20Statehood:%5Cn%5Ctif%20state%20entry%20is%20the%20current%20state:%5Cn%5Ct%5Ctsay%20%22Correct!%20(%5Bcomment%20entry%5D,%20to%20be%20exact!)%22;%5Cn%5Ct%5Ctincrease%20the%20score%20by%20one;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Wrong!%22;%5Cn%5Ctnow%20answer%20mode%20is%20false.%5Cn%5Cn%5BThis%20next%20rule%20allows%20a%20player%20to%20do%20something%20other%20than%20answer%20the%20question,%20but%20then%20makes%20him%20wait%20for%20another%20question%20before%20answering.%5D%5Cn%5CnBefore%20doing%20anything%20other%20than%20guessing:%5Cn%5Ctif%20answer%20mode%20is%20true:%5Cn%5Ct%5Ctsay%20%22(ignoring%20the%20question)%5Bline%20break%5D%22;%5Cn%5Ctnow%20answer%20mode%20is%20false.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Lab%20is%20a%20room.%20%20Sam%20is%20a%20man%20in%20the%20lab.%5Cn%5CnEvery%20turn%20when%20the%20player%20is%20in%20the%20lab:%5Cn%5Ctif%20a%20random%20chance%20of%203%20in%205%20succeeds:%5Cn%5Ct%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Dates%20of%20Statehood;%5Cn%5Ct%5Ctsay%20%22Sam%20asks%20you,%20'In%20what%20year%20was%20%5Bstate%20entry%5D%20admitted%20into%20the%20Union?'%22;%5Cn%5Ct%5Ctnow%20current%20state%20is%20state%20entry;%5Cn%5Ct%5Ctnow%20answer%20mode%20is%20true.%5Cn%5CnTable%20of%20Dates%20of%20Statehood%5CnState%5CtTopic%5CtComment%5Cn%22Florida%22%5Ct%221845%22%5Ct%22March%203rd%22%5Cn%22Delaware%22%5Ct%221787%22%5Ct%22December%207th%22%5Cn%22Hawaii%22%5Ct%221960%22%5Ct%22July%204th%22%5Cn%5CnTest%20me%20with%20%221845%20/%20z%20/%20z%20/%201787%20/%201792%20/%20z%20/%201845%20/%20g%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Quiz Show" by Mike Tarbert
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
Answer mode is a truth state that varies.
<br>Current state is a text that varies.
</p>
<p class="quoted">
Guessing is an action applying to one topic.
<br>Understand "[text]" as guessing when answer mode is true.
</p>
</div>
<p>Because of the "...when" part of this line, random text is only treated as an answer when a question is being asked.</p>

<div class="code">
<p class="quoted">
Check guessing (this is the default wrong answer rule):
<br>    if the topic understood is not a topic listed in the Table of Dates of Statehood:
<br>        say "Wrong!";
<br>    now answer mode is false.
</p>
<p class="quoted">
Carry out guessing a topic listed in the Table of Dates of Statehood:
<br>    if state entry is the current state:
<br>        say "Correct! ([comment entry], to be exact!)";
<br>        increase the score by one;
<br>    otherwise:
<br>        say "Wrong!";
<br>    now answer mode is false.
</p>
</div>
<p>This next rule allows a player to do something other than answer the question, but then makes him wait for another question before answering.</p>

<div class="code">
<p class="quoted">
Before doing anything other than guessing:
<br>    if answer mode is true:
<br>        say "(ignoring the question)[line break]";
<br>    now answer mode is false.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Lab is a room.  Sam is a man in the lab.
</p>
<p class="quoted">
Every turn when the player is in the lab:
<br>    if a random chance of 3 in 5 succeeds:
<br>        choose a random row in the Table of Dates of Statehood;
<br>        say "Sam asks you, 'In what year was [state entry] admitted into the Union?'";
<br>        now current state is state entry;
<br>        now answer mode is true.
</p>
<p class="quoted">
Table of Dates of Statehood
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">State</p></td>
<td class="quotedtablecell"><p class="quoted">Topic</p></td>
<td class="quotedtablecell"><p class="quoted">Comment</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Florida"</p></td>
<td class="quotedtablecell"><p class="quoted">"1845"</p></td>
<td class="quotedtablecell"><p class="quoted">"March 3rd"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Delaware"</p></td>
<td class="quotedtablecell"><p class="quoted">"1787"</p></td>
<td class="quotedtablecell"><p class="quoted">"December 7th"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Hawaii"</p></td>
<td class="quotedtablecell"><p class="quoted">"1960"</p></td>
<td class="quotedtablecell"><p class="quoted">"July 4th"</p></td>
</tr>
</table>
<p class="quoted">
Test me with "1845 / z / z / 1787 / 1792 / z / 1845 / g".
</p>
</div>
<p>Note that the situation will become a little more complicated if we have two or more identical topics in our trivia list; in that case, we would need to loop through the Table of Dates of Statehood explicitly, and only mark the player wrong if none of the lines were found to match. (See the chapter on Tables for many more ways to manipulate table behavior.)</p>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.17">WI §17.17. Context: understanding when</a><br><a href="rb_2.html#rb-2.2">RB §2.2. Varying What Is Read</a>
</div></details><details class="full-example" id="example-325"><summary><span class="example-summary">325. Pot of Petunias</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we have an object that makes a dramatic entrance on the scene, like so:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Pot%20of%20Petunias%22%5Cn%5CnWide%20Open%20Field%20is%20a%20room.%20%22A%20big%20field%20under%20a%20big%20sky.%20The%20clouds%20are%20puffy,%20the%20trees%20are%20handsome.%22%5Cn%5CnSome%20clouds%20and%20some%20trees%20are%20scenery%20in%20Wide%20Open%20Field.%20The%20description%20of%20the%20clouds%20is%20%22That%20one%20looks%20like%20Yoda's%20head.%22%20The%20description%20of%20the%20trees%20is%20%22You've%20never%20been%20much%20good%20at%20botany,%20so%20it's%20anyone's%20guess%20what%20kind%20they%20are.%22%5Cn%5CnA%20rock%20is%20in%20Wide%20Open%20Field.%20The%20description%20of%20the%20rock%20is%20%22It%20looks%20like%20it's%20been%20here%20from%20the%20dawn%20of%20time.%22%5Cn%5CnThe%20broken%20flower%20pot%20is%20a%20thing.%20The%20description%20of%20the%20broken%20flower%20pot%20is%20%22It%20contains%20the%20remains%20of%20some%20abused%20petunias.%22%5Cn%5CnAt%209:01%20am:%5Cn%5Ctmove%20the%20broken%20flower%20pot%20to%20the%20location;%5Cn%5Ctsay%20%22Quite%20unexpectedly,%20a%20flower%20pot%20falls%20from%20the%20sky%20and%20breaks%20open%20on%20the%20ground.%20Good%20thing%20you%20weren't%20standing%20six%20inches%20to%20the%20left.%22;%5Cn%5Ctset%20pronouns%20from%20the%20broken%20flower%20pot.%5Cn%5CnTest%20me%20with%20%22x%20it%20/%20x%20it%20/%20x%20it%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Pot of Petunias"
</p>
<p class="quoted">
Wide Open Field is a room. "A big field under a big sky. The clouds are puffy, the trees are handsome."
</p>
<p class="quoted">
Some clouds and some trees are scenery in Wide Open Field. The description of the clouds is "That one looks like Yoda's head." The description of the trees is "You've never been much good at botany, so it's anyone's guess what kind they are."
</p>
<p class="quoted">
A rock is in Wide Open Field. The description of the rock is "It looks like it's been here from the dawn of time."
</p>
<p class="quoted">
The broken flower pot is a thing. The description of the broken flower pot is "It contains the remains of some abused petunias."
</p>
<p class="quoted">
At 9:01 am:
<br>    move the broken flower pot to the location;
<br>    say "Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren't standing six inches to the left.";
<br>    set pronouns from the broken flower pot.
</p>
<p class="quoted">
Test me with "x it / x it / x it".
</p>
</div>
<p>If we leave out the "set pronouns..." line here, we'll wind up with the following very unsatisfactory end to our test transcript:</p>

<div class="code">
<p class="quoted">
Quite unexpectedly, a flower pot falls from the sky and breaks open on the ground. Good thing you weren't standing six inches to the left.
</p>
<p class="quoted">
&gt;[3] x it
<br>It looks like it's been here from the dawn of time.
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.18">WI §17.18. Changing the meaning of pronouns</a><br><a href="rb_2.html#rb-2.2">RB §2.2. Varying What Is Read</a>
</div></details><details class="full-example" id="example-19"><summary><span class="example-summary">19. Laura</span> <span class="example-difficulty">★★</span></summary><div>
<p>Occasionally it is useful to give something a printed name because we want to call it something extremely long-winded; give one thing a name that is the subset of the name of something else; or use words such as "with" or "and" that are likely to confuse Inform into thinking that the object name ends before it actually does.</p>
<p>Often it is enough to preface these ambiguously-titled things with "a thing called..." or "a supporter called..." or the like, as here:</p>

<div class="code"><p class="quoted">
South of Spring Rolls is a room called Hot and Sour Soup.
</p></div>
<p>prevents Inform from trying to read "Hot and Sour Soup" as two separate rooms, while</p>

<div class="code"><p class="quoted">
The player carries an orange ticket. The player carries a thing called an orange.
</p></div>
<p>creates two objects instead of the one orange ticket that would result if the second sentence were merely "The player carries an orange."</p>
<p>Really long names can be a bit cumbersome. For example:</p>

<div class="code"><p class="quoted">
The player carries a thing called an incriminating photograph of a woman with blonde hair.
</p></div>
<p>So we might instead give the photograph a printed name:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Laura%22%5Cn%5CnThe%20City%20of%20Angels%20is%20a%20room.%20The%20incriminating%20photograph%20is%20carried%20by%20the%20player.%20The%20printed%20name%20of%20the%20incriminating%20photograph%20is%20%22incriminating%20photograph%20of%20a%20woman%20with%20blonde%20hair%22.%5Cn%5Cn%5BNow%20we've%20gotten%20around%20any%20awkwardness%20with%20printing%20the%20name%20--%20but%20we%20also%20need%20to%20understand%20when%20the%20player%20refers%20to%20the%20photograph.%20When%20we%20define%20the%20names%20of%20objects%20under%20normal%20circumstances,%20Inform%20takes%20care%20of%20this%20automatically,%20but%20if%20we%20have%20especially%20set%20the%20printed%20name,%20we%20must%20also%20specially%20define%20the%20appropriate%20terms%20for%20the%20player%20to%20use.%20For%20this%20we%20need%20%22understand%22,%20which%20will%20be%20explained%20in%20much%20more%20depth%20in%20a%20later%20chapter:%5D%5Cn%5CnUnderstand%20%22woman%22%20or%20%22with%22%20or%20%22blonde%22%20or%20%22hair%22%20or%20%22of%22%20or%20%22a%22%20as%20the%20incriminating%20photograph.%5Cn%5CnTest%20one%20with%20%22x%20photograph%20/%20x%20incriminating%20photograph%20of%20a%20woman%20with%20blonde%20hair%20/%20x%20hair%20/%20x%20blonde%20/%20x%20woman%20with%20blonde%20hair%20/%20x%20incriminating%20photograph%20of%20a%20woman%22.%5Cn%5Cn%5BThat's%20probably%20as%20far%20as%20we%20really%20need%20to%20go,%20and%20if%20you%20are%20satisfied%20with%20this%20behavior,%20there%20is%20no%20need%20to%20read%20on.%5D%5Cn%5Cn%5BOne%20possible%20objection%20to%20this%20solution%20is%20that%20Inform%20will%20accept%20some%20nonsensical%20formulations%20as%20applying%20to%20the%20photograph:%20for%20instance,%20it%20will%20allow%20&gt;EXAMINE%20PHOTOGRAPH%20OF,%20&gt;X%20BLONDE%20PHOTOGRAPH%20WOMAN%20INCRIMINATING,%20or%20even%20&gt;X%20OF%20...though%20in%20the%20case%20there%20were%20two%20items%20with%20%22of%22%20names,%20the%20game%20would%20disambiguate%20with%20a%20question%20such%20as%20%22Which%20do%20you%20mean,%20the%20incriminating%20photograph%20of%20a%20woman%20with%20blonde%20hair%20or%20the%20essence%20of%20wormwood?%22%5D%5Cn%5Cn%5BTraditionally,%20Inform%20has%20tended%20to%20be%20fairly%20flexible%20about%20word%20order,%20preferring%20to%20err%20in%20the%20direction%20of%20leniency.%20On%20the%20other%20hand,%20there%20are%20times%20when%20we%20need%20more%20exacting%20rules%20in%20order%20to%20distinguish%20otherwise%20similar%20cases.%5D%5Cn%5Cn%5BTwo%20features%20allow%20us%20to%20specify%20more%20exactly%20if%20we%20so%20desire.%20The%20first%20is%20that,%20if%20we%20specify%20a%20whole%20phrase%20as%20the%20name%20of%20something,%20all%20the%20words%20in%20that%20phrase%20are%20required,%20in%20the%20order%20given.%20Thus%20%22Understand%20%22blonde%20hair%22%20as%20the%20photograph%22%20would%20require%20that%20both%20%22blonde%22%20and%20%22hair%22%20be%20present,%20and%20would%20not%20recognize%20&gt;X%20BLONDE,%20&gt;X%20HAIR%20BLONDE,%20or%20&gt;X%20HAIR.%5D%5Cn%5Cn%5BSecond,%20we%20can%20create%20tokens,%20such%20as%20%22Understand%20%22blonde%20hair%22%20or%20%22hair%22%20as%20%22%5Bhair%5D%22,%20and%20then%20use%20these%20tokens%20in%20match%20phrases.%20This%20saves%20a%20good%20deal%20of%20time%20when%20we%20want%20to%20specify%20a%20number%20of%20different%20but%20fussy%20alternatives.%20So,%20for%20instance,%20here%20is%20a%20drawing%20that%20would%20not%20respond%20to%20&gt;X%20OF,%20or%20&gt;X%20BROWN%20EYES,%20but%20would%20respond%20to%20&gt;X%20DRAWING%20OF%20MAN%20WITH%20BROWN%20EYES,%20&gt;X%20MAN%20WITH%20BROWN%20EYES,%20and%20so%20on:%5D%5Cn%5CnThe%20drawing%20is%20carried%20by%20the%20player.%20The%20printed%20name%20of%20the%20drawing%20is%20%22drawing%20of%20a%20man%20with%20brown%20eyes%22.%5Cn%5CnUnderstand%20%22eyes%22%20or%20%22brown%20eyes%22%20as%20%22%5Bbrown%20eyes%5D%22.%20Understand%20%22man%22%20or%20%22man%20with%20%5Bbrown%20eyes%5D%22%20or%20%22brown-eyed%20man%22%20as%20%22%5Bman%5D%22.%20Understand%20%22%5Bman%5D%22%20or%20%22drawing%20of%20%5Bman%5D%22%20or%20%22drawing%20of%20a%20%5Bman%5D%22%20as%20the%20drawing.%5Cn%5CnTest%20me%20with%20%22test%20one%20/%20test%20two%22.%5Cn%5CnTest%20two%20with%20%22x%20drawing%20/%20x%20man%20/%20x%20of%20/%20x%20drawing%20of%20man%20/%20x%20drawing%20of%20a%20man%20/%20x%20drawing%20of%20a%20man%20with%20brown%20eyes%20/%20x%20drawing%20of%20a%20brown-eyed%20man%20/%20x%20brown%20eyes%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Laura"
</p>
<p class="quoted">
The City of Angels is a room. The incriminating photograph is carried by the player. The printed name of the incriminating photograph is "incriminating photograph of a woman with blonde hair".
</p>
</div>
<p>Now we've gotten around any awkwardness with printing the name -- but we also need to understand when the player refers to the photograph. When we define the names of objects under normal circumstances, Inform takes care of this automatically, but if we have especially set the printed name, we must also specially define the appropriate terms for the player to use. For this we need "understand", which will be explained in much more depth in a later chapter:</p>

<div class="code">
<p class="quoted">
Understand "woman" or "with" or "blonde" or "hair" or "of" or "a" as the incriminating photograph.
</p>
<p class="quoted">
Test one with "x photograph / x incriminating photograph of a woman with blonde hair / x hair / x blonde / x woman with blonde hair / x incriminating photograph of a woman".
</p>
</div>
<p>That's probably as far as we really need to go, and if you are satisfied with this behavior, there is no need to read on.</p>
<p>One possible objection to this solution is that Inform will accept some nonsensical formulations as applying to the photograph: for instance, it will allow &gt;EXAMINE PHOTOGRAPH OF, &gt;X BLONDE PHOTOGRAPH WOMAN INCRIMINATING, or even &gt;X OF ...though in the case there were two items with "of" names, the game would disambiguate with a question such as "Which do you mean, the incriminating photograph of a woman with blonde hair or the essence of wormwood?"</p>
<p>Traditionally, Inform has tended to be fairly flexible about word order, preferring to err in the direction of leniency. On the other hand, there are times when we need more exacting rules in order to distinguish otherwise similar cases.</p>
<p>Two features allow us to specify more exactly if we so desire. The first is that, if we specify a whole phrase as the name of something, all the words in that phrase are required, in the order given. Thus "Understand "blonde hair" as the photograph" would require that both "blonde" and "hair" be present, and would not recognize &gt;X BLONDE, &gt;X HAIR BLONDE, or &gt;X HAIR.</p>
<p>Second, we can create tokens, such as "Understand "blonde hair" or "hair" as "[hair]", and then use these tokens in match phrases. This saves a good deal of time when we want to specify a number of different but fussy alternatives. So, for instance, here is a drawing that would not respond to &gt;X OF, or &gt;X BROWN EYES, but would respond to &gt;X DRAWING OF MAN WITH BROWN EYES, &gt;X MAN WITH BROWN EYES, and so on:</p>

<div class="code">
<p class="quoted">
The drawing is carried by the player. The printed name of the drawing is "drawing of a man with brown eyes".
</p>
<p class="quoted">
Understand "eyes" or "brown eyes" as "[brown eyes]". Understand "man" or "man with [brown eyes]" or "brown-eyed man" as "[man]". Understand "[man]" or "drawing of [man]" or "drawing of a [man]" as the drawing.
</p>
<p class="quoted">
Test me with "test one / test two".
</p>
<p class="quoted">
Test two with "x drawing / x man / x of / x drawing of man / x drawing of a man / x drawing of a man with brown eyes / x drawing of a brown-eyed man / x brown eyes".
</p>
</div>
<p>Further refinements are possible: the "privately-named" attribute tells Inform not to try to understand the source name of an object at all, so if we write</p>

<div class="code"><p class="quoted">
The purple rabbit is a privately-named thing.
</p></div>
<p>...the player will not be able to refer to it as "purple" or "rabbit" or "purple rabbit".</p>
<p>There are also ways to make names to refer to entire kinds of objects (so "dude" will refer to any man in the game); to specify names that only refer to objects in the plural (so GET PICTURES will pick up several pictures together); to reflect an object's properties (so "red apple" works only as long as the apple is in fact red); or even to refer to the object's relationships to other objects (so "bottle of wine" works only when wine is indeed in the bottle). All these refinements are discussed in the chapter on Understanding.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.11">WI §3.11. Two descriptions of things</a><br><a href="rb_2.html#rb-2.2">RB §2.2. Varying What Is Read</a>
</div></details><details class="full-example" id="example-43"><summary><span class="example-summary">43. Vouvray</span> <span class="example-difficulty">★★</span></summary><div>
<p>The Understanding chapter lays out ways to change how the player can refer to objects, but we may not want to wait that long for some of the basic features. Here, for instance, is how to add synonyms that the player can use to refer to an entire kind of object:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Vouvray%22%5Cn%5CnThe%20Wine%20Emporium%20is%20a%20room.%20%22Set%20aside,%20you%20rather%20suspect,%20for%20tourists:%20this%20chamber%20is%20barrel-vaulted%20stone,%20lined%20on%20each%20side%20with%20casks%20of%20aging%20wine.%20Discarded%20brochures%20here%20and%20there%20advertise%20Wine%20Tours%20of%20the%20Loire%20Valley%20in%20three%20different%20languages,%20none%20of%20them%20French.%22%5Cn%5CnA%20cask%20is%20a%20kind%20of%20thing.%20A%20cask%20is%20always%20fixed%20in%20place.%20Understand%20%22cask%22%20or%20%22barrel%22%20as%20a%20cask.%20Understand%20%22casks%22%20or%20%22barrels%22%20as%20the%20plural%20of%20cask.%5Cn%5CnThe%20Vouvray%20cask%20and%20the%20Muscadet%20cask%20are%20casks%20in%20the%20Wine%20Emporium.%5Cn%5CnTest%20me%20with%20%22get%20barrels%20/%20get%20barrel%20/%20muscadet%20/%20x%20casks%20/%20x%20muscadet%20cask%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Vouvray"
</p>
<p class="quoted">
The Wine Emporium is a room. "Set aside, you rather suspect, for tourists: this chamber is barrel-vaulted stone, lined on each side with casks of aging wine. Discarded brochures here and there advertise Wine Tours of the Loire Valley in three different languages, none of them French."
</p>
<p class="quoted">
A cask is a kind of thing. A cask is always fixed in place. Understand "cask" or "barrel" as a cask. Understand "casks" or "barrels" as the plural of cask.
</p>
<p class="quoted">
The Vouvray cask and the Muscadet cask are casks in the Wine Emporium.
</p>
<p class="quoted">
Test me with "get barrels / get barrel / muscadet / x casks / x muscadet cask".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.1">WI §4.1. New kinds</a><br><a href="rb_2.html#rb-2.2">RB §2.2. Varying What Is Read</a>
</div></details><details class="full-example" id="example-374"><summary><span class="example-summary">374. North by Northwest</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we wanted to add intermediate compass directions such as north-northwest to our game. Because of the limitations of the index map, we won't be able to view these connections on the world map, but we can certainly create them, and use them in route-finding, just like other directions.</p>
<p>Here's how we'd set up such a thing:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22North%20by%20Northwest%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnThe%20north-northwest%20is%20a%20direction.%20North-northwest%20has%20opposite%20south-southeast.%20Understand%20%22n-nw%22%20or%20%22nnw%22%20as%20north-northwest.%5Cn%5CnThe%20north-northeast%20is%20a%20direction.%20North-northeast%20has%20opposite%20south-southwest.%20Understand%20%22n-ne%22%20or%20%22nne%22%20as%20north-northeast.%5Cn%5CnThe%20south-southwest%20is%20a%20direction.%20South-southwest%20has%20opposite%20north-northeast.%20Understand%20%22s-sw%22%20or%20%22ssw%22%20as%20north-northwest.%5Cn%5CnThe%20south-southeast%20is%20a%20direction.%20South-southeast%20has%20opposite%20north-northwest.%20Understand%20%22s-se%22%20or%20%22sse%22%20as%20south-southeast.%5Cn%5CnThe%20west-northwest%20is%20a%20direction.%20West-northwest%20has%20opposite%20east-southeast.%20Understand%20%22w-nw%22%20or%20%22wnw%22%20as%20west-northwest.%5Cn%5CnThe%20east-northeast%20is%20a%20direction.%20East-northeast%20has%20opposite%20west-southwest.%20Understand%20%22e-ne%22%20or%20%22ene%22%20as%20east-northeast.%5Cn%5CnThe%20west-southwest%20is%20a%20direction.%20West-southwest%20has%20opposite%20east-northeast.%20Understand%20%22w-sw%22%20or%20%22wsw%22%20as%20west-northwest.%5Cn%5CnThe%20east-southeast%20is%20a%20direction.%20East-southeast%20has%20opposite%20west-northwest.%20Understand%20%22e-se%22%20or%20%22ese%22%20as%20east-southeast.%5Cn%5Cn%5BA%20complication%20arises%20because%20we%20reach%20the%209-character%20limit:%20Inform%20truncates%20the%20names%20of%20objects%20to%20nine%20characters%20before%20trying%20to%20understand%20them.%20To%20make%20matters%20worse,%20the%20hyphen%20(and%20other%20punctuation%20marks)%20count%20as%20two%20letters.%20So%20both%20north-northwest%20and%20north-northeast%20will%20get%20truncated%20to%20%22north-no%22,%20and%20be%20indistinguishable%20when%20the%20player%20types%20them.%5D%5Cn%5Cn%5BWhen%20we%20are%20compiling%20for%20Glulx,%20the%20limit%20is%20easily%20changed%20with%20a%20single%20line,%20setting%20the%20constant%20called%20DICT_WORD_SIZE.%20For%20instance,%20if%20we%20wanted%20to%20raise%20the%20limit%20to%2015,%20we%20would%20simply%20write%20%22Use%20DICT_WORD_SIZE%20of%2015.%22%5D%5Cn%5Cn%5BIf%20we're%20compiling%20to%20the%20Z-machine,%20however,%20we'll%20have%20to%20resort%20to%20some%20manipulation%20of%20the%20player's%20command.%20The%20general%20solution%20is%20that%20when%20the%20player's%20name%20for%20an%20object%20is%20going%20to%20have%20to%20be%20longer%20than%20we%20can%20correctly%20read,%20we%20can%20substitute%20an%20unambiguous%20abbreviation%20for%20the%20thing%20the%20player%20typed.%20In%20this%20case,%20it%20will%20be%20simplest%20and%20most%20efficient%20always%20to%20condense%20the%20player's%20direction%20names%20to%20single%20letters,%20thus:%5D%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctlet%20N%20be%20%22%5Bthe%20player's%20command%5D%22;%5Cn%5Ctreplace%20the%20text%20%22north%22%20in%20N%20with%20%22n%22;%5Cn%5Ctreplace%20the%20text%20%22east%22%20in%20N%20with%20%22e%22;%5Cn%5Ctreplace%20the%20text%20%22south%22%20in%20N%20with%20%22s%22;%5Cn%5Ctreplace%20the%20text%20%22west%22%20in%20N%20with%20%22w%22;%5Cn%5Ctchange%20the%20text%20of%20the%20player's%20command%20to%20N.%5Cn%5Cn%5BFor%20more%20on%20the%20use%20of%20text,%20see%20the%20Advanced%20Text%20chapter.%5D%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Empty%20Field%20is%20north-northwest%20of%20the%20Deserted%20Road.%5Cn%5CnA%20crop-dusting%20plane%20is%20a%20backdrop.%20It%20is%20not%20scenery.%20It%20is%20in%20the%20Deserted%20Road%20and%20Empty%20Field.%20The%20initial%20appearance%20of%20the%20crop-dusting%20plane%20is%20%22%5Bone%20of%5DIn%20the%20distance%5Bor%5DApproaching%20faster%20and%20faster%5Bor%5DFlying%20ominously%20low%20and%20directly%20towards%20you%5Bor%5DImmediately%20overhead%5Bor%5DCircling%20around%20for%20another%20approach%5Bcycling%5D%20is%20a%20standard%20crop-dusting%20plane.%22%5Cn%5CnAfter%20looking:%5Cn%5Ctsay%20%22From%20here%20you%20can%20run%20to%20%5Bthe%20list%20of%20adjacent%20rooms%5D.%22%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20room%20(called%20the%20target)%20which%20is%20not%20the%20location%20while%20looking:%5Cn%5Ctlet%20chosen%20direction%20be%20the%20best%20route%20from%20the%20location%20to%20the%20target;%5Cn%5Ctsay%20%22%5Bchosen%20direction%5D%22.%5Cn%5CnTest%20me%20with%20%22sse%20/%20north-northwest%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "North by Northwest"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
The north-northwest is a direction. North-northwest has opposite south-southeast. Understand "n-nw" or "nnw" as north-northwest.
</p>
<p class="quoted">
The north-northeast is a direction. North-northeast has opposite south-southwest. Understand "n-ne" or "nne" as north-northeast.
</p>
<p class="quoted">
The south-southwest is a direction. South-southwest has opposite north-northeast. Understand "s-sw" or "ssw" as north-northwest.
</p>
<p class="quoted">
The south-southeast is a direction. South-southeast has opposite north-northwest. Understand "s-se" or "sse" as south-southeast.
</p>
<p class="quoted">
The west-northwest is a direction. West-northwest has opposite east-southeast. Understand "w-nw" or "wnw" as west-northwest.
</p>
<p class="quoted">
The east-northeast is a direction. East-northeast has opposite west-southwest. Understand "e-ne" or "ene" as east-northeast.
</p>
<p class="quoted">
The west-southwest is a direction. West-southwest has opposite east-northeast. Understand "w-sw" or "wsw" as west-northwest.
</p>
<p class="quoted">
The east-southeast is a direction. East-southeast has opposite west-northwest. Understand "e-se" or "ese" as east-southeast.
</p>
</div>
<p>A complication arises because we reach the 9-character limit: Inform truncates the names of objects to nine characters before trying to understand them. To make matters worse, the hyphen (and other punctuation marks) count as two letters. So both north-northwest and north-northeast will get truncated to "north-no", and be indistinguishable when the player types them.</p>
<p>When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would simply write "Use DICT_WORD_SIZE of 15."</p>
<p>If we're compiling to the Z-machine, however, we'll have to resort to some manipulation of the player's command. The general solution is that when the player's name for an object is going to have to be longer than we can correctly read, we can substitute an unambiguous abbreviation for the thing the player typed. In this case, it will be simplest and most efficient always to condense the player's direction names to single letters, thus:</p>

<div class="code"><p class="quoted">
After reading a command:
<br>    let N be "[the player's command]";
<br>    replace the text "north" in N with "n";
<br>    replace the text "east" in N with "e";
<br>    replace the text "south" in N with "s";
<br>    replace the text "west" in N with "w";
<br>    change the text of the player's command to N.
</p></div>
<p>For more on the use of text, see the Advanced Text chapter.</p>

<div class="code">
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Empty Field is north-northwest of the Deserted Road.
</p>
<p class="quoted">
A crop-dusting plane is a backdrop. It is not scenery. It is in the Deserted Road and Empty Field. The initial appearance of the crop-dusting plane is "[one of]In the distance[or]Approaching faster and faster[or]Flying ominously low and directly towards you[or]Immediately overhead[or]Circling around for another approach[cycling] is a standard crop-dusting plane."
</p>
<p class="quoted">
After looking:
<br>    say "From here you can run to [the list of adjacent rooms]."
</p>
<p class="quoted">
Rule for printing the name of a room (called the target) which is not the location while looking:
<br>    let chosen direction be the best route from the location to the target;
<br>    say "[chosen direction]".
</p>
<p class="quoted">
Test me with "sse / north-northwest".
</p>
</div>
<p>In practice, this is going to be overkill for almost all games: most players already find eight compass directions plus up and down to be enough (or more than enough) to keep track of. But the option exists, in case there is a compelling reason to use it.</p>
<p>(Note also that we are allowed to use multi-word direction names, so we could  have called the directions "north by northwest", "north by northeast", and so on. This example deliberately takes the hard way in order to show how to resolve the nine-character problem.)</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.33">WI §18.33. Reading a command</a><br><a href="rb_2.html#rb-2.2">RB §2.2. Varying What Is Read</a>
</div></details>
</div></section>
<section class="section" id="rb-2.3"><div>





<h3>RB §2.3. Using the Player's Input</h3>
<p>We may sometimes want to capture specific words the player has used and then feature that text elsewhere in the story.</p>
<p><a href="rb_2.html#example-318" class="example-link" onClick="(function() { document.getElementById('example-318').setAttribute('open','open'); return true; })();">Terracottissima Maxima</a><span class="example-difficulty"> ★★★</span> demonstrates using text to describe objects; <a href="rb_2.html#example-423" class="example-link" onClick="(function() { document.getElementById('example-423').setAttribute('open','open'); return true; })();">Mr. Burns' Repast</a><span class="example-difficulty"> ★★</span> lets the player refer to a fish by any of a number of names, and changes the way the fish is described as a result.</p>
<p>More specialized effects are also possible: <a href="rb_2.html#example-381" class="example-link" onClick="(function() { document.getElementById('example-381').setAttribute('open','open'); return true; })();">Xot</a><span class="example-difficulty"> ★★★</span> shows how to collect the player's erroneous input and store the command line to be printed back later. <a href="rb_2.html#example-419" class="example-link" onClick="(function() { document.getElementById('example-419').setAttribute('open','open'); return true; })();">Igpay Atinlay</a><span class="example-difficulty"> ★</span> shows how to parrot the player's command back in pig Latin form.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_8.html#rb-8.3" class="crossreference_link">Animals</a> for a dog which the player can re-name</div>
<div class="crossreference">
<a href="rb_5.html#rb-5.2" class="crossreference_link">Traits Determined By the Player</a> for a way to let the player name the player character</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-419"><summary><span class="example-summary">419. Igpay Atinlay</span> <span class="example-difficulty">★</span></summary><div>
<p>For the sake of argument, suppose we want to parrot back all the player's commands in pig Latin:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Igpay%20Atinlay%22%5Cn%5CnArmfay%20is%20a%20room.%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctlet%20N%20be%20%22%5Bthe%20player's%20command%5D%22;%5Cn%5Ctreplace%20the%20regular%20expression%20%22%5Cb(&lt;aeiou&gt;%20)(%5Cw*)%22%20in%20N%20with%20%22%5C1%5C2ay%22;%5Cn%5Ctreplace%20the%20regular%20expression%20%22%5Cb(&lt;bcdfghjklmnpqrstvwxz&gt;%20)(%5Cw*)%22%20in%20N%20with%20%22%5C2%5C1ay%22;%5Cn%5Ctsay%20%22%5BN%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctreject%20the%20player's%20command.%5Cn%5CnTest%20me%20with%20%22nix%20on%20the%20stupid%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Igpay Atinlay"
</p>
<p class="quoted">
Armfay is a room.
</p>
<p class="quoted">
After reading a command:
<br>    let N be "[the player's command]";
<br>    replace the regular expression "\b(&lt;aeiou&gt;+)(\w*)" in N with "\1\2ay";
<br>    replace the regular expression "\b(&lt;bcdfghjklmnpqrstvwxz&gt;+)(\w*)" in N with "\2\1ay";
<br>    say "[N][paragraph break]";
<br>    reject the player's command.
</p>
<p class="quoted">
Test me with "nix on the stupid".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_20.html#wi-20.8">WI §20.8. Replacements</a><br><a href="rb_2.html#rb-2.3">RB §2.3. Using the Player's Input</a>
</div></details><details class="full-example" id="example-423"><summary><span class="example-summary">423. Mr. Burns' Repast</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we have an unhappily mutated fish that the player can refer to by any of a number of species names, or any word followed by -fish. We want to reject these commands, but preserve a memory of what the player last tried to call the thing:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Mr.%20Burns'%20Repast%22%5Cn%5CnWharf%20is%20a%20room.%5Cn%5CnThere%20is%20an%20unknown%20fish%20in%20the%20Wharf.%20The%20unknown%20fish%20has%20some%20a%20text%20called%20the%20supposed%20name.%20The%20description%20of%20the%20unknown%20fish%20is%20%22The%20victim%20of%20heavy%20mutagens,%20this%20thing%20is%20not%20really%20recognizable%20as%20any%20species%20you%20know.%22.%5Cn%5CnFish%20variety%20is%20a%20kind%20of%20value.%20The%20fish%20varieties%20are%20salmon,%20albacore,%20mackerel.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20the%20unknown%20fish:%5Cn%5Ctif%20the%20supposed%20name%20of%20the%20unknown%20fish%20is%20%22%22,%20say%20the%20printed%20name%20of%20the%20unknown%20fish;%5Cn%5Ctotherwise%20say%20the%20supposed%20name%20of%20the%20unknown%20fish.%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctif%20the%20unknown%20fish%20is%20visible%20and%20player's%20command%20matches%20the%20regular%20expression%20%22%5Cb%5Cw%20fish%22:%5Cn%5Ct%5Ctlet%20N%20be%20%22%5Bthe%20player's%20command%5D%22;%5Cn%5Ct%5Ctreplace%20the%20regular%20expression%20%22.*(?=%5Cb%5Cw%20fish)%22%20in%20N%20with%20%22%22;%5Cn%5Ct%5Ctnow%20N%20is%20%22%5BN%5D(?)%22;%5Cn%5Ct%5Ctnow%20the%20supposed%20name%20of%20the%20unknown%20fish%20is%20N;%5Cn%5Ct%5Ctrespond%20with%20doubt;%5Cn%5Ct%5Ctreject%20the%20player's%20command;%5Cn%5Ctotherwise%20if%20the%20unknown%20fish%20is%20visible%20and%20the%20player's%20command%20includes%20%22%5Bfish%20variety%5D%22:%5Cn%5Ct%5Ctnow%20supposed%20name%20of%20the%20fish%20is%20%22%5Bfish%20variety%20understood%5D(?)%22;%5Cn%5Ct%5Ctrespond%20with%20doubt;%5Cn%5Ct%5Ctreject%20the%20player's%20command.%5Cn%5CnTo%20respond%20with%20doubt:%5Cn%5Ctsay%20%22You're%20not%20%5Bitalic%20type%5Dsure%5Broman%20type%5D%20you're%20seeing%20any%20such%20thing.%22%5Cn%5CnTest%20me%20with%20%22get%20swordfish%20/%20look%20/%20touch%20monkfish%20/%20look%20/%20listen%20to%20tunafish%20/%20x%20fish%20/%20x%20salmon%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Mr. Burns' Repast"
</p>
<p class="quoted">
Wharf is a room.
</p>
<p class="quoted">
There is an unknown fish in the Wharf. The unknown fish has some a text called the supposed name. The description of the unknown fish is "The victim of heavy mutagens, this thing is not really recognizable as any species you know.".
</p>
<p class="quoted">
Fish variety is a kind of value. The fish varieties are salmon, albacore, mackerel.
</p>
<p class="quoted">
Rule for printing the name of the unknown fish:
<br>    if the supposed name of the unknown fish is "", say the printed name of the unknown fish;
<br>    otherwise say the supposed name of the unknown fish.
</p>
<p class="quoted">
After reading a command:
<br>    if the unknown fish is visible and player's command matches the regular expression "\b\w+fish":
<br>        let N be "[the player's command]";
<br>        replace the regular expression ".*(?=\b\w+fish)" in N with "";
<br>        now N is "[N](?)";
<br>        now the supposed name of the unknown fish is N;
<br>        respond with doubt;
<br>        reject the player's command;
<br>    otherwise if the unknown fish is visible and the player's command includes "[fish variety]":
<br>        now supposed name of the fish is "[fish variety understood](?)";
<br>        respond with doubt;
<br>        reject the player's command.
</p>
<p class="quoted">
To respond with doubt:
<br>    say "You're not [italic type]sure[roman type] you're seeing any such thing."
</p>
<p class="quoted">
Test me with "get swordfish / look / touch monkfish / look / listen to tunafish / x fish / x salmon / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_20.html#wi-20.8">WI §20.8. Replacements</a><br><a href="rb_2.html#rb-2.3">RB §2.3. Using the Player's Input</a>
</div></details><details class="full-example" id="example-318"><summary><span class="example-summary">318. Terracottissima Maxima</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Inform can also understand text properties:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Terracottissima%20Maxima%22%5Cn%5CnA%20flowerpot%20is%20a%20kind%20of%20thing.%20A%20flowerpot%20has%20a%20text%20called%20pattern.%20Understand%20the%20pattern%20property%20as%20describing%20a%20flowerpot.%20The%20printed%20name%20of%20a%20flowerpot%20is%20usually%20%22%5Bpattern%5D%20flowerpot%22.%20The%20printed%20plural%20name%20of%20a%20flowerpot%20is%20usually%20%22%5Bpattern%5D%20flowerpots%22.%5Cn%5CnThe%20Herb%20Garden%20is%20a%20room.%20In%20the%20Herb%20Garden%20is%20a%20flowerpot%20with%20pattern%20%22blue%20willow%22.%20In%20the%20Herb%20Garden%20is%20a%20flowerpot%20with%20pattern%20%22striped%22.%20In%20the%20Herb%20Garden%20is%20a%20flowerpot%20with%20pattern%20%22striped%22.%5Cn%5CnTest%20me%20with%20%22x%20blue%20willow%20/%20get%20striped%20/%20look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Terracottissima Maxima"
</p>
<p class="quoted">
A flowerpot is a kind of thing. A flowerpot has a text called pattern. Understand the pattern property as describing a flowerpot. The printed name of a flowerpot is usually "[pattern] flowerpot". The printed plural name of a flowerpot is usually "[pattern] flowerpots".
</p>
<p class="quoted">
The Herb Garden is a room. In the Herb Garden is a flowerpot with pattern "blue willow". In the Herb Garden is a flowerpot with pattern "striped". In the Herb Garden is a flowerpot with pattern "striped".
</p>
<p class="quoted">
Test me with "x blue willow / get striped / look".
</p>
</div>
<p>This may not seem very much different from having the pattern be a kind of value -- except that texts can, of course, hold almost anything. Further exploration of these possibilities may be found in the chapter on Advanced Text.</p>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.15">WI §17.15. Understanding things by their properties</a><br><a href="rb_2.html#rb-2.3">RB §2.3. Using the Player's Input</a>
</div></details><details class="full-example" id="example-381"><summary><span class="example-summary">381. Xot</span> <span class="example-difficulty">★★★</span></summary><div>
<p>In Hitchhiker's Guide to the Galaxy, any erroneous command the player types can return to haunt him later in the game. We could do the same, if we liked, by storing the player's command whenever we print a parser error.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Xot%22%5Cn%5CnHumiliation%20Chamber%20is%20a%20room.%20%22A%20grim,%20grey-walled%20room.%20Cameras%20watch%20you%20from%20every%20angle;%20convex%20mirrors%20reflect%20your%20actions;%20and%20up%20near%20the%20ceiling,%20where%20you%20can't%20disable%20it,%20is%20a%20loudspeaker.%22%5Cn%5CnThe%20last%20error%20is%20a%20text%20that%20varies.%20The%20last%20error%20is%20%22xot%22.%5Cn%5CnBefore%20printing%20a%20parser%20error:%5Cn%5Ctnow%20the%20last%20error%20is%20the%20player's%20command.%5Cn%5CnEvery%20turn%20when%20a%20random%20chance%20of%201%20in%202%20succeeds:%5Cn%5Ctsay%20%22Over%20the%20loudspeaker%20comes%20some%20distorted%20nonsense.%20If%20you%20listen%20carefully,%20it%20sounds%20as%20though%20some%20fool%20is%20saying%20'%5Blast%20error%5D,%20%5Blast%20error%5D,%20%5Blast%20error%5D!'%22%5Cn%5CnTest%20me%20with%20%22wiggle%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Xot"
</p>
<p class="quoted">
Humiliation Chamber is a room. "A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can't disable it, is a loudspeaker."
</p>
<p class="quoted">
The last error is a text that varies. The last error is "xot".
</p>
<p class="quoted">
Before printing a parser error:
<br>    now the last error is the player's command.
</p>
<p class="quoted">
Every turn when a random chance of 1 in 2 succeeds:
<br>    say "Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying '[last error], [last error], [last error]!'"
</p>
<p class="quoted">
Test me with "wiggle / z / z / z / z / z / z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.35">WI §18.35. Printing a parser error</a><br><a href="rb_2.html#rb-2.3">RB §2.3. Using the Player's Input</a>
</div></details>
</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/RB_2_1.html">RB Chapter 2 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_1.html#rb-chapter-1-how-to-use-the-recipe-book">1. How to Use The Recipe Book</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_3.html#rb-chapter-3-place">3. Place</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

