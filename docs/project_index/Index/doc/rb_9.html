<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Recipe Book 9. Props: Food, Clothing, Money, Toys, Books, Electronics</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Recipe Book</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_8.html#rb-chapter-8-vehicles-animals-and-furniture">8. Vehicles, Animals and Furniture</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_10.html#rb-chapter-10-physics-substances-ropes-energy-and-weight">10. Physics: Substances, Ropes, Energy and Weight</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>9. Props: Food, Clothing, Money, Toys, Books, Electronics</h2>
<div class="toc-section">9.1 <a href="rb_9.html#rb-9.1">Food</a></div>
<div class="toc-section">9.2 <a href="rb_9.html#rb-9.2">Bags, Bottles, Boxes and Safes</a></div>
<div class="toc-section">9.3 <a href="rb_9.html#rb-9.3">Clothing</a></div>
<div class="toc-section">9.4 <a href="rb_9.html#rb-9.4">Money</a></div>
<div class="toc-section">9.5 <a href="rb_9.html#rb-9.5">Dice and Playing Cards</a></div>
<div class="toc-section">9.6 <a href="rb_9.html#rb-9.6">Reading Matter</a></div>
<div class="toc-section">9.7 <a href="rb_9.html#rb-9.7">Painting and Labeling Devices</a></div>
<div class="toc-section">9.8 <a href="rb_9.html#rb-9.8">Simple Machines</a></div>
<div class="toc-section">9.9 <a href="rb_9.html#rb-9.9">Televisions and Radios</a></div>
<div class="toc-section">9.10 <a href="rb_9.html#rb-9.10">Telephones</a></div>
<div class="toc-section">9.11 <a href="rb_9.html#rb-9.11">Clocks and Scientific Instruments</a></div>
<div class="toc-section">9.12 <a href="rb_9.html#rb-9.12">Cameras and Recording Devices</a></div>
</header>
<main>
<section class="chapter" id="rb-chapter-9-props-food-clothing-money-toys-books-electronics">
<section class="section" id="rb-9.1"><div>



<h3>RB §9.1. Food</h3>
<p>Inform provides an either/or property called "edible" and an action, "eating", for consuming edible things:</p>

<div class="code"><p class="quoted">
The lardy cake is edible. After eating the lardy cake, say "Sticky but delicious."
</p></div>
<p>For eating something not immediately to hand, see <a href="rb_6.html#example-379" class="example-link" onClick="(function() { document.getElementById('example-379').setAttribute('open','open'); return true; })();">Lollipop Guild</a><span class="example-difficulty"> ★★★</span>. <a href="rb_9.html#example-197" class="example-link" onClick="(function() { document.getElementById('example-197').setAttribute('open','open'); return true; })();">Delicious, Delicious Rocks</a><span class="example-difficulty"> ★★★</span>, conversely, adds a sanity check which prevents the player from automatically taking inedible things only to be told they can't be eaten.</p>
<p>Inform does not normally simulate taste or digestion, but to provide foods with a range of flavours, see <a href="rb_9.html#example-48" class="example-link" onClick="(function() { document.getElementById('example-48').setAttribute('open','open'); return true; })();">Would you...?</a><span class="example-difficulty"> ★</span>; to make eating different foods affect the player differently, see <a href="rb_9.html#example-390" class="example-link" onClick="(function() { document.getElementById('example-390').setAttribute('open','open'); return true; })();">Stone</a><span class="example-difficulty"> ★</span>, or for the extreme case of poisoning foods, <a href="rb_9.html#example-133" class="example-link" onClick="(function() { document.getElementById('example-133').setAttribute('open','open'); return true; })();">Candy</a><span class="example-difficulty"> ★</span>. In <a href="rb_9.html#example-143" class="example-link" onClick="(function() { document.getElementById('example-143').setAttribute('open','open'); return true; })();">MRE</a><span class="example-difficulty"> ★</span>, hunger causes the player problems unless he regularly finds and eats food.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_10.html#rb-10.2" class="crossreference_link">Liquids</a> for things to drink</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.3" class="crossreference_link">Dispensers and Supplies of Small Objects</a> for a pizza buffet table from which the player may take all the slices he wants</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-48"><summary><span class="example-summary">48. Would you...?</span> <span class="example-difficulty">★</span></summary><div>
<p>For instance, if we want to give some objects a flavor:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Would%20you...?%22%5Cn%5CnThe%20House%20is%20a%20room.%20The%20mouse%20is%20an%20animal%20in%20the%20House.%5Cn%5CnThe%20player%20carries%20some%20green%20eggs%20and%20a%20ham.%5Cn%5CnA%20food%20is%20a%20kind%20of%20thing%20that%20is%20edible.%20Food%20has%20some%20text%20called%20flavor.%20The%20flavor%20of%20food%20is%20usually%20%22Tolerable.%22%5Cn%5Cn%5BThings%20are,%20in%20general,%20not%20edible%20by%20default,%20so%20we%20have%20to%20make%20them%20edible%20specifically%20in%20order%20to%20allow%20them%20to%20be%20eaten%20by%20the%20player.%20Here%20we've%20defined%20food%20to%20be%20edible%20by%20default,%20and%20we%20have%20given%20it%20a%20standard%20piece%20of%20flavor%20text.%5D%5Cn%5CnThe%20ham%20and%20the%20green%20eggs%20are%20food.%20The%20flavor%20of%20the%20green%20eggs%20is%20%22Delicious!%22%5Cn%5CnAfter%20eating%20something:%5Cn%5Ctif%20the%20noun%20provides%20the%20property%20flavor,%20say%20%22%5Bthe%20flavor%20of%20the%20noun%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise%20say%20%22It's%20%5Bnoun%5D-flavored.%22%5Cn%5Cn%5BNote%20that%20we%20use%20%22if%20the%20noun%20provides%20a%20flavor...%22%20to%20make%20sure%20that%20the%20property%20exists%20before%20attempting%20to%20use%20it.%20Otherwise,%20there%20is%20the%20risk%20that%20we%20will%20try%20to%20print%20a%20property%20that%20does%20not%20exist,%20resulting%20in%20errors%20in%20the%20game.%5D%5Cn%5Cn%5BWe%20will%20only%20get%20the%20%22It's%20%5Bnoun%5D-flavored.%22%20response%20if%20we%20successfully%20eat%20something%20that%20is%20not%20a%20food%20and%20does%20not%20have%20flavor%20text.%20To%20test%20this%20feature,%20let's%20suppose%20something%20that%20isn't%20exactly%20food%20but%20can%20theoretically%20be%20chewed%20on:%5D%5Cn%5CnThe%20player%20carries%20some%20paper.%20The%20paper%20is%20edible.%5Cn%5CnTest%20me%20with%20%22eat%20ham%20/%20eat%20green%20eggs%20/%20eat%20paper%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Would you...?"
</p>
<p class="quoted">
The House is a room. The mouse is an animal in the House.
</p>
<p class="quoted">
The player carries some green eggs and a ham.
</p>
<p class="quoted">
A food is a kind of thing that is edible. Food has some text called flavor. The flavor of food is usually "Tolerable."
</p>
</div>
<p>Things are, in general, not edible by default, so we have to make them edible specifically in order to allow them to be eaten by the player. Here we've defined food to be edible by default, and we have given it a standard piece of flavor text.</p>

<div class="code">
<p class="quoted">
The ham and the green eggs are food. The flavor of the green eggs is "Delicious!"
</p>
<p class="quoted">
After eating something:
<br>    if the noun provides the property flavor, say "[the flavor of the noun][paragraph break]";
<br>    otherwise say "It's [noun]-flavored."
</p>
</div>
<p>Note that we use "if the noun provides a flavor..." to make sure that the property exists before attempting to use it. Otherwise, there is the risk that we will try to print a property that does not exist, resulting in errors in the game.</p>
<p>We will only get the "It's [noun]-flavored." response if we successfully eat something that is not a food and does not have flavor text. To test this feature, let's suppose something that isn't exactly food but can theoretically be chewed on:</p>

<div class="code">
<p class="quoted">
The player carries some paper. The paper is edible.
</p>
<p class="quoted">
Test me with "eat ham / eat green eggs / eat paper".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.8">WI §4.8. New value properties</a><br><a href="rb_9.html#rb-9.1">RB §9.1. Food</a>
</div></details><details class="full-example" id="example-133"><summary><span class="example-summary">133. Candy</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we want to give the player a bag of candies, of which a random one is poisonous. We can pick which one should be poisoned at the start of play, like this:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Candy%22%5Cn%5CnThe%20plural%20of%20piece%20of%20candy%20is%20pieces%20of%20candy.%20A%20piece%20of%20candy%20is%20a%20kind%20of%20thing.%20A%20piece%20of%20candy%20is%20always%20edible.%20Four%20pieces%20of%20candy%20are%20in%20the%20Halloween%20bag.%5Cn%5CnToxicity%20is%20a%20kind%20of%20value.%20The%20toxicities%20are%20safe%20and%20poisonous.%20A%20piece%20of%20candy%20has%20a%20toxicity.%20A%20piece%20of%20candy%20is%20usually%20safe.%5Cn%5CnThe%20Porch%20is%20a%20room.%20The%20player%20carries%20the%20Halloween%20bag.%5Cn%5CnAfter%20eating%20a%20poisonous%20piece%20of%20candy:%5Cn%5Ctsay%20%22Oh,%20that%20didn't%20taste%20right%20at%20all.%20Oh%20well!%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20a%20random%20piece%20of%20candy%20is%20poisonous.%5Cn%5CnTest%20me%20with%20%22eat%20candy%20/%20g%20/%20g%20/%20g%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Candy"
</p>
<p class="quoted">
The plural of piece of candy is pieces of candy. A piece of candy is a kind of thing. A piece of candy is always edible. Four pieces of candy are in the Halloween bag.
</p>
<p class="quoted">
Toxicity is a kind of value. The toxicities are safe and poisonous. A piece of candy has a toxicity. A piece of candy is usually safe.
</p>
<p class="quoted">
The Porch is a room. The player carries the Halloween bag.
</p>
<p class="quoted">
After eating a poisonous piece of candy:
<br>    say "Oh, that didn't taste right at all. Oh well!"
</p>
<p class="quoted">
When play begins:
<br>    now a random piece of candy is poisonous.
</p>
<p class="quoted">
Test me with "eat candy / g / g / g".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.19">WI §8.19. Random choices of things</a><br><a href="rb_9.html#rb-9.1">RB §9.1. Food</a>
</div></details><details class="full-example" id="example-143"><summary><span class="example-summary">143. MRE</span> <span class="example-difficulty">★</span></summary><div>
<p>Many older interactive fiction games required the player to find food and eat on a regular basis in order to avoid death. This effect was often unrealistic (since most people can survive much longer than a few hours without eating) and is often seen as an annoyance. However, for the sake of argument, suppose that we do want to construct a hunger-and-death system.</p>
<p>To make things a little more interesting, we will postulate that different foods are differently filling, so that if the player manages to find something really caloric, he is off the hook on his hunger search for a while.</p>
<p>We will also implement the system so that the player gets messages when he is hungry, then dies a short time later. (The times involved are ludicrously short, but this allows us to see the effects within a simple example. In a real game we would want to allow a considerably longer timer for the hunger to play out.)</p>
<p>First, a little scene-setting:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22MRE%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20right%20hand%20status%20line%20is%20%22%5Btime%20of%20day%5D%22;%5Cn%5Ctsay%20%22The%20procedure%20was%20painless%20at%20first:%20increased%20strength%20was%20the%20first%20sign,%20followed%20by%20a%20sensation%20of%20delayed%20time,%20as%20though%20everyone%20around%20you%20moved%20more%20slowly.%20Your%20ability%20to%20dodge%20and%20perform%20feats%20of%20agility%20doubled,%20then%20trebled.%20You%20were%20heralded%20as%20a%20triumph%20of%20medicine.%20They%20told%20you%20there%20would%20be%20no%20side%20effects%20worth%20speaking%20of.%5Cn%5CnThey%20were%20wrong.%22%5Cn%5CnThe%20Base%20Camp%20Larder%20is%20a%20room.%20%22This%20room%20has%20been%20reinforced%20after%20each%20incident%20--%20and%20there%20have%20been%20dozens%20in%20the%20last%20two%20months%20--%20so%20that%20it%20now%20rivals%20Fort%20Knox.%20Only%20your%20new%20skill%20and%20speed%20enabled%20you%20to%20dodge%20the%20motion%20sensors,%20knock%20out%20the%20computerized%20security%20system,%20fool%20the%20retinal%20scanner,%20and%20punch%20a%20hole%20in%20the%20steel%20containment%20grating.%20But%20you're%20inside%20now.%22%5Cn%5Cn%5BNow%20we%20define%20our%20food,%20and%20add%20some%20special%20instructions%20for%20what%20happens%20to%20our%20hunger%20counters%20when%20the%20food%20is%20eaten:%5D%5Cn%5CnFood%20is%20a%20kind%20of%20thing.%20Food%20is%20usually%20edible.%20Food%20has%20a%20time%20called%20the%20satisfaction%20period.%20The%20satisfaction%20period%20of%20a%20food%20is%20usually%205%20minutes.%5Cn%5CnA%20person%20can%20be%20hungry%20or%20replete.%20The%20player%20is%20hungry.%5Cn%5CnThe%20Larder%20contains%20an%20apple,%20a%20candy%20bar,%20and%20a%20large%20plate%20of%20pasta.%20The%20apple,%20the%20candy%20bar,%20and%20the%20pasta%20are%20food.%20The%20satisfaction%20period%20of%20the%20apple%20is%202%20minutes.%20The%20satisfaction%20period%20of%20the%20pasta%20is%20125%20minutes.%5Cn%5CnCheck%20eating%20something%20which%20is%20not%20food:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20might%20be%20edible,%20but%20it's%20not%20what%20you'd%20consider%20really%20food.%22%5Cn%5CnCheck%20eating%20something%20when%20the%20player%20is%20not%20hungry:%5Cn%5Ctsay%20%22You're%20not%20hungry%20right%20now.%22%5Cn%5CnCarry%20out%20eating%20something:%5Cn%5Ctnow%20the%20player%20is%20replete;%5Cn%5Cthunger%20resumes%20in%20the%20satisfaction%20period%20of%20the%20noun%20from%20now.%5Cn%5Cn%5BThe%20first%20of%20those%20two%20phrases,%20%22now%20the%20player%20is%20replete%22,%20causes%20the%20player%20to%20cease%20to%20be%20hungry;%20the%20second%20one%20sets%20up%20a%20future%20event%20in%20which%20the%20hunger%20sets%20in%20again.%20The%20length%20of%20time%20until%20that%20event%20depends%20on%20how%20satisfying%20the%20specific%20food%20is.%20Now%20we%20define%20that%20event:%5D%5Cn%5CnAt%20the%20time%20when%20hunger%20resumes:%5Cn%5Ctstarvation%20occurs%20in%20three%20minutes%20from%20now;%5Cn%5Ctnow%20the%20player%20is%20hungry.%5Cn%5CnAt%20the%20time%20when%20starvation%20occurs:%5Cn%5Ctif%20the%20player%20is%20hungry,%20end%20the%20story%20saying%20%22You%20have%20starved%22.%5Cn%5Cn%5BNote%20%22if%20the%20player%20is%20hungry%22:%20it%20is%20possible%20that%20the%20starvation%20event%20will%20be%20set%20up%20but%20the%20player%20will%20eat%20before%20it%20occurs;%20in%20that%20case,%20we%20want%20it%20not%20to%20take%20effect.%5D%5Cn%5Cn%5BAnd%20now,%20since%20we%20really%20ought%20to%20give%20the%20player%20some%20warning%20of%20what%20is%20happening%20to%20him:%5D%5Cn%5CnEvery%20turn%20when%20the%20player%20is%20hungry:%5Cn%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Hunger%20Complaints;%5Cn%5Ctsay%20%22%5Bhunger%20entry%5D%5Bparagraph%20break%5D%22.%5Cn%5CnTable%20of%20Hunger%20Complaints%5Cnhunger%5Cn%22Gosh,%20you're%20starving.%22%5Cn%22It%20feels%20as%20though%20you%20haven't%20eaten%20in%20days.%20Weeks,%20almost.%22%5Cn%22The%20world%20seems%20to%20slow%20down%20and%20everything%20becomes%20sharper%20and%20brighter.%20You%20are%20a%20hunter,%20a%20hunter%20of%20foodstuffs.%22%5Cn%22You%20find%20yourself%20staring%20at%20%5Bthe%20random%20visible%20thing%20that%20is%20not%20the%20player%5D%20and%20wondering%20how%20it%20would%20taste.%22%5Cn%5CnTest%20me%20with%20%22eat%20apple%20/%20z%20/%20z%20/%20z%20/%20eat%20candy%20bar%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "MRE"
</p>
<p class="quoted">
When play begins:
<br>    now the right hand status line is "[time of day]";
<br>    say "The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.
</p>
<p class="quoted">
They were wrong."
</p>
<p class="quoted">
The Base Camp Larder is a room. "This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you're inside now."
</p>
</div>
<p>Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:</p>

<div class="code">
<p class="quoted">
Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.
</p>
<p class="quoted">
A person can be hungry or replete. The player is hungry.
</p>
<p class="quoted">
The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.
</p>
<p class="quoted">
Check eating something which is not food:
<br>    say "[The noun] might be edible, but it's not what you'd consider really food."
</p>
<p class="quoted">
Check eating something when the player is not hungry:
<br>    say "You're not hungry right now."
</p>
<p class="quoted">
Carry out eating something:
<br>    now the player is replete;
<br>    hunger resumes in the satisfaction period of the noun from now.
</p>
</div>
<p>The first of those two phrases, "now the player is replete", causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:</p>

<div class="code">
<p class="quoted">
At the time when hunger resumes:
<br>    starvation occurs in three minutes from now;
<br>    now the player is hungry.
</p>
<p class="quoted">
At the time when starvation occurs:
<br>    if the player is hungry, end the story saying "You have starved".
</p>
</div>
<p>Note "if the player is hungry": it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.</p>
<p>And now, since we really ought to give the player some warning of what is happening to him:</p>

<div class="code">
<p class="quoted">
Every turn when the player is hungry:
<br>    choose a random row in the Table of Hunger Complaints;
<br>    say "[hunger entry][paragraph break]".
</p>
<p class="quoted">
Table of Hunger Complaints
<br>hunger
<br>"Gosh, you're starving."
<br>"It feels as though you haven't eaten in days. Weeks, almost."
<br>"The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs."
<br>"You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste."
</p>
<p class="quoted">
Test me with "eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.11">WI §9.11. Future events</a><br><a href="rb_9.html#rb-9.1">RB §9.1. Food</a>
</div></details><details class="full-example" id="example-390"><summary><span class="example-summary">390. Stone</span> <span class="example-difficulty">★</span></summary><div>
<p>A thing can have a rule as a property, if we like. Here we are going to allow the player to make a soup whose effects will depend on its ingredients. Each ingredient will have its own "food effect" rule, to be followed when the food is eaten.</p>
<p>Note that there are other, slightly less cumbersome ways to do the same thing -- we will see in the chapter on Rulebooks that we could make a "food effects rulebook" and then write a number of rules such as "food effects rule for carrots" or "food effects rule for the stone". Nonetheless, we demonstrate rules-as-properties here for the sake of thoroughness.</p>
<p>So:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Stone%22%5Cn%5CnA%20food%20is%20a%20kind%20of%20thing%20that%20is%20edible.%20A%20food%20has%20a%20rule%20called%20the%20food%20effect.%5Cn%5CnCarry%20out%20eating%20a%20food:%5Cn%5Ctif%20a%20food%20is%20part%20of%20the%20noun:%5Cn%5Ct%5Ctrepeat%20with%20item%20running%20through%20things%20which%20are%20part%20of%20the%20noun:%5Cn%5Ct%5Ct%5Ctif%20item%20is%20a%20food,%20follow%20the%20food%20effect%20of%20the%20item;%5Cn%5Ctfollow%20the%20food%20effect%20of%20the%20noun.%5Cn%5CnReport%20eating%20a%20food:%5Cn%5Ctsay%20%22You%20eat%20%5Bthe%20noun%5D.%20%5Bdiagnosis%20of%20the%20player%5D%22;%5Cn%5Ctstop%20the%20action.%5Cn%5CnTo%20say%20diagnosis%20of%20(victim%20-%20a%20person):%5Cn%5Ctif%20the%20victim%20is%20ill:%5Cn%5Ct%5Ctsay%20%22You%20are%20ill.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22You%20are%20healthy.%20%22;%5Cn%5Ctif%20the%20victim%20is%20awake,%20say%20%22You%20are%20wide%20awake.%20%22;%5Cn%5Ctotherwise%20say%20%22You%20are%20sleepy.%20%22;%5Cn%5Ctif%20the%20victim%20is%20bright-eyed,%20say%20%22Your%20eyesight%20is%20clear.%20%22;%5Cn%5Ctotherwise%20say%20%22Your%20eyesight%20is%20dim.%20%22;%5Cn%5Ctif%20the%20victim%20is%20weak,%20say%20%22You%20are%20weak.%20%22;%5Cn%5Ctotherwise%20say%20%22You%20are%20strong.%20%22;%5Cn%5Ctif%20the%20victim%20is%20hungry,%20say%20%22You%20are%20hungry.%22;%5Cn%5Ctotherwise%20say%20%22You%20are%20well-fed.%22%5Cn%5Cn%5BAnd%20now%20to%20provide%20some%20particular%20foods:%5D%5Cn%5CnSome%20carrots%20are%20a%20food.%20The%20food%20effect%20of%20carrots%20is%20the%20bright-eye%20rule.%20This%20is%20the%20bright-eye%20rule:%20now%20the%20player%20is%20bright-eyed.%5Cn%5CnSome%20potatoes%20are%20a%20food.%20The%20food%20effect%20of%20the%20potatoes%20is%20the%20sleepiness%20rule.%20This%20is%20the%20sleepiness%20rule:%20now%20the%20player%20is%20sleepy.%5Cn%5CnThe%20broth%20is%20a%20food.%20The%20indefinite%20article%20of%20the%20broth%20is%20%22some%22.%20The%20food%20effect%20of%20broth%20is%20the%20filling%20rule.%20This%20is%20the%20filling%20rule:%20now%20the%20player%20is%20full.%5Cn%5CnThe%20hambone%20is%20a%20food.%20The%20food%20effect%20of%20the%20hambone%20is%20the%20heartiness%20rule.%20This%20is%20the%20heartiness%20rule:%20now%20the%20player%20is%20strong.%20Instead%20of%20eating%20the%20hambone:%20say%20%22You%20cannot%20just%20eat%20a%20bone!%22%5Cn%5CnThe%20poison%20ivy%20is%20a%20food.%20%22Poison%20ivy%20grows%20nearby.%22%20The%20food%20effect%20of%20poison%20is%20the%20illness%20rule.%20This%20is%20the%20illness%20rule:%20now%20the%20player%20is%20ill.%5Cn%5CnA%20person%20can%20be%20bright-eyed%20or%20blind.%20The%20player%20is%20blind.%5Cn%5CnA%20person%20can%20be%20well%20or%20ill.%20The%20player%20is%20well.%5Cn%5CnA%20person%20can%20be%20hungry%20or%20full.%20The%20player%20is%20full.%5Cn%5CnA%20person%20can%20be%20strong%20or%20weak.%20The%20player%20is%20weak.%5Cn%5CnA%20person%20can%20be%20awake%20or%20sleepy.%20The%20player%20is%20sleepy.%5Cn%5CnThe%20broth%20is%20in%20the%20kettle.%20The%20kettle%20is%20on%20the%20fire.%20The%20fire%20is%20in%20the%20Clearing.%20The%20Clearing%20is%20a%20room.%5Cn%5CnThe%20player%20carries%20the%20hambone,%20the%20potatoes,%20and%20the%20carrots.%20The%20ivy%20is%20in%20the%20clearing.%5Cn%5CnInstead%20of%20examining%20the%20broth:%5Cn%5Ctif%20something%20is%20part%20of%20the%20broth,%20say%20%22In%20the%20broth,%20%5Ba%20list%20of%20things%20that%20are%20part%20of%20the%20broth%5D%20float%5Bif%20exactly%20one%20thing%20is%20part%20of%20the%20broth%5Ds%5Bend%20if%5D.%22;%5Cn%5Ctotherwise%20say%20%22It%20is%20just%20a%20thin%20broth%20with%20no%20other%20ingredients.%22%5Cn%5CnInstead%20of%20inserting%20something%20into%20the%20broth:%20try%20inserting%20the%20noun%20into%20the%20holder%20of%20the%20broth.%5Cn%5CnInstead%20of%20taking%20the%20broth:%20say%20%22You%20cannot%20take%20the%20broth%20in%20your%20bare%20hands.%22%5Cn%5Cn%5BAnd%20the%20following%20is%20a%20relatively%20unimportant%20nicety:%5D%5Cn%5CnTo%20sink%20is%20a%20verb.%5Cn%5CnAfter%20inserting%20a%20food%20which%20is%20not%20the%20broth%20into%20a%20container%20which%20contains%20the%20broth:%5Cn%5Ctnow%20the%20noun%20is%20part%20of%20the%20broth;%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20%5Bsink%5D%20into%20%5Bthe%20second%20noun%5D,%20making%20the%20broth%20richer.%22%5Cn%5CnTest%20me%20with%20%22x%20broth%20/%20eat%20hambone%20/%20put%20hambone%20in%20kettle%20/%20x%20broth%20/%20put%20potatoes%20in%20broth%20/%20x%20broth%20/%20eat%20carrots%20/%20eat%20broth%20/%20put%20ivy%20in%20kettle%20/%20eat%20ivy%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Stone"
</p>
<p class="quoted">
A food is a kind of thing that is edible. A food has a rule called the food effect.
</p>
<p class="quoted">
Carry out eating a food:
<br>    if a food is part of the noun:
<br>        repeat with item running through things which are part of the noun:
<br>            if item is a food, follow the food effect of the item;
<br>    follow the food effect of the noun.
</p>
<p class="quoted">
Report eating a food:
<br>    say "You eat [the noun]. [diagnosis of the player]";
<br>    stop the action.
</p>
<p class="quoted">
To say diagnosis of (victim - a person):
<br>    if the victim is ill:
<br>        say "You are ill.";
<br>        rule succeeds;
<br>    otherwise:
<br>        say "You are healthy. ";
<br>    if the victim is awake, say "You are wide awake. ";
<br>    otherwise say "You are sleepy. ";
<br>    if the victim is bright-eyed, say "Your eyesight is clear. ";
<br>    otherwise say "Your eyesight is dim. ";
<br>    if the victim is weak, say "You are weak. ";
<br>    otherwise say "You are strong. ";
<br>    if the victim is hungry, say "You are hungry.";
<br>    otherwise say "You are well-fed."
</p>
</div>
<p>And now to provide some particular foods:</p>

<div class="code">
<p class="quoted">
Some carrots are a food. The food effect of carrots is the bright-eye rule. This is the bright-eye rule: now the player is bright-eyed.
</p>
<p class="quoted">
Some potatoes are a food. The food effect of the potatoes is the sleepiness rule. This is the sleepiness rule: now the player is sleepy.
</p>
<p class="quoted">
The broth is a food. The indefinite article of the broth is "some". The food effect of broth is the filling rule. This is the filling rule: now the player is full.
</p>
<p class="quoted">
The hambone is a food. The food effect of the hambone is the heartiness rule. This is the heartiness rule: now the player is strong. Instead of eating the hambone: say "You cannot just eat a bone!"
</p>
<p class="quoted">
The poison ivy is a food. "Poison ivy grows nearby." The food effect of poison is the illness rule. This is the illness rule: now the player is ill.
</p>
<p class="quoted">
A person can be bright-eyed or blind. The player is blind.
</p>
<p class="quoted">
A person can be well or ill. The player is well.
</p>
<p class="quoted">
A person can be hungry or full. The player is full.
</p>
<p class="quoted">
A person can be strong or weak. The player is weak.
</p>
<p class="quoted">
A person can be awake or sleepy. The player is sleepy.
</p>
<p class="quoted">
The broth is in the kettle. The kettle is on the fire. The fire is in the Clearing. The Clearing is a room.
</p>
<p class="quoted">
The player carries the hambone, the potatoes, and the carrots. The ivy is in the clearing.
</p>
<p class="quoted">
Instead of examining the broth:
<br>    if something is part of the broth, say "In the broth, [a list of things that are part of the broth] float[if exactly one thing is part of the broth]s[end if].";
<br>    otherwise say "It is just a thin broth with no other ingredients."
</p>
<p class="quoted">
Instead of inserting something into the broth: try inserting the noun into the holder of the broth.
</p>
<p class="quoted">
Instead of taking the broth: say "You cannot take the broth in your bare hands."
</p>
</div>
<p>And the following is a relatively unimportant nicety:</p>

<div class="code">
<p class="quoted">
To sink is a verb.
</p>
<p class="quoted">
After inserting a food which is not the broth into a container which contains the broth:
<br>    now the noun is part of the broth;
<br>    say "[The noun] [sink] into [the second noun], making the broth richer."
</p>
<p class="quoted">
Test me with "x broth / eat hambone / put hambone in kettle / x broth / put potatoes in broth / x broth / eat carrots / eat broth / put ivy in kettle / eat ivy".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_19.html#wi-19.3">WI §19.3. New rules</a><br><a href="rb_9.html#rb-9.1">RB §9.1. Food</a>
</div></details><details class="full-example" id="example-197"><summary><span class="example-summary">197. Delicious, Delicious Rocks</span> <span class="example-difficulty">★★★</span></summary><div>
<p>In some cases, we may want to add new stages to action processing. One possibility is a stage where we check the sanity of what the player is trying to do before executing any of the other commands; so that we avoid, for instance</p>

<div class="code"><p class="quoted">
&gt;EAT ROCK
<br>(first taking the rock)
<br>That's plainly inedible.
</p></div>
<p>Here is how we might insert such a stage in our action processing, using rulebook manipulation.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Delicious,%20Delicious%20Rocks%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnThe%20sanity-check%20rules%20are%20a%20rulebook.%5Cn%5CnThis%20is%20the%20sanity-check%20stage%20rule:%5Cn%5Ctabide%20by%20the%20sanity-check%20rules.%5Cn%5CnThe%20sanity-check%20stage%20rule%20is%20listed%20after%20the%20before%20stage%20rule%20%20in%20the%20action-processing%20rules.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnCandyland%20is%20a%20room.%20The%20lollipop%20tree%20is%20an%20edible%20thing%20in%20Candyland.%20The%20genuine%20rock%20is%20a%20thing%20in%20Candyland.%5Cn%5CnSanity-check%20eating%20an%20inedible%20thing:%5Cn%5Ctsay%20%22Your%20digestion%20is%20so%20delicate%20--%20you're%20sure%20%5Bthe%20noun%5D%20wouldn't%20agree%20with%20you.%22%20instead.%5Cn%5CnTest%20me%20with%20%22eat%20lollipop%20/%20eat%20rock%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Delicious, Delicious Rocks"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
The sanity-check rules are a rulebook.
</p>
<p class="quoted">
This is the sanity-check stage rule:
<br>    abide by the sanity-check rules.
</p>
<p class="quoted">
The sanity-check stage rule is listed after the before stage rule  in the action-processing rules.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
Candyland is a room. The lollipop tree is an edible thing in Candyland. The genuine rock is a thing in Candyland.
</p>
<p class="quoted">
Sanity-check eating an inedible thing:
<br>    say "Your digestion is so delicate -- you're sure [the noun] wouldn't agree with you." instead.
</p>
<p class="quoted">
Test me with "eat lollipop / eat rock".
</p>
</div>
<p>Notice that now Inform does not try taking the rock before rejecting the player's attempt to eat it.</p>
<p>It is of course possible to get the same effect with</p>

<div class="code"><p class="quoted">
Before eating an inedible thing:
<br>    say "Your digestion is so delicate -- you're sure [the noun] wouldn't agree with you." instead.
</p></div>
<p>...and in a small game with few rules, there's not much reason to add an extra stage. The ability to modify the stages of action processing becomes useful when we have a fairly large game with sophisticated modeling and want to be sure that some kinds of message (such as the sanity-check) are always handled before other things that we might be doing at the before stage (such as generating implicit actions like opening doors before going through them).</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.9">WI §12.9. Check, carry out, report</a><br><a href="rb_9.html#rb-9.1">RB §9.1. Food</a>
</div></details>
</div></section>
<section class="section" id="rb-9.2"><div>





<h3>RB §9.2. Bags, Bottles, Boxes and Safes</h3>
<p>The kind "container" allows one thing to contain others. Things are sometimes containers automatically, sometimes by instruction:</p>

<div class="code"><p class="quoted">
The match is in the matchbox. The bucket is a container.
</p></div>
<p>The matchbox, like the bucket, is a container. Containers come in all sizes and have a variety of behaviours, mainly controlled by the properties we give them: they can be "open" or "closed", "opaque" or "transparent" (when closed), "openable" or not, "lockable" or not, "enterable" or not. The basic ideas of containment are to do with carrying and sometimes hiding the contents, and Inform makes this easy. Allowing for locking and unlocking is again straightforward:</p>

<div class="code"><p class="quoted">
The strongbox is a locked container. The little steel key unlocks the strongbox.
</p></div>
<p>Two built-in extensions enhance and modify the behavior of locks and keys: Locksmith automates a number of steps, automatically unlocking doors when trying to open them (for instance). Skeleton Keys allows us to define multiple keys that unlock the same object, rather than being restricted to one matching key per item.</p>
<p>For a container with a combination lock, rather than a key, see <a href="rb_9.html#example-299" class="example-link" onClick="(function() { document.getElementById('example-299').setAttribute('open','open'); return true; })();">Safety</a><span class="example-difficulty"> ★</span>; for a more sophisticated safe requiring digits dialed over multiple turns, see <a href="rb_9.html#example-435" class="example-link" onClick="(function() { document.getElementById('example-435').setAttribute('open','open'); return true; })();">Eyes, Fingers, Toes</a><span class="example-difficulty"> ★</span>.</p>
<p><a href="rb_9.html#example-340" class="example-link" onClick="(function() { document.getElementById('example-340').setAttribute('open','open'); return true; })();">Trachypachidae Maturin 1803</a><span class="example-difficulty"> ★★</span> provides a bottle that is stoppered with a cork: when it is closed, the cork is part of the bottle, but otherwise the cork becomes a separate object we can carry around.</p>
<p>The normal assumption is that there is no problem with any two portable items being carried together, but in reality they may affect each other. (For effects like magnetism, or getting each other wet, or setting each other on fire, see the Physics chapter.) Here is a cat which, if boxed up with one or more items of food, will eat something each turn until all is gone:</p>

<div class="code">
<p class="quoted">
The player carries a wicker basket and a scarlet fish. The cat is an animal in the wicker basket. The fish is edible.
</p>
<p class="quoted">
Every turn when the cat is in a container (called the bag) and something edible (called the foodstuff) is in the bag:
<br>    remove the foodstuff from play;
<br>    say "With mingled sounds of mewing and chomping, the cat nibbles up [the foodstuff]."
</p>
</div>
<p>The examples below provide subtler effects, adapting text to the current situation. In <a href="rb_9.html#example-321" class="example-link" onClick="(function() { document.getElementById('example-321').setAttribute('open','open'); return true; })();">Cinco</a><span class="example-difficulty"> ★</span>, the container's name changes depending on what it contains: putting beef in a taco allows the player to call it a SHREDDED BEEF TACO. In <a href="rb_9.html#example-344" class="example-link" onClick="(function() { document.getElementById('example-344').setAttribute('open','open'); return true; })();">Unpeeled</a><span class="example-difficulty"> ★</span> and <a href="rb_9.html#example-339" class="example-link" onClick="(function() { document.getElementById('example-339').setAttribute('open','open'); return true; })();">Shipping Trunk</a><span class="example-difficulty"> ★</span>, the description of something inside a container changes according to other things are alongside it. This is taken further in <a href="rb_9.html#example-342" class="example-link" onClick="(function() { document.getElementById('example-342').setAttribute('open','open'); return true; })();">Hudsucker Industries</a><span class="example-difficulty"> ★★</span>, which describes the contents of a container as a group.</p>
<p>Finally, any action that destroys a container has to consider what to do with the things inside. <a href="rb_9.html#example-36" class="example-link" onClick="(function() { document.getElementById('example-36').setAttribute('open','open'); return true; })();">Fallout Enclosure</a><span class="example-difficulty"> ★★★</span> demonstrates a zapping action that destroys cash registers and shelves but leaves their contents tidily behind.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_10.html#rb-10.2" class="crossreference_link">Liquids</a> for a SHAKE command that makes containers rattle when there are contents</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.4" class="crossreference_link">Glass and Other Damage-Prone Substances</a> for opening containers by cutting into them</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.8" class="crossreference_link">Fire</a> for fire damage that spreads between containers and their contents, leaving fireproof objects intact</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.5" class="crossreference_link">Volume, Height, Weight</a> for containers breaking under the weight of their contents</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.9" class="crossreference_link">Heat</a> for keeping things warm in insulated containers</div>
<div class="crossreference">
<a href="rb_8.html#rb-8.4" class="crossreference_link">Furniture</a> for chests with lids that can support other objects</div>
<div class="crossreference">
<a href="rb_6.html#rb-6.3" class="crossreference_link">Modifying Existing Commands</a> for ways to allow the player to unlock with a key he isn't currently holding</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-299"><summary><span class="example-summary">299. Safety</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Safety%22%5Cn%5CnThe%20Vault%20is%20a%20room.%20%22Snug%20yet%20paranoid,%20this%20represents%20the%20state%20of%20the%20art%20in%20cheerless%20security.%22%20The%20Safe%20is%20here.%20%22A%20mammoth%20safe,%20with%20a%20dial%20which%20can%20spin%20to%20any%20number,%20has%20pride%20of%20place.%20It%20must%20weigh%20about%20the%20same%20as%20a%20small%20car,%20so%20don't%20get%20any%20ideas.%22%20Instead%20of%20opening%20the%20safe,%20say%20%22The%20safe%20opens%20only%20when%20turned%20to%20the%20correct%20combination.%22%5Cn%5CnIn%20the%20Safe%20is%20a%20silver%20florin.%20The%20Safe%20is%20closed%20and%20fixed%20in%20place.%20Understand%20%22dial%22%20as%20the%20Safe.%5Cn%5CnSpinning%20it%20to%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20number.%20Check%20spinning%20it%20to:%20if%20the%20noun%20is%20not%20the%20Safe,%20say%20%22%5BThe%20noun%5D%20does%20not%20spin.%22%20instead.%20Report%20spinning%20it%20to:%20say%20%22Click!%20and%20nothing%20else%20happens.%22%5Cn%5CnUnderstand%20%22spin%20%5Bsomething%5D%20to%20%5Ba%20number%5D%22%20as%20spinning%20it%20to.%5Cn%5CnAfter%20spinning%20the%20closed%20Safe%20to%201384:%20now%20the%20Safe%20is%20open;%20say%20%22Clonk!%20and%20the%20safe%20door%20swings%20slowly%20open,%20revealing%20%5Ba%20list%20of%20things%20in%20the%20Safe%5D.%22%5Cn%5CnTest%20me%20with%20%22open%20safe%20/%20spin%20safe%20to%201131%20/%20open%20safe%20/%20spin%20safe%20to%201384%20/%20x%20safe%20/%20get%20florin%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Safety"
</p>
<p class="quoted">
The Vault is a room. "Snug yet paranoid, this represents the state of the art in cheerless security." The Safe is here. "A mammoth safe, with a dial which can spin to any number, has pride of place. It must weigh about the same as a small car, so don't get any ideas." Instead of opening the safe, say "The safe opens only when turned to the correct combination."
</p>
<p class="quoted">
In the Safe is a silver florin. The Safe is closed and fixed in place. Understand "dial" as the Safe.
</p>
<p class="quoted">
Spinning it to is an action applying to one thing and one number. Check spinning it to: if the noun is not the Safe, say "[The noun] does not spin." instead. Report spinning it to: say "Click! and nothing else happens."
</p>
<p class="quoted">
Understand "spin [something] to [a number]" as spinning it to.
</p>
<p class="quoted">
After spinning the closed Safe to 1384: now the Safe is open; say "Clonk! and the safe door swings slowly open, revealing [a list of things in the Safe]."
</p>
<p class="quoted">
Test me with "open safe / spin safe to 1131 / open safe / spin safe to 1384 / x safe / get florin".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.6">WI §17.6. Actions applying to kinds of value</a><br><a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>
</div></details><details class="full-example" id="example-321"><summary><span class="example-summary">321. Cinco</span> <span class="example-difficulty">★</span></summary><div>
<p>It's fairly common that we want to be able to refer to a container in terms of what it has in it: a bottle of wine, a salt shaker, a chicken sandwich. The player is free to remove the contents again, and the object will go back to using its usual name:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Cinco%22%5Cn%5CnCinco%20de%20Mayo%20Fundraiser%20is%20a%20room.%5Cn%5CnThe%20taco%20shell%20is%20an%20edible%20thing%20in%20the%20Fundraiser.%20It%20is%20a%20portable%20container.%20It%20has%20carrying%20capacity%201.%5Cn%5CnUnderstand%20%22%5Bsomething%20related%20by%20containment%5D%20taco%22%20as%20the%20taco.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20the%20taco%20shell%20while%20not%20inserting%20or%20removing:%5Cn%5Ctif%20the%20taco%20contains%20something%20(called%20filling),%20say%20%22%5Bfilling%5D%20taco%22;%5Cn%5Ctotherwise%20say%20%22taco%20shell%22;%5Cn%5Ctomit%20contents%20in%20listing.%5Cn%5CnThe%20player%20carries%20shredded%20beef.%20It%20is%20edible.%5Cn%5CnThe%20taking%20action%20has%20an%20object%20called%20source%20(matched%20as%20%22from%22).%5Cn%5CnSetting%20action%20variables%20for%20taking:%5Cn%5Ctnow%20source%20is%20the%20holder%20of%20the%20noun.%5Cn%5CnReport%20taking%20something%20from%20the%20taco%20shell:%5Cn%5Ctsay%20%22You%20gingerly%20pick%20%5Bthe%20noun%5D%20out%20of%20the%20taco%20shell.%22%20instead.%5Cn%5CnTest%20me%20with%20%22x%20taco%20/%20put%20shredded%20beef%20in%20taco%20/%20get%20taco%20/%20i%20/%20x%20shredded%20beef%20taco%20/%20get%20shredded%20beef%20/%20x%20shredded%20beef%20taco%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Cinco"
</p>
<p class="quoted">
Cinco de Mayo Fundraiser is a room.
</p>
<p class="quoted">
The taco shell is an edible thing in the Fundraiser. It is a portable container. It has carrying capacity 1.
</p>
<p class="quoted">
Understand "[something related by containment] taco" as the taco.
</p>
<p class="quoted">
Rule for printing the name of the taco shell while not inserting or removing:
<br>    if the taco contains something (called filling), say "[filling] taco";
<br>    otherwise say "taco shell";
<br>    omit contents in listing.
</p>
<p class="quoted">
The player carries shredded beef. It is edible.
</p>
<p class="quoted">
The taking action has an object called source (matched as "from").
</p>
<p class="quoted">
Setting action variables for taking:
<br>    now source is the holder of the noun.
</p>
<p class="quoted">
Report taking something from the taco shell:
<br>    say "You gingerly pick [the noun] out of the taco shell." instead.
</p>
<p class="quoted">
Test me with "x taco / put shredded beef in taco / get taco / i / x shredded beef taco / get shredded beef / x shredded beef taco".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.16">WI §17.16. Understanding things by their relations</a><br><a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>
</div></details><details class="full-example" id="example-339"><summary><span class="example-summary">339. Shipping Trunk</span> <span class="example-difficulty">★</span></summary><div>
<p>First to lay some groundwork:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Shipping%20Trunk%22%5Cn%5CnA%20chest%20is%20a%20kind%20of%20container.%20A%20chest%20is%20always%20openable.%20A%20lid%20is%20a%20kind%20of%20supporter.%20A%20lid%20is%20part%20of%20every%20chest.%5Cn%5CnBefore%20opening%20a%20chest%20when%20something%20(called%20the%20obstruction)%20is%20on%20a%20lid%20which%20is%20part%20of%20the%20noun:%5Cn%5Ctsay%20%22Better%20remove%20%5Bthe%20obstruction%5D.%22%20instead.%5Cn%5CnA%20thing%20can%20be%20innocent%20or%20smelly.%5Cn%5CnThe%20Storage%20Unit%20is%20a%20room.%20The%20shipping%20trunk%20is%20a%20closed%20chest%20in%20the%20Storage%20Unit.%20The%20trunk%20contains%20some%20garlic,%20a%20loaf%20of%20moldy%20sourdough,%20a%20mildewy%20bathtowel,%20a%20pair%20of%20unwashed%20socks,%20two%20dead%20trout,%20and%20a%20box%20of%20baking%20powder.%20The%20garlic,%20trout,%20sourdough,%20bathtowel,%20and%20socks%20are%20smelly.%20The%20baking%20powder%20is%20innocent.%5Cn%5CnThe%20shipping%20trunk's%20lid%20supports%20a%20small%20card.%20The%20description%20of%20the%20small%20card%20is%20%22'Please,%20please%20do%20not%20open%20this%20trunk.'%22%5Cn%5CnAfter%20opening%20the%20trunk:%5Cn%5Ctif%20the%20trunk%20had%20been%20open:%5Cn%5Ct%5Ctsay%20%22You%20steel%20yourself...%22;%5Cn%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22There%20roils%20up%20from%20inside%20an%20indescribable%20funk,%20which,%20when%20you%20can%20see%20straight,%20you%20have%20no%20trouble%20attributing%20to%20the%20presence%20of%20%5Ba%20list%20of%20smelly%20things%20in%20the%20trunk%5D.%20You%20also%20note%20%5Ba%20list%20of%20innocent%20things%20in%20the%20trunk%5D%20in%20the%20corner.%22.%5Cn%5Cn%5BAnd%20now,%20with%20that%20preparation:%5D%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20baking%20powder%20when%20the%20powder%20is%20in%20a%20container%20which%20contains%20a%20smelly%20thing:%20say%20%22completely%20ineffective%20%22.%5Cn%5CnTest%20me%20with%20%22open%20trunk%20/%20examine%20card%20/%20get%20card%20/%20open%20trunk%20/%20get%20powder%20/%20inventory%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Shipping Trunk"
</p>
<p class="quoted">
A chest is a kind of container. A chest is always openable. A lid is a kind of supporter. A lid is part of every chest.
</p>
<p class="quoted">
Before opening a chest when something (called the obstruction) is on a lid which is part of the noun:
<br>    say "Better remove [the obstruction]." instead.
</p>
<p class="quoted">
A thing can be innocent or smelly.
</p>
<p class="quoted">
The Storage Unit is a room. The shipping trunk is a closed chest in the Storage Unit. The trunk contains some garlic, a loaf of moldy sourdough, a mildewy bathtowel, a pair of unwashed socks, two dead trout, and a box of baking powder. The garlic, trout, sourdough, bathtowel, and socks are smelly. The baking powder is innocent.
</p>
<p class="quoted">
The shipping trunk's lid supports a small card. The description of the small card is "'Please, please do not open this trunk.'"
</p>
<p class="quoted">
After opening the trunk:
<br>    if the trunk had been open:
<br>        say "You steel yourself...";
<br>        continue the action;
<br>    otherwise:
<br>        say "There roils up from inside an indescribable funk, which, when you can see straight, you have no trouble attributing to the presence of [a list of smelly things in the trunk]. You also note [a list of innocent things in the trunk] in the corner.".
</p>
</div>
<p>And now, with that preparation:</p>

<div class="code">
<p class="quoted">
Before printing the name of the baking powder when the powder is in a container which contains a smelly thing: say "completely ineffective ".
</p>
<p class="quoted">
Test me with "open trunk / examine card / get card / open trunk / get powder / inventory".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.10">WI §18.10. Printing the name of something</a><br><a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>
</div></details><details class="full-example" id="example-344"><summary><span class="example-summary">344. Unpeeled</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Unpeeled%22%5Cn%5CnScullery%20is%20a%20room.%20A%20sack%20is%20carried%20by%20the%20player.%20The%20sack%20contains%20a%20yellow%20onion.%20The%20player%20carries%20a%20cork.%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20onion%20while%20listing%20contents:%5Cn%5Ctif%20the%20holder%20of%20the%20onion%20contains%20exactly%201%20thing,%20say%20%22single%20%22.%5Cn%5CnTest%20me%20with%20%22i%20/%20put%20cork%20in%20sack%20/%20i%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Unpeeled"
</p>
<p class="quoted">
Scullery is a room. A sack is carried by the player. The sack contains a yellow onion. The player carries a cork.
</p>
<p class="quoted">
Before printing the name of the onion while listing contents:
<br>    if the holder of the onion contains exactly 1 thing, say "single ".
</p>
<p class="quoted">
Test me with "i / put cork in sack / i".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.13">WI §18.13. Listing contents of something</a><br><a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>
</div></details><details class="full-example" id="example-435"><summary><span class="example-summary">435. Eyes, Fingers, Toes</span> <span class="example-difficulty">★</span></summary><div>
<p>It is not difficult to implement a safe which can be set to a single number to open; but a more common scenario in the real world is for the safe to open on a sequence of numbers when they have been dialed in the right order.</p>
<p>For IF, this means that we have to keep running track of the last N digits the player has dialed, dropping the first digit and adding a new one to the end each time the player re-dials the safe. This is a perfect occasion for lists:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Eyes,%20Fingers,%20Toes%22%5Cn%5CnThe%20Addams%20Wine%20Cellar%20is%20a%20room.%20It%20contains%20a%20closed%20lockable%20locked%20container%20called%20a%20safe.%5Cn%5CnThe%20safe%20has%20a%20list%20of%20numbers%20called%20the%20current%20combination.%5Cn%5CnThe%20safe%20has%20a%20list%20of%20numbers%20called%20the%20true%20combination.%20The%20true%20combination%20of%20the%20safe%20is%20%7B2,%2010,%2011%7D.%5Cn%5CnUnderstand%20%22set%20%5Bsomething%5D%20to%20%5Ba%20number%5D%22%20as%20setting%20it%20numerically%20to.%20Setting%20it%20numerically%20to%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20number.%5Cn%5CnInstead%20of%20examining%20the%20safe:%5Cn%5Ctif%20the%20number%20of%20entries%20in%20the%20current%20combination%20of%20the%20safe%20is%200,%5Cn%5Ct%5Ctsay%20%22You%20haven't%20dialed%20the%20safe%20to%20any%20combination%20yet.%22;%5Cn%5Ctotherwise%20say%20%22You%20have%20dialed%20the%20safe%20to%20%5Bthe%20current%20combination%20of%20the%20safe%5D.%22.%5Cn%5CnCheck%20setting%20something%20numerically%20to%20(this%20is%20the%20block%20setting%20numerically%20rule):%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20cannot%20be%20set.%22%5Cn%5CnInstead%20of%20setting%20the%20safe%20numerically%20to%20the%20number%20understood:%5Cn%5Cttruncate%20the%20current%20combination%20of%20the%20safe%20to%20the%20last%202%20entries;%5Cn%5Ctadd%20the%20number%20understood%20to%20the%20current%20combination%20of%20the%20safe;%5Cn%5Ctif%20the%20safe%20is%20locked%20and%20the%20current%20combination%20of%20the%20safe%20is%20the%20true%20combination%20of%20the%20safe:%5Cn%5Ct%5Ctsay%20%22You%20dial%20%5Bthe%20number%20understood%5D,%20and%20%5Bthe%20safe%5D%20gives%20a%20joyous%20CLICK.%22;%5Cn%5Ct%5Ctnow%20the%20safe%20is%20unlocked;%5Cn%5Ctotherwise%20if%20safe%20is%20unlocked%20and%20the%20safe%20is%20closed%20and%20the%20current%20combination%20of%20the%20safe%20is%20not%20the%20true%20combination%20of%20the%20safe:%5Cn%5Ct%5Ctsay%20%22You%20spin%20the%20dial,%20and%20%5Bthe%20safe%5D%20snicks%20locked.%22;%5Cn%5Ct%5Ctnow%20the%20safe%20is%20locked;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22You%20dial%20%5Bthe%20number%20understood%5D%20on%20the%20safe.%22%5Cn%5CnTest%20me%20with%20%22x%20safe%20/%20set%20safe%20to%2010%20/%20x%20safe%20/%20set%20safe%20to%2029%20/%20x%20safe%20/%20set%20safe%20to%202%20/%20x%20safe%20/%20set%20safe%20to%2010%20/%20x%20safe%20/%20set%20safe%20to%2011%20/%20open%20safe%20/%20set%20safe%20to%2014%20/%20close%20safe%20/%20set%20safe%20to%2015%20/%20open%20safe%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Eyes, Fingers, Toes"
</p>
<p class="quoted">
The Addams Wine Cellar is a room. It contains a closed lockable locked container called a safe.
</p>
<p class="quoted">
The safe has a list of numbers called the current combination.
</p>
<p class="quoted">
The safe has a list of numbers called the true combination. The true combination of the safe is {2, 10, 11}.
</p>
<p class="quoted">
Understand "set [something] to [a number]" as setting it numerically to. Setting it numerically to is an action applying to one thing and one number.
</p>
<p class="quoted">
Instead of examining the safe:
<br>    if the number of entries in the current combination of the safe is 0,
<br>        say "You haven't dialed the safe to any combination yet.";
<br>    otherwise say "You have dialed the safe to [the current combination of the safe].".
</p>
<p class="quoted">
Check setting something numerically to (this is the block setting numerically rule):
<br>    say "[The noun] cannot be set."
</p>
<p class="quoted">
Instead of setting the safe numerically to the number understood:
<br>    truncate the current combination of the safe to the last 2 entries;
<br>    add the number understood to the current combination of the safe;
<br>    if the safe is locked and the current combination of the safe is the true combination of the safe:
<br>        say "You dial [the number understood], and [the safe] gives a joyous CLICK.";
<br>        now the safe is unlocked;
<br>    otherwise if safe is unlocked and the safe is closed and the current combination of the safe is not the true combination of the safe:
<br>        say "You spin the dial, and [the safe] snicks locked.";
<br>        now the safe is locked;
<br>    otherwise:
<br>        say "You dial [the number understood] on the safe."
</p>
<p class="quoted">
Test me with "x safe / set safe to 10 / x safe / set safe to 29 / x safe / set safe to 2 / x safe / set safe to 10 / x safe / set safe to 11 / open safe / set safe to 14 / close safe / set safe to 15 / open safe".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_21.html#wi-21.11">WI §21.11. Variations: arrays, logs, queues, stacks, sets, sieves and rings</a><br><a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>
</div></details><details class="full-example" id="example-340"><summary><span class="example-summary">340. Trachypachidae Maturin 1803</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Trachypachidae%20Maturin%201803%22%5Cn%5CnA%20bottle%20is%20a%20kind%20of%20container.%20Bottles%20are%20usually%20openable,%20transparent,%20and%20closed.%20A%20cork%20is%20a%20kind%20of%20thing.%20A%20cork%20is%20in%20every%20bottle.%5Cn%5CnUnderstand%20%22cork%20%5Bsomething%5D%22%20as%20corking.%5Cn%5CnUnderstand%20the%20command%20%22stopper%22%20as%20%22cork%22.%5Cn%5CnUnderstand%20%22uncork%20%5Bsomething%5D%22%20as%20uncorking.%5Cn%5CnCorking%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20corking:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20bottle,%20say%20%22%5BThe%20noun%5D%20cannot%20be%20corked.%22%20instead.%5Cn%5CnCarry%20out%20corking:%5Cn%5Cttry%20closing%20the%20noun.%5Cn%5CnUncorking%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20uncorking:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20bottle,%20say%20%22%5BThe%20noun%5D%20cannot%20be%20uncorked.%22%20instead.%5Cn%5CnCarry%20out%20uncorking:%5Cn%5Cttry%20opening%20the%20noun.%5Cn%5CnUnderstand%20%22close%20%5Bsomething%5D%20with%20%5Bsomething%20preferably%20held%5D%22%20as%20corking%20it%20with.%5Cn%5CnUnderstand%20%22cork%20%5Bsomething%5D%20with%20%5Bsomething%20preferably%20held%5D%22%20as%20corking%20it%20with.%5Cn%5CnCorking%20it%20with%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20carried%20thing.%5Cn%5CnCheck%20corking%20it%20with:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20bottle,%20say%20%22%5BThe%20noun%5D%20cannot%20be%20corked.%22%20instead;%5Cn%5Ctif%20the%20second%20noun%20is%20not%20a%20cork,%20say%20%22%5BThe%20second%20noun%5D%20will%20not%20fit%20in%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20corking%20it%20with:%5Cn%5Cttry%20inserting%20the%20second%20noun%20into%20the%20noun%20instead.%5Cn%5Cn%5CnInstead%20of%20closing%20a%20bottle:%5Cn%5Ctif%20a%20cork%20(called%20the%20item)%20is%20carried%20by%20the%20player,%20try%20inserting%20the%20item%20into%20the%20noun%20instead;%5Cn%5Ctotherwise%20say%20%22You%20need%20a%20stopper%20of%20some%20kind.%22%5Cn%5CnInstead%20of%20opening%20a%20bottle:%5Cn%5Ctif%20a%20cork%20(called%20the%20item)%20is%20in%20the%20noun,%20try%20taking%20the%20item%20instead;%5Cn%5Ctotherwise%20say%20%22%5BThe%20noun%5D%20has%20no%20stopper.%22%5Cn%5CnCarry%20out%20inserting%20a%20cork%20into%20a%20bottle:%5Cn%5Ctnow%20the%20second%20noun%20is%20closed.%5Cn%5CnAfter%20inserting%20a%20cork%20into%20a%20bottle:%5Cn%5Ctsay%20%22You%20stopper%20%5Bthe%20second%20noun%5D%20with%20%5Bthe%20noun%5D.%22%5Cn%5CnBefore%20taking%20a%20cork%20when%20the%20noun%20is%20in%20a%20closed%20bottle%20(called%20the%20item):%5Cn%5Ctnow%20the%20item%20is%20open.%5Cn%5CnInstead%20of%20taking%20a%20cork%20when%20the%20noun%20is%20in%20a%20bottle%20(called%20the%20item):%5Cn%5Ctmove%20the%20noun%20to%20the%20player;%5Cn%5Ctsay%20%22You%20pull%20%5Bthe%20noun%5D%20from%20%5Bthe%20item%5D.%22%20instead.%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20bottle%20(called%20target)%20while%20not%20inserting,%20taking,%20searching,%20or%20removing:%5Cn%5Ctif%20the%20target%20is%20closed,%20say%20%22sealed%20%22;%5Cn%5Ctotherwise%20say%20%22now%20open%20%22.%5Cn%5CnAfter%20printing%20the%20name%20of%20a%20bottle%20(called%20target)%20while%20not%20inserting,%20searching,%20examining,%20or%20removing:%5Cn%5Ctif%20the%20target%20contains%20a%20noncork%20thing,%20say%20%22%20containing%20%5Ba%20list%20of%20noncork%20things%20in%20the%20target%5D%22;%5Cn%5Ctomit%20contents%20in%20listing.%5Cn%5CnInstead%20of%20examining%20a%20bottle:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20contains%20%5Ba%20list%20of%20noncork%20things%20in%20the%20noun%5D.%22%5Cn%5CnDefinition:%20a%20thing%20is%20noncork%20if%20it%20is%20not%20a%20cork.%5Cn%5CnThe%20Doctor's%20Cabin%20is%20a%20room.%20%22A%20dark,%20cramped%20triangle,%20like%20a%20slice%20of%20cake,%20except%20that%20its%20sharp%20end%20has%20been%20cut%20off:%20and%20so%20low%20that%20a%20moderately%20tall%20man%20would%20strike%20his%20head%20on%20the%20deck%20above%20if%20he%20were%20to%20stand%20upright.%20Every%20free%20surface%20is%20covered%20with%20sheets%20of%20best%20Venetian%20looking-glass,%20to%20increase%20the%20light%20filtering%20in.%20Long%20use%20and%20the%20carpenter's%20ingenuity%20have%20packed%20in%20a%20folding%20cot%20and%20table,%20and%20lockers%20are%20built%20into%20unlikely%20places:%20lockers%20filled%20with%20specimens,%20skeletons,%20sketches,%20drafts%20and%20serial%20letters.%22%20The%20jug%20is%20a%20bottle%20in%20the%20Doctor's%20Cabin.%20The%20jug%20contains%20a%20beetle.%20The%20description%20of%20the%20beetle%20is%20%22The%20doctor%20assures%20you%20that%20it%20is%20a%20nondescript.%22%5Cn%5CnTest%20me%20with%20%22get%20jug%20/%20x%20jug%20/%20open%20jug%20/%20x%20jug%20/%20i%20/%20x%20cork%20/%20cork%20jug%20/%20i%20/%20uncork%20jug%20/%20i%20/%20x%20jug%20/%20get%20beetle%20/%20i%20/%20close%20jug%20/%20i%20/%20x%20jug%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Trachypachidae Maturin 1803"
</p>
<p class="quoted">
A bottle is a kind of container. Bottles are usually openable, transparent, and closed. A cork is a kind of thing. A cork is in every bottle.
</p>
<p class="quoted">
Understand "cork [something]" as corking.
</p>
<p class="quoted">
Understand the command "stopper" as "cork".
</p>
<p class="quoted">
Understand "uncork [something]" as uncorking.
</p>
<p class="quoted">
Corking is an action applying to one thing.
</p>
<p class="quoted">
Check corking:
<br>    if the noun is not a bottle, say "[The noun] cannot be corked." instead.
</p>
<p class="quoted">
Carry out corking:
<br>    try closing the noun.
</p>
<p class="quoted">
Uncorking is an action applying to one thing.
</p>
<p class="quoted">
Check uncorking:
<br>    if the noun is not a bottle, say "[The noun] cannot be uncorked." instead.
</p>
<p class="quoted">
Carry out uncorking:
<br>    try opening the noun.
</p>
<p class="quoted">
Understand "close [something] with [something preferably held]" as corking it with.
</p>
<p class="quoted">
Understand "cork [something] with [something preferably held]" as corking it with.
</p>
<p class="quoted">
Corking it with is an action applying to one thing and one carried thing.
</p>
<p class="quoted">
Check corking it with:
<br>    if the noun is not a bottle, say "[The noun] cannot be corked." instead;
<br>    if the second noun is not a cork, say "[The second noun] will not fit in [the noun]." instead.
</p>
<p class="quoted">
Carry out corking it with:
<br>    try inserting the second noun into the noun instead.
</p>
<p class="quoted">
Instead of closing a bottle:
<br>    if a cork (called the item) is carried by the player, try inserting the item into the noun instead;
<br>    otherwise say "You need a stopper of some kind."
</p>
<p class="quoted">
Instead of opening a bottle:
<br>    if a cork (called the item) is in the noun, try taking the item instead;
<br>    otherwise say "[The noun] has no stopper."
</p>
<p class="quoted">
Carry out inserting a cork into a bottle:
<br>    now the second noun is closed.
</p>
<p class="quoted">
After inserting a cork into a bottle:
<br>    say "You stopper [the second noun] with [the noun]."
</p>
<p class="quoted">
Before taking a cork when the noun is in a closed bottle (called the item):
<br>    now the item is open.
</p>
<p class="quoted">
Instead of taking a cork when the noun is in a bottle (called the item):
<br>    move the noun to the player;
<br>    say "You pull [the noun] from [the item]." instead.
</p>
<p class="quoted">
Before printing the name of a bottle (called target) while not inserting, taking, searching, or removing:
<br>    if the target is closed, say "sealed ";
<br>    otherwise say "now open ".
</p>
<p class="quoted">
After printing the name of a bottle (called target) while not inserting, searching, examining, or removing:
<br>    if the target contains a noncork thing, say " containing [a list of noncork things in the target]";
<br>    omit contents in listing.
</p>
<p class="quoted">
Instead of examining a bottle:
<br>    say "[The noun] contains [a list of noncork things in the noun]."
</p>
<p class="quoted">
Definition: a thing is noncork if it is not a cork.
</p>
<p class="quoted">
The Doctor's Cabin is a room. "A dark, cramped triangle, like a slice of cake, except that its sharp end has been cut off: and so low that a moderately tall man would strike his head on the deck above if he were to stand upright. Every free surface is covered with sheets of best Venetian looking-glass, to increase the light filtering in. Long use and the carpenter's ingenuity have packed in a folding cot and table, and lockers are built into unlikely places: lockers filled with specimens, skeletons, sketches, drafts and serial letters." The jug is a bottle in the Doctor's Cabin. The jug contains a beetle. The description of the beetle is "The doctor assures you that it is a nondescript."
</p>
<p class="quoted">
Test me with "get jug / x jug / open jug / x jug / i / x cork / cork jug / i / uncork jug / i / x jug / get beetle / i / close jug / i / x jug".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.10">WI §18.10. Printing the name of something</a><br><a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>
</div></details><details class="full-example" id="example-342"><summary><span class="example-summary">342. Hudsucker Industries</span> <span class="example-difficulty">★★</span></summary><div>
<p>In this scenario, the player starts with a bag full of unsorted letters. These can be polite or rude, but he won't know which until he has examined them. What's more, he is allowed to sort the letters, in which case a group of letters will be shown as (for instance) "two polite letters"; but a group of mixed letters, even if they have all been read, will be called "unsorted letters".</p>
<p>Further, the player should be allowed to refer to sorted letters by tone, but not unsorted letters.</p>
<p>To do this, we'll need printing the name... and printing the plural name..., as well as some special understanding rules.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hudsucker%20Industries%22%5Cn%5CnTone%20is%20a%20kind%20of%20value.%20The%20tones%20are%20effusive,%20affectionate,%20polite,%20curt,%20and%20flamingly%20rude.%5Cn%5CnA%20letter%20is%20a%20kind%20of%20thing.%20The%20description%20of%20a%20letter%20is%20usually%20%22On%20inspection,%20it%20turns%20out%20to%20be%20quite%20%5Btone%5D.%22%20A%20letter%20has%20a%20tone.%20The%20tone%20of%20a%20letter%20is%20usually%20polite.%5Cn%5CnA%20letter%20can%20be%20read%20or%20unread.%20A%20letter%20is%20usually%20unread.%20Carry%20out%20examining%20a%20letter:%20now%20the%20noun%20is%20read.%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20read%20letter:%20say%20%22%5Btone%5D%20%22.%5Cn%5CnBefore%20printing%20the%20name%20of%20an%20ungrouped%20letter:%20say%20%22random%20%22.%5Cn%5CnBefore%20printing%20the%20plural%20name%20of%20a%20letter%20(called%20the%20subject):%5Cn%5Ctif%20the%20subject%20is%20grouped:%5Cn%5Ct%5Ctsay%20%22%5Btone%5D%20%22;%5Cn%5Ctotherwise%20if%20the%20number%20of%20unread%20letters%20which%20are%20next%20to%20the%20subject%20is%200:%5Cn%5Ct%5Ctsay%20%22unsorted%20%22.%5Cn%5CnAfter%20printing%20the%20plural%20name%20of%20a%20letter%20(called%20the%20subject):%5Cn%5Ctif%20the%20number%20of%20read%20letters%20which%20are%20next%20to%20the%20subject%20is%200,%20say%20%22%20(all%20unread,%20at%20the%20moment)%22%20instead;%5Cn%5Ctif%20the%20number%20of%20unread%20letters%20which%20are%20next%20to%20the%20subject%20is%20greater%20than%200,%20say%20%22%20(some%20as%20yet%20unread)%22%20instead.%5Cn%5CnProximity%20relates%20a%20thing%20(called%20X)%20to%20a%20thing%20(called%20Y)%20when%20the%20holder%20of%20X%20is%20the%20holder%20of%20Y.%20The%20verb%20to%20be%20next%20to%20means%20the%20proximity%20relation.%5Cn%5CnDefinition:%20a%20letter%20is%20grouped:%5Cn%5Ctif%20it%20is%20unread,%20no;%5Cn%5Ctif%20the%20number%20of%20unread%20letters%20next%20to%20it%20is%20greater%20than%200,%20no;%5Cn%5Ctrepeat%20with%20item%20running%20through%20letters%20which%20are%20next%20to%20it:%5Cn%5Ct%5Ctif%20the%20tone%20of%20item%20is%20not%20the%20tone%20of%20it,%20no;%5Cn%5Ctyes.%5Cn%5CnDefinition:%20a%20letter%20is%20ungrouped%20if%20it%20is%20not%20grouped.%5Cn%5CnThe%20Mailroom%20is%20a%20room.%20%22Usually%20a%20thrumming%20hive%20of%20bee-like%20workers,%20but%20you%20got%20in%20early%20to%20get%20a%20jump%20on%20the%20day's%20work.%22%5Cn%5CnThe%20satchel%20is%20carried%20by%20the%20player.%20Two%20flamingly%20rude%20letters%20are%20in%20the%20satchel.%20Five%20polite%20letters%20are%20in%20the%20satchel.%5Cn%5CnThe%20mail%20wall%20are%20fixed%20in%20place%20in%20the%20mailroom.%20%22Before%20you%20is%20a%20wall%20of%20mailboxes,%20including%20%5Ba%20list%20of%20mailboxes%20which%20are%20part%20of%20the%20mail%20wall%5D.%22%5Cn%5CnThe%20plural%20of%20mailbox%20is%20mailboxes.%20A%20mailbox%20is%20a%20kind%20of%20container.%20The%20CEO%20box%20is%20a%20mailbox.%20The%20Hold%20box%20is%20a%20mailbox.%20The%20Trash%20box%20is%20a%20mailbox.%20Understand%20%22mailbox%22%20as%20a%20mailbox.%5Cn%5Cn%5BNow,%20there's%20a%20good%20bit%20of%20interaction%20to%20streamline.%20We%20intend%20that%20the%20player%20will%20be%20taking%20letters%20from%20the%20satchel,%20reading%20them,%20and%20putting%20them%20(perhaps%20grouped)%20into%20boxes.%20Our%20interaction%20rules%20should%20assist%20in%20this%20process%20as%20much%20as%20possible.%20To%20start%20with,%20the%20player%20will%20be%20most%20likely%20to%20examine%20letters%20he%20hasn't%20read%20yet:%5D%5Cn%5CnDoes%20the%20player%20mean%20examining%20a%20letter%20(called%20the%20subject):%5Cn%5Ctif%20we%20have%20examined%20the%20subject,%20it%20is%20very%20unlikely;%5Cn%5Ctit%20is%20very%20likely.%5Cn%5Cn%5BThe%20rules%20about%20taking%20are%20more%20subtle:%20the%20player%20is%20more%20likely%20to%20want%20to%20take%20an%20ungrouped%20letter%20than%20a%20grouped%20one;%20he%20is%20more%20likely%20to%20want%20one%20from%20the%20satchel%20than%20not;%20and%20he%20is%20most%20unlikely%20to%20want%20to%20take%20a%20letter%20(grouped%20or%20ungrouped)%20that%20he%20is%20already%20holding.%5D%5Cn%5CnDoes%20the%20player%20mean%20taking%20a%20letter%20(called%20subject)%20which%20is%20grouped:%5Cn%5Ctif%20the%20player%20carries%20the%20subject,%20it%20is%20very%20unlikely;%5Cn%5Ctif%20the%20subject%20is%20in%20the%20satchel,%20it%20is%20possible;%5Cn%5Ctit%20is%20unlikely.%5Cn%5CnDoes%20the%20player%20mean%20taking%20a%20letter%20(called%20subject)%20which%20is%20ungrouped:%5Cn%5Ctif%20the%20player%20carries%20the%20subject,%20it%20is%20very%20unlikely;%5Cn%5Ctif%20the%20subject%20is%20in%20the%20satchel,%20it%20is%20very%20likely;%5Cn%5Ctit%20is%20possible.%5Cn%5Cn%5BAnd%20finally,%20we%20will%20assume%20by%20default%20that%20anything%20other%20than%20examining%20or%20taking%20is%20most%20likely%20to%20apply%20to%20a%20letter%20he's%20already%20identified:%5D%5Cn%5CnDoes%20the%20player%20mean%20doing%20something%20other%20than%20examining%20or%20taking%20with%20a%20letter%20(called%20the%20subject):%5Cn%5Ctif%20we%20have%20examined%20the%20subject,%20it%20is%20likely;%5Cn%5Ctit%20is%20unlikely.%5Cn%5Cn%5BAnd%20we%20would%20also%20like%20to%20understand%20properties%20under%20the%20same%20circumstances%20as%20printing%20--%20a%20letter%20will%20be%20identifiable%20as%20%22polite%22%20if%20it's%20already%20been%20read%20and%20it%20is%20either%20by%20itself%20or%20in%20a%20sorted%20stack%20of%20polite%20letters,%20but%20otherwise%20not.%20What's%20more,%20to%20make%20it%20possible%20to%20disambiguate%20commands%20in%20the%20other%20direction,%20we'll%20call%20any%20unsorted%20letter%20%22random%22,%20to%20represent%20that%20the%20player%20doesn't%20know%20what%20it%20is.%5D%5Cn%5CnUnderstand%20the%20tone%20property%20as%20referring%20to%20a%20letter%20when%20the%20item%20described%20is%20grouped.%20Understand%20%22random%22%20as%20a%20letter%20when%20the%20item%20described%20is%20ungrouped.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20every%20mailbox%20is%20part%20of%20the%20mail%20wall;%5Cn%5Ctrepeat%20with%20switch%20count%20running%20from%201%20to%205:%5Cn%5Ct%5Ctmove%20a%20random%20letter%20to%20the%20satchel.%5Cn%5CnTest%20me%20with%20%22inventory%20/%20examine%20letter%20/%20get%20letter%20/%20i%20/%20put%20letter%20in%20ceo%20box%20/%20inventory%20/%20get%20letter%20/%20x%20letter%20/%20g%20/%20g%20/%20i%20/%20x%20letter%20/%20g%20/%20g%20/%20i%20/%20put%20letter%20in%20hold%20box%20/%20get%20letter%20/%20g%20/%20g%20/%20i%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hudsucker Industries"
</p>
<p class="quoted">
Tone is a kind of value. The tones are effusive, affectionate, polite, curt, and flamingly rude.
</p>
<p class="quoted">
A letter is a kind of thing. The description of a letter is usually "On inspection, it turns out to be quite [tone]." A letter has a tone. The tone of a letter is usually polite.
</p>
<p class="quoted">
A letter can be read or unread. A letter is usually unread. Carry out examining a letter: now the noun is read.
</p>
<p class="quoted">
Before printing the name of a read letter: say "[tone] ".
</p>
<p class="quoted">
Before printing the name of an ungrouped letter: say "random ".
</p>
<p class="quoted">
Before printing the plural name of a letter (called the subject):
<br>    if the subject is grouped:
<br>        say "[tone] ";
<br>    otherwise if the number of unread letters which are next to the subject is 0:
<br>        say "unsorted ".
</p>
<p class="quoted">
After printing the plural name of a letter (called the subject):
<br>    if the number of read letters which are next to the subject is 0, say " (all unread, at the moment)" instead;
<br>    if the number of unread letters which are next to the subject is greater than 0, say " (some as yet unread)" instead.
</p>
<p class="quoted">
Proximity relates a thing (called X) to a thing (called Y) when the holder of X is the holder of Y. The verb to be next to means the proximity relation.
</p>
<p class="quoted">
Definition: a letter is grouped:
<br>    if it is unread, no;
<br>    if the number of unread letters next to it is greater than 0, no;
<br>    repeat with item running through letters which are next to it:
<br>        if the tone of item is not the tone of it, no;
<br>    yes.
</p>
<p class="quoted">
Definition: a letter is ungrouped if it is not grouped.
</p>
<p class="quoted">
The Mailroom is a room. "Usually a thrumming hive of bee-like workers, but you got in early to get a jump on the day's work."
</p>
<p class="quoted">
The satchel is carried by the player. Two flamingly rude letters are in the satchel. Five polite letters are in the satchel.
</p>
<p class="quoted">
The mail wall are fixed in place in the mailroom. "Before you is a wall of mailboxes, including [a list of mailboxes which are part of the mail wall]."
</p>
<p class="quoted">
The plural of mailbox is mailboxes. A mailbox is a kind of container. The CEO box is a mailbox. The Hold box is a mailbox. The Trash box is a mailbox. Understand "mailbox" as a mailbox.
</p>
</div>
<p>Now, there's a good bit of interaction to streamline. We intend that the player will be taking letters from the satchel, reading them, and putting them (perhaps grouped) into boxes. Our interaction rules should assist in this process as much as possible. To start with, the player will be most likely to examine letters he hasn't read yet:</p>

<div class="code"><p class="quoted">
Does the player mean examining a letter (called the subject):
<br>    if we have examined the subject, it is very unlikely;
<br>    it is very likely.
</p></div>
<p>The rules about taking are more subtle: the player is more likely to want to take an ungrouped letter than a grouped one; he is more likely to want one from the satchel than not; and he is most unlikely to want to take a letter (grouped or ungrouped) that he is already holding.</p>

<div class="code">
<p class="quoted">
Does the player mean taking a letter (called subject) which is grouped:
<br>    if the player carries the subject, it is very unlikely;
<br>    if the subject is in the satchel, it is possible;
<br>    it is unlikely.
</p>
<p class="quoted">
Does the player mean taking a letter (called subject) which is ungrouped:
<br>    if the player carries the subject, it is very unlikely;
<br>    if the subject is in the satchel, it is very likely;
<br>    it is possible.
</p>
</div>
<p>And finally, we will assume by default that anything other than examining or taking is most likely to apply to a letter he's already identified:</p>

<div class="code"><p class="quoted">
Does the player mean doing something other than examining or taking with a letter (called the subject):
<br>    if we have examined the subject, it is likely;
<br>    it is unlikely.
</p></div>
<p>And we would also like to understand properties under the same circumstances as printing -- a letter will be identifiable as "polite" if it's already been read and it is either by itself or in a sorted stack of polite letters, but otherwise not. What's more, to make it possible to disambiguate commands in the other direction, we'll call any unsorted letter "random", to represent that the player doesn't know what it is.</p>

<div class="code">
<p class="quoted">
Understand the tone property as referring to a letter when the item described is grouped. Understand "random" as a letter when the item described is ungrouped.
</p>
<p class="quoted">
When play begins:
<br>    now every mailbox is part of the mail wall;
<br>    repeat with switch count running from 1 to 5:
<br>        move a random letter to the satchel.
</p>
<p class="quoted">
Test me with "inventory / examine letter / get letter / i / put letter in ceo box / inventory / get letter / x letter / g / g / i / x letter / g / g / i / put letter in hold box / get letter / g / g / i".
</p>
</div>
<p>That last "repeat" is merely a device to shuffle the order of items in the satchel so that the player will not always encounter the letters in a neatly presorted order, despite our defining them that way. (Of course, that means that the test produced by TEST ME cannot be very exciting...)</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.11">WI §18.11. Printing the plural name of something</a><br><a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>
</div></details><details class="full-example" id="example-36"><summary><span class="example-summary">36. Fallout Enclosure</span> <span class="example-difficulty">★★★</span></summary><div>
<p>It may not be immediately obvious why we might want to create new intermediate categories of the kinds hierarchy. But there may be times, for instance, where we would like to make an action that applies in the same way to both containers and supporters, but to nothing else in the game. To avoid creating two nearly-identical rules, we would instead roll the two categories together into one, on the principle that duplicating source text is usually a sign of bad design.</p>
<p>So for instance let's say the player is able to zap objects to make them go away, but any contents -- things inside a container or on top of a supporter -- should always be left as residue. Here's one way we might do this:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Fallout%20Enclosure%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnAn%20enclosure%20is%20a%20kind%20of%20thing.%20A%20container%20is%20a%20kind%20of%20enclosure.%20A%20supporter%20is%20a%20kind%20of%20enclosure.%5Cn%5CnUnderstand%20%22zap%20%5Bsomething%5D%22%20as%20zapping.%20Zapping%20is%20an%20action%20applying%20to%20one%20thing.%20The%20Zapping%20action%20has%20a%20list%20of%20things%20called%20the%20remnants.%5Cn%5CnCarry%20out%20zapping%20an%20enclosure:%5Cn%5Ctif%20the%20noun%20holds%20something:%5Cn%5Ct%5Ctnow%20the%20remnants%20is%20the%20list%20of%20things%20held%20by%20the%20noun;%5Cn%5Ct%5Ctrepeat%20with%20N%20running%20through%20the%20remnants:%5Cn%5Ct%5Ct%5Ctmove%20N%20to%20the%20holder%20of%20the%20noun.%5Cn%5CnCarry%20out%20zapping:%5Cn%5Ctnow%20the%20noun%20is%20nowhere.%5Cn%5CnReport%20zapping:%5Cn%5Ctsay%20%22You%20zap%20%5Bthe%20noun%5D,%20destroying%20%5Bthem%5D%5Bif%20the%20remnants%20is%20not%20empty%5D%20and%20leaving%20%5Bthe%20remnants%20with%20indefinite%20articles%5D%20behind%5Bend%20if%5D.%22%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnSuperDuperMart%20is%20a%20room.%20SuperDuperMart%20contains%20some%20shelves%20and%20a%20cash%20register.%5Cn%5CnThe%20shelves%20support%20a%20bottle%20of%20Buffout%20and%20a%20container%20of%20Jet.%5Cn%5CnThe%20cash%20register%20contains%20some%20prewar%20money,%20a%20coin%20purse,%20and%20a%20bottle%20cap.%20%20The%20coin%20purse%20contains%20a%20prewar%20nickel.%20It%20is%20closed.%5Cn%5CnThe%20cash%20register%20is%20closed%20and%20locked.%5Cn%5Cn%5CnTest%20me%20with%20%22zap%20shelves%20/%20zap%20buffout%20/%20zap%20register%20/%20zap%20purse%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Fallout Enclosure"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
An enclosure is a kind of thing. A container is a kind of enclosure. A supporter is a kind of enclosure.
</p>
<p class="quoted">
Understand "zap [something]" as zapping. Zapping is an action applying to one thing. The Zapping action has a list of things called the remnants.
</p>
<p class="quoted">
Carry out zapping an enclosure:
<br>    if the noun holds something:
<br>        now the remnants is the list of things held by the noun;
<br>        repeat with N running through the remnants:
<br>            move N to the holder of the noun.
</p>
<p class="quoted">
Carry out zapping:
<br>    now the noun is nowhere.
</p>
<p class="quoted">
Report zapping:
<br>    say "You zap [the noun], destroying [them][if the remnants is not empty] and leaving [the remnants with indefinite articles] behind[end if]."
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
SuperDuperMart is a room. SuperDuperMart contains some shelves and a cash register.
</p>
<p class="quoted">
The shelves support a bottle of Buffout and a container of Jet.
</p>
<p class="quoted">
The cash register contains some prewar money, a coin purse, and a bottle cap.  The coin purse contains a prewar nickel. It is closed.
</p>
<p class="quoted">
The cash register is closed and locked.
</p>
<p class="quoted">
Test me with "zap shelves / zap buffout / zap register / zap purse".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.23">WI §3.23. Parts of things</a><br><a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>
</div></details>
</div></section>
<section class="section" id="rb-9.3"><div>





<h3>RB §9.3. Clothing</h3>
<p>A person can wear any (portable) thing which has the "wearable" property. (This property seldom needs to be quoted because it is deduced automatically from sentences like "Trevor wears a red hat.")</p>
<p>In most traditional IF, clothing is only used when it is exceptional in some way. That is, we ignore the three to eight different garments most people are wearing at any given time - the everyday clothes which people wear without thinking about them - and only simulate the unexpected extras: a borrowed jaunty red hat, a radiation-proof space suit, and so on.</p>
<p>These unusual garments turn up only occasionally in play and usually one at a time, so Inform does not normally provide rules to restrict how much or little is worn, or in what unlikely combinations. <a href="rb_9.html#example-46" class="example-link" onClick="(function() { document.getElementById('example-46').setAttribute('open','open'); return true; })();">Get Me to the Church on Time</a><span class="example-difficulty"> ★★★</span> categorises clothing by body area (trousers for lower body, shirts for upper); <a href="rb_9.html#example-234" class="example-link" onClick="(function() { document.getElementById('example-234').setAttribute('open','open'); return true; })();">Bogart</a><span class="example-difficulty"> ★★★</span> by layer, distinguishing underwear from outer garments. <a href="rb_9.html#example-241" class="example-link" onClick="(function() { document.getElementById('example-241').setAttribute('open','open'); return true; })();">What Not To Wear</a><span class="example-difficulty"> ★★</span> combines both into a general-purpose system adequate for most kinds of clothing situations.</p>
<p><a href="rb_9.html#example-338" class="example-link" onClick="(function() { document.getElementById('example-338').setAttribute('open','open'); return true; })();">Hays Code</a><span class="example-difficulty"> ★</span> is a somewhat stripped down version.</p>
<p>Clothes are normally single things which have no function other than display and concealment, but <a href="rb_9.html#example-56" class="example-link" onClick="(function() { document.getElementById('example-56').setAttribute('open','open'); return true; })();">Being Prepared</a><span class="example-difficulty"> ★</span> gives them pockets which act as containers, and <a href="rb_9.html#example-332" class="example-link" onClick="(function() { document.getElementById('example-332').setAttribute('open','open'); return true; })();">Some Assembly Required</a><span class="example-difficulty"> ★</span> allows clothes to be stitched together from pieces of cloth.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_8.html#rb-8.5" class="crossreference_link">Kitchen and Bathroom</a> for a simple mirror implementation, which could be adapted to reflect what the player is currently wearing</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-56"><summary><span class="example-summary">56. Being Prepared</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Being%20Prepared%22%5Cn%5CnA%20jacket%20is%20a%20kind%20of%20thing.%20A%20jacket%20is%20always%20wearable.%5Cn%5CnA%20pocket%20is%20a%20kind%20of%20container.%20A%20pocket%20is%20part%20of%20every%20jacket.%20The%20carrying%20capacity%20of%20a%20pocket%20is%20always%202.%5Cn%5CnAfter%20examining%20a%20jacket:%5Cn%5Ctlet%20target%20be%20a%20random%20pocket%20which%20is%20part%20of%20the%20noun;%5Cn%5Ctsay%20%22%5BThe%20target%5D%20contains%20%5Ba%20list%20of%20things%20in%20the%20target%5D.%22%5Cn%5Cn%5BNow%20we've%20created%20the%20rules%20that%20will%20govern%20any%20specific%20jackets%20we%20might%20happen%20to%20put%20in%20our%20game:%20each%20one%20will%20always%20have%20one%20pocket,%20which%20will%20be%20able%20to%20contain%20no%20more%20than%20two%20things.%20The%20description%20of%20%22a%20list%20of%20things%22%20is%20text%20with%20a%20list,%20which%20we%20will%20learn%20about%20further%20in%20a%20few%20sections.%5D%5Cn%5Cn%5BNext%20we%20might%20want%20to%20create%20the%20environment%20and%20an%20actual%20example%20of%20the%20jacket%20kind:%5D%5Cn%5CnTent%20is%20a%20room.%20%22A%20dome%20made%20of%20two%20flexible%20rods%20and%20a%20lot%20of%20bright%20green%20ripstop%20nylon.%20It%20bills%20itself%20as%20a%20one-man%20tent,%20but%20you'd%20call%20it%20a%20two-dwarf%20tent:%20there%20is%20no%20way%20to%20arrange%20yourself%20on%20its%20square%20floor%20so%20that%20you%20can%20stretch%20out%20completely.%22%5Cn%5CnThe%20hoodie%20is%20a%20jacket.%20%22Your%20hoodie%20is%20balled%20up%20in%20the%20corner.%22%20The%20description%20of%20the%20hoodie%20is%20%22Both%20elbows%20are%20stained%20from%20yesterday's%20entrenching%20project.%22%5Cn%5CnThe%20hoodie's%20pocket%20contains%20a%20Swiss%20army%20knife%20and%20a%20folded%20map.%20The%20hoodie%20is%20in%20the%20Tent.%5Cn%5Cn%5BNotice%20that,%20since%20Inform%20has%20created%20a%20pocket%20for%20the%20hoodie,%20we%20can%20now%20refer%20to%20it%20by%20name%20in%20our%20source,%20giving%20it%20any%20additional%20properties%20we%20need%20to%20define.%20Here%20we%20simply%20put%20a%20few%20items%20into%20it.%5D%5Cn%5CnThe%20player%20wears%20a%20whistle.%20The%20description%20of%20the%20whistle%20is%20%22To%20frighten%20bears.%22%5Cn%5CnTest%20me%20with%20%22x%20hoodie%20/%20get%20hoodie%20/%20get%20knife%20/%20get%20map%20/%20i%20/%20put%20hoodie%20in%20pocket%20/%20put%20whistle%20in%20pocket%20/%20put%20map%20in%20pocket%20/%20put%20knife%20in%20pocket%20/%20i%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Being Prepared"
</p>
<p class="quoted">
A jacket is a kind of thing. A jacket is always wearable.
</p>
<p class="quoted">
A pocket is a kind of container. A pocket is part of every jacket. The carrying capacity of a pocket is always 2.
</p>
<p class="quoted">
After examining a jacket:
<br>    let target be a random pocket which is part of the noun;
<br>    say "[The target] contains [a list of things in the target]."
</p>
</div>
<p>Now we've created the rules that will govern any specific jackets we might happen to put in our game: each one will always have one pocket, which will be able to contain no more than two things. The description of "a list of things" is text with a list, which we will learn about further in a few sections.</p>
<p>Next we might want to create the environment and an actual example of the jacket kind:</p>

<div class="code">
<p class="quoted">
Tent is a room. "A dome made of two flexible rods and a lot of bright green ripstop nylon. It bills itself as a one-man tent, but you'd call it a two-dwarf tent: there is no way to arrange yourself on its square floor so that you can stretch out completely."
</p>
<p class="quoted">
The hoodie is a jacket. "Your hoodie is balled up in the corner." The description of the hoodie is "Both elbows are stained from yesterday's entrenching project."
</p>
<p class="quoted">
The hoodie's pocket contains a Swiss army knife and a folded map. The hoodie is in the Tent.
</p>
</div>
<p>Notice that, since Inform has created a pocket for the hoodie, we can now refer to it by name in our source, giving it any additional properties we need to define. Here we simply put a few items into it.</p>

<div class="code">
<p class="quoted">
The player wears a whistle. The description of the whistle is "To frighten bears."
</p>
<p class="quoted">
Test me with "x hoodie / get hoodie / get knife / get map / i / put hoodie in pocket / put whistle in pocket / put map in pocket / put knife in pocket / i".
</p>
</div>
<p>Notice that Inform automatically refuses to put the hoodie into its own pocket: as a default, a container cannot contain something of which it is itself a part.</p>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.15">WI §4.15. Assemblies and body parts</a><br><a href="rb_9.html#rb-9.3">RB §9.3. Clothing</a>
</div></details><details class="full-example" id="example-332"><summary><span class="example-summary">332. Some Assembly Required</span> <span class="example-difficulty">★</span></summary><div>
<p>We now have the mechanisms in place to do some fairly sophisticated renaming of objects. For instance:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Some%20Assembly%20Required%22%5Cn%5CnGarment%20type%20is%20a%20kind%20of%20value.%20The%20garment%20types%20are%20vest,%20t-shirt,%20polo%20shirt,%20mandarin%20blouse,%20button-down,%20shell,%20experiment.%5Cn%5CnEvery%20turn:%5Cn%5Ctassign%20identities.%5Cn%5CnWhen%20play%20begins:%20assign%20identities.%5Cn%5CnTo%20assign%20identities:%5Cn%5Ctrepeat%20with%20item%20running%20through%20torsos:%5Cn%5Ct%5Ctreassess%20item.%5Cn%5CnTo%20reassess%20(item%20-%20a%20torso):%5Cn%5Ctif%20the%20number%20of%20things%20which%20are%20part%20of%20the%20item%20is%200:%5Cn%5Ct%5Ctnow%20garment%20type%20of%20the%20item%20is%20vest;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20exactly%20two%20short%20sleeves%20are%20part%20of%20the%20item:%5Cn%5Ct%5Ctif%20a%20collar%20is%20part%20of%20the%20item,%5Cn%5Ct%5Ct%5Ctnow%20garment%20type%20of%20the%20item%20is%20polo%20shirt;%5Cn%5Ct%5Ctotherwise%20now%20garment%20type%20of%20the%20item%20is%20t-shirt;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20exactly%20two%20long%20sleeves%20are%20part%20of%20the%20item:%5Cn%5Ct%5Ctif%20a%20collar%20is%20part%20of%20the%20item,%5Cn%5Ct%5Ct%5Ctnow%20garment%20type%20of%20the%20item%20is%20button-down;%5Cn%5Ct%5Ctotherwise%20now%20garment%20type%20of%20the%20item%20is%20mandarin%20blouse;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20a%20collar%20is%20part%20of%20the%20item%20and%20the%20number%20of%20sleeves%20which%20are%20part%20of%20the%20item%20is%200,%20now%20garment%20type%20of%20the%20item%20is%20shell;%5Cn%5Ctotherwise%20now%20garment%20type%20of%20the%20item%20is%20experiment.%5Cn%5CnBefore%20cutting%20something%20which%20is%20worn%20by%20the%20player:%5Cn%5Cttry%20taking%20off%20the%20noun.%5Cn%5CnInstead%20of%20cutting%20something%20when%20something%20is%20part%20of%20the%20noun:%5Cn%5Ctsay%20%22You%20cut%20up%20%5Bthe%20noun%5D,%20snipping%20off%20%5Ba%20list%20of%20things%20which%20are%20part%20of%20the%20noun%5D.%22;%5Cn%5Ctnow%20every%20thing%20which%20is%20part%20of%20the%20noun%20is%20in%20the%20holder%20of%20the%20noun.%5Cn%5CnInstead%20of%20cutting%20something%20which%20is%20part%20of%20something:%5Cn%5Ctsay%20%22You%20carefully%20snip%20%5Bthe%20noun%5D%20free.%22;%5Cn%5Ctnow%20the%20player%20carries%20the%20noun.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20torso:%20say%20%22%5Bgarment%20type%5D%22.%5Cn%5CnA%20torso%20is%20a%20kind%20of%20thing.%20A%20torso%20is%20always%20wearable.%20Understand%20%22shirt%22%20or%20%22blouse%22%20as%20a%20torso.%20A%20torso%20has%20a%20garment%20type.%20Understand%20the%20garment%20type%20property%20as%20describing%20a%20torso.%20A%20sleeve%20is%20a%20kind%20of%20thing.%20A%20short%20sleeve%20is%20a%20kind%20of%20sleeve.%20A%20long%20sleeve%20is%20a%20kind%20of%20sleeve.%20A%20collar%20is%20a%20kind%20of%20thing.%5Cn%5CnUnderstand%20%22sew%20%5Bsomething%5D%20to%20%5Bsomething%5D%22%20as%20affixing%20it%20to.%20Affixing%20it%20to%20is%20an%20action%20applying%20to%20two%20things.%20Carry%20out%20affixing%20something%20to%20something:%20now%20the%20noun%20is%20part%20of%20the%20second%20noun.%20Report%20affixing%20something%20to%20something:%20assign%20identities;%20say%20%22You%20sew%20%5Bthe%20noun%5D%20on,%20creating%20%5Ba%20second%20noun%5D.%22%20Understand%20the%20command%20%22stitch%22%20as%20%22sew%22.%5Cn%5CnInstead%20of%20affixing%20something%20to%20something%20when%20the%20second%20noun%20is%20worn:%20say%20%22You're%20wearing%20%5Bthe%20second%20noun%5D!%22%5Cn%5CnInstead%20of%20affixing%20a%20torso%20to%20something:%5Cn%5Ctif%20the%20second%20noun%20is%20a%20torso,%20say%20%22Couture%20for%20Siamese%20twins%20is%20a%20daring%20field,%20but%20a%20bit%20of%20a%20niche%20market.%22;%5Cn%5Ctotherwise%20try%20affixing%20the%20second%20noun%20to%20the%20noun.%5Cn%5CnInstead%20of%20affixing%20a%20sleeve%20to%20something%20when%20at%20least%20two%20sleeves%20are%20part%20of%20the%20second%20noun:%20say%20%22%5BThe%20second%20noun%5D%20already%20sports%20%5Ba%20list%20of%20sleeves%20that%20are%20part%20of%20the%20second%20noun%5D.%22%5Cn%5CnInstead%20of%20affixing%20a%20collar%20to%20something%20when%20a%20collar%20is%20part%20of%20the%20second%20noun:%20say%20%22%5BThe%20second%20noun%5D%20already%20sports%20%5Ba%20list%20of%20collars%20that%20are%20part%20of%20the%20second%20noun%5D.%22%5Cn%5CnInstead%20of%20examining%20something%20when%20something%20is%20part%20of%20the%20noun:%20say%20%22Stitched%20to%20%5Bthe%20noun%5D%20%5Bis-are%20a%20list%20of%20things%20which%20are%20part%20of%20the%20noun%5D.%22%5Cn%5Cn%5BHere%20is%20where%20the%20issue%20of%20precedence%20arises.%20We%20want%20to%20encourage%20Inform%20to%20select%20a%20cuttable%20object%20that%20is%20part%20of%20something%20else,%20rather%20than%20one%20of%20the%20spares:%5D%5Cn%5CnDefinition:%20a%20thing%20is%20removable%20if%20it%20is%20part%20of%20something.%20Understand%20%22cut%20%5Bremovable%20thing%5D%22%20as%20cutting.%5Cn%5CnThe%20Boutique%20is%20a%20room.%20%22Still%20festively%20strewn%20with%20the%20confetti%20and%20streamers%20of%20the%20Grand%20Opening%20party,%20and%20still%20almost%20totally%20customer-free.%22%5Cn%5CnThe%20player%20carries%20a%20torso.%20The%20player%20carries%20three%20short%20sleeves.%20The%20player%20carries%20two%20long%20sleeves.%20The%20player%20carries%20two%20collars.%5Cn%5CnTest%20me%20with%20%22sew%20collar%20to%20shirt%20/%20i%20/%20sew%20short%20sleeve%20to%20shirt%20/%20g%20/%20i%20/%20x%20polo%20shirt%20/%20cut%20collar%20/%20i%20/%20cut%20shirt%20/%20sew%20long%20sleeve%20to%20shirt%20/%20i%20/%20sew%20long%20sleeve%20to%20shirt%20/%20i%20/%20sew%20collar%20to%20shirt%20/%20g%20/%20i%20/%20wear%20button-down%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Some Assembly Required"
</p>
<p class="quoted">
Garment type is a kind of value. The garment types are vest, t-shirt, polo shirt, mandarin blouse, button-down, shell, experiment.
</p>
<p class="quoted">
Every turn:
<br>    assign identities.
</p>
<p class="quoted">
When play begins: assign identities.
</p>
<p class="quoted">
To assign identities:
<br>    repeat with item running through torsos:
<br>        reassess item.
</p>
<p class="quoted">
To reassess (item - a torso):
<br>    if the number of things which are part of the item is 0:
<br>        now garment type of the item is vest;
<br>        rule succeeds;
<br>    if exactly two short sleeves are part of the item:
<br>        if a collar is part of the item,
<br>            now garment type of the item is polo shirt;
<br>        otherwise now garment type of the item is t-shirt;
<br>        rule succeeds;
<br>    if exactly two long sleeves are part of the item:
<br>        if a collar is part of the item,
<br>            now garment type of the item is button-down;
<br>        otherwise now garment type of the item is mandarin blouse;
<br>        rule succeeds;
<br>    if a collar is part of the item and the number of sleeves which are part of the item is 0, now garment type of the item is shell;
<br>    otherwise now garment type of the item is experiment.
</p>
<p class="quoted">
Before cutting something which is worn by the player:
<br>    try taking off the noun.
</p>
<p class="quoted">
Instead of cutting something when something is part of the noun:
<br>    say "You cut up [the noun], snipping off [a list of things which are part of the noun].";
<br>    now every thing which is part of the noun is in the holder of the noun.
</p>
<p class="quoted">
Instead of cutting something which is part of something:
<br>    say "You carefully snip [the noun] free.";
<br>    now the player carries the noun.
</p>
<p class="quoted">
Rule for printing the name of a torso: say "[garment type]".
</p>
<p class="quoted">
A torso is a kind of thing. A torso is always wearable. Understand "shirt" or "blouse" as a torso. A torso has a garment type. Understand the garment type property as describing a torso. A sleeve is a kind of thing. A short sleeve is a kind of sleeve. A long sleeve is a kind of sleeve. A collar is a kind of thing.
</p>
<p class="quoted">
Understand "sew [something] to [something]" as affixing it to. Affixing it to is an action applying to two things. Carry out affixing something to something: now the noun is part of the second noun. Report affixing something to something: assign identities; say "You sew [the noun] on, creating [a second noun]." Understand the command "stitch" as "sew".
</p>
<p class="quoted">
Instead of affixing something to something when the second noun is worn: say "You're wearing [the second noun]!"
</p>
<p class="quoted">
Instead of affixing a torso to something:
<br>    if the second noun is a torso, say "Couture for Siamese twins is a daring field, but a bit of a niche market.";
<br>    otherwise try affixing the second noun to the noun.
</p>
<p class="quoted">
Instead of affixing a sleeve to something when at least two sleeves are part of the second noun: say "[The second noun] already sports [a list of sleeves that are part of the second noun]."
</p>
<p class="quoted">
Instead of affixing a collar to something when a collar is part of the second noun: say "[The second noun] already sports [a list of collars that are part of the second noun]."
</p>
<p class="quoted">
Instead of examining something when something is part of the noun: say "Stitched to [the noun] [is-are a list of things which are part of the noun]."
</p>
</div>
<p>Here is where the issue of precedence arises. We want to encourage Inform to select a cuttable object that is part of something else, rather than one of the spares:</p>

<div class="code">
<p class="quoted">
Definition: a thing is removable if it is part of something. Understand "cut [removable thing]" as cutting.
</p>
<p class="quoted">
The Boutique is a room. "Still festively strewn with the confetti and streamers of the Grand Opening party, and still almost totally customer-free."
</p>
<p class="quoted">
The player carries a torso. The player carries three short sleeves. The player carries two long sleeves. The player carries two collars.
</p>
<p class="quoted">
Test me with "sew collar to shirt / i / sew short sleeve to shirt / g / i / x polo shirt / cut collar / i / cut shirt / sew long sleeve to shirt / i / sew long sleeve to shirt / i / sew collar to shirt / g / i / wear button-down".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.22">WI §17.22. Precedence</a><br><a href="rb_9.html#rb-9.3">RB §9.3. Clothing</a>
</div></details><details class="full-example" id="example-338"><summary><span class="example-summary">338. Hays Code</span> <span class="example-difficulty">★</span></summary><div>
<p>The following burlesque was considered too much for the tender readers of Chapter 3, since it involved explicit use of listing and persuasion:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hays%20Code%22%5Cn%5CnThe%20Movie%20Set%20is%20a%20room.%20Clark%20Gable%20is%20a%20man%20in%20the%20Movie%20Set.%20%22Clark%20leans%20on%20a%20polystyrene%20pillar,%20wearing%20%5Ba%20list%20of%20unconcealed%20things%20worn%20by%20Clark%5D%20with%20his%20usual%20aplomb.%22%20Persuasion%20rule%20for%20asking%20Clark%20to%20try%20doing%20something:%20persuasion%20succeeds.%5Cn%5CnClark%20is%20wearing%20a%20pin-striped%20suit%20and%20a%20pink%20thong.%20Rule%20for%20deciding%20the%20concealed%20possessions%20of%20Clark:%20if%20the%20particular%20possession%20is%20the%20thong%20and%20Clark%20is%20wearing%20the%20suit,%20yes;%20otherwise%20no.%5Cn%5CnTest%20me%20with%20%22clark,%20remove%20suit%20/%20look%20/%20clark,%20remove%20thong%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hays Code"
</p>
<p class="quoted">
The Movie Set is a room. Clark Gable is a man in the Movie Set. "Clark leans on a polystyrene pillar, wearing [a list of unconcealed things worn by Clark] with his usual aplomb." Persuasion rule for asking Clark to try doing something: persuasion succeeds.
</p>
<p class="quoted">
Clark is wearing a pin-striped suit and a pink thong. Rule for deciding the concealed possessions of Clark: if the particular possession is the thong and Clark is wearing the suit, yes; otherwise no.
</p>
<p class="quoted">
Test me with "clark, remove suit / look / clark, remove thong / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.9">WI §18.9. Deciding the concealed possessions of something</a><br><a href="rb_9.html#rb-9.3">RB §9.3. Clothing</a>
</div></details><details class="full-example" id="example-241"><summary><span class="example-summary">241. What Not To Wear</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22What%20Not%20To%20Wear%22%5Cn%5CnSection%201%20-%20Overlying%20and%20Underlying%5Cn%5Cn%5BWe%20start%20by%20borrowing%20some%20of%20the%20same%20ideas%20from%20the%20Bogart%20example,%20but%20we're%20also%20going%20to%20make%20a%20kind%20called%20%22garment-element%22.%20This%20kind%20will%20include%20both%20garments%20(objects%20of%20clothing)%20and%20body%20parts%20(things%20that%20can%20be%20covered%20by%20clothing);%20using%20it%20allows%20us%20to%20restrict%20the%20way%20our%20underlying%20and%20overlying%20relations%20apply,%20which%20will%20make%20them%20a%20bit%20faster%20at%20run-time.%5D%5Cn%5CnA%20garment-element%20is%20a%20kind%20of%20thing.%5Cn%5CnUnderlying%20relates%20various%20garment-elements%20to%20various%20garment-elements%20with%20fast%20route-finding.%20The%20verb%20to%20underlie%20means%20the%20underlying%20relation.%20The%20verb%20to%20be%20under%20implies%20the%20underlying%20relation.%5Cn%5CnCheck%20taking%20off:%5Cn%5Ctif%20the%20noun%20underlies%20something%20(called%20the%20impediment)%20which%20is%20worn%20by%20the%20player,%20say%20%22%5BThe%20impediment%5D%20%5Bare%5D%20in%20the%20way.%22%20instead.%5Cn%5CnCarry%20out%20taking%20off:%5Cn%5Ctnow%20the%20noun%20is%20not%20underlaid%20by%20anything.%5Cn%5CnReport%20taking%20off%20something:%5Cn%5Ctsay%20%22%5BWe%5D%20%5Bare%5D%20now%20wearing%20%5Ba%20list%20of%20uppermost%20things%20worn%20by%20the%20player%5D.%22%20instead.%5Cn%5CnDefinition:%20a%20garment-element%20is%20uppermost%20if%20it%20is%20not%20under%20something%20opaque.%5Cn%5Cn%5BHere%20we've%20expanded%20on%20the%20previous%20ideas%20of%20'uppermost'%20because%20it%20is%20possible%20for%20an%20upper%20layer%20to%20reveal%20what%20lies%20beneath:%20a%20tie,%20a%20clear%20plastic%20trenchcoat,%20an%20open-knit%20sweater,%20etc.%20We'll%20make%20such%20items%20transparent.%5D%5Cn%5CnBefore%20taking%20off%20something%20which%20underlies%20something%20which%20is%20worn%20by%20the%20player:%5Cn%5Ctwhile%20the%20noun%20underlies%20something%20(called%20the%20impediment)%20which%20is%20worn%20by%20the%20player:%5Cn%5Ct%5Ctsay%20%22(first%20removing%20%5Bthe%20impediment%5D)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Ct%5Ctsilently%20try%20taking%20off%20the%20impediment;%5Cn%5Ct%5Ctif%20the%20noun%20underlies%20the%20impediment,%20stop%20the%20action.%5Cn%5CnOverlying%20relates%20various%20garment-elements%20to%20various%20garment-elements.%20The%20verb%20to%20overlie%20means%20the%20overlying%20relation.%5Cn%5CnCovering%20relates%20a%20garment-element%20(called%20A)%20to%20a%20garment-element%20(called%20B)%20when%20the%20number%20of%20steps%20via%20the%20overlying%20relation%20from%20A%20to%20B%20is%20greater%20than%200.%20The%20verb%20to%20cover%20means%20the%20covering%20relation.%5Cn%5CnBefore%20wearing%20something%20when%20a%20garment%20which%20covers%20the%20noun%20is%20worn%20by%20the%20player:%5Cn%5Ctwhile%20the%20player%20wears%20a%20garment%20(called%20the%20impediment)%20which%20covers%20the%20noun:%5Cn%5Ct%5Ctsay%20%22(first%20removing%20%5Bthe%20impediment%5D)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Ct%5Ctsilently%20try%20taking%20off%20the%20impediment;%5Cn%5Ct%5Ctif%20the%20player%20is%20wearing%20the%20impediment,%20stop%20the%20action.%5Cn%5CnCarry%20out%20wearing:%5Cn%5Ctrepeat%20with%20hidden%20item%20running%20through%20things%20worn%20by%20the%20player:%5Cn%5Ct%5Ctif%20the%20noun%20covers%20the%20hidden%20item,%20now%20the%20hidden%20item%20underlies%20the%20noun.%5Cn%5CnInstead%20of%20looking%20under%20something%20which%20is%20worn%20by%20the%20player:%5Cn%5Ctif%20something%20(called%20the%20underwear)%20underlies%20the%20noun,%20say%20%22%5BWe%5D%20%5Bpeek%5D%20at%20%5Bthe%20underwear%5D.%20Yup,%20still%20there.%22;%5Cn%5Ctotherwise%20say%20%22Just%20%5Bus%5D%20in%20there.%22%5Cn%5CnInstead%20of%20taking%20inventory:%5Cn%5Ctsay%20%22%5Bif%20the%20player%20carries%20something%5D%5BWe%5D%5B're%5D%20carrying%20%5Ba%20list%20of%20things%20carried%20by%20the%20player%5D%5Belse%5D%5BWe%5D%5B're%5D%20empty-handed%5Bend%20if%5D%5Bif%20the%20player%20wears%20something%5D.%20%5BWe%5D%20%5Bare%5D%20wearing%20%5Ba%20list%20of%20uppermost%20garments%20worn%20by%20the%20player%5D%5Bend%20if%5D.%22%5Cn%5CnTo%20peek%20is%20a%20verb.%5Cn%5CnSection%202%20-%20Regional%20Coverage%5Cn%5Cn%5BHere%20we%20draw%20in%20the%20idea%20that%20different%20clothes%20go%20over%20different%20areas%20of%20the%20body,%20and%20that%20they%20should%20be%20in%20competition%20with%20each%20other%20only%20if%20both%20sets%20of%20clothes%20belong%20at%20the%20same%20level%20over%20the%20same%20body%20area.%5D%5Cn%5CnBefore%20wearing%20something:%5Cn%5Ctlet%20N%20be%20the%20layering%20depth%20of%20the%20noun;%5Cn%5Ctrepeat%20with%20item%20running%20through%20things%20worn%20by%20the%20player:%5Cn%5Ct%5Ctif%20the%20layering%20depth%20of%20the%20item%20is%20N%20and%20the%20item%20covers%20a%20body-part%20which%20is%20covered%20by%20the%20noun:%5Cn%5Ct%5Ct%5Ctsay%20%22(first%20taking%20off%20%5Bthe%20item%5D)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Ct%5Ct%5Ctsilently%20try%20taking%20off%20the%20item;%5Cn%5Ct%5Ct%5Ctif%20the%20player%20wears%20the%20item,%20stop%20the%20action.%5Cn%5Cn%5BThis%20may%20seem%20like%20overkill,%20but%20it%20allows%20us%20to%20create%20garments%20that%20cover%20different%20subsets%20of%20the%20body%20--%20pants%20and%20shirt%20vs.%20a%20dress,%20for%20instance.%5D%5Cn%5CnTo%20decide%20what%20number%20is%20the%20layering%20depth%20of%20(chosen%20garment%20-%20a%20thing):%5Cn%5Ctlet%20N%20be%200;%5Cn%5Ctif%20the%20chosen%20garment%20covers%20a%20body-part%20(called%20base):%5Cn%5Ct%5Ctlet%20N%20be%20the%20number%20of%20steps%20via%20the%20overlying%20relation%20from%20the%20chosen%20garment%20to%20the%20base;%5Cn%5Ctdecide%20on%20N.%5Cn%5Cn%5BTo%20help%20with%20modeling,%20we'll%20give%20everyone%20body%20parts,%20broken%20down%20according%20to%20their%20relevance%20to%20clothing:%5D%5Cn%5CnA%20body-part%20is%20a%20kind%20of%20garment-element.%20A%20torso,%20a%20seat,%20a%20head,%20pair%20of%20legs,%20and%20pair%20of%20feet%20are%20kinds%20of%20body-part.%5Cn%5Cn%5BIf%20we%20wanted%20to%20allow%20gloves,%20we%20might%20put%20in%20hands%20as%20well;%20but%20this%20is%20enough%20for%20now.%5D%5Cn%5CnOne%20head%20is%20part%20of%20every%20person.%20One%20torso%20is%20part%20of%20every%20person.%20One%20pair%20of%20legs%20is%20part%20of%20every%20person.%20One%20pair%20of%20feet%20is%20part%20of%20every%20person.%20One%20seat%20is%20part%20of%20every%20person.%5Cn%5Cn%5BAnd%20now%20we%20make%20some%20categories%20of%20clothing:%5D%5Cn%5CnA%20garment%20is%20a%20kind%20of%20garment-element.%20A%20garment%20can%20be%20transparent.%20A%20pair%20of%20pants,%20a%20pair%20of%20underpants,%20a%20foundation%20garment,%20a%20pair%20of%20socks,%20a%20pair%20of%20shoes,%20a%20jacket,%20a%20hat,%20a%20dress,%20and%20a%20shirt%20are%20kinds%20of%20garment.%5Cn%5CnThe%20plural%20of%20pair%20of%20pants%20is%20pairs%20of%20pants.%20The%20plural%20of%20pair%20of%20underpants%20is%20pairs%20of%20underpants.%20The%20plural%20of%20pair%20of%20socks%20is%20pairs%20of%20socks.%20The%20plural%20of%20pair%20of%20shoes%20is%20pairs%20of%20shoes.%5Cn%5CnA%20pair%20of%20pants,%20a%20pair%20of%20underpants,%20a%20foundation%20garment,%20a%20pair%20of%20socks,%20a%20pair%20of%20shoes,%20a%20jacket,%20a%20hat,%20a%20dress,%20and%20a%20shirt%20are%20usually%20wearable.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20every%20pair%20of%20socks%20overlies%20every%20pair%20of%20feet;%5Cn%5Ctnow%20every%20pair%20of%20shoes%20overlies%20every%20pair%20of%20socks;%5Cn%5Ctnow%20every%20pair%20of%20underpants%20overlies%20every%20seat;%5Cn%5Ctnow%20every%20pair%20of%20pants%20overlies%20every%20pair%20of%20underpants;%5Cn%5Ctnow%20every%20foundation%20garment%20overlies%20every%20torso;%5Cn%5Ctnow%20every%20jacket%20overlies%20every%20shirt;%5Cn%5Ctnow%20every%20jacket%20overlies%20every%20dress;%5Cn%5Ctnow%20every%20hat%20overlies%20every%20head;%5Cn%5Ctnow%20every%20dress%20overlies%20every%20pair%20of%20underpants;%5Cn%5Ctnow%20every%20dress%20overlies%20every%20foundation%20garment.%5Cn%5CnSection%202%20-%20The%20Scenario%5Cn%5CnThe%20Dressing%20Room%20is%20a%20room.%5Cn%5CnThe%20player%20carries%20some%20capris,%20some%20jeans,%20a%20corset,%20a%20plunge%20bra,%20a%20thong,%20boy-shorts,%20black%20satin%20D'Orsay%20pumps,%20brown%20leather%20boots,%20a%20camisole,%20a%20cocktail%20dress,%20a%20bolero,%20a%20cashmere%20shrug,%20a%20sheer%20wrap,%20and%20a%20linen%20tunic.%5Cn%5CnThe%20woolly%20socks%20are%20a%20pair%20of%20socks.%5CnThe%20D'Orsay%20pumps%20and%20the%20brown%20leather%20boots%20are%20pairs%20of%20shoes.%5CnThe%20thong%20and%20the%20boy-shorts%20are%20pairs%20of%20underpants.%5CnThe%20capris%20and%20the%20jeans%20are%20pairs%20of%20pants.%5CnThe%20tunic%20is%20a%20shirt.%5CnThe%20camisole,%20the%20corset,%20and%20the%20plunge%20bra%20are%20foundation%20garments.%5CnThe%20cocktail%20dress%20is%20a%20dress.%5CnThe%20bolero,%20the%20cashmere%20shrug,%20and%20the%20sheer%20wrap%20are%20jackets.%20The%20shrug%20and%20the%20wrap%20are%20transparent.%5Cn%5CnTest%20me%20with%20%22wear%20capris%20/%20wear%20jeans%20/%20i%20/%20wear%20thong%20/%20i%20/%20wear%20dress%20/%20wear%20corset%20/%20wear%20dress%20/%20i%20/%20wear%20wrap%20/%20i%20/%20wear%20boots%20/%20wear%20pumps%20/%20i%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "What Not To Wear"
</p>
<p class="quoted">
Section 1 - Overlying and Underlying
</p>
</div>
<p>We start by borrowing some of the same ideas from the Bogart example, but we're also going to make a kind called "garment-element". This kind will include both garments (objects of clothing) and body parts (things that can be covered by clothing); using it allows us to restrict the way our underlying and overlying relations apply, which will make them a bit faster at run-time.</p>

<div class="code">
<p class="quoted">
A garment-element is a kind of thing.
</p>
<p class="quoted">
Underlying relates various garment-elements to various garment-elements with fast route-finding. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.
</p>
<p class="quoted">
Check taking off:
<br>    if the noun underlies something (called the impediment) which is worn by the player, say "[The impediment] [are] in the way." instead.
</p>
<p class="quoted">
Carry out taking off:
<br>    now the noun is not underlaid by anything.
</p>
<p class="quoted">
Report taking off something:
<br>    say "[We] [are] now wearing [a list of uppermost things worn by the player]." instead.
</p>
<p class="quoted">
Definition: a garment-element is uppermost if it is not under something opaque.
</p>
</div>
<p>Here we've expanded on the previous ideas of 'uppermost' because it is possible for an upper layer to reveal what lies beneath: a tie, a clear plastic trenchcoat, an open-knit sweater, etc. We'll make such items transparent.</p>

<div class="code">
<p class="quoted">
Before taking off something which underlies something which is worn by the player:
<br>    while the noun underlies something (called the impediment) which is worn by the player:
<br>        say "(first removing [the impediment])[command clarification break]";
<br>        silently try taking off the impediment;
<br>        if the noun underlies the impediment, stop the action.
</p>
<p class="quoted">
Overlying relates various garment-elements to various garment-elements. The verb to overlie means the overlying relation.
</p>
<p class="quoted">
Covering relates a garment-element (called A) to a garment-element (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.
</p>
<p class="quoted">
Before wearing something when a garment which covers the noun is worn by the player:
<br>    while the player wears a garment (called the impediment) which covers the noun:
<br>        say "(first removing [the impediment])[command clarification break]";
<br>        silently try taking off the impediment;
<br>        if the player is wearing the impediment, stop the action.
</p>
<p class="quoted">
Carry out wearing:
<br>    repeat with hidden item running through things worn by the player:
<br>        if the noun covers the hidden item, now the hidden item underlies the noun.
</p>
<p class="quoted">
Instead of looking under something which is worn by the player:
<br>    if something (called the underwear) underlies the noun, say "[We] [peek] at [the underwear]. Yup, still there.";
<br>    otherwise say "Just [us] in there."
</p>
<p class="quoted">
Instead of taking inventory:
<br>    say "[if the player carries something][We]['re] carrying [a list of things carried by the player][else][We]['re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost garments worn by the player][end if]."
</p>
<p class="quoted">
To peek is a verb.
</p>
<p class="quoted">
Section 2 - Regional Coverage
</p>
</div>
<p>Here we draw in the idea that different clothes go over different areas of the body, and that they should be in competition with each other only if both sets of clothes belong at the same level over the same body area.</p>

<div class="code"><p class="quoted">
Before wearing something:
<br>    let N be the layering depth of the noun;
<br>    repeat with item running through things worn by the player:
<br>        if the layering depth of the item is N and the item covers a body-part which is covered by the noun:
<br>            say "(first taking off [the item])[command clarification break]";
<br>            silently try taking off the item;
<br>            if the player wears the item, stop the action.
</p></div>
<p>This may seem like overkill, but it allows us to create garments that cover different subsets of the body -- pants and shirt vs. a dress, for instance.</p>

<div class="code"><p class="quoted">
To decide what number is the layering depth of (chosen garment - a thing):
<br>    let N be 0;
<br>    if the chosen garment covers a body-part (called base):
<br>        let N be the number of steps via the overlying relation from the chosen garment to the base;
<br>    decide on N.
</p></div>
<p>To help with modeling, we'll give everyone body parts, broken down according to their relevance to clothing:</p>

<div class="code"><p class="quoted">
A body-part is a kind of garment-element. A torso, a seat, a head, pair of legs, and pair of feet are kinds of body-part.
</p></div>
<p>If we wanted to allow gloves, we might put in hands as well; but this is enough for now.</p>

<div class="code"><p class="quoted">
One head is part of every person. One torso is part of every person. One pair of legs is part of every person. One pair of feet is part of every person. One seat is part of every person.
</p></div>
<p>And now we make some categories of clothing:</p>

<div class="code">
<p class="quoted">
A garment is a kind of garment-element. A garment can be transparent. A pair of pants, a pair of underpants, a foundation garment, a pair of socks, a pair of shoes, a jacket, a hat, a dress, and a shirt are kinds of garment.
</p>
<p class="quoted">
The plural of pair of pants is pairs of pants. The plural of pair of underpants is pairs of underpants. The plural of pair of socks is pairs of socks. The plural of pair of shoes is pairs of shoes.
</p>
<p class="quoted">
A pair of pants, a pair of underpants, a foundation garment, a pair of socks, a pair of shoes, a jacket, a hat, a dress, and a shirt are usually wearable.
</p>
<p class="quoted">
When play begins:
<br>    now every pair of socks overlies every pair of feet;
<br>    now every pair of shoes overlies every pair of socks;
<br>    now every pair of underpants overlies every seat;
<br>    now every pair of pants overlies every pair of underpants;
<br>    now every foundation garment overlies every torso;
<br>    now every jacket overlies every shirt;
<br>    now every jacket overlies every dress;
<br>    now every hat overlies every head;
<br>    now every dress overlies every pair of underpants;
<br>    now every dress overlies every foundation garment.
</p>
<p class="quoted">
Section 2 - The Scenario
</p>
<p class="quoted">
The Dressing Room is a room.
</p>
<p class="quoted">
The player carries some capris, some jeans, a corset, a plunge bra, a thong, boy-shorts, black satin D'Orsay pumps, brown leather boots, a camisole, a cocktail dress, a bolero, a cashmere shrug, a sheer wrap, and a linen tunic.
</p>
<p class="quoted">
The woolly socks are a pair of socks.
<br>The D'Orsay pumps and the brown leather boots are pairs of shoes.
<br>The thong and the boy-shorts are pairs of underpants.
<br>The capris and the jeans are pairs of pants.
<br>The tunic is a shirt.
<br>The camisole, the corset, and the plunge bra are foundation garments.
<br>The cocktail dress is a dress.
<br>The bolero, the cashmere shrug, and the sheer wrap are jackets. The shrug and the wrap are transparent.
</p>
<p class="quoted">
Test me with "wear capris / wear jeans / i / wear thong / i / wear dress / wear corset / wear dress / i / wear wrap / i / wear boots / wear pumps / i".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.16">WI §13.16. What are relations for?</a><br><a href="rb_9.html#rb-9.3">RB §9.3. Clothing</a>
</div></details><details class="full-example" id="example-46"><summary><span class="example-summary">46. Get Me to the Church on Time</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Inform's default handling of wearable things does not make any rules about what can be worn together. Suppose, however, we have a game in which there are a large number of different garments, and we want to keep the player from wearing (say) more than one pair of pants at once:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Get%20Me%20to%20the%20Church%20on%20Time%22%5Cn%5CnA%20pair%20of%20pants%20and%20a%20shirt%20are%20kinds%20of%20thing.%20A%20pair%20of%20pants%20and%20a%20shirt%20are%20usually%20wearable.%5Cn%5CnSome%20golf%20pants%20are%20a%20pair%20of%20pants.%20The%20description%20is%20%22Checked%20in%20red%20and%20green,%20with%20tiny%20frolicking%20gophers%20every%20few%20inches.%22%5Cn%5CnSome%20tuxedo%20trousers%20are%20a%20pair%20of%20pants.%20The%20description%20is%20%22Black,%20pressed,%20and%20slimming.%22%5Cn%5CnThe%20frilly%20shirt%20is%20a%20shirt.%20The%20description%20of%20the%20frilly%20shirt%20is%20%22She%20insisted.%22%5Cn%5CnThe%20polo%20shirt%20is%20a%20shirt.%20The%20description%20is%20%22Turquoise%20and%20bright%20yellow,%20the%20colors%20selected%20by%20your%20golfing%20buddies.%22%5Cn%5CnThe%20player%20wears%20the%20golf%20pants%20and%20the%20polo%20shirt.%20The%20player%20carries%20the%20tuxedo%20trousers%20and%20the%20frilly%20shirt.%5Cn%5CnThe%20Wedding%20Chapel%20Dressing%20Room%20is%20a%20room.%20%22The%20bride's%20dressing%20room%20is%20a%20lavish%20suite%20with%20closets,%20hangers,%20dressmaker's%20dummies,%20boxes%20of%20straight%20pins%20and%20sewing%20notions,%20combs,%20lotions,%20brushes,%20and%20hair%20fixatives,%20plus%20room%20for%20%20fifteen%20female%20attendants%20and%20a%20photographer.%20Before%20they%20shoved%20you%20out%20of%20the%20room%20you%20even%20got%20a%20glimpse%20of%20a%20small%20reference%20library%20including%20'1001%20French%20Braids'%20and%20'Corset-Lacing%20For%20Beginners.'%5Cn%5CnThis%20is%20the%20groom's%20dressing%20room.%20You%20get%20a%20framed%20photograph%20of%20Elvis,%20a%20dusty%20mirror,%20and%20the%20floor%20space%20of%20an%20average%20toilet%20stall.%22%5Cn%5CnThe%20dusty%20mirror%20and%20the%20photograph%20of%20Elvis%20are%20scenery%20in%20the%20Dressing%20Room.%20The%20description%20of%20the%20mirror%20is%20%22You%20can't%20really%20get%20more%20than%20a%20silhouette%20impression%20of%20yourself.%22%20The%20description%20of%20Elvis%20is%20%22He%20reminds%20you%20that%20you'd%20better%20get%20out%20there%20before%20the%20organist%20switches%20to%20Hound%20Dog.%22%5Cn%5Cn%5BAnd%20now%20the%20rule%20itself,%20borrowed%20from%20a%20later%20chapter:%5D%5Cn%5CnInstead%20of%20wearing%20a%20pair%20of%20pants%20when%20the%20player%20is%20wearing%20a%20pair%20of%20pants%20(called%20the%20wrong%20trousers):%5Cn%5Ctsay%20%22You'll%20have%20to%20take%20off%20%5Bthe%20wrong%20trousers%5D%20first.%22%5Cn%5CnInstead%20of%20wearing%20a%20shirt%20when%20the%20player%20is%20wearing%20a%20shirt%20(called%20the%20wrong%20top):%5Cn%5Ctsay%20%22You'll%20have%20to%20take%20off%20%5Bthe%20wrong%20top%5D%20first.%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22From%20the%20other%20side%20of%20the%20door,%20you%20hear%20the%20organist%20move%20on%20from%20his%20instrumental%20interpretation%20of%20'I%20Wanna%20Hold%20Your%20Hand'%20to%20a%20somewhat%20more%20spirited%20rendition%20of%20'Help!%20I%20Need%20Somebody!'.%20Okay,%20okay,%20but%20you've%20been%20rushing%20things%20along%20since%20the%2016th%20fairway,%20and%20you%20can't%20be%20more%20than%20a%20half-hour%20late...%20Surely%20that%20mother%20of%20hers%20can't%20blame%20you%20for%20that?%22%5Cn%5CnTest%20me%20with%20%22i%20/%20x%20trousers%20/%20wear%20trousers%20/%20x%20golf%20pants%20/%20take%20off%20golf%20pants%20/%20wear%20trousers%20/%20x%20frilly%20shirt%20/%20x%20polo%20shirt%20/%20wear%20frilly%20shirt%20/%20doff%20polo%20shirt%20/%20wear%20frilly%20shirt%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Get Me to the Church on Time"
</p>
<p class="quoted">
A pair of pants and a shirt are kinds of thing. A pair of pants and a shirt are usually wearable.
</p>
<p class="quoted">
Some golf pants are a pair of pants. The description is "Checked in red and green, with tiny frolicking gophers every few inches."
</p>
<p class="quoted">
Some tuxedo trousers are a pair of pants. The description is "Black, pressed, and slimming."
</p>
<p class="quoted">
The frilly shirt is a shirt. The description of the frilly shirt is "She insisted."
</p>
<p class="quoted">
The polo shirt is a shirt. The description is "Turquoise and bright yellow, the colors selected by your golfing buddies."
</p>
<p class="quoted">
The player wears the golf pants and the polo shirt. The player carries the tuxedo trousers and the frilly shirt.
</p>
<p class="quoted">
The Wedding Chapel Dressing Room is a room. "The bride's dressing room is a lavish suite with closets, hangers, dressmaker's dummies, boxes of straight pins and sewing notions, combs, lotions, brushes, and hair fixatives, plus room for  fifteen female attendants and a photographer. Before they shoved you out of the room you even got a glimpse of a small reference library including '1001 French Braids' and 'Corset-Lacing For Beginners.'
</p>
<p class="quoted">
This is the groom's dressing room. You get a framed photograph of Elvis, a dusty mirror, and the floor space of an average toilet stall."
</p>
<p class="quoted">
The dusty mirror and the photograph of Elvis are scenery in the Dressing Room. The description of the mirror is "You can't really get more than a silhouette impression of yourself." The description of Elvis is "He reminds you that you'd better get out there before the organist switches to Hound Dog."
</p>
</div>
<p>And now the rule itself, borrowed from a later chapter:</p>

<div class="code">
<p class="quoted">
Instead of wearing a pair of pants when the player is wearing a pair of pants (called the wrong trousers):
<br>    say "You'll have to take off [the wrong trousers] first."
</p>
<p class="quoted">
Instead of wearing a shirt when the player is wearing a shirt (called the wrong top):
<br>    say "You'll have to take off [the wrong top] first."
</p>
<p class="quoted">
When play begins:
<br>    say "From the other side of the door, you hear the organist move on from his instrumental interpretation of 'I Wanna Hold Your Hand' to a somewhat more spirited rendition of 'Help! I Need Somebody!'. Okay, okay, but you've been rushing things along since the 16th fairway, and you can't be more than a half-hour late... Surely that mother of hers can't blame you for that?"
</p>
<p class="quoted">
Test me with "i / x trousers / wear trousers / x golf pants / take off golf pants / wear trousers / x frilly shirt / x polo shirt / wear frilly shirt / doff polo shirt / wear frilly shirt".
</p>
</div>
<p>If we wanted to, we could make similar kinds for hats, shoes, and so on, and have a simple but effective system of clothing. A more complicated treatment might keep track of layering and describe the player's outfit differently depending on which clothes were outermost -- an example for a later chapter.</p>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.4">WI §4.4. Plural assertions</a><br><a href="rb_9.html#rb-9.3">RB §9.3. Clothing</a>
</div></details><details class="full-example" id="example-234"><summary><span class="example-summary">234. Bogart</span> <span class="example-difficulty">★★★</span></summary><div>
<p>We have two things to keep track of with our layering clothing: what currently is covering something else; and what <span class="italic">can</span> cover something else. This implementation goes for a fairly simple treatment, assuming that each item of clothing will completely conceal those beneath it, and that we are not implementing entire sets of shirts, jackets, etc. But it will do for a demonstration.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Bogart%22%5Cn%5CnSection%201%20-%20Clothing%20Behavior%5Cn%5Cn%5BFirst%20we%20make%20our%20relation%20to%20represent%20what%20*is*%20underneath%20another%20item:%5D%5Cn%5CnUnderlying%20relates%20one%20thing%20to%20various%20things.%20The%20verb%20to%20underlie%20means%20the%20underlying%20relation.%20The%20verb%20to%20be%20under%20implies%20the%20underlying%20relation.%5Cn%5Cn%5BAnd%20now%20we%20prevent%20taking%20a%20lower%20layer%20off%20before%20the%20thing%20that%20is%20worn%20over%20it:%5D%5Cn%5CnBefore%20taking%20off%20something%20which%20underlies%20something%20(called%20the%20impediment)%20which%20is%20worn%20by%20the%20player:%5Cnsay%20%22(first%20removing%20%5Bthe%20impediment%5D)%5Bcommand%20clarification%20break%5D%22;%5Cnsilently%20try%20taking%20off%20the%20impediment;%5Cnif%20the%20noun%20underlies%20something%20which%20is%20worn%20by%20the%20player,%20stop%20the%20action.%5Cn%5CnCheck%20taking%20off:%5Cn%5Ctif%20the%20noun%20underlies%20something%20(called%20the%20impediment)%20which%20is%20worn%20by%20the%20player,%20say%20%22%5BThe%20impediment%5D%20%5Bare%5D%20in%20the%20way.%22%20instead.%5Cn%5CnCarry%20out%20taking%20off:%5Cn%5Ctnow%20the%20noun%20is%20not%20underlaid%20by%20anything.%5Cn%5CnReport%20taking%20off%20something:%5Cn%5Ctsay%20%22%5BWe%5D%20%5Bare%5D%20now%20wearing%20%5Ba%20list%20of%20uppermost%20things%20worn%20by%20the%20player%5D.%22%20instead.%5Cn%5CnDefinition:%20a%20thing%20is%20uppermost%20if%20it%20is%20not%20under%20something.%5Cn%5Cn%5BThat%20covers%20order%20of%20clothing%20removal,%20but%20we%20also%20want%20to%20restrict%20what%20can%20be%20worn%20on%20top%20of%20what%20else.%20This%20time%20we%20need%20Inform%20to%20have%20some%20idea%20of%20what%20customarily%20can%20be%20layered%20on%20top%20of%20what%20other%20clothing:%5D%5Cn%5CnOverlying%20relates%20one%20thing%20to%20various%20things.%20The%20verb%20to%20overlie%20means%20the%20overlying%20relation.%5Cn%5CnCovering%20relates%20a%20thing%20(called%20A)%20to%20a%20thing%20(called%20B)%20when%20the%20number%20of%20steps%20via%20the%20overlying%20relation%20from%20A%20to%20B%20is%20greater%20than%200.%20The%20verb%20to%20cover%20means%20the%20covering%20relation.%5Cn%5Cn%5BWith%20these%20definitions,%20we%20can%20say%20that%20a%20jacket%20should%20go%20over%20a%20shirt%20and%20a%20shirt%20over%20an%20undershirt%20(say),%20and%20then%20Inform%20will%20know%20that%20a%20jacket%20will%20cover%20both%20shirt%20and%20undershirt.%5D%5Cn%5CnBefore%20wearing%20something%20when%20something%20(called%20the%20impediment)%20which%20covers%20the%20noun%20is%20worn%20by%20the%20player:%5Cn%5Ctwhile%20the%20player%20wears%20something%20which%20covers%20the%20noun:%5Cn%5Ct%5Ctsay%20%22(first%20removing%20%5Bthe%20impediment%5D)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Ct%5Ctsilently%20try%20taking%20off%20the%20impediment;%5Cn%5Ct%5Ctif%20the%20player%20is%20wearing%20the%20impediment,%20stop%20the%20action.%5Cn%5CnCarry%20out%20wearing:%5Cn%5Ctif%20the%20noun%20covers%20something%20(called%20the%20hidden%20item)%20worn%20by%20the%20player,%20now%20the%20hidden%20item%20underlies%20the%20noun.%5Cn%5CnInstead%20of%20looking%20under%20something%20which%20is%20worn%20by%20the%20player:%5Cn%5Ctif%20something%20(called%20the%20underwear)%20underlies%20the%20noun,%20say%20%22%5BWe%5D%20%5Bpeek%5D%20at%20%5Bthe%20underwear%5D.%20Yup,%20still%20there.%22;%5Cn%5Ctotherwise%20say%20%22Just%20%5Bus%5D%20in%20there.%22%5Cn%5CnInstead%20of%20taking%20inventory:%5Cn%5Ctsay%20%22%5Bif%20the%20player%20carries%20something%5D%5BWe%5D%5B're%5D%20carrying%20%5Ba%20list%20of%20things%20carried%20by%20the%20player%5D%5Belse%5D%5BWe%5D%5B're%5D%20empty-handed%5Bend%20if%5D%5Bif%20the%20player%20wears%20something%5D.%20%5BWe%5D%20%5Bare%5D%20wearing%20%5Ba%20list%20of%20uppermost%20things%20worn%20by%20the%20player%5D%5Bend%20if%5D.%22%5Cn%5CnTo%20peek%20is%20a%20verb.%5Cn%5Cn%5BNotice%20that%20our%20inventory%20only%20describes%20the%20things%20that%20the%20player%20can%20see%20as%20the%20upper%20layer%20of%20clothing.%5D%5Cn%5CnSection%202%20-%20The%20Scenario%5Cn%5CnThe%20Trailer%20is%20a%20room.%20%22A%20full-length%20mirror%20is%20the%20main%20amenity%20in%20here,%20and%20that%20suits%20you%20just%20fine.%22%20%20The%20full-length%20mirror%20is%20scenery%20in%20the%20Trailer.%20Instead%20of%20examining%20or%20searching%20the%20mirror,%20try%20taking%20inventory.%5Cn%5CnThe%20player%20wears%20a%20fedora,%20a%20jacket,%20a%20shirt,%20some%20undershorts,%20an%20undershirt,%20some%20slacks,%20a%20pair%20of%20socks,%20and%20a%20pair%20of%20shoes.%5Cn%5CnThe%20shirt%20underlies%20the%20jacket.%20The%20pair%20of%20socks%20underlies%20the%20pair%20of%20shoes.%20The%20undershorts%20underlie%20the%20slacks.%20The%20undershirt%20underlies%20the%20shirt.%5Cn%5CnThe%20jacket%20overlies%20the%20shirt.%20The%20shoes%20overlie%20the%20socks.%20The%20slacks%20overlie%20the%20undershorts.%20The%20shirt%20overlies%20the%20undershirt.%5Cn%5CnTest%20me%20with%20%22x%20mirror%20/%20remove%20fedora%20/%20remove%20jacket%20/%20remove%20shirt%20/%20remove%20slacks%20/%20remove%20undershirt%20/%20remove%20shoes%20/%20remove%20socks%20/%20remove%20shorts%20/%20remove%20undershorts%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Bogart"
</p>
<p class="quoted">
Section 1 - Clothing Behavior
</p>
</div>
<p>First we make our relation to represent what *is* underneath another item:</p>

<div class="code"><p class="quoted">
Underlying relates one thing to various things. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.
</p></div>
<p>And now we prevent taking a lower layer off before the thing that is worn over it:</p>

<div class="code">
<p class="quoted">
Before taking off something which underlies something (called the impediment) which is worn by the player:
<br>say "(first removing [the impediment])[command clarification break]";
<br>silently try taking off the impediment;
<br>if the noun underlies something which is worn by the player, stop the action.
</p>
<p class="quoted">
Check taking off:
<br>    if the noun underlies something (called the impediment) which is worn by the player, say "[The impediment] [are] in the way." instead.
</p>
<p class="quoted">
Carry out taking off:
<br>    now the noun is not underlaid by anything.
</p>
<p class="quoted">
Report taking off something:
<br>    say "[We] [are] now wearing [a list of uppermost things worn by the player]." instead.
</p>
<p class="quoted">
Definition: a thing is uppermost if it is not under something.
</p>
</div>
<p>That covers order of clothing removal, but we also want to restrict what can be worn on top of what else. This time we need Inform to have some idea of what customarily can be layered on top of what other clothing:</p>

<div class="code">
<p class="quoted">
Overlying relates one thing to various things. The verb to overlie means the overlying relation.
</p>
<p class="quoted">
Covering relates a thing (called A) to a thing (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.
</p>
</div>
<p>With these definitions, we can say that a jacket should go over a shirt and a shirt over an undershirt (say), and then Inform will know that a jacket will cover both shirt and undershirt.</p>

<div class="code">
<p class="quoted">
Before wearing something when something (called the impediment) which covers the noun is worn by the player:
<br>    while the player wears something which covers the noun:
<br>        say "(first removing [the impediment])[command clarification break]";
<br>        silently try taking off the impediment;
<br>        if the player is wearing the impediment, stop the action.
</p>
<p class="quoted">
Carry out wearing:
<br>    if the noun covers something (called the hidden item) worn by the player, now the hidden item underlies the noun.
</p>
<p class="quoted">
Instead of looking under something which is worn by the player:
<br>    if something (called the underwear) underlies the noun, say "[We] [peek] at [the underwear]. Yup, still there.";
<br>    otherwise say "Just [us] in there."
</p>
<p class="quoted">
Instead of taking inventory:
<br>    say "[if the player carries something][We]['re] carrying [a list of things carried by the player][else][We]['re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost things worn by the player][end if]."
</p>
<p class="quoted">
To peek is a verb.
</p>
</div>
<p>Notice that our inventory only describes the things that the player can see as the upper layer of clothing.</p>

<div class="code">
<p class="quoted">
Section 2 - The Scenario
</p>
<p class="quoted">
The Trailer is a room. "A full-length mirror is the main amenity in here, and that suits you just fine."  The full-length mirror is scenery in the Trailer. Instead of examining or searching the mirror, try taking inventory.
</p>
<p class="quoted">
The player wears a fedora, a jacket, a shirt, some undershorts, an undershirt, some slacks, a pair of socks, and a pair of shoes.
</p>
<p class="quoted">
The shirt underlies the jacket. The pair of socks underlies the pair of shoes. The undershorts underlie the slacks. The undershirt underlies the shirt.
</p>
<p class="quoted">
The jacket overlies the shirt. The shoes overlie the socks. The slacks overlie the undershorts. The shirt overlies the undershirt.
</p>
<p class="quoted">
Test me with "x mirror / remove fedora / remove jacket / remove shirt / remove slacks / remove undershirt / remove shoes / remove socks / remove shorts / remove undershorts".
</p>
</div>
<p>If we further wanted to prevent the player from taking off clothes in inappropriate places, we might add something like this:</p>

<div class="code"><p class="quoted">
Instead of taking off something in the presence of someone who is not the player:
<br>    say "[We] [are] far too modest to strip in public."
</p></div>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.10">WI §13.10. Defining new prepositions</a><br><a href="rb_9.html#rb-9.3">RB §9.3. Clothing</a>
</div></details>
</div></section>
<section class="section" id="rb-9.4"><div>





<h3>RB §9.4. Money</h3>
<p>Money could be anything which the two people in a bargain both agree is valuable. Here, the player and an ogre agree on a copper coin as money:</p>

<div class="code">
<p class="quoted">
The player carries a copper coin. The ogre carries a rock cake. The cake is edible.
</p>
<p class="quoted">
Instead of giving the coin to the ogre:
<br>    now the ogre carries the coin;
<br>    now the player carries the cake;
<br>    say "The ogre grunts and hands you a rock cake."
</p>
</div>
<p>Now Inform does provide an action, "buying", and a command for it, BUY, but they ordinarily respond simply "Nothing is on sale." This is no longer true, so we should make BUY CAKE work. The difficulty here is that a command like BUY CAKE does not specify what should be handed over in exchange. Here we just check that the player has the coin, but in principle we could check for any of a range of monetary tokens - coins, notes, cheque book, debit card, and so on.</p>

<div class="code"><p class="quoted">
Instead of buying the cake:
<br>    if the player has the coin, try giving the coin to the ogre;
<br>    otherwise say "You have no money."
</p></div>
<p>In more advanced economies, where shopping replaces barter, the seller will stock a wide range of differently priced goods. For a tabulated catalogue of wares, see <a href="rb_9.html#example-283" class="example-link" onClick="(function() { document.getElementById('example-283').setAttribute('open','open'); return true; })();">Introduction to Juggling</a><span class="example-difficulty"> ★★★</span>: to allow the player to negotiate prices, see <a href="rb_9.html#example-265" class="example-link" onClick="(function() { document.getElementById('example-265').setAttribute('open','open'); return true; })();">Money for Nothing</a><span class="example-difficulty"> ★★</span>. In both of those examples, the player's current financial worth is simulated only as a current total amount of money carried - say, $2.50. This is typical, because in most situations what matters is how much money is in the pocket, not how it is made up. Money behaves more like a liquid than a set of items: hence terms like "liquidity", "cash flow" or <a href="rb_9.html#example-264" class="example-link" onClick="(function() { document.getElementById('example-264').setAttribute('open','open'); return true; })();">Frozen Assets</a><span class="example-difficulty"> ★</span> - the name of the simplest example demonstrating this. If we really need a comprehensive simulation down to pieces of currency - where it makes a difference carrying four quarters rather than a dollar bill, because the quarters can be fed into a vending machine - see <a href="rb_9.html#example-262" class="example-link" onClick="(function() { document.getElementById('example-262').setAttribute('open','open'); return true; })();">Nickel and Dimed</a><span class="example-difficulty"> ★★★</span>.</p>
<p><a href="rb_9.html#example-270" class="example-link" onClick="(function() { document.getElementById('example-270').setAttribute('open','open'); return true; })();">Fabrication</a><span class="example-difficulty"> ★★</span> takes the problem in a different direction, making calculations about the cost of a new garment based on the price of the pattern, the quantity of fabric required, and the value of the fabric type chosen -- showing off what we can do with unit multiplication in Inform.</p>
<p><a href="rb_9.html#example-263" class="example-link" onClick="(function() { document.getElementById('example-263').setAttribute('open','open'); return true; })();">Widget Enterprises</a><span class="example-difficulty"> ★</span> explores the challenge of pricing widgets for maximum profit, given certain necessary costs and customers with varying willingness to pay.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_6.html#rb-6.15" class="crossreference_link">Actions on Multiple Objects</a> for an implementation of giving that allows the player to offer multiple objects at once, where their combined value determines whether they are accepted</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-263"><summary><span class="example-summary">263. Widget Enterprises</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose the player is responsible for pricing at Widget Enterprises. Widget production entails a certain fixed cost as well as a cost per unit; and somewhere out in the world there are a number of customers interested in purchasing widgets, but the player starts without knowing what this distribution looks like.</p>
<p>We can express the profits as an equation: the total made by selling widgets, minus the cost thereof.</p>
<p>The Table of Customers holds the data about customer preferences, and whenever the player selects a widget price, we consult it to determine how many customers in total would be willing to buy at that price.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Widget%20Enterprises%22%5Cn%5CnWidget%20Stand%20is%20a%20room.%5Cn%5CnA%20monetary%20value%20is%20a%20kind%20of%20value.%20%241.99%20specifies%20a%20monetary%20value%20with%20parts%20dollars%20and%20cents.%5Cn%5CnEquation%20-%20Profit%20Equation%5Cn%5CtP%20=%20nV%20-%20(F%20%20%20nC)%5Cnwhere%20P%20is%20a%20monetary%20value,%20F%20is%20the%20fixed%20cost,%20C%20is%20the%20unit%20cost,%20V%20is%20a%20monetary%20value,%20and%20n%20is%20a%20number.%5Cn%5CnThe%20fixed%20cost%20is%20a%20monetary%20value%20that%20varies.%20The%20fixed%20cost%20is%20%245.00.%5CnThe%20unit%20cost%20is%20a%20monetary%20value%20that%20varies.%20The%20unit%20cost%20is%20%2410.66.%5Cn%5CnTable%20of%20Customers%5Cnbase%5Ctmaximum%20value%5Cn2%5Ct%2426.00%5Cn5%5Ct%2420.00%5Cn8%20%5Ct%2415.00%5Cn2%5Ct%2413.50%5Cn1%5Ct%249.00%5Cn%5CnTo%20decide%20what%20number%20is%20the%20units%20sold%20at%20(V%20-%20a%20monetary%20value):%5Cn%5Ctlet%20total%20units%20be%200;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Customers:%5Cn%5Ct%5Ctif%20V%20is%20less%20than%20the%20maximum%20value%20entry:%5Cn%5Ct%5Ct%5Ctincrease%20total%20units%20by%20the%20base%20entry;%5Cn%5Ctdecide%20on%20total%20units.%5Cn%5CnUnderstand%20%22set%20price%20to%20%5Bmonetary%20value%5D%22%20as%20setting%20price%20to.%20Setting%20price%20to%20is%20an%20action%20applying%20to%20one%20monetary%20value.%5Cn%5CnCarry%20out%20setting%20price%20to:%5Cn%5Ctlet%20V%20be%20the%20monetary%20value%20understood;%5Cn%5Ctlet%20n%20be%20the%20units%20sold%20at%20the%20monetary%20value%20understood;%5Cn%5Ctlet%20P%20be%20given%20by%20the%20Profit%20Equation;%5Cn%5Ctsay%20%22You%20set%20the%20price%20of%20your%20widgets%20to%20%5BV%5D,%20resulting%20in%20sales%20of%20%5Bn%5D%20unit%5Bs%5D%20and%20%22;%5Cn%5Ctif%20P%20is%20less%20than%20%240.00:%5Cn%5Ct%5Ctlet%20L%20be%20%240.00%20-%20P;%5Cn%5Ct%5Ctsay%20%22a%20loss%20of%20%5BL%5D.%22;%5Cn%5Ctotherwise%20if%20P%20is%20%240.00:%5Cn%5Ct%5Ctsay%20%22break%20even.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22a%20profit%20of%20%5BP%5D.%22.%5Cn%5CnTest%20me%20with%20%22set%20price%20to%20%240.00%20/%20set%20price%20to%20%24100.00%20/%20set%20price%20to%20%2415.00%20/%20set%20price%20to%20%248.00%20/%20set%20price%20to%20%2425.00%20/%20set%20price%20to%20%2414.99%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Widget Enterprises"
</p>
<p class="quoted">
Widget Stand is a room.
</p>
<p class="quoted">
A monetary value is a kind of value. $1.99 specifies a monetary value with parts dollars and cents.
</p>
<p class="quoted">
Equation - Profit Equation
<br>    P = nV - (F + nC)
<br>where P is a monetary value, F is the fixed cost, C is the unit cost, V is a monetary value, and n is a number.
</p>
<p class="quoted">
The fixed cost is a monetary value that varies. The fixed cost is $5.00.
<br>The unit cost is a monetary value that varies. The unit cost is $10.66.
</p>
<p class="quoted">
Table of Customers
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">base</p></td>
<td class="quotedtablecell"><p class="quoted">maximum value</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">$26.00</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">5</p></td>
<td class="quotedtablecell"><p class="quoted">$20.00</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">8 </p></td>
<td class="quotedtablecell"><p class="quoted">$15.00</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">$13.50</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">$9.00</p></td>
</tr>
</table>
<p class="quoted">
To decide what number is the units sold at (V - a monetary value):
<br>    let total units be 0;
<br>    repeat through the Table of Customers:
<br>        if V is less than the maximum value entry:
<br>            increase total units by the base entry;
<br>    decide on total units.
</p>
<p class="quoted">
Understand "set price to [monetary value]" as setting price to. Setting price to is an action applying to one monetary value.
</p>
<p class="quoted">
Carry out setting price to:
<br>    let V be the monetary value understood;
<br>    let n be the units sold at the monetary value understood;
<br>    let P be given by the Profit Equation;
<br>    say "You set the price of your widgets to [V], resulting in sales of [n] unit[s] and ";
<br>    if P is less than $0.00:
<br>        let L be $0.00 - P;
<br>        say "a loss of [L].";
<br>    otherwise if P is $0.00:
<br>        say "break even.";
<br>    otherwise:
<br>        say "a profit of [P].".
</p>
<p class="quoted">
Test me with "set price to $0.00 / set price to $100.00 / set price to $15.00 / set price to $8.00 / set price to $25.00 / set price to $14.99".
</p>
</div>
<p>As written this will be a rather dull guessing game for the player; more interesting would be to enhance it into a fuller economic simulator with more control over fixed costs and customer price points.</p>
</div>
<div class="linkback">
<a href="wi_15.html#wi-15.18">WI §15.18. Equations</a><br><a href="rb_9.html#rb-9.4">RB §9.4. Money</a>
</div></details><details class="full-example" id="example-264"><summary><span class="example-summary">264. Frozen Assets</span> <span class="example-difficulty">★</span></summary><div>
<p>In our brave new world, everything will have a price, so we had better spell this out.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Frozen%20Assets%22%5Cn%5CnPrice%20is%20a%20kind%20of%20value.%20%2410.99%20specifies%20a%20price.%20A%20thing%20has%20a%20price.%20The%20price%20of%20a%20thing%20is%20usually%20%240.00.%20After%20examining%20something%20for%20sale,%20say%20%22It%20can%20be%20yours%20for%20%5Bthe%20price%20of%20the%20noun%5D.%22%5Cn%5Cn%5BNow%20we%20assume%20a%20simple%20shopping%20model%20in%20which%20the%20player%20can't%20take%20anything%20without%20paying%20for%20it.%5D%5Cn%5CnDefinition:%20a%20thing%20is%20free%20if%20the%20price%20of%20it%20is%20%240.00.%5CnDefinition:%20a%20thing%20is%20for%20sale%20if%20it%20is%20not%20free.%5Cn%5CnInstead%20of%20taking%20something%20for%20sale:%5Cn%5Ctsay%20%22You'll%20have%20to%20pay%20for%20that.%22%5Cn%5CnBefore%20buying%20something%20for%20sale%20when%20the%20money%20is%20not%20in%20the%20wallet:%5Cn%5Ctsay%20%22You're%20broke.%22%20instead.%5Cn%5CnBefore%20buying%20something%20for%20sale%20when%20the%20money%20is%20free:%5Cn%5Ctsay%20%22You're%20broke.%22%20instead.%5Cn%5CnBefore%20buying%20something%20for%20sale%20when%20the%20price%20of%20the%20money%20is%20less%20than%20the%20price%20of%20the%20noun:%5Cn%5Ctsay%20%22Your%20funds%20do%20not%20run%20to%20the%20price%20of%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnInstead%20of%20buying%20something:%5Cn%5Ctdecrease%20the%20price%20of%20the%20money%20by%20the%20price%20of%20the%20noun;%5Cn%5Ctsay%20%22You%20fork%20over%20%5Bthe%20price%20of%20the%20noun%5D%20for%20%5Bthe%20noun%5D,%20leaving%20yourself%20with%20%5Bthe%20price%20of%20the%20money%5D.%22;%5Cn%5Ctif%20the%20money%20is%20free:%5Cn%5Ct%5Ctnow%20the%20money%20is%20nowhere;%5Cn%5Ctnow%20the%20price%20of%20the%20noun%20is%20%240.00;%5Cn%5Ctnow%20the%20player%20is%20carrying%20the%20noun.%5Cn%5Cn%5BThe%20player's%20money%20object%20is%20going%20to%20be%20a%20bit%20unusual,%20because%20it%20has%20value%20but%20cannot%20itself%20be%20bought.%5D%5Cn%5CnThe%20player%20carries%20a%20wallet.%20The%20wallet%20contains%20money.%20The%20price%20of%20the%20money%20is%20%244.50.%20The%20printed%20name%20of%20the%20money%20is%20%22%5Bprice%20of%20the%20money%5D%20in%20cash%22.%20Understand%20%22cash%22%20as%20the%20money.%5Cn%5CnInstead%20of%20taking%20the%20money:%5Cn%5Ctsay%20%22Best%20to%20leave%20it%20alone%20until%20you%20need%20to%20buy%20something.%22%5Cn%5CnInstead%20of%20buying%20something%20free:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20is%20yours%20already.%22%5Cn%5CnInstead%20of%20buying%20the%20money:%5Cn%5Ctsay%20%22The%20money%20belongs%20to%20you;%20you%20buy%20things%20with%20it.%22%5Cn%5Cn%5BNow%20we%20just%20need%20something%20to%20buy.%5D%5Cn%5CnThe%20Dessert%20Parlor%20is%20a%20room.%20%22An%20underlit,%20over-crowded%20room%20campily%20furnished%20with%20a%20lot%20of%20gilt-frame%20mirrors%20and%20twinkle%20lights:%20it%20is%20essentially%20a%20brothel%20of%20food.%20The%20service%20is%20slow%20at%20best,%20and%20on%20Saturday%20nights%20glacial.%20However.%20The%20wares%20on%20display%20more%20than%20make%20up%20for%20these%20trivial%20inconveniences.%22%5Cn%5CnThe%20vanilla%20ice%20cream%20is%20an%20edible%20thing%20in%20the%20Parlor.%20The%20price%20of%20the%20ice%20cream%20is%20%242.45.%20The%20description%20is%20%22In%20the%20scale%20of%20ice%20creams,%20you%20recognize%20this%20as%20a%20very%20inferior%20vanilla%20because%20it%20has%20no%20adjectives%20in%20the%20title.%22%5Cn%5CnThe%20raspberry%20tart%20is%20an%20edible%20thing%20in%20the%20Parlor.%20The%20price%20of%20the%20tart%20is%20%244.50.%20The%20description%20is%20%22An%20almond-laced%20shell%20packed%20with%20raspberries-under-glaze.%22%5Cn%5CnThe%20syllabub%20is%20an%20edible%20thing%20in%20the%20Parlor.%20The%20price%20of%20the%20syllabub%20is%20%244.25.%20The%20description%20is%20%22Whipped%20cream,%20alcohol,%20and%20lime%20juice,%20a%20substance%20without%20any%20redeeming%20food%20value%20whatever.%22%5Cn%5CnThe%20espresso%20cake%20is%20an%20edible%20thing%20in%20the%20Parlor.%20The%20price%20of%20the%20espresso%20cake%20is%20%245.50.%20The%20description%20is%20%22A%20lethal%20wedge%20of%20purest%20blackness.%22%5Cn%5CnTest%20me%20with%20%22inventory%20/%20examine%20syllabub%20/%20get%20syllabub%20/%20buy%20syllabub%20/%20drop%20it%20/%20get%20it%20/%20buy%20raspberry%20tart%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Frozen Assets"
</p>
<p class="quoted">
Price is a kind of value. $10.99 specifies a price. A thing has a price. The price of a thing is usually $0.00. After examining something for sale, say "It can be yours for [the price of the noun]."
</p>
</div>
<p>Now we assume a simple shopping model in which the player can't take anything without paying for it.</p>

<div class="code">
<p class="quoted">
Definition: a thing is free if the price of it is $0.00.
<br>Definition: a thing is for sale if it is not free.
</p>
<p class="quoted">
Instead of taking something for sale:
<br>    say "You'll have to pay for that."
</p>
<p class="quoted">
Before buying something for sale when the money is not in the wallet:
<br>    say "You're broke." instead.
</p>
<p class="quoted">
Before buying something for sale when the money is free:
<br>    say "You're broke." instead.
</p>
<p class="quoted">
Before buying something for sale when the price of the money is less than the price of the noun:
<br>    say "Your funds do not run to the price of [the noun]." instead.
</p>
<p class="quoted">
Instead of buying something:
<br>    decrease the price of the money by the price of the noun;
<br>    say "You fork over [the price of the noun] for [the noun], leaving yourself with [the price of the money].";
<br>    if the money is free:
<br>        now the money is nowhere;
<br>    now the price of the noun is $0.00;
<br>    now the player is carrying the noun.
</p>
</div>
<p>The player's money object is going to be a bit unusual, because it has value but cannot itself be bought.</p>

<div class="code">
<p class="quoted">
The player carries a wallet. The wallet contains money. The price of the money is $4.50. The printed name of the money is "[price of the money] in cash". Understand "cash" as the money.
</p>
<p class="quoted">
Instead of taking the money:
<br>    say "Best to leave it alone until you need to buy something."
</p>
<p class="quoted">
Instead of buying something free:
<br>    say "[The noun] is yours already."
</p>
<p class="quoted">
Instead of buying the money:
<br>    say "The money belongs to you; you buy things with it."
</p>
</div>
<p>Now we just need something to buy.</p>

<div class="code">
<p class="quoted">
The Dessert Parlor is a room. "An underlit, over-crowded room campily furnished with a lot of gilt-frame mirrors and twinkle lights: it is essentially a brothel of food. The service is slow at best, and on Saturday nights glacial. However. The wares on display more than make up for these trivial inconveniences."
</p>
<p class="quoted">
The vanilla ice cream is an edible thing in the Parlor. The price of the ice cream is $2.45. The description is "In the scale of ice creams, you recognize this as a very inferior vanilla because it has no adjectives in the title."
</p>
<p class="quoted">
The raspberry tart is an edible thing in the Parlor. The price of the tart is $4.50. The description is "An almond-laced shell packed with raspberries-under-glaze."
</p>
<p class="quoted">
The syllabub is an edible thing in the Parlor. The price of the syllabub is $4.25. The description is "Whipped cream, alcohol, and lime juice, a substance without any redeeming food value whatever."
</p>
<p class="quoted">
The espresso cake is an edible thing in the Parlor. The price of the espresso cake is $5.50. The description is "A lethal wedge of purest blackness."
</p>
<p class="quoted">
Test me with "inventory / examine syllabub / get syllabub / buy syllabub / drop it / get it / buy raspberry tart".
</p>
</div>
<p>Implementing caloric units for this scenario is left as an exercise for the reader.</p>
</div>
<div class="linkback">
<a href="wi_15.html#wi-15.19">WI §15.19. Arithmetic with units</a><br><a href="rb_9.html#rb-9.4">RB §9.4. Money</a>
</div></details><details class="full-example" id="example-265"><summary><span class="example-summary">265. Money for Nothing</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Money%20for%20Nothing%22%5Cn%5CnSection%201%20-%20Prices%20and%20Bargaining%5Cn%5CnPrice%20is%20a%20kind%20of%20value.%20%2410.99%20specifies%20a%20price%20with%20parts%20dollars%20and%20cents%20(optional,%20preamble%20optional).%5Cn%5CnA%20person%20has%20a%20price%20called%20wealth.%20The%20wealth%20of%20the%20player%20is%20%2415.%5Cn%5CnA%20thing%20has%20a%20price%20called%20minimum%20value.%20The%20minimum%20value%20of%20a%20thing%20is%20usually%20%240.50.%5Cn%5CnA%20thing%20has%20a%20price%20called%20desired%20value.%20The%20desired%20value%20of%20a%20thing%20is%20usually%20%245.00.%5Cn%5CnOffering%20it%20for%20is%20an%20action%20applying%20to%20one%20price%20and%20one%20visible%20thing.%5Cn%5CnUnderstand%20%22offer%20%5Bprice%5D%20for%20%5Bsomething%5D%22%20as%20offering%20it%20for.%5Cn%5CnAfter%20taking%20inventory,%20say%20%22You%20have%20%5Bthe%20wealth%20of%20the%20player%5D.%22%5Cn%5CnCheck%20offering%20it%20for:%5Cn%5Ctif%20the%20price%20understood%20is%20greater%20than%20the%20wealth%20of%20the%20player,%20say%20%22You%20don't%20have%20that%20kind%20of%20cash.%22%20instead;%5Cn%5Ctif%20the%20second%20noun%20is%20not%20carried%20by%20someone,%20say%20%22There's%20no%20one%20in%20a%20position%20to%20sell%20you%20%5Bthe%20second%20noun%5D.%22%20instead;%5Cn%5Ctif%20the%20second%20noun%20is%20carried%20by%20the%20player,%20say%20%22%5BThe%20second%20noun%5D%20is%20already%20yours.%22%20instead;%5Cn%5Ctif%20the%20minimum%20value%20of%20the%20second%20noun%20is%20greater%20than%20the%20price%20understood,%20say%20%22%5BThe%20holder%20of%20the%20second%20noun%5D%20cackles%20disdainfully.%20'If%20yer%20just%20here%20to%20insult%20me%20you%20can%20take%20your%20business%20elsewhere!'%20he%20says.%22%20instead;%5Cn%5Ctif%20the%20desired%20value%20of%20the%20second%20noun%20is%20greater%20than%20the%20price%20understood:%5Cn%5Ct%5Ctlet%20difference%20be%20the%20desired%20value%20of%20the%20second%20noun%20minus%20the%20price%20understood;%5Cn%5Ct%5Ctlet%20difference%20be%20difference%20divided%20by%20two;%5Cn%5Ct%5Ctdecrease%20the%20desired%20value%20of%20the%20second%20noun%20by%20difference;%5Cn%5Ct%5Ctnow%20the%20last%20object%20offered%20is%20the%20second%20noun;%5Cn%5Ct%5Ctsay%20%22'How%20about%20%5Bdesired%20value%20of%20the%20second%20noun%5D?'%20suggests%20%5Bthe%20holder%20of%20the%20second%20noun%5D.%22%20instead;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctunless%20the%20desired%20value%20of%20the%20second%20noun%20is%20the%20price%20understood:%5Cn%5Ct%5Ct%5Ctsay%20%22From%20the%20avaricious%20gleam%20in%20the%20eye%20of%20%5Bthe%20holder%20of%20the%20second%20noun%5D,%20you%20guess%20you%20could've%20gotten%20this%20purchase%20for%20less...%22%5Cn%5CnCarry%20out%20offering%20it%20for:%5Cn%5Ctincrease%20the%20wealth%20of%20the%20holder%20of%20the%20second%20noun%20by%20the%20price%20understood;%5Cn%5Ctdecrease%20the%20wealth%20of%20the%20player%20by%20the%20price%20understood;%5Cn%5Ctmove%20the%20second%20noun%20to%20the%20player.%5Cn%5CnReport%20offering%20it%20for:%5Cn%5Ctsay%20%22You%20spend%20%5Bthe%20price%20understood%5D,%20and%20now%20you%20possess%20%5Bthe%20second%20noun%5D.%22%5Cn%5CnWhen%20play%20begins:%20now%20right%20hand%20status%20line%20is%20%22Your%20funds:%20%5Bwealth%20of%20the%20player%5D%22.%5Cn%5Cn%5BNow,%20since%20the%20man%20does%20make%20counter-offers,%20it%20would%20be%20reasonable%20to%20let%20the%20player%20accept%20or%20reject%20those,%20as%20well:%5D%5Cn%5CnThe%20last%20object%20offered%20is%20a%20thing%20that%20varies.%5Cn%5CnInstead%20of%20saying%20yes%20when%20the%20last%20object%20offered%20is%20carried%20by%20a%20person%20(called%20seller)%20who%20is%20not%20the%20player:%5Cn%5Ctif%20the%20seller%20is%20not%20visible:%5Cn%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctnow%20the%20price%20understood%20is%20the%20desired%20value%20of%20the%20last%20object%20offered;%5Cn%5Ct%5Cttry%20offering%20the%20desired%20value%20of%20the%20last%20object%20offered%20for%20the%20last%20object%20offered.%5Cn%5CnInstead%20of%20saying%20no%20when%20the%20last%20object%20offered%20is%20carried%20by%20a%20person%20(called%20seller)%20who%20is%20not%20the%20player:%5Cn%5Ctif%20the%20seller%20is%20not%20visible:%5Cn%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctnow%20the%20last%20object%20offered%20is%20the%20player;%5Cn%5Ct%5Ctsay%20%22You%20reject%20the%20offer%20firmly.%22%5Cn%5Cn%5BAnd%20we%20borrow%20just%20a%20line%20or%20two%20from%20a%20later%20chapter%20to%20take%20care%20of%20some%20alternate%20syntax%20the%20player%20might%20try:%5D%5Cn%5CnUnderstand%20%22offer%20%5Bprice%5D%20to%20%5Bsomeone%5D%22%20as%20a%20mistake%20(%22You'll%20need%20to%20specify%20what%20you%20want%20to%20buy%20--%20try%20OFFER%20%241000.00%20FOR%20BROOKLYN%20BRIDGE.%22).%20Understand%20%22offer%20%5Bsomeone%5D%20%5Bprice%5D%22%20as%20a%20mistake%20(%22You'll%20need%20to%20specify%20what%20you%20want%20to%20buy%20--%20try%20OFFER%20%241000.00%20FOR%20BROOKLYN%20BRIDGE.%22).%5Cn%5CnUnderstand%20%22buy%20%5Bsomething%5D%22%20as%20a%20mistake%20(%22You'll%20have%20to%20name%20your%20price:%20try%20OFFER%20%241000.00%20FOR%20BROOKLYN%20BRIDGE.%22).%5Cn%5CnSection%202%20-%20The%20Scenario%5Cn%5CnThe%20Flea%20Market%20is%20a%20room.%20The%20crotchety%20man%20is%20a%20man%20in%20the%20Market.%20%22A%20crotchety%20man%20here%20is%20selling%20%5Bthe%20list%20of%20things%20carried%20by%20the%20crotchety%20man%5D.%22%20The%20crotchety%20man%20carries%20a%20broken%20television%20set,%20a%20Victorian%20rhinestone%20brooch,%20and%20a%20cracked%20shaving%20mug.%5Cn%5CnThe%20minimum%20value%20of%20the%20brooch%20is%20%242.50.%5Cn%5CnTest%20me%20with%20%22offer%20%240.50%20for%20mug%20/%20offer%20%240.50%20to%20man%20/%20offer%20%246.00%20for%20mug%20/%20offer%20%2450.00%20for%20brooch%20/%20offer%20%241.50%20for%20brooch%20/%20offer%20%244.50%20for%20brooch%20/%20no%20/%20offer%20%244.50%20for%20brooch%20/%20yes%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Money for Nothing"
</p>
<p class="quoted">
Section 1 - Prices and Bargaining
</p>
<p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p>
<p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p>
<p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p>
<p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p>
<p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p>
<p class="quoted">
Understand "offer [price] for [something]" as offering it for.
</p>
<p class="quoted">
After taking inventory, say "You have [the wealth of the player]."
</p>
<p class="quoted">
Check offering it for:
<br>    if the price understood is greater than the wealth of the player, say "You don't have that kind of cash." instead;
<br>    if the second noun is not carried by someone, say "There's no one in a position to sell you [the second noun]." instead;
<br>    if the second noun is carried by the player, say "[The second noun] is already yours." instead;
<br>    if the minimum value of the second noun is greater than the price understood, say "[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says." instead;
<br>    if the desired value of the second noun is greater than the price understood:
<br>        let difference be the desired value of the second noun minus the price understood;
<br>        let difference be difference divided by two;
<br>        decrease the desired value of the second noun by difference;
<br>        now the last object offered is the second noun;
<br>        say "'How about [desired value of the second noun]?' suggests [the holder of the second noun]." instead;
<br>    otherwise:
<br>        unless the desired value of the second noun is the price understood:
<br>            say "From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less..."
</p>
<p class="quoted">
Carry out offering it for:
<br>    increase the wealth of the holder of the second noun by the price understood;
<br>    decrease the wealth of the player by the price understood;
<br>    move the second noun to the player.
</p>
<p class="quoted">
Report offering it for:
<br>    say "You spend [the price understood], and now you possess [the second noun]."
</p>
<p class="quoted">
When play begins: now right hand status line is "Your funds: [wealth of the player]".
</p>
</div>
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>

<div class="code">
<p class="quoted">
The last object offered is a thing that varies.
</p>
<p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br>    if the seller is not visible:
<br>        continue the action;
<br>    otherwise:
<br>        now the price understood is the desired value of the last object offered;
<br>        try offering the desired value of the last object offered for the last object offered.
</p>
<p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br>    if the seller is not visible:
<br>        continue the action;
<br>    otherwise:
<br>        now the last object offered is the player;
<br>        say "You reject the offer firmly."
</p>
</div>
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>

<div class="code">
<p class="quoted">
Understand "offer [price] to [someone]" as a mistake ("You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE."). Understand "offer [someone] [price]" as a mistake ("You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.").
</p>
<p class="quoted">
Understand "buy [something]" as a mistake ("You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.").
</p>
<p class="quoted">
Section 2 - The Scenario
</p>
<p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. "A crotchety man here is selling [the list of things carried by the crotchety man]." The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p>
<p class="quoted">
The minimum value of the brooch is $2.50.
</p>
<p class="quoted">
Test me with "offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_15.html#wi-15.19">WI §15.19. Arithmetic with units</a><br><a href="rb_9.html#rb-9.4">RB §9.4. Money</a>
</div></details><details class="full-example" id="example-270"><summary><span class="example-summary">270. Fabrication</span> <span class="example-difficulty">★★</span></summary><div>
<p>When we make a new kind of value, the new named values can themselves have properties. That is convenient because, for instance, we might want to associate a material (itself the property of an object) with certain features, such as price.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Fabrication%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnA%20material%20is%20a%20kind%20of%20value.%20The%20materials%20are%20silk,%20velvet,%20cotton,%20and%20wool.%5Cn%5CnPrice%20is%20a%20kind%20of%20value.%20%241.99%20specifies%20a%20price.%5Cn%5CnArea%20is%20a%20kind%20of%20value.%205%20sq%20yards%20specifies%20an%20area.%5Cn%5CnCost%20is%20a%20kind%20of%20value..%20%241.99%20per%20sq%20yard%20specifies%20a%20cost.%20%20A%20cost%20times%20an%20area%20specifies%20a%20price.%5Cn%5CnA%20material%20has%20a%20cost.%5Cn%5CnThe%20cost%20of%20silk%20is%20usually%20%245.75%20per%20sq%20yard.%20The%20cost%20of%20velvet%20is%20usually%20%249.50%20per%20sq%20yard.%20The%20cost%20of%20cotton%20is%20usually%20%242.29%20per%20sq%20yard.%20The%20cost%20of%20wool%20is%20usually%20%244.75%20per%20sq%20yard.%5Cn%5CnA%20pattern%20is%20a%20kind%20of%20thing.%20A%20pattern%20has%20a%20material.%20A%20pattern%20has%20an%20area.%20A%20pattern%20has%20a%20price.%20The%20price%20of%20a%20pattern%20is%20usually%20%249.99.%20Understand%20%22pattern%22%20as%20a%20pattern.%20Understand%20%22patterns%22%20as%20the%20plural%20of%20a%20pattern.%5Cn%5CnAfter%20printing%20the%20name%20of%20a%20pattern:%5Cn%5Ctif%20planning:%5Cn%5Ct%5Ctdo%20nothing;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%20pattern%22.%5Cn%5CnTo%20decide%20what%20price%20is%20the%20material%20price%20of%20(chosen%20item%20-%20pattern):%5Cn%5Ctlet%20C%20be%20the%20cost%20of%20the%20material%20of%20the%20chosen%20item;%5Cn%5Ctlet%20A%20be%20the%20area%20of%20the%20chosen%20item;%5Cn%5Ctdecide%20on%20C%20*%20A.%5Cn%5CnTo%20decide%20what%20price%20is%20the%20overall%20price%20of%20(chosen%20item%20-%20pattern):%5Cn%5Ctlet%20P%20be%20the%20price%20of%20the%20chosen%20item;%5Cn%5Ctlet%20M%20be%20the%20material%20price%20of%20the%20chosen%20item;%5Cn%5Ctdecide%20on%20P%20%20%20M.%5Cn%5CnUnderstand%20%22plan%20%5Bmaterial%5D%20%5Bpattern%5D%22%20as%20planning%20it%20for.%5Cn%5CnPlanning%20it%20for%20is%20an%20action%20applying%20to%20one%20material%20and%20one%20thing.%5Cn%5CnCarry%20out%20planning%20it%20for:%5Cn%5Ctnow%20the%20material%20of%20the%20second%20noun%20is%20the%20material%20understood.%5Cn%5CnReport%20planning%20it%20for:%5Cn%5Ctsay%20%22You%20lay%20plans%20for%20a%20%5Bmaterial%20understood%5D%20%5Bsecond%20noun%5D,%20running%20%5Bmaterial%20price%20of%20the%20second%20noun%5D%20for%20materials%20and%20%5Bprice%20of%20the%20second%20noun%5D%20for%20the%20pattern%20itself,%20for%20a%20total%20of%20%5Boverall%20price%20of%20the%20second%20noun%5D.%22%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnJoanne's%20Fabrics%20is%20a%20room.%20Joanne's%20Fabrics%20contains%20a%20pattern%20bin.%5Cn%5CnThe%20cape%20is%20a%20pattern.%20The%20material%20of%20the%20cape%20is%20velvet.%20The%20area%20of%20the%20cape%20is%209%20sq%20yards.%5Cn%5CnThe%20bodice%20is%20a%20pattern.%20The%20material%20of%20the%20bodice%20is%20silk.%20The%20area%20of%20the%20bodice%20is%202%20sq%20yards.%20The%20price%20of%20the%20bodice%20is%20%2411.99.%5Cn%5CnThe%20cape%20and%20the%20bodice%20are%20in%20the%20pattern%20bin.%5Cn%5CnTest%20me%20with%20%22plan%20silk%20bodice%20/%20plan%20velvet%20bodice%20/%20plan%20velvet%20cape%20/%20plan%20wool%20cape%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Fabrication"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
A material is a kind of value. The materials are silk, velvet, cotton, and wool.
</p>
<p class="quoted">
Price is a kind of value. $1.99 specifies a price.
</p>
<p class="quoted">
Area is a kind of value. 5 sq yards specifies an area.
</p>
<p class="quoted">
Cost is a kind of value.. $1.99 per sq yard specifies a cost.  A cost times an area specifies a price.
</p>
<p class="quoted">
A material has a cost.
</p>
<p class="quoted">
The cost of silk is usually $5.75 per sq yard. The cost of velvet is usually $9.50 per sq yard. The cost of cotton is usually $2.29 per sq yard. The cost of wool is usually $4.75 per sq yard.
</p>
<p class="quoted">
A pattern is a kind of thing. A pattern has a material. A pattern has an area. A pattern has a price. The price of a pattern is usually $9.99. Understand "pattern" as a pattern. Understand "patterns" as the plural of a pattern.
</p>
<p class="quoted">
After printing the name of a pattern:
<br>    if planning:
<br>        do nothing;
<br>    otherwise:
<br>        say " pattern".
</p>
<p class="quoted">
To decide what price is the material price of (chosen item - pattern):
<br>    let C be the cost of the material of the chosen item;
<br>    let A be the area of the chosen item;
<br>    decide on C * A.
</p>
<p class="quoted">
To decide what price is the overall price of (chosen item - pattern):
<br>    let P be the price of the chosen item;
<br>    let M be the material price of the chosen item;
<br>    decide on P + M.
</p>
<p class="quoted">
Understand "plan [material] [pattern]" as planning it for.
</p>
<p class="quoted">
Planning it for is an action applying to one material and one thing.
</p>
<p class="quoted">
Carry out planning it for:
<br>    now the material of the second noun is the material understood.
</p>
<p class="quoted">
Report planning it for:
<br>    say "You lay plans for a [material understood] [second noun], running [material price of the second noun] for materials and [price of the second noun] for the pattern itself, for a total of [overall price of the second noun]."
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
Joanne's Fabrics is a room. Joanne's Fabrics contains a pattern bin.
</p>
<p class="quoted">
The cape is a pattern. The material of the cape is velvet. The area of the cape is 9 sq yards.
</p>
<p class="quoted">
The bodice is a pattern. The material of the bodice is silk. The area of the bodice is 2 sq yards. The price of the bodice is $11.99.
</p>
<p class="quoted">
The cape and the bodice are in the pattern bin.
</p>
<p class="quoted">
Test me with "plan silk bodice / plan velvet bodice / plan velvet cape / plan wool cape".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_15.html#wi-15.20">WI §15.20. Multiplication of units</a><br><a href="rb_9.html#rb-9.4">RB §9.4. Money</a>
</div></details><details class="full-example" id="example-262"><summary><span class="example-summary">262. Nickel and Dimed</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Typically games which keep track of the player's wealth need only do so as an abstract number, but occasionally it becomes useful to represent money as physical coins and bills. Here is an example that does exactly that:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Nickel%20and%20Dimed%22%5Cn%5CnSection%201%20-%20Currency%5Cn%5CnPrice%20is%20a%20kind%20of%20value.%20%2410.99%20specifies%20a%20price%20with%20parts%20dollars%20and%20cents.%20A%20thing%20has%20a%20price.%20The%20price%20of%20a%20thing%20is%20usually%20%240.00.%5Cn%5CnMoney%20is%20a%20kind%20of%20thing.%20Coin%20is%20a%20kind%20of%20money.%5Cn%5CnA%20dollar%20bill%20is%20a%20kind%20of%20money.%20The%20price%20of%20a%20dollar%20bill%20is%20%241.00.%20The%20printed%20name%20of%20a%20dollar%20bill%20is%20%22dollar%20bill%22.%20Rule%20for%20printing%20the%20plural%20name%20of%20a%20dollar%20bill:%20say%20%22dollar%20bills%22.%20The%20description%20of%20a%20dollar%20bill%20is%20%22It%20has%20George%20Washington's%20head%20on%20the%20front,%20which%20with%20a%20bit%20of%20creative%20folding%20can%20be%20scrunched%20to%20look%20like%20a%20mushroom.%20All%20important%20things%20really%20are%20learned%20in%20kindergarten.%22%5Cn%5CnA%20five-dollar%20bill%20is%20a%20kind%20of%20money.%20The%20price%20of%20a%20five-dollar%20bill%20is%20%245.00.%20Understand%20%22five%22%20or%20%22five%20dollar%22%20as%20the%20five-dollar%20bill.%20The%20description%20of%20a%20five-dollar%20bill%20is%20%22Abraham%20Lincoln.%20He%20looks%20slightly%20less%20dignified%20here%20than%20he%20does%20on%20the%20penny.%22%5Cn%5CnA%20hundred-dollar%20bill%20is%20a%20kind%20of%20money.%20The%20price%20of%20the%20hundred-dollar%20bill%20is%20%24100.00.%20Understand%20%22hundred%22%20or%20%22hundred%20dollar%22%20as%20the%20hundred-dollar%20bill.%20Understand%20%22dollar%22%20as%20the%20dollar%20bill.%20The%20description%20of%20a%20hundred-dollar%20bill%20is%20%22It's%20got%20Benjamin%20Franklin,%20who%20always%20gets%20shafted:%20a%20denomination%20too%20large%20for%20anyone%20to%20carry%20conveniently,%20and%20a%20lot%20of%20local%20fame%20in%20Philadelphia.%22%5Cn%5Cn%5BOur%20choice%20of%20understand%20rules%20guarantees%20that%20%22five%20dollar%22%20will%20be%20understood%20as%20the%20five,%20but%20%22dollar%22%20alone%20as%20the%20single.%20We%20will%20learn%20more%20about%20%22understand%22%20in%20later%20chapters,%20but%20here%20is%20a%20test%20to%20check%20the%20functionality:%5D%5Cn%5CnTest%20bills%20with%20%22x%20hundred%20dollar%20bill%20/%20x%20five%20dollar%20bill%20/%20x%20hundred%20/%20x%20five%20/%20x%20dollar%20/%20x%20dollar%20bill%22.%5Cn%5CnA%20quarter%20is%20a%20kind%20of%20coin.%20The%20price%20of%20a%20quarter%20is%20%240.25.%20The%20description%20of%20a%20quarter%20is%20%22One%20of%20the%20old-fashioned%20variety,%20not%20a%20state%20quarter.%22%5Cn%5CnA%20dime%20is%20a%20kind%20of%20coin.%20The%20price%20of%20a%20dime%20is%20%240.10.%20The%20description%20of%20a%20dime%20is%20%22Franklin%20Roosevelt,%20trying%20not%20to%20look%20too%20annoyed%20that%20his%20coin%20is%20so%20small%20and%20thin.%22%5Cn%5CnA%20nickel%20is%20a%20kind%20of%20coin.%20The%20price%20of%20a%20nickel%20is%20%240.05.%20The%20description%20of%20a%20nickel%20is%20%22A%20chubby%20coin,%20but%20you've%20always%20liked%20Thomas%20Jefferson,%20and%20the%20Monticello%20on%20the%20back%20is%20a%20nice%20touch.%22%5Cn%5CnA%20penny%20is%20a%20kind%20of%20coin.%20The%20price%20of%20a%20penny%20is%20%240.01.%20The%20description%20of%20the%20penny%20is%20%22A%20profile%20of%20Abe%20Lincoln.%20Sometime%20soon%20they'll%20stop%20minting%20these,%20you're%20sure%20of%20it.%22%5Cn%5CnSection%202%20-%20Ownership%5Cn%5CnOwnership%20relates%20one%20person%20(called%20the%20owner)%20to%20various%20things.%20The%20verb%20to%20own%20means%20the%20ownership%20relation.%5Cn%5CnDefinition:%20a%20thing%20is%20owned%20if%20the%20player%20owns%20it.%5Cn%5CnInstead%20of%20buying%20something%20which%20is%20owned%20by%20the%20player:%5Cn%5Ctsay%20%22You%20already%20own%20%5Bthe%20noun%5D.%22%5Cn%5CnInstead%20of%20going%20somewhere%20when%20the%20player%20encloses%20something%20(called%20the%20stolen%20goods)%20which%20is%20not%20owned%20by%20the%20player:%5Cn%5Ctif%20the%20owner%20of%20the%20stolen%20goods%20is%20not%20a%20person:%5Cn%5Ct%5Ctnow%20the%20player%20owns%20the%20stolen%20goods;%5Cn%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ctif%20the%20owner%20of%20the%20stolen%20goods%20can%20see%20the%20player,%5Cn%5Ct%5Ctsay%20%22'Hey%20there%20buddy,%20not%20so%20fast,'%20says%20%5Bthe%20owner%20of%20the%20stolen%20goods%5D.%20'You%20going%20to%20buy%20%5Bthe%20stolen%20goods%5D%20first,%20or%20am%20I%20gonna%20call%20the%20cops?'%22;%5Cn%5Ctotherwise%20continue%20the%20action.%5Cn%5CnAfter%20taking%20inventory:%5Cn%5Ctsay%20%22Altogether,%20you've%20got%20%5Bthe%20player's%20cash%5D%20on%20your%20person.%22%5Cn%5CnTo%20decide%20what%20price%20is%20the%20player's%20cash:%5Cn%5Ctlet%20sum%20be%20the%20total%20price%20of%20money%20enclosed%20by%20the%20player;%5Cn%5Ctdecide%20on%20sum.%5Cn%5CnTo%20decide%20what%20price%20is%20the%20sum%20in%20(item%20-%20a%20container):%5Cn%5Ctlet%20sum%20be%20the%20total%20price%20of%20the%20money%20in%20the%20item;%5Cn%5Ctdecide%20on%20sum.%5Cn%5CnWhen%20play%20begins:%20now%20every%20thing%20carried%20by%20the%20player%20is%20owned%20by%20the%20player.%5Cn%5CnSection%203%20-%20Purchasing%20and%20Sales%5Cn%5CnDefinition:%20a%20thing%20is%20worthless%20if%20the%20price%20of%20it%20is%20%240.00.%20Definition:%20a%20thing%20is%20valuable%20if%20it%20is%20not%20worthless.%5Cn%5CnA%20thing%20can%20be%20for%20sale.%5Cn%5CnRule%20for%20printing%20room%20description%20details%20of%20something%20(called%20target)%20which%20is%20for%20sale%20(this%20is%20the%20disclose%20prices%20in%20room%20description%20rule):%20say%20%22%20(%5Bprice%20of%20the%20target%5D)%22.%5Cn%5CnBefore%20listing%20contents:%20group%20money%20together%20giving%20articles.%5Cn%5CnInstead%20of%20examining%20a%20for%20sale%20thing%20(this%20is%20the%20describe%20things%20by%20price%20rule):%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20costs%20%5Bthe%20price%20of%20the%20noun%5D,%20payable%20to%20%5Bthe%20owner%20of%20the%20noun%5D.%22%5Cn%5Cn%5BThe%20cashbox%20is%20a%20theoretical%20construct,%20not%20something%20the%20player%20will%20ever%20encounter%20in%20the%20course%20of%20the%20game.%20It%20contains%20all%20the%20money%20that%20is%20available%20for%20non-player%20characters%20to%20use%20in%20making%20change.%20If%20we%20wanted,%20we%20could%20give%20each%20character%20his%20own%20stash%20of%20change,%20but%20this%20would%20increase%20the%20likelihood%20that%20any%20given%20person%20would%20run%20out%20of%20cash%20to%20make%20change%20with.%20(And%20in%20this%20example%20there%20is%20only%20one%20vendor%20anyway.)%5D%5Cn%5CnThe%20cashbox%20is%20a%20container.%20The%20cashbox%20contains%2010%20pennies.%20The%20cashbox%20contains%2010%20nickels.%20%20The%20cashbox%20contains%2010%20dimes.%20%20The%20cashbox%20contains%2010%20quarters.%20%20The%20cashbox%20contains%2010%20dollar%20bills.%20%20The%20cashbox%20contains%2010%20five-dollar%20bills.%5Cn%5CnThe%20block%20buying%20rule%20is%20not%20listed%20in%20the%20check%20buying%20rules.%5Cn%5CnCheck%20buying%20something:%5Cn%5Ctif%20the%20noun%20is%20not%20for%20sale,%20say%20%22%5BThe%20owner%20of%20the%20noun%5D%20does%20not%20want%20to%20sell%20you%20%5Bthe%20noun%5D.%22%20instead;%5Cn%5Ctif%20the%20player's%20cash%20is%20less%20than%20the%20price%20of%20the%20noun,%20say%20%22You%20can't%20afford%20the%20asking%20price%20of%20%5Bthe%20price%20of%20the%20noun%5D%20for%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20buying%20something:%5Cn%5Ctlet%20sum%20paid%20be%20%240.00;%5Cn%5Ctwhile%20sum%20paid%20is%20less%20than%20the%20price%20of%20the%20noun:%5Cn%5Ct%5Ctlet%20current%20target%20be%20the%20price%20of%20the%20noun%20minus%20the%20sum%20paid;%5Cn%5Ct%5Ctlet%20bill%20offered%20be%20the%20best%20money%20from%20the%20player%20for%20the%20current%20target;%5Cn%5Ct%5Ctif%20the%20bill%20offered%20is%20money:%5Cn%5Ct%5Ct%5Ctmove%20the%20bill%20offered%20to%20the%20owner%20of%20the%20noun;%5Cn%5Ct%5Ct%5Ctnow%20the%20bill%20offered%20is%20spent;%5Cn%5Ct%5Ct%5Ctincrease%20the%20sum%20paid%20by%20the%20price%20of%20the%20bill%20offered;%5Cn%5Ct%5Ct%5Ctlet%20current%20target%20be%20the%20price%20of%20the%20noun%20minus%20the%20sum%20paid;%5Cn%5Ctsay%20%22You%20hand%20%5Bthe%20owner%20of%20the%20noun%5D%20%5Ba%20list%20of%20spent%20money%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctlet%20change%20be%20%240.00;%5Cn%5Ctif%20the%20sum%20paid%20is%20greater%20than%20the%20price%20of%20the%20noun:%5Cn%5Ct%5Ctnow%20the%20change%20is%20the%20sum%20paid%20minus%20the%20price%20of%20the%20noun;%5Cn%5Ctif%20change%20is%20greater%20than%20the%20sum%20in%20the%20cashbox:%5Cn%5Ct%5Ctnow%20the%20player%20carries%20every%20spent%20money;%5Cn%5Ct%5Ctnow%20every%20spent%20thing%20is%20fresh;%5Cn%5Ct%5Ctsay%20%22'Whoa,'%20says%20%5Bthe%20owner%20of%20the%20noun%5D,%20handing%20the%20cash%20back%20to%20you.%20'I%20can't%20make%20change%20for%20that,%20man,%20sorry.'%22%20instead;%5Cn%5Ctnow%20every%20spent%20thing%20is%20in%20the%20cashbox;%5Cn%5Ctnow%20every%20spent%20thing%20is%20fresh;%5Cn%5Ctwhile%20change%20is%20greater%20than%20%240.00:%5Cn%5Ct%5Ctlet%20change%20bill%20be%20the%20best%20money%20from%20the%20cashbox%20for%20change;%5Cn%5Ct%5Ctdecrease%20change%20by%20the%20price%20of%20the%20change%20bill;%5Cn%5Ct%5Ctnow%20change%20bill%20is%20spent;%5Cn%5Ct%5Ctmove%20change%20bill%20to%20player;%5Cn%5Ctif%20money%20is%20spent,%20say%20%22%5BThe%20owner%20of%20the%20noun%5D%20makes%20change%20with%20%5Ba%20list%20of%20spent%20money%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctnow%20every%20spent%20thing%20is%20fresh;%5Cn%5Ctif%20the%20noun%20is%20not%20enclosed%20by%20the%20player%20and%20the%20owner%20of%20the%20noun%20can%20touch%20the%20noun:%5Cn%5Ct%5Ctsay%20%22'Here%20ya%20go,'%20says%20%5Bthe%20owner%20of%20the%20noun%5D,%20handing%20%5Bthe%20noun%5D%20to%20you.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ct%5Ctmove%20the%20noun%20to%20the%20player;%5Cn%5Ctnow%20the%20player%20owns%20the%20noun.%5Cn%5CnMoney%20can%20be%20spent%20or%20fresh.%5Cn%5CnReport%20buying%20something:%5Cn%5Ctif%20the%20player%20owns%20the%20noun,%5Cn%5Ct%5Ctsay%20%22Your%20transaction%20is%20now%20complete,%20leaving%20you%20with%20%5Bthe%20player's%20cash%5D.%22%5Cn%5Cn%5BWe've%20skipped%20over%20defining%20what%20makes%20a%20denomination%20the%20best%20for%20a%20given%20transaction,%20so%20we'd%20better%20do%20that%20now.%20Our%20goal%20is%20to%20avoid%20ever%20having%20the%20player%20gratuitously%20overpay%20--%20he%20should%20always%20offer%20the%20smallest%20amount%20of%20money%20that%20will%20meet%20the%20price%20of%20what%20he's%20buying.%5D%5Cn%5Cn%5BWe%20also%20assume%20that%20all%20money%20%22enclosed%20by%20the%20buyer%22%20--%20that%20is,%20somewhere%20in%20the%20buyer's%20possession%20--%20is%20available%20for%20use.%20This%20might%20not%20be%20true%20in%20a%20game%20where%20the%20player%20could%20pick%20up,%20say,%20a%20sealed%20lucite%20container%20with%20a%20ten-dollar%20bill%20inside;%20in%20that%20case%20we%20would%20have%20to%20define%20our%20terms%20more%20rigorously,%20perhaps%20by%20requiring%20that%20the%20bills%20be%20both%20enclosed%20and%20touchable%20by%20the%20buyer.%20The%20touchability%20check%20adds%20an%20extra%20layer%20of%20calculation,%20however,%20and%20since%20it%20is%20not%20necessary%20in%20this%20example%20(and%20probably%20not%20in%20most%20other%20cases%20either),%20we'll%20leave%20it%20out:%5D%5Cn%5CnDefinition:%20money%20is%20costly%20if%20its%20price%20is%20%242.50%20or%20more.%20Definition:%20money%20is%20cheap%20if%20its%20price%20is%20%240.99%20or%20less.%5Cn%5CnFunctional%20relation%20is%20a%20kind%20of%20value.%20The%20functional%20relations%20are%20overpayment,%20underpayment%20and%20irrelevant.%20Money%20has%20a%20functional%20relation.%5Cn%5CnTo%20decide%20what%20money%20is%20the%20best%20money%20from%20(buyer%20-%20a%20thing)%20for%20(cost%20-%20a%20price):%5Cn%5Ctrepeat%20with%20bill%20offered%20running%20through%20money:%5Cn%5Ct%5Ctif%20the%20bill%20offered%20is%20enclosed%20by%20the%20buyer:%5Cn%5Ct%5Ct%5Ctif%20the%20price%20of%20the%20bill%20offered%20is%20the%20cost,%20decide%20on%20the%20bill%20offered;%5Cn%5Ct%5Ct%5Ctif%20the%20price%20of%20the%20bill%20offered%20is%20greater%20than%20the%20cost,%20now%20the%20functional%20relation%20of%20bill%20offered%20is%20overpayment;%5Cn%5Ct%5Ct%5Ctotherwise%20now%20the%20functional%20relation%20of%20the%20bill%20offered%20is%20underpayment;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctnow%20the%20functional%20relation%20of%20the%20bill%20offered%20is%20irrelevant;%5Cn%5Ct%5Bsay%20%22underpayment:%20%5Ba%20list%20of%20underpayment%20money%5D%5Cn%5Ctoverpayment:%20%5Ba%20list%20of%20overpayment%20money%5D%22;%5D%5Cn%5Ctif%20the%20total%20price%20of%20underpayment%20money%20is%20less%20than%20the%20cost:%5Cn%5Ct%5Ctdecide%20on%20the%20cheapest%20money%20which%20is%20overpayment;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctdecide%20on%20the%20costliest%20money%20which%20is%20underpayment.%5Cn%5Cn%5BNotice%20the%20%22say%20underpayment/overpayment%20section...%22%20noted%20out,%20above.%20This%20is%20for%20debugging%20purposes:%20when%20writing%20complex%20code,%20it%20is%20sometimes%20useful%20to%20put%20in%20lines%20that%20will%20say%20explicitly%20what%20is%20going%20on.%20We%20can%20enclose%20them%20in%20brackets%20and%20Inform%20will%20ignore%20them%20as%20though%20they%20were%20comments;%20if%20we%20run%20into%20any%20problems%20with%20the%20code%20later,%20we%20can%20erase%20the%20brackets%20and%20see%20the%20diagnostic%20printed%20to%20the%20screen%20as%20we%20play.%5D%5Cn%5CnInstead%20of%20giving%20money%20to%20someone:%5Cn%5Ctsay%20%22Best%20to%20keep%20the%20transaction%20simple%20by%20buying%20whatever%20you%20want.%22%5Cn%5CnSection%204%20-%20The%20Scenario%5Cn%5CnThe%20player%20carries%202%20dollar%20bills.%20The%20player%20carries%20a%20nickel.%20The%20player%20carries%202%20pennies.%20The%20player%20carries%20a%20five-dollar%20bill.%20The%20player%20carries%201%20hundred-dollar%20bill.%5Cn%5CnThe%20Subway%20Station%20is%20a%20room.%5Cn%5CnThe%20Bitterly%20Cold%20Street%20is%20north%20of%20the%20Subway%20Station.%20%22Even%20though%20there%20is%20no%20actual%20snow%20or%20ice,%20the%20street%20is%20about%20as%20cold%20as%20you%20can%20stand,%20for%20which%20reason%20walking%20the%20twenty%20blocks%20uptown%20is%20not%20an%20acceptable%20option.%22%20The%20Bitterly%20Cold%20Street%20contains%20a%20dollar%20bill.%5Cn%5CnThe%20newspaper%20man%20is%20a%20man%20in%20the%20Subway%20Station.%20%22A%20newspaper%20man%20in%20a%20knit%20cap%20and%20fingerless%20gloves%20is%20hopping%20up%20and%20down%20behind%20his%20stand%5Bif%20the%20turn%20count%20is%201%5D.%20Cold%20weather,%20caffeine%20overdose,%20or%20mental%20illness?%20You%20may%20never%20know.%20Welcome%20to%20New%20York%5Bend%20if%5D.%22%20The%20description%20is%20%22Eye%20contact%20with%20strangers%20is%20something%20to%20avoid%20around%20here.%22%5Cn%5CnThe%20stand%20is%20a%20supporter%20in%20the%20Station.%20The%20stand%20is%20scenery.%5Cn%5CnA%20copy%20of%20the%20New%20York%20Times%20is%20on%20the%20stand.%20The%20price%20of%20the%20New%20York%20Times%20is%20%241.25.%5Cn%5CnA%20pack%20of%20gum%20is%20on%20the%20stand.%20The%20price%20of%20the%20gum%20is%20%240.40.%5Cn%5CnA%20paperback%20novel%20is%20on%20the%20stand.%20The%20price%20of%20the%20paperback%20novel%20is%20%247.99.%5Cn%5CnA%20packet%20of%20trading%20cards%20is%20on%20the%20stand.%20The%20price%20of%20the%20packet%20is%20%240.99.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20every%20thing%20on%20the%20stand%20is%20owned%20by%20the%20newspaper%20man;%5Cn%5Ctnow%20every%20thing%20on%20the%20stand%20is%20for%20sale.%5Cn%5Cn%5BWe%20could%20have%20done%20all%20that%20by%20hand,%20but%20the%20initialization%20requires%20a%20little%20less%20work.%5D%5Cn%5CnThe%20ticket%20machine%20is%20a%20container%20in%20the%20Subway%20Station.%20It%20is%20fixed%20in%20place.%20The%20description%20of%20the%20ticket%20machine%20is%20%22An%20LED%20screen%20on%20the%20front%20instructs%20you%20to%20insert%20%5Bremaining%20ticket%20total%5D%20to%20complete%20your%20purchase.%20You%20also%20notice%20that%20the%20NO%20CHANGE%20light%20is%20lit%20up.%22%20The%20light%20is%20part%20of%20the%20ticket%20machine.%20The%20printed%20name%20of%20the%20light%20is%20%22no%20change%20light%22.%20Understand%20%22no%20change%22%20or%20%22no%20change%20light%22%20as%20the%20light.%5Cn%5CnThe%20description%20of%20the%20light%20is%20%22In%20the%20whole%20of%20your%20recollection,%20the%20ticket%20machine%20has%20actually%20had%20change%20a%20total%20of%20twice.%20Usually,%20as%20now,%20the%20no-change%20light%20gleams%20angrily,%20daring%20you%20to%20put%20in%20more%20than%20you%20owe.%22%20A%20cash%20return%20button%20is%20part%20of%20the%20ticket%20machine.%20Instead%20of%20pushing%20the%20cash%20return%20button:%20say%20%22The%20ticket%20machine%20regurgitates%20%5Bthe%20list%20of%20things%20in%20the%20ticket%20machine%5D.%22;%20now%20every%20thing%20in%20the%20ticket%20machine%20is%20carried%20by%20the%20player.%20Instead%20of%20taking%20something%20which%20is%20in%20the%20ticket%20machine:%20say%20%22The%20ticket%20machine%20has%20swallowed%20your%20money,%20but%20it%20can%20be%20retrieved%20(you%20hope)%20with%20the%20cash%20return%20button.%22%5Cn%5CnInstead%20of%20inserting%20a%20hundred-dollar%20bill%20into%20the%20ticket%20machine:%5Cn%5Ctsay%20%22What,%20are%20you%20nuts?%22%5Cn%5CnTo%20decide%20what%20price%20is%20the%20remaining%20ticket%20total:%5Cn%5Ctlet%20absolute%20cost%20be%20%242.25;%5Cn%5Ctlet%20remaining%20cost%20be%20absolute%20cost%20minus%20the%20total%20price%20of%20things%20in%20the%20ticket%20machine;%5Cn%5Ctif%20remaining%20cost%20is%20less%20than%20%240.00,%20decide%20on%20%240.00;%5Cn%5Ctdecide%20on%20remaining%20cost.%5Cn%5CnInstead%20of%20inserting%20something%20which%20is%20not%20money%20into%20the%20ticket%20machine:%20say%20%22The%20ticket%20machine%20only%20accepts%20money,%20not%20other%20tokens%20of%20your%20esteem%20and%20regard.%22%5Cn%5CnInstead%20of%20inserting%20a%20penny%20into%20the%20ticket%20machine:%5Cn%5Ctsay%20%22The%20penny%20rattles%20out%20again%20mockingly:%20not%20even%20the%20ticket%20machine%20thinks%20these%20are%20worth%20anything.%22%5Cn%5CnA%20subway%20pass%20is%20a%20kind%20of%20thing.%2015%20subway%20passes%20are%20in%20the%20cashbox.%20The%20description%20of%20a%20subway%20pass%20is%20usually%20%22A%20rectangle%20of%20thick%20lavender%20paper%20with%20a%20black%20magnetic%20stripe%20running%20up%20the%20back%20side.%20It%20is%20good%20for%20one%20trip%20on%20the%20subway.%22%5Cn%5CnAfter%20inserting%20something%20into%20the%20ticket%20machine:%5Cn%5Ctif%20the%20remaining%20ticket%20total%20is%20%240.00:%5Cn%5Ct%5Ctlet%20purchased%20ticket%20be%20a%20random%20subway%20pass%20in%20the%20cashbox;%5Cn%5Ct%5Ctif%20purchased%20ticket%20is%20not%20a%20subway%20pass,%20say%20%22The%20ticket%20machine%20grunts%20disobligingly%20and%20then%20the%20unwelcome%20word%20MALFUNCTION%20parades%20across%20the%20LED%20screen,%20three%20letters%20at%20a%20time.%22%20instead;%5Cn%5Ct%5Ctrepeat%20with%20item%20running%20through%20things%20in%20the%20machine:%5Cn%5Ct%5Ct%5Ctnow%20the%20item%20is%20nowhere;%5Cn%5Ct%5Ctmove%20purchased%20ticket%20to%20player;%5Cn%5Ct%5Ctsay%20%22The%20ticket%20machine%20beeps%20obligingly%20and%20disgorges%20a%20single%20subway%20pass.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22The%20ticket%20machine%20beeps%20obligingly%20and%20adjusts%20its%20price%20down%20to%20%5Bremaining%20ticket%20total%5D.%22%5Cn%5Cn%5BAnd%20because%20even%20though%20the%20ticket%20machine%20is%20a%20container,%20we%20don't%20want%20to%20say%20(empty)%20after%20it%20in%20the%20room%20description:%5D%5Cn%5CnRule%20for%20printing%20room%20description%20details%20of%20the%20ticket%20machine:%5Cn%5Ctdo%20nothing%20instead.%5Cn%5CnTest%20me%20with%20%22buy%20novel%20/%20n%20/%20get%20dollar%20/%20s%20/%20buy%20novel%22.%5Cn%5Cn%5BAfter%20all%20that,%20we%20should%20probably%20give%20the%20player%20a%20chance%20to%20win,%20as%20well:%5D%5Cn%5CnThe%20turnstile%20is%20south%20of%20the%20Subway%20Station.%20%22A%20turnstile%20is%20all%20that%20separates%20you%20from%20the%20subway%20platform%20stairs.%22%20The%20turnstile%20is%20north%20of%20the%20Platform.%20The%20turnstile%20is%20a%20door.%20Before%20going%20down%20in%20the%20presence%20of%20the%20turnstile,%20try%20going%20south%20instead.%20The%20turnstile%20is%20openable.%20The%20turnstile%20is%20open.%5Cn%5CnInstead%20of%20going%20through%20the%20turnstile%20when%20the%20player%20carries%20a%20subway%20pass:%20say%20%22You%20enter%20the%20turnstile%20and%20begin%20your%20journey%20uptown...%22;%20end%20the%20story%20finally%20saying%20%22At%20last%22.%20Instead%20of%20going%20through%20the%20turnstile:%20say%20%22You%20can't%20go%20through%20the%20turnstile%20without%20a%20subway%20pass.%20They're%20very%20strict%20about%20this.%22%5Cn%5CnInstead%20of%20inserting%20money%20into%20the%20turnstile:%20say%20%22The%20turnstile%20takes%20passes,%20not%20money.%22%20Instead%20of%20inserting%20a%20subway%20pass%20into%20the%20turnstile,%20try%20entering%20the%20turnstile.%5Cn%5CnTest%20more%20with%20%22buy%20times%20/%20put%20all%20but%20five-dollar%20bill%20in%20machine%20/%20press%20button%20/%20buy%20gum%20/%20buy%20cards%20/%20i%20/%20put%20dollar%20in%20machine%20/%20g%20/%20put%20quarter%20in%20machine%20/%20i%20/%20d%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Nickel and Dimed"
</p>
<p class="quoted">
Section 1 - Currency
</p>
<p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents. A thing has a price. The price of a thing is usually $0.00.
</p>
<p class="quoted">
Money is a kind of thing. Coin is a kind of money.
</p>
<p class="quoted">
A dollar bill is a kind of money. The price of a dollar bill is $1.00. The printed name of a dollar bill is "dollar bill". Rule for printing the plural name of a dollar bill: say "dollar bills". The description of a dollar bill is "It has George Washington's head on the front, which with a bit of creative folding can be scrunched to look like a mushroom. All important things really are learned in kindergarten."
</p>
<p class="quoted">
A five-dollar bill is a kind of money. The price of a five-dollar bill is $5.00. Understand "five" or "five dollar" as the five-dollar bill. The description of a five-dollar bill is "Abraham Lincoln. He looks slightly less dignified here than he does on the penny."
</p>
<p class="quoted">
A hundred-dollar bill is a kind of money. The price of the hundred-dollar bill is $100.00. Understand "hundred" or "hundred dollar" as the hundred-dollar bill. Understand "dollar" as the dollar bill. The description of a hundred-dollar bill is "It's got Benjamin Franklin, who always gets shafted: a denomination too large for anyone to carry conveniently, and a lot of local fame in Philadelphia."
</p>
</div>
<p>Our choice of understand rules guarantees that "five dollar" will be understood as the five, but "dollar" alone as the single. We will learn more about "understand" in later chapters, but here is a test to check the functionality:</p>

<div class="code">
<p class="quoted">
Test bills with "x hundred dollar bill / x five dollar bill / x hundred / x five / x dollar / x dollar bill".
</p>
<p class="quoted">
A quarter is a kind of coin. The price of a quarter is $0.25. The description of a quarter is "One of the old-fashioned variety, not a state quarter."
</p>
<p class="quoted">
A dime is a kind of coin. The price of a dime is $0.10. The description of a dime is "Franklin Roosevelt, trying not to look too annoyed that his coin is so small and thin."
</p>
<p class="quoted">
A nickel is a kind of coin. The price of a nickel is $0.05. The description of a nickel is "A chubby coin, but you've always liked Thomas Jefferson, and the Monticello on the back is a nice touch."
</p>
<p class="quoted">
A penny is a kind of coin. The price of a penny is $0.01. The description of the penny is "A profile of Abe Lincoln. Sometime soon they'll stop minting these, you're sure of it."
</p>
<p class="quoted">
Section 2 - Ownership
</p>
<p class="quoted">
Ownership relates one person (called the owner) to various things. The verb to own means the ownership relation.
</p>
<p class="quoted">
Definition: a thing is owned if the player owns it.
</p>
<p class="quoted">
Instead of buying something which is owned by the player:
<br>    say "You already own [the noun]."
</p>
<p class="quoted">
Instead of going somewhere when the player encloses something (called the stolen goods) which is not owned by the player:
<br>    if the owner of the stolen goods is not a person:
<br>        now the player owns the stolen goods;
<br>        continue the action;
<br>    if the owner of the stolen goods can see the player,
<br>        say "'Hey there buddy, not so fast,' says [the owner of the stolen goods]. 'You going to buy [the stolen goods] first, or am I gonna call the cops?'";
<br>    otherwise continue the action.
</p>
<p class="quoted">
After taking inventory:
<br>    say "Altogether, you've got [the player's cash] on your person."
</p>
<p class="quoted">
To decide what price is the player's cash:
<br>    let sum be the total price of money enclosed by the player;
<br>    decide on sum.
</p>
<p class="quoted">
To decide what price is the sum in (item - a container):
<br>    let sum be the total price of the money in the item;
<br>    decide on sum.
</p>
<p class="quoted">
When play begins: now every thing carried by the player is owned by the player.
</p>
<p class="quoted">
Section 3 - Purchasing and Sales
</p>
<p class="quoted">
Definition: a thing is worthless if the price of it is $0.00. Definition: a thing is valuable if it is not worthless.
</p>
<p class="quoted">
A thing can be for sale.
</p>
<p class="quoted">
Rule for printing room description details of something (called target) which is for sale (this is the disclose prices in room description rule): say " ([price of the target])".
</p>
<p class="quoted">
Before listing contents: group money together giving articles.
</p>
<p class="quoted">
Instead of examining a for sale thing (this is the describe things by price rule):
<br>    say "[The noun] costs [the price of the noun], payable to [the owner of the noun]."
</p>
</div>
<p>The cashbox is a theoretical construct, not something the player will ever encounter in the course of the game. It contains all the money that is available for non-player characters to use in making change. If we wanted, we could give each character his own stash of change, but this would increase the likelihood that any given person would run out of cash to make change with. (And in this example there is only one vendor anyway.)</p>

<div class="code">
<p class="quoted">
The cashbox is a container. The cashbox contains 10 pennies. The cashbox contains 10 nickels.  The cashbox contains 10 dimes.  The cashbox contains 10 quarters.  The cashbox contains 10 dollar bills.  The cashbox contains 10 five-dollar bills.
</p>
<p class="quoted">
The block buying rule is not listed in the check buying rules.
</p>
<p class="quoted">
Check buying something:
<br>    if the noun is not for sale, say "[The owner of the noun] does not want to sell you [the noun]." instead;
<br>    if the player's cash is less than the price of the noun, say "You can't afford the asking price of [the price of the noun] for [the noun]." instead.
</p>
<p class="quoted">
Carry out buying something:
<br>    let sum paid be $0.00;
<br>    while sum paid is less than the price of the noun:
<br>        let current target be the price of the noun minus the sum paid;
<br>        let bill offered be the best money from the player for the current target;
<br>        if the bill offered is money:
<br>            move the bill offered to the owner of the noun;
<br>            now the bill offered is spent;
<br>            increase the sum paid by the price of the bill offered;
<br>            let current target be the price of the noun minus the sum paid;
<br>    say "You hand [the owner of the noun] [a list of spent money]. [run paragraph on]";
<br>    let change be $0.00;
<br>    if the sum paid is greater than the price of the noun:
<br>        now the change is the sum paid minus the price of the noun;
<br>    if change is greater than the sum in the cashbox:
<br>        now the player carries every spent money;
<br>        now every spent thing is fresh;
<br>        say "'Whoa,' says [the owner of the noun], handing the cash back to you. 'I can't make change for that, man, sorry.'" instead;
<br>    now every spent thing is in the cashbox;
<br>    now every spent thing is fresh;
<br>    while change is greater than $0.00:
<br>        let change bill be the best money from the cashbox for change;
<br>        decrease change by the price of the change bill;
<br>        now change bill is spent;
<br>        move change bill to player;
<br>    if money is spent, say "[The owner of the noun] makes change with [a list of spent money]. [run paragraph on]";
<br>    now every spent thing is fresh;
<br>    if the noun is not enclosed by the player and the owner of the noun can touch the noun:
<br>        say "'Here ya go,' says [the owner of the noun], handing [the noun] to you. [run paragraph on]";
<br>        move the noun to the player;
<br>    now the player owns the noun.
</p>
<p class="quoted">
Money can be spent or fresh.
</p>
<p class="quoted">
Report buying something:
<br>    if the player owns the noun,
<br>        say "Your transaction is now complete, leaving you with [the player's cash]."
</p>
</div>
<p>We've skipped over defining what makes a denomination the best for a given transaction, so we'd better do that now. Our goal is to avoid ever having the player gratuitously overpay -- he should always offer the smallest amount of money that will meet the price of what he's buying.</p>
<p>We also assume that all money "enclosed by the buyer" -- that is, somewhere in the buyer's possession -- is available for use. This might not be true in a game where the player could pick up, say, a sealed lucite container with a ten-dollar bill inside; in that case we would have to define our terms more rigorously, perhaps by requiring that the bills be both enclosed and touchable by the buyer. The touchability check adds an extra layer of calculation, however, and since it is not necessary in this example (and probably not in most other cases either), we'll leave it out:</p>

<div class="code">
<p class="quoted">
Definition: money is costly if its price is $2.50 or more. Definition: money is cheap if its price is $0.99 or less.
</p>
<p class="quoted">
Functional relation is a kind of value. The functional relations are overpayment, underpayment and irrelevant. Money has a functional relation.
</p>
<p class="quoted">
To decide what money is the best money from (buyer - a thing) for (cost - a price):
<br>    repeat with bill offered running through money:
<br>        if the bill offered is enclosed by the buyer:
<br>            if the price of the bill offered is the cost, decide on the bill offered;
<br>            if the price of the bill offered is greater than the cost, now the functional relation of bill offered is overpayment;
<br>            otherwise now the functional relation of the bill offered is underpayment;
<br>        otherwise:
<br>            now the functional relation of the bill offered is irrelevant;
<br>    [say "underpayment: [a list of underpayment money]
<br>    overpayment: [a list of overpayment money]";]
<br>    if the total price of underpayment money is less than the cost:
<br>        decide on the cheapest money which is overpayment;
<br>    otherwise:
<br>        decide on the costliest money which is underpayment.
</p>
</div>
<p>Notice the "say underpayment/overpayment section..." noted out, above. This is for debugging purposes: when writing complex code, it is sometimes useful to put in lines that will say explicitly what is going on. We can enclose them in brackets and Inform will ignore them as though they were comments; if we run into any problems with the code later, we can erase the brackets and see the diagnostic printed to the screen as we play.</p>

<div class="code">
<p class="quoted">
Instead of giving money to someone:
<br>    say "Best to keep the transaction simple by buying whatever you want."
</p>
<p class="quoted">
Section 4 - The Scenario
</p>
<p class="quoted">
The player carries 2 dollar bills. The player carries a nickel. The player carries 2 pennies. The player carries a five-dollar bill. The player carries 1 hundred-dollar bill.
</p>
<p class="quoted">
The Subway Station is a room.
</p>
<p class="quoted">
The Bitterly Cold Street is north of the Subway Station. "Even though there is no actual snow or ice, the street is about as cold as you can stand, for which reason walking the twenty blocks uptown is not an acceptable option." The Bitterly Cold Street contains a dollar bill.
</p>
<p class="quoted">
The newspaper man is a man in the Subway Station. "A newspaper man in a knit cap and fingerless gloves is hopping up and down behind his stand[if the turn count is 1]. Cold weather, caffeine overdose, or mental illness? You may never know. Welcome to New York[end if]." The description is "Eye contact with strangers is something to avoid around here."
</p>
<p class="quoted">
The stand is a supporter in the Station. The stand is scenery.
</p>
<p class="quoted">
A copy of the New York Times is on the stand. The price of the New York Times is $1.25.
</p>
<p class="quoted">
A pack of gum is on the stand. The price of the gum is $0.40.
</p>
<p class="quoted">
A paperback novel is on the stand. The price of the paperback novel is $7.99.
</p>
<p class="quoted">
A packet of trading cards is on the stand. The price of the packet is $0.99.
</p>
<p class="quoted">
When play begins:
<br>    now every thing on the stand is owned by the newspaper man;
<br>    now every thing on the stand is for sale.
</p>
</div>
<p>We could have done all that by hand, but the initialization requires a little less work.</p>

<div class="code">
<p class="quoted">
The ticket machine is a container in the Subway Station. It is fixed in place. The description of the ticket machine is "An LED screen on the front instructs you to insert [remaining ticket total] to complete your purchase. You also notice that the NO CHANGE light is lit up." The light is part of the ticket machine. The printed name of the light is "no change light". Understand "no change" or "no change light" as the light.
</p>
<p class="quoted">
The description of the light is "In the whole of your recollection, the ticket machine has actually had change a total of twice. Usually, as now, the no-change light gleams angrily, daring you to put in more than you owe." A cash return button is part of the ticket machine. Instead of pushing the cash return button: say "The ticket machine regurgitates [the list of things in the ticket machine]."; now every thing in the ticket machine is carried by the player. Instead of taking something which is in the ticket machine: say "The ticket machine has swallowed your money, but it can be retrieved (you hope) with the cash return button."
</p>
<p class="quoted">
Instead of inserting a hundred-dollar bill into the ticket machine:
<br>    say "What, are you nuts?"
</p>
<p class="quoted">
To decide what price is the remaining ticket total:
<br>    let absolute cost be $2.25;
<br>    let remaining cost be absolute cost minus the total price of things in the ticket machine;
<br>    if remaining cost is less than $0.00, decide on $0.00;
<br>    decide on remaining cost.
</p>
<p class="quoted">
Instead of inserting something which is not money into the ticket machine: say "The ticket machine only accepts money, not other tokens of your esteem and regard."
</p>
<p class="quoted">
Instead of inserting a penny into the ticket machine:
<br>    say "The penny rattles out again mockingly: not even the ticket machine thinks these are worth anything."
</p>
<p class="quoted">
A subway pass is a kind of thing. 15 subway passes are in the cashbox. The description of a subway pass is usually "A rectangle of thick lavender paper with a black magnetic stripe running up the back side. It is good for one trip on the subway."
</p>
<p class="quoted">
After inserting something into the ticket machine:
<br>    if the remaining ticket total is $0.00:
<br>        let purchased ticket be a random subway pass in the cashbox;
<br>        if purchased ticket is not a subway pass, say "The ticket machine grunts disobligingly and then the unwelcome word MALFUNCTION parades across the LED screen, three letters at a time." instead;
<br>        repeat with item running through things in the machine:
<br>            now the item is nowhere;
<br>        move purchased ticket to player;
<br>        say "The ticket machine beeps obligingly and disgorges a single subway pass.";
<br>    otherwise:
<br>        say "The ticket machine beeps obligingly and adjusts its price down to [remaining ticket total]."
</p>
</div>
<p>And because even though the ticket machine is a container, we don't want to say (empty) after it in the room description:</p>

<div class="code">
<p class="quoted">
Rule for printing room description details of the ticket machine:
<br>    do nothing instead.
</p>
<p class="quoted">
Test me with "buy novel / n / get dollar / s / buy novel".
</p>
</div>
<p>After all that, we should probably give the player a chance to win, as well:</p>

<div class="code">
<p class="quoted">
The turnstile is south of the Subway Station. "A turnstile is all that separates you from the subway platform stairs." The turnstile is north of the Platform. The turnstile is a door. Before going down in the presence of the turnstile, try going south instead. The turnstile is openable. The turnstile is open.
</p>
<p class="quoted">
Instead of going through the turnstile when the player carries a subway pass: say "You enter the turnstile and begin your journey uptown..."; end the story finally saying "At last". Instead of going through the turnstile: say "You can't go through the turnstile without a subway pass. They're very strict about this."
</p>
<p class="quoted">
Instead of inserting money into the turnstile: say "The turnstile takes passes, not money." Instead of inserting a subway pass into the turnstile, try entering the turnstile.
</p>
<p class="quoted">
Test more with "buy times / put all but five-dollar bill in machine / press button / buy gum / buy cards / i / put dollar in machine / g / put quarter in machine / i / d".
</p>
</div>
<p>In fairness to the Metropolitan Transit Authority, we should admit that most of the ticketing machines in the real New York subway are better than this, and will accept, say, a debit card. But that would be so much less exciting to implement.</p>
</div>
<div class="linkback">
<a href="wi_15.html#wi-15.17">WI §15.17. Totals</a><br><a href="rb_9.html#rb-9.4">RB §9.4. Money</a>
</div></details><details class="full-example" id="example-283"><summary><span class="example-summary">283. Introduction to Juggling</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we have a whole catalog-full of equipment that the player might want to purchase and use. We'll start by defining our purchasing rules:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60%22Introduction%20to%20Juggling%22%5Cn%5Cn%5BWe%20allow%20things%20to%20have%20prices,%20and%20the%20player's%20price%20to%20indicate%20how%20much%20money%20the%20player%20has:%5D%5Cn%5CnSection%201%20-%20Mail-ordering%20defined%5Cn%5CnPrice%20is%20a%20kind%20of%20value.%20%24100.99%20specifies%20a%20price.%5Cn%5CnThe%20player%20has%20a%20price.%20The%20price%20of%20the%20player%20is%20%2460.00.%5Cn%5Cn%5BBecause%20we're%20allowing%20the%20player%20to%20order%20things%20that%20he%20can't%20currently%20see,%20we%20need%20to%20borrow%20a%20special%20kind%20of%20grammar%20from%20the%20Understanding%20chapter.%20All%20our%20orderable%20items%20in%20this%20example%20are%20toys,%20so%20%22any%20toy%22%20means%20any%20object%20of%20the%20toy%20kind,%20whether%20or%20not%20it%20is%20in%20view%20at%20the%20moment:%5D%5Cn%5CnUnderstand%20%22buy%20%5Bany%20toy%5D%22%20as%20ordering.%20Understand%20the%20command%20%22order%22%20as%20something%20new.%20Understand%20the%20command%20%22order%22%20as%20%22buy%22.%5Cn%5CnOrdering%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCheck%20ordering:%5Cn%5Ctif%20the%20cost%20of%20the%20noun%20is%20greater%20than%20the%20price%20of%20the%20player,%20say%20%22You%20only%20have%20%5Bprice%20of%20the%20player%5D,%20while%20%5Bthe%20noun%5D%20would%20cost%20%5Bcost%20of%20the%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20ordering:%5Cn%5Ctmove%20the%20noun%20to%20the%20player;%5Cn%5Ctdecrease%20the%20price%20of%20the%20player%20by%20the%20cost%20of%20the%20noun.%5Cn%5CnReport%20ordering:%5Cn%5Ctsay%20%22You%20order%20%5Ba%20noun%5D,%20which%20is%20delivered%20instantly.%22%5Cn%5Cn%5BWe%20should%20also%20handle%20the%20situation%20where%20the%20player%20orders%20another%20of%20something%20he%20has%20already%20bought%20and%20which%20is%20right%20in%20front%20of%20him:%5D%5Cn%5CnInstead%20of%20buying%20something:%5Cn%5Ctsay%20%22You%20already%20have%20%5Ba%20noun%5D.%22%5Cn%5Cn%5BSo%20much%20for%20the%20general%20rules%20for%20this%20scenario.%20Now%20we%20move%20on%20to%20particulars:%20the%20actual%20items%20the%20player%20is%20allowed%20to%20order.%20Each%20item%20will%20have%20a%20description,%20a%20price,%20and%20a%20difficulty%20representing%20how%20skilled%20the%20player%20must%20be%20in%20order%20to%20make%20use%20of%20that%20item.%5D%5Cn%5Cn%5BSince%20we%20are%20going%20to%20use%20price%20and%20difficulty%20in%20the%20table%20that%20defines%20our%20juggling%20equipment,%20we%20need%20to%20mention%20these%20kinds%20of%20value%20before%20the%20line%20that%20says%20how%20toys%20are%20defined.%5D%5Cn%5CnSection%202%20-%20The%20Scenario%5Cn%5CnDifficulty%20is%20a%20kind%20of%20value.%20The%20difficulties%20are%20easy,%20moderate,%20hard.%20The%20player%20has%20a%20difficulty.%20The%20difficulty%20of%20the%20player%20is%20easy.%5Cn%5CnThe%20plural%20of%20toy%20is%20toys.%20A%20toy%20is%20a%20kind%20of%20thing.%20Some%20toys%20are%20defined%20by%20the%20Table%20of%20Juggling%20Equipment.%5Cn%5CnTable%20of%20Juggling%20Equipment%5Cntoy%5Ctcost%5Ctrestriction%5Ctdescription%5Ctdifficulty%5Ctoutcome%5Cnan%20economy%20bounce%20ball%20set%5Ct%2410.00%5Ct%22comes%20in%20set%20of%20three%22%5Ct%22A%20fairly%20ordinary%20rubber%20ball,%20solid%20color.%22%5Ctmoderate%5Ct%22You%20create%20of%20the%20balls%20a%20cascade%20of%20moving%20color.%22%5Cnan%20acrylic%20contact%20ball%5Ct%2414.00%5Ct%22should%20be%20bought%20with%20ball%20polish%22%5Ct%22A%20large%20clear%20ball,%20not%20for%20throwing%20but%20for%20using%20in%20various%20hand%20tricks.%22%5Cthard%5Ct%22You%20rotate%20the%20ball%20between%20your%20fingers%20and%20pass%20it%20over%20the%20backs%20of%20your%20hands.%22%5Cna%20UV-reactive%20contact%20ball%5Ct%2455.00%5Ct%22appears%20to%20glow%20in%20dark%20rooms%22%5Ct%22Similar%20to%20the%20ordinary%20acrylic%20contact%20ball,%20but%20UV-reactive.%22%5Cthard%5Ct%22The%20ball%20glows%20as%20it%20passes%20between%20your%20fingers%20and%20over%20the%20backs%20of%20your%20hands,%20rolls%20up%20to%20your%20wrist,%20snaps%20through%20the%20air--%20all%20apparently%20of%20its%20own%20accord.%22%5Cna%20ball%20polish%20set%5Ct%2410.00%5Ct%22useful%20only%20with%20acrylic%20contact%20balls%22%5Ct%22Three%20bottles%20of%20polish%20and%20a%20rag%20for%20keeping%20acrylic%20contact%20balls%20scratch-free.%22%5Cthard%5Ct%22You%20juggle%20the%20polish%20bottles%20with%20difficulty,%20since%20they%20are%20full%20of%20sloshing%20liquid.%22%5Cna%20teaching%20beanbag%20set%5Ct%248.00%5Ct%22set%20of%20three%22%5Ct%22Soft,%20easily-juggled%20bag.%22%5Cteasy%5Ct%22You%20juggle%20the%20beanbags%20with%20basic%20competence.%22%5Cna%20stage%20ball%20set%5Ct%2413.50%5Ct%22comes%20in%20set%20of%20three%22%5Ct%22Not%20much%20different%20in%20appearance%20from%20the%20economy%20bounce%20ball,%20but%20larger%20so%20as%20to%20be%20visible%20from%20a%20stage.%22%5Ctmoderate%5Ct%22You%20create%20of%20the%20balls%20a%20cascade%20of%20moving%20color,%20visible%20from%20quite%20a%20distance.%22%5Cna%20fireball%20set%5Ct%2433.00%5Ct%22will%20not%20be%20sold%20to%20minors%22%5Ct%22A%20ball%20has%20wicking%20and%20a%20fuel-source%20inside%20so%20that%20it%20will%20burn%20while%20being%20juggled.%22%5Cthard%5Ct%22You%20juggle%20the%20fireballs%20rapidly,%20careful%20never%20to%20hold%20any%20of%20them%20a%20moment%20longer%20than%20necessary.%22%5Cn%5Cn%5BNotice%20that%20we%20are%20allowed%20to%20define%20%22description%22%20and%20other%20already-known%20properties%20in%20the%20table%20as%20well.%5D%5Cn%5CnBackstage%20is%20a%20room.%20%22A%20muffled%20black%20room%20with%20felt%20on%20the%20floors%20and%20walls.%20A%20glowing%20sign%20over%20the%20stage%20door%20says%20SHOW%20IN%20PROGRESS.%22%5Cn%5CnThe%20Juggling%20Equipment%20Catalog%20is%20a%20thing%20in%20Backstage.%5Cn%5CnInstead%20of%20examining%20the%20Catalog:%5Cn%5Ctsay%20%22You%20read%20through%20the%20offerings,%20including:%20%5Bparagraph%20break%5D%22;%5Cn%5Ctrepeat%20through%20Table%20of%20Juggling%20Equipment:%5Cn%5Ct%5Ctsay%20%22%5Bbold%20type%5D%5Btoy%20entry%5D%5Broman%20type%5D:%20%5Bdescription%20entry%5D%20%5Bcost%20entry%5D,%20%5Brestriction%20entry%5D.%20%5Bparagraph%20break%5D%22.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20right%20hand%20status%20line%20is%20%22Budget:%20%5Bprice%20of%20the%20player%5D%22;%5Cn%5Ctnow%20left%20hand%20status%20line%20is%20%22%5Blocation%5D,%20feeling%20%5Bif%20the%20difficulty%20of%20player%20is%20easy%5Dincompetent%5Bend%20if%5D%5Bif%20the%20difficulty%20of%20player%20is%20moderate%5Dmoderately%20skilled%5Bend%20if%5D%5Bif%20the%20difficulty%20of%20player%20is%20hard%5Dhighly%20skilled%5Bend%20if%5D%22.%5Cn%5Cn%5BAnd%20of%20course%20this%20will%20be%20no%20fun%20unless%20the%20player%20is%20allowed%20to%20use%20the%20equipment:%5D%5Cn%5CnUnderstand%20%22juggle%20%5Bsomething%5D%22%20as%20juggling.%5Cn%5CnJuggling%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20juggling:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20toy%20listed%20in%20the%20Table%20of%20Juggling%20Equipment,%20say%20%22You%20can't%20juggle%20%5Ba%20noun%5D!%22%20instead;%5Cn%5Ctif%20the%20difficulty%20of%20the%20noun%20is%20greater%20than%20the%20difficulty%20of%20the%20player,%20say%20%22You're%20not%20quite%20ready%20to%20juggle%20something%20like%20%5Bthe%20noun%5D.%20Better%20to%20start%20with%20an%20easier%20toy.%22%20instead.%5Cn%5CnCarry%20out%20juggling:%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%203%20succeeds:%5Cn%5Ct%5Ctif%20the%20difficulty%20of%20the%20player%20is%20less%20than%20hard%20and%20the%20difficulty%20of%20the%20player%20is%20the%20difficulty%20of%20the%20noun:%5Cn%5Ct%5Ct%5Ctnow%20the%20difficulty%20of%20the%20player%20is%20the%20difficulty%20after%20the%20difficulty%20of%20the%20player.%5Cn%5CnReport%20juggling:%5Cn%5Ctsay%20%22%5Boutcome%20of%20the%20noun%5D%5Bparagraph%20break%5D%22.%5Cn%5CnInstead%20of%20burning%20the%20fireball%20set:%5Cn%5Ctsay%20%22It%20will%20flame%20by%20itself%20when%20you%20use%20it.%22%5Cn%5CnTest%20me%20with%20%22read%20catalog%20/%20buy%20economy%20/%20buy%20beanbag%20/%20juggle%20economy%20/%20juggle%20beanbag%20/%20juggle%20beanbag%20/%20juggle%20beanbag%20/%20juggle%20beanbag%20/%20juggle%20beanbag%20/%20juggle%20beanbag%20/%20juggle%20economy%20/%20juggle%20economy%20/%20juggle%20economy%20/%20buy%20fireball%20set%20/%20juggle%20fireball%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Introduction to Juggling"
</p></div>
<p>We allow things to have prices, and the player's price to indicate how much money the player has:</p>

<div class="code">
<p class="quoted">
Section 1 - Mail-ordering defined
</p>
<p class="quoted">
Price is a kind of value. $100.99 specifies a price.
</p>
<p class="quoted">
The player has a price. The price of the player is $60.00.
</p>
</div>
<p>Because we're allowing the player to order things that he can't currently see, we need to borrow a special kind of grammar from the Understanding chapter. All our orderable items in this example are toys, so "any toy" means any object of the toy kind, whether or not it is in view at the moment:</p>

<div class="code">
<p class="quoted">
Understand "buy [any toy]" as ordering. Understand the command "order" as something new. Understand the command "order" as "buy".
</p>
<p class="quoted">
Ordering is an action applying to one visible thing.
</p>
<p class="quoted">
Check ordering:
<br>    if the cost of the noun is greater than the price of the player, say "You only have [price of the player], while [the noun] would cost [cost of the noun]." instead.
</p>
<p class="quoted">
Carry out ordering:
<br>    move the noun to the player;
<br>    decrease the price of the player by the cost of the noun.
</p>
<p class="quoted">
Report ordering:
<br>    say "You order [a noun], which is delivered instantly."
</p>
</div>
<p>We should also handle the situation where the player orders another of something he has already bought and which is right in front of him:</p>

<div class="code"><p class="quoted">
Instead of buying something:
<br>    say "You already have [a noun]."
</p></div>
<p>So much for the general rules for this scenario. Now we move on to particulars: the actual items the player is allowed to order. Each item will have a description, a price, and a difficulty representing how skilled the player must be in order to make use of that item.</p>
<p>Since we are going to use price and difficulty in the table that defines our juggling equipment, we need to mention these kinds of value before the line that says how toys are defined.</p>

<div class="code">
<p class="quoted">
Section 2 - The Scenario
</p>
<p class="quoted">
Difficulty is a kind of value. The difficulties are easy, moderate, hard. The player has a difficulty. The difficulty of the player is easy.
</p>
<p class="quoted">
The plural of toy is toys. A toy is a kind of thing. Some toys are defined by the Table of Juggling Equipment.
</p>
<p class="quoted">
Table of Juggling Equipment
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">toy</p></td>
<td class="quotedtablecell"><p class="quoted">cost</p></td>
<td class="quotedtablecell"><p class="quoted">restriction</p></td>
<td class="quotedtablecell"><p class="quoted">description</p></td>
<td class="quotedtablecell"><p class="quoted">difficulty</p></td>
<td class="quotedtablecell"><p class="quoted">outcome</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">an economy bounce ball set</p></td>
<td class="quotedtablecell"><p class="quoted">$10.00</p></td>
<td class="quotedtablecell"><p class="quoted">"comes in set of three"</p></td>
<td class="quotedtablecell"><p class="quoted">"A fairly ordinary rubber ball, solid color."</p></td>
<td class="quotedtablecell"><p class="quoted">moderate</p></td>
<td class="quotedtablecell"><p class="quoted">"You create of the balls a cascade of moving color."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">an acrylic contact ball</p></td>
<td class="quotedtablecell"><p class="quoted">$14.00</p></td>
<td class="quotedtablecell"><p class="quoted">"should be bought with ball polish"</p></td>
<td class="quotedtablecell"><p class="quoted">"A large clear ball, not for throwing but for using in various hand tricks."</p></td>
<td class="quotedtablecell"><p class="quoted">hard</p></td>
<td class="quotedtablecell"><p class="quoted">"You rotate the ball between your fingers and pass it over the backs of your hands."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a UV-reactive contact ball</p></td>
<td class="quotedtablecell"><p class="quoted">$55.00</p></td>
<td class="quotedtablecell"><p class="quoted">"appears to glow in dark rooms"</p></td>
<td class="quotedtablecell"><p class="quoted">"Similar to the ordinary acrylic contact ball, but UV-reactive."</p></td>
<td class="quotedtablecell"><p class="quoted">hard</p></td>
<td class="quotedtablecell"><p class="quoted">"The ball glows as it passes between your fingers and over the backs of your hands, rolls up to your wrist, snaps through the air-- all apparently of its own accord."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a ball polish set</p></td>
<td class="quotedtablecell"><p class="quoted">$10.00</p></td>
<td class="quotedtablecell"><p class="quoted">"useful only with acrylic contact balls"</p></td>
<td class="quotedtablecell"><p class="quoted">"Three bottles of polish and a rag for keeping acrylic contact balls scratch-free."</p></td>
<td class="quotedtablecell"><p class="quoted">hard</p></td>
<td class="quotedtablecell"><p class="quoted">"You juggle the polish bottles with difficulty, since they are full of sloshing liquid."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a teaching beanbag set</p></td>
<td class="quotedtablecell"><p class="quoted">$8.00</p></td>
<td class="quotedtablecell"><p class="quoted">"set of three"</p></td>
<td class="quotedtablecell"><p class="quoted">"Soft, easily-juggled bag."</p></td>
<td class="quotedtablecell"><p class="quoted">easy</p></td>
<td class="quotedtablecell"><p class="quoted">"You juggle the beanbags with basic competence."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a stage ball set</p></td>
<td class="quotedtablecell"><p class="quoted">$13.50</p></td>
<td class="quotedtablecell"><p class="quoted">"comes in set of three"</p></td>
<td class="quotedtablecell"><p class="quoted">"Not much different in appearance from the economy bounce ball, but larger so as to be visible from a stage."</p></td>
<td class="quotedtablecell"><p class="quoted">moderate</p></td>
<td class="quotedtablecell"><p class="quoted">"You create of the balls a cascade of moving color, visible from quite a distance."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a fireball set</p></td>
<td class="quotedtablecell"><p class="quoted">$33.00</p></td>
<td class="quotedtablecell"><p class="quoted">"will not be sold to minors"</p></td>
<td class="quotedtablecell"><p class="quoted">"A ball has wicking and a fuel-source inside so that it will burn while being juggled."</p></td>
<td class="quotedtablecell"><p class="quoted">hard</p></td>
<td class="quotedtablecell"><p class="quoted">"You juggle the fireballs rapidly, careful never to hold any of them a moment longer than necessary."</p></td>
</tr>
</table>
</div>
<p>Notice that we are allowed to define "description" and other already-known properties in the table as well.</p>

<div class="code">
<p class="quoted">
Backstage is a room. "A muffled black room with felt on the floors and walls. A glowing sign over the stage door says SHOW IN PROGRESS."
</p>
<p class="quoted">
The Juggling Equipment Catalog is a thing in Backstage.
</p>
<p class="quoted">
Instead of examining the Catalog:
<br>    say "You read through the offerings, including: [paragraph break]";
<br>    repeat through Table of Juggling Equipment:
<br>        say "[bold type][toy entry][roman type]: [description entry] [cost entry], [restriction entry]. [paragraph break]".
</p>
<p class="quoted">
When play begins:
<br>    now right hand status line is "Budget: [price of the player]";
<br>    now left hand status line is "[location], feeling [if the difficulty of player is easy]incompetent[end if][if the difficulty of player is moderate]moderately skilled[end if][if the difficulty of player is hard]highly skilled[end if]".
</p>
</div>
<p>And of course this will be no fun unless the player is allowed to use the equipment:</p>

<div class="code">
<p class="quoted">
Understand "juggle [something]" as juggling.
</p>
<p class="quoted">
Juggling is an action applying to one thing.
</p>
<p class="quoted">
Check juggling:
<br>    if the noun is not a toy listed in the Table of Juggling Equipment, say "You can't juggle [a noun]!" instead;
<br>    if the difficulty of the noun is greater than the difficulty of the player, say "You're not quite ready to juggle something like [the noun]. Better to start with an easier toy." instead.
</p>
<p class="quoted">
Carry out juggling:
<br>    if a random chance of 1 in 3 succeeds:
<br>        if the difficulty of the player is less than hard and the difficulty of the player is the difficulty of the noun:
<br>            now the difficulty of the player is the difficulty after the difficulty of the player.
</p>
<p class="quoted">
Report juggling:
<br>    say "[outcome of the noun][paragraph break]".
</p>
<p class="quoted">
Instead of burning the fireball set:
<br>    say "It will flame by itself when you use it."
</p>
<p class="quoted">
Test me with "read catalog / buy economy / buy beanbag / juggle economy / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle beanbag / juggle economy / juggle economy / juggle economy / buy fireball set / juggle fireball".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.16">WI §16.16. Defining things with tables</a><br><a href="rb_9.html#rb-9.4">RB §9.4. Money</a>
</div></details>
</div></section>
<section class="section" id="rb-9.5"><div>





<h3>RB §9.5. Dice and Playing Cards</h3>
<p>Most toys are single things, and no harder to create than any other small items, but games often require a multitude of tokens to be combined, and this can be logistically tricky.</p>
<p>The classic example is a pack of playing cards, where the player must individually control 52 items but without fussy commands or verbose text being printed back. <a href="rb_9.html#example-275" class="example-link" onClick="(function() { document.getElementById('example-275').setAttribute('open','open'); return true; })();">Jokers Wild</a><span class="example-difficulty"> ★★</span> provides a simple "one card at a time" approach; <a href="rb_9.html#example-316" class="example-link" onClick="(function() { document.getElementById('example-316').setAttribute('open','open'); return true; })();">Tilt 1</a><span class="example-difficulty"> ★★★</span> is more sophisticated, with 52 independently accessible cards; <a href="rb_9.html#example-407" class="example-link" onClick="(function() { document.getElementById('example-407').setAttribute('open','open'); return true; })();">Tilt 2</a><span class="example-difficulty"> ★★★</span> can further judge the value of a selection of cards - the ranking of a poker hand.</p>
<p>Drawing cards from a shuffled pack is only one source of randomness. Games of chance also involve items drawn from a bag: <a href="rb_9.html#example-175" class="example-link" onClick="(function() { document.getElementById('example-175').setAttribute('open','open'); return true; })();">Wonka's Revenge</a><span class="example-difficulty"> ★</span> provides just such a lottery. More often, dice are thrown. A single die is easy enough:</p>

<div class="code"><p class="quoted">
The die is carried by the player. After dropping the die: say "It lands with [a random number from 1 to 6] uppermost." Understand "roll [something]" as dropping.
</p></div>
<p>Quick, but not very good. Most dice games involve rolling more than one die at a time, to get a more interesting distribution of outcomes: they may also involve special rules applying to doubles, for instance. See <a href="rb_9.html#example-130" class="example-link" onClick="(function() { document.getElementById('example-130').setAttribute('open','open'); return true; })();">Do Pass Go</a><span class="example-difficulty"> ★</span>.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_12.html#rb-12.1" class="crossreference_link">Typography</a> for on-screen notations for chess and card games</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-130"><summary><span class="example-summary">130. Do Pass Go</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Do%20Pass%20Go%22%5Cn%5CnGo%20is%20a%20room.%20%22A%20giant%20square%20area,%20where%20you%20and%20your%20other%20pewter%20ornament%20friends%20gather%20before%20setting%20out%20to%20purchase%20London.%22%5Cn%5CnThe%20pair%20of%20dice%20is%20carried%20by%20the%20player.%5Cn%5CnThe%20pair%20of%20dice%20has%20a%20number%20called%20first%20die.%20The%20pair%20of%20dice%20has%20a%20number%20called%20second%20die.%20The%20first%20die%20of%20the%20pair%20is%206.%20The%20second%20die%20of%20the%20pair%20is%206.%20Rule%20for%20printing%20the%20name%20of%20the%20pair%20of%20dice%20while%20taking%20inventory:%20say%20%22pair%20of%20dice%22.%5CnRule%20for%20printing%20the%20name%20of%20the%20pair%20of%20dice:%20say%20%22pair%20of%20dice%20showing%20%5Bfirst%20die%20of%20the%20pair%20plus%20second%20die%20of%20the%20pair%5D%22.%5Cn%5CnTo%20say%20detailed%20state%20of%20the%20dice:%5Cn%5Ctif%20the%20first%20die%20of%20the%20pair%20is%20the%20second%20die%20of%20the%20pair,%20say%20%22double%20%5Bfirst%20die%20of%20the%20pair%5D%22;%5Cn%5Ctotherwise%20say%20%22%5Bfirst%20die%20of%20the%20pair%5D%20and%20%5Bsecond%20die%20of%20the%20pair%5D%22.%5Cn%5CnThe%20description%20of%20the%20pair%20of%20dice%20is%20%22The%20pair%20of%20dice%20are%20%5Bif%20the%20dice%20are%20carried%5Ditching%20to%20be%20rolled%5Botherwise%5Dshowing%20%5Bdetailed%20state%20of%20the%20dice%5D%5Bend%20if%5D.%22%5Cn%5CnRolling%20is%20an%20action%20applying%20to%20one%20carried%20thing.%20Understand%20%22roll%20%5Bsomething%20preferably%20held%5D%22%20as%20rolling.%5Cn%5CnCheck%20rolling%20when%20the%20noun%20is%20not%20the%20pair%20of%20dice:%20say%20%22Not%20something%20you%20can%20roll.%22%20instead.%5CnCarry%20out%20rolling:%5Cn%5Ctnow%20the%20pair%20of%20dice%20is%20in%20the%20holder%20of%20the%20actor;%5Cn%5Ctnow%20the%20first%20die%20of%20the%20pair%20of%20dice%20is%20a%20random%20number%20from%201%20to%206;%5Cn%5Ctnow%20the%20second%20die%20of%20the%20pair%20of%20dice%20is%20a%20random%20number%20from%201%20to%206.%5CnReport%20rolling:%5Cn%5Ctsay%20%22You%20roll%20%5Bdetailed%20state%20of%20the%20dice%5D.%22%5Cn%5CnTest%20me%20with%20%22i%20/%20roll%20dice%20/%20look%20/%20x%20dice%20/%20get%20dice%20/%20x%20dice%20/%20roll%20dice%20/%20roll%20dice%20/%20roll%20dice%20/%20roll%20dice%20/%20roll%20dice%20/%20roll%20dice%20/%20roll%20dice%22.%5Cn%5Cn%5BBecause%20we%20remember%20the%20states%20of%20the%20individual%20dice,%20not%20just%20a%20total,%20we%20can%20make%20use%20of%20the%20combination%20rolled.%5D%5Cn%5CnThe%20doubles%20count%20is%20a%20number%20that%20varies.%5CnAfter%20rolling:%5Cn%5Ctif%20the%20first%20die%20of%20the%20pair%20is%20the%20second%20die%20of%20the%20pair,%20increment%20the%20doubles%20count;%5Cn%5Ctotherwise%20now%20the%20doubles%20count%20is%200;%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnJail%20is%20a%20room.%20%22This%20is%20Jail,%20and%20not%20the%20Just%20Visiting%20periphery,%20either.%22%5Cn%5CnEvery%20turn%20when%20the%20doubles%20count%20is%203:%5Cn%5Ctsay%20%22The%20blue-uniformed%20policemen%20blows%20his%20whistle%20and%20beckons%20you%20sternly...%22;%5Cn%5Ctnow%20the%20player%20carries%20the%20pair%20of%20dice;%5Cn%5Ctnow%20the%20player%20is%20in%20Jail;%5Cn%5Ctnow%20the%20doubles%20count%20is%200.%5Cn%5CnEvery%20turn%20when%20the%20doubles%20count%20is%201%20and%20the%20player%20is%20in%20Jail:%5Cn%5Ctsay%20%22The%20warden%20gruffly%20releases%20you.%22;%5Cn%5Ctnow%20the%20player%20carries%20the%20pair%20of%20dice;%5Cn%5Ctnow%20the%20player%20is%20in%20Go.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Do Pass Go"
</p>
<p class="quoted">
Go is a room. "A giant square area, where you and your other pewter ornament friends gather before setting out to purchase London."
</p>
<p class="quoted">
The pair of dice is carried by the player.
</p>
<p class="quoted">
The pair of dice has a number called first die. The pair of dice has a number called second die. The first die of the pair is 6. The second die of the pair is 6. Rule for printing the name of the pair of dice while taking inventory: say "pair of dice".
<br>Rule for printing the name of the pair of dice: say "pair of dice showing [first die of the pair plus second die of the pair]".
</p>
<p class="quoted">
To say detailed state of the dice:
<br>    if the first die of the pair is the second die of the pair, say "double [first die of the pair]";
<br>    otherwise say "[first die of the pair] and [second die of the pair]".
</p>
<p class="quoted">
The description of the pair of dice is "The pair of dice are [if the dice are carried]itching to be rolled[otherwise]showing [detailed state of the dice][end if]."
</p>
<p class="quoted">
Rolling is an action applying to one carried thing. Understand "roll [something preferably held]" as rolling.
</p>
<p class="quoted">
Check rolling when the noun is not the pair of dice: say "Not something you can roll." instead.
<br>Carry out rolling:
<br>    now the pair of dice is in the holder of the actor;
<br>    now the first die of the pair of dice is a random number from 1 to 6;
<br>    now the second die of the pair of dice is a random number from 1 to 6.
<br>Report rolling:
<br>    say "You roll [detailed state of the dice]."
</p>
<p class="quoted">
Test me with "i / roll dice / look / x dice / get dice / x dice / roll dice / roll dice / roll dice / roll dice / roll dice / roll dice / roll dice".
</p>
</div>
<p>Because we remember the states of the individual dice, not just a total, we can make use of the combination rolled.</p>

<div class="code">
<p class="quoted">
The doubles count is a number that varies.
<br>After rolling:
<br>    if the first die of the pair is the second die of the pair, increment the doubles count;
<br>    otherwise now the doubles count is 0;
<br>    continue the action.
</p>
<p class="quoted">
Jail is a room. "This is Jail, and not the Just Visiting periphery, either."
</p>
<p class="quoted">
Every turn when the doubles count is 3:
<br>    say "The blue-uniformed policemen blows his whistle and beckons you sternly...";
<br>    now the player carries the pair of dice;
<br>    now the player is in Jail;
<br>    now the doubles count is 0.
</p>
<p class="quoted">
Every turn when the doubles count is 1 and the player is in Jail:
<br>    say "The warden gruffly releases you.";
<br>    now the player carries the pair of dice;
<br>    now the player is in Go.
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.18">WI §8.18. Randomness</a><br><a href="rb_9.html#rb-9.5">RB §9.5. Dice and Playing Cards</a>
</div></details><details class="full-example" id="example-175"><summary><span class="example-summary">175. Wonka's Revenge</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Wonka's%20Revenge%22%5Cn%5CnThe%20Caribou%20Lodge%20is%20a%20room.%20%22Hundreds%20of%20expectant%20faces%20are%20turned%20your%20way%20from%20every%20table.%22%20A%20lottery%20drum%20is%20in%20the%20Lodge.%20%22Before%20you%20is%20the%20lottery%20drum%5Bif%20we%20have%20spun%20the%20drum%5D,%20ready%20to%20disgorge%20a%20ticket%5Botherwise%5D,%20waiting%20to%20be%20spun%5Bend%20if%5D.%22%20In%20the%20drum%20are%20a%20red%20ticket,%20an%20orange%20ticket,%20a%20yellow%20ticket,%20a%20green%20ticket,%20a%20blue%20ticket,%20a%20purple%20ticket,%20and%20a%20ticket%20of%20pure%20gold.%20The%20drum%20is%20closed%20and%20openable.%5Cn%5CnUnderstand%20%22spin%20%5Bsomething%5D%22%20as%20spinning.%5Cn%5CnSpinning%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20spinning:%20if%20the%20noun%20is%20an%20open%20container%20which%20contains%20something,%20say%20%22%5BThe%20list%20of%20things%20in%20the%20noun%5D%20would%20fly%20out.%22%20instead.%5Cn%5CnCarry%20out%20spinning%20a%20container:%5Cn%5Ctshuffle%20the%20contents%20of%20the%20noun.%5Cn%5CnReport%20spinning:%5Cn%5Ctif%20the%20noun%20contains%20something,%20say%20%22You%20rattle%20%5Bif%20the%20noun%20is%20transparent%5D%5Bthe%20list%20of%20things%20in%20the%20noun%5D%5Botherwise%5Dthe%20stuff%5Bend%20if%5D%20in%20%5Bthe%20noun%5D.%22;%5Cn%5Ctotherwise%20say%20%22Nothing%20results%20of%20your%20shaking%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5BInform%20keeps%20track%20of%20the%20order%20in%20which%20things%20have%20been%20put%20into%20a%20container.%20If%20we%20want%20to%20change%20that%20order%20without%20the%20player's%20intervention,%20we%20can%20move%20the%20things%20ourselves.%5D%5Cn%5CnTo%20shuffle%20the%20contents%20of%20(basket%20-%20a%20container):%5Cn%5Ctlet%20moves%20be%20the%20number%20of%20things%20in%20the%20basket;%5Cn%5Ctrepeat%20with%20counter%20running%20from%201%20to%20moves:%5Cn%5Ct%5Ctmove%20a%20random%20thing%20in%20the%20basket%20to%20the%20basket.%5Cn%5CnAfter%20opening%20the%20drum%20when%20we%20have%20spun%20the%20drum%20for%20the%20first%20time:%5Cn%5Ctif%20something%20(called%20the%20pick)%20is%20in%20the%20drum:%5Cn%5Ct%5Cttry%20searching%20the%20drum;%5Cn%5Ct%5Ctsay%20%22%5BThe%20pick%5D%20it%20is,%20then.%22;%5Cn%5Ct%5Ctsilently%20try%20taking%20the%20pick;%5Cn%5Ct%5Ctif%20the%20pick%20is%20the%20ticket%20of%20pure%20gold,%20end%20the%20story%20finally;%5Cn%5Ct%5Ctotherwise%20end%20the%20story%20saying%20%22Oh%20well,%20better%20luck%20next%20time.%22%5Cn%5CnTest%20me%20with%20%22open%20drum%20/%20look%20in%20drum%20/%20close%20drum%20/%20spin%20drum%20/%20open%20drum%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Wonka's Revenge"
</p>
<p class="quoted">
The Caribou Lodge is a room. "Hundreds of expectant faces are turned your way from every table." A lottery drum is in the Lodge. "Before you is the lottery drum[if we have spun the drum], ready to disgorge a ticket[otherwise], waiting to be spun[end if]." In the drum are a red ticket, an orange ticket, a yellow ticket, a green ticket, a blue ticket, a purple ticket, and a ticket of pure gold. The drum is closed and openable.
</p>
<p class="quoted">
Understand "spin [something]" as spinning.
</p>
<p class="quoted">
Spinning is an action applying to one thing.
</p>
<p class="quoted">
Check spinning: if the noun is an open container which contains something, say "[The list of things in the noun] would fly out." instead.
</p>
<p class="quoted">
Carry out spinning a container:
<br>    shuffle the contents of the noun.
</p>
<p class="quoted">
Report spinning:
<br>    if the noun contains something, say "You rattle [if the noun is transparent][the list of things in the noun][otherwise]the stuff[end if] in [the noun].";
<br>    otherwise say "Nothing results of your shaking [the noun]."
</p>
</div>
<p>Inform keeps track of the order in which things have been put into a container. If we want to change that order without the player's intervention, we can move the things ourselves.</p>

<div class="code">
<p class="quoted">
To shuffle the contents of (basket - a container):
<br>    let moves be the number of things in the basket;
<br>    repeat with counter running from 1 to moves:
<br>        move a random thing in the basket to the basket.
</p>
<p class="quoted">
After opening the drum when we have spun the drum for the first time:
<br>    if something (called the pick) is in the drum:
<br>        try searching the drum;
<br>        say "[The pick] it is, then.";
<br>        silently try taking the pick;
<br>        if the pick is the ticket of pure gold, end the story finally;
<br>        otherwise end the story saying "Oh well, better luck next time."
</p>
<p class="quoted">
Test me with "open drum / look in drum / close drum / spin drum / open drum".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.10">WI §11.10. Repeat</a><br><a href="rb_9.html#rb-9.5">RB §9.5. Dice and Playing Cards</a>
</div></details><details class="full-example" id="example-275"><summary><span class="example-summary">275. Jokers Wild</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want a deck of cards which the player can shuffle and draw from. Our first (rather tedious) task is merely to set up the deck as a table:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Jokers%20Wild%22%5Cn%5CnSuit%20is%20a%20kind%20of%20value.%20The%20suits%20are%20hearts,%20clubs,%20diamonds,%20and%20spades.%5Cn%5CnTable%20of%20Cards%5Cnsuit%5Ctvalue%5Cndiamonds%5Ct1%5Cndiamonds%5Ct2%5Cndiamonds%5Ct3%5Cndiamonds%5Ct4%5Cndiamonds%5Ct5%5Cndiamonds%5Ct6%5Cndiamonds%5Ct7%5Cndiamonds%5Ct8%5Cndiamonds%5Ct9%5Cndiamonds%5Ct10%5Cndiamonds%5Ct11%5Cndiamonds%5Ct12%5Cndiamonds%5Ct13%5Cnspades%5Ct1%5Cnspades%5Ct2%5Cnspades%5Ct3%5Cnspades%5Ct4%5Cnspades%5Ct5%5Cnspades%5Ct6%5Cnspades%5Ct7%5Cnspades%5Ct8%5Cnspades%5Ct9%5Cnspades%5Ct10%5Cnspades%5Ct11%5Cnspades%5Ct12%5Cnspades%5Ct13%5Cnhearts%5Ct1%5Cnhearts%5Ct2%5Cnhearts%5Ct3%5Cnhearts%5Ct4%5Cnhearts%5Ct5%5Cnhearts%5Ct6%5Cnhearts%5Ct7%5Cnhearts%5Ct8%5Cnhearts%5Ct9%5Cnhearts%5Ct10%5Cnhearts%5Ct11%5Cnhearts%5Ct12%5Cnhearts%5Ct13%5Cnclubs%5Ct1%5Cnclubs%5Ct2%5Cnclubs%5Ct3%5Cnclubs%5Ct4%5Cnclubs%5Ct5%5Cnclubs%5Ct6%5Cnclubs%5Ct7%5Cnclubs%5Ct8%5Cnclubs%5Ct9%5Cnclubs%5Ct10%5Cnclubs%5Ct11%5Cnclubs%5Ct12%5Cnclubs%5Ct13%5Cn%5Cn%5BWe're%20going%20to%20describe%20the%20higher%20numbers%20as%20face%20cards,%20so%20it%20helps%20to%20write%20a%20new%20%22to%20say%22%20phrase.%5D%5Cn%5CnTo%20say%20(count%20-%20a%20number)%20as%20a%20card%20value:%5Cn%5Ctchoose%20row%20with%20a%20value%20of%20count%20in%20the%20Table%20of%20Value%20Names;%5Cn%5Ctsay%20%22%5Bterm%20entry%5D%22.%5Cn%5CnTable%20of%20Value%20Names%5Cnvalue%5Ctterm%5Cn1%5Ct%22ace%22%5Cn2%5Ct%22deuce%22%5Cn3%5Ct%22three%22%5Cn4%5Ct%22four%22%5Cn5%5Ct%22five%22%5Cn6%5Ct%22six%22%5Cn7%5Ct%22seven%22%5Cn8%5Ct%22eight%22%5Cn9%5Ct%22nine%22%5Cn10%5Ct%22ten%22%5Cn11%5Ct%22jack%22%5Cn12%5Ct%22queen%22%5Cn13%5Ct%22king%22%5Cn%5Cn%5BNow%20we%20get%20the%20shuffling%20of%20the%20deck%20from%20%22sort%20in%20random%20order%22,%20so:%5D%5Cn%5CnUnderstand%20%22shuffle%22%20as%20shuffling.%20Shuffling%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCarry%20out%20shuffling:%5Cn%5Ctsort%20the%20Table%20of%20Cards%20in%20random%20order;%5Cn%5Ctsay%20%22You%20expertly%20rearrange%20the%20cards.%22.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsort%20the%20Table%20of%20Cards%20in%20random%20order.%5Cn%5Cn%5BThis%20will%20continue%20to%20work%20properly%20even%20as%20the%20deck%20is%20partially%20depleted.%20Speaking%20of%20which,%20suppose%20we%20want%20the%20player%20to%20be%20able%20to%20toss%20the%20cards%20one-by-one%20into%20a%20hat.%20They%20are%20going%20to%20need%20to%20be%20removed%20from%20the%20deck,%20so:%5D%5Cn%5CnUnderstand%20%22toss%22%20or%20%22toss%20a%20card%22%20or%20%22toss%20card%22%20as%20tossing.%5Cn%5CnTossing%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCheck%20tossing:%5Cn%5Ctif%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Cards%20is%200,%20say%20%22The%20deck%20is%20empty.%22%20instead.%5Cn%5CnCarry%20out%20tossing:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Cards:%5Cn%5Ct%5Ctlet%20new%20value%20be%20value%20entry;%5Cn%5Ct%5Ctlet%20new%20suit%20be%20suit%20entry;%5Cn%5Ct%5Ctsay%20%22You%20throw%20the%20%5Bvalue%20entry%20as%20a%20card%20value%5D%20of%20%5Bsuit%20entry%5D%20at%20the%20top%20hat,%20and%20%5Bif%20a%20random%20chance%20of%201%20in%203%20succeeds%5Dhit%5Botherwise%5Dmiss%5Bend%20if%5D.%22;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5Cn%5BIf%20we%20wanted%20to%20simulate%20a%20slightly%20more%20stimulating%20game,%20we%20could%20instead%20have%20a%20second%20table%20to%20represent%20the%20player's%20hand%20of%20cards%20and%20record%20each%20card%20drawn.%20That%20would%20get%20long%20for%20the%20purposes%20of%20example,%20however,%20so%20instead%20we%20will%20just%20admit%20that%20the%20player's%20life%20is%20an%20empty%20husk%20of%20existence:%5D%5Cn%5CnThe%20Empty%20Room%20is%20a%20room.%20%22It%20has%20come%20to%20this:%20sitting%20on%20the%20bare%20floor%20of%20Lulu's%20apartment%20with%20nothing%20to%20amuse%20you%20but%20a%20deck%20of%20cards%20and%20the%20top%20hat%20from%20last%20year's%20act.%20You%20reckon%20%5Bthe%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Cards%20in%20words%5D%20cardtosses%20are%20all%20that%20stand%20between%20you%20and%20the%20utter%20pointlessness%20of%20existence.%5Cn%5CnOnce%20again%20you%20curse%20Lulu%20for%20running%20off%20with%20that%20joker.%22%5Cn%5CnThe%20player%20is%20carrying%20the%20deck%20of%20cards.%20The%20top%20hat%20is%20an%20open%20container%20in%20the%20Empty%20Room.%20It%20is%20scenery.%5Cn%5CnTest%20me%20with%20%22toss%20/%20again%20/%20again%20/%20again%20/%20again%20/%20again%20/%20again%20/%20again%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Jokers Wild"
</p>
<p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades.
</p>
<p class="quoted">
Table of Cards
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">suit</p></td>
<td class="quotedtablecell"><p class="quoted">value</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
</tr>
</table>
</div>
<p>We're going to describe the higher numbers as face cards, so it helps to write a new "to say" phrase.</p>

<div class="code">
<p class="quoted">
To say (count - a number) as a card value:
<br>    choose row with a value of count in the Table of Value Names;
<br>    say "[term entry]".
</p>
<p class="quoted">
Table of Value Names
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">value</p></td>
<td class="quotedtablecell"><p class="quoted">term</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">"ace"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">"deuce"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">3</p></td>
<td class="quotedtablecell"><p class="quoted">"three"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">4</p></td>
<td class="quotedtablecell"><p class="quoted">"four"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">5</p></td>
<td class="quotedtablecell"><p class="quoted">"five"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">6</p></td>
<td class="quotedtablecell"><p class="quoted">"six"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">7</p></td>
<td class="quotedtablecell"><p class="quoted">"seven"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">8</p></td>
<td class="quotedtablecell"><p class="quoted">"eight"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">9</p></td>
<td class="quotedtablecell"><p class="quoted">"nine"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">10</p></td>
<td class="quotedtablecell"><p class="quoted">"ten"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">11</p></td>
<td class="quotedtablecell"><p class="quoted">"jack"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">12</p></td>
<td class="quotedtablecell"><p class="quoted">"queen"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">13</p></td>
<td class="quotedtablecell"><p class="quoted">"king"</p></td>
</tr>
</table>
</div>
<p>Now we get the shuffling of the deck from "sort in random order", so:</p>

<div class="code">
<p class="quoted">
Understand "shuffle" as shuffling. Shuffling is an action applying to nothing.
</p>
<p class="quoted">
Carry out shuffling:
<br>    sort the Table of Cards in random order;
<br>    say "You expertly rearrange the cards.".
</p>
<p class="quoted">
When play begins:
<br>    sort the Table of Cards in random order.
</p>
</div>
<p>This will continue to work properly even as the deck is partially depleted. Speaking of which, suppose we want the player to be able to toss the cards one-by-one into a hat. They are going to need to be removed from the deck, so:</p>

<div class="code">
<p class="quoted">
Understand "toss" or "toss a card" or "toss card" as tossing.
</p>
<p class="quoted">
Tossing is an action applying to nothing.
</p>
<p class="quoted">
Check tossing:
<br>    if the number of filled rows in the Table of Cards is 0, say "The deck is empty." instead.
</p>
<p class="quoted">
Carry out tossing:
<br>    repeat through the Table of Cards:
<br>        let new value be value entry;
<br>        let new suit be suit entry;
<br>        say "You throw the [value entry as a card value] of [suit entry] at the top hat, and [if a random chance of 1 in 3 succeeds]hit[otherwise]miss[end if].";
<br>        blank out the whole row;
<br>        rule succeeds.
</p>
</div>
<p>If we wanted to simulate a slightly more stimulating game, we could instead have a second table to represent the player's hand of cards and record each card drawn. That would get long for the purposes of example, however, so instead we will just admit that the player's life is an empty husk of existence:</p>

<div class="code">
<p class="quoted">
The Empty Room is a room. "It has come to this: sitting on the bare floor of Lulu's apartment with nothing to amuse you but a deck of cards and the top hat from last year's act. You reckon [the number of filled rows in the Table of Cards in words] cardtosses are all that stand between you and the utter pointlessness of existence.
</p>
<p class="quoted">
Once again you curse Lulu for running off with that joker."
</p>
<p class="quoted">
The player is carrying the deck of cards. The top hat is an open container in the Empty Room. It is scenery.
</p>
<p class="quoted">
Test me with "toss / again / again / again / again / again / again / again".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.11">WI §16.11. Sorting</a><br><a href="rb_9.html#rb-9.5">RB §9.5. Dice and Playing Cards</a>
</div></details><details class="full-example" id="example-316"><summary><span class="example-summary">316. Tilt 1</span> <span class="example-difficulty">★★★</span></summary><div>
<p>We've simulated a deck of cards before, but only as entries in a table. This time we're going to do it more completely, with card objects that can be drawn and discarded, and referred to by name. The tedious way to do this would be to make 52 objects by hand and laboriously write out their names and understand rules.</p>
<p>A more sensible way is to make 52 identical card objects, assign them ranks and suits, and allow Inform to generate and parse their names automatically.</p>
<p>So:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Tilt%22%5Cn%5CnSection%201%20-%20Cards%5Cn%5CnSuit%20is%20a%20kind%20of%20value.%20The%20suits%20are%20hearts,%20clubs,%20diamonds,%20and%20spades.%20Understand%20%22heart%22%20as%20hearts.%20Understand%20%22club%22%20as%20clubs.%20Understand%20%22diamond%22%20as%20diamonds.%20Understand%20%22spade%22%20as%20spades.%20%5BProviding%20the%20singular%20forms%20means%20that%20Inform%20will%20also%20understand%20&gt;EXAMINE%20SPADE,%20&gt;DISCARD%20CLUB,%20and%20so%20on.%5D%5Cn%5CnA%20card%20is%20a%20kind%20of%20thing.%20%20A%20card%20has%20a%20suit.%20A%20card%20has%20a%20number%20called%20rank.%20Understand%20the%20suit%20property%20as%20describing%20a%20card.%20Understand%20the%20rank%20property%20as%20describing%20a%20card.%5Cn%5Cn52%20cards%20are%20in%20the%20card%20repository.%5Cn%5Cn%5BNow,%20we're%20going%20to%20describe%20the%20higher%20numbers%20as%20face%20cards,%20so%20it%20helps%20to%20write%20a%20new%20%22to%20say%22%20phrase,%20just%20as%20we%20did%20in%20Jokers%20Wild.%20(A%20subsequent%20version%20of%20this%20example%20shows%20how%20to%20print%20card%20values%20with%20red%20and%20black%20symbols%20representing%20the%20different%20suits;%20see%20%22Tilt%203%22.)%5D%5Cn%5CnTo%20say%20(count%20-%20a%20number)%20as%20a%20card%20value:%5Cn%5Ctchoose%20row%20count%20in%20the%20Table%20of%20Value%20Names;%5Cn%5Ctsay%20%22%5Bterm%20entry%5D%22.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20card%20(called%20target):%5Cn%5Ctsay%20%22%5Brank%20of%20the%20target%20as%20a%20card%20value%5D%20of%20%5Bsuit%20of%20the%20target%5D%22%5Cn%5CnTable%20of%20Value%20Names%5Cnterm%5Ctvalue%5Cttopic%5Cn%22ace%22%5Ct%221%22%5Ct%22ace/A/one%22%5Cn%22deuce%22%5Ct%222%22%5Ct%22deuce/two%22%5Cn%22three%22%5Ct%223%22%5Ct%22three%22%5Cn%22four%22%5Ct%224%22%5Ct%22four%22%5Cn%22five%22%5Ct%225%22%5Ct%22five%22%5Cn%22six%22%5Ct%226%22%5Ct%22six%22%5Cn%22seven%22%5Ct%227%22%5Ct%22seven%22%5Cn%22eight%22%5Ct%228%22%5Ct%22eight%22%5Cn%22nine%22%5Ct%229%22%5Ct%22nine%22%5Cn%22ten%22%5Ct%2210%22%5Ct%22ten%22%5Cn%22jack%22%5Ct%2211%22%5Ct%22jack/knave/J%22%5Cn%22queen%22%5Ct%2212%22%5Ct%22queen/Q%22%5Cn%22king%22%5Ct%2213%22%5Ct%22king/K%22%5Cn%5Cn%5BThis%20is%20enough%20already%20to%20let%20inform%20understand%20things%20like%20%22ten%20clubs%22,%20but%20we%20want%20to%20add%20a%20couple%20of%20refinements.%20For%20one%20thing,%20we'd%20like%20to%20accept%20%22of%22%20when%20it%20appears%20in%20phrases%20such%20as%20%22ten%20of%20clubs%22%20(but%20not%20generically%20otherwise);%20for%20another,%20we'd%20like%20the%20player%20to%20be%20able%20to%20use%20various%20names%20for%20ranks.%20To%20this%20end,%20we%20need%20to%20borrow%20from%20the%20Activities%20chapter%20and%20modify%20the%20player's%20command%20before%20attempting%20to%20understand%20it:%5D%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctif%20the%20player's%20command%20includes%20%22of%20%5Bsuit%5D%22:%5Cn%5Ct%5Ctwhile%20the%20player's%20command%20includes%20%22of%22:%5Cn%5Ct%5Ct%5Ctcut%20the%20matched%20text;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Value%20Names:%5Cn%5Ct%5Ctwhile%20the%20player's%20command%20includes%20topic%20entry:%5Cn%5Ct%5Ct%5Ctreplace%20the%20matched%20text%20with%20value%20entry.%5Cn%5Ct%5BThis%20allows%20Inform%20to%20understand%20%22ace%22,%20%22deuce%22,%20%22king%22,%20etc.,%20as%20numerical%20ranks.%5D%5Cn%5Cn%5BIt%20may%20be%20a%20bit%20confusing%20that%20the%20Table%20of%20Value%20Names%20has%20both%20a%20topic%20column%20and%20a%20term%20column,%20to%20all%20appearances%20essentially%20identical.%20But%20items%20in%20the%20topic%20column%20can%20be%20matched%20against%20the%20player's%20input,%20whereas%20items%20in%20other%20kinds%20of%20text%20column%20can%20be%20printed%20out;%20the%20two%20kinds%20of%20text%20are%20not%20treated%20identically%20by%20Inform,%20so%20we%20need%20to%20have%20both.%20Notice%20that%20the%20topic%20column%20contains%20entries%20like%20%22jack/knave,%22%20which%20will%20match%20either%20%22jack%22%20or%20%22knave%22%20in%20the%20player's%20input.%5D%5Cn%5Cn%5BNow%20to%20set%20up%20the%20deck%20at%20the%20outset.%20With%20some%20intelligent%20looping,%20we%20avoid%20having%20to%20declare%20every%20combination%20of%20suit%20and%20number%20individually:%5D%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctreconstitute%20deck.%5Cn%5CnTo%20reconstitute%20deck:%5Cn%5Ctlet%20current%20suit%20be%20hearts;%5Cn%5Ctnow%20every%20card%20is%20in%20the%20card%20repository;%5Cn%5Ctwhile%20a%20card%20is%20in%20the%20card%20repository:%5Cn%5Ct%5Ctrepeat%20with%20current%20rank%20running%20from%201%20to%2013:%5Cn%5Ct%5Ct%5Ctlet%20item%20be%20a%20random%20card%20in%20card%20repository;%5Cn%5Ct%5Ct%5Ctnow%20rank%20of%20item%20is%20current%20rank;%5Cn%5Ct%5Ct%5Ctnow%20suit%20of%20item%20is%20current%20suit;%5Cn%5Ct%5Ct%5Ctnow%20item%20is%20in%20the%20deck%20of%20cards;%5Cn%5Ct%5Ctnow%20current%20suit%20is%20the%20suit%20after%20the%20current%20suit.%5Cn%5Cn%5BAnd%20now%20we%20need%20a%20simple%20setting%20and%20some%20actions%20to%20manipulate%20the%20deck%20with:%5D%5Cn%5CnSection%202%20-%20The%20Deck%20and%20the%20Discard%20Pile%5Cn%5CnThe%20Empty%20Room%20is%20a%20room.%20%22Nothing%20to%20see%20here.%22%5Cn%5CnThe%20deck%20of%20cards%20is%20in%20the%20Empty%20Room.%20It%20is%20a%20closed%20unopenable%20container.%20The%20description%20is%20%22A%20standard%20poker%20deck.%22%5Cn%5CnThe%20discard%20pile%20is%20a%20closed%20unopenable%20container.%20The%20description%20is%20%22Cards%20in%20this%20game%20are%20discarded%20face-down,%20so%20the%20discard%20pile%20is%20not%20very%20interesting%20to%20see.%20All%20you%20can%20observe%20is%20that%20it%20currently%20contains%20%5Bif%20the%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20is%20less%20than%20ten%5D%5Bthe%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20in%20words%5D%5Botherwise%5Dabout%20%5Bthe%20rounded%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20in%20words%5D%5Bend%20if%5D%20card%5Bs%5D.%22%5Cn%5CnTo%20decide%20what%20number%20is%20the%20rounded%20number%20of%20(described%20set%20-%20a%20description%20of%20objects):%5Cn%5Ctlet%20N%20be%20the%20number%20of%20members%20of%20the%20described%20set;%5Cn%5Ctlet%20R%20be%20N%20divided%20by%205;%5Cn%5Ctlet%20total%20be%20R%20times%205;%5Cn%5Ctdecide%20on%20total.%5Cn%5Cn%5BThe%20above%20phrase%20rounds%20a%20number%20to%20the%20nearest%20five,%20so%20that%20the%20player%20is%20not%20autistically%20able%20to%20count%20a%20large%20number%20of%20cards%20in%20the%20discard%20pile%20at%20a%20single%20glance.%5D%5Cn%5Cn%5BThis%20next%20bit%20is%20an%20optional%20borrowing%20from%20the%20Activities%20chapter:%20we%20want%20to%20prevent%20Inform%20printing%20things%20like%20%22You%20can%20see%20a%20discard%20pile%20(closed)%20here.%22,%20since%20we%20don't%20want%20the%20player%20to%20think%20of%20the%20piles%20as%20containers,%20even%20though%20Inform%20thinks%20of%20them%20in%20those%20terms.%5D%5Cn%5CnRule%20for%20printing%20room%20description%20details%20of%20something:%20do%20nothing%20instead.%5Cn%5Cn%5BFinally,%20we%20want%20the%20player%20to%20use%20%22draw%22%20and%20%22discard%22%20to%20manipulate%20his%20hand%20of%20cards:%5D%5Cn%5CnSection%203%20-%20Drawing%20and%20Discarding%20Actions%5Cn%5CnUnderstand%20the%20commands%20%22take%22%20and%20%22carry%22%20and%20%22hold%22%20and%20%22get%22%20and%20%22drop%22%20and%20%22throw%22%20and%20%22discard%22%20as%20something%20new.%5Cn%5CnUnderstand%20%22take%20%5Btext%5D%22%20or%20%22get%20%5Btext%5D%22%20or%20%22drop%20%5Btext%5D%22%20as%20a%20mistake%20(%22Here,%20you%20only%20draw%20and%20discard.%20Nothing%20else%20matters%20at%20the%20moment.%22).%5Cn%5CnUnderstand%20%22draw%22%20or%20%22draw%20card%22%20or%20%22draw%20a%20card%22%20as%20drawing.%20Drawing%20is%20an%20action%20applying%20to%20nothing.%20The%20drawing%20action%20has%20an%20object%20called%20the%20card%20drawn.%5Cn%5CnSetting%20action%20variables%20for%20drawing:%5Cn%5Ctnow%20the%20card%20drawn%20is%20a%20random%20card%20which%20is%20in%20the%20deck%20of%20cards.%5Cn%5CnCheck%20drawing:%5Cn%5Ctif%20the%20card%20drawn%20is%20nothing,%20say%20%22The%20deck%20is%20completely%20depleted.%22%20instead.%5Cn%5CnCheck%20drawing:%5Cn%5Ctif%20the%20number%20of%20cards%20carried%20by%20the%20player%20is%20greater%20than%20four,%5Cn%5Ct%5Ctsay%20%22This%20is%20a%20five-card%20game;%20you%20must%20discard%20something%20before%20drawing%20anything%20further.%22%20instead.%5Cn%5CnCarry%20out%20drawing:%5Cn%5Ctmove%20the%20card%20drawn%20to%20the%20player.%5Cn%5CnReport%20drawing:%5Cn%5Ctsay%20%22You%20draw%20%5Ba%20card%20drawn%5D.%22%5Cn%5Cn%5CnUnderstand%20%22discard%20%5Bcard%5D%22%20as%20discarding.%20Discarding%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20discarding:%5Cn%5Ctif%20the%20player%20does%20not%20carry%20the%20noun,%20say%20%22You%20can%20only%20discard%20cards%20from%20your%20own%20hand.%22%20instead.%5Cn%5CnCarry%20out%20discarding:%5Cn%5Ctnow%20the%20noun%20is%20in%20the%20discard%20pile;%5Cn%5Ctif%20the%20discard%20pile%20is%20not%20visible,%20move%20the%20discard%20pile%20to%20the%20location.%5Cn%5CnReport%20discarding:%5Cn%5Ctsay%20%22You%20toss%20%5Bthe%20noun%5D%20nonchalantly%20onto%20the%20discard%20pile.%22%5Cn%5CnSeeding%20is%20an%20action%20out%20of%20world.%20Understand%20%22seed%22%20as%20seeding.%20Carry%20out%20seeding:%20seed%20the%20random-number%20generator%20with%205681.%5Cn%5CnTest%20me%20with%20%22seed%20/%20draw%20/%20g%20/%20g%20/%20g%20/%20g%20/%20i%20/%20discard%20seven%20of%20spades%20/%20draw%20/%20discard%20six%20/%20draw%20/%20i%20/%20discard%20hearts%20/%20discard%20six%20of%20diamonds%20card%20/%20draw%20/%20draw%20/%20i%20/%20discard%20spades%20card%20/%20draw%20/%20discard%20king%20card%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Tilt"
</p>
<p class="quoted">
Section 1 - Cards
</p>
<p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand "heart" as hearts. Understand "club" as clubs. Understand "diamond" as diamonds. Understand "spade" as spades. [Providing the singular forms means that Inform will also understand &gt;EXAMINE SPADE, &gt;DISCARD CLUB, and so on.]
</p>
<p class="quoted">
A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</p>
<p class="quoted">
52 cards are in the card repository.
</p>
</div>
<p>Now, we're going to describe the higher numbers as face cards, so it helps to write a new "to say" phrase, just as we did in Jokers Wild. (A subsequent version of this example shows how to print card values with red and black symbols representing the different suits; see "Tilt 3".)</p>

<div class="code">
<p class="quoted">
To say (count - a number) as a card value:
<br>    choose row count in the Table of Value Names;
<br>    say "[term entry]".
</p>
<p class="quoted">
Rule for printing the name of a card (called target):
<br>    say "[rank of the target as a card value] of [suit of the target]"
</p>
<p class="quoted">
Table of Value Names
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">term</p></td>
<td class="quotedtablecell"><p class="quoted">value</p></td>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"ace"</p></td>
<td class="quotedtablecell"><p class="quoted">"1"</p></td>
<td class="quotedtablecell"><p class="quoted">"ace/A/one"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"deuce"</p></td>
<td class="quotedtablecell"><p class="quoted">"2"</p></td>
<td class="quotedtablecell"><p class="quoted">"deuce/two"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"three"</p></td>
<td class="quotedtablecell"><p class="quoted">"3"</p></td>
<td class="quotedtablecell"><p class="quoted">"three"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"four"</p></td>
<td class="quotedtablecell"><p class="quoted">"4"</p></td>
<td class="quotedtablecell"><p class="quoted">"four"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"five"</p></td>
<td class="quotedtablecell"><p class="quoted">"5"</p></td>
<td class="quotedtablecell"><p class="quoted">"five"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"six"</p></td>
<td class="quotedtablecell"><p class="quoted">"6"</p></td>
<td class="quotedtablecell"><p class="quoted">"six"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"seven"</p></td>
<td class="quotedtablecell"><p class="quoted">"7"</p></td>
<td class="quotedtablecell"><p class="quoted">"seven"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"eight"</p></td>
<td class="quotedtablecell"><p class="quoted">"8"</p></td>
<td class="quotedtablecell"><p class="quoted">"eight"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"nine"</p></td>
<td class="quotedtablecell"><p class="quoted">"9"</p></td>
<td class="quotedtablecell"><p class="quoted">"nine"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"ten"</p></td>
<td class="quotedtablecell"><p class="quoted">"10"</p></td>
<td class="quotedtablecell"><p class="quoted">"ten"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"jack"</p></td>
<td class="quotedtablecell"><p class="quoted">"11"</p></td>
<td class="quotedtablecell"><p class="quoted">"jack/knave/J"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"queen"</p></td>
<td class="quotedtablecell"><p class="quoted">"12"</p></td>
<td class="quotedtablecell"><p class="quoted">"queen/Q"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"king"</p></td>
<td class="quotedtablecell"><p class="quoted">"13"</p></td>
<td class="quotedtablecell"><p class="quoted">"king/K"</p></td>
</tr>
</table>
</div>
<p>This is enough already to let inform understand things like "ten clubs", but we want to add a couple of refinements. For one thing, we'd like to accept "of" when it appears in phrases such as "ten of clubs" (but not generically otherwise); for another, we'd like the player to be able to use various names for ranks. To this end, we need to borrow from the Activities chapter and modify the player's command before attempting to understand it:</p>

<div class="code"><p class="quoted">
After reading a command:
<br>    if the player's command includes "of [suit]":
<br>        while the player's command includes "of":
<br>            cut the matched text;
<br>    repeat through the Table of Value Names:
<br>        while the player's command includes topic entry:
<br>            replace the matched text with value entry.
<br>    [This allows Inform to understand "ace", "deuce", "king", etc., as numerical ranks.]
</p></div>
<p>It may be a bit confusing that the Table of Value Names has both a topic column and a term column, to all appearances essentially identical. But items in the topic column can be matched against the player's input, whereas items in other kinds of text column can be printed out; the two kinds of text are not treated identically by Inform, so we need to have both. Notice that the topic column contains entries like "jack/knave," which will match either "jack" or "knave" in the player's input.</p>
<p>Now to set up the deck at the outset. With some intelligent looping, we avoid having to declare every combination of suit and number individually:</p>

<div class="code">
<p class="quoted">
When play begins:
<br>    reconstitute deck.
</p>
<p class="quoted">
To reconstitute deck:
<br>    let current suit be hearts;
<br>    now every card is in the card repository;
<br>    while a card is in the card repository:
<br>        repeat with current rank running from 1 to 13:
<br>            let item be a random card in card repository;
<br>            now rank of item is current rank;
<br>            now suit of item is current suit;
<br>            now item is in the deck of cards;
<br>        now current suit is the suit after the current suit.
</p>
</div>
<p>And now we need a simple setting and some actions to manipulate the deck with:</p>

<div class="code">
<p class="quoted">
Section 2 - The Deck and the Discard Pile
</p>
<p class="quoted">
The Empty Room is a room. "Nothing to see here."
</p>
<p class="quoted">
The deck of cards is in the Empty Room. It is a closed unopenable container. The description is "A standard poker deck."
</p>
<p class="quoted">
The discard pile is a closed unopenable container. The description is "Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s]."
</p>
<p class="quoted">
To decide what number is the rounded number of (described set - a description of objects):
<br>    let N be the number of members of the described set;
<br>    let R be N divided by 5;
<br>    let total be R times 5;
<br>    decide on total.
</p>
</div>
<p>The above phrase rounds a number to the nearest five, so that the player is not autistically able to count a large number of cards in the discard pile at a single glance.</p>
<p>This next bit is an optional borrowing from the Activities chapter: we want to prevent Inform printing things like "You can see a discard pile (closed) here.", since we don't want the player to think of the piles as containers, even though Inform thinks of them in those terms.</p>

<div class="code"><p class="quoted">
Rule for printing room description details of something: do nothing instead.
</p></div>
<p>Finally, we want the player to use "draw" and "discard" to manipulate his hand of cards:</p>

<div class="code">
<p class="quoted">
Section 3 - Drawing and Discarding Actions
</p>
<p class="quoted">
Understand the commands "take" and "carry" and "hold" and "get" and "drop" and "throw" and "discard" as something new.
</p>
<p class="quoted">
Understand "take [text]" or "get [text]" or "drop [text]" as a mistake ("Here, you only draw and discard. Nothing else matters at the moment.").
</p>
<p class="quoted">
Understand "draw" or "draw card" or "draw a card" as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</p>
<p class="quoted">
Setting action variables for drawing:
<br>    now the card drawn is a random card which is in the deck of cards.
</p>
<p class="quoted">
Check drawing:
<br>    if the card drawn is nothing, say "The deck is completely depleted." instead.
</p>
<p class="quoted">
Check drawing:
<br>    if the number of cards carried by the player is greater than four,
<br>        say "This is a five-card game; you must discard something before drawing anything further." instead.
</p>
<p class="quoted">
Carry out drawing:
<br>    move the card drawn to the player.
</p>
<p class="quoted">
Report drawing:
<br>    say "You draw [a card drawn]."
</p>
<p class="quoted">
Understand "discard [card]" as discarding. Discarding is an action applying to one thing.
</p>
<p class="quoted">
Check discarding:
<br>    if the player does not carry the noun, say "You can only discard cards from your own hand." instead.
</p>
<p class="quoted">
Carry out discarding:
<br>    now the noun is in the discard pile;
<br>    if the discard pile is not visible, move the discard pile to the location.
</p>
<p class="quoted">
Report discarding:
<br>    say "You toss [the noun] nonchalantly onto the discard pile."
</p>
<p class="quoted">
Seeding is an action out of world. Understand "seed" as seeding. Carry out seeding: seed the random-number generator with 5681.
</p>
<p class="quoted">
Test me with "seed / draw / g / g / g / g / i / discard seven of spades / draw / discard six / draw / i / discard hearts / discard six of diamonds card / draw / draw / i / discard spades card / draw / discard king card".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.15">WI §17.15. Understanding things by their properties</a><br><a href="rb_9.html#rb-9.5">RB §9.5. Dice and Playing Cards</a>
</div></details><details class="full-example" id="example-407"><summary><span class="example-summary">407. Tilt 2</span> <span class="example-difficulty">★★★</span></summary><div>
<p>In our previous implementations of playing cards, we've gotten as far as creating decks of individual cards that the player can draw and discard. But in a poker game, one doesn't just have a collection of cards: one has a hand of a specific kind.</p>
<p>Here we take on the job of writing an inventory listing for a poker hand that will reflect the real value of what the player has drawn. To do this, we create a rulebook to sort and assess the cards in the player's hand; its possible return values are limited to the kinds of poker hands that exist, from "high card" to "royal flush".</p>
<p>The first three sections, creating the deck of cards and the means to parse their names, are identical to those we've already seen in Tilt 1; new material begins at section 4.</p>
<p>For the purposes of demonstration, we're simulating something akin to five-card draw without wilds; stud or hold-em variations would add some other complexities.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Tilt%22%5Cn%5CnSection%201%20-%20Cards%5Cn%5CnSuit%20is%20a%20kind%20of%20value.%20The%20suits%20are%20hearts,%20clubs,%20diamonds,%20and%20spades.%20Understand%20%22heart%22%20as%20hearts.%20Understand%20%22club%22%20as%20clubs.%20Understand%20%22diamond%22%20as%20diamonds.%20Understand%20%22spade%22%20as%20spades.%5Cn%5CnA%20card%20is%20a%20kind%20of%20thing.%20%20A%20card%20has%20a%20suit.%20A%20card%20has%20a%20number%20called%20rank.%20Understand%20the%20suit%20property%20as%20describing%20a%20card.%20Understand%20the%20rank%20property%20as%20describing%20a%20card.%5Cn%5Cn52%20cards%20are%20in%20the%20card%20repository.%5Cn%5CnTo%20say%20(count%20-%20a%20number)%20as%20a%20card%20value:%5Cn%5Ctchoose%20row%20count%20in%20the%20Table%20of%20Value%20Names;%5Cn%5Ctsay%20%22%5Bterm%20entry%5D%22.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20card%20(called%20target):%5Cn%5Ctsay%20%22%5Brank%20of%20the%20target%20as%20a%20card%20value%5D%20of%20%5Bsuit%20of%20the%20target%5D%22%5Cn%5CnTable%20of%20Value%20Names%5Cnterm%5Ctvalue%5Cttopic%5Cn%22ace%22%5Ct%221%22%5Ct%22ace/A/one%22%5Cn%22deuce%22%5Ct%222%22%5Ct%22deuce/two%22%5Cn%22three%22%5Ct%223%22%5Ct%22three%22%5Cn%22four%22%5Ct%224%22%5Ct%22four%22%5Cn%22five%22%5Ct%225%22%5Ct%22five%22%5Cn%22six%22%5Ct%226%22%5Ct%22six%22%5Cn%22seven%22%5Ct%227%22%5Ct%22seven%22%5Cn%22eight%22%5Ct%228%22%5Ct%22eight%22%5Cn%22nine%22%5Ct%229%22%5Ct%22nine%22%5Cn%22ten%22%5Ct%2210%22%5Ct%22ten%22%5Cn%22jack%22%5Ct%2211%22%5Ct%22jack/knave/J%22%5Cn%22queen%22%5Ct%2212%22%5Ct%22queen/Q%22%5Cn%22king%22%5Ct%2213%22%5Ct%22king/K%22%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctif%20the%20player's%20command%20includes%20%22of%20%5Bsuit%5D%22:%5Cn%5Ct%5Ctwhile%20the%20player's%20command%20includes%20%22of%22:%5Cn%5Ct%5Ct%5Ctcut%20the%20matched%20text;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Value%20Names:%5Cn%5Ct%5Ctwhile%20the%20player's%20command%20includes%20topic%20entry:%5Cn%5Ct%5Ct%5Ctreplace%20the%20matched%20text%20with%20value%20entry.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctreconstitute%20deck.%5Cn%5CnTo%20reconstitute%20deck:%5Cn%5Ctlet%20current%20suit%20be%20hearts;%5Cn%5Ctnow%20every%20card%20is%20in%20the%20card%20repository;%5Cn%5Ctwhile%20a%20card%20is%20in%20the%20card%20repository:%5Cn%5Ct%5Ctrepeat%20with%20current%20rank%20running%20from%201%20to%2013:%5Cn%5Ct%5Ct%5Ctlet%20item%20be%20a%20random%20card%20in%20card%20repository;%5Cn%5Ct%5Ct%5Ctnow%20rank%20of%20item%20is%20current%20rank;%5Cn%5Ct%5Ct%5Ctnow%20suit%20of%20item%20is%20current%20suit;%5Cn%5Ct%5Ct%5Ctnow%20item%20is%20in%20the%20deck%20of%20cards;%5Cn%5Ct%5Ctnow%20current%20suit%20is%20the%20suit%20after%20the%20current%20suit.%5Cn%5CnSection%202%20-%20The%20Deck%20and%20the%20Discard%20Pile%5Cn%5CnThe%20Empty%20Room%20is%20a%20room.%20%22Nothing%20to%20see%20here.%22%5Cn%5CnThe%20deck%20of%20cards%20is%20in%20the%20Empty%20Room.%20It%20is%20a%20closed%20unopenable%20container.%20The%20description%20is%20%22A%20standard%20poker%20deck.%22%5Cn%5CnThe%20discard%20pile%20is%20a%20closed%20unopenable%20container.%20The%20description%20is%20%22Cards%20in%20this%20game%20are%20discarded%20face-down,%20so%20the%20discard%20pile%20is%20not%20very%20interesting%20to%20see.%20All%20you%20can%20observe%20is%20that%20it%20currently%20contains%20%5Bif%20the%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20is%20less%20than%20ten%5D%5Bthe%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20in%20words%5D%5Botherwise%5Dabout%20%5Bthe%20rounded%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20in%20words%5D%5Bend%20if%5D%20card%5Bs%5D.%22%5Cn%5CnTo%20decide%20what%20number%20is%20the%20rounded%20number%20of%20(described%20set%20-%20a%20description%20of%20objects):%5Cn%5Ctlet%20N%20be%20the%20number%20of%20members%20of%20the%20described%20set;%5Cn%5Ctlet%20R%20be%20N%20divided%20by%205;%5Cn%5Ctlet%20total%20be%20R%20times%205;%5Cn%5Ctdecide%20on%20total.%5Cn%5CnRule%20for%20printing%20room%20description%20details%20of%20something:%20do%20nothing%20instead.%5Cn%5CnSection%203%20-%20Drawing%20and%20Discarding%20Actions%5Cn%5CnUnderstand%20the%20commands%20%22take%22%20and%20%22carry%22%20and%20%22hold%22%20and%20%22get%22%20and%20%22drop%22%20and%20%22throw%22%20and%20%22discard%22%20as%20something%20new.%5Cn%5CnUnderstand%20%22take%20%5Btext%5D%22%20or%20%22get%20%5Btext%5D%22%20or%20%22drop%20%5Btext%5D%22%20as%20a%20mistake%20(%22Here,%20you%20only%20draw%20and%20discard.%20Nothing%20else%20matters%20at%20the%20moment.%22).%5Cn%5CnUnderstand%20%22draw%22%20or%20%22draw%20card%22%20or%20%22draw%20a%20card%22%20as%20drawing.%20Drawing%20is%20an%20action%20applying%20to%20nothing.%20The%20drawing%20action%20has%20an%20object%20called%20the%20card%20drawn.%5Cn%5CnSetting%20action%20variables%20for%20drawing:%5Cn%5Ctnow%20the%20card%20drawn%20is%20a%20random%20card%20which%20is%20in%20the%20deck%20of%20cards.%5Cn%5CnCheck%20drawing:%5Cn%5Ctif%20the%20card%20drawn%20is%20nothing,%20say%20%22The%20deck%20is%20completely%20depleted.%22%20instead.%5Cn%5CnCheck%20drawing:%5Cn%5Ctif%20the%20number%20of%20cards%20carried%20by%20the%20player%20is%20greater%20than%20four,%5Cn%5Ct%5Ctsay%20%22This%20is%20a%20five-card%20game;%20you%20must%20discard%20something%20before%20drawing%20anything%20further.%22%20instead.%5Cn%5CnCarry%20out%20drawing:%5Cn%5Ctmove%20the%20card%20drawn%20to%20the%20player.%5Cn%5CnReport%20drawing:%5Cn%5Ctsay%20%22You%20draw%20%5Ba%20card%20drawn%5D.%22%5Cn%5Cn%5CnUnderstand%20%22discard%20%5Bcard%5D%22%20as%20discarding.%20Discarding%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20discarding:%5Cn%5Ctif%20the%20player%20does%20not%20carry%20the%20noun,%20say%20%22You%20can%20only%20discard%20cards%20from%20your%20own%20hand.%22%20instead.%5Cn%5CnCarry%20out%20discarding:%5Cn%5Ctnow%20the%20noun%20is%20in%20the%20discard%20pile;%5Cn%5Ctif%20the%20discard%20pile%20is%20not%20visible,%20move%20the%20discard%20pile%20to%20the%20location.%5Cn%5CnReport%20discarding:%5Cn%5Ctsay%20%22You%20toss%20%5Bthe%20noun%5D%20nonchalantly%20onto%20the%20discard%20pile.%22%5Cn%5Cn%5BNew%20material%20begins%20here.%20We%20want%20to%20start%20by%20grouping%20cards%20together,%20but%20identifying%20poker%20hands%20only%20if%20the%20player%20holds%20a%20full%20five%20cards.%5D%5Cn%5CnSection%204%20-%20Assessing%20Hands%5Cn%5CnBefore%20listing%20contents%20while%20taking%20inventory:%20group%20cards%20together.%5Cn%5CnBefore%20grouping%20together%20cards:%5Cn%5Ctif%20the%20number%20of%20cards%20carried%20by%20the%20player%20is%205:%5Cn%5Ct%5Ctsay%20%22%5Brun%20paragraph%20on%5D%22;%5Cn%5Ct%5Ctfollow%20the%20hand-ranking%20rules;%5Cn%5Ct%5Ctif%20the%20rule%20succeeded,%20say%20%22%5Bthe%20outcome%20of%20the%20rulebook%5D%22;%5Cn%5Ct%5Ctotherwise%20say%20%22some%20random%20cards%22;%5Cn%5Ct%5Ctif%20the%20outcome%20of%20the%20rulebook%20is%20pair%20outcome,%20say%20%22%20of%20%5Brank%20of%20the%20first%20thing%20held%20by%20the%20player%20as%20a%20card%20value%5Ds%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5Bnumber%20of%20cards%20carried%20by%20the%20player%20in%20words%5D%20assorted%20cards%22;%5Cn%5Ctsay%20%22%20(%22.%5Cn%5CnRule%20for%20grouping%20together%20cards:%5Cn%5Ctsay%20%22%5Blist%20hand%5D%22.%5Cn%5CnTo%20say%20list%20hand:%5Cn%5Ctlet%20chosen%20card%20be%20the%20first%20thing%20held%20by%20the%20player;%5Cn%5Ctwhile%20chosen%20card%20is%20a%20card:%5Cn%5Ct%5Ctsay%20%22%5Bchosen%20card%5D%22;%5Cn%5Ct%5Ctnow%20chosen%20card%20is%20the%20next%20thing%20held%20after%20chosen%20card;%5Cn%5Ct%5Ctif%20chosen%20card%20is%20a%20card,%20say%20%22,%20%22.%5Cn%5CnAfter%20grouping%20together%20cards:%5Cn%5Ctsay%20%22)%22.%5Cn%5Cn%5BThe%20ranking%20of%20poker%20hands%20traditionally%20depends%20on%20three%20features:%201)%20whether%20all%20the%20cards%20are%20of%20the%20same%20suit%20(flush);%202)%20whether%20the%20cards%20constitute%20a%20numerical%20run%20of%20ranks%20(straight);%20and%203)%20how%20many%20cards%20or%20sets%20of%20cards%20are%20of%20matching%20rank%20(pairs,%20three%20of%20a%20kind,%20and%20four%20of%20a%20kind).%20Here%20we%20will%20start%20by%20assessing%20our%20hand%20to%20determine%20these%20qualities:%5D%5Cn%5CnThe%20hand-ranking%20rules%20is%20a%20rulebook.%20The%20hand-ranking%20rules%20have%20outcomes%20royal%20flush,%20straight%20flush,%20four%20of%20a%20kind,%20full%20house,%20flush,%20straight,%20three%20of%20a%20kind,%20two%20pairs,%20pair,%20high%20card.%5Cn%5CnThe%20hand-ranking%20rulebook%20has%20a%20truth%20state%20called%20the%20flushness.%5CnThe%20hand-ranking%20rulebook%20has%20a%20truth%20state%20called%20the%20straightness.%5Cn%5CnThe%20hand-ranking%20rulebook%20has%20a%20number%20called%20the%20pair%20count.%5CnThe%20hand-ranking%20rulebook%20has%20a%20number%20called%20the%20triple%20count.%5CnThe%20hand-ranking%20rulebook%20has%20a%20number%20called%20the%20quadruple%20count.%5Cn%5Cn%5BFor%20convenience%20in%20identifying%20hand%20features,%20and%20for%20elegance%20when%20we%20print%20the%20hand-listing,%20we%20start%20by%20sorting%20the%20cards%20in%20the%20player's%20hand%20so%20that%20the%20high-ranked%20cards%20are%20listed%20first.%20It%20is%20rare%20that%20we%20want%20to%20concern%20ourselves%20with%20this,%20but%20as%20we%20saw%20in%20the%20section%20on%20%22Looking%20at%20containment%20by%20hand%22%20in%20the%20chapter%20on%20Change,%20Inform%20keeps%20an%20ordered%20list%20of%20the%20items%20inside%20any%20given%20container;%20so%20it%20does%20order%20the%20objects%20in%20the%20player's%20hand,%20and%20the%20ordering%20depends%20on%20which%20things%20were%20added%20to%20the%20hand%20most%20recently.%20By%20moving%20something%20to%20the%20player's%20hand%20again%20(even%20if%20it%20was%20already%20there),%20we%20change%20this%20ordering,%20and%20wind%20up%20with%20a%20sorted%20hand.%5D%5Cn%5CnA%20card%20can%20be%20sorted%20or%20unsorted.%20A%20card%20is%20usually%20unsorted.%5Cn%5CnDefinition:%20a%20card%20is%20high%20if%20its%20rank%20is%2011%20or%20more.%5CnDefinition:%20a%20card%20is%20low%20if%20its%20rank%20is%204%20or%20less.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20initial%20sort%20rule):%5Cn%5Ctnow%20every%20card%20is%20unsorted;%5Cn%5Ctwhile%20the%20player%20carries%20an%20unsorted%20card:%5Cn%5Ct%5Ctlet%20item%20be%20the%20lowest%20unsorted%20card%20held%20by%20the%20player;%5Cn%5Ct%5Ctmove%20item%20to%20the%20player;%5Cn%5Ct%5Ctnow%20the%20item%20is%20sorted;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20initial%20sort:%20%5Blist%20hand%5D%22.%5Cn%5Cn%5BThis%20last%20printing%20instruction%20is%20there%20for%20diagnostic%20purposes:%20later%20we'll%20add%20a%20testing%20command%20to%20turn%20debugging%20on%20and%20off;%20when%20it's%20on,%20the%20game%20will%20print%20out%20its%20card%20list%20at%20various%20stages%20in%20sorting,%20to%20help%20us%20trouble-shoot%20any%20problems.%20In%20normal%20play,%20however,%20this%20will%20be%20off.%5D%5Cn%5Cn%5BNext%20up,%20a%20check%20to%20see%20whether%20the%20player%20has%20a%20flush:%5D%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20finding%20flushness%20rule):%5Cn%5Ctlet%20called%20suit%20be%20the%20suit%20of%20a%20random%20card%20carried%20by%20the%20player;%5Cn%5Ctif%20every%20card%20carried%20by%20the%20player%20is%20called%20suit,%20now%20flushness%20is%20true.%5Cn%5Cn%5BNow%20we%20check%20for%20straights;%20this%20is%20slightly%20complicated%20by%20the%20fact%20that%20an%20ace%20can%20be%20either%20the%20bottom%20of%20a%20low%20straight%20(lower%20than%202)%20or%20the%20top%20of%20a%20high%20straight%20(higher%20than%20king),%20so%20we%20explicitly%20check%20both%20possibilities.%5D%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20finding%20straightness%20rule):%5Cn%5Ctnow%20straightness%20is%20true;%5Cn%5Ctlet%20N%20be%20the%20rank%20of%20the%20highest%20card%20which%20is%20carried%20by%20the%20player;%5Cn%5Ctrepeat%20with%20current%20rank%20running%20from%20N%20-%204%20to%20N:%5Cn%5Ct%5Ctnow%20the%20test%20rank%20is%20the%20current%20rank;%5Cn%5Ct%5Ctunless%20the%20player%20carries%20a%20matching%20card:%5Cn%5Ct%5Ct%5Ctif%20the%20current%20rank%20is%20N%20-%204%20and%20the%20current%20rank%20is%209%20and%20the%20player%20carries%20an%20ace%20card,%20do%20nothing;%20%5Bthis%20covers%20the%20case%20where%20an%20ace%20could%20be%20the%20top%20card%20of%20the%20sequence%5D%5Cn%5Ct%5Ct%5Ctotherwise%20now%20straightness%20is%20false.%5Cn%5Cn%5BAnd%20finally,%20we%20need%20to%20identify%20any%20groups%20of%20cards%20of%20the%20same%20rank.%20We%20want%20to%20know%20how%20many%20groups%20there%20are%20and%20how%20large%20each%20group%20is%20(though%20in%20practice%20there%20can%20only%20be%20one%20group%20of%20three%20or%20four%20in%20a%20standard-sized%20poker%20hand).%20We%20also%20want%20to%20mark%20any%20grouped%20cards%20so%20that%20we%20can%20move%20them%20to%20the%20front%20of%20the%20player's%20hand%20when%20we%20take%20inventory.%5D%5Cn%5CnA%20card%20can%20be%20quadrupled,%20tripled,%20paired%20or%20uncombined.%5Cn%5CnTest%20rank%20is%20a%20number%20that%20varies.%20Definition:%20a%20card%20is%20matching%20if%20its%20rank%20is%20the%20test%20rank.%5Cn%5Cn%5BThis%20definition%20is%20a%20convenience%20so%20that%20we%20don't%20have%20to%20write%20so%20many%20explicit%20loops%20in%20the%20following%20rule:%5D%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20counting%20multiples%20rule):%5Cn%5Ctnow%20every%20card%20is%20uncombined;%5Cn%5Ctrepeat%20with%20current%20rank%20running%20from%201%20to%2013:%5Cn%5Ct%5Ctnow%20test%20rank%20is%20current%20rank;%5Cn%5Ct%5Ctlet%20N%20be%20the%20number%20of%20matching%20cards%20held%20by%20the%20player;%5Cn%5Ct%5Ctif%20N%20is%204:%5Cn%5Ct%5Ct%5Ctincrement%20the%20quadruple%20count;%5Cn%5Ct%5Ct%5Ctnow%20every%20matching%20card%20held%20by%20the%20player%20is%20quadrupled;%5Cn%5Ct%5Ctif%20N%20is%203:%5Cn%5Ct%5Ct%5Ctincrement%20the%20triple%20count;%5Cn%5Ct%5Ct%5Ctnow%20every%20matching%20card%20held%20by%20the%20player%20is%20tripled;%5Cn%5Ct%5Ctif%20N%20is%202:%5Cn%5Ct%5Ct%5Ctincrement%20the%20pair%20count;%5Cn%5Ct%5Ct%5Ctnow%20every%20matching%20card%20held%20by%20the%20player%20is%20paired.%5Cn%5Cn%5BNext%20we%20tweak%20our%20sorting%20to%20reflect%20the%20make-up%20of%20the%20hand.%20There%20are%20two%20reasons%20why%20this%20might%20differ%20from%20the%20straight%20highest-to-lowest%20sort%20we%20did%20earlier:%5D%5Cn%5Cn%5B1)%20we%20want%20to%20list%20aces%20as%20high%20unless%20they%20are%20serving%20as%20the%20bottom%20of%20a%20low%20straight,%20in%20which%20case%20they%20should%20appear%20last;%5D%5Cn%5Cn%5B2)%20we%20want%20combinations%20to%20appear%20at%20the%20front%20of%20the%20list,%20sorted%20from%20highest%20value%20to%20lowest%20value:%20larger%20combinations%20first,%20then%20smaller%20combinations,%20and%20combinations%20of%20equal%20size%20sorted%20by%20rank.%5D%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20move%20aces%20up%20unless%20there's%20a%20low%20straight%20rule):%5Cn%5Ctunless%20the%20straightness%20is%20true%20and%20the%20lowest%20card%20carried%20by%20the%20player%20is%20an%20ace%20card%20and%20the%20rank%20of%20the%20highest%20card%20carried%20by%20the%20player%20is%205,%5Cn%5Ct%5Ctnow%20every%20ace%20card%20which%20is%20carried%20by%20the%20player%20is%20carried%20by%20the%20player;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20ace%20movement%20rule:%20%5Blist%20hand%5D%22.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20move%20pairs%20forward%20rule):%5Cn%5Ctwhile%20the%20player%20carries%20a%20paired%20card:%5Cn%5Ct%5Ctlet%20selection%20be%20the%20lowest%20paired%20card%20which%20is%20carried%20by%20the%20player;%5Cn%5Ct%5Ctmove%20the%20selection%20to%20the%20player;%5Cn%5Ct%5Ctnow%20the%20selection%20is%20uncombined;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20pairs%20movement:%20%5Blist%20hand%5D%22.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20raise%20ace%20pairs%20rule):%5Cn%5Ctif%20the%20player%20carries%20exactly%20two%20ace%20cards:%5Cn%5Ct%5Ctrepeat%20with%20item%20running%20through%20ace%20cards%20which%20are%20carried%20by%20the%20player:%5Cn%5Ct%5Ct%5Ctmove%20item%20to%20the%20player;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20paired-ace%20movement:%20%5Blist%20hand%5D%22.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20move%20multiples%20forward%20rule):%5Cn%5Ctwhile%20the%20player%20carries%20a%20tripled%20card:%5Cn%5Ct%5Ctlet%20selection%20be%20the%20lowest%20tripled%20card%20which%20is%20carried%20by%20the%20player;%5Cn%5Ct%5Ctmove%20the%20selection%20to%20the%20player;%5Cn%5Ct%5Ctnow%20the%20selection%20is%20uncombined;%5Cn%5Ctwhile%20the%20player%20carries%20a%20quadrupled%20card:%5Cn%5Ct%5Ctlet%20selection%20be%20the%20lowest%20quadrupled%20card%20which%20is%20carried%20by%20the%20player;%5Cn%5Ct%5Ctmove%20the%20selection%20to%20the%20player;%5Cn%5Ct%5Ctnow%20the%20selection%20is%20uncombined;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20multiples%20movement%20rule:%20%5Blist%20hand%5D%22.%5Cn%5CnDefinition:%20a%20card%20is%20ace%20if%20its%20rank%20is%201.%5CnDefinition:%20a%20card%20is%20king%20if%20its%20rank%20is%2013.%5Cn%5Cn%5BNow,%20having%20determined%20the%20salient%20qualities%20of%20our%20hand,%20we%20run%20through%20rules%20in%20order%20from%20the%20highest%20kind%20of%20poker%20combination%20to%20the%20lowest.%20Because%20of%20the%20order%20of%20the%20source,%20Inform%20will%20choose%20whichever%20combination%20applies%20first.%5D%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20royal-flush%20rule):%5Cn%5Ctif%20flushness%20is%20true%20and%20straightness%20is%20true%20and%20the%20highest%20card%20carried%20by%20the%20player%20is%20king%20and%20the%20lowest%20card%20carried%20by%20the%20player%20is%20ace,%20royal%20flush.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20straight-flushes%20rule):%5Cn%5Ctif%20flushness%20is%20true%20and%20straightness%20is%20true,%20straight%20flush.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20four-of-a-kind%20rule):%5Cn%5Ctif%20the%20quadruple%20count%20is%201,%20four%20of%20a%20kind.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20full-house%20rule):%5Cn%5Ctif%20the%20pair%20count%20is%201%20and%20the%20triple%20count%20is%201,%20full%20house.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20flushes%20rule):%5Cn%5Ctif%20flushness%20is%20true,%20flush.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20straights%20rule):%5Cn%5Ctif%20straightness%20is%20true,%20straight.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20three-of-a-kind%20rule):%5Cn%5Ctif%20triple%20count%20is%201,%20three%20of%20a%20kind.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20two-pair%20rule):%5Cn%5Ctif%20the%20pair%20count%20is%202,%20two%20pairs.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20pair%20rule):%5Cn%5Ctif%20the%20pair%20count%20is%201,%20pair.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20default%20rule):%5Cn%5Cthigh%20card.%5Cn%5Cn%5BAnd%20finally,%20we%20need%20to%20define%20our%20debugging%20variable%20here,%20even%20though%20we%20won't%20give%20the%20player%20the%20ability%20to%20turn%20it%20on%20and%20off%20except%20in%20the%20special%20testing%20section.%5D%5Cn%5CnSort-debugging%20is%20a%20truth%20state%20that%20varies.%5Cn%5Cn%5BFor%20many%20examples,%20a%20test-me%20script%20is%20enough%20to%20prove%20that%20the%20example%20does%20what%20it%20ought.%20This%20example,%20though,%20is%20a%20bit%20more%20complicated,%20and%20hard%20to%20test%20randomly.%20The%20remainder%20of%20the%20source%20here%20shows%20how%20we%20might%20write%20a%20test%20to%20verify%20the%20desired%20behavior%20of%20our%20rulebook.%20Those%20who%20are%20only%20interested%20in%20the%20rulebook%20itself%20can%20stop%20reading%20at%20this%20point.%5D%5Cn%5CnSection%205%20-%20Testing%20hand%20identification%20-%20Not%20for%20release%5Cn%5Cn%5BFor%20the%20sake%20of%20testing%20our%20rules,%20we%20provide%20an%20apparatus%20that%20will%20load%20the%20player's%20hand%20up%20with%20sample%20hands%20of%20each%20kind,%20then%20show%20the%20result%20to%20make%20sure%20that%20the%20hand%20is%20being%20correctly%20identified.%5D%5Cn%5CnUnderstand%20%22debug%20sorting%22%20as%20debugging%20hand%20sorting.%20Debugging%20hand%20sorting%20is%20an%20action%20out%20of%20world.%5Cn%5CnCarry%20out%20debugging%20hand%20sorting:%5Cn%5Ctif%20sort-debugging%20is%20false,%20now%20sort-debugging%20is%20true;%5Cn%5Ctotherwise%20now%20sort-debugging%20is%20false.%5Cn%5CnReport%20debugging%20hand%20sorting:%5Cn%5Ctsay%20%22Sort%20debugging%20is%20now%20%5Bif%20sort-debugging%20is%20true%5Don%5Botherwise%5Doff%5Bend%20if%5D.%22%5Cn%5CnTest%20me%20with%20%22draw%20/%20g%20/%20g%20/%20g%20/%20g%20/%20force%20hand%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%22.%5Cn%5Cn%5BThe%20somewhat%20rough-and-ready%20principle%20of%20this%20table%20is%20that%20we%20will%20overwrite%20the%20cards%20in%20the%20player's%20hand%20by%20resetting%20their%20ranks%20and%20suits;%20every%20five%20rows%20of%20the%20table%20represent%20a%20new%20poker%20hand%20for%20the%20game%20to%20attempt%20to%20sort%20and%20identify.%20These%20include%20one%20example%20of%20each%20of%20the%20major%20kinds%20of%20poker%20hand,%20plus%20a%20couple%20of%20variations%20involving%20aces%20which%20test%20the%20special%20sorting%20rules.%5D%5Cn%5CnTable%20of%20Testing%20Hands%5Cnset%20suit%5Ctset%20rank%5Cnspades%5Ct1%5Ct%5Broyal%20flush%5D%5Cnspades%5Ct13%5Cnspades%5Ct12%5Cnspades%5Ct11%5Cnspades%5Ct10%5Cnclubs%5Ct12%5Ct%5Bstraight%20flush%5D%5Cnclubs%5Ct11%5Cnclubs%5Ct10%5Cnclubs%5Ct9%5Cnclubs%5Ct8%5Cndiamonds%5Ct8%5Ct%5Bfour%20of%20a%20kind%5D%5Cnhearts%5Ct8%5Cnspades%5Ct8%5Cnclubs%5Ct8%5Cnclubs%5Ct3%5Cnclubs%5Ct1%5Ct%5Bfull%20house%5D%5Cnspades%5Ct1%5Cnhearts%5Ct10%5Cnspades%5Ct10%5Cnclubs%5Ct10%5Cnhearts%5Ct2%5Ct%5Bflush%5D%5Cnhearts%5Ct5%5Cnhearts%5Ct7%5Cnhearts%5Ct11%5Cnhearts%5Ct12%5Cnhearts%5Ct1%5Ct%5Bstraight%5D%5Cnspades%5Ct13%5Cndiamonds%5Ct12%5Cnclubs%5Ct11%5Cnhearts%5Ct10%5Cnhearts%5Ct2%5Ct%5Bthree%20of%20a%20kind%5D%5Cnspades%5Ct2%5Cnclubs%5Ct2%5Cnclubs%5Ct4%5Cnspades%5Ct3%5Cndiamonds%5Ct6%5Ct%5Btwo%20pairs%5D%5Cnspades%5Ct6%5Cnclubs%5Ct7%5Cndiamonds%5Ct7%5Cnhearts%5Ct9%5Cndiamonds%5Ct6%5Ct%5Btwo%20pairs,%20ace%20high%5D%5Cnspades%5Ct6%5Cnclubs%5Ct1%5Cndiamonds%5Ct7%5Cnhearts%5Ct1%5Cnhearts%5Ct12%5Ct%5Bpair%5D%5Cnspades%5Ct12%5Cndiamonds%5Ct10%5Cnspades%5Ct7%5Cnclubs%5Ct4%5Cndiamonds%5Ct13%5Ct%5Bhigh%5D%5Cnhearts%5Ct11%5Cnspades%5Ct9%5Cnclubs%5Ct7%5Cndiamonds%5Ct5%5Cnhearts%5Ct1%5Ct%5Btricky%20sorting:%20low%20straight%5D%5Cndiamonds%5Ct2%5Cnspades%5Ct3%5Cndiamonds%5Ct4%5Cndiamonds%5Ct5%5Cn%5CnUnderstand%20%22force%20hand%22%20as%20forcing%20a%20hand.%20Forcing%20a%20hand%20is%20an%20action%20out%20of%20world.%5Cn%5CnCurrent%20marker%20is%20a%20number%20that%20varies.%5Cn%5CnCarry%20out%20forcing%20a%20hand:%5Cn%5Ctrepeat%20with%20item%20running%20through%20cards%20which%20are%20carried%20by%20the%20player:%5Cn%5Ct%5Ctincrement%20current%20marker;%5Cn%5Ct%5Ctif%20current%20marker%20is%20greater%20than%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Testing%20Hands,%20now%20current%20marker%20is%201;%5Cn%5Ct%5Ctchoose%20row%20current%20marker%20in%20the%20Table%20of%20Testing%20Hands;%5Cn%5Ct%5Ctnow%20the%20suit%20of%20item%20is%20the%20set%20suit%20entry;%5Cn%5Ct%5Ctnow%20the%20rank%20of%20item%20is%20the%20set%20rank%20entry.%5Cn%5CnReport%20forcing%20a%20hand:%5Cn%5Cttry%20taking%20inventory.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Tilt"
</p>
<p class="quoted">
Section 1 - Cards
</p>
<p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand "heart" as hearts. Understand "club" as clubs. Understand "diamond" as diamonds. Understand "spade" as spades.
</p>
<p class="quoted">
A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</p>
<p class="quoted">
52 cards are in the card repository.
</p>
<p class="quoted">
To say (count - a number) as a card value:
<br>    choose row count in the Table of Value Names;
<br>    say "[term entry]".
</p>
<p class="quoted">
Rule for printing the name of a card (called target):
<br>    say "[rank of the target as a card value] of [suit of the target]"
</p>
<p class="quoted">
Table of Value Names
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">term</p></td>
<td class="quotedtablecell"><p class="quoted">value</p></td>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"ace"</p></td>
<td class="quotedtablecell"><p class="quoted">"1"</p></td>
<td class="quotedtablecell"><p class="quoted">"ace/A/one"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"deuce"</p></td>
<td class="quotedtablecell"><p class="quoted">"2"</p></td>
<td class="quotedtablecell"><p class="quoted">"deuce/two"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"three"</p></td>
<td class="quotedtablecell"><p class="quoted">"3"</p></td>
<td class="quotedtablecell"><p class="quoted">"three"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"four"</p></td>
<td class="quotedtablecell"><p class="quoted">"4"</p></td>
<td class="quotedtablecell"><p class="quoted">"four"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"five"</p></td>
<td class="quotedtablecell"><p class="quoted">"5"</p></td>
<td class="quotedtablecell"><p class="quoted">"five"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"six"</p></td>
<td class="quotedtablecell"><p class="quoted">"6"</p></td>
<td class="quotedtablecell"><p class="quoted">"six"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"seven"</p></td>
<td class="quotedtablecell"><p class="quoted">"7"</p></td>
<td class="quotedtablecell"><p class="quoted">"seven"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"eight"</p></td>
<td class="quotedtablecell"><p class="quoted">"8"</p></td>
<td class="quotedtablecell"><p class="quoted">"eight"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"nine"</p></td>
<td class="quotedtablecell"><p class="quoted">"9"</p></td>
<td class="quotedtablecell"><p class="quoted">"nine"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"ten"</p></td>
<td class="quotedtablecell"><p class="quoted">"10"</p></td>
<td class="quotedtablecell"><p class="quoted">"ten"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"jack"</p></td>
<td class="quotedtablecell"><p class="quoted">"11"</p></td>
<td class="quotedtablecell"><p class="quoted">"jack/knave/J"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"queen"</p></td>
<td class="quotedtablecell"><p class="quoted">"12"</p></td>
<td class="quotedtablecell"><p class="quoted">"queen/Q"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"king"</p></td>
<td class="quotedtablecell"><p class="quoted">"13"</p></td>
<td class="quotedtablecell"><p class="quoted">"king/K"</p></td>
</tr>
</table>
<p class="quoted">
After reading a command:
<br>    if the player's command includes "of [suit]":
<br>        while the player's command includes "of":
<br>            cut the matched text;
<br>    repeat through the Table of Value Names:
<br>        while the player's command includes topic entry:
<br>            replace the matched text with value entry.
</p>
<p class="quoted">
When play begins:
<br>    reconstitute deck.
</p>
<p class="quoted">
To reconstitute deck:
<br>    let current suit be hearts;
<br>    now every card is in the card repository;
<br>    while a card is in the card repository:
<br>        repeat with current rank running from 1 to 13:
<br>            let item be a random card in card repository;
<br>            now rank of item is current rank;
<br>            now suit of item is current suit;
<br>            now item is in the deck of cards;
<br>        now current suit is the suit after the current suit.
</p>
<p class="quoted">
Section 2 - The Deck and the Discard Pile
</p>
<p class="quoted">
The Empty Room is a room. "Nothing to see here."
</p>
<p class="quoted">
The deck of cards is in the Empty Room. It is a closed unopenable container. The description is "A standard poker deck."
</p>
<p class="quoted">
The discard pile is a closed unopenable container. The description is "Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s]."
</p>
<p class="quoted">
To decide what number is the rounded number of (described set - a description of objects):
<br>    let N be the number of members of the described set;
<br>    let R be N divided by 5;
<br>    let total be R times 5;
<br>    decide on total.
</p>
<p class="quoted">
Rule for printing room description details of something: do nothing instead.
</p>
<p class="quoted">
Section 3 - Drawing and Discarding Actions
</p>
<p class="quoted">
Understand the commands "take" and "carry" and "hold" and "get" and "drop" and "throw" and "discard" as something new.
</p>
<p class="quoted">
Understand "take [text]" or "get [text]" or "drop [text]" as a mistake ("Here, you only draw and discard. Nothing else matters at the moment.").
</p>
<p class="quoted">
Understand "draw" or "draw card" or "draw a card" as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</p>
<p class="quoted">
Setting action variables for drawing:
<br>    now the card drawn is a random card which is in the deck of cards.
</p>
<p class="quoted">
Check drawing:
<br>    if the card drawn is nothing, say "The deck is completely depleted." instead.
</p>
<p class="quoted">
Check drawing:
<br>    if the number of cards carried by the player is greater than four,
<br>        say "This is a five-card game; you must discard something before drawing anything further." instead.
</p>
<p class="quoted">
Carry out drawing:
<br>    move the card drawn to the player.
</p>
<p class="quoted">
Report drawing:
<br>    say "You draw [a card drawn]."
</p>
<p class="quoted">
Understand "discard [card]" as discarding. Discarding is an action applying to one thing.
</p>
<p class="quoted">
Check discarding:
<br>    if the player does not carry the noun, say "You can only discard cards from your own hand." instead.
</p>
<p class="quoted">
Carry out discarding:
<br>    now the noun is in the discard pile;
<br>    if the discard pile is not visible, move the discard pile to the location.
</p>
<p class="quoted">
Report discarding:
<br>    say "You toss [the noun] nonchalantly onto the discard pile."
</p>
</div>
<p>New material begins here. We want to start by grouping cards together, but identifying poker hands only if the player holds a full five cards.</p>

<div class="code">
<p class="quoted">
Section 4 - Assessing Hands
</p>
<p class="quoted">
Before listing contents while taking inventory: group cards together.
</p>
<p class="quoted">
Before grouping together cards:
<br>    if the number of cards carried by the player is 5:
<br>        say "[run paragraph on]";
<br>        follow the hand-ranking rules;
<br>        if the rule succeeded, say "[the outcome of the rulebook]";
<br>        otherwise say "some random cards";
<br>        if the outcome of the rulebook is pair outcome, say " of [rank of the first thing held by the player as a card value]s";
<br>    otherwise:
<br>        say "[number of cards carried by the player in words] assorted cards";
<br>    say " (".
</p>
<p class="quoted">
Rule for grouping together cards:
<br>    say "[list hand]".
</p>
<p class="quoted">
To say list hand:
<br>    let chosen card be the first thing held by the player;
<br>    while chosen card is a card:
<br>        say "[chosen card]";
<br>        now chosen card is the next thing held after chosen card;
<br>        if chosen card is a card, say ", ".
</p>
<p class="quoted">
After grouping together cards:
<br>    say ")".
</p>
</div>
<p>The ranking of poker hands traditionally depends on three features: 1) whether all the cards are of the same suit (flush); 2) whether the cards constitute a numerical run of ranks (straight); and 3) how many cards or sets of cards are of matching rank (pairs, three of a kind, and four of a kind). Here we will start by assessing our hand to determine these qualities:</p>

<div class="code">
<p class="quoted">
The hand-ranking rules is a rulebook. The hand-ranking rules have outcomes royal flush, straight flush, four of a kind, full house, flush, straight, three of a kind, two pairs, pair, high card.
</p>
<p class="quoted">
The hand-ranking rulebook has a truth state called the flushness.
<br>The hand-ranking rulebook has a truth state called the straightness.
</p>
<p class="quoted">
The hand-ranking rulebook has a number called the pair count.
<br>The hand-ranking rulebook has a number called the triple count.
<br>The hand-ranking rulebook has a number called the quadruple count.
</p>
</div>
<p>For convenience in identifying hand features, and for elegance when we print the hand-listing, we start by sorting the cards in the player's hand so that the high-ranked cards are listed first. It is rare that we want to concern ourselves with this, but as we saw in the section on "Looking at containment by hand" in the chapter on Change, Inform keeps an ordered list of the items inside any given container; so it does order the objects in the player's hand, and the ordering depends on which things were added to the hand most recently. By moving something to the player's hand again (even if it was already there), we change this ordering, and wind up with a sorted hand.</p>

<div class="code">
<p class="quoted">
A card can be sorted or unsorted. A card is usually unsorted.
</p>
<p class="quoted">
Definition: a card is high if its rank is 11 or more.
<br>Definition: a card is low if its rank is 4 or less.
</p>
<p class="quoted">
A hand-ranking rule (this is the initial sort rule):
<br>    now every card is unsorted;
<br>    while the player carries an unsorted card:
<br>        let item be the lowest unsorted card held by the player;
<br>        move item to the player;
<br>        now the item is sorted;
<br>    if sort-debugging is true, say "-- after initial sort: [list hand]".
</p>
</div>
<p>This last printing instruction is there for diagnostic purposes: later we'll add a testing command to turn debugging on and off; when it's on, the game will print out its card list at various stages in sorting, to help us trouble-shoot any problems. In normal play, however, this will be off.</p>
<p>Next up, a check to see whether the player has a flush:</p>

<div class="code"><p class="quoted">
A hand-ranking rule (this is the finding flushness rule):
<br>    let called suit be the suit of a random card carried by the player;
<br>    if every card carried by the player is called suit, now flushness is true.
</p></div>
<p>Now we check for straights; this is slightly complicated by the fact that an ace can be either the bottom of a low straight (lower than 2) or the top of a high straight (higher than king), so we explicitly check both possibilities.</p>

<div class="code"><p class="quoted">
A hand-ranking rule (this is the finding straightness rule):
<br>    now straightness is true;
<br>    let N be the rank of the highest card which is carried by the player;
<br>    repeat with current rank running from N - 4 to N:
<br>        now the test rank is the current rank;
<br>        unless the player carries a matching card:
<br>            if the current rank is N - 4 and the current rank is 9 and the player carries an ace card, do nothing; [this covers the case where an ace could be the top card of the sequence]
<br>            otherwise now straightness is false.
</p></div>
<p>And finally, we need to identify any groups of cards of the same rank. We want to know how many groups there are and how large each group is (though in practice there can only be one group of three or four in a standard-sized poker hand). We also want to mark any grouped cards so that we can move them to the front of the player's hand when we take inventory.</p>

<div class="code">
<p class="quoted">
A card can be quadrupled, tripled, paired or uncombined.
</p>
<p class="quoted">
Test rank is a number that varies. Definition: a card is matching if its rank is the test rank.
</p>
</div>
<p>This definition is a convenience so that we don't have to write so many explicit loops in the following rule:</p>

<div class="code"><p class="quoted">
A hand-ranking rule (this is the counting multiples rule):
<br>    now every card is uncombined;
<br>    repeat with current rank running from 1 to 13:
<br>        now test rank is current rank;
<br>        let N be the number of matching cards held by the player;
<br>        if N is 4:
<br>            increment the quadruple count;
<br>            now every matching card held by the player is quadrupled;
<br>        if N is 3:
<br>            increment the triple count;
<br>            now every matching card held by the player is tripled;
<br>        if N is 2:
<br>            increment the pair count;
<br>            now every matching card held by the player is paired.
</p></div>
<p>Next we tweak our sorting to reflect the make-up of the hand. There are two reasons why this might differ from the straight highest-to-lowest sort we did earlier:</p>
<p>1) we want to list aces as high unless they are serving as the bottom of a low straight, in which case they should appear last;</p>
<p>2) we want combinations to appear at the front of the list, sorted from highest value to lowest value: larger combinations first, then smaller combinations, and combinations of equal size sorted by rank.</p>

<div class="code">
<p class="quoted">
A hand-ranking rule (this is the move aces up unless there's a low straight rule):
<br>    unless the straightness is true and the lowest card carried by the player is an ace card and the rank of the highest card carried by the player is 5,
<br>        now every ace card which is carried by the player is carried by the player;
<br>    if sort-debugging is true, say "-- after ace movement rule: [list hand]".
</p>
<p class="quoted">
A hand-ranking rule (this is the move pairs forward rule):
<br>    while the player carries a paired card:
<br>        let selection be the lowest paired card which is carried by the player;
<br>        move the selection to the player;
<br>        now the selection is uncombined;
<br>    if sort-debugging is true, say "-- after pairs movement: [list hand]".
</p>
<p class="quoted">
A hand-ranking rule (this is the raise ace pairs rule):
<br>    if the player carries exactly two ace cards:
<br>        repeat with item running through ace cards which are carried by the player:
<br>            move item to the player;
<br>    if sort-debugging is true, say "-- after paired-ace movement: [list hand]".
</p>
<p class="quoted">
A hand-ranking rule (this is the move multiples forward rule):
<br>    while the player carries a tripled card:
<br>        let selection be the lowest tripled card which is carried by the player;
<br>        move the selection to the player;
<br>        now the selection is uncombined;
<br>    while the player carries a quadrupled card:
<br>        let selection be the lowest quadrupled card which is carried by the player;
<br>        move the selection to the player;
<br>        now the selection is uncombined;
<br>    if sort-debugging is true, say "-- after multiples movement rule: [list hand]".
</p>
<p class="quoted">
Definition: a card is ace if its rank is 1.
<br>Definition: a card is king if its rank is 13.
</p>
</div>
<p>Now, having determined the salient qualities of our hand, we run through rules in order from the highest kind of poker combination to the lowest. Because of the order of the source, Inform will choose whichever combination applies first.</p>

<div class="code">
<p class="quoted">
A hand-ranking rule (this is the royal-flush rule):
<br>    if flushness is true and straightness is true and the highest card carried by the player is king and the lowest card carried by the player is ace, royal flush.
</p>
<p class="quoted">
A hand-ranking rule (this is the straight-flushes rule):
<br>    if flushness is true and straightness is true, straight flush.
</p>
<p class="quoted">
A hand-ranking rule (this is the four-of-a-kind rule):
<br>    if the quadruple count is 1, four of a kind.
</p>
<p class="quoted">
A hand-ranking rule (this is the full-house rule):
<br>    if the pair count is 1 and the triple count is 1, full house.
</p>
<p class="quoted">
A hand-ranking rule (this is the flushes rule):
<br>    if flushness is true, flush.
</p>
<p class="quoted">
A hand-ranking rule (this is the straights rule):
<br>    if straightness is true, straight.
</p>
<p class="quoted">
A hand-ranking rule (this is the three-of-a-kind rule):
<br>    if triple count is 1, three of a kind.
</p>
<p class="quoted">
A hand-ranking rule (this is the two-pair rule):
<br>    if the pair count is 2, two pairs.
</p>
<p class="quoted">
A hand-ranking rule (this is the pair rule):
<br>    if the pair count is 1, pair.
</p>
<p class="quoted">
A hand-ranking rule (this is the default rule):
<br>    high card.
</p>
</div>
<p>And finally, we need to define our debugging variable here, even though we won't give the player the ability to turn it on and off except in the special testing section.</p>

<div class="code"><p class="quoted">
Sort-debugging is a truth state that varies.
</p></div>
<p>For many examples, a test-me script is enough to prove that the example does what it ought. This example, though, is a bit more complicated, and hard to test randomly. The remainder of the source here shows how we might write a test to verify the desired behavior of our rulebook. Those who are only interested in the rulebook itself can stop reading at this point.</p>

<div class="code"><p class="quoted">
Section 5 - Testing hand identification - Not for release
</p></div>
<p>For the sake of testing our rules, we provide an apparatus that will load the player's hand up with sample hands of each kind, then show the result to make sure that the hand is being correctly identified.</p>

<div class="code">
<p class="quoted">
Understand "debug sorting" as debugging hand sorting. Debugging hand sorting is an action out of world.
</p>
<p class="quoted">
Carry out debugging hand sorting:
<br>    if sort-debugging is false, now sort-debugging is true;
<br>    otherwise now sort-debugging is false.
</p>
<p class="quoted">
Report debugging hand sorting:
<br>    say "Sort debugging is now [if sort-debugging is true]on[otherwise]off[end if]."
</p>
<p class="quoted">
Test me with "draw / g / g / g / g / force hand / g / g / g / g / g / g / g / g / g / g / g / g".
</p>
</div>
<p>The somewhat rough-and-ready principle of this table is that we will overwrite the cards in the player's hand by resetting their ranks and suits; every five rows of the table represent a new poker hand for the game to attempt to sort and identify. These include one example of each of the major kinds of poker hand, plus a couple of variations involving aces which test the special sorting rules.</p>

<div class="code">
<p class="quoted">
Table of Testing Hands
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">set suit</p></td>
<td class="quotedtablecell"><p class="quoted">set rank</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">[royal flush]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
<td class="quotedtablecell"><p class="quoted">[straight flush]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
<td class="quotedtablecell"><p class="quoted">[four of a kind]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">[full house]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">[flush]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">[straight]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">[three of a kind]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
<td class="quotedtablecell"><p class="quoted">[two pairs]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
<td class="quotedtablecell"><p class="quoted">[two pairs, ace high]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
<td class="quotedtablecell"><p class="quoted">[pair]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
<td class="quotedtablecell"><p class="quoted">[high]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">[tricky sorting: low straight]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
</table>
<p class="quoted">
Understand "force hand" as forcing a hand. Forcing a hand is an action out of world.
</p>
<p class="quoted">
Current marker is a number that varies.
</p>
<p class="quoted">
Carry out forcing a hand:
<br>    repeat with item running through cards which are carried by the player:
<br>        increment current marker;
<br>        if current marker is greater than the number of filled rows in the Table of Testing Hands, now current marker is 1;
<br>        choose row current marker in the Table of Testing Hands;
<br>        now the suit of item is the set suit entry;
<br>        now the rank of item is the set rank entry.
</p>
<p class="quoted">
Report forcing a hand:
<br>    try taking inventory.
</p>
</div>
</div>
<div class="linkback">
<a href="wi_19.html#wi-19.13">WI §19.13. Rulebooks producing values</a><br><a href="rb_9.html#rb-9.5">RB §9.5. Dice and Playing Cards</a>
</div></details>
</div></section>
<section class="section" id="rb-9.6"><div>





<h3>RB §9.6. Reading Matter</h3>
<p>Many things can be read, from warning notices to encyclopaedias, and a range of techniques is needed to provide them because the quantity of text, and how it presents itself, can vary so much. With a small amount of very large type, the player should not need any command at all to read the text:</p>

<div class="code"><p class="quoted">
The road sign is in the Junction. The road sign is fixed in place. "A road sign points north: 'Weston on the Green - 6'."
</p></div>
<p>If the print is smaller, or the object portable, the player will expect to use the EXAMINE command:</p>

<div class="code"><p class="quoted">
The business card is in the Junction. The description is "'Peter de Sèvres: consultant mnemonicist.'"
</p></div>
<p>But if the object is a leaflet, say, EXAMINE should only describe the cover: READ would be the command a player would expect to use to get at the text itself. Inform normally defines READ to be the same command as EXAMINE, which is good for things like the business card, but counter-productive here. <a href="rb_9.html#example-292" class="example-link" onClick="(function() { document.getElementById('example-292').setAttribute('open','open'); return true; })();">The Trouble with Printing</a><span class="example-difficulty"> ★</span> shows how to separate these two commands, allowing any thing to have a property called its "printing" for text produced by READ, which will be different from its "description", the text produced by EXAMINE.</p>
<p>If the object is a lengthy diary, say, nobody would read it from cover to cover in a single IF turn. We might then want to allow the player to turn the pages one by one, with commands like READ PAGE 4 IN DIARY or READ THE NEXT PAGE: see <a href="rb_9.html#example-303" class="example-link" onClick="(function() { document.getElementById('example-303').setAttribute('open','open'); return true; })();">Pages</a><span class="example-difficulty"> ★</span>.</p>
<p>If the object is an encyclopaedic reference work, the player would consult named entries: see <a href="rb_9.html#example-94" class="example-link" onClick="(function() { document.getElementById('example-94').setAttribute('open','open'); return true; })();">Costa Rican Ornithology</a><span class="example-difficulty"> ★★★</span>, which allows commands like LOOK UP QUETZAL IN GUIDE.</p>
<p>Still larger sources of text often occur in IF: libraries or bookshelves, where many books are found together, and it is clumsy to write them as many individual items. One approach is to simulate an entire bookshelf with a single thing: see <a href="rb_9.html#example-324" class="example-link" onClick="(function() { document.getElementById('example-324').setAttribute('open','open'); return true; })();">Bibliophilia</a><span class="example-difficulty"> ★★</span>. (This is much like looking up topics in a single book, except that each topic is a book in itself.) Another is to provide each book as an individual item, but have them automatically join together into a single portable collection: see <a href="rb_9.html#example-335" class="example-link" onClick="(function() { document.getElementById('example-335').setAttribute('open','open'); return true; })();">AARP-Gnosis</a><span class="example-difficulty"> ★★</span>.</p>
<p>Signs, leaflets and encyclopaedias, being printed, have a wording which will never change during play. But sometimes the player reads something which acts of its own accord. Text substitutions are usually all that is needed to achieve this:</p>

<div class="code"><p class="quoted">
The computer display is on the desk. The description is "Giant green digits read: [the time of day]."
</p></div>
<p>This is easy because we know all the variations we want. But what if we want the player to write his own text, for instance, adding to a diary? This is trickier, because it means storing text as the player typed it, and replaying it later. (And suppose the player types reams and reams of text, not just a few words as we might have hoped?) <a href="rb_9.html#example-443" class="example-link" onClick="(function() { document.getElementById('example-443').setAttribute('open','open'); return true; })();">The Fourth Body</a><span class="example-difficulty"> ★</span> and <a href="rb_9.html#example-444" class="example-link" onClick="(function() { document.getElementById('example-444').setAttribute('open','open'); return true; })();">The Fifth Body</a><span class="example-difficulty"> ★★</span> show how to use an external file - a multimedia trick requiring features only available if the project is set to the Glulx story file format - to handle even the most difficult cases.</p>
<p>Should we want a computer that responds to vocal commands, as in ASK COMPUTER ABOUT KLINGONS, the built-in extension Inanimate Listeners will allow the player to talk to inanimate objects as well as people.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-292"><summary><span class="example-summary">292. The Trouble with Printing</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Trouble%20with%20Printing%22%5Cn%5CnA%20thing%20has%20some%20text%20called%20printing.%20The%20printing%20of%20a%20thing%20is%20usually%20%22blank%22.%5Cn%5CnUnderstand%20the%20command%20%22read%22%20as%20something%20new.%20Understand%20%22read%20%5Bsomething%5D%22%20as%20reading.%20Reading%20is%20an%20action%20applying%20to%20one%20thing,%20requiring%20light.%20Check%20reading:%20if%20the%20printing%20of%20the%20noun%20is%20%22blank%22,%20say%20%22Nothing%20is%20written%20on%20%5Bthe%20noun%5D.%22%20instead.%20Carry%20out%20reading:%20say%20%22You%20read:%20%5Bprinting%20of%20the%20noun%5D%5Bline%20break%5D%22.%20Report%20reading:%20do%20nothing.%5Cn%5CnThe%20Archive%20is%20a%20room.%5Cn%5CnBerkeley's%20report%20is%20a%20thing%20in%20the%20Archive.%20The%20description%20is%20%22A%20report%20from%20Governor%20Sir%20William%20Berkeley%20of%20Virginia,%20in%201671,%20in%20answer%20to%20the%20queries%20sent%20by%20the%20Commissioners%20of%20Plantations%20the%20year%20previous.%20Of%20this%20report%20the%20better%20part%20is%20burned%20and%20only%20a%20tail%20fragment%20remains.%22%20The%20printing%20of%20Berkeley's%20report%20is%20%22I%20thank%20God,%20%5Bitalic%20type%5Dthere%20are%20no%20free%20schools%5Broman%20type%5D%20nor%20%5Bitalic%20type%5Dprinting%5Broman%20type%5D,%20and%20I%20hope%20we%20shall%20not%20have%20these%20hundred%20years;%20for%20%5Bitalic%20type%5Dlearning%5Broman%20type%5D%20has%20brought%20disobedience,%20and%20heresy,%20and%20sects%20into%20the%20world,%20and%20%5Bitalic%20type%5Dprinting%5Broman%20type%5D%20has%20divulged%20them...%22%5Cn%5CnTest%20me%20with%20%22examine%20report%20/%20read%20report%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Trouble with Printing"
</p>
<p class="quoted">
A thing has some text called printing. The printing of a thing is usually "blank".
</p>
<p class="quoted">
Understand the command "read" as something new. Understand "read [something]" as reading. Reading is an action applying to one thing, requiring light. Check reading: if the printing of the noun is "blank", say "Nothing is written on [the noun]." instead. Carry out reading: say "You read: [printing of the noun][line break]". Report reading: do nothing.
</p>
<p class="quoted">
The Archive is a room.
</p>
<p class="quoted">
Berkeley's report is a thing in the Archive. The description is "A report from Governor Sir William Berkeley of Virginia, in 1671, in answer to the queries sent by the Commissioners of Plantations the year previous. Of this report the better part is burned and only a tail fragment remains." The printing of Berkeley's report is "I thank God, [italic type]there are no free schools[roman type] nor [italic type]printing[roman type], and I hope we shall not have these hundred years; for [italic type]learning[roman type] has brought disobedience, and heresy, and sects into the world, and [italic type]printing[roman type] has divulged them..."
</p>
<p class="quoted">
Test me with "examine report / read report".
</p>
</div>
<p>Since we defined reading as an action requiring light, we could further distinguish reading and examining (if we wanted) by writing some different visibility rules for it.</p>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.3">WI §17.3. Overriding existing commands</a><br><a href="rb_9.html#rb-9.6">RB §9.6. Reading Matter</a>
</div></details><details class="full-example" id="example-303"><summary><span class="example-summary">303. Pages</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we have a book that the player must consult page-by-page, and we want to be able to accept all of the following input:</p>

<div class="code"><p class="quoted">
&gt; READ BOOK (to choose a random page and read it)
<br>&gt; READ PAGE 1 IN BOOK
<br>&gt; READ PAGE 2
<br>&gt; READ THE LAST PAGE OF THE BOOK
<br>&gt; READ THE NEXT PAGE
<br>&gt; READ PREVIOUS PAGE IN BOOK
<br>&gt; READ THE FIRST PAGE
</p></div>
<p>One approach would be to write many different understand rules and actions: one action for reading randomly, one for reading a specific page, one for reading the first page, one for reading the previous page, one for reading the next page, and one for reading the last page. But this gets tedious to construct and maintain.</p>
<p>More usefully, we could consider that all of the last four options are essentially the same action at heart: the player is asking to read a page in the book using a name rather than a number, and we will have to perform a minor calculation to discover what the number should be. Here's an implementation using named values to resolve this problem:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Pages%22%5Cn%5CnThe%20Library%20is%20a%20room.%20The%20sinister%20book%20is%20carried%20by%20the%20player.%20The%20sinister%20book%20has%20a%20number%20called%20the%20last%20page%20read.%20The%20sinister%20book%20has%20a%20number%20called%20the%20length.%20The%20length%20of%20the%20sinister%20book%20is%2050.%5Cn%5CnUnderstand%20the%20command%20%22read%22%20as%20something%20new.%5Cn%5CnUnderstand%20%22read%20%5Bsomething%5D%22%20or%20%22consult%20%5Bsomething%5D%22%20or%20%22read%20in/from%20%5Bsomething%5D%22%20as%20reading.%20Reading%20is%20an%20action%20applying%20to%20one%20thing,%20requiring%20light.%5Cn%5CnUnderstand%20%22read%20%5Bnumber%5D%20in/from/of%20%5Bsomething%5D%22%20or%20%22read%20page%20%5Bnumber%5D%20in/from/of%20%5Bsomething%5D%22%20or%20%22look%20up%20page%20%5Bnumber%5D%20in/from/of%20%5Bsomething%5D%22%20or%20%22consult%20page%20%5Bnumber%5D%20in/from/of%20%5Bsomething%5D%22%20as%20reading%20it%20in.%20Reading%20it%20in%20is%20an%20action%20applying%20to%20one%20number%20and%20one%20thing,%20requiring%20light.%5Cn%5CnNamed%20page%20is%20a%20kind%20of%20value.%20The%20named%20pages%20are%20first%20page,%20last%20page,%20next%20page,%20previous%20page.%5Cn%5CnTo%20decide%20what%20number%20is%20the%20effective%20value%20of%20(L%20-%20last%20page):%5Cn%5Ctdecide%20on%20the%20length%20of%20the%20book.%5Cn%5CnTo%20decide%20what%20number%20is%20the%20effective%20value%20of%20(F%20-%20first%20page):%5Cn%5Ctdecide%20on%201.%5Cn%5CnTo%20decide%20what%20number%20is%20the%20effective%20value%20of%20(N%20-%20next%20page):%5Cn%5Ctlet%20X%20be%20the%20last%20page%20read%20of%20the%20book%20plus%201;%5Cn%5Ctdecide%20on%20X.%5Cn%5CnTo%20decide%20what%20number%20is%20the%20effective%20value%20of%20(P%20-%20previous%20page):%5Cn%5Ctlet%20X%20be%20the%20last%20page%20read%20of%20the%20book%20minus%201;%5Cn%5Ctdecide%20on%20X.%5Cn%5CnUnderstand%20%22read%20%5Bnamed%20page%5D%20in/from/of%20%5Bsomething%5D%22%20or%20%22read%20the%20%5Bnamed%20page%5D%20in/from/of%20%5Bsomething%5D%22%20as%20reading%20it%20relatively%20in.%20Reading%20it%20relatively%20in%20is%20an%20action%20applying%20to%20one%20named%20page%20and%20one%20thing,%20requiring%20light.%5Cn%5CnDoes%20the%20player%20mean%20reading%20something%20in%20the%20sinister%20book:%20it%20is%20very%20likely.%5Cn%5CnThis%20is%20the%20book%20requirement%20rule:%5Cn%5Ctif%20the%20player%20is%20not%20carrying%20the%20sinister%20book,%20say%20%22You're%20not%20reading%20anything.%22%20instead.%5Cn%5CnCheck%20reading%20it%20relatively%20in:%5Cn%5Ctif%20the%20second%20noun%20is%20not%20the%20sinister%20book,%20say%20%22There%20are%20no%20pages%20in%20%5Bthe%20second%20noun%5D.%22%20instead;%5Cn%5Ctabide%20by%20the%20book%20requirement%20rule.%5Cn%5CnCarry%20out%20reading%20it%20relatively%20in:%5Cn%5Ctlet%20N%20be%20the%20effective%20value%20of%20the%20named%20page%20understood;%5Cn%5Ctnow%20the%20number%20understood%20is%20N;%5Cn%5Cttry%20reading%20N%20in%20the%20book.%5Cn%5CnCheck%20reading%20it%20in:%5Cn%5Ctif%20the%20second%20noun%20is%20not%20the%20sinister%20book,%20say%20%22There%20are%20no%20pages%20in%20%5Bthe%20second%20noun%5D.%22%20instead;%5Cn%5Ctabide%20by%20the%20book%20requirement%20rule.%5Cn%5CnCheck%20reading%20it%20in:%5Cn%5Ctif%20the%20number%20understood%20is%20greater%20than%20the%20length%20of%20the%20sinister%20book,%20say%20%22There%20are%20only%20%5Blength%20of%20sinister%20book%20in%20words%5D%20pages%20in%20the%20book.%22%20instead;%5Cn%5Ctif%20the%20number%20understood%20is%20less%20than%201,%20say%20%22The%20page%20numbering%20begins%20with%201.%22%20instead.%5Cn%5CnCarry%20out%20reading%20it%20in:%5Cn%5Ctread%20page%20number%20understood.%5Cn%5CnCheck%20reading:%5Cn%5Ctif%20the%20noun%20is%20not%20the%20sinister%20book,%20say%20%22There%20are%20no%20pages%20in%20%5Bthe%20noun%5D.%22%20instead;%5Cn%5Ctabide%20by%20the%20book%20requirement%20rule.%5Cn%5CnCarry%20out%20reading:%5Cn%5Ctlet%20N%20be%20a%20random%20number%20between%201%20and%20the%20length%20of%20the%20sinister%20book;%20now%20the%20number%20understood%20is%20N;%5Cn%5Ctsay%20%22You%20flip%20the%20pages%20randomly%20and%20arrive%20at%20page%20%5Bthe%20number%20understood%5D:%5Bparagraph%20break%5D%22;%5Cn%5Cttry%20reading%20the%20number%20understood%20in%20the%20sinister%20book.%5Cn%5CnTable%20of%20Book%20Contents%5Cnpage%5Ctcontent%5Cn2%5Ct%22dhuma%20jyotih%20salila%20marutam%20/%20samnipatah%20kva%20meghah%20/%20samdes%20arthah%20kva%20patukaranaih%20/%20pranibhih%20prapaniyah%22%5Cn13%5Ct%22amathesteron%20pws%20eipe%20kai%20saphesteron%22%5Cn50%5Ct%22Rrgshilz%20maplot...%22%5Cn%5CnTo%20read%20page%20(N%20-%20a%20number):%5Cn%5Ctnow%20the%20last%20page%20read%20of%20the%20sinister%20book%20is%20N;%5Cn%5Ctif%20there%20is%20a%20content%20corresponding%20to%20a%20page%20of%20N%20in%20the%20Table%20of%20Book%20Contents:%5Cn%5Ct%5Ctchoose%20row%20with%20a%20page%20of%20N%20in%20the%20Table%20of%20Book%20Contents;%5Cn%5Ct%5Ctsay%20%22You%20read:%20'%5Bcontent%20entry%5D'%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Page%20%5BN%5D%20appears%20to%20be%20blank.%22%5Cn%5CnTo%20read%20page%20(N%20-%2047):%5Cn%5Ctsay%20%22Your%20eyes%20burn;%20your%20ears%20ring.%20Beneath%20your%20gaze,%20the%20dreadful%20sigils%20writhe,%20reminding%20you%20of%20that%20which%20lies%20outside%20the%20edges%20of%20the%20universe...%22;%5Cn%5Ctend%20the%20story%20saying%20%22You%20have%20lost%20your%20remaining%20sanity%22.%5Cn%5CnTest%20me%20with%20%22read%20from%20the%20sinister%20book%20/%20read%20the%20book%20/%20read%20the%20next%20page%20/%20read%20page%202%20/%20read%20previous%20page%20/%20g%20/%20read%20the%20first%20page%20/%20read%20the%20last%20page%20of%20the%20book%20/%20read%20the%20next%20page%20/%20read%2047%20in%20book%22.%5Cn%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Pages"
</p>
<p class="quoted">
The Library is a room. The sinister book is carried by the player. The sinister book has a number called the last page read. The sinister book has a number called the length. The length of the sinister book is 50.
</p>
<p class="quoted">
Understand the command "read" as something new.
</p>
<p class="quoted">
Understand "read [something]" or "consult [something]" or "read in/from [something]" as reading. Reading is an action applying to one thing, requiring light.
</p>
<p class="quoted">
Understand "read [number] in/from/of [something]" or "read page [number] in/from/of [something]" or "look up page [number] in/from/of [something]" or "consult page [number] in/from/of [something]" as reading it in. Reading it in is an action applying to one number and one thing, requiring light.
</p>
<p class="quoted">
Named page is a kind of value. The named pages are first page, last page, next page, previous page.
</p>
<p class="quoted">
To decide what number is the effective value of (L - last page):
<br>    decide on the length of the book.
</p>
<p class="quoted">
To decide what number is the effective value of (F - first page):
<br>    decide on 1.
</p>
<p class="quoted">
To decide what number is the effective value of (N - next page):
<br>    let X be the last page read of the book plus 1;
<br>    decide on X.
</p>
<p class="quoted">
To decide what number is the effective value of (P - previous page):
<br>    let X be the last page read of the book minus 1;
<br>    decide on X.
</p>
<p class="quoted">
Understand "read [named page] in/from/of [something]" or "read the [named page] in/from/of [something]" as reading it relatively in. Reading it relatively in is an action applying to one named page and one thing, requiring light.
</p>
<p class="quoted">
Does the player mean reading something in the sinister book: it is very likely.
</p>
<p class="quoted">
This is the book requirement rule:
<br>    if the player is not carrying the sinister book, say "You're not reading anything." instead.
</p>
<p class="quoted">
Check reading it relatively in:
<br>    if the second noun is not the sinister book, say "There are no pages in [the second noun]." instead;
<br>    abide by the book requirement rule.
</p>
<p class="quoted">
Carry out reading it relatively in:
<br>    let N be the effective value of the named page understood;
<br>    now the number understood is N;
<br>    try reading N in the book.
</p>
<p class="quoted">
Check reading it in:
<br>    if the second noun is not the sinister book, say "There are no pages in [the second noun]." instead;
<br>    abide by the book requirement rule.
</p>
<p class="quoted">
Check reading it in:
<br>    if the number understood is greater than the length of the sinister book, say "There are only [length of sinister book in words] pages in the book." instead;
<br>    if the number understood is less than 1, say "The page numbering begins with 1." instead.
</p>
<p class="quoted">
Carry out reading it in:
<br>    read page number understood.
</p>
<p class="quoted">
Check reading:
<br>    if the noun is not the sinister book, say "There are no pages in [the noun]." instead;
<br>    abide by the book requirement rule.
</p>
<p class="quoted">
Carry out reading:
<br>    let N be a random number between 1 and the length of the sinister book; now the number understood is N;
<br>    say "You flip the pages randomly and arrive at page [the number understood]:[paragraph break]";
<br>    try reading the number understood in the sinister book.
</p>
<p class="quoted">
Table of Book Contents
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">page</p></td>
<td class="quotedtablecell"><p class="quoted">content</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">"dhuma jyotih salila marutam / samnipatah kva meghah / samdes arthah kva patukaranaih / pranibhih prapaniyah"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">13</p></td>
<td class="quotedtablecell"><p class="quoted">"amathesteron pws eipe kai saphesteron"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">50</p></td>
<td class="quotedtablecell"><p class="quoted">"Rrgshilz maplot..."</p></td>
</tr>
</table>
<p class="quoted">
To read page (N - a number):
<br>    now the last page read of the sinister book is N;
<br>    if there is a content corresponding to a page of N in the Table of Book Contents:
<br>        choose row with a page of N in the Table of Book Contents;
<br>        say "You read: '[content entry]'[paragraph break]";
<br>    otherwise:
<br>        say "Page [N] appears to be blank."
</p>
<p class="quoted">
To read page (N - 47):
<br>    say "Your eyes burn; your ears ring. Beneath your gaze, the dreadful sigils writhe, reminding you of that which lies outside the edges of the universe...";
<br>    end the story saying "You have lost your remaining sanity".
</p>
<p class="quoted">
Test me with "read from the sinister book / read the book / read the next page / read page 2 / read previous page / g / read the first page / read the last page of the book / read the next page / read 47 in book".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.9">WI §17.9. Understanding kinds of value</a><br><a href="rb_9.html#rb-9.6">RB §9.6. Reading Matter</a>
</div></details><details class="full-example" id="example-443"><summary><span class="example-summary">443. The Fourth Body</span> <span class="example-difficulty">★</span></summary><div>
<p>Some mystery games supply the player with an in-game system for taking notes, in case he doesn't want to rely on scraps of paper next to the computer. One way of doing this is to write out all the player's notes and observations into a notebook file, whose contents can be retrieved during play (or, indeed, after it).</p>
<p>We'll first invent a general system for writing text into notebooks, by creating a new kind called jotter. Each individual jotter will have its own disc file, and there will be basically three things which can be done with jotters: erasing, reading and writing.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Fourth%20Body%22%5Cn%5CnA%20jotter%20is%20a%20kind%20of%20thing.%20A%20jotter%20has%20an%20external%20file%20called%20the%20text%20file.%20A%20jotter%20can%20be%20fresh%20or%20used.%20A%20jotter%20is%20usually%20fresh.%20A%20jotter%20has%20a%20text%20called%20the%20heading.%5Cn%5CnThe%20currently%20erased%20jotter%20is%20an%20object%20that%20varies.%5CnTo%20erase%20(pad%20-%20a%20jotter):%5Cn%5Ctnow%20the%20currently%20erased%20jotter%20is%20the%20pad;%5Cn%5Ctwrite%20%22%5Bheading%20of%20the%20currently%20erased%20jotter%5D%5Bparagraph%20break%5D%22%20to%20the%20text%20file%20of%20the%20pad;%5Cn%5Ctnow%20the%20pad%20is%20fresh.%5Cn%5CnTo%20write%20in%20(pad%20-%20a%20jotter):%5Cn%5Ctappend%20%22%5Bthe%20time%20of%20day%5D:%20%5Btopic%20understood%5D%5Bline%20break%5D%22%20to%20the%20text%20file%20of%20the%20pad;%5Cn%5Ctnow%20the%20pad%20is%20used.%5Cn%5CnTo%20read%20(pad%20-%20a%20jotter):%5Cn%5Ctsay%20%22You%20read:%20%5Bparagraph%20break%5D%5Btext%20of%20the%20text%20file%20of%20the%20pad%5D%22.%5Cn%5Cn%5BThis%20is%20all%20as%20might%20be%20expected,%20except%20perhaps%20for%20the%20business%20of%20the%20%22currently%20erased%20jotter%22.%20Why%20copy%20%22pad%22%20into%20this%20-%20why%20not%20simply%20write%20%22%5Bheading%20of%20the%20pad%5D%22?%20The%20answer%20is%20that%20%22pad%22%20is%20a%20temporary%20%22let%22%20value,%20and%20cannot%20be%20used%20inside%20other%20phrases,%20such%20as%20the%20%22write%20...%20to%20...%22%20phrase.%5D%5Cn%5Cn%5BWe%20want%20to%20erase%20any%20jotters%20when%20play%20begins,%20as%20otherwise%20text%20left%20over%20from%20any%20previous%20games%20will%20still%20be%20visible:%5D%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctrepeat%20with%20pad%20running%20through%20jotters:%5Cn%5Ct%5Cterase%20the%20pad.%5Cn%5Cn%5BNow%20we%20need%20to%20create%20rules%20to%20allow%20the%20player%20to%20control%20reading,%20writing%20and%20erasing.%20Reading%20we%20will%20handle%20with%20the%20ordinary%20examining%20action,%20but%20we%20create%20new%20actions%20for%20writing%20and%20erasing.%20A%20nice%20little%20trick%20allows%20WRITE%20WHATEVER%20to%20default%20to%20writing%20WHATEVER%20in%20a%20notebook%20being%20carried.%5D%5Cn%5CnInstead%20of%20examining%20a%20used%20jotter%20(called%20the%20pad):%5Cn%5Ctread%20the%20pad.%5Cn%5CnInstead%20of%20examining%20a%20fresh%20jotter%20(called%20the%20pad):%5Cn%5Ctsay%20%22There%20is%20nothing%20of%20note%20in%20%5Bthe%20pad%5D.%22%5Cn%5CnUnderstand%20%22write%20%5Btext%5D%20in%20%5Bsomething%20preferably%20held%5D%22%20as%20writing%20it%20in.%20Understand%20%22write%20%5Btext%5D%22%20as%20writing%20it%20in.%20Writing%20it%20in%20is%20an%20action%20applying%20to%20a%20topic%20and%20one%20thing.%20Rule%20for%20supplying%20a%20missing%20second%20noun%20while%20writing:%20if%20a%20jotter%20(called%20the%20pad)%20is%20carried,%20now%20the%20second%20noun%20is%20the%20pad;%20otherwise%20say%20%22You%20will%20have%20to%20specify%20what%20to%20write%20that%20it.%22%5Cn%5CnCheck%20writing%20it%20in:%5Cn%5Ctif%20the%20second%20noun%20is%20not%20a%20jotter,%20say%20%22It%20would%20be%20better%20to%20write%20in%20a%20notebook.%22%20instead.%5Cn%5CnCarry%20out%20writing%20it%20in:%5Cn%5Ctwrite%20in%20the%20second%20noun.%5Cn%5CnReport%20writing%20it%20in:%5Cn%5Ctsay%20%22Under%20the%20current%20time,%20you%20write%20'%5Bthe%20topic%20understood%5D'%20into%20%5Bthe%20second%20noun%5D.%22%5Cn%5CnUnderstand%20%22erase%20%5Bsomething%20preferably%20held%5D%22%20as%20erasing.%20Erasing%20is%20an%20action%20applying%20to%20one%20carried%20thing.%5Cn%5CnCheck%20erasing:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20jotter,%20say%20%22It's%20hard%20to%20see%20how.%22%20instead.%5Cn%5CnCarry%20out%20erasing:%5Cn%5Cterase%20the%20noun.%5Cn%5CnReport%20erasing:%5Cn%5Ctsay%20%22You%20scrub%20out%20all%20the%20entries%20in%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5BThat%20completes%20a%20general-purpose%20implementation%20of%20jotters,%20and%20we%20put%20it%20to%20use:%5D%5Cn%5CnThe%20player%20carries%20a%20jotter%20called%20your%20notebook.%20The%20file%20of%20Player's%20Observations%20is%20called%20%22notebook%22.%20The%20text%20file%20of%20your%20notebook%20is%20the%20file%20of%20Player's%20Observations.%20The%20heading%20of%20your%20notebook%20is%20%22Observations%20in%20the%20Pottingham%20Green%20Case%22.%5Cn%5CnThe%20Damp%20Hillside%20is%20a%20room.%20%22It%20is%20just%20after%20dawn:%20among%20the%20trees%20there%20is%20misty%20and%20pale%20blue%20light.%20%5Bif%20Havers%20is%20in%20the%20location%5DThe%20only%20saturated%20color%20in%20view%20is%20the%20orange-and-yellow%20jacket%20of%20%5BDetective%20Havers%5D.%20She%20is%20trying%20unsuccessfully%20to%20light%20a%20cigarette.%20%5Bend%20if%5D%5Bparagraph%20break%5DThe%20body%20itself%20is%20further%20down,%20closer%20to%20the%20bottom%20of%20the%20ravine.%20It%20would%20be%20foolish%20to%20speculate%20before%20seeing%20it,%20but%20the%20odds%20are%20that%20the%20corpse%20was%20rolled%20down%20after%20death.%20The%20ground%20is%20not%20steep%20enough%20for%20the%20fall%20itself%20to%20be%20deadly.%22%5Cn%5CnDetective%20Havers%20is%20a%20woman%20in%20the%20Damp%20Hillside.%20The%20description%20is%20%22She%20gives%20you%20a%20weak%20smile%20when%20you%20look%20at%20her:%20you%20know%20she%20hasn't%20slept%20more%20than%20three%20hours%20any%20of%20the%20last%20few%20nights.%22%20Havers%20is%20scenery.%5Cn%5CnHavers%20is%20carrying%20a%20jotter%20called%20Barbara's%20notebook.%20The%20file%20of%20Barbara's%20Observations%20is%20called%20%22barbara%22.%20The%20text%20file%20of%20Barbara's%20notebook%20is%20the%20file%20of%20Barbara's%20Observations.%20The%20heading%20of%20Barbara's%20notebook%20is%20%22I%20could%20murder%20a%20cup%20of%20tea%22.%5Cn%5CnThe%20time%20of%20day%20is%206:32%20AM.%5Cn%5CnInstead%20of%20examining%20your%20notebook%20when%20your%20notebook%20is%20fresh:%5Cn%5Ctsay%20%22Your%20notebook%20is%20blank.%20Back%20in%20the%20office,%20of%20course,%20there%20are%20a%20stack%20of%20others.%20But%20you%20brought%20a%20fresh%20notebook%20in%20a%20kind%20of%20weary%20hope.%20You're%20going%20to%20pretend,%20just%20for%20now,%20that%20this%20body%20might%20be%20unrelated%20to%20the%20graphic%20string%20of%20murders%20you're%20already%20investigating.%22%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Fourth Body"
</p>
<p class="quoted">
A jotter is a kind of thing. A jotter has an external file called the text file. A jotter can be fresh or used. A jotter is usually fresh. A jotter has a text called the heading.
</p>
<p class="quoted">
The currently erased jotter is an object that varies.
<br>To erase (pad - a jotter):
<br>    now the currently erased jotter is the pad;
<br>    write "[heading of the currently erased jotter][paragraph break]" to the text file of the pad;
<br>    now the pad is fresh.
</p>
<p class="quoted">
To write in (pad - a jotter):
<br>    append "[the time of day]: [topic understood][line break]" to the text file of the pad;
<br>    now the pad is used.
</p>
<p class="quoted">
To read (pad - a jotter):
<br>    say "You read: [paragraph break][text of the text file of the pad]".
</p>
</div>
<p>This is all as might be expected, except perhaps for the business of the "currently erased jotter". Why copy "pad" into this - why not simply write "[heading of the pad]"? The answer is that "pad" is a temporary "let" value, and cannot be used inside other phrases, such as the "write ... to ..." phrase.</p>
<p>We want to erase any jotters when play begins, as otherwise text left over from any previous games will still be visible:</p>

<div class="code"><p class="quoted">
When play begins:
<br>    repeat with pad running through jotters:
<br>        erase the pad.
</p></div>
<p>Now we need to create rules to allow the player to control reading, writing and erasing. Reading we will handle with the ordinary examining action, but we create new actions for writing and erasing. A nice little trick allows WRITE WHATEVER to default to writing WHATEVER in a notebook being carried.</p>

<div class="code">
<p class="quoted">
Instead of examining a used jotter (called the pad):
<br>    read the pad.
</p>
<p class="quoted">
Instead of examining a fresh jotter (called the pad):
<br>    say "There is nothing of note in [the pad]."
</p>
<p class="quoted">
Understand "write [text] in [something preferably held]" as writing it in. Understand "write [text]" as writing it in. Writing it in is an action applying to a topic and one thing. Rule for supplying a missing second noun while writing: if a jotter (called the pad) is carried, now the second noun is the pad; otherwise say "You will have to specify what to write that it."
</p>
<p class="quoted">
Check writing it in:
<br>    if the second noun is not a jotter, say "It would be better to write in a notebook." instead.
</p>
<p class="quoted">
Carry out writing it in:
<br>    write in the second noun.
</p>
<p class="quoted">
Report writing it in:
<br>    say "Under the current time, you write '[the topic understood]' into [the second noun]."
</p>
<p class="quoted">
Understand "erase [something preferably held]" as erasing. Erasing is an action applying to one carried thing.
</p>
<p class="quoted">
Check erasing:
<br>    if the noun is not a jotter, say "It's hard to see how." instead.
</p>
<p class="quoted">
Carry out erasing:
<br>    erase the noun.
</p>
<p class="quoted">
Report erasing:
<br>    say "You scrub out all the entries in [the noun]."
</p>
</div>
<p>That completes a general-purpose implementation of jotters, and we put it to use:</p>

<div class="code">
<p class="quoted">
The player carries a jotter called your notebook. The file of Player's Observations is called "notebook". The text file of your notebook is the file of Player's Observations. The heading of your notebook is "Observations in the Pottingham Green Case".
</p>
<p class="quoted">
The Damp Hillside is a room. "It is just after dawn: among the trees there is misty and pale blue light. [if Havers is in the location]The only saturated color in view is the orange-and-yellow jacket of [Detective Havers]. She is trying unsuccessfully to light a cigarette. [end if][paragraph break]The body itself is further down, closer to the bottom of the ravine. It would be foolish to speculate before seeing it, but the odds are that the corpse was rolled down after death. The ground is not steep enough for the fall itself to be deadly."
</p>
<p class="quoted">
Detective Havers is a woman in the Damp Hillside. The description is "She gives you a weak smile when you look at her: you know she hasn't slept more than three hours any of the last few nights." Havers is scenery.
</p>
<p class="quoted">
Havers is carrying a jotter called Barbara's notebook. The file of Barbara's Observations is called "barbara". The text file of Barbara's notebook is the file of Barbara's Observations. The heading of Barbara's notebook is "I could murder a cup of tea".
</p>
<p class="quoted">
The time of day is 6:32 AM.
</p>
<p class="quoted">
Instead of examining your notebook when your notebook is fresh:
<br>    say "Your notebook is blank. Back in the office, of course, there are a stack of others. But you brought a fresh notebook in a kind of weary hope. You're going to pretend, just for now, that this body might be unrelated to the graphic string of murders you're already investigating."
</p>
</div>
</div>
<div class="linkback">
<a href="wi_23.html#wi-23.14">WI §23.14. Writing, reading and appending text to files</a><br><a href="rb_9.html#rb-9.6">RB §9.6. Reading Matter</a>
</div></details><details class="full-example" id="example-324"><summary><span class="example-summary">324. Bibliophilia</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want a bookshelf with a very large number of books on it. They aren't to be taken or carried around in the game, but they should be mentioned, and the player should be allowed to look them up by name. Furthermore, the player's attempts to examine something unrecognized should be understood as an attempt to look up a title -- but only when the player is in the presence of the books. The rest of the time such requests should be rejected in the usual way.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Bibliophilia%22%5Cn%5CnThe%20Graduate%20Lounge%20is%20a%20room.%20%22Shabby%20sofas;%20plastic%20cups%20remaining%20from%20the%20afternoon's%20pre-lecture%20espresso;%20a%20collection%20of%20Xena%20and%20Hercules%20figurines%20posed%20for%20ironic%20effect.%20It's%20somewhat%20depressing%20at%20this%20hour,%20when%20everyone%20has%20gone%20home.%22%5Cn%5CnThe%20Classics%20Reading%20Room%20is%20south%20of%20the%20Lounge.%20%22Not%20as%20large%20a%20collection%20as%20the%20one%20in%20the%20Library,%20but%20it%20contains%20copies%20of%20everything%20really%20essential%20for%20reference.%22%5Cn%5CnUnderstand%20%22examine%20%5Btext%5D%22%20as%20examining%20as%20a%20book%20when%20the%20player%20is%20in%20the%20Reading%20Room.%20Understand%20%22look%20up%20%5Btext%5D%22%20as%20examining%20as%20a%20book%20when%20the%20player%20is%20in%20the%20Reading%20Room.%5Cn%5CnExamining%20as%20a%20book%20is%20an%20action%20applying%20to%20one%20topic.%5Cn%5CnCarry%20out%20examining%20as%20a%20book:%5Cn%5Ctsay%20%22You%20can't%20find%20any%20such%20text.%22%5Cn%5CnInstead%20of%20examining%20as%20a%20book%20a%20topic%20listed%20in%20the%20Table%20of%20Book%20Titles:%5Cn%5Ctsay%20%22%5Bdescription%20entry%5D%5Bparagraph%20break%5D%22%5Cn%5CnTable%20of%20Book%20Titles%5Cntopic%5Cttitle%5Ctdescription%5Cn%22Reading%20Greek%20Death%22%20or%20%22reading/greek/death%22%20or%20%22greek%20death%22%5Ct%22Reading%20Greek%20Death%22%5Ct%22A%20dense%20orange%20paperback%20treatise%20on%20the%20development%20of%20Greek%20eschatology.%22%5Cn%22TAPA/Transactions/134-2%22%5Ct%22TAPA%20134-2%22%5Ct%22Transactions%20of%20the%20American%20Philological%20Association%20from%202004.%22%5Cn%22Oxford%20Classical%20Dictionary%22%20or%20%22OCD/dictionary/classical/oxford%22%5Ct%22Oxford%20Classical%20Dictionary%22%5Ct%22A%20hefty%20reference%20with%20short%20articles%20on%20everything%20from%20Greek%20meter%20to%20ancient%20cosmetics.%22%5Cn%22Collected%20Dialogues%20of%20Plato%22%20or%20%22Plato/dialogues/hamilton/cairns%22%5Ct%22Collected%20Dialogues%20of%20Plato%22%5Ct%22All%20the%20Platonic%20dialogues%20--%20some,%20admittedly,%20in%20rather%20tired%20translations%20--%20but%20still%20a%20useful%20single%20volume,%20ed.%20Edith%20Hamilton%20and%20Huntington%20Cairns.%22%5Cn%22Adobe%20Illustrator%20CS%20User%20Guide%22%20or%20%22user%20guide%22%20or%20%22adobe%20illustrator%22%20or%20%22adobe/illustrator/cs/user/guide%22%5Ct%22Adobe%20Illustrator%20CS%20User%20Guide%22%5Ct%22Hello,%20how%20did%20this%20get%20here?%20A%20suspiciously%20familiar%20name%20is%20scribbled%20inside%20the%20front%20cover...%22%5Cn%5CnSome%20books%20are%20scenery%20in%20the%20Reading%20Room.%20Understand%20%22copies%22%20or%20%22book%22%20or%20%22shelf%22%20or%20%22shelves%22%20as%20the%20books.%20Instead%20of%20examining%20the%20books:%5Cn%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Book%20Titles;%5Cn%5Ctsay%20%22You%20scan%20the%20shelves%20and%20notice,%20among%20others,%20a%20volume%20entitled%20%5Bitalic%20type%5D%5Btitle%20entry%5D%5Broman%20type%5D.%22%5Cn%5CnTest%20me%20with%20%22south%20/%20examine%20ocd%20/%20examine%20books%20/%20examine%20books%20/%20examine%20plato%20/%20n%20/%20x%20hercules%20/%20s%20/%20x%20hercules%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Bibliophilia"
</p>
<p class="quoted">
The Graduate Lounge is a room. "Shabby sofas; plastic cups remaining from the afternoon's pre-lecture espresso; a collection of Xena and Hercules figurines posed for ironic effect. It's somewhat depressing at this hour, when everyone has gone home."
</p>
<p class="quoted">
The Classics Reading Room is south of the Lounge. "Not as large a collection as the one in the Library, but it contains copies of everything really essential for reference."
</p>
<p class="quoted">
Understand "examine [text]" as examining as a book when the player is in the Reading Room. Understand "look up [text]" as examining as a book when the player is in the Reading Room.
</p>
<p class="quoted">
Examining as a book is an action applying to one topic.
</p>
<p class="quoted">
Carry out examining as a book:
<br>    say "You can't find any such text."
</p>
<p class="quoted">
Instead of examining as a book a topic listed in the Table of Book Titles:
<br>    say "[description entry][paragraph break]"
</p>
<p class="quoted">
Table of Book Titles
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">title</p></td>
<td class="quotedtablecell"><p class="quoted">description</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Reading Greek Death" or "reading/greek/death" or "greek death"</p></td>
<td class="quotedtablecell"><p class="quoted">"Reading Greek Death"</p></td>
<td class="quotedtablecell"><p class="quoted">"A dense orange paperback treatise on the development of Greek eschatology."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"TAPA/Transactions/134-2"</p></td>
<td class="quotedtablecell"><p class="quoted">"TAPA 134-2"</p></td>
<td class="quotedtablecell"><p class="quoted">"Transactions of the American Philological Association from 2004."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Oxford Classical Dictionary" or "OCD/dictionary/classical/oxford"</p></td>
<td class="quotedtablecell"><p class="quoted">"Oxford Classical Dictionary"</p></td>
<td class="quotedtablecell"><p class="quoted">"A hefty reference with short articles on everything from Greek meter to ancient cosmetics."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Collected Dialogues of Plato" or "Plato/dialogues/hamilton/cairns"</p></td>
<td class="quotedtablecell"><p class="quoted">"Collected Dialogues of Plato"</p></td>
<td class="quotedtablecell"><p class="quoted">"All the Platonic dialogues -- some, admittedly, in rather tired translations -- but still a useful single volume, ed. Edith Hamilton and Huntington Cairns."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Adobe Illustrator CS User Guide" or "user guide" or "adobe illustrator" or "adobe/illustrator/cs/user/guide"</p></td>
<td class="quotedtablecell"><p class="quoted">"Adobe Illustrator CS User Guide"</p></td>
<td class="quotedtablecell"><p class="quoted">"Hello, how did this get here? A suspiciously familiar name is scribbled inside the front cover..."</p></td>
</tr>
</table>
<p class="quoted">
Some books are scenery in the Reading Room. Understand "copies" or "book" or "shelf" or "shelves" as the books. Instead of examining the books:
<br>    choose a random row in the Table of Book Titles;
<br>    say "You scan the shelves and notice, among others, a volume entitled [italic type][title entry][roman type]."
</p>
<p class="quoted">
Test me with "south / examine ocd / examine books / examine books / examine plato / n / x hercules / s / x hercules".
</p>
</div>
<p>Now if we type &gt;X HERCULES in the Lounge, we will get</p>

<div class="code"><p class="quoted">
&gt;x hercules
<br>You can't see any such thing.
</p></div>
<p>thanks to our somewhat slovenly implementation of the Lounge scenery; but in the Reading Room,</p>

<div class="code"><p class="quoted">
&gt;x hercules
<br>You can't find any such text.
</p></div>
<p>In practice we might also want to extend our coverage somewhat to handle a case where the player tried to take books from the bookshelf: currently that would not be understood.</p>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.17">WI §17.17. Context: understanding when</a><br><a href="rb_9.html#rb-9.6">RB §9.6. Reading Matter</a>
</div></details><details class="full-example" id="example-335"><summary><span class="example-summary">335. AARP-Gnosis</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we have a complete Encyclopedia in our game. The player is allowed to pick up the whole set (there must not be too many volumes), but also to do things with individual volumes, and indeed to scatter these volumes all over the place. Putting a volume back in the same place as the rest of the Encyclopedia should, however, restore it to the collective. We will start out by defining general rules for collectives like this:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22AARP-Gnosis%22%5Cn%5CnFitting%20relates%20various%20things%20to%20one%20thing%20(called%20the%20home).%20The%20verb%20to%20fit%20means%20the%20fitting%20relation.%20Definition:%20a%20thing%20is%20missing%20if%20it%20is%20not%20part%20of%20the%20home%20of%20it.%5Cn%5CnA%20collective%20is%20a%20kind%20of%20thing.%5Cn%5CnBefore%20doing%20something%20to%20something%20which%20is%20part%20of%20a%20collective:%5Cn%5Ctlet%20space%20be%20the%20holder%20of%20the%20home%20of%20the%20noun;%5Cn%5Ctmove%20the%20noun%20to%20the%20space.%5Cn%5CnInstead%20of%20examining%20a%20collective:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20consists%20of%20%5Bthe%20list%20of%20things%20which%20are%20part%20of%20the%20noun%5D.%22%5Cn%5Cn%5BNow%20the%20real%20work%20begins.%20One%20reason%20to%20make%20this%20an%20activity%20is%20that%20we%20might%20easily%20want%20to%20override%20it%20for%20specific%20objects;%20for%20instance,%20the%20generic%20collecting%20activity%20here%20would%20not%20deal%20properly%20with%20collectives%20of%20clothing%20where%20some%20items%20might%20be%20worn%20and%20others%20not.%20In%20that%20case,%20we%20would%20want%20to%20write%20another,%20more%20specific%20%22collecting%22%20activity%20to%20handle%20the%20complexities%20of%20fashion.%5D%5Cn%5CnCollecting%20something%20is%20an%20activity.%5Cn%5CnEvery%20turn:%5Cn%5Ctrepeat%20with%20item%20running%20through%20collectives:%5Cn%5Ct%5Ctcarry%20out%20the%20collecting%20activity%20with%20the%20item.%5Cn%5CnTo%20remove%20(item%20-%20a%20thing)%20when%20empty:%5Cn%5Ctlet%20space%20be%20the%20holder%20of%20the%20item;%5Cn%5Ctif%20the%20number%20of%20things%20which%20are%20part%20of%20the%20item%20is%200:%5Cn%5Ct%5Ctnow%20the%20item%20is%20nowhere;%5Cn%5Ctif%20the%20number%20of%20things%20which%20are%20part%20of%20the%20item%20is%201:%5Cn%5Ct%5Ctlet%20the%20last%20thing%20be%20a%20random%20thing%20which%20is%20part%20of%20the%20item;%5Cn%5Ct%5Ctmove%20the%20last%20thing%20to%20the%20space;%5Cn%5Ct%5Ctnow%20the%20item%20is%20nowhere.%5Cn%5CnBefore%20collecting%20a%20thing%20(called%20the%20item):%5Cn%5Ctremove%20item%20when%20empty;%5Cn%5Ctlet%20space%20be%20the%20holder%20of%20the%20item;%5Cn%5Ctif%20space%20is%20not%20a%20thing%20and%20space%20is%20not%20a%20room:%5Cn%5Ct%5Ctif%20something%20(called%20the%20other%20space)%20contains%20at%20least%20two%20things%20which%20fit%20the%20item,%20move%20item%20to%20the%20other%20space;%5Cn%5Ct%5Ctif%20a%20room%20(called%20the%20other%20space)%20contains%20at%20least%20two%20things%20which%20fit%20the%20item,%20move%20item%20to%20the%20other%20space;%5Cn%5Ct%5Ctif%20someone%20(called%20the%20owner)%20carries%20at%20least%20two%20things%20which%20fit%20the%20item,%20move%20item%20to%20the%20owner.%5Cn%5CnRule%20for%20collecting%20a%20thing%20(called%20the%20item):%5Cn%5Ctlet%20space%20be%20the%20holder%20of%20the%20item;%5Cn%5Ctif%20space%20is%20a%20thing%20or%20space%20is%20a%20room:%5Cn%5Ct%5Ctrepeat%20with%20component%20running%20through%20things%20held%20by%20the%20space:%5Cn%5Ct%5Ct%5Ctif%20the%20component%20fits%20the%20item,%20now%20the%20component%20is%20part%20of%20the%20item;%5Cn%5Ct%5Ctremove%20item%20when%20empty.%5Cn%5Cn%5BAnd%20now%20for%20a%20cheerful%20scenario:%5D%5Cn%5CnThe%20Boise%20Memorial%20Library%20is%20a%20room.%20%22A%20concrete%20box%20of%20a%20room,%20roughly%20eight%20feet%20by%20fourteen,%20which%20contains%20all%20the%20fallout%20shelter%20has%20to%20offer%20by%20way%20of%20entertainment.%20Someone%20with%20a%20grim%20sense%20of%20humor%20has%20tacked%20a%20READ!%20literacy%20poster%20to%20the%20door,%20as%20though%20there%20were%20anything%20else%20to%20do%20while%20you%20await%20the%20calming%20of%20the%20Geiger%20counters.%22%20The%20shelf%20is%20a%20supporter%20in%20the%20Library.%20%22A%20battered%20utility%20shelf%20stands%20against%20the%20south%20wall.%22%5Cn%5CnThe%20New%20Idahoan%20Encyclopedia%20Set%20is%20a%20collective.%20Volume%20A-Aalto%20fits%20the%20Encyclopedia.%20It%20is%20part%20of%20the%20Set.%20Volume%20AAM-Aardvark%20fits%20the%20Encyclopedia.%20It%20is%20part%20of%20the%20Set.%20Volume%20Aarhus-Aaron%20fits%20the%20Encyclopedia.%20It%20is%20part%20of%20the%20Set.%20Volume%20AARP-Gnosis%20fits%20the%20Encyclopedia.%20It%20is%20part%20of%20the%20Set.%20Volume%20Gnu-Zygote%20fits%20the%20Encyclopedia.%20It%20is%20part%20of%20the%20Set.%20The%20Set%20is%20on%20the%20shelf.%5Cn%5Cn%5BLet's%20have%20the%20Encyclopedia%20describe%20itself%20differently%20depending%20on%20whether%20it's%20all%20in%20one%20place:%5D%5Cn%5CnAfter%20printing%20the%20name%20of%20the%20Set%20when%20something%20missing%20fits%20the%20Set:%5Cn%5Ctsay%20%22%20(missing%20%5Ba%20list%20of%20missing%20things%20which%20fit%20the%20Set%5D)%22%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20Set%20when%20the%20number%20of%20missing%20things%20which%20fit%20the%20set%20is%200:%5Cn%5Ctsay%20%22complete%20%22.%5Cn%5CnTest%20me%20with%20%22get%20aarhus-aaron%20/%20look%20/%20inventory%20/%20get%20aam-aardvark%20/%20look%20/%20get%20gnu-zygote%20/%20look%20/%20get%20aarp-gnosis%20/%20look%20/%20inventory%20/%20drop%20set%20/%20look%20/%20get%20set%20/%20get%20a-aalto%20/%20inventory%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "AARP-Gnosis"
</p>
<p class="quoted">
Fitting relates various things to one thing (called the home). The verb to fit means the fitting relation. Definition: a thing is missing if it is not part of the home of it.
</p>
<p class="quoted">
A collective is a kind of thing.
</p>
<p class="quoted">
Before doing something to something which is part of a collective:
<br>    let space be the holder of the home of the noun;
<br>    move the noun to the space.
</p>
<p class="quoted">
Instead of examining a collective:
<br>    say "[The noun] consists of [the list of things which are part of the noun]."
</p>
</div>
<p>Now the real work begins. One reason to make this an activity is that we might easily want to override it for specific objects; for instance, the generic collecting activity here would not deal properly with collectives of clothing where some items might be worn and others not. In that case, we would want to write another, more specific "collecting" activity to handle the complexities of fashion.</p>

<div class="code">
<p class="quoted">
Collecting something is an activity.
</p>
<p class="quoted">
Every turn:
<br>    repeat with item running through collectives:
<br>        carry out the collecting activity with the item.
</p>
<p class="quoted">
To remove (item - a thing) when empty:
<br>    let space be the holder of the item;
<br>    if the number of things which are part of the item is 0:
<br>        now the item is nowhere;
<br>    if the number of things which are part of the item is 1:
<br>        let the last thing be a random thing which is part of the item;
<br>        move the last thing to the space;
<br>        now the item is nowhere.
</p>
<p class="quoted">
Before collecting a thing (called the item):
<br>    remove item when empty;
<br>    let space be the holder of the item;
<br>    if space is not a thing and space is not a room:
<br>        if something (called the other space) contains at least two things which fit the item, move item to the other space;
<br>        if a room (called the other space) contains at least two things which fit the item, move item to the other space;
<br>        if someone (called the owner) carries at least two things which fit the item, move item to the owner.
</p>
<p class="quoted">
Rule for collecting a thing (called the item):
<br>    let space be the holder of the item;
<br>    if space is a thing or space is a room:
<br>        repeat with component running through things held by the space:
<br>            if the component fits the item, now the component is part of the item;
<br>        remove item when empty.
</p>
</div>
<p>And now for a cheerful scenario:</p>

<div class="code">
<p class="quoted">
The Boise Memorial Library is a room. "A concrete box of a room, roughly eight feet by fourteen, which contains all the fallout shelter has to offer by way of entertainment. Someone with a grim sense of humor has tacked a READ! literacy poster to the door, as though there were anything else to do while you await the calming of the Geiger counters." The shelf is a supporter in the Library. "A battered utility shelf stands against the south wall."
</p>
<p class="quoted">
The New Idahoan Encyclopedia Set is a collective. Volume A-Aalto fits the Encyclopedia. It is part of the Set. Volume AAM-Aardvark fits the Encyclopedia. It is part of the Set. Volume Aarhus-Aaron fits the Encyclopedia. It is part of the Set. Volume AARP-Gnosis fits the Encyclopedia. It is part of the Set. Volume Gnu-Zygote fits the Encyclopedia. It is part of the Set. The Set is on the shelf.
</p>
</div>
<p>Let's have the Encyclopedia describe itself differently depending on whether it's all in one place:</p>

<div class="code">
<p class="quoted">
After printing the name of the Set when something missing fits the Set:
<br>    say " (missing [a list of missing things which fit the Set])"
</p>
<p class="quoted">
Before printing the name of the Set when the number of missing things which fit the set is 0:
<br>    say "complete ".
</p>
<p class="quoted">
Test me with "get aarhus-aaron / look / inventory / get aam-aardvark / look / get gnu-zygote / look / get aarp-gnosis / look / inventory / drop set / look / get set / get a-aalto / inventory".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.5">WI §18.5. New activities</a><br><a href="rb_9.html#rb-9.6">RB §9.6. Reading Matter</a>
</div></details><details class="full-example" id="example-444"><summary><span class="example-summary">444. The Fifth Body</span> <span class="example-difficulty">★★</span></summary><div>
<p>The implementation here is much like that of the previous example, except that we allow the player to write his notebook input as a separate command, leading to an exchange such as</p>

<div class="code">
<p class="quoted">
&gt;write in my notebook
<br>You open your notebook and prepare to write in it.
</p>
<p class="quoted">
&gt;&gt;Am beginning to think that HT and BGG are in this together.
<br>You finish writing and fold your notebook away.
</p>
<p class="quoted">
&gt;read my notebook
<br>You read:
</p>
<p class="quoted">
Wednesday morning
</p>
<p class="quoted">
Am beginning to think that HT and BGG are in this together.
</p>
</div>
<p>The opening is much as before:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Fifth%20Body%22%5Cn%5CnA%20jotter%20is%20a%20kind%20of%20thing.%20A%20jotter%20has%20an%20external%20file%20called%20the%20text%20file.%20A%20jotter%20can%20be%20fresh%20or%20used.%20A%20jotter%20is%20usually%20fresh.%20A%20jotter%20has%20a%20text%20called%20the%20heading.%5Cn%5CnThe%20currently%20erased%20jotter%20is%20an%20object%20that%20varies.%5Cn%5CnTo%20erase%20(pad%20-%20a%20jotter):%5Cn%5Ctnow%20the%20currently%20erased%20jotter%20is%20the%20pad;%5Cn%5Ctwrite%20%22%5Bheading%20of%20the%20currently%20erased%20jotter%5D%5Bparagraph%20break%5D%22%20to%20the%20text%20file%20of%20the%20pad;%5Cn%5Ctnow%20the%20pad%20is%20fresh.%5Cn%5CnTo%20write%20in%20(pad%20-%20a%20jotter):%5Cn%5Ctappend%20%22%5Bthe%20time%20of%20day%5D:%20%5Bplayer's%20command%5D%5Bline%20break%5D%22%20to%20the%20text%20file%20of%20the%20pad;%5Cn%5Ctnow%20the%20pad%20is%20used.%5Cn%5CnTo%20read%20(pad%20-%20a%20jotter):%5Cn%5Ctsay%20%22You%20read:%20%5Bparagraph%20break%5D%5Btext%20of%20the%20text%20file%20of%20the%20pad%5D%22.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctrepeat%20with%20pad%20running%20through%20jotters:%5Cn%5Ct%5Cterase%20the%20pad.%5Cn%5CnInstead%20of%20examining%20a%20used%20jotter%20(called%20the%20pad):%5Cn%5Ctread%20the%20pad.%5Cn%5CnInstead%20of%20examining%20a%20fresh%20jotter%20(called%20the%20pad):%5Cn%5Ctsay%20%22There%20is%20nothing%20of%20note%20in%20%5Bthe%20pad%5D.%22%5Cn%5CnTarget%20jotter%20is%20an%20object%20that%20varies.%20The%20target%20jotter%20is%20usually%20nothing.%5Cn%5CnUnderstand%20%22write%20in%20%5Bsomething%20preferably%20held%5D%22%20as%20writing%20in.%20Writing%20in%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20writing%20in:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20jotter,%20say%20%22It%20would%20be%20better%20to%20write%20in%20a%20notebook.%22%20instead.%5Cn%5CnCarry%20out%20writing%20in:%5Cn%5Ctnow%20the%20command%20prompt%20is%20%22&gt;&gt;%22;%5Cn%5Ctnow%20the%20target%20jotter%20is%20the%20noun.%5Cn%5CnReport%20writing%20in:%5Cn%5Ctsay%20%22You%20open%20%5Bthe%20noun%5D%20and%20prepare%20to%20write%20in%20it.%22%5Cn%5Cn%5BNow%20what%20happens%20is%20that%20the%20player,%20having%20typed%20WRITE%20IN%20NOTEBOOK,%20will%20be%20faced%20with%20a%20%22&gt;&gt;%22%20prompt%20instead%20of%20the%20usual%20%22&gt;%22:%20a%20sign%20that%20the%20input%20mode%20has%20changed.%5D%5Cn%5Cn%5BThe%20next%20code%20is%20to%20react%20to%20reading%20a%20command.%20Whatever%20the%20player%20types%20at%20the%20&gt;&gt;%20prompt%20when%20the%20target%20jotter%20is%20set%20will%20now%20be%20recorded%20in%20the%20notebook,%20though%20with%20a%20character%20limit%20of%20about%2060-100%20characters%20depending%20on%20how%20much%20upper-case%20and%20punctuation%20he%20uses.%20(There%20are%20ways%20to%20lift%20the%20character%20length%20restriction%20as%20well,%20but%20they%20would%20take%20us%20into%20deeper%20waters.)%5D%5Cn%5CnAfter%20reading%20a%20command%20when%20target%20jotter%20is%20a%20jotter:%5Cn%5Ctnow%20the%20command%20prompt%20is%20%22&gt;%22;%5Cn%5Ctwrite%20in%20target%20jotter;%5Cn%5Ctnow%20target%20jotter%20is%20used;%5Cn%5Ctsay%20%22You%20finish%20writing%20and%20fold%20your%20notebook%20away.%22;%5Cn%5Ctnow%20the%20target%20jotter%20is%20nothing;%5Cn%5Ctreject%20the%20player's%20command.%5Cn%5CnUnderstand%20%22erase%20%5Bsomething%20preferably%20held%5D%22%20as%20erasing.%20Erasing%20is%20an%20action%20applying%20to%20one%20carried%20thing.%5Cn%5CnCheck%20erasing:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20jotter,%20say%20%22It's%20hard%20to%20see%20how.%22%20instead.%5Cn%5CnCarry%20out%20erasing:%5Cn%5Cterase%20the%20noun.%5Cn%5CnReport%20erasing:%5Cn%5Ctsay%20%22You%20scrub%20out%20all%20the%20entries%20in%20%5Bthe%20noun%5D.%22%5Cn%5CnThe%20player%20carries%20a%20jotter%20called%20your%20notebook.%20The%20file%20of%20Player's%20Observations%20is%20called%20%22notebook%22.%20The%20text%20file%20of%20your%20notebook%20is%20the%20file%20of%20Player's%20Observations.%20The%20heading%20of%20your%20notebook%20is%20%22Sunday%20Morning%22.%5Cn%5CnThe%20Vestry%20is%20a%20room.%20%22%5BHavers%5D%20hangs%20back%20by%20the%20door:%20the%20forensics%20expert%20is%20not%20finished%20with%20a%20preliminary%20examination%20of%20the%20body.%20From%20here%20you%20can't%20see%20much,%20except%20that%20the%20expert%20has%20peeled%20back%20and%20laid%20to%20one%20side%20a%20liturgical%20vestment%20that%20someone%20at%20the%20church%20used%20to%20cover%20the%20corpse%20until%20the%20police%20came.%20What%20was%20once%20a%20cream%20silk%20with%20festive%20Easter%20embroidery%20is%20now%20stained%20with%20blood-colored%20handprints.%22%5Cn%5CnDetective%20Havers%20is%20a%20woman%20in%20the%20Vestry.%20The%20description%20is%20%22She%20looks%20glumly%20back.%20There's%20still%20a%20purple-ish%20bruise%20on%20her%20cheekbone%20from%20the%20disaster%20Thursday%20afternoon.%22%20Havers%20is%20scenery.%5Cn%5CnHavers%20is%20carrying%20a%20jotter%20called%20Barbara's%20notebook.%20The%20file%20of%20Barbara's%20Observations%20is%20called%20%22barbara%22.%20The%20text%20file%20of%20Barbara's%20notebook%20is%20the%20file%20of%20Barbara's%20Observations.%20The%20heading%20of%20Barbara's%20notebook%20is%20%22Sun.%20AM%22.%5Cn%5CnThe%20time%20of%20day%20is%209:11%20AM.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Fifth Body"
</p>
<p class="quoted">
A jotter is a kind of thing. A jotter has an external file called the text file. A jotter can be fresh or used. A jotter is usually fresh. A jotter has a text called the heading.
</p>
<p class="quoted">
The currently erased jotter is an object that varies.
</p>
<p class="quoted">
To erase (pad - a jotter):
<br>    now the currently erased jotter is the pad;
<br>    write "[heading of the currently erased jotter][paragraph break]" to the text file of the pad;
<br>    now the pad is fresh.
</p>
<p class="quoted">
To write in (pad - a jotter):
<br>    append "[the time of day]: [player's command][line break]" to the text file of the pad;
<br>    now the pad is used.
</p>
<p class="quoted">
To read (pad - a jotter):
<br>    say "You read: [paragraph break][text of the text file of the pad]".
</p>
<p class="quoted">
When play begins:
<br>    repeat with pad running through jotters:
<br>        erase the pad.
</p>
<p class="quoted">
Instead of examining a used jotter (called the pad):
<br>    read the pad.
</p>
<p class="quoted">
Instead of examining a fresh jotter (called the pad):
<br>    say "There is nothing of note in [the pad]."
</p>
<p class="quoted">
Target jotter is an object that varies. The target jotter is usually nothing.
</p>
<p class="quoted">
Understand "write in [something preferably held]" as writing in. Writing in is an action applying to one thing.
</p>
<p class="quoted">
Check writing in:
<br>    if the noun is not a jotter, say "It would be better to write in a notebook." instead.
</p>
<p class="quoted">
Carry out writing in:
<br>    now the command prompt is "&gt;&gt;";
<br>    now the target jotter is the noun.
</p>
<p class="quoted">
Report writing in:
<br>    say "You open [the noun] and prepare to write in it."
</p>
</div>
<p>Now what happens is that the player, having typed WRITE IN NOTEBOOK, will be faced with a "&gt;&gt;" prompt instead of the usual "&gt;": a sign that the input mode has changed.</p>
<p>The next code is to react to reading a command. Whatever the player types at the &gt;&gt; prompt when the target jotter is set will now be recorded in the notebook, though with a character limit of about 60-100 characters depending on how much upper-case and punctuation he uses. (There are ways to lift the character length restriction as well, but they would take us into deeper waters.)</p>

<div class="code">
<p class="quoted">
After reading a command when target jotter is a jotter:
<br>    now the command prompt is "&gt;";
<br>    write in target jotter;
<br>    now target jotter is used;
<br>    say "You finish writing and fold your notebook away.";
<br>    now the target jotter is nothing;
<br>    reject the player's command.
</p>
<p class="quoted">
Understand "erase [something preferably held]" as erasing. Erasing is an action applying to one carried thing.
</p>
<p class="quoted">
Check erasing:
<br>    if the noun is not a jotter, say "It's hard to see how." instead.
</p>
<p class="quoted">
Carry out erasing:
<br>    erase the noun.
</p>
<p class="quoted">
Report erasing:
<br>    say "You scrub out all the entries in [the noun]."
</p>
<p class="quoted">
The player carries a jotter called your notebook. The file of Player's Observations is called "notebook". The text file of your notebook is the file of Player's Observations. The heading of your notebook is "Sunday Morning".
</p>
<p class="quoted">
The Vestry is a room. "[Havers] hangs back by the door: the forensics expert is not finished with a preliminary examination of the body. From here you can't see much, except that the expert has peeled back and laid to one side a liturgical vestment that someone at the church used to cover the corpse until the police came. What was once a cream silk with festive Easter embroidery is now stained with blood-colored handprints."
</p>
<p class="quoted">
Detective Havers is a woman in the Vestry. The description is "She looks glumly back. There's still a purple-ish bruise on her cheekbone from the disaster Thursday afternoon." Havers is scenery.
</p>
<p class="quoted">
Havers is carrying a jotter called Barbara's notebook. The file of Barbara's Observations is called "barbara". The text file of Barbara's notebook is the file of Barbara's Observations. The heading of Barbara's notebook is "Sun. AM".
</p>
<p class="quoted">
The time of day is 9:11 AM.
</p>
</div>
</div>
<div class="linkback">
<a href="wi_23.html#wi-23.14">WI §23.14. Writing, reading and appending text to files</a><br><a href="rb_9.html#rb-9.6">RB §9.6. Reading Matter</a>
</div></details><details class="full-example" id="example-94"><summary><span class="example-summary">94. Costa Rican Ornithology</span> <span class="example-difficulty">★★★</span></summary><div>
<p>The following relies on quite a number of features we haven't met yet: tables, rules for printing names, instructions for understanding the player's commands. It is offered simply as an example of how a fully implemented book might be handled in Inform.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Costa%20Rican%20Ornithology%22%5Cn%5CnA%20book%20is%20a%20kind%20of%20thing.%20Understand%20%22book%22%20as%20a%20book.%20A%20book%20has%20a%20table%20name%20called%20the%20contents.%5Cn%5CnInstead%20of%20consulting%20a%20book%20about%20a%20topic%20listed%20in%20the%20contents%20of%20the%20noun:%5Cn%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22.%5Cn%5CnReport%20consulting%20a%20book%20about:%5Cn%5Ctsay%20%22You%20flip%20through%20%5Bthe%20noun%5D,%20but%20find%20no%20reference%20to%20%5Bthe%20topic%20understood%5D.%22%20instead.%5Cn%5Cn%5BWith%20this%20%22topic%20understood%22%20phrase,%20we're%20telling%20Inform%20to%20print%20back%20the%20word%20or%20phrase%20that%20the%20player%20was%20attempting%20to%20look%20up.%20This%20overrides%20the%20more%20general%20default%20response,%20%22You%20discover%20nothing%20of%20interest%20in%20the%20book.%22%5D%5Cn%5Cn%5BWe%20now%20have%20the%20essential%20elements%20to%20construct%20whatever%20books%20we%20like.%20Now%20let's%20have%20an%20example%20of%20a%20specific%20book:%5D%5Cn%5CnThe%20Guide%20to%20Central%20American%20Birds%20is%20a%20book%20carried%20by%20the%20player.%20The%20contents%20of%20the%20Guide%20is%20the%20Table%20of%20Listed%20Birds.%5Cn%5Cn%5BWe%20will%20come%20back%20to%20the%20idea%20of%20tables%20and%20table%20names%20later,%20but%20for%20now%20the%20important%20thing%20is%20that%20we%20have%20instructed%20Inform%20to%20look%20up%20its%20answers%20to%20consulting%20the%20bird%20guide%20in%20this%20form:%5D%5Cn%5CnTable%20of%20Listed%20Birds%5Cntopic%5Ctreply%5Cn%22%5Bred%5D%22%20or%20%22%5Bred%5D%20bird/macaw%22%5Ct%22You%20flip%20through%20the%20Guide%20for%20a%20while%20and%20eventually%20discover%20a%20reference%20to%20the%20%5Bscarlet%20macaw%5D,%20which%20appears%20to%20correspond%20with%20what%20you%20see%20before%20you.%22%5Cn%22quetzal/trogon%22%20or%20%22resplendent%20trogon%22%5Ct%22The%20entry%20on%20the%20quetzal%20is%20quite%20lyrical,%20describing%20its%20brilliant%20plumage,%20flashing%20and%20igniting%20in%20the%20sunshine,%20which%20is%20supposedly%20sufficient%20to%20lure%20birdwatchers%20from%20all%20over%20the%20world.%20Unfortunately,%20the%20quetzal%20is%20described%20as%20being%20bright%20emerald%20in%20color,%20with%20a%20pink%20fuzz%20on%20its%20head%20and%20a%20long%20soft%20tail%20'like%20a%20feather%20boa'.%20None%20of%20these%20describes%20your%20visitor.%22%5Cn%5Cn%5BThe%20topic%20column%20is%20a%20bit%20special:%20it%20matches%20the%20player's%20input,%20and%20is%20not%20meant%20to%20be%20printed%20out%20again.%20Topic%20columns%20will%20be%20discussed%20further%20in%20the%20chapter%20on%20Tables.%20(Note%20also%20that,%20however%20it%20may%20appear%20in%20the%20documentation,%20the%20topic%20column%20should%20not%20be%20spanning%20multiple%20lines%20in%20our%20source%20text.)%5D%5Cn%5Cn%5BWe%20may%20also%20compress%20long%20or%20complicated%20topics%20by%20creating%20bracketed%20abbreviations,%20and%20in%20fact%20it's%20useful%20to%20do%20so%20now,%20to%20explain%20the%20red%20token%20we%20just%20used:%5D%5Cn%5CnUnderstand%20%22red-orange%22%20or%20%22bird%22%20or%20%22red%22%20or%20%22orange%22%20as%20the%20scarlet%20macaw.%20Understand%20%22red-orange%22%20or%20%22red%22%20or%20%22orange%22%20or%20%22scarlet%22%20as%20%22%5Bred%5D%22.%5Cn%5Cn%5BThis%20technique%20is%20discussed%20further%20in%20the%20chapter%20on%20Understanding.%5D%5Cn%5Cn%5BIf%20we%20wanted%20more%20books,%20we%20could%20define%20those%20in%20the%20same%20way,%20giving%20each%20its%20own%20separate%20contents%20table%20to%20be%20used%20for%20consultation.%20But%20for%20the%20sake%20of%20the%20example%20we%20will%20keep%20it%20simple,%20and%20move%20on%20to%20the%20scenario%20itself:%5D%5Cn%5CnThe%20Veranda%20is%20a%20room.%20%22From%20here%20you%20can%20see%20a%20considerable%20expanse%20of%20dense-growing%20jungle%20plants,%20and%20eventually%20the%20open%20water%20beyond.%22%5Cn%5CnThe%20scarlet%20macaw%20is%20an%20animal%20in%20the%20veranda.%20%22A%20vibrantly-colored%20%5Bscarlet%20macaw%5D%20perches%20on%20the%20rail.%22%5Cn%5CnA%20thing%20can%20be%20known%20or%20unknown.%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20scarlet%20macaw%20while%20consulting:%5Cn%5Ctnow%20the%20scarlet%20macaw%20is%20known.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20the%20unknown%20scarlet%20macaw:%20if%20the%20macaw%20is%20unknown,%20say%20%22red-orange%20bird%20of%20unknown%20species%22.%5Cn%5CnTest%20me%20with%20%22look%20up%20penguins%20in%20the%20guide%20/%20look%20up%20quetzal%20in%20guide%20/%20look%20up%20silver%20nuthatches%20in%20the%20guide%20/%20look%20/%20look%20up%20red%20bird%20in%20the%20book%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Costa Rican Ornithology"
</p>
<p class="quoted">
A book is a kind of thing. Understand "book" as a book. A book has a table name called the contents.
</p>
<p class="quoted">
Instead of consulting a book about a topic listed in the contents of the noun:
<br>    say "[reply entry][paragraph break]".
</p>
<p class="quoted">
Report consulting a book about:
<br>    say "You flip through [the noun], but find no reference to [the topic understood]." instead.
</p>
</div>
<p>With this "topic understood" phrase, we're telling Inform to print back the word or phrase that the player was attempting to look up. This overrides the more general default response, "You discover nothing of interest in the book."</p>
<p>We now have the essential elements to construct whatever books we like. Now let's have an example of a specific book:</p>

<div class="code"><p class="quoted">
The Guide to Central American Birds is a book carried by the player. The contents of the Guide is the Table of Listed Birds.
</p></div>
<p>We will come back to the idea of tables and table names later, but for now the important thing is that we have instructed Inform to look up its answers to consulting the bird guide in this form:</p>

<div class="code">
<p class="quoted">
Table of Listed Birds
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"[red]" or "[red] bird/macaw"</p></td>
<td class="quotedtablecell"><p class="quoted">"You flip through the Guide for a while and eventually discover a reference to the [scarlet macaw], which appears to correspond with what you see before you."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"quetzal/trogon" or "resplendent trogon"</p></td>
<td class="quotedtablecell"><p class="quoted">"The entry on the quetzal is quite lyrical, describing its brilliant plumage, flashing and igniting in the sunshine, which is supposedly sufficient to lure birdwatchers from all over the world. Unfortunately, the quetzal is described as being bright emerald in color, with a pink fuzz on its head and a long soft tail 'like a feather boa'. None of these describes your visitor."</p></td>
</tr>
</table>
</div>
<p>The topic column is a bit special: it matches the player's input, and is not meant to be printed out again. Topic columns will be discussed further in the chapter on Tables. (Note also that, however it may appear in the documentation, the topic column should not be spanning multiple lines in our source text.)</p>
<p>We may also compress long or complicated topics by creating bracketed abbreviations, and in fact it's useful to do so now, to explain the red token we just used:</p>

<div class="code"><p class="quoted">
Understand "red-orange" or "bird" or "red" or "orange" as the scarlet macaw. Understand "red-orange" or "red" or "orange" or "scarlet" as "[red]".
</p></div>
<p>This technique is discussed further in the chapter on Understanding.</p>
<p>If we wanted more books, we could define those in the same way, giving each its own separate contents table to be used for consultation. But for the sake of the example we will keep it simple, and move on to the scenario itself:</p>

<div class="code">
<p class="quoted">
The Veranda is a room. "From here you can see a considerable expanse of dense-growing jungle plants, and eventually the open water beyond."
</p>
<p class="quoted">
The scarlet macaw is an animal in the veranda. "A vibrantly-colored [scarlet macaw] perches on the rail."
</p>
<p class="quoted">
A thing can be known or unknown.
</p>
<p class="quoted">
Before printing the name of the scarlet macaw while consulting:
<br>    now the scarlet macaw is known.
</p>
<p class="quoted">
Rule for printing the name of the unknown scarlet macaw: if the macaw is unknown, say "red-orange bird of unknown species".
</p>
<p class="quoted">
Test me with "look up penguins in the guide / look up quetzal in guide / look up silver nuthatches in the guide / look / look up red bird in the book / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.6">WI §7.6. Reading and talking</a><br><a href="rb_9.html#rb-9.6">RB §9.6. Reading Matter</a>
</div></details>
</div></section>
<section class="section" id="rb-9.7"><div>





<h3>RB §9.7. Painting and Labeling Devices</h3>
<p>Writing on something is only one way a player can change its visual appearance. IF authors have long been wary of paint brushes, because a sufficiently motivated player could go through a whole landscape like a graffiti artist with a railway bridge. We want to give the player the illusion of freedom of action, while avoiding a situation where unlimited numbers of different decorations might be needed - that would need a table of potentially unlimited size.</p>
<p>One approach is to limit the number of items which can be decorated. In <a href="rb_9.html#example-308" class="example-link" onClick="(function() { document.getElementById('example-308').setAttribute('open','open'); return true; })();">Palette</a><span class="example-difficulty"> ★</span>, only the canvas can be painted, and each image overlays the last. <a href="rb_9.html#example-55" class="example-link" onClick="(function() { document.getElementById('example-55').setAttribute('open','open'); return true; })();">Early Childhood</a><span class="example-difficulty"> ★★★</span> increases the range to allow a whole kind ("block") to be painted, and also shows how the changing colours can be used to distinguish between otherwise identical objects.</p>
<p><a href="rb_9.html#example-35" class="example-link" onClick="(function() { document.getElementById('example-35').setAttribute('open','open'); return true; })();">Brown</a><span class="example-difficulty"> ★★★</span> finds a different way to limit the number of simultaneous decorations: almost anything can have a red sticky label attached, but there is only one red sticky label. (So to decorate a new item, the player must first un-decorate an old one.)</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_10.html#rb-10.7" class="crossreference_link">Electricity and Magnetism</a> for another form of stickiness</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-308"><summary><span class="example-summary">308. Palette</span> <span class="example-difficulty">★</span></summary><div>
<p>There are hundreds of traditional pigments, from lampblack to burnt sienna, so we will confine ourselves to just two:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Palette%22%5Cn%5CnThe%20Atelier%20is%20a%20room.%20%22The%20floridly%20untidy%20loft%20space%20used%20by%20a%20moderately%20unsuccessful%20artist%20(you,%20that%20is).%22%20The%20canvas,%20palette%20and%20paint%20brush%20are%20here.%20Understand%20%22painting%22%20as%20the%20canvas.%5Cn%5CnColour%20is%20a%20kind%20of%20value.%20The%20colours%20are%20white,%20red,%20blue%20and%20green.%5Cn%5CnThe%20canvas%20has%20a%20colour.%20The%20canvas%20is%20white.%20The%20printed%20name%20of%20the%20canvas%20is%20%22largely%20%5Bcolour%5D%20canvas%22.%5Cn%5CnPainting%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20colour.%20Check%20painting:%20if%20the%20noun%20is%20not%20the%20canvas,%20say%20%22Centuries%20of%20tradition%20suggest%20that%20canvas%20is%20the%20natural%20home%20of%20paint.%22%20instead.%20Carry%20out%20painting:%20now%20the%20colour%20of%20the%20canvas%20is%20the%20colour%20understood.%20Report%20painting:%20say%20%22You%20splash%20away%20at%20the%20now%20%5Bcanvas%5D.%22%5Cn%5CnUnderstand%20%22paint%20%5Bsomething%5D%20%5Ba%20colour%5D%22%20as%20painting.%5Cn%5CnUnderstand%20%22calico%22%20as%20white.%20Understand%20%22cerulean%22%20or%20%22cerulean%20blue%22%20as%20blue.%5Cn%5CnTest%20me%20with%20%22examine%20canvas%20/%20paint%20canvas%20red%20/%20examine%20canvas%20/%20paint%20canvas%20cerulean%20/%20examine%20canvas%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Palette"
</p>
<p class="quoted">
The Atelier is a room. "The floridly untidy loft space used by a moderately unsuccessful artist (you, that is)." The canvas, palette and paint brush are here. Understand "painting" as the canvas.
</p>
<p class="quoted">
Colour is a kind of value. The colours are white, red, blue and green.
</p>
<p class="quoted">
The canvas has a colour. The canvas is white. The printed name of the canvas is "largely [colour] canvas".
</p>
<p class="quoted">
Painting is an action applying to one thing and one colour. Check painting: if the noun is not the canvas, say "Centuries of tradition suggest that canvas is the natural home of paint." instead. Carry out painting: now the colour of the canvas is the colour understood. Report painting: say "You splash away at the now [canvas]."
</p>
<p class="quoted">
Understand "paint [something] [a colour]" as painting.
</p>
<p class="quoted">
Understand "calico" as white. Understand "cerulean" or "cerulean blue" as blue.
</p>
<p class="quoted">
Test me with "examine canvas / paint canvas red / examine canvas / paint canvas cerulean / examine canvas".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.11">WI §17.11. Understanding values</a><br><a href="rb_9.html#rb-9.7">RB §9.7. Painting and Labeling Devices</a>
</div></details><details class="full-example" id="example-35"><summary><span class="example-summary">35. Brown</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Brown%22%5Cn%5CnThe%20Shipping%20Room%20is%20a%20room.%20The%20red%20sticky%20label%20is%20a%20thing%20carried%20by%20the%20player.%20The%20description%20of%20the%20red%20sticky%20label%20is%20%22It%20reads:%20AIRMAIL%5Bif%20the%20label%20is%20part%20of%20something%20(called%20the%20parent)%5D.%20It%20is%20stuck%20to%20%5Bthe%20parent%5D%5Bend%20if%5D.%22%5Cn%5CnA%20black%20crate%20is%20in%20Shipping.%20The%20description%20is%20%22A%20boring%20black%20crate.%22%20%20The%20brown%20crate%20is%20a%20thing%20in%20Shipping.%20The%20description%20is%20%22An%20ordinary%20brown%20crate.%22%5Cn%5CnAfter%20examining%20something%20when%20the%20label%20is%20part%20of%20the%20noun:%5Cn%5Ctsay%20%22A%20bright%20red%20sticky%20label%20is%20attached%20to%20%5Bthe%20noun%5D!%22%5Cn%5Cn%5BHere%20is%20the%20essential%20point:%20whenever%20we%20ATTACH%20LABEL%20TO%20something,%20it%20becomes%20part%20of%20that%20object.%5D%5Cn%5CnInstead%20of%20tying%20the%20red%20sticky%20label%20to%20something:%5Cn%5Ctnow%20the%20red%20sticky%20label%20is%20part%20of%20the%20second%20noun;%5Cn%5Ctsay%20%22You%20stick%20%5Bthe%20label%5D%20to%20%5Bthe%20second%20noun%5D.%22%5Cn%5Cn%5BAnd%20of%20course%20the%20label%20cannot%20be%20stuck%20to%20itself%20or%20to%20more%20than%20one%20thing%20at%20a%20time.%5D%5Cn%5CnBefore%20tying%20the%20label%20to%20something%20when%20the%20label%20is%20part%20of%20something:%5Cn%5Ctif%20the%20label%20is%20part%20of%20the%20second%20noun:%5Cn%5Ct%5Ctsay%20%22%5BThe%20label%5D%20is%20already%20stuck%20to%20%5Bthe%20second%20noun%5D.%22%20instead;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22(first%20freeing%20the%20label)%5Bline%20break%5D%22;%5Cn%5Ct%5Ctsilently%20try%20taking%20the%20label;%5Cn%5Ct%5Ctif%20the%20label%20is%20part%20of%20something,%20stop%20the%20action.%5Cn%5CnInstead%20of%20tying%20the%20red%20sticky%20label%20to%20the%20label:%5Cn%5Ctsay%20%22That%20would%20ruin%20the%20label%20entirely.%22%5Cn%5CnInstead%20of%20taking%20the%20label%20when%20the%20label%20is%20part%20of%20something:%5Cn%5Ctnow%20the%20player%20carries%20the%20label;%5Cn%5Ctsay%20%22You%20peel%20the%20label%20off%20again.%22%5Cn%5Cn%5BMuch%20of%20the%20rest%20is%20just%20tidying%20to%20make%20sure%20that%20the%20player's%20commands%20are%20redirected%20into%20the%20right%20syntax.%5D%5Cn%5CnInstead%20of%20tying%20something%20to%20the%20label:%5Cn%5Cttry%20tying%20the%20label%20to%20the%20noun.%5Cn%5CnInstead%20of%20putting%20the%20label%20on%20something:%5Cn%5Cttry%20tying%20the%20label%20to%20the%20second%20noun.%5Cn%5CnInstead%20of%20inserting%20the%20label%20into%20something:%5Cn%5Cttry%20tying%20the%20label%20to%20the%20second%20noun.%5Cn%5CnUnderstand%20the%20commands%20%22stick%22%20or%20%22apply%22%20as%20%22tie%22.%5Cn%5Cn%5BWe%20could%20have%20created%20a%20new%20%22sticking%22%20action,%20but%20to%20keep%20the%20example%20short%20we%20will%20use%20the%20built-in%20%22tying%22%20action%20instead,%20and%20respond%20to%20the%20command%20%22stick%22%20just%20as%20if%20it%20were%20%22tie%22.%5D%5Cn%5CnUnderstand%20%22peel%20%5Bsomething%5D%22%20or%20%22peel%20off%20%5Bsomething%5D%22%20as%20taking.%5Cn%5CnTest%20me%20with%20%22i%20/%20put%20label%20on%20the%20black%20crate%20/%20look%20/%20x%20black%20/%20x%20label%20/%20get%20the%20label%20/%20apply%20label%20to%20brown%20crate%20/%20look%20/%20x%20brown%20/%20peel%20off%20label%20/%20stick%20label%20to%20label%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Brown"
</p>
<p class="quoted">
The Shipping Room is a room. The red sticky label is a thing carried by the player. The description of the red sticky label is "It reads: AIRMAIL[if the label is part of something (called the parent)]. It is stuck to [the parent][end if]."
</p>
<p class="quoted">
A black crate is in Shipping. The description is "A boring black crate."  The brown crate is a thing in Shipping. The description is "An ordinary brown crate."
</p>
<p class="quoted">
After examining something when the label is part of the noun:
<br>    say "A bright red sticky label is attached to [the noun]!"
</p>
</div>
<p>Here is the essential point: whenever we ATTACH LABEL TO something, it becomes part of that object.</p>

<div class="code"><p class="quoted">
Instead of tying the red sticky label to something:
<br>    now the red sticky label is part of the second noun;
<br>    say "You stick [the label] to [the second noun]."
</p></div>
<p>And of course the label cannot be stuck to itself or to more than one thing at a time.</p>

<div class="code">
<p class="quoted">
Before tying the label to something when the label is part of something:
<br>    if the label is part of the second noun:
<br>        say "[The label] is already stuck to [the second noun]." instead;
<br>    otherwise:
<br>        say "(first freeing the label)[line break]";
<br>        silently try taking the label;
<br>        if the label is part of something, stop the action.
</p>
<p class="quoted">
Instead of tying the red sticky label to the label:
<br>    say "That would ruin the label entirely."
</p>
<p class="quoted">
Instead of taking the label when the label is part of something:
<br>    now the player carries the label;
<br>    say "You peel the label off again."
</p>
</div>
<p>Much of the rest is just tidying to make sure that the player's commands are redirected into the right syntax.</p>

<div class="code">
<p class="quoted">
Instead of tying something to the label:
<br>    try tying the label to the noun.
</p>
<p class="quoted">
Instead of putting the label on something:
<br>    try tying the label to the second noun.
</p>
<p class="quoted">
Instead of inserting the label into something:
<br>    try tying the label to the second noun.
</p>
<p class="quoted">
Understand the commands "stick" or "apply" as "tie".
</p>
</div>
<p>We could have created a new "sticking" action, but to keep the example short we will use the built-in "tying" action instead, and respond to the command "stick" just as if it were "tie".</p>

<div class="code">
<p class="quoted">
Understand "peel [something]" or "peel off [something]" as taking.
</p>
<p class="quoted">
Test me with "i / put label on the black crate / look / x black / x label / get the label / apply label to brown crate / look / x brown / peel off label / stick label to label".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.23">WI §3.23. Parts of things</a><br><a href="rb_9.html#rb-9.7">RB §9.7. Painting and Labeling Devices</a>
</div></details><details class="full-example" id="example-55"><summary><span class="example-summary">55. Early Childhood</span> <span class="example-difficulty">★★★</span></summary><div>
<p>This would be a one-star example if it were not for the repainting:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Early%20Childhood%201%22%5Cn%5CnA%20building%20block%20is%20a%20kind%20of%20thing.%20A%20red%20block,%20a%20blue%20block%20and%20a%20green%20block%20are%20kinds%20of%20building%20block.%5Cn%5CnThe%20Nursery%20is%20a%20room.%20In%20the%20Nursery%20are%20six%20red%20blocks,%20four%20blue%20blocks%20and%20a%20green%20block.%5Cn%5CnTest%20me%20with%20%22look%20/%20get%20red%20block%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Early Childhood 1"
</p>
<p class="quoted">
A building block is a kind of thing. A red block, a blue block and a green block are kinds of building block.
</p>
<p class="quoted">
The Nursery is a room. In the Nursery are six red blocks, four blue blocks and a green block.
</p>
<p class="quoted">
Test me with "look / get red block".
</p>
</div>
<p>But a kind cannot change during play, so this will not do. Instead, the colour will have to be a property of the block. So we might first try this:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Early%20Childhood%202%22%5Cn%5CnColour%20is%20a%20kind%20of%20value.%20The%20colours%20are%20red,%20blue%20and%20green.%20A%20block%20is%20a%20kind%20of%20thing.%20A%20block%20has%20a%20colour.%20A%20block%20is%20usually%20blue.%5Cn%5CnThe%20Nursery%20is%20a%20room.%20In%20the%20Nursery%20are%20six%20red%20blocks,%20four%20blue%20blocks%20and%20a%20green%20block.%5Cn%5CnTest%20me%20with%20%22look%20/%20get%20red%20block%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Early Childhood 2"
</p>
<p class="quoted">
Colour is a kind of value. The colours are red, blue and green. A block is a kind of thing. A block has a colour. A block is usually blue.
</p>
<p class="quoted">
The Nursery is a room. In the Nursery are six red blocks, four blue blocks and a green block.
</p>
<p class="quoted">
Test me with "look / get red block".
</p>
</div>
<p>Which is fine, so far as it goes, but the colour property is not at all visible to the player, who simply sees "eleven blocks". We thought of colour as being something outwardly apparent, but Inform does not know this. To achieve a better effect, we will need features from distant chapters. The first is an activity called "printing the name of":</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Early%20Childhood%203%22%5Cn%5CnColour%20is%20a%20kind%20of%20value.%20The%20colours%20are%20red,%20blue%20and%20green.%20A%20block%20is%20a%20kind%20of%20thing.%20A%20block%20has%20a%20colour.%20A%20block%20is%20usually%20blue.%20Before%20printing%20the%20name%20of%20a%20block:%20say%20%22%5Bcolour%5D%20%22.%20Before%20printing%20the%20plural%20name%20of%20a%20block:%20say%20%22%5Bcolour%5D%20%22.%5Cn%5CnThe%20Nursery%20is%20a%20room.%20In%20the%20Nursery%20are%20six%20red%20blocks,%20four%20blue%20blocks%20and%20a%20green%20block.%5Cn%5CnTest%20me%20with%20%22look%20/%20get%20red%20block%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Early Childhood 3"
</p>
<p class="quoted">
Colour is a kind of value. The colours are red, blue and green. A block is a kind of thing. A block has a colour. A block is usually blue. Before printing the name of a block: say "[colour] ". Before printing the plural name of a block: say "[colour] ".
</p>
<p class="quoted">
The Nursery is a room. In the Nursery are six red blocks, four blue blocks and a green block.
</p>
<p class="quoted">
Test me with "look / get red block".
</p>
</div>
<p>This too, however, is unsatisfactory. The individual blocks are correctly described, but we are unable to distinguish them during play: we cannot type "take a green block", for instance. And because the blocks are indistinguishable in play, they are still massed together as "eleven blocks" in room descriptions. We need to go one step further:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Early%20Childhood%204%22%5Cn%5CnColour%20is%20a%20kind%20of%20value.%20The%20colours%20are%20red,%20blue%20and%20green.%20A%20block%20is%20a%20kind%20of%20thing.%20A%20block%20has%20a%20colour.%20A%20block%20is%20usually%20blue.%20Before%20printing%20the%20name%20of%20a%20block:%20say%20%22%5Bcolour%5D%20%22.%20Before%20printing%20the%20plural%20name%20of%20a%20block:%20say%20%22%5Bcolour%5D%20%22.%20Understand%20the%20colour%20property%20as%20describing%20a%20block.%5Cn%5CnThe%20Nursery%20is%20a%20room.%20In%20the%20Nursery%20are%20six%20red%20blocks,%20four%20blue%20blocks%20and%20a%20green%20block.%5Cn%5Cn%5BAnd%20now%20everything%20works%20nicely:%20the%20blocks%20are%20grouped%20by%20colour,%20and%20can%20be%20referred%20to%20by%20colour,%20and%20we%20can%20even%20change%20the%20colour%20of%20an%20individual%20block%20during%20play,%20using%20a%20bit%20of%20extra%20trickery%20from%20later:%5D%5Cn%5CnUnderstand%20%22paint%20%5Bsomething%5D%20%5Bcolour%5D%22%20as%20painting%20it.%20Painting%20it%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20colour.%20Check%20painting%20it:%20if%20the%20noun%20is%20not%20a%20block,%20say%20%22Paints%20are%20only%20for%20blocks.%22%20instead.%20Carry%20out%20painting%20it:%20now%20the%20colour%20of%20the%20noun%20is%20the%20colour%20understood.%20Report%20painting%20it:%20say%20%22The%20block%20is%20now%20%5Bthe%20colour%20of%20the%20noun%5D.%22%5Cn%5CnTest%20me%20with%20%22get%20red%20block%20/%20get%20blue%20block%20/%20g%20/%20i%20/%20look%20/%20paint%20blue%20block%20red%20/%20i%20/%20look%20/%20paint%20me%20red%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Early Childhood 4"
</p>
<p class="quoted">
Colour is a kind of value. The colours are red, blue and green. A block is a kind of thing. A block has a colour. A block is usually blue. Before printing the name of a block: say "[colour] ". Before printing the plural name of a block: say "[colour] ". Understand the colour property as describing a block.
</p>
<p class="quoted">
The Nursery is a room. In the Nursery are six red blocks, four blue blocks and a green block.
</p>
</div>
<p>And now everything works nicely: the blocks are grouped by colour, and can be referred to by colour, and we can even change the colour of an individual block during play, using a bit of extra trickery from later:</p>

<div class="code">
<p class="quoted">
Understand "paint [something] [colour]" as painting it. Painting it is an action applying to one thing and one colour. Check painting it: if the noun is not a block, say "Paints are only for blocks." instead. Carry out painting it: now the colour of the noun is the colour understood. Report painting it: say "The block is now [the colour of the noun]."
</p>
<p class="quoted">
Test me with "get red block / get blue block / g / i / look / paint blue block red / i / look / paint me red".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.14">WI §4.14. Duplicates</a><br><a href="rb_9.html#rb-9.7">RB §9.7. Painting and Labeling Devices</a>
</div></details>
</div></section>
<section class="section" id="rb-9.8"><div>





<h3>RB §9.8. Simple Machines</h3>
<p>The "device" kind provides for the simplest form of machine: one which is, at any given moment, switched on or switched off. Inform looks after this state, but leaves it to us to make the machine actually do something:</p>

<div class="code">
<p class="quoted">
The air-conditioning unit is a device in the Florist's Shop. The air-conditioning is fixed in place and switched on.
</p>
<p class="quoted">
Every turn when the location is the Florist's Shop:
<br>    if the air-conditioning is switched off, say "You worry about the cut flowers in this jungle-hot air.";
<br>    otherwise say "There is an low susurration from the air-conditioning unit."
</p>
</div>
<p>One primary dictionary definition for a machine is "an apparatus using or applying mechanical power and having several parts", and we often use the "part of" relationship to build machinery. <a href="rb_9.html#example-61" class="example-link" onClick="(function() { document.getElementById('example-61').setAttribute('open','open'); return true; })();">Control Center</a><span class="example-difficulty"> ★</span> provides a neat way to display the component parts of a machine to the player who examines it.</p>
<p>One component almost always part of an electrical machine is the (literal) switch, lever or button to control whether it is switched on or off. In <a href="rb_9.html#example-57" class="example-link" onClick="(function() { document.getElementById('example-57').setAttribute('open','open'); return true; })();">Model Shop</a><span class="example-difficulty"> ★★</span> just such an on/off button is automatically made part of every device.</p>
<p>While an electrical device has only two states, a mechanical machine might have many, and for these the best approach is to define a kind of value naming the possibilities: see <a href="rb_9.html#example-52" class="example-link" onClick="(function() { document.getElementById('example-52').setAttribute('open','open'); return true; })();">Signs and Portents</a><span class="example-difficulty"> ★★★</span>, where the states are the possible destinations pointed towards.</p>
<p>Perhaps stretching the definition of "machine", <a href="rb_9.html#example-427" class="example-link" onClick="(function() { document.getElementById('example-427').setAttribute('open','open'); return true; })();">What Makes You Tick</a><span class="example-difficulty"> ★</span> demonstrates a fishing pole which the player can put together from several pieces.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_9.html#rb-9.2" class="crossreference_link">Bags, Bottles, Boxes and Safes</a> for a safe that can be dialed to different combinations</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-61"><summary><span class="example-summary">61. Control Center</span> <span class="example-difficulty">★</span></summary><div>
<p>It is straightforward to make a rule that anything with parts must mention all those parts during an EXAMINE command:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Control%20Center%22%5Cn%5CnAfter%20examining%20a%20thing%20when%20something%20is%20part%20of%20the%20noun:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20includes%20%5Ba%20list%20of%20things%20which%20are%20part%20of%20the%20noun%5D.%22%5Cn%5CnThe%20Control%20Center%20is%20a%20room.%20%22Here%20you%20are%20at%20the%20Control%20Center%20of%20the%20universe.%22%5Cn%5CnThe%20Universe%20Management%20Computer%20is%20a%20fixed%20in%20place%20thing%20in%20the%20Control%20Center.%20%22The%20Universe%20Management%20Computer%20sits%20directly%20before%20you,%20unguarded.%22%20The%20description%20of%20the%20Universe%20Management%20Computer%20is%20%22The%20computer%20is%20so%20large%20that%20you%20would%20be%20unable%20to%20operate%20it%20all%20from%20one%20position.%20Alas,%20it%20does%20not%20come%20with%20a%20manual.%22%5Cn%5CnA%20chartreuse%20indicator%20light,%20an%20ennui%20meter,%20a%20golden%20knob%20settable%20to%2015,000%20positions,%20a%20toothpick%20dispenser,%20and%20a%20button%20labeled%20RESTART%20are%20part%20of%20the%20Universe%20Management%20Computer.%5Cn%5CnThe%20command%20chair%20is%20an%20enterable%20supporter%20in%20the%20Control%20Center.%20It%20is%20pushable%20between%20rooms.%20%22Because%20the%20computer%20is%20too%20large%20for%20you%20to%20reach%20all%20of%20the%20front%20panel%20from%20a%20standing%20position,%20there%20is%20a%20command%20chair%20on%20casters%20which%20allows%20you%20to%20push%20back%20and%20forth.%22%20The%20description%20of%20the%20command%20chair%20is%20%22Quite%20ordinary,%20really,%20but%20for%20the%20heady%20rush%20of%20power%20that%20comes%20of%20sitting%20in%20it.%22.%20Some%20casters%20are%20part%20of%20the%20command%20chair.%5Cn%5Cn%5BNow%20whenever%20we%20look%20at%20any%20object%20with%20components,%20we%20will%20first%20see%20the%20description,%20then%20a%20list%20of%20parts%20which%20belong%20to%20it.%20The%20following%20refinement%20brings%20in%20elements%20of%20later%20chapters,%20but%20it%20may%20be%20worth%20noting:%20because%20we've%20written%20our%20rule%20as%20an%20%22After%20examining...%22,%20anything%20that%20pre-empts%20the%20operation%20of%20the%20examine%20command%20will%20also%20prevent%20that%20rule%20from%20occurring.%20So%20for%20instance:%5D%5Cn%5CnA%20hair-thick%20needle%20is%20part%20of%20the%20ennui%20meter.%5Cn%5CnInstead%20of%20examining%20the%20ennui%20meter:%20say%20%22You%20can't%20be%20bothered.%22%5Cn%5Cn%5B...would%20not%20result%20in%20the%20needle%20being%20mentioned.%5D%5Cn%5CnTest%20me%20with%20%22x%20chair%20/%20x%20computer%20/%20x%20ennui%20meter%22%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Control Center"
</p>
<p class="quoted">
After examining a thing when something is part of the noun:
<br>    say "[The noun] includes [a list of things which are part of the noun]."
</p>
<p class="quoted">
The Control Center is a room. "Here you are at the Control Center of the universe."
</p>
<p class="quoted">
The Universe Management Computer is a fixed in place thing in the Control Center. "The Universe Management Computer sits directly before you, unguarded." The description of the Universe Management Computer is "The computer is so large that you would be unable to operate it all from one position. Alas, it does not come with a manual."
</p>
<p class="quoted">
A chartreuse indicator light, an ennui meter, a golden knob settable to 15,000 positions, a toothpick dispenser, and a button labeled RESTART are part of the Universe Management Computer.
</p>
<p class="quoted">
The command chair is an enterable supporter in the Control Center. It is pushable between rooms. "Because the computer is too large for you to reach all of the front panel from a standing position, there is a command chair on casters which allows you to push back and forth." The description of the command chair is "Quite ordinary, really, but for the heady rush of power that comes of sitting in it.". Some casters are part of the command chair.
</p>
</div>
<p>Now whenever we look at any object with components, we will first see the description, then a list of parts which belong to it. The following refinement brings in elements of later chapters, but it may be worth noting: because we've written our rule as an "After examining...", anything that pre-empts the operation of the examine command will also prevent that rule from occurring. So for instance:</p>

<div class="code">
<p class="quoted">
A hair-thick needle is part of the ennui meter.
</p>
<p class="quoted">
Instead of examining the ennui meter: say "You can't be bothered."
</p>
</div>
<p>...would not result in the needle being mentioned.</p>

<div class="code"><p class="quoted">
Test me with "x chair / x computer / x ennui meter"
</p></div>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.5">WI §5.5. Text with lists</a><br><a href="rb_9.html#rb-9.8">RB §9.8. Simple Machines</a>
</div></details><details class="full-example" id="example-427"><summary><span class="example-summary">427. What Makes You Tick</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we want to let the player build a fishing pole out of three parts: a hook, a string, and a stick.</p>
<p>There are several things we must account for here. One is that our combination verb should be insensitive to ordering: it shouldn't matter whether the player types COMBINE STICK WITH STRING or COMBINE STRING WITH STICK.</p>
<p>Second, we need to make sure that our implementation handles intervening stages of assembly gracefully. The player should be able to combine string and hook first, or string and stick first, and be able to complete the assembly in either case.</p>
<p>Our implementation here uses a table of lists to determine which combinations of inputs should produce which result object. Because we sort our lists before comparing them, we guarantee that the player's ordering doesn't matter: COMBINE STICK WITH STRING will have the same effect as COMBINE STRING WITH STICK.</p>
<p>What's more, our implementation could be expanded to account for many other assemblages, if we wanted object-building to be a running theme of puzzles in our game.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22What%20Makes%20You%20Tick%22%5Cn%5CnUnderstand%20%22combine%20%5Bsomething%5D%20with%20%5Bsomething%5D%22%20as%20combining%20it%20with.%20Combining%20it%20with%20is%20an%20action%20applying%20to%20two%20carried%20things.%20Understand%20the%20command%20%22connect%22%20as%20%22combine%22.%5Cn%5CnUnderstand%20the%20command%20%22attach%22%20as%20something%20new.%20Understand%20%22attach%20%5Bsomething%5D%20to%20%5Bsomething%5D%22%20as%20combining%20it%20with.%5Cn%5CnThe%20combining%20it%20with%20action%20has%20an%20object%20called%20the%20item%20built.%5Cn%5CnSetting%20action%20variables%20for%20combining%20something%20with%20something:%5Cn%5Ctlet%20X%20be%20a%20list%20of%20objects;%5Cn%5Ctadd%20the%20noun%20to%20X;%5Cn%5Ctadd%20the%20second%20noun%20to%20X;%5Cn%5Ctsort%20X;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Outcome%20Objects:%5Cn%5Ct%5Ctlet%20Y%20be%20the%20component%20list%20entry;%5Cn%5Ct%5Ctsort%20Y;%5Cn%5Ct%5Ctif%20X%20is%20Y:%5Cn%5Ct%5Ct%5Ctnow%20the%20item%20built%20is%20the%20result%20entry.%5Cn%5CnCheck%20combining%20it%20with:%5Cn%5Ctif%20the%20item%20built%20is%20nothing%20or%20the%20item%20built%20is%20not%20in%20limbo,%5Cn%5Ct%5Ctsay%20%22You%20can't%20combine%20%5Bthe%20noun%5D%20and%20%5Bthe%20second%20noun%5D%20into%20anything%20useful.%22%20instead.%5Cn%5CnCarry%20out%20combining%20it%20with:%5Cn%5Ctmove%20the%20item%20built%20to%20the%20holder%20of%20the%20noun;%5Cn%5Ctnow%20the%20noun%20is%20nowhere;%5Cn%5Ctnow%20the%20second%20noun%20is%20nowhere.%5Cn%5CnReport%20combining%20it%20with:%5Cn%5Ctsay%20%22You%20now%20have%20%5Ban%20item%20built%5D.%22%5Cn%5CnLimbo%20is%20a%20container.%20Limbo%20contains%20a%20hookless%20fishing%20pole,%20a%20hooked%20line,%20and%20a%20complete%20fishing%20pole.%5Cn%5CnStreamside%20is%20a%20room.%20The%20player%20carries%20a%20stick,%20a%20wire%20hook,%20and%20a%20string.%5Cn%5CnTable%20of%20Outcome%20Objects%5Cncomponent%20list%5Ctresult%5Cn%7Bstick,%20string%7D%5Cthookless%20fishing%20pole%5Cn%7Bwire%20hook,%20string%7D%5Cthooked%20line%5Cn%7Bhooked%20line,%20stick%7D%5Ctcomplete%20fishing%20pole%5Cn%7Bhookless%20fishing%20pole,%20wire%20hook%7D%5Ctcomplete%20fishing%20pole%5Cn%5CnTest%20me%20with%20%22combine%20stick%20with%20string%20/%20i%20/%20combine%20pole%20with%20hook%20/%20i%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "What Makes You Tick"
</p>
<p class="quoted">
Understand "combine [something] with [something]" as combining it with. Combining it with is an action applying to two carried things. Understand the command "connect" as "combine".
</p>
<p class="quoted">
Understand the command "attach" as something new. Understand "attach [something] to [something]" as combining it with.
</p>
<p class="quoted">
The combining it with action has an object called the item built.
</p>
<p class="quoted">
Setting action variables for combining something with something:
<br>    let X be a list of objects;
<br>    add the noun to X;
<br>    add the second noun to X;
<br>    sort X;
<br>    repeat through the Table of Outcome Objects:
<br>        let Y be the component list entry;
<br>        sort Y;
<br>        if X is Y:
<br>            now the item built is the result entry.
</p>
<p class="quoted">
Check combining it with:
<br>    if the item built is nothing or the item built is not in limbo,
<br>        say "You can't combine [the noun] and [the second noun] into anything useful." instead.
</p>
<p class="quoted">
Carry out combining it with:
<br>    move the item built to the holder of the noun;
<br>    now the noun is nowhere;
<br>    now the second noun is nowhere.
</p>
<p class="quoted">
Report combining it with:
<br>    say "You now have [an item built]."
</p>
<p class="quoted">
Limbo is a container. Limbo contains a hookless fishing pole, a hooked line, and a complete fishing pole.
</p>
<p class="quoted">
Streamside is a room. The player carries a stick, a wire hook, and a string.
</p>
<p class="quoted">
Table of Outcome Objects
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">component list</p></td>
<td class="quotedtablecell"><p class="quoted">result</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">{stick, string}</p></td>
<td class="quotedtablecell"><p class="quoted">hookless fishing pole</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">{wire hook, string}</p></td>
<td class="quotedtablecell"><p class="quoted">hooked line</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">{hooked line, stick}</p></td>
<td class="quotedtablecell"><p class="quoted">complete fishing pole</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">{hookless fishing pole, wire hook}</p></td>
<td class="quotedtablecell"><p class="quoted">complete fishing pole</p></td>
</tr>
</table>
<p class="quoted">
Test me with "combine stick with string / i / combine pole with hook / i".
</p>
</div>
<p>This kind of implementation makes sense if we don't intend the player to take the fishing pole apart again, or to refer to any of its component parts once it is built. For an alternate approach that does allow assembled objects to be taken apart again, see "Some Assembly Required".</p>
</div>
<div class="linkback">
<a href="wi_21.html#wi-21.6">WI §21.6. Lists of objects</a><br><a href="rb_9.html#rb-9.8">RB §9.8. Simple Machines</a>
</div></details><details class="full-example" id="example-57"><summary><span class="example-summary">57. Model Shop</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we're particularly mechanically-minded and would like a game in which all of our mechanical devices have buttons to turn them on and off.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Model%20Shop%22%5Cn%5CnAn%20on/off%20button%20is%20a%20kind%20of%20thing.%5Cn%5CnInstead%20of%20pushing%20an%20on/off%20button%20which%20is%20part%20of%20a%20switched%20off%20device%20(called%20the%20machine):%5Cn%5Cttry%20switching%20on%20the%20machine.%5Cn%5Cn%5BHere%20we%20are%20making%20a%20rule%20about%20how%20our%20hypothetical%20buttons%20will%20interact%20with%20the%20machines%20to%20which%20they%20belong.%20Instead%20of%20pushing...%20is%20a%20rule%20that%20pertains%20to%20actions,%20and%20we%20will%20learn%20more%20about%20these%20in%20the%20chapter%20on%20actions.%20%22...which%20is%20part%20of%20a%20switched%20off%20device%22%20provides%20a%20specific%20circumstance%20-%20this%20is%20only%20to%20apply%20to%20buttons%20that%20are%20stuck%20to%20a%20machines%20that%20can%20be%20turned%20on%20or%20off.%20%22(called%20the%20machine)%22%20tells%20Inform%20that%20if%20it%20finds%20such%20a%20device,%20it%20should%20thereafter%20refer%20to%20it%20as%20%22the%20machine.%22%20(The%20called%20syntax%20is%20explained%20further%20in%20the%20chapter%20on%20Change.)%5D%5Cn%5Cn%5BA%20set%20of%20three%20more%20rules%20will%20complete%20our%20instructions%20about%20using%20buttons%20to%20control%20devices:%5D%5Cn%5CnInstead%20of%20pushing%20an%20on/off%20button%20which%20is%20part%20of%20a%20switched%20on%20device%20(called%20the%20machine):%5Cn%5Cttry%20switching%20off%20the%20machine.%5Cn%5CnInstead%20of%20switching%20on%20an%20on/off%20button%20which%20is%20part%20of%20a%20device%20(called%20the%20machine):%5Cn%5Cttry%20switching%20on%20the%20machine.%5Cn%5CnInstead%20of%20switching%20off%20an%20on/off%20button%20which%20is%20part%20of%20a%20device%20(called%20the%20machine):%5Cn%5Cttry%20switching%20off%20the%20machine.%5Cn%5Cn%5BThen%20we%20hand%20out%20buttons%20with%20a%20free%20hand:%5D%5Cn%5CnOne%20on/off%20button%20is%20part%20of%20every%20device.%5Cn%5CnThe%20Model%20Shop%20is%20a%20room.%20A%20model%20train%20is%20a%20fixed%20in%20place%20device%20in%20the%20Model%20Shop.%20A%20toy%20elephant%20is%20a%20device%20in%20the%20Model%20Shop.%5Cn%5CnEvery%20turn%20when%20the%20model%20train%20is%20switched%20on:%5Cn%5Ctsay%20%22The%20model%20train%20circles%20your%20feet,%20blowing%20small%20puffs%20of%20steam.%22%5Cn%5CnEvery%20turn%20when%20the%20toy%20elephant%20is%20switched%20on:%5Cn%5Ctsay%20%22The%20toy%20elephant%20waves%20its%20trunk%20at%20you.%22%5Cn%5CnTest%20me%20with%20%22push%20model%20train's%20button%20/%20push%20elephant's%20button%20/%20g%20/%20switch%20off%20model%20train's%20button%22.%5Cn%5Cn%5BAnd%20now%20the%20game%20will%20have%20a%20model%20train's%20button%20and%20a%20toy%20elephant's%20button.%5D%5Cn%5Cn%5BIt%20may%20be%20that%20we%20want%20(as%20an%20added%20nuance)%20to%20add%20other%20names%20for%20these%20items.%20While%20we%20would%20want%20an%20assembly%20to%20create%20objects%20such%20as%20%22Lucy's%20hand%22%20and%20not%20%22Lucy%20hand%22,%20it%20is%20entirely%20reasonable%20to%20want%20to%20talk%20about%20the%20model%20train%20button%20or%20the%20elephant%20button.%20We%20could%20define%20these%20additional%20names%20like%20so:%5D%5Cn%5CnUnderstand%20%22elephant%20button%22%20or%20%22button%20on%20elephant%22%20as%20the%20elephant's%20button.%5Cn%5CnUnderstand%20%22model%20train%22%20or%20%22model%22%20or%20%22train%22%20as%20%22%5Btrain%5D%22.%20Understand%20%22%5Btrain%5D%20button%22%20or%20%20%22button%20on%20%5Btrain%5D%22%20as%20the%20model%20train's%20button.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Model Shop"
</p>
<p class="quoted">
An on/off button is a kind of thing.
</p>
<p class="quoted">
Instead of pushing an on/off button which is part of a switched off device (called the machine):
<br>    try switching on the machine.
</p>
</div>
<p>Here we are making a rule about how our hypothetical buttons will interact with the machines to which they belong. Instead of pushing... is a rule that pertains to actions, and we will learn more about these in the chapter on actions. "...which is part of a switched off device" provides a specific circumstance - this is only to apply to buttons that are stuck to a machines that can be turned on or off. "(called the machine)" tells Inform that if it finds such a device, it should thereafter refer to it as "the machine." (The called syntax is explained further in the chapter on Change.)</p>
<p>A set of three more rules will complete our instructions about using buttons to control devices:</p>

<div class="code">
<p class="quoted">
Instead of pushing an on/off button which is part of a switched on device (called the machine):
<br>    try switching off the machine.
</p>
<p class="quoted">
Instead of switching on an on/off button which is part of a device (called the machine):
<br>    try switching on the machine.
</p>
<p class="quoted">
Instead of switching off an on/off button which is part of a device (called the machine):
<br>    try switching off the machine.
</p>
</div>
<p>Then we hand out buttons with a free hand:</p>

<div class="code">
<p class="quoted">
One on/off button is part of every device.
</p>
<p class="quoted">
The Model Shop is a room. A model train is a fixed in place device in the Model Shop. A toy elephant is a device in the Model Shop.
</p>
<p class="quoted">
Every turn when the model train is switched on:
<br>    say "The model train circles your feet, blowing small puffs of steam."
</p>
<p class="quoted">
Every turn when the toy elephant is switched on:
<br>    say "The toy elephant waves its trunk at you."
</p>
<p class="quoted">
Test me with "push model train's button / push elephant's button / g / switch off model train's button".
</p>
</div>
<p>And now the game will have a model train's button and a toy elephant's button.</p>
<p>It may be that we want (as an added nuance) to add other names for these items. While we would want an assembly to create objects such as "Lucy's hand" and not "Lucy hand", it is entirely reasonable to want to talk about the model train button or the elephant button. We could define these additional names like so:</p>

<div class="code">
<p class="quoted">
Understand "elephant button" or "button on elephant" as the elephant's button.
</p>
<p class="quoted">
Understand "model train" or "model" or "train" as "[train]". Understand "[train] button" or  "button on [train]" as the model train's button.
</p>
</div>
<p>In the second case, we are defining [train] to mean any of the three phrases "train", "model", and "model train"; so "[train] button" will match "model train button" or "train button" or "model button" equally well. See the chapter on Understanding for more on how to create alternative phrasings for the player to use.</p>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.15">WI §4.15. Assemblies and body parts</a><br><a href="rb_9.html#rb-9.8">RB §9.8. Simple Machines</a>
</div></details><details class="full-example" id="example-52"><summary><span class="example-summary">52. Signs and Portents</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Signs%20and%20Portents%22%5Cn%5CnSeven%20Dials%20is%20a%20room.%20The%20description%20of%20Seven%20Dials%20is%20%22There%20is%20a%20signpost,%20on%20which%20seven%20hands%20swivel%20and%20swing,%20freely%20as%20weathercocks.%20They%20make%20your%20present%20road%20now%20London,%20now%20Abingdon;%20now%20Weston-super-Mare,%20or%20now%20Hell.%22%5Cn%5CnSeven%20Dials%20contains%20a%20signpost.%20The%20signpost%20is%20scenery.%20Understand%20%22sign%22%20and%20%22post%22%20as%20the%20signpost.%5Cn%5CnDestination%20is%20a%20kind%20of%20value.%20The%20destinations%20are%20London,%20Abingdon,%20Luton,%20Weston-super-Mare,%20Runnymede,%20Hell,%20and%20Low%20Noon.%5Cn%5CnThe%20signpost%20has%20a%20destination.%5Cn%5Cn%5BIn%20order%20to%20interact%20with%20the%20signpost,%20we%20will%20need%20to%20make%20use%20of%20some%20action%20rules:%5D%5Cn%5CnInstead%20of%20examining%20the%20signpost:%5Cn%5Ctsay%20%22%5BThe%20signpost%5D%20currently%20puts%20you%20on%20the%20road%20to%20%5Bitalic%20type%5D%5Bthe%20destination%20of%20the%20signpost%5D%5Broman%20type%5D,%20but%20it%20swiftly%20alters%20again.%22;%5Cn%5Ctnow%20the%20destination%20of%20the%20signpost%20is%20the%20destination%20after%20the%20destination%20of%20the%20signpost.%5Cn%5CnInstead%20of%20turning%20the%20signpost:%5Cn%5Ctnow%20the%20destination%20of%20the%20signpost%20is%20the%20destination%20after%20the%20destination%20of%20the%20signpost;%5Cn%5Ctsay%20%22With%20a%20hand's%20touch%20you%20turn%20the%20signpost%20to%20mark%20your%20way%20for%20%5Bitalic%20type%5D%5Bthe%20destination%20of%20the%20signpost%5D%5Broman%20type%5D.%22%5Cn%5CnInstead%20of%20going%20north%20in%20Seven%20Dials%20when%20the%20destination%20of%20the%20signpost%20is%20Hell:%5Cn%5Ctsay%20%22It%20is%20a%20path%20that%20goes%20gently%20ever%20down%20and%20down%20with%20no%20stumbling%20block%20or%20any%20distraction%20at%20either%20side;%20there%20are%20no%20bandits%20and%20no%20tolls.%22;%5Cn%5Ctend%20the%20story.%5Cn%5CnInstead%20of%20going%20north%20in%20Seven%20Dials%20when%20the%20destination%20of%20the%20signpost%20is%20Low%20Noon:%5Cn%5Ctsay%20%22A%20long%20road%20whose%20scenery%20does%20not%20change,%20nor%20anything%20on%20the%20horizon%20move%20but%20the%20sun.%20When%20at%20last%20you%20come%20to%20Noon,%20she%20hangs%20above%20your%20head%20like%20a%20hat.%22;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5CnTest%20me%20with%20%22x%20signpost%20/%20n%20/%20turn%20signpost%20/%20n%20/%20turn%20signpost%20/%20n%20/%20turn%20signpost%20/%20n%20/%20turn%20signpost%20/%20n%22.%5Cn%5CnTest%20more%20with%20%20%22x%20signpost%20/%20n%20/%20turn%20signpost%20/%20n%20/%20turn%20signpost%20/%20n%20/%20turn%20signpost%20/%20n%20/%20turn%20signpost%20/%20turn%20signpost%20/%20n%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Signs and Portents"
</p>
<p class="quoted">
Seven Dials is a room. The description of Seven Dials is "There is a signpost, on which seven hands swivel and swing, freely as weathercocks. They make your present road now London, now Abingdon; now Weston-super-Mare, or now Hell."
</p>
<p class="quoted">
Seven Dials contains a signpost. The signpost is scenery. Understand "sign" and "post" as the signpost.
</p>
<p class="quoted">
Destination is a kind of value. The destinations are London, Abingdon, Luton, Weston-super-Mare, Runnymede, Hell, and Low Noon.
</p>
<p class="quoted">
The signpost has a destination.
</p>
</div>
<p>In order to interact with the signpost, we will need to make use of some action rules:</p>

<div class="code">
<p class="quoted">
Instead of examining the signpost:
<br>    say "[The signpost] currently puts you on the road to [italic type][the destination of the signpost][roman type], but it swiftly alters again.";
<br>    now the destination of the signpost is the destination after the destination of the signpost.
</p>
<p class="quoted">
Instead of turning the signpost:
<br>    now the destination of the signpost is the destination after the destination of the signpost;
<br>    say "With a hand's touch you turn the signpost to mark your way for [italic type][the destination of the signpost][roman type]."
</p>
<p class="quoted">
Instead of going north in Seven Dials when the destination of the signpost is Hell:
<br>    say "It is a path that goes gently ever down and down with no stumbling block or any distraction at either side; there are no bandits and no tolls.";
<br>    end the story.
</p>
<p class="quoted">
Instead of going north in Seven Dials when the destination of the signpost is Low Noon:
<br>    say "A long road whose scenery does not change, nor anything on the horizon move but the sun. When at last you come to Noon, she hangs above your head like a hat.";
<br>    end the story finally.
</p>
<p class="quoted">
Test me with "x signpost / n / turn signpost / n / turn signpost / n / turn signpost / n / turn signpost / n".
</p>
<p class="quoted">
Test more with  "x signpost / n / turn signpost / n / turn signpost / n / turn signpost / n / turn signpost / turn signpost / n".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.9">WI §4.9. Using new kinds of value in properties</a><br><a href="rb_9.html#rb-9.8">RB §9.8. Simple Machines</a>
</div></details>
</div></section>
<section class="section" id="rb-9.9"><div>





<h3>RB §9.9. Televisions and Radios</h3>
<p>IF authors often provide clues or background information to the player by means of radio broadcasts, TV shows or video tapes because they can talk to the player without needing to listen back, or to react to what the player does. The simplest radio set, like the one in <a href="rb_9.html#example-336" class="example-link" onClick="(function() { document.getElementById('example-336').setAttribute('open','open'); return true; })();">Aftershock</a><span class="example-difficulty"> ★★★</span>, really only has one thing to say: which is serendipitously being broadcast just at the moment the player tunes in (regardless of when that is). The next simplest approach is to spool a broadcast on an endless loop taking several turns to play through, as in <a href="rb_9.html#example-66" class="example-link" onClick="(function() { document.getElementById('example-66').setAttribute('open','open'); return true; })();">Radio Daze</a><span class="example-difficulty"> ★</span>.</p>
<p>Televisions come in all shapes and sizes, and <a href="rb_9.html#example-312" class="example-link" onClick="(function() { document.getElementById('example-312').setAttribute('open','open'); return true; })();">Aspect</a><span class="example-difficulty"> ★</span> allows their shape ("aspect ratio") to be described by the player.</p>
<p>In <a href="rb_9.html#example-314" class="example-link" onClick="(function() { document.getElementById('example-314').setAttribute('open','open'); return true; })();">Channel 1</a><span class="example-difficulty"> ★★</span>, we can also refer to the television by what it is currently showing: thus WATCH CHANNEL 4 will work if the set is indeed tuned to 4. In <a href="rb_9.html#example-317" class="example-link" onClick="(function() { document.getElementById('example-317').setAttribute('open','open'); return true; })();">Channel 2</a><span class="example-difficulty"> ★★★</span>, numbered channel changing is taken further: we can now TUNE TV TO CHANNEL 3, as well. <a href="rb_9.html#example-317" class="example-link" onClick="(function() { document.getElementById('example-317').setAttribute('open','open'); return true; })();">Channel 2</a><span class="example-difficulty"> ★★★</span> is a reasonable base implementation of a television for many purposes.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-66"><summary><span class="example-summary">66. Radio Daze</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Radio%20Daze%22%20by%20Jon%20Ingold%5Cn%5CnThe%20Living%20Room%20is%20a%20room.%20%22A%20long%20couch,%20set%20up%20so%20you%20can%20see%20your%20wireless%20set.%20Not%20that%20you%20need%20to%20see%20it,%20of%20course.%22%5Cn%5CnThe%20long%20couch%20is%20an%20enterable%20scenery%20supporter%20in%20the%20living%20room.%20Instead%20of%20entering%20the%20long%20couch%20when%20the%20radio%20was%20switched%20off,%20say%20%22Better%20turn%20the%20radio%20on%20before%20you%20get%20comfortable.%22%20Report%20entering%20the%20couch:%20say%20%22You%20settle%20yourself%20down%20to%20listen.%22%20instead.%20Instead%20of%20listening%20when%20the%20radio%20is%20switched%20on,%20stop%20the%20action.%5Cn%5CnThe%20radio%20is%20a%20device%20in%20the%20living%20room.%20The%20radio%20is%20switched%20off.%20%22%5Bif%20switched%20on%5DThe%20radio%20burbles%20on%5Botherwise%5DThe%20radio%20is%20off%5Bend%20if%5D.%22%20Check%20switching%20off%20the%20radio%20when%20the%20player%20is%20on%20the%20long%20couch:%20say%20%22You%20can't%20reach%20the%20radio%20from%20here.%22%20instead.%5Cn%5CnEvery%20turn%20when%20the%20radio%20is%20switched%20on:%5Cn%5Ctsay%20%22%5Bone%20of%5DTwo%20characters%20in%20the%20radio%20play%20have%20begun%20an%20argument%5Bor%5DThe%20argument%20continues%5Bor%5DThe%20play%20continues%5Bstopping%5D:%20%5Bone%20of%5D'Did%20not!'%5Bor%5D'Did%20too!'%5Bor%5D'Did%20I?'%5Bor%5D'You%20did!'%5Bor%5D'I%20couldn't%20have,%20Martha!'%5Bor%5D'But%20you%20did,%20Tom!'%5Bcycling%5D%22%5Cn%5CnTest%20me%20with%20%22sit%20on%20couch%20/%20turn%20on%20radio%20/%20sit%20on%20couch/%20listen%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Radio Daze" by Jon Ingold
</p>
<p class="quoted">
The Living Room is a room. "A long couch, set up so you can see your wireless set. Not that you need to see it, of course."
</p>
<p class="quoted">
The long couch is an enterable scenery supporter in the living room. Instead of entering the long couch when the radio was switched off, say "Better turn the radio on before you get comfortable." Report entering the couch: say "You settle yourself down to listen." instead. Instead of listening when the radio is switched on, stop the action.
</p>
<p class="quoted">
The radio is a device in the living room. The radio is switched off. "[if switched on]The radio burbles on[otherwise]The radio is off[end if]." Check switching off the radio when the player is on the long couch: say "You can't reach the radio from here." instead.
</p>
<p class="quoted">
Every turn when the radio is switched on:
<br>    say "[one of]Two characters in the radio play have begun an argument[or]The argument continues[or]The play continues[stopping]: [one of]'Did not!'[or]'Did too!'[or]'Did I?'[or]'You did!'[or]'I couldn't have, Martha!'[or]'But you did, Tom!'[cycling]"
</p>
<p class="quoted">
Test me with "sit on couch / turn on radio / sit on couch/ listen / g / g / g / g / g".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.7">WI §5.7. Text with random alternatives</a><br><a href="rb_9.html#rb-9.9">RB §9.9. Televisions and Radios</a>
</div></details><details class="full-example" id="example-312"><summary><span class="example-summary">312. Aspect</span> <span class="example-difficulty">★</span></summary><div>
<p>Named properties are not the only kind that Inform is able to understand referring to an object. We can also use unit and number properties to distinguish things from one another, as here, where televisions have aspect ratios:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Aspect%22%5Cn%5CnAn%20aspect%20ratio%20is%20a%20kind%20of%20value.%2016:9%20specifies%20an%20aspect%20ratio.%5Cn%5CnA%20television%20is%20a%20kind%20of%20device.%20A%20television%20has%20an%20aspect%20ratio.%20Understand%20the%20aspect%20ratio%20property%20as%20referring%20to%20a%20television.%20Understand%20%22European%20standard%22%20as%2016:9.%5Cn%5CnThe%20Office%20is%20a%20room.%5Cn%5CnThe%20widescreen%20TV%20is%20a%20television%20in%20the%20Office.%20The%20fifties%20TV%20is%20a%20television%20in%20the%20Office.%20The%20widescreen%20TV%20is%2016:9.%20The%20fifties%20TV%20is%204:3.%5Cn%5CnTest%20me%20with%20%22examine%20european%20standard%20tv%20/%20x%2016:9%20tv%20/%20x%204:3%20tv%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Aspect"
</p>
<p class="quoted">
An aspect ratio is a kind of value. 16:9 specifies an aspect ratio.
</p>
<p class="quoted">
A television is a kind of device. A television has an aspect ratio. Understand the aspect ratio property as referring to a television. Understand "European standard" as 16:9.
</p>
<p class="quoted">
The Office is a room.
</p>
<p class="quoted">
The widescreen TV is a television in the Office. The fifties TV is a television in the Office. The widescreen TV is 16:9. The fifties TV is 4:3.
</p>
<p class="quoted">
Test me with "examine european standard tv / x 16:9 tv / x 4:3 tv".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.15">WI §17.15. Understanding things by their properties</a><br><a href="rb_9.html#rb-9.9">RB §9.9. Televisions and Radios</a>
</div></details><details class="full-example" id="example-314"><summary><span class="example-summary">314. Channel 1</span> <span class="example-difficulty">★★</span></summary><div>
<p>We might want to allow every television to be tuned to a channel (a number property) which the player could refer to, so that</p>

<div class="code"><p class="quoted">
WATCH CHANNEL 13
<br>TURN OFF CHANNEL 4
</p></div>
<p>would be directed to the appropriate television object, if any television is turned on and tuned to the correct station. We might now write:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Channel%22%5Cn%5CnA%20television%20is%20a%20kind%20of%20device.%20A%20television%20has%20a%20number%20called%20the%20channel.%20Understand%20the%20channel%20property%20as%20referring%20to%20a%20television.%20Understand%20%22channel%22%20as%20a%20television.%5Cn%5CnThe%20Office%20is%20a%20room.%20The%20widescreen%20TV%20is%20a%20television%20in%20the%20Office.%20The%20fifties%20TV%20is%20a%20television%20in%20the%20Office.%5Cn%5CnChanging%20the%20channel%20of%20it%20to%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20number.%5Cn%5CnUnderstand%20%22tune%20%5Bsomething%5D%20to%20%5Bnumber%5D%22%20or%20%22change%20channel%20of%20%5Bsomething%5D%20to%20%5Bnumber%5D%22%20as%20changing%20the%20channel%20of%20it%20to.%5Cn%5CnCheck%20changing%20the%20channel%20of%20something%20to:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20television,%20say%20%22%5BThe%20noun%5D%20cannot%20be%20tuned%20to%20a%20channel.%22%20instead.%5Cn%5CnCarry%20out%20changing%20the%20channel%20of%20something%20to:%5Cn%5Ctnow%20the%20channel%20of%20the%20noun%20is%20the%20number%20understood.%5Cn%5CnReport%20changing%20the%20channel%20of%20something%20to:%5Cn%5Ctsay%20%22You%20tune%20%5Bthe%20noun%5D%20to%20channel%20%5Bnumber%20understood%5D.%22%5Cn%5CnInstead%20of%20examining%20a%20television:%5Cn%5Ctif%20the%20noun%20is%20switched%20off,%20say%20%22%5BThe%20noun%5D%20is%20currently%20turned%20off.%22%20instead;%5Cn%5Ctlet%20the%20chosen%20channel%20be%20the%20channel%20of%20the%20noun;%5Cn%5Ctif%20the%20chosen%20channel%20is%20a%20current%20channel%20listed%20in%20the%20Table%20of%20Television%20Channels:%5Cn%5Ct%5Ctchoose%20row%20with%20current%20channel%20of%20the%20chosen%20channel%20in%20the%20Table%20of%20Television%20Channels;%5Cn%5Ct%5Ctsay%20%22%5Boutput%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Snow%20fills%20the%20screen%20of%20%5Bthe%20noun%5D.%22%5Cn%5CnTable%20of%20Television%20Channels%5Cncurrent%20channel%5Ctoutput%5Cn0%5Ct%22The%20screen%20of%20%5Bthe%20noun%5D%20is%20completely%20black.%22%5Cn4%5Ct%22A%20gloomy%20female%20news%20anchor%20describes%20the%20latest%20car%20bomb%20in%20Baghdad:%20104%20dead%20today,%20and%20no%20sign%20of%20change.%22%5Cn5%5Ct%22A%20couple%20of%20contestants%20in%20spangled%20scarlet%20outfits%20are%20performing%20an%20energetic%20paso%20doble.%22%5Cn13%5Ct%22On-screen,%20Ichiro%20is%20up%20to%20bat%20with%20one%20man%20on%20second%20and%20no%20outs.%22%5Cn%5CnTest%20me%20with%20%22change%20channel%20of%20fifties%20tv%20to%204%20/%20x%20channel%204%20/%20switch%20on%20fifties%20/%20x%20channel%204%20/%20switch%20on%20widescreen%20/%20tune%20fifties%20tv%20to%205%20/%20x%20channel%205%20/%20x%20fifties%20tv%20/%20x%20channel%204%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Channel"
</p>
<p class="quoted">
A television is a kind of device. A television has a number called the channel. Understand the channel property as referring to a television. Understand "channel" as a television.
</p>
<p class="quoted">
The Office is a room. The widescreen TV is a television in the Office. The fifties TV is a television in the Office.
</p>
<p class="quoted">
Changing the channel of it to is an action applying to one thing and one number.
</p>
<p class="quoted">
Understand "tune [something] to [number]" or "change channel of [something] to [number]" as changing the channel of it to.
</p>
<p class="quoted">
Check changing the channel of something to:
<br>    if the noun is not a television, say "[The noun] cannot be tuned to a channel." instead.
</p>
<p class="quoted">
Carry out changing the channel of something to:
<br>    now the channel of the noun is the number understood.
</p>
<p class="quoted">
Report changing the channel of something to:
<br>    say "You tune [the noun] to channel [number understood]."
</p>
<p class="quoted">
Instead of examining a television:
<br>    if the noun is switched off, say "[The noun] is currently turned off." instead;
<br>    let the chosen channel be the channel of the noun;
<br>    if the chosen channel is a current channel listed in the Table of Television Channels:
<br>        choose row with current channel of the chosen channel in the Table of Television Channels;
<br>        say "[output entry][paragraph break]";
<br>    otherwise:
<br>        say "Snow fills the screen of [the noun]."
</p>
<p class="quoted">
Table of Television Channels
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">current channel</p></td>
<td class="quotedtablecell"><p class="quoted">output</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"The screen of [the noun] is completely black."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">4</p></td>
<td class="quotedtablecell"><p class="quoted">"A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">5</p></td>
<td class="quotedtablecell"><p class="quoted">"A couple of contestants in spangled scarlet outfits are performing an energetic paso doble."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">13</p></td>
<td class="quotedtablecell"><p class="quoted">"On-screen, Ichiro is up to bat with one man on second and no outs."</p></td>
</tr>
</table>
<p class="quoted">
Test me with "change channel of fifties tv to 4 / x channel 4 / switch on fifties / x channel 4 / switch on widescreen / tune fifties tv to 5 / x channel 5 / x fifties tv / x channel 4".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.15">WI §17.15. Understanding things by their properties</a><br><a href="rb_9.html#rb-9.9">RB §9.9. Televisions and Radios</a>
</div></details><details class="full-example" id="example-317"><summary><span class="example-summary">317. Channel 2</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Our previous implementation of televisions ("Channel 1") doesn't allow the player to type things like</p>

<div class="code"><p class="quoted">
TUNE FIFTIES TELEVISION TO CHANNEL 4
</p></div>
<p>nor does it deal with player input like</p>

<div class="code"><p class="quoted">
TUNE TO CHANNEL 4 ON FIFTIES TELEVISION
</p></div>
<p>or</p>

<div class="code"><p class="quoted">
TUNE TO CHANNEL 4
</p></div>
<p>where no television is specified. When we are designing commands which involve two elements (here, a television and a channel number), it's usually a good idea to allow the player to specify those elements in either order, as we saw demonstrated briefly in "New commands for old grammar".</p>
<p>We might, therefore, want to add a few refinements: first by defining a "[channel]" token that will accept input of the forms "[number]" and "channel [number]", and second by creating some additional "Understand" lines that will accept variant versions of the player's input.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Channel%202%22%5Cn%5CnSection%201%20-%20Televisions%20in%20General%5Cn%5CnA%20television%20is%20a%20kind%20of%20device.%5Cn%5CnA%20television%20has%20a%20number%20called%20the%20channel.%20Understand%20the%20channel%20property%20as%20referring%20to%20a%20television.%20Understand%20%22channel%22%20as%20a%20television.%5Cn%5CnChanging%20the%20channel%20of%20it%20to%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20number.%5Cn%5CnUnderstand%20%22tune%20%5Btelevision%5D%20to%20%5Bchannel%5D%22%20or%20%22change%20channel%20of%20%5Btelevision%5D%20to%20%5Bchannel%5D%22%20as%20changing%20the%20channel%20of%20it%20to.%5Cn%5CnUnderstand%20%22tune%20%5Bsomething%5D%20to%20%5Bchannel%5D%22%20or%20%22change%20channel%20of%20%5Bsomething%5D%20to%20%5Bchannel%5D%22%20as%20changing%20the%20channel%20of%20it%20to.%5Cn%5CnUnderstand%20%22tune%20to%20%5Bchannel%5D%20on%20%5Btelevision%5D%22%20or%20%22change%20to%20%5Bchannel%5D%20on%20%5Btelevision%5D%22%20as%20changing%20the%20channel%20of%20it%20to%20(with%20nouns%20reversed).%5Cn%5CnUnderstand%20%22tune%20to%20%5Bchannel%5D%20on%20%5Bsomething%5D%22%20or%20%22change%20to%20%5Bchannel%5D%20on%20%5Bsomething%5D%22%20as%20changing%20the%20channel%20of%20it%20to%20(with%20nouns%20reversed).%5Cn%5CnUnderstand%20%22%5Bnumber%5D%22%20or%20%22channel%20%5Bnumber%5D%22%20as%20%22%5Bchannel%5D%22.%5Cn%5CnCheck%20changing%20the%20channel%20of%20something%20to:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20television,%20say%20%22%5BThe%20noun%5D%20cannot%20be%20tuned%20to%20a%20channel.%22%20instead.%5Cn%5CnCarry%20out%20changing%20the%20channel%20of%20something%20to:%5Cn%5Ctnow%20the%20channel%20of%20the%20noun%20is%20the%20number%20understood.%5Cn%5CnReport%20changing%20the%20channel%20of%20something%20to:%5Cn%5Ctsay%20%22You%20tune%20%5Bthe%20noun%5D%20to%20channel%20%5Bnumber%20understood%5D.%22%5Cn%5CnInstead%20of%20examining%20a%20television:%5Cn%5Ctif%20the%20noun%20is%20switched%20off,%20say%20%22%5BThe%20noun%5D%20is%20currently%20turned%20off.%22%20instead;%5Cn%5Ctlet%20the%20chosen%20channel%20be%20the%20channel%20of%20the%20noun;%5Cn%5Ctif%20the%20chosen%20channel%20is%20a%20current%20channel%20listed%20in%20the%20Table%20of%20Television%20Channels:%5Cn%5Ct%5Ctchoose%20row%20with%20current%20channel%20of%20the%20chosen%20channel%20in%20the%20Table%20of%20Television%20Channels;%5Cn%5Ct%5Ctsay%20%22%5Boutput%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Snow%20fills%20the%20screen%20of%20%5Bthe%20noun%5D.%22%5Cn%5CnTable%20of%20Television%20Channels%5Cncurrent%20channel%5Ctoutput%5Cn0%5Ct%22The%20screen%20of%20%5Bthe%20noun%5D%20is%20completely%20black.%22%5Cn%5CnSection%202%20-%20The%20Scenario%5Cn%5CnThe%20Office%20is%20a%20room.%5Cn%5CnThe%20widescreen%20TV%20is%20a%20television%20in%20the%20Office.%20The%20fifties%20TV%20is%20a%20television%20in%20the%20Office.%5Cn%5Cn%5BAnd%20we%20add%20the%20scenario-specific%20content%20to%20our%20Table%20of%20Television%20Channels;%20in%20the%20case%20of%20channel%2013,%20we%20provide%20for%20a%20changing%20sequence%20of%20events%20using%20text%20variations.%5D%5Cn%5CnTable%20of%20Television%20Channels%20(continued)%5Cncurrent%20channel%5Ctoutput%5Cn4%5Ct%22A%20gloomy%20female%20news%20anchor%20describes%20the%20latest%20car%20bomb%20in%20Baghdad:%20104%20dead%20today,%20and%20no%20sign%20of%20change.%22%5Cn5%5Ct%22A%20couple%20of%20contestants%20in%20spangled%20scarlet%20outfits%20are%20performing%20an%20energetic%20paso%20doble.%22%5Cn13%5Ct%22%5Bone%20of%5DOn-screen,%20Ichiro%20is%20up%20to%20bat%20with%20one%20man%20on%20second%20and%20no%20outs.%5Bor%5DIchiro%20has%20singled%20to%20first%20and%20the%20other%20man%20is%20on%20third.%5Bor%5DThe%20next%20batter%20is%20in%20the%20middle%20of%20flying%20out.%5Bor%5DEverything%20looks%20rosy%20until%20the%20men%20in%20black%20pull%20off%20a%20double-play%20and%20retire%20the%20side.%5Bor%5DThe%20channel%20has%20cut%20to%20a%20commercial.%5Bstopping%5D%22%5Cn%5CnTest%20me%20with%20%22test%20one%20/%20test%20two%22.%5Cn%5CnTest%20one%20with%20%22change%20channel%20of%20fifties%20tv%20to%204%20/%20x%20channel%204%20/%20switch%20on%20fifties%20/%20x%20channel%204%20/%20switch%20on%20widescreen%20/%20tune%20fifties%20tv%20to%20channel%205%20/%20x%20channel%205%20/%20x%20fifties%20tv%20/%20x%20channel%204%22.%5Cn%5CnTest%20two%20with%20%22tune%20to%20channel%2013%20/%20widescreen%20/%20tune%20channel%2013%20to%20channel%205%20/%20tune%20channel%205%20to%20channel%203%20/%20widescreen%20/%20x%20channel%203%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Channel 2"
</p>
<p class="quoted">
Section 1 - Televisions in General
</p>
<p class="quoted">
A television is a kind of device.
</p>
<p class="quoted">
A television has a number called the channel. Understand the channel property as referring to a television. Understand "channel" as a television.
</p>
<p class="quoted">
Changing the channel of it to is an action applying to one thing and one number.
</p>
<p class="quoted">
Understand "tune [television] to [channel]" or "change channel of [television] to [channel]" as changing the channel of it to.
</p>
<p class="quoted">
Understand "tune [something] to [channel]" or "change channel of [something] to [channel]" as changing the channel of it to.
</p>
<p class="quoted">
Understand "tune to [channel] on [television]" or "change to [channel] on [television]" as changing the channel of it to (with nouns reversed).
</p>
<p class="quoted">
Understand "tune to [channel] on [something]" or "change to [channel] on [something]" as changing the channel of it to (with nouns reversed).
</p>
<p class="quoted">
Understand "[number]" or "channel [number]" as "[channel]".
</p>
<p class="quoted">
Check changing the channel of something to:
<br>    if the noun is not a television, say "[The noun] cannot be tuned to a channel." instead.
</p>
<p class="quoted">
Carry out changing the channel of something to:
<br>    now the channel of the noun is the number understood.
</p>
<p class="quoted">
Report changing the channel of something to:
<br>    say "You tune [the noun] to channel [number understood]."
</p>
<p class="quoted">
Instead of examining a television:
<br>    if the noun is switched off, say "[The noun] is currently turned off." instead;
<br>    let the chosen channel be the channel of the noun;
<br>    if the chosen channel is a current channel listed in the Table of Television Channels:
<br>        choose row with current channel of the chosen channel in the Table of Television Channels;
<br>        say "[output entry][paragraph break]";
<br>    otherwise:
<br>        say "Snow fills the screen of [the noun]."
</p>
<p class="quoted">
Table of Television Channels
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">current channel</p></td>
<td class="quotedtablecell"><p class="quoted">output</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"The screen of [the noun] is completely black."</p></td>
</tr>
</table>
<p class="quoted">
Section 2 - The Scenario
</p>
<p class="quoted">
The Office is a room.
</p>
<p class="quoted">
The widescreen TV is a television in the Office. The fifties TV is a television in the Office.
</p>
</div>
<p>And we add the scenario-specific content to our Table of Television Channels; in the case of channel 13, we provide for a changing sequence of events using text variations.</p>

<div class="code">
<p class="quoted">
Table of Television Channels (continued)
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">current channel</p></td>
<td class="quotedtablecell"><p class="quoted">output</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">4</p></td>
<td class="quotedtablecell"><p class="quoted">"A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">5</p></td>
<td class="quotedtablecell"><p class="quoted">"A couple of contestants in spangled scarlet outfits are performing an energetic paso doble."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">13</p></td>
<td class="quotedtablecell"><p class="quoted">"[one of]On-screen, Ichiro is up to bat with one man on second and no outs.[or]Ichiro has singled to first and the other man is on third.[or]The next batter is in the middle of flying out.[or]Everything looks rosy until the men in black pull off a double-play and retire the side.[or]The channel has cut to a commercial.[stopping]"</p></td>
</tr>
</table>
<p class="quoted">
Test me with "test one / test two".
</p>
<p class="quoted">
Test one with "change channel of fifties tv to 4 / x channel 4 / switch on fifties / x channel 4 / switch on widescreen / tune fifties tv to channel 5 / x channel 5 / x fifties tv / x channel 4".
</p>
<p class="quoted">
Test two with "tune to channel 13 / widescreen / tune channel 13 to channel 5 / tune channel 5 to channel 3 / widescreen / x channel 3".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.15">WI §17.15. Understanding things by their properties</a><br><a href="rb_9.html#rb-9.9">RB §9.9. Televisions and Radios</a>
</div></details><details class="full-example" id="example-336"><summary><span class="example-summary">336. Aftershock</span> <span class="example-difficulty">★★★</span></summary><div>
<p>The built-in behavior of Inform is to print a line after a device is examined, saying whether the item is on or off. This is often inappropriate, and we could simply turn off that behavior in general by instructing Inform to ignore the "examine described devices rule" (see the chapter on rulebooks).</p>
<p>Perhaps, though, we would like continue to have a short passage about the action of any switched on device; we'd just like a little more control over what it says from time to time. And in that case, we might change the rule to give a new activity control over that portion of the description:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Aftershock%22%5Cn%5CnSection%201%20-%20Showing%20actions%5Cn%5CnShowing%20action%20of%20something%20is%20an%20activity.%5Cn%5CnRule%20for%20showing%20action%20of%20something%20(called%20item):%5Cn%5Ctif%20the%20item%20is%20switched%20on,%20say%20%22%5BThe%20item%5D%20is%20switched%20on.%22;%5Cn%5Ctotherwise%20say%20%22%5BThe%20item%5D%20is%20switched%20off.%22%5Cn%5Cn%5BBorrowing%20from%20the%20rulebooks%20chapter,%20we%20can%20replace%20the%20standard%20%22examine%20described%20devices%22%20rule%20with%20something%20that%20uses%20this%20activity.%5D%5Cn%5CnThe%20new%20described%20devices%20rule%20is%20listed%20instead%20of%20the%20examine%20devices%20rule%20in%20the%20carry%20out%20examining%20rules.%5Cn%5CnThis%20is%20the%20new%20described%20devices%20rule:%5Cn%5Ctif%20the%20noun%20is%20a%20device:%5Cn%5Ct%5Ctcarry%20out%20the%20showing%20action%20activity%20with%20the%20noun;%5Cn%5Ct%5Ctnow%20examine%20text%20printed%20is%20true.%5Cn%5Cn%5BThus%20far%20we%20have%20essentially%20replicated%20the%20original%20behavior,%20but%20we've%20made%20it%20possible%20to%20write%20specialized%20behavior%20for%20devices,%20and%20to%20invoke%20that%20behavior%20in%20other%20places:%5D%5Cn%5CnReport%20switching%20on%20something:%5Cn%5Ctsay%20%22You%20flip%20a%20switch.%20%22;%5Cn%5Ctcarry%20out%20the%20showing%20action%20activity%20with%20the%20noun%20instead.%5Cn%5Cn%5BThis%20might%20be%20useful%20for%20an%20electric%20lamp%20kind:%5D%5Cn%5CnSection%202%20-%20Electric%20Lamps%5Cn%5CnAn%20electric%20lamp%20is%20a%20kind%20of%20device.%5Cn%5CnRule%20for%20showing%20action%20of%20an%20electric%20lamp%20(called%20item):%5Cn%5Ctif%20the%20item%20is%20switched%20on,%20say%20%22%5BThe%20item%5D%20is%20lit%5Bif%20the%20number%20of%20visible%20lit%20things%20is%20greater%20than%201%5D,%20competing%20with%20%5Bthe%20list%20of%20visible%20lit%20things%20which%20are%20not%20the%20item%5D%5Bend%20if%5D.%22;%5Cn%5Ctotherwise%20say%20%22%5BThe%20item%5D%20is%20dark.%22%5Cn%5CnCarry%20out%20switching%20on%20an%20electric%20lamp:%20now%20the%20noun%20is%20lit.%20Carry%20out%20switching%20off%20an%20electric%20lamp:%20now%20the%20noun%20is%20unlit.%5Cn%5CnSection%202%20-%20The%20Scenario%5Cn%5CnThe%20time%20of%20day%20is%203:47%20AM.%20When%20play%20begins,%20now%20the%20right%20hand%20status%20line%20is%20%22%5Btime%20of%20day%5D%22.%5Cn%5CnThe%20Downstairs%20Hallway%20is%20a%20dark%20room.%20%22The%20only%20room%20in%20the%20house%20with%20no%20furniture%20and%20almost%20nothing%20on%20the%20walls.%20At%20times%20like%20this%20you%20always%20notice%20the%20crack%20in%20the%20plaster,%20originating%20near%20the%20light%20fixture%20and%20running%20almost%20all%20the%20way%20to%20the%20wall.%22%5Cn%5CnA%20plastic%20jug%20of%20filtered%20water%20is%20in%20the%20Downstairs%20Hallway.%20The%20description%20is%20%22Five%20gallons,%20not%20that%20that%20will%20last%20you%20very%20long,%20hot%20as%20it%20has%20been%20lately.%22%5Cn%5CnThe%20crack%20is%20scenery%20in%20the%20Hallway.%20The%20description%20is%20%22No,%20the%20ceiling%20isn't%20going%20to%20fall%20on%20you%20today.%22%5Cn%5CnThe%20light%20fixture%20is%20an%20electric%20lamp%20in%20the%20Hallway.%20It%20is%20switched%20on,%20lit,%20and%20scenery.%20The%20description%20is%20%22A%20plain%20globe%20of%20frosted%20glass%20containing%20the%20light%20bulb.%20Nothing%20special,%20and%20you%20never%20think%20about%20it%20except%20when,%20as%20now,%20you%20are%20forced%20to%20spend%20hours%20in%20this%20room.%22%5Cn%5CnThe%20flashlight%20is%20an%20electric%20lamp%20carried%20by%20the%20player.%20The%20description%20is%20%22A%20shiny%20red%20flashlight.%22%20The%20portable%20radio%20is%20a%20device%20carried%20by%20the%20player.%20The%20description%20is%20%22A%20small%20battery-operated%20radio%20which%20you%20received%20for%20free%20with%20your%20subscription%20to%20US%20News%20&amp;%20World%20Report.%20It%20has%20served%20you%20well%20through%20many%20earthquakes%20past.%22%5Cn%5Cn%5BAnd%20with%20our%20activity,%20we%20can%20override%20the%20flashlight's%20electric%20lamp%20behavior%20with%20new%20behavior:%5D%5Cn%5CnRule%20for%20showing%20action%20of%20the%20flashlight:%5Cn%5Ctif%20the%20flashlight%20is%20switched%20on,%20say%20%22A%20strong,%20narrow%20beam%20of%20light%20shines%20from%20the%20flashlight.%22;%5Cn%5Ctotherwise%20say%20%22It%20is%20currently%20switched%20off.%22%5Cn%5Cn%5B...or%20give%20special%20actions%20for%20the%20radio:%5D%5Cn%5CnRule%20for%20showing%20action%20of%20the%20radio:%5Cn%5Ctif%20the%20radio%20is%20switched%20on,%20say%20%22Through%20the%20static,%20you%20pick%20up%20pieces%20of%20discussion:%20a%206.7%20on%20the%20Richter%20scale,%20epicenter...%20something%20about%20Topanga...%20but%20it%20crackles%20out%20again.%22;%5Cn%5Ctotherwise%20say%20%22The%20radio%20is%20silent.%20You're%20saving%20the%20batteries.%22%5Cn%5CnInstead%20of%20listening%20in%20the%20presence%20of%20the%20switched%20on%20radio:%5Cn%5Ctcarry%20out%20the%20showing%20action%20activity%20with%20the%20radio%20instead.%5Cn%5CnTest%20me%20with%20%22examine%20light%20/%20switch%20light%20off%20/%20switch%20flashlight%20on%20/%20switch%20radio%20on%20/%20examine%20radio%20/%20examine%20flashlight%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Aftershock"
</p>
<p class="quoted">
Section 1 - Showing actions
</p>
<p class="quoted">
Showing action of something is an activity.
</p>
<p class="quoted">
Rule for showing action of something (called item):
<br>    if the item is switched on, say "[The item] is switched on.";
<br>    otherwise say "[The item] is switched off."
</p>
</div>
<p>Borrowing from the rulebooks chapter, we can replace the standard "examine described devices" rule with something that uses this activity.</p>

<div class="code">
<p class="quoted">
The new described devices rule is listed instead of the examine devices rule in the carry out examining rules.
</p>
<p class="quoted">
This is the new described devices rule:
<br>    if the noun is a device:
<br>        carry out the showing action activity with the noun;
<br>        now examine text printed is true.
</p>
</div>
<p>Thus far we have essentially replicated the original behavior, but we've made it possible to write specialized behavior for devices, and to invoke that behavior in other places:</p>

<div class="code"><p class="quoted">
Report switching on something:
<br>    say "You flip a switch. ";
<br>    carry out the showing action activity with the noun instead.
</p></div>
<p>This might be useful for an electric lamp kind:</p>

<div class="code">
<p class="quoted">
Section 2 - Electric Lamps
</p>
<p class="quoted">
An electric lamp is a kind of device.
</p>
<p class="quoted">
Rule for showing action of an electric lamp (called item):
<br>    if the item is switched on, say "[The item] is lit[if the number of visible lit things is greater than 1], competing with [the list of visible lit things which are not the item][end if].";
<br>    otherwise say "[The item] is dark."
</p>
<p class="quoted">
Carry out switching on an electric lamp: now the noun is lit. Carry out switching off an electric lamp: now the noun is unlit.
</p>
<p class="quoted">
Section 2 - The Scenario
</p>
<p class="quoted">
The time of day is 3:47 AM. When play begins, now the right hand status line is "[time of day]".
</p>
<p class="quoted">
The Downstairs Hallway is a dark room. "The only room in the house with no furniture and almost nothing on the walls. At times like this you always notice the crack in the plaster, originating near the light fixture and running almost all the way to the wall."
</p>
<p class="quoted">
A plastic jug of filtered water is in the Downstairs Hallway. The description is "Five gallons, not that that will last you very long, hot as it has been lately."
</p>
<p class="quoted">
The crack is scenery in the Hallway. The description is "No, the ceiling isn't going to fall on you today."
</p>
<p class="quoted">
The light fixture is an electric lamp in the Hallway. It is switched on, lit, and scenery. The description is "A plain globe of frosted glass containing the light bulb. Nothing special, and you never think about it except when, as now, you are forced to spend hours in this room."
</p>
<p class="quoted">
The flashlight is an electric lamp carried by the player. The description is "A shiny red flashlight." The portable radio is a device carried by the player. The description is "A small battery-operated radio which you received for free with your subscription to US News &amp; World Report. It has served you well through many earthquakes past."
</p>
</div>
<p>And with our activity, we can override the flashlight's electric lamp behavior with new behavior:</p>

<div class="code"><p class="quoted">
Rule for showing action of the flashlight:
<br>    if the flashlight is switched on, say "A strong, narrow beam of light shines from the flashlight.";
<br>    otherwise say "It is currently switched off."
</p></div>
<p>...or give special actions for the radio:</p>

<div class="code">
<p class="quoted">
Rule for showing action of the radio:
<br>    if the radio is switched on, say "Through the static, you pick up pieces of discussion: a 6.7 on the Richter scale, epicenter... something about Topanga... but it crackles out again.";
<br>    otherwise say "The radio is silent. You're saving the batteries."
</p>
<p class="quoted">
Instead of listening in the presence of the switched on radio:
<br>    carry out the showing action activity with the radio instead.
</p>
<p class="quoted">
Test me with "examine light / switch light off / switch flashlight on / switch radio on / examine radio / examine flashlight".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.5">WI §18.5. New activities</a><br><a href="rb_9.html#rb-9.9">RB §9.9. Televisions and Radios</a>
</div></details>
</div></section>
<section class="section" id="rb-9.10"><div>





<h3>RB §9.10. Telephones</h3>
<p>Telephones are much harder to achieve than televisions and in some ways as difficult to make convincing as a human character is - though of course there are corners which can be cut: we could have the reception drop off, or the other party hang up in a misunderstanding, and so on.</p>
<p>A single telephone line is tricky enough to provide that one might just as well have a general solution providing a whole network. <a href="rb_9.html#example-226" class="example-link" onClick="(function() { document.getElementById('example-226').setAttribute('open','open'); return true; })();">Four Cheeses</a><span class="example-difficulty"> ★★★</span> demonstrates a system where we can dial either people or numbers: CALL JANET ON TELEPHONE, or CALL 7103, for instance.</p>
<p>While <a href="rb_9.html#example-226" class="example-link" onClick="(function() { document.getElementById('example-226').setAttribute('open','open'); return true; })();">Four Cheeses</a><span class="example-difficulty"> ★★★</span> provides only four-digit phone numbers, like internal company extensions, <a href="rb_9.html#example-253" class="example-link" onClick="(function() { document.getElementById('example-253').setAttribute('open','open'); return true; })();">Alias</a><span class="example-difficulty"> ★★★</span> shows how to manage US-style seven digit numbers.</p>
<p>Finally, we might occasionally want the player to be able to address a microphone or telephone receiver directly when the identity of the person on the other end is unknown, in the form TELL MICROPHONE ABOUT CRIME. Ordinarily Inform will disallow this because we're not allowed to talk to inanimate objects, but the extension Inanimate Listeners provides more options.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_7.html#rb-7.8" class="crossreference_link">Saying Complicated Things</a> for more approaches to conversation</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-226"><summary><span class="example-summary">226. Four Cheeses</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Four%20Cheeses%22%5Cn%5CnSection%201%20-%20Telephones%20and%20Connections%5Cn%5CnA%20telephone%20is%20a%20kind%20of%20thing.%20Understand%20%22phone%22%20as%20a%20telephone.%5Cn%5CnUnderstand%20%22call%20%5Bany%20telephone%5D%20on%20%5Bsomething%5D%22%20as%20calling%20it%20on.%20Understand%20%22call%20%5Bany%20telephone%5D%22%20as%20calling%20it%20on.%20Understand%20the%20commands%20%22dial%22%20or%20%22phone%22%20or%20%22telephone%22%20as%20%22call%22.%20Understand%20%22call%20%5Bany%20known%20person%5D%22%20as%20calling%20it%20by%20name%20on.%5Cn%5CnConnection%20relates%20one%20thing%20to%20another%20(called%20the%20other%20party).%5Cn%5CnThe%20verb%20to%20reach%20means%20the%20connection%20relation.%5Cn%5CnCalling%20it%20on%20is%20an%20action%20applying%20to%20one%20visible%20thing%20and%20one%20thing.%5Cn%5CnCheck%20calling%20it%20on:%5Cn%5Ctif%20the%20second%20noun%20is%20not%20a%20telephone,%20say%20%22%5BThe%20second%20noun%5D%20is%20unlikely%20to%20be%20much%20use%20in%20that%20respect.%22%20instead;%5Cn%5Ctif%20the%20second%20noun%20is%20the%20noun,%20say%20%22You%20get%20a%20busy%20signal.%22%20instead.%5Cn%5CnCarry%20out%20calling%20it%20on:%5Cn%5Ctif%20a%20person%20(called%20the%20listener)%20can%20see%20the%20noun,%20now%20the%20player%20reaches%20the%20listener.%5Cn%5Cn%5BBecause%20we've%20said%20that%20connection%20is%20a%20reciprocal,%20one-to-one%20relationship,%20Inform%20will%20do%20the%20rest%20of%20the%20bookkeeping:%20if%20(for%20instance)%20we%20telephone%20someone%20else,%20the%20first%20connection%20will%20be%20broken%20automatically.%5D%5Cn%5CnReport%20calling%20it%20on:%5Cn%5Ctsay%20%22'Hello?'%20says%20%5Bthe%20other%20party%20of%20the%20player%5D.%22%5Cn%5Cn%5BTo%20avoid%20annoyance,%20we%20should%20also%20let%20the%20player%20use%20CALL%20####%20as%20well%20as%20CALL%20####%20ON%20TELEPHONE.%20A%20rule%20from%20the%20chapter%20on%20Activities%20comes%20in%20handy%20here:%5D%5Cn%5CnRule%20for%20supplying%20a%20missing%20second%20noun%20while%20calling%20something%20on:%5Cn%5Ctassign%20a%20phone.%5Cn%5CnTo%20assign%20a%20phone:%5Cn%5Ctif%20the%20player%20can%20touch%20a%20telephone%20(called%20the%20current%20phone):%5Cn%5Ct%5Ctsay%20%22(on%20%5Bthe%20current%20phone%5D)%5Bline%20break%5D%22;%5Cn%5Ct%5Ctnow%20the%20second%20noun%20is%20the%20current%20phone;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22You%20don't%20have%20a%20phone%20handy.%22%5Cn%5Cn%5BThings%20might%20be%20a%20little%20more%20complicated%20if%20we%20had%20cell%20phones%20that%20could%20be%20moved%20around,%20but%20for%20right%20now%20the%20player%20can%20only%20touch%20a%20maximum%20of%20one%20phone%20at%20a%20time.%5D%5Cn%5Cn%5BSuppose%20we%20further%20want%20to%20allow%20the%20player%20to%20call%20people%20up%20by%20name,%20but%20only%20if%20they've%20already%20been%20encountered%20or%20are%20familiar%20to%20the%20player%20for%20some%20reason.%5D%5Cn%5CnA%20person%20can%20be%20known%20or%20unknown.%5Cn%5CnUnderstand%20%22call%20%5Bany%20known%20person%5D%22%20as%20calling%20it%20by%20name%20on.%5Cn%5CnUnderstand%20%22call%20%5Bany%20known%20person%5D%20on%20%5Bsomething%5D%22%20as%20calling%20it%20by%20name%20on.%5Cn%5CnRule%20for%20supplying%20a%20missing%20second%20noun%20while%20calling%20something%20by%20name%20on:%5Cn%5Ctassign%20a%20phone.%5Cn%5CnCalling%20it%20by%20name%20on%20is%20an%20action%20applying%20to%20one%20visible%20thing%20and%20one%20thing.%5Cn%5CnCheck%20calling%20it%20by%20name%20on:%5Cn%5Ctif%20the%20noun%20is%20in%20the%20location,%20say%20%22%5BThe%20noun%5D%20is%20right%20here.%22%20instead.%5Cn%5CnCarry%20out%20calling%20it%20by%20name%20on:%5Cn%5Ctif%20the%20noun%20can%20touch%20a%20telephone%20(called%20the%20link),%20try%20calling%20the%20link%20on%20the%20second%20noun;%5Cn%5Ctotherwise%20say%20%22You%20can't%20reach%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnBefore%20calling%20something%20on%20something%20when%20the%20player%20reaches%20someone:%5Cn%5Ctsay%20%22(first%20ending%20your%20conversation%20with%20%5Bthe%20other%20party%20of%20the%20player%5D)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Ctend%20current%20conversation.%5Cn%5CnUnderstand%20%22hang%20up%20%5Bsomething%5D%22%20as%20hanging%20up.%5Cn%5CnHanging%20up%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20hanging%20up:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20telephone,%20say%20%22You%20can't%20hang%20up%20%5Bthe%20noun%5D.%22%20instead;%5Cn%5Ctif%20the%20player%20does%20not%20reach%20someone,%20say%20%22You're%20not%20on%20the%20line%20with%20anyone.%22%20instead.%5Cn%5CnCarry%20out%20hanging%20up:%5Cn%5Ctnow%20the%20player%20does%20not%20reach%20anyone.%5Cn%5CnReport%20hanging%20up:%5Cn%5Ctsay%20%22You%20put%20down%20%5Bthe%20noun%5D,%20cutting%20the%20connection.%22%5Cn%5CnBefore%20going%20somewhere%20when%20the%20player%20reaches%20someone:%5Cn%5Ctsay%20%22(first%20hanging%20up%20on%20%5Bthe%20other%20party%20of%20the%20player%5D)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Ctend%20current%20conversation.%5Cn%5Cn%5BAnd%20finally%20we%20want%20to%20make%20sure%20that%20calling%20random%20other%20numbers%20produces%20a%20sensible%20result:%5D%5Cn%5CnUnderstand%20%22call%20%5Btext%5D%22%20as%20misdialling.%20Misdialling%20is%20an%20action%20applying%20to%20one%20topic.%20Carry%20out%20misdialling:%20say%20%22The%20phone%20rings%20and%20rings%20but%20no%20one%20answers.%22%5Cn%5CnUnderstand%20%22call%20911%22%20or%20%22call%20999%22%20or%20%22call%20police%22%20or%20%22call%20fire%20department%22%20as%20a%20mistake%20(%22After%20strict%20warnings,%20you've%20given%20up%20making%20prank%20calls%20to%20emergency%20services.%22).%5Cn%5CnBefore%20misdialling%20when%20the%20player%20reaches%20someone:%5Cn%5Ctsay%20%22(first%20ending%20your%20conversation%20with%20%5Bthe%20other%20party%20of%20the%20player%5D)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Ctend%20current%20conversation.%5Cn%5CnTo%20end%20current%20conversation:%5Cn%5Ctlet%20the%20current%20phone%20be%20a%20random%20telephone%20which%20can%20be%20touched%20by%20the%20player;%5Cn%5Ctsilently%20try%20hanging%20up%20the%20current%20phone.%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player%20while%20the%20player%20reaches%20someone:%5Cn%5Ctplace%20the%20other%20party%20of%20the%20player%20in%20scope,%20but%20not%20its%20contents.%5Cn%5Cn%5BA%20note%20about%20this%20scope%20addition:%20the%20player%20can%20refer%20to%20the%20other%20party%20whenever%20he%20has%20the%20other%20person%20on%20the%20phone.%20He%20can't,%20however,%20see%20or%20refer%20to%20anything%20that%20person%20might%20be%20holding%20or%20wearing,%20thanks%20to%20the%20%22but%20not%20its%20contents%22%20option.%5D%5Cn%5Cn%5BFurthermore,%20the%20player%20can't%20actually%20do%20anything%20to%20that%20person%20that%20requires%20touching.%20That's%20because%20of%20the%20reaching%20inside%20rules,%20which%20govern%20whether%20the%20player%20can%20reach%20through%20intervening%20barriers%20such%20as%20rooms.%20(See%20the%20Advanced%20Actions%20chapter%20for%20more%20about%20changing%20reachability.)%20There%20are%20two%20things%20we%20might%20want%20to%20be%20careful%20about,%20though.%5D%5Cn%5Cn%5BFirst,%20we%20should%20specifically%20disallow%20the%20player%20from%20looking%20at%20the%20person%20on%20the%20other%20end%20of%20the%20line.%20Since%20sight%20doesn't%20require%20touching,%20the%20reaching%20inside%20rules%20will%20not%20be%20consulted%20about%20a%20command%20such%20as%20EXAMINE%20BOSS%20or%20LOOK%20UNDER%20BOSS.%20We%20can,%20however,%20intervene%20in%20such%20cases%20using%20the%20visibility%20rules,%20which%20are%20consulted%20for%20any%20actions%20that%20%22require%20light%22%20(including%20EXAMINE%20and%20LOOK%20UNDER).%20Here%20again%20we%20borrow%20some%20options%20from%20the%20Advanced%20Actions%20chapter:%5D%5Cn%5CnTo%20decide%20whether%20acting%20through%20the%20line:%5Cn%5Ctif%20the%20noun%20is%20something%20and%20the%20location%20of%20the%20noun%20is%20not%20the%20location%20of%20the%20player:%5Cn%5Ct%5Ctyes;%5Cn%5Ctif%20the%20second%20noun%20is%20something%20and%20the%20location%20of%20the%20second%20noun%20is%20not%20the%20location%20of%20the%20player:%5Cn%5Ct%5Ctyes;%5Cn%5Ctno.%5Cn%5CnVisibility%20rule%20when%20acting%20through%20the%20line:%5Cn%5Ctthere%20is%20insufficient%20light.%5Cn%5CnRule%20for%20printing%20a%20refusal%20to%20act%20in%20the%20dark%20when%20acting%20through%20the%20line:%5Cn%5Ctsay%20%22You're%20not%20on%20a%20video%20phone,%20so%20you%20can%20only%20hear.%22%20instead.%5Cn%5Cn%5BSecond,%20though%20the%20existing%20reaching%20inside%20rules%20are%20adequate%20to%20stop%20us%20from%20touching%20the%20person%20on%20the%20other%20end%20of%20the%20line,%20the%20response%20that's%20currently%20printed%20is%20a%20bit%20generic:%20it%20just%20says%20%22You%20can't%20reach%20into%20%5Bthe%20room%20containing%20the%20person%5D.%22%20Let's%20add%20our%20own%20custom%20reply,%20instead:%5D%5Cn%5CnA%20rule%20for%20reaching%20inside%20a%20room%20(called%20destination):%5Cn%5Ctif%20the%20other%20party%20of%20the%20player%20is%20enclosed%20by%20the%20destination:%5Cn%5Ct%5Ctsay%20%22Though%20you're%20on%20the%20line%20with%20%5Bthe%20other%20party%20of%20the%20player%5D,%20you%20can't%20physically%20reach%20to%20%5Bthe%20destination%5D.%22;%5Cn%5Ct%5Ctdeny%20access.%5Cn%5CnSection%202%20-%20Conversation%20over%20the%20Phone,%20In%20General%5Cn%5Cn%5BThis%20portion%20supplies%20a%20simple%20method%20of%20conversation;%20but%20we%20could%20substitute%20some%20completely%20different%20conversation%20system%20if%20appropriate.%20The%20effect%20of%20the%20telephones%20is%20that%20we%20are%20allowed%20to%20talk%20to%20characters%20in%20distant%20locations%20under%20certain%20circumstances,%20after%20which%20the%20usual%20conversation%20rules%20apply.%5D%5Cn%5CnInstead%20of%20listening%20to%20a%20telephone%20when%20the%20player%20reaches%20someone:%5Cn%5Ctsay%20%22You%20can%20hear%20%5Bthe%20other%20party%20of%20the%20player%5D%20breathing.%22%5Cn%5CnBefore%20listening%20to%20someone%20when%20the%20player%20cannot%20touch%20the%20noun:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20is%20waiting%20for%20you%20to%20carry%20on%20the%20conversation.%22%20instead.%5Cn%5CnA%20person%20has%20a%20table%20name%20called%20chatter.%5Cn%5CnBefore%20telling%20someone%20about%20something:%5Cn%5Cttry%20asking%20the%20noun%20about%20it%20instead.%5Cn%5CnBefore%20answering%20someone%20that%20something:%5Cn%5Ctsay%20%22Best%20to%20confine%20your%20conversation%20to%20questions%20and%20answers.%22%20instead.%5Cn%5CnBefore%20asking%20someone%20about%20something:%5Cn%5Ctif%20the%20topic%20understood%20is%20a%20topic%20listed%20in%20the%20chatter%20of%20the%20noun,%20say%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22%20instead;%5Cn%5Ctotherwise%20say%20%22%5BThe%20noun%5D%20does%20not%20reply.%22%20instead.%5Cn%5CnSection%203%20-%20The%20Scenario%5Cn%5CnThe%20Guard%20House%20is%20a%20room.%20%22Here%20you%20spend%20all%20your%20nights.%20Bullet-proof%20windows%20offer%20a%20panoramic%20view%20of%20serene%20cliffs,%20palm%20trees,%20and%20a%20moonlit%20ocean.%20Occasionally%20someone%20is%20foolish%20enough%20to%20try%20a%20cliff%20ascent%20or%20even%20an%20attack%20by%20helicopter,%20but%20lately%20things%20have%20been%20pretty%20quiet.%5Cn%5CnThe%20mansion%20is%20up%20the%20hill%20behind%20you,%20security%20lights%20ablaze.%22%5Cn%5CnThe%20grey%20telephone%20is%20a%20telephone%20in%20the%20Guard%20House.%20Understand%20%226885%22%20as%20the%20grey%20telephone.%20%22Before%20you%20is%20a%20grey%20telephone.%20In%20black%20marker%20someone%20has%20written%20on%20it:%20MAIN%20OFFICE%202802.%22%5Cn%5CnBefore%20going%20a%20direction%20in%20the%20Guard%20House,%20say%20%22And%20leave%20your%20post?%20The%20boss%20would%20have%20you%20flayed.%20No%20kidding.%22%20instead.%5Cn%5Cn%5BIn%20a%20game%20where%20the%20player%20could%20walk%20around,%20we%20would%20of%20course%20want%20to%20add%20a%20before%20rule%20so%20that%20he%20automatically%20hung%20up%20any%20phone%20he%20was%20using%20before%20leaving%20the%20room.%5D%5Cn%5CnThe%20Main%20Office%20is%20a%20room.%20The%20boss%20is%20a%20known%20woman%20in%20the%20Main%20Office.%20A%20telephone%20called%20the%20red%20telephone%20is%20in%20the%20Main%20Office.%20Understand%20%222802%22%20as%20the%20red%20telephone.%5Cn%5CnThe%20Guild%20is%20a%20room.%20The%20ninja%20is%20an%20unknown%20man%20in%20the%20Guild.%20A%20telephone%20called%20the%20black%20telephone%20is%20in%20the%20Guild.%20Understand%20%224431%22%20as%20the%20black%20telephone.%5Cn%5CnPotter's%20Pizza%20is%20a%20room.%20The%20pizza%20delivery%20boy%20is%20a%20known%20man%20in%20Pizza.%20A%20telephone%20called%20the%20saucy%20telephone%20is%20in%20Pizza.%20Understand%20%228885%22%20as%20the%20saucy%20telephone.%5Cn%5CnThe%20chatter%20of%20the%20boss%20is%20the%20Table%20of%20Boss%20Conversation.%20The%20chatter%20of%20the%20delivery%20boy%20is%20the%20Table%20of%20Pizza%20Conversation.%20The%20chatter%20of%20the%20ninja%20is%20the%20Table%20of%20Ninja%20Conversation.%5Cn%5CnAfter%20calling%20the%20red%20telephone%20on%20something%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'Yes?'%20asks%20the%20boss.%20Her%20voice%20is%20especially%20husky%20this%20evening.%20Maybe%20that%20night%20of%20passion%20isn't%20so%20far%20off%20after%20all.%22%5Cn%5CnTable%20of%20Boss%20Conversation%5Cntopic%5Ctreply%5Cn%22love/passion/tonight/night%22%20or%20%22night%20of%20passion%22%5Ct%22'...Sorry,%20what?'%20she%20asks.%20'I%20wasn't%20listening.'%20Oh.%20Maybe%20she'd%20go%20for%20some%20pizza,%20though.%22%5Cn%22pizza%22%5Ct%22'I'd%20love%20some.%20No%20pepperoni,%20though,'%20she%20says,%20sounding%20dreamy.%20Yes,%20this%20is%20definitely%20time%20for%20a%20call%20to%20your%20old%20friend,%20the%20pizza%20boy.%22%5Cn%22imminent%20ninja%20attack%22%5Ct%22'Don't%20worry%20about%20it,'%20says%20the%20boss%20crisply.%20'I%20have%20everything%20under%20control.'%22%5Cn%5CnTable%20of%20Pizza%20Conversation%5Cntopic%5Ctreply%5Cn%22pizza%22%5Ct%22'Pepperoni%20special%20tonight!'%20he%20says%20proudly.%22%5Cn%22pepperoni%22%5Ct%22'Pepperoni%20is%20included%20free%20on%20ALL%20our%20pizzas,'%20he%20says%20proudly.%22%5Cn%22no%20pepperoni%22%5Ct%22'Well,%20I%20don't%20see%20why%20you'd%20want%20that,'%20replies%20the%20boy%20sniffily.%20'It's%20free!'%22%5Cn%22jalapeno%22%5Ct%22'Sorry,%20we're%20out%20of%20jalapenos%20this%20evening.%20There%20was%20a%20run%20on%20them.'%22%5Cn%22sausage%22%5Ct%22'Sausage,%20sure,%20we%20can%20do%20you%20sausage.'%22%5Cn%22canadian%20bacon%22%5Ct%22'There's%20currently%20an%20embargo%20on%20Canadian%20pig%20products.'%22%5Cn%22cheese%22%5Ct%22'We%20use%20four%20kinds,'%20says%20the%20boy,%20then%20lowers%20his%20voice%20confidentially.%20'Actually,%20two%20of%20them%20are%20the%20same.%20Nobody%20ever%20counts.%20The%20stringy%20one,%20the%20one%20that%20comes%20in%20dollops%20and%20the%20orangey%20one.%20You%20know.'%22%5Cn%22pineapple%22%5Ct%22'We%20could%20put%20pineapple%20on%20there,%20sure,'%20says%20the%20delivery%20boy,%20in%20a%20tone%20that%20lets%20you%20know%20his%20opinion%20of%20people%20who%20order%20fruit-based%20pizzas.%22%5Cn%22pineapple%20and%20garlic%22%5Ct%22'What%20kind%20of%20crazy%20combination%20is%20that?'%20demands%20the%20delivery%20boy,%20finally%20losing%20all%20self-control.%22%5Cn%22delivery%22%5Ct%22'Well,%20I%20don't%20know,'%20says%20the%20boy%20in%20a%20worried%20voice.%20'Last%20time%20I%20came%20there%20were%20attack%20dogs.%20And%20ninjas.'%22%5Cn%22massive%20gratuity%22%5Ct%22'There's%20no%20use%20in%20a%20big%20tip%20you%20don't%20live%20to%20spend,'%20says%20the%20delivery%20boy%20quite%20firmly.%22%5Cn%5CnTable%20of%20Ninja%20Conversation%5Cntopic%5Ctreply%5Cn%22imminent%20attack%22%5Ct%22'Yes,%20still%20on%20for%20tonight,'%20confirms%20the%20voice%20at%20the%20other%20end%20of%20the%20line.%22%5Cn%22pizza%20delivery%20boy%22%5Ct%22The%20voice,%20in%20tones%20of%20velvet,%20indicates%20that%20it%20cannot%20guarantee%20the%20safety%20of%20any%20delivery%20persons%20whomsoever.%22%5Cn%5CnTest%20me%20with%20%22call%202802%20/%20examine%20boss%20/%20ask%20boss%20about%20night%20of%20passion%20/%20ask%20boss%20about%20pizza%20/%20listen%20to%20telephone%20/%20call%20delivery%20boy%20on%20telephone%20/%20ask%20boy%20about%20cheese%20/%20tell%20boy%20about%20no%20pepperoni%20/%20ask%20boy%20about%20delivery%20/%20tell%20boy%20about%20massive%20gratuity%20/%20attack%20boy%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Four Cheeses"
</p>
<p class="quoted">
Section 1 - Telephones and Connections
</p>
<p class="quoted">
A telephone is a kind of thing. Understand "phone" as a telephone.
</p>
<p class="quoted">
Understand "call [any telephone] on [something]" as calling it on. Understand "call [any telephone]" as calling it on. Understand the commands "dial" or "phone" or "telephone" as "call". Understand "call [any known person]" as calling it by name on.
</p>
<p class="quoted">
Connection relates one thing to another (called the other party).
</p>
<p class="quoted">
The verb to reach means the connection relation.
</p>
<p class="quoted">
Calling it on is an action applying to one visible thing and one thing.
</p>
<p class="quoted">
Check calling it on:
<br>    if the second noun is not a telephone, say "[The second noun] is unlikely to be much use in that respect." instead;
<br>    if the second noun is the noun, say "You get a busy signal." instead.
</p>
<p class="quoted">
Carry out calling it on:
<br>    if a person (called the listener) can see the noun, now the player reaches the listener.
</p>
</div>
<p>Because we've said that connection is a reciprocal, one-to-one relationship, Inform will do the rest of the bookkeeping: if (for instance) we telephone someone else, the first connection will be broken automatically.</p>

<div class="code"><p class="quoted">
Report calling it on:
<br>    say "'Hello?' says [the other party of the player]."
</p></div>
<p>To avoid annoyance, we should also let the player use CALL #### as well as CALL #### ON TELEPHONE. A rule from the chapter on Activities comes in handy here:</p>

<div class="code">
<p class="quoted">
Rule for supplying a missing second noun while calling something on:
<br>    assign a phone.
</p>
<p class="quoted">
To assign a phone:
<br>    if the player can touch a telephone (called the current phone):
<br>        say "(on [the current phone])[line break]";
<br>        now the second noun is the current phone;
<br>    otherwise:
<br>        say "You don't have a phone handy."
</p>
</div>
<p>Things might be a little more complicated if we had cell phones that could be moved around, but for right now the player can only touch a maximum of one phone at a time.</p>
<p>Suppose we further want to allow the player to call people up by name, but only if they've already been encountered or are familiar to the player for some reason.</p>

<div class="code">
<p class="quoted">
A person can be known or unknown.
</p>
<p class="quoted">
Understand "call [any known person]" as calling it by name on.
</p>
<p class="quoted">
Understand "call [any known person] on [something]" as calling it by name on.
</p>
<p class="quoted">
Rule for supplying a missing second noun while calling something by name on:
<br>    assign a phone.
</p>
<p class="quoted">
Calling it by name on is an action applying to one visible thing and one thing.
</p>
<p class="quoted">
Check calling it by name on:
<br>    if the noun is in the location, say "[The noun] is right here." instead.
</p>
<p class="quoted">
Carry out calling it by name on:
<br>    if the noun can touch a telephone (called the link), try calling the link on the second noun;
<br>    otherwise say "You can't reach [the noun]." instead.
</p>
<p class="quoted">
Before calling something on something when the player reaches someone:
<br>    say "(first ending your conversation with [the other party of the player])[command clarification break]";
<br>    end current conversation.
</p>
<p class="quoted">
Understand "hang up [something]" as hanging up.
</p>
<p class="quoted">
Hanging up is an action applying to one thing.
</p>
<p class="quoted">
Check hanging up:
<br>    if the noun is not a telephone, say "You can't hang up [the noun]." instead;
<br>    if the player does not reach someone, say "You're not on the line with anyone." instead.
</p>
<p class="quoted">
Carry out hanging up:
<br>    now the player does not reach anyone.
</p>
<p class="quoted">
Report hanging up:
<br>    say "You put down [the noun], cutting the connection."
</p>
<p class="quoted">
Before going somewhere when the player reaches someone:
<br>    say "(first hanging up on [the other party of the player])[command clarification break]";
<br>    end current conversation.
</p>
</div>
<p>And finally we want to make sure that calling random other numbers produces a sensible result:</p>

<div class="code">
<p class="quoted">
Understand "call [text]" as misdialling. Misdialling is an action applying to one topic. Carry out misdialling: say "The phone rings and rings but no one answers."
</p>
<p class="quoted">
Understand "call 911" or "call 999" or "call police" or "call fire department" as a mistake ("After strict warnings, you've given up making prank calls to emergency services.").
</p>
<p class="quoted">
Before misdialling when the player reaches someone:
<br>    say "(first ending your conversation with [the other party of the player])[command clarification break]";
<br>    end current conversation.
</p>
<p class="quoted">
To end current conversation:
<br>    let the current phone be a random telephone which can be touched by the player;
<br>    silently try hanging up the current phone.
</p>
<p class="quoted">
After deciding the scope of the player while the player reaches someone:
<br>    place the other party of the player in scope, but not its contents.
</p>
</div>
<p>A note about this scope addition: the player can refer to the other party whenever he has the other person on the phone. He can't, however, see or refer to anything that person might be holding or wearing, thanks to the "but not its contents" option.</p>
<p>Furthermore, the player can't actually do anything to that person that requires touching. That's because of the reaching inside rules, which govern whether the player can reach through intervening barriers such as rooms. (See the Advanced Actions chapter for more about changing reachability.) There are two things we might want to be careful about, though.</p>
<p>First, we should specifically disallow the player from looking at the person on the other end of the line. Since sight doesn't require touching, the reaching inside rules will not be consulted about a command such as EXAMINE BOSS or LOOK UNDER BOSS. We can, however, intervene in such cases using the visibility rules, which are consulted for any actions that "require light" (including EXAMINE and LOOK UNDER). Here again we borrow some options from the Advanced Actions chapter:</p>

<div class="code">
<p class="quoted">
To decide whether acting through the line:
<br>    if the noun is something and the location of the noun is not the location of the player:
<br>        yes;
<br>    if the second noun is something and the location of the second noun is not the location of the player:
<br>        yes;
<br>    no.
</p>
<p class="quoted">
Visibility rule when acting through the line:
<br>    there is insufficient light.
</p>
<p class="quoted">
Rule for printing a refusal to act in the dark when acting through the line:
<br>    say "You're not on a video phone, so you can only hear." instead.
</p>
</div>
<p>Second, though the existing reaching inside rules are adequate to stop us from touching the person on the other end of the line, the response that's currently printed is a bit generic: it just says "You can't reach into [the room containing the person]." Let's add our own custom reply, instead:</p>

<div class="code">
<p class="quoted">
A rule for reaching inside a room (called destination):
<br>    if the other party of the player is enclosed by the destination:
<br>        say "Though you're on the line with [the other party of the player], you can't physically reach to [the destination].";
<br>        deny access.
</p>
<p class="quoted">
Section 2 - Conversation over the Phone, In General
</p>
</div>
<p>This portion supplies a simple method of conversation; but we could substitute some completely different conversation system if appropriate. The effect of the telephones is that we are allowed to talk to characters in distant locations under certain circumstances, after which the usual conversation rules apply.</p>

<div class="code">
<p class="quoted">
Instead of listening to a telephone when the player reaches someone:
<br>    say "You can hear [the other party of the player] breathing."
</p>
<p class="quoted">
Before listening to someone when the player cannot touch the noun:
<br>    say "[The noun] is waiting for you to carry on the conversation." instead.
</p>
<p class="quoted">
A person has a table name called chatter.
</p>
<p class="quoted">
Before telling someone about something:
<br>    try asking the noun about it instead.
</p>
<p class="quoted">
Before answering someone that something:
<br>    say "Best to confine your conversation to questions and answers." instead.
</p>
<p class="quoted">
Before asking someone about something:
<br>    if the topic understood is a topic listed in the chatter of the noun, say "[reply entry][paragraph break]" instead;
<br>    otherwise say "[The noun] does not reply." instead.
</p>
<p class="quoted">
Section 3 - The Scenario
</p>
<p class="quoted">
The Guard House is a room. "Here you spend all your nights. Bullet-proof windows offer a panoramic view of serene cliffs, palm trees, and a moonlit ocean. Occasionally someone is foolish enough to try a cliff ascent or even an attack by helicopter, but lately things have been pretty quiet.
</p>
<p class="quoted">
The mansion is up the hill behind you, security lights ablaze."
</p>
<p class="quoted">
The grey telephone is a telephone in the Guard House. Understand "6885" as the grey telephone. "Before you is a grey telephone. In black marker someone has written on it: MAIN OFFICE 2802."
</p>
<p class="quoted">
Before going a direction in the Guard House, say "And leave your post? The boss would have you flayed. No kidding." instead.
</p>
</div>
<p>In a game where the player could walk around, we would of course want to add a before rule so that he automatically hung up any phone he was using before leaving the room.</p>

<div class="code">
<p class="quoted">
The Main Office is a room. The boss is a known woman in the Main Office. A telephone called the red telephone is in the Main Office. Understand "2802" as the red telephone.
</p>
<p class="quoted">
The Guild is a room. The ninja is an unknown man in the Guild. A telephone called the black telephone is in the Guild. Understand "4431" as the black telephone.
</p>
<p class="quoted">
Potter's Pizza is a room. The pizza delivery boy is a known man in Pizza. A telephone called the saucy telephone is in Pizza. Understand "8885" as the saucy telephone.
</p>
<p class="quoted">
The chatter of the boss is the Table of Boss Conversation. The chatter of the delivery boy is the Table of Pizza Conversation. The chatter of the ninja is the Table of Ninja Conversation.
</p>
<p class="quoted">
After calling the red telephone on something for the first time:
<br>    say "'Yes?' asks the boss. Her voice is especially husky this evening. Maybe that night of passion isn't so far off after all."
</p>
<p class="quoted">
Table of Boss Conversation
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"love/passion/tonight/night" or "night of passion"</p></td>
<td class="quotedtablecell"><p class="quoted">"'...Sorry, what?' she asks. 'I wasn't listening.' Oh. Maybe she'd go for some pizza, though."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"pizza"</p></td>
<td class="quotedtablecell"><p class="quoted">"'I'd love some. No pepperoni, though,' she says, sounding dreamy. Yes, this is definitely time for a call to your old friend, the pizza boy."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"imminent ninja attack"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Don't worry about it,' says the boss crisply. 'I have everything under control.'"</p></td>
</tr>
</table>
<p class="quoted">
Table of Pizza Conversation
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"pizza"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Pepperoni special tonight!' he says proudly."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"pepperoni"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Pepperoni is included free on ALL our pizzas,' he says proudly."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"no pepperoni"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Well, I don't see why you'd want that,' replies the boy sniffily. 'It's free!'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"jalapeno"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Sorry, we're out of jalapenos this evening. There was a run on them.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"sausage"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Sausage, sure, we can do you sausage.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"canadian bacon"</p></td>
<td class="quotedtablecell"><p class="quoted">"'There's currently an embargo on Canadian pig products.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cheese"</p></td>
<td class="quotedtablecell"><p class="quoted">"'We use four kinds,' says the boy, then lowers his voice confidentially. 'Actually, two of them are the same. Nobody ever counts. The stringy one, the one that comes in dollops and the orangey one. You know.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"pineapple"</p></td>
<td class="quotedtablecell"><p class="quoted">"'We could put pineapple on there, sure,' says the delivery boy, in a tone that lets you know his opinion of people who order fruit-based pizzas."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"pineapple and garlic"</p></td>
<td class="quotedtablecell"><p class="quoted">"'What kind of crazy combination is that?' demands the delivery boy, finally losing all self-control."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"delivery"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Well, I don't know,' says the boy in a worried voice. 'Last time I came there were attack dogs. And ninjas.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"massive gratuity"</p></td>
<td class="quotedtablecell"><p class="quoted">"'There's no use in a big tip you don't live to spend,' says the delivery boy quite firmly."</p></td>
</tr>
</table>
<p class="quoted">
Table of Ninja Conversation
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"imminent attack"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Yes, still on for tonight,' confirms the voice at the other end of the line."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"pizza delivery boy"</p></td>
<td class="quotedtablecell"><p class="quoted">"The voice, in tones of velvet, indicates that it cannot guarantee the safety of any delivery persons whomsoever."</p></td>
</tr>
</table>
<p class="quoted">
Test me with "call 2802 / examine boss / ask boss about night of passion / ask boss about pizza / listen to telephone / call delivery boy on telephone / ask boy about cheese / tell boy about no pepperoni / ask boy about delivery / tell boy about massive gratuity / attack boy".
</p>
</div>
<p>...and it more or less writes itself from there.</p>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.6">WI §13.6. Making reciprocal relations</a><br><a href="rb_9.html#rb-9.10">RB §9.10. Telephones</a>
</div></details><details class="full-example" id="example-253"><summary><span class="example-summary">253. Alias</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Seven-digit telephone numbers are too long for Inform to handle when compiling to the Z-Machine, but they will work under Glulx. To have this example succeed, make sure that you have selected the Glulx option in your settings menu.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Alias%22%5Cn%5CnA%20telephone%20is%20a%20kind%20of%20thing.%20Understand%20%22phone%22%20or%20%22telephone%22%20as%20a%20telephone.%5Cn%5CnA%20phone%20number%20is%20a%20kind%20of%20value.%20999-9999%20specifies%20a%20phone%20number.%5Cn%5Cn%5BNow%20we%20borrow%20some%20techniques%20from%20the%20Understanding%20chapter%20to%20set%20up%20dialing%20actions:%5D%5Cn%5CnUnderstand%20%22dial%20%5Bphone%20number%5D%20on%20%5Btelephone%5D%22%20as%20dialing%20it%20on.%20Understand%20%22dial%20%5Bphone%20number%5D%20on%20%5Bsomething%5D%22%20as%20dialing%20it%20on.%5Cn%5CnUnderstand%20the%20commands%20%22phone%22%20or%20%22telephone%22%20or%20%22call%22%20as%20%22dial%22.%5Cn%5CnUnderstand%20%22call%20%5Btext%5D%22%20or%20%22phone%20%5Btext%5D%22%20or%20%22dial%20%5Btext%5D%22%20or%20%22telephone%20%5Btext%5D%22%20as%20a%20mistake%20(%22That's%20not%20a%20number%20you%20know.%22).%5Cn%5CnDialing%20it%20on%20is%20an%20action%20applying%20to%20one%20phone%20number%20and%20one%20thing.%5Cn%5CnReport%20dialing%20it%20on:%5Cn%5Ctsay%20%22You%20dial%20%5Bthe%20phone%20number%20understood%5D.%22%5Cn%5Cn%5BThis%20much%20is%20enough%20to%20let%20us%20dial%20telephone%20numbers%20and%20have%20Inform%20report%20that%20we've%20done%20so;%20it%20doesn't%20actually%20provide%20a%20telephone%20system%20such%20that%20we%20could%20reach%20and%20converse%20with%20other%20characters%20(but%20see%20the%20other%20telephone%20examples%20in%20the%20recipe%20book%20for%20more%20on%20how%20one%20might%20do%20that).%5D%5Cn%5Cn%5BWe'll%20set%20up%20a%20little%20political%20espionage%20scenario%20from%20which%20our%20player%20can%20make%20calls:%5D%5Cn%5CnThe%20Senator's%20Junior%20Suite%20is%20a%20room.%20%22The%20Senator%20appears,%20unfortunately,%20to%20have%20very%20precise%20habits:%20little%20in%20the%20room%20has%20been%20moved%20from%20its%20usual%20place;%20the%20trash%20can%20is%20empty;%20the%20bed%20has%20been%20remade%5Bif%20the%20blue%20paper%20is%20unexamined%5D.%20There%20may%20in%20fact%20be%20nothing%20to%20find%20here%5Bend%20if%5D.%22%5Cn%5CnThe%20bed%20is%20an%20enterable%20scenery%20supporter%20in%20the%20Junior%20Suite.%5Cn%5CnThe%20player%20is%20wearing%20a%20housekeeping%20uniform%20and%20a%20brunette%20wig.%20The%20player%20carries%20a%20telephone%20called%20a%20Nokia.%5Cn%5Cn%5BBorrowing%20again%20from%20the%20chapter%20on%20Understanding,%20we%20might%20arrange%20things%20so%20that%20the%20player%20knows%20and%20can%20call%20a%20few%20standard%20numbers%20with%20such%20syntax%20as%20CALL%20HOME:%5D%5Cn%5CnUnderstand%20%22home%22%20as%20555-9200.%5Cn%5Cn%5BAnd%20what%20if%20we'd%20like%20to%20have%20the%20player%20learn%20some%20phone%20numbers%20during%20the%20game?%5D%5Cn%5CnA%20thing%20can%20be%20examined%20or%20unexamined.%20Carry%20out%20examining%20something:%20now%20the%20noun%20is%20examined.%5Cn%5CnUnderstand%20%22Stephen%22%20as%20555-2513%20when%20the%20blue%20paper%20is%20examined.%5Cn%5Cn%5BThis%20will%20understand%20CALL%20STEPHEN%20once%20the%20paper%20is%20examined;%20before%20that,%20the%20player%20will%20just%20get%20the%20%22That's%20not%20a%20number%20you%20know%22%20response%20that%20Inform%20uses%20for%20all%20attempts%20to%20call%20unknown%20names.%5D%5Cn%5Cn%5BWe'd%20better%20plant%20this%20paper%20for%20the%20player%20to%20find:%5D%5Cn%5CnThe%20blue%20paper%20is%20in%20the%20drawer.%20The%20description%20of%20the%20blue%20paper%20is%20%22It%20reads:%20'Call%20Stephen%20-%20555-2513'.%22%5Cn%5CnThe%20drawer%20is%20part%20of%20the%20dresser.%20It%20is%20closed%20and%20openable.%20The%20dresser%20is%20in%20The%20Senator's%20Junior%20Suite.%20The%20lamp%20is%20on%20the%20dresser.%20The%20description%20of%20the%20dresser%20is%20%22The%20single%20drawer%20is%20%5Bif%20the%20drawer%20is%20open%5Dopen%5Botherwise%5Dshut%5Bend%20if%5D.%22%5Cn%5CnTest%20me%20with%20%22dial%20555-9999%20/%20call%20home%20on%20the%20telephone%20/%20phone%20the%20president%20/%20call%20stephen%20/%20open%20drawer%20/%20read%20paper%20/%20call%20stephen%20/%20put%20phone%20in%20drawer%20/%20close%20drawer%20/%20call%20stephen%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Alias"
</p>
<p class="quoted">
A telephone is a kind of thing. Understand "phone" or "telephone" as a telephone.
</p>
<p class="quoted">
A phone number is a kind of value. 999-9999 specifies a phone number.
</p>
</div>
<p>Now we borrow some techniques from the Understanding chapter to set up dialing actions:</p>

<div class="code">
<p class="quoted">
Understand "dial [phone number] on [telephone]" as dialing it on. Understand "dial [phone number] on [something]" as dialing it on.
</p>
<p class="quoted">
Understand the commands "phone" or "telephone" or "call" as "dial".
</p>
<p class="quoted">
Understand "call [text]" or "phone [text]" or "dial [text]" or "telephone [text]" as a mistake ("That's not a number you know.").
</p>
<p class="quoted">
Dialing it on is an action applying to one phone number and one thing.
</p>
<p class="quoted">
Report dialing it on:
<br>    say "You dial [the phone number understood]."
</p>
</div>
<p>This much is enough to let us dial telephone numbers and have Inform report that we've done so; it doesn't actually provide a telephone system such that we could reach and converse with other characters (but see the other telephone examples in the recipe book for more on how one might do that).</p>
<p>We'll set up a little political espionage scenario from which our player can make calls:</p>

<div class="code">
<p class="quoted">
The Senator's Junior Suite is a room. "The Senator appears, unfortunately, to have very precise habits: little in the room has been moved from its usual place; the trash can is empty; the bed has been remade[if the blue paper is unexamined]. There may in fact be nothing to find here[end if]."
</p>
<p class="quoted">
The bed is an enterable scenery supporter in the Junior Suite.
</p>
<p class="quoted">
The player is wearing a housekeeping uniform and a brunette wig. The player carries a telephone called a Nokia.
</p>
</div>
<p>Borrowing again from the chapter on Understanding, we might arrange things so that the player knows and can call a few standard numbers with such syntax as CALL HOME:</p>

<div class="code"><p class="quoted">
Understand "home" as 555-9200.
</p></div>
<p>And what if we'd like to have the player learn some phone numbers during the game?</p>

<div class="code">
<p class="quoted">
A thing can be examined or unexamined. Carry out examining something: now the noun is examined.
</p>
<p class="quoted">
Understand "Stephen" as 555-2513 when the blue paper is examined.
</p>
</div>
<p>This will understand CALL STEPHEN once the paper is examined; before that, the player will just get the "That's not a number you know" response that Inform uses for all attempts to call unknown names.</p>
<p>We'd better plant this paper for the player to find:</p>

<div class="code">
<p class="quoted">
The blue paper is in the drawer. The description of the blue paper is "It reads: 'Call Stephen - 555-2513'."
</p>
<p class="quoted">
The drawer is part of the dresser. It is closed and openable. The dresser is in The Senator's Junior Suite. The lamp is on the dresser. The description of the dresser is "The single drawer is [if the drawer is open]open[otherwise]shut[end if]."
</p>
<p class="quoted">
Test me with "dial 555-9999 / call home on the telephone / phone the president / call stephen / open drawer / read paper / call stephen / put phone in drawer / close drawer / call stephen".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_15.html#wi-15.2">WI §15.2. Numbers and real numbers</a><br><a href="rb_9.html#rb-9.10">RB §9.10. Telephones</a>
</div></details>
</div></section>
<section class="section" id="rb-9.11"><div>





<h3>RB §9.11. Clocks and Scientific Instruments</h3>
<p>The simplest form of clock is a wrist watch. Here is a choice of analogue or digital:</p>

<div class="code">
<p class="quoted">
The player wears a wrist watch. The description of the wrist watch is "It is [the time of day in words]."
</p>
<p class="quoted">
The player wears a digital watch. The description of the digital watch is "It is [the time of day]."
</p>
</div>
<p>Better clocks would allow us also to set the time, and to stop and start them: see <a href="rb_9.html#example-298" class="example-link" onClick="(function() { document.getElementById('example-298').setAttribute('open','open'); return true; })();">Tom's Midnight Garden</a><span class="example-difficulty"> ★</span>.</p>
<p>Scientific instruments provide sharper versions of our own senses. In the case of vision, they allow us to see closer up, or further away. It's a convention of IF that people can normally see only the current location, that is, they cannot see from one location into another. The boundary of the current room is like a horizon, even out of doors (though it's true that there are ways to disguise that with a continuous outdoor landscape). <a href="rb_9.html#example-365" class="example-link" onClick="(function() { document.getElementById('example-365').setAttribute('open','open'); return true; })();">Ginger Beer</a><span class="example-difficulty"> ★★</span> provides a telescope able to see into other rooms.</p>
<p><a href="rb_9.html#example-180" class="example-link" onClick="(function() { document.getElementById('example-180').setAttribute('open','open'); return true; })();">Witnessed 2</a><span class="example-difficulty"> ★</span> provides a meter which measures how close a ghost is to the player.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.4" class="crossreference_link">Continuous Spaces and The Outdoors</a> for more on seeing into adjacent locations</div>
<div class="crossreference">
<a href="rb_10.html#rb-10.9" class="crossreference_link">Heat</a> for infrared goggles</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-180"><summary><span class="example-summary">180. Witnessed 2</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Witnessed%22%5Cn%5CnThe%20player%20carries%20a%20device%20called%20a%20Trifield%20Natural%20EMF%20Meter.%20The%20description%20of%20the%20Meter%20is%20%22This%20cost%20a%20pretty%20penny%20off%20the%20internet,%20but%20it's%20worth%20it:%20according%20to%20the%20website%20it%20has%20been%20programmed%20by%20PhD%20physicists%20to%20ignore%20manmade%20sources%20of%20fields%20and%20to%20respond%20only%20to%20paranormal%20EMF%20changes.%5Cn%5CnIt%20also%20features%20an%20optional%20Tone%20Alarm,%20which%20can%20be%20turned%20on%20to%20indicate%20when%20readings%20spike.%20If%20the%20alarm%20is%20off,%20the%20meter%20just%20reads%20out%20the%20magnetic%20and%20electric%20field%20levels%20on%20a%20scale%20from%200-100%20microteslas,%20or%200-1000%20V/m.%5Cn%5CnSince%20both%20fields%20are%20important,%20you%20keep%20the%20meter%20set%20to%20SUM%20mode.%20The%20meter%20has%20its%20own%20optional%20backlighting,%20so%20that%20you%20can%20see%20the%20reading%20even%20if%20your%20flashlight%20is%20off.%20Currently%20it%20is%20reading%20at%20%5Bmeter%20setting%5D.%22%20A%20Tone%20Alarm%20is%20part%20of%20the%20Meter.%20It%20is%20a%20device.%20The%20description%20of%20the%20Tone%20Alarm%20is%20%22The%20Tone%20Alarm%20will%20make%20a%20noise,%20if%20the%20EMF%20picks%20up%20a%20spike.%22%5Cn%5CnTo%20decide%20what%20number%20is%20meter%20setting:%5Cn%5Ctif%20the%20meter%20is%20switched%20off,%20decide%20on%200;%5Cn%5Ctif%20a%20ghost%20is%20touchable,%20decide%20on%2035;%5Cn%5Ctif%20a%20ghost%20is%20visible,%20decide%20on%2012;%5Cn%5Ctdecide%20on%200.%5Cn%5CnAfter%20switching%20on%20the%20meter:%5Cn%5Ctsay%20%22You%20turn%20on%20the%20meter.%20The%20needle%20steadies%20at%20%5Bmeter%20setting%5D.%22%5Cn%5CnEvery%20turn:%20if%20the%20meter%20setting%20is%20greater%20than%2010%20and%20the%20Tone%20Alarm%20is%20switched%20on,%20say%20%22%5BThe%20Tone%20Alarm%5D%20shrieks.%22%5Cn%5CnThirtieth%20Street%20Station%20is%20a%20room.%20%22A%20huge,%20high,%20rectangular%20room%20with%20coffered%20ceilings,%20which%20looks%20grand%20but%20mostly%20makes%20you%20feel%20lonely%20and%20small.%20There%20are%20long%20benches%20in%20rows%20down%20the%20middle%20of%20the%20room,%20and%20an%20information%20desk%20with%20the%20train%20times,%20and%20a%20series%20of%20ticket%20windows,%20none%20of%20which%20matters%20very%20much%20at%20the%20moment.%22%5Cn%5CnThe%20benches%20are%20an%20enterable%20supporter.%20They%20are%20scenery%20in%20the%20Station.%20The%20information%20desk%20is%20scenery%20in%20the%20Station.%20Some%20ticket%20windows%20are%20scenery%20in%20the%20Station.%20Instead%20of%20examining%20scenery%20in%20the%20Station:%20say%20%22You're%20fairly%20sure%20that%20whatever%20is%20going%20on%20here%20has%20nothing%20to%20do%20with%20%5Bthe%20noun%5D.%22%20Understand%20%22window%22%20as%20ticket%20windows.%5Cn%5CnThe%20mural%20is%20fixed%20in%20place%20in%20Thirtieth%20Street.%20%22At%20the%20north%20side%20of%20the%20station%20is%20a%20particularly%20pointless%20and%20empty%20annex%20to%20the%20main%20room.%20It%20is%20dominated%20by%20a%20huge%20relief%20of%20sorts,%20and%20this%20is%20what%20you%20remember.%22%20Understand%20%22metal%22%20or%20%22relief%22%20or%20%22huge%22%20as%20the%20mural.%20The%20description%20of%20the%20mural%20is%20%22It%20is%20both%20stylized%20and%20confusing,%20but%20you%20think%20it%20might%20be%20supposed%20to%20represent%20the%20various%20tasks%20and%20occupations%20of%20Philadelphia's%20population.%20The%20portions%20closer%20to%20the%20ground%20look%20as%20though%20they%20have%20recently%20been%20subjected%20to%20a%20light%20dusting%20of%20talcum%20powder.%20No%20unusual%20prints%20are%20evident.%22%5Cn%5CnThe%20wind%20chimes%20are%20fixed%20in%20place%20in%20Thirtieth%20Street.%20%22Carefully%20attached%20to%20the%20wall%20with%20a%20piece%20of%20duct%20tape%20and%20a%20hook%20is%20a%20light-weight%20set%20of%20wind%20chimes.%20Someone%20else%20has%20been%20here%20before%20you,%20it%20seems.%22%20The%20description%20is%20%22Several%20of%20your%20friends%20use%20wind%20chimes%20as%20a%20sort%20of%20ghost%20alarm,%20since%20ghosts%20sometimes%20cause%20very%20localized%20movements%20of%20air%20when%20there%20is%20no%20natural%20breeze.%22%5Cn%5CnA%20ghost%20is%20a%20kind%20of%20person.%20The%20pale%20figure%20is%20a%20ghost.%5Cn%5CnAt%209:03%20AM:%20move%20the%20pale%20figure%20to%20the%20location;%20say%20%22You%20shiver%20with%20some%20sort%20of%20presence.%22%5Cn%5CnTest%20me%20with%20%22turn%20on%20alarm%20/%20turn%20on%20meter%20/%20z%20/%20z%20/%20z%20/%20x%20figure%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Witnessed"
</p>
<p class="quoted">
The player carries a device called a Trifield Natural EMF Meter. The description of the Meter is "This cost a pretty penny off the internet, but it's worth it: according to the website it has been programmed by PhD physicists to ignore manmade sources of fields and to respond only to paranormal EMF changes.
</p>
<p class="quoted">
It also features an optional Tone Alarm, which can be turned on to indicate when readings spike. If the alarm is off, the meter just reads out the magnetic and electric field levels on a scale from 0-100 microteslas, or 0-1000 V/m.
</p>
<p class="quoted">
Since both fields are important, you keep the meter set to SUM mode. The meter has its own optional backlighting, so that you can see the reading even if your flashlight is off. Currently it is reading at [meter setting]." A Tone Alarm is part of the Meter. It is a device. The description of the Tone Alarm is "The Tone Alarm will make a noise, if the EMF picks up a spike."
</p>
<p class="quoted">
To decide what number is meter setting:
<br>    if the meter is switched off, decide on 0;
<br>    if a ghost is touchable, decide on 35;
<br>    if a ghost is visible, decide on 12;
<br>    decide on 0.
</p>
<p class="quoted">
After switching on the meter:
<br>    say "You turn on the meter. The needle steadies at [meter setting]."
</p>
<p class="quoted">
Every turn: if the meter setting is greater than 10 and the Tone Alarm is switched on, say "[The Tone Alarm] shrieks."
</p>
<p class="quoted">
Thirtieth Street Station is a room. "A huge, high, rectangular room with coffered ceilings, which looks grand but mostly makes you feel lonely and small. There are long benches in rows down the middle of the room, and an information desk with the train times, and a series of ticket windows, none of which matters very much at the moment."
</p>
<p class="quoted">
The benches are an enterable supporter. They are scenery in the Station. The information desk is scenery in the Station. Some ticket windows are scenery in the Station. Instead of examining scenery in the Station: say "You're fairly sure that whatever is going on here has nothing to do with [the noun]." Understand "window" as ticket windows.
</p>
<p class="quoted">
The mural is fixed in place in Thirtieth Street. "At the north side of the station is a particularly pointless and empty annex to the main room. It is dominated by a huge relief of sorts, and this is what you remember." Understand "metal" or "relief" or "huge" as the mural. The description of the mural is "It is both stylized and confusing, but you think it might be supposed to represent the various tasks and occupations of Philadelphia's population. The portions closer to the ground look as though they have recently been subjected to a light dusting of talcum powder. No unusual prints are evident."
</p>
<p class="quoted">
The wind chimes are fixed in place in Thirtieth Street. "Carefully attached to the wall with a piece of duct tape and a hook is a light-weight set of wind chimes. Someone else has been here before you, it seems." The description is "Several of your friends use wind chimes as a sort of ghost alarm, since ghosts sometimes cause very localized movements of air when there is no natural breeze."
</p>
<p class="quoted">
A ghost is a kind of person. The pale figure is a ghost.
</p>
<p class="quoted">
At 9:03 AM: move the pale figure to the location; say "You shiver with some sort of presence."
</p>
<p class="quoted">
Test me with "turn on alarm / turn on meter / z / z / z / x figure".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.17">WI §11.17. Phrases to decide other things</a><br><a href="rb_9.html#rb-9.11">RB §9.11. Clocks and Scientific Instruments</a>
</div></details><details class="full-example" id="example-298"><summary><span class="example-summary">298. Tom's Midnight Garden</span> <span class="example-difficulty">★</span></summary><div>
<p>Time can also be understood as a token, and the time parsed will be recorded as "the time understood". So therefore, if we wish for clocks which may be set:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Tom's%20Midnight%20Garden%22%5Cn%5CnA%20clock%20is%20a%20kind%20of%20device.%20A%20clock%20has%20a%20time%20called%20the%20current%20time.%20A%20clock%20can%20be%20analog%20or%20digital.%20The%20current%20time%20of%20a%20clock%20is%20usually%209:01%20AM.%20The%20description%20of%20a%20clock%20is%20%22It%20shows%20the%20time%20to%20be%20%5Bif%20analog%5Dabout%20%5Bthe%20current%20time%20to%20the%20nearest%20five%20minutes%20in%20words%5D%5Botherwise%5D%5Bthe%20current%20time%5D%5Bend%20if%5D.%22%5Cn%5CnUnderstand%20%22set%20%5Bclock%5D%20to%20%5Btime%5D%22%20as%20setting%20it%20by%20time.%20Setting%20it%20by%20time%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20time.%5Cn%5CnInstead%20of%20setting%20a%20clock%20to%20something:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20can%20be%20set%20only%20to%20a%20time%20of%20day,%20such%20as%208:00%20AM,%20or%20midnight.%22%5Cn%5CnCarry%20out%20setting%20a%20clock%20by%20time:%5Cn%5Ctnow%20the%20current%20time%20of%20the%20noun%20is%20the%20time%20understood.%5Cn%5CnReport%20setting%20a%20clock%20by%20time:%5Cn%5Ctsay%20%22You%20set%20%5Bthe%20noun%5D%20to%20%5Btime%20understood%5D.%22%5Cn%5CnEvery%20turn:%5Cn%5Ctrepeat%20with%20item%20running%20through%20switched%20on%20clocks:%5Cn%5Ct%5Ctnow%20the%20current%20time%20of%20the%20item%20is%20one%20minute%20after%20the%20current%20time%20of%20the%20item.%5Cn%5CnThe%20Hall%20is%20a%20room.%20The%20grandfather%20clock%20is%20a%20fixed%20in%20place%20analog%20clock%20in%20the%20Hall.%20The%20travel%20clock%20is%20a%20switched%20on%20digital%20clock%20in%20the%20Hall.%20%20When%20play%20begins:%20now%20the%20right%20hand%20status%20line%20is%20%22%5Btime%20of%20day%5D%22.%5Cn%5CnTest%20me%20with%20%22examine%20grandfather%20clock%20/%20set%20it%20to%20midnight%20/%20switch%20it%20on%20/%20wait%20/%20wait%20/%20wait%20/%20examine%20it%20/%20set%20travel%20clock%20to%204:12%20/%20examine%20it%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Tom's Midnight Garden"
</p>
<p class="quoted">
A clock is a kind of device. A clock has a time called the current time. A clock can be analog or digital. The current time of a clock is usually 9:01 AM. The description of a clock is "It shows the time to be [if analog]about [the current time to the nearest five minutes in words][otherwise][the current time][end if]."
</p>
<p class="quoted">
Understand "set [clock] to [time]" as setting it by time. Setting it by time is an action applying to one thing and one time.
</p>
<p class="quoted">
Instead of setting a clock to something:
<br>    say "[The noun] can be set only to a time of day, such as 8:00 AM, or midnight."
</p>
<p class="quoted">
Carry out setting a clock by time:
<br>    now the current time of the noun is the time understood.
</p>
<p class="quoted">
Report setting a clock by time:
<br>    say "You set [the noun] to [time understood]."
</p>
<p class="quoted">
Every turn:
<br>    repeat with item running through switched on clocks:
<br>        now the current time of the item is one minute after the current time of the item.
</p>
<p class="quoted">
The Hall is a room. The grandfather clock is a fixed in place analog clock in the Hall. The travel clock is a switched on digital clock in the Hall.  When play begins: now the right hand status line is "[time of day]".
</p>
<p class="quoted">
Test me with "examine grandfather clock / set it to midnight / switch it on / wait / wait / wait / examine it / set travel clock to 4:12 / examine it".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.6">WI §17.6. Actions applying to kinds of value</a><br><a href="rb_9.html#rb-9.11">RB §9.11. Clocks and Scientific Instruments</a>
</div></details><details class="full-example" id="example-365"><summary><span class="example-summary">365. Ginger Beer</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to have a pair of linked lenses so that the player can look into one of them and see things which occur in room containing the other lense.</p>
<p>We begin simply with a bit of environment for the player to wander around:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Ginger%20Beer%22%5Cn%5CnThe%20Ginger%20Beer%20Factory%20is%20a%20room.%20%20%22In%20the%20center%20of%20the%20room%20is%20an%20enormous%20pot%20filled%20with%20crushed%20ginger,%20which%20seems%20to%20be%20bubbling%20slightly%20on%20its%20own.%20%20The%20fumes%20are%20overwhelming.%22%5Cn%5CnThe%20pot%20is%20scenery%20in%20the%20Ginger%20Beer%20Factory.%20The%20description%20of%20the%20pot%20is%20%22Cast%20iron.%22%20In%20the%20pot%20is%20a%20bubbling%20brew.%5Cn%5CnInstead%20of%20smelling%20the%20Ginger%20Beer%20Factory:%20try%20smelling%20the%20brew.%5Cn%5CnInstead%20of%20smelling%20the%20brew,%20say%20%22You%20blink%20back%20tears.%22%5Cn%5CnThe%20Storeroom%20is%20south%20of%20the%20Ginger%20Beer%20Factory.%20%20%22The%20walls%20here%20are%20lined%20with%20a%20prodigious%20number%20of%20small,%20rounded%20bottles,%20each%20with%20a%20screw%20top%20and%20a%20smiling%20pirate%20on%20the%20label.%22%5Cn%5CnThe%20Clippings%20Room%20is%20west%20of%20the%20Ginger%20Beer%20Factory.%20%22A%20clean%20room%20lined%20with%20steel%20tables,%20for%20preparing%20ingredients.%22%5Cn%5CnSome%20steel%20tables%20are%20a%20supporter%20in%20the%20Clippings%20Room.%20%20They%20are%20scenery.%20%20The%20description%20is%20%22They%20are%20roughly%20the%20size%20and%20height%20of%20laboratory%20worksurfaces.%22%5Cn%5CnThe%20quantity%20of%20dandelion%20is%20on%20the%20steel%20tables.%20%20The%20description%20is%20%22Horrible%20common%20weed.%22%5Cn%5CnThe%20wooden%20box%20is%20on%20the%20steel%20tables.%20%20It%20is%20openable%20and%20closed.%20%20The%20description%20is%20%22A%20large%20wooden%20box%20with%20a%20lid,%20used%20for%20ingredient%20storage.%20%20There%20is%20a%20label%20on%20the%20lid.%22%5Cn%5CnThe%20label%20is%20part%20of%20the%20box.%20%20The%20description%20is%20%22BURDOCK:%20the%20root%20beaten%20with%20a%20little%20salt%20and%20laid%20on%20the%20place%20suddenly%20easeth%20the%20pain%20thereof,%20and%20helpeth%20those%20that%20are%20bit%20by%20a%20mad%20dog:...%20the%20seed%20being%20drunk%20in%20wine%2040%20days%20together%20doth%20wonderfully%20help%20the%20sciatica:%20the%20leaves%20bruised%20with%20the%20white%20of%20an%20egg%20and%20applied%20to%20any%20place%20burnt%20with%20fire,%20taketh%20out%20the%20fire,%20gives%20sudden%20ease%20and%20heals%20it%20up%20afterwards....%20The%20root%20may%20be%20preserved%20with%20sugar%20for%20consumption,%20stone%20and%20the%20lax.%22%5Cn%5CnThe%20quantity%20of%20burdock%20is%20in%20the%20box.%20%20The%20description%20is%20%22It%20looks%20like%20a%20kind%20of%20thistle.%22%5Cn%5CnSome%20bottles%20are%20in%20the%20Storeroom.%20%20They%20are%20scenery.%20%20The%20description%20is%20%22They%20are%20smaller%20than%20the%20average%20bottle,%20because%20more%20potent.%22%20%20Instead%20of%20taking%20the%20bottles,%20say%20%22Take%20one%20away%20and%20the%20whole%20lineup%20will%20cascade%20to%20the%20floor.%22%5Cn%5Cn%5BNow%20for%20the%20lenses%20themselves:%5D%5Cn%5CnA%20lense%20is%20a%20kind%20of%20thing.%5Cn%5CnThe%20large%20end%20of%20the%20telescope%20is%20a%20lense%20in%20the%20Ginger%20Beer%20Factory.%20%20%22There%20is%20a%20large%20glass%20lense%20propped%20against%20the%20wall,%20in%20which%20are%20reflected%20all%20the%20contents%20of%20the%20room.%22%20%20Understand%20%22glass%22%20or%20%22lense%22%20as%20the%20large%20end.%5Cn%5CnThe%20small%20end%20of%20the%20telescope%20is%20a%20lense%20in%20the%20Storeroom.%20%20%22There%20is%20a%20small%20glass%20lense%20sitting%20on%20the%20floor.%20%20Due%20to%20some%20curious%20effect%20of%20the%20optics,%20it%20appears%20to%20be%20giving%20a%20view%20of%20somewhere%20else%20entirely.%22%20%20Understand%20%22glass%22%20or%20%22lense%22%20as%20the%20small%20end.%20%20The%20description%20is%20%22A%20gleaming%20lense%20about%20the%20size%20of%20a%20pound%20coin.%22%5Cn%5Cn%5BHere%20is%20the%20critical%20bit,%20which%20needs%20to%20be%20somewhat%20flexible,%20since%20the%20large%20end%20of%20the%20telescope%20could%20in%20theory%20be%20left%20anywhere%20in%20the%20game%20(and%20should%20still%20work).%5D%5Cn%5CnAfter%20deciding%20the%20scope%20of%20the%20player%20while%20the%20small%20end%20is%20carried%20by%20the%20player:%5Cn%5Ctlet%20there%20be%20the%20holder%20of%20the%20large%20end;%5Cn%5Ctplace%20there%20in%20scope.%5Cn%5CnBefore%20searching%20the%20small%20end%20when%20the%20small%20end%20is%20not%20carried%20by%20the%20player:%5Cn%5Ctsay%20%22(first%20picking%20up%20%5Bthe%20small%20end%5D%20and%20holding%20it%20to%20your%20eye)%22;%5Cn%5Ctsilently%20try%20taking%20the%20small%20end.%5Cn%5CnInstead%20of%20searching%20the%20small%20end%20when%20the%20player%20is%20not%20carrying%20the%20small%20end:%5Cn%5Ctsay%20%22It's%20too%20hard%20to%20look%20through%20the%20small%20end%20from%20a%20distance.%22%5Cn%5CnInstead%20of%20searching%20the%20large%20end,%5Cn%5Ctsay%20%22You%20see%20only%20your%20own%20reflection.%22%5Cn%5Cn%5BWe%20also%20want%20to%20make%20sure%20that%20the%20player%20who%20looks%20through%20the%20small%20lense%20does%20not%20see%20the%20large%20lense%20listed%20among%20the%20contents%20of%20the%20other%20location:%5D%5Cn%5CnDefinition:%20a%20thing%20is%20recognizable%20if%20it%20is%20not%20a%20lense.%5Cn%5CnInstead%20of%20searching%20the%20small%20end:%5Cn%5Ctlet%20the%20far%20side%20be%20the%20holder%20of%20the%20large%20end%20of%20the%20telescope;%5Cn%5Ctsay%20%22You%20peer%20into%20the%20little%20lense%20and%20through%20it%20see,%20in%20%5Bthe%20far%20side%5D,%20%5Bthe%20list%20of%20recognizable%20things%20in%20the%20far%20side%5D.%22%5Cn%5CnTest%20me%20with%20%22examine%20lense%20/%20south%20/%20examine%20lense%20/%20look%20through%20lense%20/%20north%20/%20look%20through%20small%20lense%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Ginger Beer"
</p>
<p class="quoted">
The Ginger Beer Factory is a room.  "In the center of the room is an enormous pot filled with crushed ginger, which seems to be bubbling slightly on its own.  The fumes are overwhelming."
</p>
<p class="quoted">
The pot is scenery in the Ginger Beer Factory. The description of the pot is "Cast iron." In the pot is a bubbling brew.
</p>
<p class="quoted">
Instead of smelling the Ginger Beer Factory: try smelling the brew.
</p>
<p class="quoted">
Instead of smelling the brew, say "You blink back tears."
</p>
<p class="quoted">
The Storeroom is south of the Ginger Beer Factory.  "The walls here are lined with a prodigious number of small, rounded bottles, each with a screw top and a smiling pirate on the label."
</p>
<p class="quoted">
The Clippings Room is west of the Ginger Beer Factory. "A clean room lined with steel tables, for preparing ingredients."
</p>
<p class="quoted">
Some steel tables are a supporter in the Clippings Room.  They are scenery.  The description is "They are roughly the size and height of laboratory worksurfaces."
</p>
<p class="quoted">
The quantity of dandelion is on the steel tables.  The description is "Horrible common weed."
</p>
<p class="quoted">
The wooden box is on the steel tables.  It is openable and closed.  The description is "A large wooden box with a lid, used for ingredient storage.  There is a label on the lid."
</p>
<p class="quoted">
The label is part of the box.  The description is "BURDOCK: the root beaten with a little salt and laid on the place suddenly easeth the pain thereof, and helpeth those that are bit by a mad dog:... the seed being drunk in wine 40 days together doth wonderfully help the sciatica: the leaves bruised with the white of an egg and applied to any place burnt with fire, taketh out the fire, gives sudden ease and heals it up afterwards.... The root may be preserved with sugar for consumption, stone and the lax."
</p>
<p class="quoted">
The quantity of burdock is in the box.  The description is "It looks like a kind of thistle."
</p>
<p class="quoted">
Some bottles are in the Storeroom.  They are scenery.  The description is "They are smaller than the average bottle, because more potent."  Instead of taking the bottles, say "Take one away and the whole lineup will cascade to the floor."
</p>
</div>
<p>Now for the lenses themselves:</p>

<div class="code">
<p class="quoted">
A lense is a kind of thing.
</p>
<p class="quoted">
The large end of the telescope is a lense in the Ginger Beer Factory.  "There is a large glass lense propped against the wall, in which are reflected all the contents of the room."  Understand "glass" or "lense" as the large end.
</p>
<p class="quoted">
The small end of the telescope is a lense in the Storeroom.  "There is a small glass lense sitting on the floor.  Due to some curious effect of the optics, it appears to be giving a view of somewhere else entirely."  Understand "glass" or "lense" as the small end.  The description is "A gleaming lense about the size of a pound coin."
</p>
</div>
<p>Here is the critical bit, which needs to be somewhat flexible, since the large end of the telescope could in theory be left anywhere in the game (and should still work).</p>

<div class="code">
<p class="quoted">
After deciding the scope of the player while the small end is carried by the player:
<br>    let there be the holder of the large end;
<br>    place there in scope.
</p>
<p class="quoted">
Before searching the small end when the small end is not carried by the player:
<br>    say "(first picking up [the small end] and holding it to your eye)";
<br>    silently try taking the small end.
</p>
<p class="quoted">
Instead of searching the small end when the player is not carrying the small end:
<br>    say "It's too hard to look through the small end from a distance."
</p>
<p class="quoted">
Instead of searching the large end,
<br>    say "You see only your own reflection."
</p>
</div>
<p>We also want to make sure that the player who looks through the small lense does not see the large lense listed among the contents of the other location:</p>

<div class="code">
<p class="quoted">
Definition: a thing is recognizable if it is not a lense.
</p>
<p class="quoted">
Instead of searching the small end:
<br>    let the far side be the holder of the large end of the telescope;
<br>    say "You peer into the little lense and through it see, in [the far side], [the list of recognizable things in the far side]."
</p>
<p class="quoted">
Test me with "examine lense / south / examine lense / look through lense / north / look through small lense".
</p>
</div>
<p>And we're done.</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.29">WI §18.29. Deciding the scope of something</a><br><a href="rb_9.html#rb-9.11">RB §9.11. Clocks and Scientific Instruments</a>
</div></details>
</div></section>
<section class="section" id="rb-9.12"><div>





<h3>RB §9.12. Cameras and Recording Devices</h3>
<p>Recording what is going on, for later playing back or examination, is difficult because the range of situations is very complex. Exactly how much information should we store when we make a recording, and will this require problematically large tables? Will it be difficult even to do at all?</p>
<p>The usual approach is to record only basic details of events or situations. In <a href="rb_9.html#example-273" class="example-link" onClick="(function() { document.getElementById('example-273').setAttribute('open','open'); return true; })();">If It Hadn't Been For...</a><span class="example-difficulty"> ★</span> the tape recorder preserves only a few different sounds - footsteps, creaking, rustling - rather than capturing exactly the sound of every action taking place in earshot. In <a href="rb_9.html#example-322" class="example-link" onClick="(function() { document.getElementById('example-322').setAttribute('open','open'); return true; })();">Claims Adjustment</a><span class="example-difficulty"> ★★</span>, we can take up to 36 Polaroid-style photographs, but each is described only by saying what it is a photo of. Thus we can have a photograph of a vase, or even a photograph of a photograph of a vase (because that too is a thing), but not a photograph of a still life in which several items have been gathered together by the player. That would ordinarily require too much storage.</p>
<p>A similar trick, though involving impromptu sculpture rather than photography, can be found in <a href="rb_9.html#example-368" class="example-link" onClick="(function() { document.getElementById('example-368').setAttribute('open','open'); return true; })();">Originals</a><span class="example-difficulty"> ★</span>. (The artist magically "manifests" these models rather than sculpting the conventional way in order to avoid the nuisance of carrying around raw materials - wax maquettes and so forth - which would clutter up the example.)</p>
<p>Text, of course, can store arbitrary descriptions. <a href="rb_9.html#example-416" class="example-link" onClick="(function() { document.getElementById('example-416').setAttribute('open','open'); return true; })();">Mirror, Mirror</a><span class="example-difficulty"> ★</span> provides a perfect visual recorder: it remembers a room description exactly as the player saw it at the time.</p>
<p><a href="rb_9.html#example-221" class="example-link" onClick="(function() { document.getElementById('example-221').setAttribute('open','open'); return true; })();">Actor's Studio</a><span class="example-difficulty"> ★★</span> provides a video camera that records and time stamps all actions performed in its presence while it is set to record.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_9.html#rb-9.10" class="crossreference_link">Telephones</a> for ways to speak to inanimate objects, which might be appropriate when, say, tape-recording a confession</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-273"><summary><span class="example-summary">273. If It Hadn't Been For...</span> <span class="example-difficulty">★</span></summary><div>
<p>We start out by giving ourselves a capacious recording device:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22If%20It%20Hadn't%20Been%20For...%22%5Cn%5CnThe%20digital%20recorder%20is%20a%20device.%20The%20description%20is%20%22A%20noise-activated%20recorder,%20which%20time-stamps%20each%20recording%20segment.%20It%20has%20space%20for%20about%2060%20short%20recordings.%22%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20digital%20recorder%20is%20switched%20on%20and%20the%20number%20of%20blank%20rows%20in%20the%20Table%20of%20Recorded%20Content%20is%200,%20now%20the%20recorder%20is%20switched%20off.%5Cn%5CnTable%20of%20Recorded%20Content%5Cntime%20stamp%5Ctsound%5Cna%20time%5Ctsome%20text%5Cnwith%2060%20blank%20rows.%5Cn%5Cn%5BAnd%20most%20of%20what%20follows%20is%20attaching%20sounds%20to%20various%20events.%20(We%20could%20have%20made%20noises%20associated%20with%20all%20the%20actions,%20but%20for%20simplicity%20we%20stuck%20to%20a%20few.)%5D%5Cn%5Cn%5BThe%20thing%20to%20note%20here%20is%20that%20the%20recording%20happens%20as%20part%20of%20Carry%20out,%20not%20as%20part%20of%20Report,%20so%20sounds%20will%20be%20recorded%20even%20when%20they%20are%20the%20result%20of%20non-player%20action%20when%20the%20player%20is%20not%20even%20in%20the%20room.%5D%5Cn%5CnCarry%20out%20opening%20something%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%5Cn%5Ctrecord%20%22A%20creaking%20noise,%20as%20of%20something%20being%20opened.%22%5Cn%5CnCarry%20out%20someone%20opening%20something%20when%20the%20switched%20on%20recorder%20can%20see%20the%20noun:%5Cn%5Ctrecord%20%22A%20creaking%20noise,%20as%20of%20something%20being%20opened.%22%5Cn%5CnCarry%20out%20closing%20something%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%5Cn%5Ctrecord%20%22A%20creaking%20followed%20by%20a%20slam.%22%5Cn%5CnCarry%20out%20someone%20closing%20something%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%5Cn%5Ctrecord%20%22A%20creaking%20followed%20by%20a%20slam.%22%5Cn%5CnCarry%20out%20someone%20going%20to%20a%20room%20(called%20destination)%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%5Cn%5Ctif%20the%20destination%20is%20the%20holder%20of%20the%20recorder,%20record%20%22Footsteps,%20growing%20louder.%22;%5Cn%5Ctotherwise%20record%20%22Footsteps,%20fading%20out.%22%5Cn%5CnCarry%20out%20going%20to%20a%20room%20(called%20destination)%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%5Cn%5Ctif%20the%20destination%20is%20the%20holder%20of%20the%20recorder,%20record%20%22Footsteps,%20growing%20louder.%22;%5Cn%5Ctotherwise%20record%20%22Footsteps,%20fading%20out.%22%5Cn%5CnCarry%20out%20someone%20eating%20something%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%5Cn%5Ctrecord%20%22Loud%20uncouth%20chewing%20sounds.%22%5Cn%5CnCarry%20out%20eating%20something%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%5Cn%5Ctrecord%20%22Distant%20muffled%20chewing%20sounds.%22%5Cn%5CnTo%20record%20(noise%20-%20some%20text):%5Cn%5Ctif%20the%20number%20of%20blank%20rows%20in%20the%20Table%20of%20Recorded%20Content%20is%200,%20rule%20succeeds;%5Cn%5Ctchoose%20a%20blank%20row%20in%20the%20Table%20of%20Recorded%20Content;%5Cn%5Ctnow%20time%20stamp%20entry%20is%20the%20time%20of%20day;%5Cn%5Ctnow%20sound%20entry%20is%20noise.%5Cn%5CnUnderstand%20%22play%20%5Bsomething%5D%22%20as%20listening.%5Cn%5CnInstead%20of%20listening%20to%20the%20recorder:%5Cn%5Ctif%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Recorded%20Content%20is%200,%20say%20%22The%20recorder%20remains%20blank.%22%20instead;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Recorded%20Content:%5Cn%5Ct%5Ctsay%20%22%5Bline%20break%5D%5Btime%20stamp%20entry%5D:%20%5Bsound%20entry%5D%22;%5Cn%5Ctsay%20paragraph%20break.%5Cn%5CnThe%20Haunted%20House%20is%20a%20room.%20The%20squeaky%20cupboard%20is%20an%20openable%20enterable%20closed%20fixed%20in%20place%20container%20in%20the%20House.%20The%20ghost%20is%20a%20man%20in%20the%20cupboard.%20The%20Lawn%20is%20outside%20from%20the%20Haunted%20House.%5Cn%5CnInstead%20of%20opening%20the%20closed%20cupboard%20when%20the%20ghost%20is%20in%20the%20cupboard:%20say%20%22The%20cupboard%20stubbornly%20refuses%20to%20open.%22%5Cn%5CnEvery%20turn%20when%20the%20player%20is%20not%20in%20the%20House:%5Cn%5Ctif%20the%20ghost%20is%20in%20the%20cupboard:%5Cn%5Ct%5Cttry%20the%20ghost%20exiting;%5Cn%5Ctotherwise%20if%20the%20cupboard%20is%20open:%5Cn%5Ct%5Cttry%20the%20ghost%20closing%20the%20cupboard.%5Cn%5CnBefore%20someone%20exiting%20when%20the%20person%20asked%20is%20in%20a%20closed%20container%20(called%20the%20trap):%5Cn%5Cttry%20the%20person%20asked%20opening%20the%20trap.%5Cn%5CnBefore%20someone%20entering%20a%20closed%20container:%20try%20the%20person%20asked%20opening%20the%20noun.%5Cn%5CnBefore%20going%20to%20the%20House%20when%20the%20House%20contains%20the%20ghost:%5Cn%5Cttry%20the%20ghost%20entering%20the%20cupboard;%5Cn%5Cttry%20the%20ghost%20closing%20the%20cupboard.%5Cn%5CnThe%20player%20carries%20the%20recorder,%20chips,%20and%20a%20sandwich.%20The%20sandwich%20is%20edible.%20The%20chips%20are%20edible.%5Cn%5CnCarry%20out%20someone%20eating%20the%20chips%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%20record%20%22An%20incredible%20racket%20of%20a%20packet%20being%20opened.%22%20Carry%20out%20eating%20the%20chips%20in%20the%20presence%20of%20the%20switched%20on%20recorder:%20record%20%22An%20incredible%20racket%20of%20a%20packet%20being%20opened.%22%5Cn%5CnTest%20me%20with%20%22open%20cupboard%20/%20drop%20recorder%20/%20switch%20it%20on%20/%20eat%20chips%20/%20out%20/%20wait%20/%20wait%20/%20wait%20/%20in%20/%20switch%20recorder%20off%20/%20play%20recorder%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "If It Hadn't Been For..."
</p>
<p class="quoted">
The digital recorder is a device. The description is "A noise-activated recorder, which time-stamps each recording segment. It has space for about 60 short recordings."
</p>
<p class="quoted">
Every turn:
<br>    if the digital recorder is switched on and the number of blank rows in the Table of Recorded Content is 0, now the recorder is switched off.
</p>
<p class="quoted">
Table of Recorded Content
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">time stamp</p></td>
<td class="quotedtablecell"><p class="quoted">sound</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a time</p></td>
<td class="quotedtablecell"><p class="quoted">some text</p></td>
</tr>
<tr><td class="quotedtablecell"><p class="quoted">with 60 blank rows.</p></td></tr>
</table>
</div>
<p>And most of what follows is attaching sounds to various events. (We could have made noises associated with all the actions, but for simplicity we stuck to a few.)</p>
<p>The thing to note here is that the recording happens as part of Carry out, not as part of Report, so sounds will be recorded even when they are the result of non-player action when the player is not even in the room.</p>

<div class="code">
<p class="quoted">
Carry out opening something in the presence of the switched on recorder:
<br>    record "A creaking noise, as of something being opened."
</p>
<p class="quoted">
Carry out someone opening something when the switched on recorder can see the noun:
<br>    record "A creaking noise, as of something being opened."
</p>
<p class="quoted">
Carry out closing something in the presence of the switched on recorder:
<br>    record "A creaking followed by a slam."
</p>
<p class="quoted">
Carry out someone closing something in the presence of the switched on recorder:
<br>    record "A creaking followed by a slam."
</p>
<p class="quoted">
Carry out someone going to a room (called destination) in the presence of the switched on recorder:
<br>    if the destination is the holder of the recorder, record "Footsteps, growing louder.";
<br>    otherwise record "Footsteps, fading out."
</p>
<p class="quoted">
Carry out going to a room (called destination) in the presence of the switched on recorder:
<br>    if the destination is the holder of the recorder, record "Footsteps, growing louder.";
<br>    otherwise record "Footsteps, fading out."
</p>
<p class="quoted">
Carry out someone eating something in the presence of the switched on recorder:
<br>    record "Loud uncouth chewing sounds."
</p>
<p class="quoted">
Carry out eating something in the presence of the switched on recorder:
<br>    record "Distant muffled chewing sounds."
</p>
<p class="quoted">
To record (noise - some text):
<br>    if the number of blank rows in the Table of Recorded Content is 0, rule succeeds;
<br>    choose a blank row in the Table of Recorded Content;
<br>    now time stamp entry is the time of day;
<br>    now sound entry is noise.
</p>
<p class="quoted">
Understand "play [something]" as listening.
</p>
<p class="quoted">
Instead of listening to the recorder:
<br>    if the number of filled rows in the Table of Recorded Content is 0, say "The recorder remains blank." instead;
<br>    repeat through the Table of Recorded Content:
<br>        say "[line break][time stamp entry]: [sound entry]";
<br>    say paragraph break.
</p>
<p class="quoted">
The Haunted House is a room. The squeaky cupboard is an openable enterable closed fixed in place container in the House. The ghost is a man in the cupboard. The Lawn is outside from the Haunted House.
</p>
<p class="quoted">
Instead of opening the closed cupboard when the ghost is in the cupboard: say "The cupboard stubbornly refuses to open."
</p>
<p class="quoted">
Every turn when the player is not in the House:
<br>    if the ghost is in the cupboard:
<br>        try the ghost exiting;
<br>    otherwise if the cupboard is open:
<br>        try the ghost closing the cupboard.
</p>
<p class="quoted">
Before someone exiting when the person asked is in a closed container (called the trap):
<br>    try the person asked opening the trap.
</p>
<p class="quoted">
Before someone entering a closed container: try the person asked opening the noun.
</p>
<p class="quoted">
Before going to the House when the House contains the ghost:
<br>    try the ghost entering the cupboard;
<br>    try the ghost closing the cupboard.
</p>
<p class="quoted">
The player carries the recorder, chips, and a sandwich. The sandwich is edible. The chips are edible.
</p>
<p class="quoted">
Carry out someone eating the chips in the presence of the switched on recorder: record "An incredible racket of a packet being opened." Carry out eating the chips in the presence of the switched on recorder: record "An incredible racket of a packet being opened."
</p>
<p class="quoted">
Test me with "open cupboard / drop recorder / switch it on / eat chips / out / wait / wait / wait / in / switch recorder off / play recorder".
</p>
</div>
<p>Now we're at liberty to record evidence of the ghost getting out of the cupboard and getting back in, while we ourselves stand about on the lawn.</p>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.9">WI §16.9. Blank rows</a><br><a href="rb_9.html#rb-9.12">RB §9.12. Cameras and Recording Devices</a>
</div></details><details class="full-example" id="example-368"><summary><span class="example-summary">368. Originals</span> <span class="example-difficulty">★</span></summary><div>
<p>We rely here on the understanding-by-relations rules we've already learned, but there is an additional trick: we want to make sure that if the player types "original" or "actual", this word will not be taken to refer to the thing modeled:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Originals%22%5Cn%5CnA%20model%20is%20a%20kind%20of%20thing.%20100%20models%20are%20in%20the%20model-repository.%5Cn%5CnAppearance%20relates%20one%20thing%20to%20various%20models.%20The%20verb%20to%20be%20shown%20by%20means%20the%20appearance%20relation.%5Cn%5CnIndication%20relates%20a%20model%20(called%20X)%20to%20a%20thing%20(called%20Y)%20when%20Y%20is%20shown%20by%20X%20and%20Y%20is%20suitable.%5Cn%5CnUnderstand%20%22actual%22%20or%20%22original%22%20as%20%22%5Bactual%5D%22.%20Understand%20%22%5Bactual%5D%22%20as%20something%20when%20the%20item%20described%20is%20not%20a%20model.%5Cn%5CnDefinition:%20a%20thing%20is%20suitable:%5Cn%5Ctif%20the%20player's%20command%20includes%20%22%5Bactual%5D%22,%20no;%5Cn%5Ctyes.%5Cn%5CnUnderstand%20%22%5Bsomething%20related%20by%20indication%5D%22%20as%20a%20model.%5Cn%5CnAfter%20printing%20the%20name%20of%20a%20model%20(called%20target):%20say%20%22%20%5Brandom%20thing%20shown%20by%20the%20target%5D%22%5Cn%5Cn%5BNow%20our%20duplication%20command%20--%20for%20the%20sake%20of%20simplicity,%20we'll%20suppose%20that%20in%20this%20scenario%20the%20player%20is%20duplicating%20objects%20by%20magic%20rather%20than%20creating%20them%20out%20of%20physical%20materials%20or%20supplies:%5D%5Cn%5CnUnderstand%20%22duplicate%20%5Bsomething%5D%22%20as%20duplicating.%20Duplicating%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnThe%20duplicating%20action%20has%20an%20object%20called%20the%20selected%20model.%5Cn%5CnSetting%20action%20variables%20for%20duplicating:%5Cn%5Ctlet%20N%20be%20a%20random%20model%20in%20the%20model-repository;%5Cn%5Ctnow%20the%20selected%20model%20is%20N.%5Cn%5CnCheck%20duplicating:%5Cn%5Ctif%20the%20selected%20model%20is%20nothing,%20say%20%22You're%20out%20of%20power.%22%20instead.%5Cn%5CnCarry%20out%20duplicating:%5Cn%5Ctnow%20the%20noun%20is%20shown%20by%20the%20selected%20model;%5Cn%5Ctmove%20the%20selected%20model%20to%20the%20player.%5Cn%5CnReport%20duplicating:%5Cn%5Ctsay%20%22You%20concentrate%20and%20manifest%20%5Ba%20selected%20model%5D.%22%5Cn%5Cn%5BNow,%20the%20challenge%20is%20that%20we%20want%20to%20print%20the%20word%20%22actual%22%20before%20printing%20the%20name%20of%20an%20object,%20but%20only%20during%20disambiguation%20questions%20and%20only%20when%20we%20are%20not%20printing%20the%20name%20of%20the%20object%20as%20part%20of%20a%20model-name!%20(If%20we%20are%20not%20careful%20about%20the%20latter%20point,%20we%20will%20get%20responses%20such%20as%20%22Which%20do%20you%20mean,%20the%20model%20actual%20deer%20or%20the%20actual%20deer?%22%20which%20of%20course%20defeats%20the%20whole%20purpose.%5D%5Cn%5Cn%5BThe%20way%20around%20this%20is%20to%20remember%20that%20activities%20stack:%20we're%20printing%20the%20name%20of%20the%20deer%20while%20printing%20the%20name%20of%20a%20model%20that%20involves%20the%20deer.%20So%20if%20we%20set%20a%20flag%20while%20printing%20the%20name%20of%20a%20model,%20we%20can%20control%20the%20way%20the%20deer's%20name%20prints%20during%20the%20transaction.%20(We%20could%20use%20our%20...while%20clause%20to%20specify%20while%20not%20printing%20the%20name%20of%20a%20model,%20except%20that%20we're%20already%20using%20it%20for%20%22while%20asking%20which%20do%20you%20mean%22,%20and%20these%20do%20not%20stack.)%20So:%5D%5Cn%5CnThe%20virtual-context%20is%20a%20truth%20state%20that%20varies.%20The%20virtual-context%20is%20false.%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20model:%5Cn%5Ctnow%20virtual-context%20is%20true.%5Cn%5CnAfter%20printing%20the%20name%20of%20a%20model:%5Cn%5Ctnow%20virtual-context%20is%20false.%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20(called%20target)%20while%20asking%20which%20do%20you%20mean:%5Cn%5Ctif%20the%20target%20is%20not%20a%20model%20and%20virtual-context%20is%20false:%5Cn%5Ct%5Ctsay%20%22actual%20%22.%5Cn%5CnForest%20is%20a%20room.%20It%20contains%20a%20deer%20and%20a%20daisy.%20The%20deer%20is%20an%20animal.%5Cn%5CnTest%20me%20with%20%22duplicate%20deer%20/%20x%20model%20deer%20/%20x%20deer%20model%20/%20drop%20deer%20/%20x%20deer%20/%20actual%20/%20x%20deer%20/%20model%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Originals"
</p>
<p class="quoted">
A model is a kind of thing. 100 models are in the model-repository.
</p>
<p class="quoted">
Appearance relates one thing to various models. The verb to be shown by means the appearance relation.
</p>
<p class="quoted">
Indication relates a model (called X) to a thing (called Y) when Y is shown by X and Y is suitable.
</p>
<p class="quoted">
Understand "actual" or "original" as "[actual]". Understand "[actual]" as something when the item described is not a model.
</p>
<p class="quoted">
Definition: a thing is suitable:
<br>    if the player's command includes "[actual]", no;
<br>    yes.
</p>
<p class="quoted">
Understand "[something related by indication]" as a model.
</p>
<p class="quoted">
After printing the name of a model (called target): say " [random thing shown by the target]"
</p>
</div>
<p>Now our duplication command -- for the sake of simplicity, we'll suppose that in this scenario the player is duplicating objects by magic rather than creating them out of physical materials or supplies:</p>

<div class="code">
<p class="quoted">
Understand "duplicate [something]" as duplicating. Duplicating is an action applying to one visible thing.
</p>
<p class="quoted">
The duplicating action has an object called the selected model.
</p>
<p class="quoted">
Setting action variables for duplicating:
<br>    let N be a random model in the model-repository;
<br>    now the selected model is N.
</p>
<p class="quoted">
Check duplicating:
<br>    if the selected model is nothing, say "You're out of power." instead.
</p>
<p class="quoted">
Carry out duplicating:
<br>    now the noun is shown by the selected model;
<br>    move the selected model to the player.
</p>
<p class="quoted">
Report duplicating:
<br>    say "You concentrate and manifest [a selected model]."
</p>
</div>
<p>Now, the challenge is that we want to print the word "actual" before printing the name of an object, but only during disambiguation questions and only when we are not printing the name of the object as part of a model-name! (If we are not careful about the latter point, we will get responses such as "Which do you mean, the model actual deer or the actual deer?" which of course defeats the whole purpose.</p>
<p>The way around this is to remember that activities stack: we're printing the name of the deer while printing the name of a model that involves the deer. So if we set a flag while printing the name of a model, we can control the way the deer's name prints during the transaction. (We could use our ...while clause to specify while not printing the name of a model, except that we're already using it for "while asking which do you mean", and these do not stack.) So:</p>

<div class="code">
<p class="quoted">
The virtual-context is a truth state that varies. The virtual-context is false.
</p>
<p class="quoted">
Before printing the name of a model:
<br>    now virtual-context is true.
</p>
<p class="quoted">
After printing the name of a model:
<br>    now virtual-context is false.
</p>
<p class="quoted">
Before printing the name of something (called target) while asking which do you mean:
<br>    if the target is not a model and virtual-context is false:
<br>        say "actual ".
</p>
<p class="quoted">
Forest is a room. It contains a deer and a daisy. The deer is an animal.
</p>
<p class="quoted">
Test me with "duplicate deer / x model deer / x deer model / drop deer / x deer / actual / x deer / model".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.31">WI §18.31. Asking which do you mean</a><br><a href="rb_9.html#rb-9.12">RB §9.12. Cameras and Recording Devices</a>
</div></details><details class="full-example" id="example-416"><summary><span class="example-summary">416. Mirror, Mirror</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Mirror,%20Mirror%22%5Cn%5CnThe%20Sorcerer's%20Workshop%20is%20a%20room.%20%22The%20sorcerer's%20den%20is%20a%20dusty,%20whispering%20place.%20A%20grandfather%20clock%20with%20skeletal%20hands%20reads%20%5Bthe%20time%20of%20day%20in%20words%5D.%20The%20floorboards%20are%20stained%20where%20that%20porridge%20just%20wouldn't%20come%20out.%22%5Cn%5CnThe%20Apprentice's%20Pantry%20is%20east%20of%20the%20Workshop.%20%22This%20is%20where%20the%20aproned%20apprentice%20traditionally%20makes%20the%20camomile%20tea,%20cleans%20out%20the%20jackdaw%20cages%20and%20furtively%20examines%20purloined%20artefacts.%22%5Cn%5CnWhen%20play%20begins:%20erase%20the%20mirror.%5Cn%5CnThe%20player%20carries%20a%20magic%20mirror.%20The%20magic%20mirror%20has%20a%20text%20called%20the%20mirror%20vision.%5Cn%5CnTo%20erase%20the%20mirror:%20now%20mirror%20vision%20of%20the%20mirror%20is%20%22The%20mirror%20is%20polished%20clean,%20and%20has%20no%20impression%20upon%20it.%22%5Cn%5CnTo%20say%20current%20room%20description:%20try%20looking.%5CnTo%20expose%20the%20mirror:%5Cn%5Ctsay%20%22The%20mirror%20shines%20momentarily%20with%20a%20dazzling%20light.%5Bparagraph%20break%5D%22;%5Cn%5Ctnow%20mirror%20vision%20of%20the%20mirror%20is%20the%20substituted%20form%20of%20%22The%20hazy%20image%20in%20the%20mirror%20preserves%20a%20past%20sight:%5Bline%20break%5D%5Bcurrent%20room%20description%5DAll%20is%20distorted%20and%20yet%20living,%20as%20though%20the%20past%20and%20present%20are%20coterminous%20in%20the%20mirror.%22%5Cn%5CnUnderstand%20%22hold%20up%20%5Bsomething%20preferably%20held%5D%22%20or%20%22hold%20%5Bsomething%20preferably%20held%5D%20up%22%20as%20holding%20aloft.%20Holding%20aloft%20is%20an%20action%20applying%20to%20one%20carried%20thing.%20Report%20holding%20aloft:%20say%20%22You%20hold%20%5Bthe%20noun%5D%20aloft.%22%5Cn%5CnInstead%20of%20rubbing%20the%20mirror:%20erase%20the%20mirror;%20try%20examining%20the%20mirror.%20Instead%20of%20holding%20aloft%20the%20mirror:%20expose%20the%20mirror.%5Cn%5CnThe%20description%20of%20the%20mirror%20is%20%22%5Bmirror%20vision%20of%20the%20mirror%5D%22.%5Cn%5CnTest%20me%20with%20%22look%20/%20examine%20mirror%20/%20hold%20up%20mirror%20/%20z%20/%20look%20/%20x%20mirror%20/%20rub%20mirror%20/%20east%20/%20hold%20mirror%20up%20/%20west%20/%20x%20mirror%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Mirror, Mirror"
</p>
<p class="quoted">
The Sorcerer's Workshop is a room. "The sorcerer's den is a dusty, whispering place. A grandfather clock with skeletal hands reads [the time of day in words]. The floorboards are stained where that porridge just wouldn't come out."
</p>
<p class="quoted">
The Apprentice's Pantry is east of the Workshop. "This is where the aproned apprentice traditionally makes the camomile tea, cleans out the jackdaw cages and furtively examines purloined artefacts."
</p>
<p class="quoted">
When play begins: erase the mirror.
</p>
<p class="quoted">
The player carries a magic mirror. The magic mirror has a text called the mirror vision.
</p>
<p class="quoted">
To erase the mirror: now mirror vision of the mirror is "The mirror is polished clean, and has no impression upon it."
</p>
<p class="quoted">
To say current room description: try looking.
<br>To expose the mirror:
<br>    say "The mirror shines momentarily with a dazzling light.[paragraph break]";
<br>    now mirror vision of the mirror is the substituted form of "The hazy image in the mirror preserves a past sight:[line break][current room description]All is distorted and yet living, as though the past and present are coterminous in the mirror."
</p>
<p class="quoted">
Understand "hold up [something preferably held]" or "hold [something preferably held] up" as holding aloft. Holding aloft is an action applying to one carried thing. Report holding aloft: say "You hold [the noun] aloft."
</p>
<p class="quoted">
Instead of rubbing the mirror: erase the mirror; try examining the mirror. Instead of holding aloft the mirror: expose the mirror.
</p>
<p class="quoted">
The description of the mirror is "[mirror vision of the mirror]".
</p>
<p class="quoted">
Test me with "look / examine mirror / hold up mirror / z / look / x mirror / rub mirror / east / hold mirror up / west / x mirror".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_20.html#wi-20.7">WI §20.7. Making new text with text substitutions</a><br><a href="rb_9.html#rb-9.12">RB §9.12. Cameras and Recording Devices</a>
</div></details><details class="full-example" id="example-221"><summary><span class="example-summary">221. Actor's Studio</span> <span class="example-difficulty">★★</span></summary><div>
<p>Here we construct a video camera to track and play back actions:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Actor's%20Studio%22%5Cn%5CnSection%201%20-%20The%20Video%20Camera%5Cn%5CnThe%20video%20camera%20is%20a%20thing%20carried%20by%20the%20player.%5Cn%5CnTable%20of%20Videotape%5Cnrecorded%20action%5Cttime%20stamp%5Cnwaiting%5Ct9:00%20AM%5Cnwith%2025%20blank%20rows.%5Cn%5CnMode%20is%20a%20kind%20of%20value.%20The%20modes%20are%20idle,%20recording,%20and%20playing%20back.%20The%20video%20camera%20has%20a%20mode.%20The%20video%20camera%20is%20idle.%5Cn%5CnUnderstand%20%22play%20back%22%20as%20playing%20back.%20Instead%20of%20switching%20on%20the%20camera,%20try%20tuning%20the%20camera%20to%20recording.%20Instead%20of%20switching%20off%20the%20camera,%20try%20tuning%20the%20camera%20to%20idle.%5Cn%5CnThe%20description%20of%20the%20video%20camera%20is%20%22It%20is%20currently%20%5Bmode%5D;%20its%20available%20settings%20are%20idle,%20recording,%20and%20playing%20back.%22%5Cn%5CnUnderstand%20%22set%20%5Bcamera%5D%20to%20%5Ba%20mode%5D%22%20as%20tuning%20it%20to.%20Tuning%20it%20to%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20mode.%5Cn%5CnInstead%20of%20setting%20the%20camera%20to%20something:%5Cn%5Ctsay%20%22The%20available%20settings%20are%20idle,%20recording,%20and%20playing%20back.%22%5Cn%5CnCheck%20tuning%20it%20to:%5Cn%5Ctif%20the%20noun%20is%20not%20the%20camera,%20say%20%22Only%20the%20video%20camera%20can%20be%20set%20to%20%5Bthe%20mode%20understood%5D.%22%20instead.%5Cn%5CnCarry%20out%20tuning%20it%20to:%5Cn%5Ctnow%20the%20mode%20of%20the%20noun%20is%20the%20mode%20understood.%5Cn%5CnReport%20tuning%20it%20to:%5Cn%5Ctsay%20%22You%20set%20%5Bthe%20noun%5D%20to%20%5Bmode%20understood%5D.%22%5Cn%5CnAfter%20an%20actor%20doing%20something%20when%20the%20video%20camera%20is%20recording:%5Cn%5Ctif%20the%20current%20action%20is%20tuning%20the%20video%20camera%20to%20recording,%20make%20no%20decision;%5Cn%5Ctif%20the%20number%20of%20blank%20rows%20in%20the%20Table%20of%20Videotape%20is%20greater%20than%20zero:%5Cn%5Ct%5Ctchoose%20a%20blank%20row%20in%20the%20Table%20of%20Videotape;%5Cn%5Ct%5Ctnow%20the%20recorded%20action%20entry%20is%20the%20current%20action;%5Cn%5Ct%5Ctnow%20the%20time%20stamp%20entry%20is%20the%20time%20of%20day;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctnow%20the%20video%20camera%20is%20idle;%5Cn%5Ct%5Ctsay%20%22The%20video%20camera%20runs%20out%20of%20recording%20memory%20and%20switches%20off.%22;%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnEvery%20turn%20when%20the%20video%20camera%20is%20playing%20back:%5Cn%5Ctsay%20%22On%20the%20camera%20screen,%20you%20see%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctlet%20starting%20playback%20be%20false;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Videotape:%5Cn%5Ct%5Ctif%20the%20recorded%20action%20entry%20is%20not%20waiting:%5Cn%5Ct%5Ct%5Ctnow%20starting%20playback%20is%20true;%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bline%20break%5D%20--%20%5Bif%20the%20actor%20part%20of%20the%20recorded%20action%20entry%20is%20the%20player%5Dyou%20%5Bend%20if%5D%5Bthe%20recorded%20action%20entry%5D,%20time%20stamped%20at%20%5Btime%20stamp%20entry%5D%22;%5Cn%5Ct%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ctif%20starting%20playback%20is%20false,%20say%20%22only%20static.%22;%5Cn%5Ctotherwise%20say%20paragraph%20break.%5Cn%5CnSection%202%20-%20The%20Scenario%5Cn%5CnThe%20Actor's%20Studio%20is%20a%20room.%20Lucas%20is%20a%20man%20in%20the%20Actor's%20Studio.%20Persuasion%20rule:%20persuasion%20succeeds.%5Cn%5CnThe%20Studio%20contains%20an%20edible%20thing%20called%20a%20croissant.%5Cn%5CnTest%20me%20with%20%22set%20camera%20to%20recording%20/%20x%20lucas%20/%20lucas,%20take%20inventory%20/%20lucas,%20eat%20croissant%20/%20set%20camera%20to%20playing%20back%20/%20z%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Actor's Studio"
</p>
<p class="quoted">
Section 1 - The Video Camera
</p>
<p class="quoted">
The video camera is a thing carried by the player.
</p>
<p class="quoted">
Table of Videotape
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">recorded action</p></td>
<td class="quotedtablecell"><p class="quoted">time stamp</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">waiting</p></td>
<td class="quotedtablecell"><p class="quoted">9:00 AM</p></td>
</tr>
<tr><td class="quotedtablecell"><p class="quoted">with 25 blank rows.</p></td></tr>
</table>
<p class="quoted">
Mode is a kind of value. The modes are idle, recording, and playing back. The video camera has a mode. The video camera is idle.
</p>
<p class="quoted">
Understand "play back" as playing back. Instead of switching on the camera, try tuning the camera to recording. Instead of switching off the camera, try tuning the camera to idle.
</p>
<p class="quoted">
The description of the video camera is "It is currently [mode]; its available settings are idle, recording, and playing back."
</p>
<p class="quoted">
Understand "set [camera] to [a mode]" as tuning it to. Tuning it to is an action applying to one thing and one mode.
</p>
<p class="quoted">
Instead of setting the camera to something:
<br>    say "The available settings are idle, recording, and playing back."
</p>
<p class="quoted">
Check tuning it to:
<br>    if the noun is not the camera, say "Only the video camera can be set to [the mode understood]." instead.
</p>
<p class="quoted">
Carry out tuning it to:
<br>    now the mode of the noun is the mode understood.
</p>
<p class="quoted">
Report tuning it to:
<br>    say "You set [the noun] to [mode understood]."
</p>
<p class="quoted">
After an actor doing something when the video camera is recording:
<br>    if the current action is tuning the video camera to recording, make no decision;
<br>    if the number of blank rows in the Table of Videotape is greater than zero:
<br>        choose a blank row in the Table of Videotape;
<br>        now the recorded action entry is the current action;
<br>        now the time stamp entry is the time of day;
<br>    otherwise:
<br>        now the video camera is idle;
<br>        say "The video camera runs out of recording memory and switches off.";
<br>    continue the action.
</p>
<p class="quoted">
Every turn when the video camera is playing back:
<br>    say "On the camera screen, you see [run paragraph on]";
<br>    let starting playback be false;
<br>    repeat through the Table of Videotape:
<br>        if the recorded action entry is not waiting:
<br>            now starting playback is true;
<br>            say "[line break] -- [if the actor part of the recorded action entry is the player]you [end if][the recorded action entry], time stamped at [time stamp entry]";
<br>            blank out the whole row;
<br>    if starting playback is false, say "only static.";
<br>    otherwise say paragraph break.
</p>
<p class="quoted">
Section 2 - The Scenario
</p>
<p class="quoted">
The Actor's Studio is a room. Lucas is a man in the Actor's Studio. Persuasion rule: persuasion succeeds.
</p>
<p class="quoted">
The Studio contains an edible thing called a croissant.
</p>
<p class="quoted">
Test me with "set camera to recording / x lucas / lucas, take inventory / lucas, eat croissant / set camera to playing back / z".
</p>
</div>
<p>Notice that both Lucas' implied taking action (picking up the croissant) and his eating action are recorded on the same move.</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.20">WI §12.20. Stored actions</a><br><a href="rb_9.html#rb-9.12">RB §9.12. Cameras and Recording Devices</a>
</div></details><details class="full-example" id="example-322"><summary><span class="example-summary">322. Claims Adjustment</span> <span class="example-difficulty">★★</span></summary><div>
<p>We start by creating a camera and a photograph object. As usual when we want to have a kind of object that can be dispensed in bulk, we start off with a bunch of identical instances of the object out of play (in this case, kept in an out-of-play container called "film roll"); we can then move them into play and give them characteristics when they're needed.</p>
<p>Each photograph can depict exactly one thing -- we're assuming that the player is not a landscape photographer here -- so we create a relation to indicate what is shown by each photograph. We'll then use that relation to determine how photographs are described, named, and parsed:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Claims%20Adjustment%22%5Cn%5CnA%20photograph%20is%20a%20kind%20of%20thing.%2036%20photographs%20are%20in%20the%20film%20roll.%5Cn%5CnAppearance%20relates%20one%20thing%20to%20various%20photographs.%20The%20verb%20to%20be%20shown%20by%20means%20the%20appearance%20relation.%5Cn%5CnThe%20description%20of%20a%20photograph%20is%20usually%20%22It%20shows%20%5Ba%20random%20thing%20which%20is%20shown%20by%20the%20item%20described%5D.%22%5Cn%5CnUnderstand%20%22of%20%5Bsomething%20related%20by%20reversed%20appearance%5D%22%20as%20a%20photograph.%5Cn%5Cn%5BThis%20allows%20the%20player%20to%20refer%20to%20any%20photograph%20by%20its%20subject:%20useful%20if%20we%20have%20a%20large%20number%20of%20them.%5D%5Cn%5Cn%5BNow%20we%20create%20an%20action%20to%20let%20the%20player%20use%20the%20camera%20and%20generate%20these%20photograph%20objects:%5D%5Cn%5CnThe%20player%20carries%20a%20cheap%20instant%20camera.%5Cn%5CnUnderstand%20%22photograph%20%5Bsomething%5D%20with%20%5Bcamera%5D%22%20as%20photographing.%20Understand%20%22photograph%20%5Bsomething%5D%20with%20%5Bsomething%20preferably%20held%5D%22%20as%20photographing.%20Photographing%20is%20an%20action%20applying%20to%20one%20visible%20thing%20and%20one%20carried%20thing,%20requiring%20light.%5Cn%5CnThe%20photographing%20action%20has%20an%20object%20called%20the%20selected%20film.%5Cn%5CnSetting%20action%20variables%20for%20photographing:%5Cn%5Ctlet%20N%20be%20a%20random%20photograph%20in%20the%20film%20roll;%5Cn%5Ctnow%20the%20selected%20film%20is%20N.%5Cn%5CnCheck%20photographing:%5Cn%5Ctif%20the%20second%20noun%20is%20not%20the%20camera,%20say%20%22You%20need%20a%20camera%20for%20that%20purpose.%22%20instead.%5Cn%5CnCheck%20photographing:%5Cn%5Ctif%20the%20noun%20is%20the%20camera,%20say%20%22Sadly%20impossible.%22%20instead.%5Cn%5CnCheck%20photographing:%5Cn%5Ctif%20the%20selected%20film%20is%20nothing,%20say%20%22You're%20out%20of%20film.%22%20instead.%5Cn%5CnCarry%20out%20photographing:%5Cn%5Ctnow%20the%20noun%20is%20shown%20by%20the%20selected%20film;%5Cn%5Ctmove%20the%20selected%20film%20to%20the%20player.%5Cn%5CnReport%20photographing:%5Cn%5Ctsay%20%22Your%20camera%20instantly%20spits%20out%20%5Ba%20selected%20film%5D.%22%5Cn%5Cn%5BNow%20we%20use%20two%20activities%20from%20the%20Activities%20chapter%20to%20describe%20the%20photographs%20to%20the%20player%20more%20elegantly:%5D%5Cn%5CnAfter%20printing%20the%20name%20of%20a%20photograph%20(called%20target):%5Cn%5Ctsay%20%22%20of%20%5Ba%20random%20thing%20which%20is%20shown%20by%20the%20target%5D%22.%5Cn%5CnAfter%20printing%20the%20plural%20name%20of%20a%20photograph%20(called%20target):%5Cn%5Ctlet%20N%20be%20the%20holder%20of%20the%20target;%5Cn%5Ctsay%20%22%20of%20%5Ba%20list%20of%20things%20which%20are%20shown%20by%20photographs%20which%20are%20held%20by%20N%5D%22;%5Cn%5Ctif%20the%20number%20of%20things%20which%20are%20shown%20by%20photographs%20which%20are%20held%20by%20N%20is%20greater%20than%20one,%20say%20%22%20(variously)%22.%5Cn%5Cn%5BAnd%20finally%20we%20provide%20a%20brief%20scenario%20to%20give%20the%20player%20something%20to%20take%20pictures%20of:%5D%5Cn%5CnThe%20Treasure%20Room%20is%20a%20room.%20%22Despite%20the%20fancy%20name,%20this%20is%20no%20more%20than%20a%20closet%20--%20albeit%20a%20closet%20with%20its%20own%20special%20circuit%20on%20the%20house%20alarm.%22%5Cn%5CnThe%20Treasure%20Room%20contains%20a%20small%20Degas,%20a%20Ming%20vase,%20and%20a%20collection%20of%20South%20African%20krugerrands.%20The%20player%20is%20carrying%20insurance%20forms,%20a%20first-class%20stamp,%20and%20a%20security%20envelope.%5Cn%5CnThe%20description%20of%20the%20forms%20is%20%22Completely%20filled%20out%20in%20black%20ink%20in%20block%20letters:%20now%20all%20you%20need%20to%20do%20is%20attach%20photographic%20evidence%20of%20the%20objects%20you%20wish%20to%20insure.%22%5Cn%5CnTest%20me%20with%20%22photograph%20degas%20/%20i%20/%20photograph%20degas%20/%20i%20/%20x%20photograph%20of%20degas%20/%20photograph%20me%20/%20x%20photograph%20of%20me%20/%20i%20/%20photograph%20vase%20/%20photograph%20camera%20/%20photograph%20collection%20/%20g%20/%20i%20/%20test%20more%22.%5Cn%5CnTest%20more%20with%20%22x%20photograph%20of%20collection%20/%20x%20photograph%20of%20krugerrands%20/%20x%20photograph%20of%20collection%20of%20south%20african%20krugerrands%20/%20photograph%20photograph%20of%20degas%20/%20x%20photograph%20of%20photograph%20of%20degas%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Claims Adjustment"
</p>
<p class="quoted">
A photograph is a kind of thing. 36 photographs are in the film roll.
</p>
<p class="quoted">
Appearance relates one thing to various photographs. The verb to be shown by means the appearance relation.
</p>
<p class="quoted">
The description of a photograph is usually "It shows [a random thing which is shown by the item described]."
</p>
<p class="quoted">
Understand "of [something related by reversed appearance]" as a photograph.
</p>
</div>
<p>This allows the player to refer to any photograph by its subject: useful if we have a large number of them.</p>
<p>Now we create an action to let the player use the camera and generate these photograph objects:</p>

<div class="code">
<p class="quoted">
The player carries a cheap instant camera.
</p>
<p class="quoted">
Understand "photograph [something] with [camera]" as photographing. Understand "photograph [something] with [something preferably held]" as photographing. Photographing is an action applying to one visible thing and one carried thing, requiring light.
</p>
<p class="quoted">
The photographing action has an object called the selected film.
</p>
<p class="quoted">
Setting action variables for photographing:
<br>    let N be a random photograph in the film roll;
<br>    now the selected film is N.
</p>
<p class="quoted">
Check photographing:
<br>    if the second noun is not the camera, say "You need a camera for that purpose." instead.
</p>
<p class="quoted">
Check photographing:
<br>    if the noun is the camera, say "Sadly impossible." instead.
</p>
<p class="quoted">
Check photographing:
<br>    if the selected film is nothing, say "You're out of film." instead.
</p>
<p class="quoted">
Carry out photographing:
<br>    now the noun is shown by the selected film;
<br>    move the selected film to the player.
</p>
<p class="quoted">
Report photographing:
<br>    say "Your camera instantly spits out [a selected film]."
</p>
</div>
<p>Now we use two activities from the Activities chapter to describe the photographs to the player more elegantly:</p>

<div class="code">
<p class="quoted">
After printing the name of a photograph (called target):
<br>    say " of [a random thing which is shown by the target]".
</p>
<p class="quoted">
After printing the plural name of a photograph (called target):
<br>    let N be the holder of the target;
<br>    say " of [a list of things which are shown by photographs which are held by N]";
<br>    if the number of things which are shown by photographs which are held by N is greater than one, say " (variously)".
</p>
</div>
<p>And finally we provide a brief scenario to give the player something to take pictures of:</p>

<div class="code">
<p class="quoted">
The Treasure Room is a room. "Despite the fancy name, this is no more than a closet -- albeit a closet with its own special circuit on the house alarm."
</p>
<p class="quoted">
The Treasure Room contains a small Degas, a Ming vase, and a collection of South African krugerrands. The player is carrying insurance forms, a first-class stamp, and a security envelope.
</p>
<p class="quoted">
The description of the forms is "Completely filled out in black ink in block letters: now all you need to do is attach photographic evidence of the objects you wish to insure."
</p>
<p class="quoted">
Test me with "photograph degas / i / photograph degas / i / x photograph of degas / photograph me / x photograph of me / i / photograph vase / photograph camera / photograph collection / g / i / test more".
</p>
<p class="quoted">
Test more with "x photograph of collection / x photograph of krugerrands / x photograph of collection of south african krugerrands / photograph photograph of degas / x photograph of photograph of degas".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.16">WI §17.16. Understanding things by their relations</a><br><a href="rb_9.html#rb-9.12">RB §9.12. Cameras and Recording Devices</a>
</div></details>
</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/RB_9_1.html">RB Chapter 9 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_8.html#rb-chapter-8-vehicles-animals-and-furniture">8. Vehicles, Animals and Furniture</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_10.html#rb-chapter-10-physics-substances-ropes-energy-and-weight">10. Physics: Substances, Ropes, Energy and Weight</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

