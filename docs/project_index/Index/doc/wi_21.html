<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Writing in Inform 21. Lists</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Writing in Inform</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="wi_20.html#wi-chapter-20-advanced-text">20. Advanced Text</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="wi_22.html#wi-chapter-22-advanced-phrases">22. Advanced Phrases</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>21. Lists</h2>
<div class="toc-section">21.1 <a href="wi_21.html#wi-21.1">Lists and entries</a></div>
<div class="toc-section">21.2 <a href="wi_21.html#wi-21.2">Constant lists</a></div>
<div class="toc-section">21.3 <a href="wi_21.html#wi-21.3">Saying lists of values</a></div>
<div class="toc-section">21.4 <a href="wi_21.html#wi-21.4">Testing and iterating over lists</a></div>
<div class="toc-section">21.5 <a href="wi_21.html#wi-21.5">Building lists</a></div>
<div class="toc-section">21.6 <a href="wi_21.html#wi-21.6">Lists of objects</a></div>
<div class="toc-section">21.7 <a href="wi_21.html#wi-21.7">Lists of values matching a description</a></div>
<div class="toc-section">21.8 <a href="wi_21.html#wi-21.8">Sorting, reversing and rotating lists</a></div>
<div class="toc-section">21.9 <a href="wi_21.html#wi-21.9">Accessing entries in a list</a></div>
<div class="toc-section">21.10 <a href="wi_21.html#wi-21.10">Lengthening or shortening a list</a></div>
<div class="toc-section">21.11 <a href="wi_21.html#wi-21.11">Variations: arrays, logs, queues, stacks, sets, sieves and rings</a></div>
</header>
<main>
<section class="chapter" id="wi-chapter-21-lists">
<section class="section" id="wi-21.1"><div>



<h3>WI §21.1. Lists and entries</h3>
<p>Many sections in this book begin by introducing a new kind of value. Reading through in order, the possibilities mount up: numbers, times, texts, and so on. (See the Kinds page of the Index for a convenient list of the options.) This section is a little different: rather than showing a single new kind of value, it shows how to make a new kind out of any existing one.</p>
<p>If K is any kind of value, then "list of K" is also a kind of value. For instance, we could write:</p>

<div class="code"><p class="quoted">
let L be a list of numbers;
</p></div>
<p>and this would create a new "let" variable, called L, whose kind of value is "list of numbers". On the other hand, we are not allowed to write:</p>

<div class="code"><p class="quoted">
let L be a list;
</p></div>
<p>because "list" by itself is not a kind of value. (Inform always needs to know what kinds the values entered in a list are going to have.)</p>
<p>Lists are like flexible-length table columns, but that probably makes them sound more mysterious than they really are. A list is simply a sequence of values, called its "entries", numbered from 1 upwards. The number of entries is called its "length". If we try</p>

<div class="code"><p class="quoted">
let L be a list of numbers;
<br>say "L has [the number of entries in L] entries.";
</p></div>
<p>then we find</p>

<div class="code"><p class="quoted">
L has 0 entries.
</p></div>
<p>This is because all lists start out empty when created: that is, they initially have 0 entries. Inform has two built-in adjectives "empty" and "non-empty" which can apply to lists, and they mean just what they ought to mean: a list is empty if its length is 0, and otherwise non-empty.</p>
<p>We can add entries very easily:</p>

<div class="code"><p class="quoted">
add 2 to L; add 3 to L; add 5 to L;
</p></div>
<p>We can now, for instance, try saying the list:</p>

<div class="code"><p class="quoted">
say "L is now [L].";
</p></div>
<p>with the result</p>

<div class="code"><p class="quoted">
L is now 2, 3 and 5.
</p></div>
<p>Note that only numbers can be added to L: if we try</p>

<div class="code"><p class="quoted">
add "clock" to L;
</p></div>
<p>Inform will produce a problem message, because L has kind "list of numbers", whereas "clock" is text. In this way, Inform ensures that a list always contains values of the same kind throughout. So it's not possible to construct a list whose entries are:</p>

<div class="code"><p class="quoted">
2, "fish", 4 and the Entire Game
</p></div>
<p>Such a list would be very hazardous to deal with, in any case. If what we need is a combination of different kinds of values, tables are a better option.</p>
<p>Finally, note that since "list of numbers" is a kind of value in its own right, so is "list of lists of numbers", and so on - though such lists are trickier to deal with, they are sometimes handy.</p>


</div></section>
<section class="section" id="wi-21.2"><div>





<h3>WI §21.2. Constant lists</h3>
<p>It is convenient to have a concise way to write down a constant list. Just as we could write "231", say, or "7:01 AM" to refer to particular number and time constants, so we can write list constants:</p>

<div class="code"><p class="quoted">
let L be {1, 2, 3, 4};
</p></div>
<p>Inform recognises that "{1, 2, 3, 4}" is a list because of the braces, and looks at the entries inside, sees that they are numbers, and deduces that it is a constant whose kind of value is "list of numbers". L is then a temporary list variable and we can add to it, remove things, and so on as we please - {1, 2, 3, 4} is merely its initial value.</p>
<p>When constructing lists, it is worth noting that Inform requires spaces after the commas (which seems a little harsh, but is necessary because otherwise many sensible literal specifications for units would be impossible - anyway, the reason isn't important here). So</p>

<div class="code"><p class="quoted">
let L be {1,2,3,4};
</p></div>
<p>would produce problem messages. But Inform does not require spaces round its braces.</p>
<p>We call this way of writing a list "brace notation". In mathematics, braces are usually used for sets, and properly speaking these are sequences not sets - so that "{1, 2, 3, 4}" is different from "{4, 3, 2, 1}" - but it is still a familiar notation. Similarly,</p>

<div class="code"><p class="quoted">
let L be {"apple", "pear", "loganberry"};
</p></div>
<p>makes L a list of texts; and</p>

<div class="code"><p class="quoted">
The marshmallow, the firework and the stink bomb are in the Scout Hut. The list of prohibited items is a list of objects that varies. The list of prohibited items is {the firework, the stink bomb}.
</p></div>
<p>makes a global variable ("list of prohibited items") with kind of value "list of objects", and whose initial value is to contain two things: the firework and the stink bomb. More exotically, if we need to make lists of lists:</p>

<div class="code"><p class="quoted">
let L be {{1, 2}, {6, 7, 8}};
</p></div>
<p>gives L the kind of value "list of lists of numbers", with (initially) two entries: the list {1, 2} (a list of numbers), then the list {6, 7, 8} (ditto).</p>
<p>Constant lists are convenient, too, when a column in a table needs to contain lists:</p>

<div class="code">
<p class="quoted">
The duck, the orange, the cider, the cinnamon and the orange are in the Kitchen.
</p>
<p class="quoted">
Table of Requirements
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">recipe</p></td>
<td class="quotedtablecell"><p class="quoted">ingredients</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"duck à l'orange"</p></td>
<td class="quotedtablecell"><p class="quoted">{the duck, the orange}</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"spiced cider"</p></td>
<td class="quotedtablecell"><p class="quoted">{the cider, the cinnamon, the orange}</p></td>
</tr>
</table>
</div>
<p>A special word about the constant list "{ }". This means the list with no entries - the empty list. If we try to create a new "let" variable M with</p>

<div class="code"><p class="quoted">
let M be { };
</p></div>
<p>then Inform will produce a problem message, because it cannot tell what sort of list M will be: a list of numbers, or texts, or times, or...? On the other hand, writing</p>

<div class="code"><p class="quoted">
let M be { };
</p></div>
<p>is fine provided that M already exists, and then does the obvious thing - empties M. Similarly, a table column in which every entry is "{ }" produces a problem message unless the heading for that column spells out the kind of value stored within it: for instance, "ingredients (list of texts)".</p>
<p>All of this is a notation for constant lists only, not some sort of gluing-things-together operation. So this, for instance:</p>

<div class="code"><p class="quoted">
let L be {100, the turn count};
</p></div>
<p>is not allowed, even though "the turn count" is a number: because it is a number that varies, the braces do not contain constants, and therefore this is not a list constant.</p>


</div></section>
<section class="section" id="wi-21.3"><div>





<h3>WI §21.3. Saying lists of values</h3>
<p>Any list L can be said, provided that its contents can be said. For example:</p>

<div class="code"><p class="quoted">
let L1 be {2, 3, 5, 7, 11};
<br>say L1;
</p></div>
<p>produces the text "2, 3, 5, 7 and 11" - unless we have "Use serial comma." set, in which case a comma appears after the 7. We also have the option of using the more formal notation:</p>

<div class="definition" id="defn324">
<p class="defnprototype"><strong>say "[</strong>(list of values)<strong> in brace notation]"</strong></p>



<p>This text substitution produces the list in the form of "{", then a comma-separated list, and then "}", which looks less like an English sentence but more mathematical. Example:</p>

<blockquote class="code"><p class="quoted">
"[list of people in brace notation]"
</p></blockquote>

<p>might produce "{ yourself, Mr Darcy, Flashman }".</p>


</div>

<p>If we say a list of lists, then the individual entry lists are always printed in brace notation: the ordinary sentence way would be incomprehensible.</p>
<p>Of course, the values in L1 are written out in number form because L1 is a list of numbers: we could alternatively try</p>

<div class="code"><p class="quoted">
let L2 be {the piano, the music stand};
<br>say L2;
</p></div>
<p>which produces "piano and music stand". Lists of objects can be said in two additional ways:</p>

<div class="definition" id="defn325">
<p class="defnprototype"><strong>say "[</strong>(list of objects)<strong> with definite articles]"</strong></p>



<p>This text substitution writes out the list in sentence form, adding the appropriate definite articles. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {the piano, the music stand};
<br>say "[L with definite articles]";
</p></blockquote>

<p>says "the piano and the music stand".</p>


</div>


<div class="definition" id="defn326">
<p class="defnprototype"><strong>say "[</strong>(list of objects)<strong> with indefinite articles]"</strong></p>



<p>This text substitution writes out the list in sentence form, adding the appropriate indefinite articles. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {the piano, the music stand};
<br>say "[L with definite articles]";
</p></blockquote>

<p>says "a piano and a music stand".</p>


</div>




</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-425"><p class="example-p"><span class="example-short-start">425. <a href="rb_6.html#example-425" class="example-link" onClick="(function() { document.getElementById('example-425').setAttribute('open','open'); return true; })();">Oyster Wide Shut</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Replacing Inform's default printing of properties such as "(closed)", "(open and providing light)", etc., with our own, more flexible variation.</span> (c.f. <a href="rb_6.html#rb-6.7">RB §6.7. Inventory</a>)</p></div>
</div></section>
<section class="section" id="wi-21.4"><div>





<h3>WI §21.4. Testing and iterating over lists</h3>
<p>If L is a list, we can interrogate it to see whether it does or does not contain (at least one instance of) any compatible value V:</p>

<div class="definition" id="defn327">
<p class="defnprototype"><strong>if </strong>(value)<strong> is listed in </strong>(list of values)<strong>:</strong></p>



<p>This condition is true if the given value, which must be of a compatible kind, is one of those in the list. For instance, if L is our list of the numbers 2, 3, 5, 7 and 11 then 5 is listed in it but 6 is not.</p>


</div>


<div class="definition" id="defn328">
<p class="defnprototype"><strong>if </strong>(value)<strong> is not listed in </strong>(list of values)<strong>:</strong></p>



<p>This condition is true if the given value, which must be of a compatible kind, is not one of those in the list.</p>


</div>

<p>We can also repeat running through a list (just as we can with table rows). Thus:</p>

<div class="definition" id="defn329">
<p class="defnprototype"><strong>repeat with </strong>(a name not so far used)<strong> running through </strong>(list of values)<strong>:</strong></p>



<p>This phrase causes the block of phrases following it to be repeated once for each item in the given list, storing that value in the named variable. (The variable exists only temporarily, within the repetition.) Example:</p>

<blockquote class="code"><p class="quoted">
let L be {2, 3, 5, 7, 11, 13, 17, 19};
<br>repeat with prime running through L:
<br>    ...
</p></blockquote>

<p>If the list is empty, nothing happens: the "..." phrase(s) are never tried.</p>


</div>

<p>In the next sections, we shall see that it is possible to change, reorder and resize lists. But it's important never to change a list that's being repeated through. The following:</p>

<div class="code"><p class="quoted">
let L1 be {1, 2, 3, 4};
<br>repeat with n running through L1:
<br>    remove n from L1;
</p></div>
<p>leaves L1 containing {2, 4}, since the removals from the list cause it to shuffle back even while we repeat through it - a bad, bad idea.</p>


</div></section>
<section class="section" id="wi-21.5"><div>





<h3>WI §21.5. Building lists</h3>
<p>We have already seen "add... to...". This in fact comes in two forms:</p>

<div class="definition" id="defn330">
<p class="defnprototype"><strong>add </strong>(value)<strong> to </strong>(list of values)<strong></strong></p>



<p>This phrase adds the given value to the end of the list. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {60, 168};
<br>add 360 to L;
</p></blockquote>

<p>results in L being {60, 168, 360}. Note that the value is added even if it already occurs somewhere in L; this can be avoided with "if absent". So:</p>

<blockquote class="code"><p class="quoted">
add 168 to L, if absent;
</p></blockquote>

<p>would do nothing - it is already there.</p>


</div>


<div class="definition" id="defn331">
<p class="defnprototype"><strong>add </strong>(list of values)<strong> to </strong>(list of values)<strong></strong></p>



<p>This phrase adds the first list to the end of the second. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {2, 3, 5, 7};
<br>add {11, 13, 17, 19} to L;
</p></blockquote>

<p>results in L being {2, 3, 5, 7, 11, 13, 17, 19}.</p>


</div>

<p>If we don't want to add new entries at the end, we can instead say where they should go:</p>

<div class="definition" id="defn332">
<p class="defnprototype"><strong>add </strong>(value)<strong> at entry </strong>(number)<strong> in </strong>(list of values)<strong></strong></p>



<p>This phrase adds the given value so that it becomes the entry with that index number in the list. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {1, 2, 3, 4, 8, 24};
<br>add 12 at entry 6 in L;
</p></blockquote>

<p>sets L to {1, 2, 3, 4, 8, 12, 24}. If there are N entries in L, then we can add at any of entries 1 up to N+1: adding at entry N+1 means adding at the end. The phrase option "if absent" makes the phrase do nothing if the value already exists anywhere in L.</p>


</div>


<div class="definition" id="defn333">
<p class="defnprototype"><strong>add </strong>(list of values)<strong> at entry </strong>(number)<strong> in </strong>(list of values)<strong></strong></p>



<p>This phrase adds the first list to the second so that it begins at the given position. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {1, 2, 3, 4};
<br>add {4, 8, 12} at entry 3 in L;
</p></blockquote>

<p>results in L being {1, 2, 4, 8, 12, 3, 4}.</p>


</div>

<p>A list is allowed to contain duplicates, and the order matters. For instance:</p>

<div class="code"><p class="quoted">
let L be {2, 2, 3};
</p></div>
<p>makes L into "2, 2 and 3". This is a different list to the one made by:</p>

<div class="code"><p class="quoted">
let M be {2, 3, 2};
</p></div>
<p>even though L and M have the same values, repeated the same number of times - for two lists to be equal, they must have the same kind of entry, the same number of entries, and the same entries in each position.</p>
<p>We can also strike out values:</p>

<div class="definition" id="defn334">
<p class="defnprototype"><strong>remove </strong>(value)<strong> from </strong>(list of values)<strong></strong></p>



<p>This phrase removes every instance of the given value from the list. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {3, 1, 4, 1, 5, 9, 2, 6, 5, 3};
<br>remove 1 from L;
</p></blockquote>

<p>results in L being {3, 4, 5, 9, 2, 6, 5, 3}. Ordinarily "remove 7 from L" would produce a run-time problem, since L does not contain the value 7, but using the "if present" option lets us off this: the phrase then does nothing if L does not contain the value to be removed.</p>


</div>


<div class="definition" id="defn335">
<p class="defnprototype"><strong>remove </strong>(list of values)<strong> from </strong>(list of values)<strong></strong></p>



<p>This phrase removes every instance of any value in the first list from the second. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {3, 1, 4, 1, 5, 9, 2, 6, 5, 3};
<br>remove {0, 2, 4, 6, 8} from L;
</p></blockquote>

<p>results in L being {3, 1, 1, 5, 9, 5, 3}. If both lists are large, this can be a slow process, and we might do better by sorting them and trying a more sophisticated method. But this is convenient for anything reasonable-sized.</p>


</div>

<p>Again, we can also remove from specific positions:</p>

<div class="definition" id="defn336">
<p class="defnprototype"><strong>remove entry </strong>(number)<strong> from </strong>(list of values)<strong></strong></p>



<p>This phrase removes the entry at the given position, counting from 1 as the first entry. (Once it is removed, the other entries shuffle down.) Example:</p>

<blockquote class="code"><p class="quoted">
let L be {3, 1, 4, 1, 5, 9, 2, 6, 5, 3};
<br>remove entry 3 from L;
</p></blockquote>

<p>results in L being {3, 1, 1, 5, 9, 2, 6, 5, 3}.</p>


</div>


<div class="definition" id="defn337">
<p class="defnprototype"><strong>remove entries </strong>(number)<strong> to </strong>(number)<strong> from </strong>(list of values)<strong></strong></p>



<p>This phrase removes the entries at the given range of positions, counting from 1 as the first entry. (Once they are removed, the other entries shuffle down.) Example:</p>

<blockquote class="code"><p class="quoted">
let L be {3, 1, 4, 1, 5, 9, 2, 6, 5, 3};
<br>remove entries 3 to 6 from L;
</p></blockquote>

<p>results in L being {3, 1, 2, 6, 5, 3}.</p>


</div>




</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-426"><p class="example-p"><span class="example-short-start">426. <a href="rb_7.html#example-426" class="example-link" onClick="(function() { document.getElementById('example-426').setAttribute('open','open'); return true; })();">Robo 1</a></span> <span class="example-difficulty">★</span>  <span class="example-description">A robot which watches and records the player's actions, then tries to repeat them back in the same order when he is switched into play-back mode.</span> (c.f. <a href="rb_7.html#rb-7.12">RB §7.12. Characters Following a Script</a>)</p></div>
</div></section>
<section class="section" id="wi-21.6"><div>





<h3>WI §21.6. Lists of objects</h3>
<p>Lists can be made of values of any kind (including other lists), but lists of objects are especially useful. We could always make these "by hand":</p>

<div class="code"><p class="quoted">
let L be {the pot plant, the foxglove};
</p></div>
<p>But it is usually easier and clearer to use descriptions.</p>

<div class="definition" id="defn338">
<p class="defnprototype"><strong>list of </strong>(description of values)<strong> ... value</strong></p>



<p>This phrase produces the list of all values matching the given description. Inform will issue a problem message if the result would be an infinite list, or one which is impractical to test: for instance "list of even numbers" is not feasible.</p>


</div>

<p>While that works nicely for many kinds of value ("list of recurring scenes", say), it's particularly useful for objects:</p>

<div class="code"><p class="quoted">
let L be the list of open containers;
<br>add the list of open doors to L;
</p></div>
<p>means that L now contains the open containers (if any) followed by the open doors (if any). Or, for example:</p>

<div class="code"><p class="quoted">
let L be the list of things;
<br>remove the list of backdrops from L;
</p></div>
<p>makes a list of all non-backdrops.</p>
<p>As mentioned above, lists of objects can be said in two additional ways:</p>

<div class="code"><p class="quoted">
"[L with definite articles]"
<br>"[L with indefinite articles]"
</p></div>
<p>And as mentioned below, they can be sorted in property value order:</p>

<div class="code"><p class="quoted">
sort L in P order;
<br>sort L in reverse P order;
</p></div>
<p>where P is any value property. In all other respects, lists of objects are no different to other lists.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-427"><p class="example-p"><span class="example-short-start">427. <a href="rb_9.html#example-427" class="example-link" onClick="(function() { document.getElementById('example-427').setAttribute('open','open'); return true; })();">What Makes You Tick</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Building a fishing pole from several component parts that the player might put together in any order.</span> (c.f. <a href="rb_9.html#rb-9.8">RB §9.8. Simple Machines</a>)</p></div>
<div class="example-short" id="example-short-428"><p class="example-p"><span class="example-short-start">428. <a href="rb_6.html#example-428" class="example-link" onClick="(function() { document.getElementById('example-428').setAttribute('open','open'); return true; })();">Formicidae</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">Manipulating the order in which items are handled after TAKE ALL.</span> (c.f. <a href="rb_6.html#rb-6.15">RB §6.15. Actions on Multiple Objects</a>)</p></div>
</div></section>
<section class="section" id="wi-21.7"><div>





<h3>WI §21.7. Lists of values matching a description</h3>
<p>The useful "list of ..." syntax can also be used to produce lists of the values matching a description, too. Thus:</p>

<div class="code"><p class="quoted">
let L be the list of non-recurring scenes;
<br>let C be the list of colours;
</p></div>
<p>There is little to say here except for the usual warning that some kinds of value have a range which is too large to make this possible. For instance, Inform could not sensibly represent:</p>

<div class="code"><p class="quoted">
let N be the list of even numbers;
</p></div>
<p>It would just be too large to hold. In general, if we can repeat through, or find the number of, values matching a description, then we can also use "list of" to bring them all together. See the chart of kinds of value in the Kinds index for a project for which kinds of value allow this.</p>


</div></section>
<section class="section" id="wi-21.8"><div>





<h3>WI §21.8. Sorting, reversing and rotating lists</h3>
<p>Any list L can be reversed:</p>

<div class="definition" id="defn339">
<p class="defnprototype"><strong>reverse </strong>(list of values)<strong></strong></p>



<p>This phrase puts the list in reverse order. The old entry 1 becomes the new last entry, and so on: reversing an empty list or a list containing only one entry leaves it unchanged. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {11, 12, 14, 15, 16, 17};
<br>reverse L;
</p></blockquote>

<p>results in L being {17, 16, 15, 14, 12, 11}.</p>


</div>

<p>And any list can similarly be sorted:</p>

<div class="definition" id="defn340">
<p class="defnprototype"><strong>sort </strong>(list of values)<strong></strong></p>



<p>This phrase puts the list into ascending order. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {6 PM, 11:13 AM, 4:21 PM, 9:01 AM};
<br>sort L;
</p></blockquote>

<p>results in L being {9:01 AM, 11:13 AM, 4:21 PM, 6 PM}.</p>


</div>


<div class="definition" id="defn341">
<p class="defnprototype"><strong>sort </strong>(list of values)<strong> in reverse order</strong></p>



<p>This phrase puts the list into descending order. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {6 PM, 11:13 AM, 4:21 PM, 9:01 AM};
<br>sort L in reverse order;
</p></blockquote>

<p>results in L being {6 PM, 4:21 PM, 11:13 AM, 9:01 AM}.</p>


</div>


<div class="definition" id="defn342">
<p class="defnprototype"><strong>sort </strong>(list of values)<strong> in random order</strong></p>



<p>This phrase puts the list into a uniformly random order, shuffling it as if it were a pack of cards. Example:</p>

<blockquote class="code"><p class="quoted">
let L be {1, 2, 3, 4, 5, 6};
<br>sort L in random order;
</p></blockquote>

<p>might result in L being {3, 1, 5, 6, 4, 2}. Or any of 719 other arrangements, including being left as it was.</p>


</div>

<p>Lists of objects can also be sorted in property value order. For instance,</p>

<div class="definition" id="defn343">
<p class="defnprototype"><strong>sort </strong>(list of objects)<strong> in </strong>(property)<strong> order</strong></p>



<p>This phrase puts the list into ascending order of the values of the given property for the items in the list; this is only allowed if all of those values do have the property in question. Example:</p>

<blockquote class="code"><p class="quoted">
let L be the list of people;
<br>sort L in carrying capacity order;
</p></blockquote>

<p>would arrange people with weaklings first, titans last.</p>


</div>


<div class="definition" id="defn344">
<p class="defnprototype"><strong>sort </strong>(list of objects)<strong> in reverse </strong>(property)<strong> order</strong></p>



<p>This phrase puts the list into descending order of the values of the given property for the items in the list; this is only allowed if all of those values do have the property in question. Example:</p>

<blockquote class="code"><p class="quoted">
let L be the list of people;
<br>sort L in reverse carrying capacity order;
</p></blockquote>

<p>would arrange people with titans first, weaklings last.</p>


</div>

<p>Rotating a list means moving all of its entries along by one place, and then moving the one on the end back to the start. For instance, if L is {1, 2, 3, 4}, then</p>

<div class="definition" id="defn345">
<p class="defnprototype"><strong>rotate </strong>(list of values)<strong></strong></p>



<p>This phrase shuffles the entries of the list forwards (to the right) by one place, so that the 1st becomes 2nd, the 2nd becomes 3rd, and so on until the last, which becomes the new first entry. Example:</p>

<blockquote class="code"><p class="quoted">
let L be { "cow", "heifer", "bullock" };
<br>rotate L;
</p></blockquote>

<p>results in L being { "bullock", "cow", "heifer" }.</p>


</div>


<div class="definition" id="defn346">
<p class="defnprototype"><strong>rotate </strong>(list of values)<strong> backwards</strong></p>



<p>This phrase shuffles the entries of the list backwards (to the left) by one place, so that the 3rd becomes 2nd, the 2nd becomes 1st, and so on; the previous 1st entry becomes the new last entry. Example:</p>

<blockquote class="code"><p class="quoted">
let L be { "cow", "heifer", "bullock" };
<br>rotate L backwards;
</p></blockquote>

<p>results in L being { "heifer", "bullock", "cow"}. (This achieves the same effect as "reverse L; rotate L; reverse L;" but is a little faster, and a lot less effort to read.)</p>


</div>



</div></section>
<section class="section" id="wi-21.9"><div>





<h3>WI §21.9. Accessing entries in a list</h3>
<p>The length of a list can change as values are added or removed, and can in principle be any number from 0 upwards. A list with 0 entries is empty. We can find the length with:</p>

<div class="definition" id="defn347">
<p class="defnprototype"><strong>number of entries in</strong>/of<strong> </strong>(list of values)<strong> ... number</strong></p>



<p>This phrase produces the number of positions in the list. Example:</p>

<blockquote class="code"><p class="quoted">
the number of entries in {1, 1, 1, 3, 1}
</p></blockquote>

<p>is 5, even though there are only two genuinely different items in the list.</p>


</div>

<p>If the length is N then the entries are numbered from 1 (the front) to N (the back). These entries can be accessed directly by their numbers. For instance,</p>

<div class="code"><p class="quoted">
entry 2 of L
</p></div>
<p>refers to the second entry of L: it can be used as a value, or changed, just as if it were a named variable. For instance, we could write:</p>

<div class="code"><p class="quoted">
now entry 7 of L is "Spain";
<br>say "The rain in [entry 7 of L] stays mainly in the plain.";
</p></div>
<p>which would (untruthfully) print "The rain in Spain stays mainly in the plain", but only if L had an entry 7 to make use of: if L were a list of 5 entries, say, then a run-time problem results. (And if L cannot hold text, a problem message means that we never get as far as run-time.) Because entries number from 1, this is always incorrect:</p>

<div class="code"><p class="quoted">
entry 0 of L
</p></div>
<p>and if L is currently empty, then there is no entry which can be accessed, so that any use of "entry ... of L" would produce a run-time problem. There are programming languages in the world where accessing entry 100 in a 7-entry list automatically extends it to be 100 entries long: Inform is not one of them. But see the next section for how to change list lengths explicitly.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-429"><p class="example-p"><span class="example-short-start">429. <a href="rb_7.html#example-429" class="example-link" onClick="(function() { document.getElementById('example-429').setAttribute('open','open'); return true; })();">Robo 2</a></span> <span class="example-difficulty">★★★</span>  <span class="example-description">A robot which watches and records the player's actions, then tries to repeat them back in the same order when he is switched into play-back mode.</span> (c.f. <a href="rb_7.html#rb-7.12">RB §7.12. Characters Following a Script</a>)</p></div>
</div></section>
<section class="section" id="wi-21.10"><div>





<h3>WI §21.10. Lengthening or shortening a list</h3>
<p>We can explicitly change the length of a list like so:</p>

<div class="definition" id="defn348">
<p class="defnprototype"><strong>change </strong>(list of values)<strong> to have </strong>(number)<strong> entries</strong>/entry</p>



<p>This phrase alters the given list so that it now has exactly the number of entries given. Example:</p>

<blockquote class="code"><p class="quoted">
change L to have 21 entries;
</p></blockquote>

<p>If L previously had more than 21 entries, they are thrown away (and lost forever); if L previously had fewer, then new entries are created, using the default value for whatever kind of value L holds. So extending a list of numbers will pad it out with 0s, but extending a list of texts will pad it out with the empty text "", and so on.</p>


</div>

<p>We can also write the equivalent phrases:</p>

<div class="definition" id="defn349">
<p class="defnprototype"><strong>truncate </strong>(list of values)<strong> to </strong>(number)<strong> entries</strong>/entry</p>



<p>This phrase alters the given list so that it now has no more than the number of entries given. Example:</p>

<blockquote class="code"><p class="quoted">
truncate L to 8 entries;
</p></blockquote>

<p>shortens L to length 8 if it is currently longer than that, trimming entries from the end, but would (for instance) leave a list of length 3 unchanged. Note that</p>

<blockquote class="code"><p class="quoted">
truncate L to 0 entries;
</p></blockquote>

<p>empties it to { }, the list with nothing in.</p>


</div>


<div class="definition" id="defn350">
<p class="defnprototype"><strong>truncate </strong>(list of values)<strong> to the first </strong>(number)<strong> entries</strong>/entry</p>



<p>This phrase alters the given list so that it now consists only of the initial part of the list with the given length. Example:</p>

<blockquote class="code"><p class="quoted">
truncate L to the first 4 entries;
</p></blockquote>

<p>turns {1, 3, 5, 7, 9, 11} to {1, 3, 5, 7}.</p>


</div>


<div class="definition" id="defn351">
<p class="defnprototype"><strong>truncate </strong>(list of values)<strong> to the last </strong>(number)<strong> entries</strong>/entry</p>



<p>This phrase alters the given list so that it now consists only of the final part of the list with the given length. Example:</p>

<blockquote class="code"><p class="quoted">
truncate L to the last 4 entries;
</p></blockquote>

<p>turns {1, 3, 5, 7, 9, 11} to {5, 7, 9, 11}.</p>


</div>

<p>But we don't have to truncate: we can also -</p>

<div class="definition" id="defn352">
<p class="defnprototype"><strong>extend </strong>(list of values)<strong> to </strong>(number)<strong> entries</strong>/entry</p>



<p>This phrase pads out the list with default values as needed so that it now has at least the given length. (If the list is already at least that length, nothing is done.) Example:</p>

<blockquote class="code"><p class="quoted">
extend L to 80 entries;
</p></blockquote>

<p>lengthens L to length 80 if it is currently shorter than that.</p>


</div>

<p>For example,</p>

<div class="code"><p class="quoted">
To check sorting (N - a number):
<br>    let L be a list of numbers;
<br>    extend L to N entries;
<br>    repeat with X running from 1 to N:
<br>        now entry X of L is X;
<br>    say "L unrandomised is [L].";
<br>    sort L in random order;
<br>    say "L randomised is [L].";
<br>    sort L;
<br>    say "L in ascending order is [L]."
</p></div>
<p>builds a list of N numbers (initially all 0), fills it with the numbers 1, 2, 3, ..., N, then randomly reorders them, then sorts them back again, recovering the original order. The text produced by "check sorting 10" depends partly on chance but might for instance be:</p>

<div class="code"><p class="quoted">
L unrandomised is 1, 2, 3, 4, 5, 6, 7, 8, 9 and 10.
<br>L randomised is 6, 2, 9, 3, 10, 1, 7, 4, 8 and 5.
<br>L in ascending order is 1, 2, 3, 4, 5, 6, 7, 8, 9 and 10.
</p></div>
<p>As with text in the <a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text"></a><a href="wi_20.html#wi-chapter-20-advanced-text">previous chapter</a>, a project which needs really long lists should use the Glulx virtual machine - "check sorting 10000", for instance, would break the default memory environment on the Z-machine, which is very tight, but works fine (if not very rapidly) on Glulx.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-430"><p class="example-p"><span class="example-short-start">430. <a href="rb_6.html#example-430" class="example-link" onClick="(function() { document.getElementById('example-430').setAttribute('open','open'); return true; })();">Leopard-skin</a></span> <span class="example-difficulty">★</span>  <span class="example-description">A maze that the player can escape if he performs an exact sequence of actions.</span> (c.f. <a href="rb_6.html#rb-6.14">RB §6.14. Remembering, Converting and Combining Actions</a>)</p></div>
<div class="example-short" id="example-short-431"><p class="example-p"><span class="example-short-start">431. <a href="rb_6.html#example-431" class="example-link" onClick="(function() { document.getElementById('example-431').setAttribute('open','open'); return true; })();">The Facts Were These</a></span> <span class="example-difficulty">★★</span>  <span class="example-description">Creating a variant GIVE action that lets the player give multiple objects simultaneously with commands like GIVE ALL TO ATTENDANT or GIVE THREE DOLLARS TO ATTENDANT or GIVE PIE AND HAT TO ATTENDANT. The attendant accepts the gifts only if their total combined value matches some minimum amount.</span> (c.f. <a href="rb_6.html#rb-6.15">RB §6.15. Actions on Multiple Objects</a>)</p></div>
</div></section>
<section class="section" id="wi-21.11"><div>





<h3>WI §21.11. Variations: arrays, logs, queues, stacks, sets, sieves and rings</h3>
<p>Lists are highly adaptable, and many other collection-like constructions can be made using them. This section introduces no new material, but simply suggests some of the variations which are possible.</p>
<p>1. The traditional computing term <strong>array</strong> means a list of values accessed by their entry numbers, often used in mathematical computations. The difference between an array and a list is mostly one of attitude, but usually arrays are fixed in length whereas lists can expand or contract.</p>
<p>2. A <strong>log</strong> is a list which records the most recently arrived values, but does not allow itself to grow indefinitely. In the following, which remembers the seven most recently taken items, new values arrive at the end while old ones eventually disappear from the front:</p>

<div class="code"><p class="quoted">
The most-recently-taken list is a list of objects that varies.
<br>Carry out taking something (called the item):
<br>    truncate the most-recently-taken list to the last 6 entries;
<br>    add the item to the most-recently-taken list.
<br>After taking:
<br>    say "Taken. (So, your recent acquisitions: [most-recently-taken list].)"
</p></div>
<p>Note that the most-recently-taken list begins play as the empty list, grows as the first few items are taken, but then stabilises at length 7 thereafter. If we need to remember recent history, but only <em>recent</em> history, then a log is better than a list which can grow indefinitely, because there is no risk of speed reduction or memory exhaustion in a very long story.</p>
<p>3. A <strong>queue</strong> is a list of values which are waiting for attention. New values join at the back, while those being dealt with are removed from the front (whereupon the whole queue moves up one). An empty queue means that nobody is waiting for attention: but there is, in principle, no upper limit to the size of a queue, as anyone who has tried to make a couchette reservation at Roma Termini will know.</p>
<p>Queues typically form when two independent processes are at work, but going at different or variable speeds. An empty queue looks just like any other list:</p>

<div class="code"><p class="quoted">
The queue is a list of objects that varies.
</p></div>
<p>(Invariably people, in what follows, but we'll make it a "list of objects" to allow for other possibilities too.) Once we identify a "new customer", we can join him to the queue thus:</p>

<div class="code"><p class="quoted">
add the new customer to the queue;
</p></div>
<p>The process of serving the customers needs to make sure there is actually somebody waiting in the queue before it does anything:</p>

<div class="code"><p class="quoted">
Every turn when the number of entries in the queue is not 0:
<br>    let the next customer be entry 1 of the queue;
<br>    say "[The next customer] is served and leaves.";
<br>    remove entry 1 from the queue.
</p></div>
<p>Of course queues can also be constructed which empty from other positions, rather than the front: or we could make what computer scientists sometimes call a <strong>deque</strong>, a "double-ended queue" where new values arrive at both ends.</p>
<p>4. A <strong>stack</strong> is like a queue except that values arrive at, and are removed from, the same end. Stacks are slightly faster if the active end is the back rather than the front, though this will only be noticeable if they grow quite large.</p>
<p>To put a value V onto a stack S (which is known as "pushing") is simple:</p>

<div class="code"><p class="quoted">
add V to S;
</p></div>
<p>And to remove a value from the top of the stack (which is known as "pulling"):</p>

<div class="code"><p class="quoted">
let N be the number of entries in S;
<br>let V be entry N of S;
<br>remove entry N from S;
</p></div>
<p>Note that the middle line, accessing entry N, will fail if N = 0, that is, if the stack is empty: Inform's list routines will produce a run-time problem message.</p>
<p>Stacks are useful if some long-term process is constantly being interrupted by newer and more urgent demands, but they can also be used in planning. If a character has a long-term goal, which needs various short-term goals to be achieved along the way, then a stack can represent the goals currently being pursued. The top of the stack represents what the character is trying to achieve now. If the character realises that it needs to achieve something else first, we put that new goal onto the top of the stack, and it becomes the new current goal. When the character completes a task, it can be removed, and we can go back to trying to finish whatever is now on top. When the stack is empty, the character has achieved the original goal.</p>
<p>5. Notoriously, <strong>set</strong> has 464 distinct meanings in the Oxford English Dictionary, making it the single most ambiguous word in the language. Here we mean not the home of a badger or the Egyptian god of the desert, but the mathematical sense: a collection of values (sometimes called "elements") without duplicates, and which is normally written in brace notation and in some natural order for the reader's convenience.</p>
<p>The trick here is to maintain the principle that, at all times, our list is sorted in order and contains no duplicates. To provide an example, we start with two sets of numbers:</p>

<div class="code"><p class="quoted">
let S be {2, 4, 8, 16, 32, 64};
<br>let T be {2, 4, 6, 10};
</p></div>
<p>Here we add an element to T:</p>

<div class="code"><p class="quoted">
add 8 to T, if absent; sort T;
</p></div>
<p>The "if absent" clause ensures that no duplicate can occur, and by sorting T afterwards, we maintain the principle that a set must remain in order - so T is now {2, 4, 6, 8, 10}, not {2, 4, 6, 10, 8}. (Inform's sorting algorithm is fast on nearly-sorted lists, so frequent sorting is not as inefficient as it might look.)</p>
<p>We next take the union of T and S, that is, the set containing everything which is in either or both:</p>

<div class="code"><p class="quoted">
let U be S; add T to U, if absent; sort U;
</p></div>
<p>This makes U = {2, 4, 6, 8, 10, 16, 32, 64}, and once again no duplicates occur and we preserve the sorting. The intersection of T and S, the set of elements in both of them, is a little trickier:</p>

<div class="code"><p class="quoted">
let I be T;
<br>repeat with the element running through T:
<br>    if the element is not listed in S, remove the element from I.
</p></div>
<p>(Faster methods could be devised which exploit the sortedness of T and S, but are not worth it for shortish lists.) This produces I = {2, 4, 8}. Lastly, we can form the set difference, consisting of those elements which are in S but not in T:</p>

<div class="code"><p class="quoted">
let D be S; remove T from D, if present;
</p></div>
<p>Here, as with intersection, since all we do is to strike out unwanted elements, the surviving ones remain in order and there is no need to sort when we are finished. This produces D = {16, 32, 64}.</p>
<p>6. A <strong>sieve</strong> is used to make a complicated choice where there are many constraints, by ruling out impossible cases to see what is left. The term derives from the kitchen utensil (for sieving fine grains of flour), but via the name of the "sieve of Eratosthenes", an ancient Greek method for determining the prime numbers.</p>
<p>Using a sieve is much like using a set, and the difference is mainly one of outlook - we are interested in what does not belong, rather than what does.</p>
<p>7. A <strong>ring</strong> is not so much a row of values, more a circle, with the last and first entries thought of as adjacent. One position is usually thought of as special, and is the place where new items are added: this may as well be entry 1. For instance, to add "new item" to the ring:</p>

<div class="code"><p class="quoted">
add the item at entry 1 in the ring;
</p></div>
<p>To set "item" to the frontmost value and extract it from the ring:</p>

<div class="code"><p class="quoted">
let the item be entry 1 of the ring;
<br>remove entry 1 from the ring;
</p></div>
<p>And we can rotate the ring in either direction, making a different entry the new entry 1 and therefore the new frontmost value:</p>

<div class="code"><p class="quoted">
rotate the ring;
<br>rotate the ring backwards;
</p></div>
<p>A last note to conclude the <a href="wi_21.html#wi-chapter-21-lists">chapter on lists</a>. Lists, like almost all other values in Inform, can be passed to phrases as parameters. However, note that they are genuine values, not what some programming languages call "references" or "pointers". So the following:</p>

<div class="code"><p class="quoted">
To mess with (L - a list of numbers):
<br>    add 7 to L, if absent.
</p></div>
<p>does nothing, in practice. If given a list, it adds 7 to the list, but then throws it away again, so the longer list is never seen; it's exactly like</p>

<div class="code"><p class="quoted">
To mess with (N - a number):
<br>    now N is 3.
</p></div>
<p>which can never affect anything other than its own temporary value "N", which expires almost immediately in any case.</p>
<p>If we want a phrase which changes a list in a useful way and gives it back to us, we need a phrase which both takes in and gives back:</p>

<div class="code"><p class="quoted">
To decide which list of numbers is the extended (L - a list of numbers):
<br>    add 7 to L, if absent;
<br>    decide on L.
</p></div>
<p>And then, for example -</p>

<div class="code"><p class="quoted">
the extended { 2, 4, 6 };
</p></div>
<p>produces:</p>

<div class="code"><p class="quoted">
{ 2, 4, 6, 7 }
</p></div>
<p>(This may seem surprising since Inform's built-in phrases to adjust lists, like "add ... to ...", don't work this way. But those are written using Inform 6 code; see the phrase definitions in the Standard Rules for more.)</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<div class="example-short" id="example-short-432"><p class="example-p"><span class="example-short-start">432. <a href="rb_6.html#example-432" class="example-link" onClick="(function() { document.getElementById('example-432').setAttribute('open','open'); return true; })();">I Didn't Come All The Way From Great Portland Street</a></span> <span class="example-difficulty">★</span>  <span class="example-description">In this fiendishly difficult puzzle, which may perhaps owe some inspiration to a certain BBC Radio panel game (1967-), a list is used as a set of actions to help enforce the rule that the player must keep going for ten turns without hesitation, repetition, or deviating from the subject on the card.</span> (c.f. <a href="rb_6.html#rb-6.14">RB §6.14. Remembering, Converting and Combining Actions</a>)</p></div>
<div class="example-short" id="example-short-433"><p class="example-p"><span class="example-short-start">433. <a href="rb_7.html#example-433" class="example-link" onClick="(function() { document.getElementById('example-433').setAttribute('open','open'); return true; })();">Lugubrious Pete's Delicatessen</a></span> <span class="example-difficulty">★</span>  <span class="example-description">In this evocation of supermarket deli counter life, a list is used as a queue to keep track of who is waiting to be served.</span> (c.f. <a href="rb_7.html#rb-7.16">RB §7.16. Social Groups</a>)</p></div>
<div class="example-short" id="example-short-434"><p class="example-p"><span class="example-short-start">434. <a href="rb_7.html#example-434" class="example-link" onClick="(function() { document.getElementById('example-434').setAttribute('open','open'); return true; })();">Your Mother Doesn't Work Here</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Your hard-working mother uses a list as a stack: urgent tasks are added to the end of the list, interrupting longer-term plans.</span> (c.f. <a href="rb_7.html#rb-7.12">RB §7.12. Characters Following a Script</a>)</p></div>
<div class="example-short" id="example-short-435"><p class="example-p"><span class="example-short-start">435. <a href="rb_9.html#example-435" class="example-link" onClick="(function() { document.getElementById('example-435').setAttribute('open','open'); return true; })();">Eyes, Fingers, Toes</a></span> <span class="example-difficulty">★</span>  <span class="example-description">A safe with a multi-number combination, meant to be dialed over multiple turns, is implemented using a log of the last three numbers dialed. The log can then be compared to the safe's correct combination.</span> (c.f. <a href="rb_9.html#rb-9.2">RB §9.2. Bags, Bottles, Boxes and Safes</a>)</p></div>
<div class="example-short" id="example-short-436"><p class="example-p"><span class="example-short-start">436. <a href="rb_8.html#example-436" class="example-link" onClick="(function() { document.getElementById('example-436').setAttribute('open','open'); return true; })();">Circle of Misery</a></span> <span class="example-difficulty">★</span>  <span class="example-description">Retrieving items from an airport luggage carousel is such fun, how can we resist simulating it, using a list as a ring buffer?</span> (c.f. <a href="rb_8.html#rb-8.4">RB §8.4. Furniture</a>)</p></div>
<div class="example-short" id="example-short-437"><p class="example-p"><span class="example-short-start">437. <a href="rb_10.html#example-437" class="example-link" onClick="(function() { document.getElementById('example-437').setAttribute('open','open'); return true; })();">The Fibonacci Sequence</a></span> <span class="example-difficulty">★</span>  <span class="example-description">The modest Leonardo Fibonacci of Pisa will be only too happy to construct his sequence on request, using an array.</span> (c.f. <a href="rb_10.html#rb-10.11">RB §10.11. Mathematics</a>)</p></div>
<div class="example-short" id="example-short-438"><p class="example-p"><span class="example-short-start">438. <a href="rb_10.html#example-438" class="example-link" onClick="(function() { document.getElementById('example-438').setAttribute('open','open'); return true; })();">Sieve of Eratosthenes</a></span> <span class="example-difficulty">★</span>  <span class="example-description">The haughty Eratosthenes of Cyrene will nevertheless consent to sieve prime numbers on request.</span> (c.f. <a href="rb_10.html#rb-10.11">RB §10.11. Mathematics</a>)</p></div>
</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/WI_21_1.html">WI Chapter 21 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="wi_20.html#wi-chapter-20-advanced-text">20. Advanced Text</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="wi_22.html#wi-chapter-22-advanced-phrases">22. Advanced Phrases</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

