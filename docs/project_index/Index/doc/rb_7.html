<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Recipe Book 7. Other Characters</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Recipe Book</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_6.html#rb-chapter-6-commands">6. Commands</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_8.html#rb-chapter-8-vehicles-animals-and-furniture">8. Vehicles, Animals and Furniture</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>7. Other Characters</h2>
<div class="toc-section">7.1 <a href="rb_7.html#rb-7.1">Getting Acquainted</a></div>
<div class="toc-section">7.2 <a href="rb_7.html#rb-7.2">Liveliness</a></div>
<div class="toc-section">7.3 <a href="rb_7.html#rb-7.3">Reactive Characters</a></div>
<div class="toc-section">7.4 <a href="rb_7.html#rb-7.4">Barter and Exchange</a></div>
<div class="toc-section">7.5 <a href="rb_7.html#rb-7.5">Combat and Death</a></div>
<div class="toc-section">7.6 <a href="rb_7.html#rb-7.6">Getting Started with Conversation</a></div>
<div class="toc-section">7.7 <a href="rb_7.html#rb-7.7">Saying Simple Things</a></div>
<div class="toc-section">7.8 <a href="rb_7.html#rb-7.8">Saying Complicated Things</a></div>
<div class="toc-section">7.9 <a href="rb_7.html#rb-7.9">The Flow of Conversation</a></div>
<div class="toc-section">7.10 <a href="rb_7.html#rb-7.10">Character Emotion</a></div>
<div class="toc-section">7.11 <a href="rb_7.html#rb-7.11">Character Knowledge and Reasoning</a></div>
<div class="toc-section">7.12 <a href="rb_7.html#rb-7.12">Characters Following a Script</a></div>
<div class="toc-section">7.13 <a href="rb_7.html#rb-7.13">Traveling Characters</a></div>
<div class="toc-section">7.14 <a href="rb_7.html#rb-7.14">Obedient Characters</a></div>
<div class="toc-section">7.15 <a href="rb_7.html#rb-7.15">Goal-Seeking Characters</a></div>
<div class="toc-section">7.16 <a href="rb_7.html#rb-7.16">Social Groups</a></div>
</header>
<main>
<section class="chapter" id="rb-chapter-7-other-characters">
<section class="section" id="rb-7.1"><div>



<h3>RB §7.1. Getting Acquainted</h3>
<p>Talking about characters presents some special challenges. For one thing, some characters are referred to by a proper name, but others are not: so the story might want to talk about "Jack" but also about "the drunk pedestrian". In the absence of other information, Inform attempts to divine our intentions based on the words with which we defined a new character: but we can always override its guess with an explicit statement, such as</p>

<div class="code"><p class="quoted">
The Great Malefactor is proper-named.
</p></div>
<p><a href="rb_7.html#example-31" class="example-link" onClick="(function() { document.getElementById('example-31').setAttribute('open','open'); return true; })();">Belfry</a><span class="example-difficulty"> ★</span> demonstrates further how titles are set at the start of play.</p>
<p>The relation between the player and the other characters is not always static, however. Sometimes we want the player to learn a character's name part-way through play, and start referring to "the drunk pedestrian" as "Fernando". Similarly, the status of another character may change due to some twist of the plot. <a href="rb_7.html#example-32" class="example-link" onClick="(function() { document.getElementById('example-32').setAttribute('open','open'); return true; })();">Gopher-wood</a><span class="example-difficulty"> ★★</span> shows how to change the name of a character mid-story, and <a href="rb_7.html#example-313" class="example-link" onClick="(function() { document.getElementById('example-313').setAttribute('open','open'); return true; })();">Peers</a><span class="example-difficulty"> ★★</span> handles changing the character's rank.</p>
<p>Alternatively, of course, the player character may already know some of the other characters when the story begins, even if the player does not. In that case, we may want to add a tag-line or so of identification to a character's name when he first appears in the story. <a href="rb_7.html#example-237" class="example-link" onClick="(function() { document.getElementById('example-237').setAttribute('open','open'); return true; })();">A Humble Wayside Flower</a><span class="example-difficulty"> ★★★</span> shows one way of doing this.</p>
<p>Another occasional challenge is dealing with such commands as EXAMINE DR. THISBY. The problem here is that Inform by default will understand the full stop after "Dr" to be the end of one command and the beginning of another, and will try to interpret "Thisby" as a verb. If we do have a story populated by such formally-addressed characters, we may turn to Punctuation Removal, which provides a phrase to remove the full stops in standard titles before attempting to interpret the command.</p>
<p>Other characters have physical characteristics as well as names, of course, and <a href="rb_7.html#example-238" class="example-link" onClick="(function() { document.getElementById('example-238').setAttribute('open','open'); return true; })();">Meet Market</a><span class="example-difficulty"> ★</span> demonstrates one way of implementing people with notable features.</p>
<p>Finally, in some IF, the roles of characters may change from playing to playing. If we are writing a replayable murder mystery, we might want to select a new culprit each time the story starts; for this, see <a href="rb_7.html#example-135" class="example-link" onClick="(function() { document.getElementById('example-135').setAttribute('open','open'); return true; })();">Clueless</a><span class="example-difficulty"> ★</span>.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_5.html#rb-5.1" class="crossreference_link">The Human Body</a> for more on body parts and physical description</div>
<div class="crossreference">
<a href="rb_5.html#rb-5.5" class="crossreference_link">Memory and Knowledge</a> for a way to refer to characters whom the player knows about but who aren't currently in the room</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-31"><summary><span class="example-summary">31. Belfry</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Belfry%22%5Cn%5CnThe%20Belfry%20is%20a%20room.%20A%20bat%20is%20in%20the%20Belfry.%20The%20bell%20is%20in%20the%20Belfry.%20Some%20woodworm%20are%20in%20the%20Belfry.%20A%20man%20called%20William%20Snelson%20is%20in%20the%20Belfry.%20A%20woman%20called%20the%20sexton's%20wife%20is%20in%20the%20Belfry.%20A%20man%20called%20a%20bellringer%20is%20in%20the%20Belfry.%5Cn%5CnIn%20the%20Belfry%20is%20a%20man%20called%20the%20vicar.%20The%20indefinite%20article%20of%20the%20vicar%20is%20%22your%20local%22.%5Cn%5CnTest%20me%20with%20%22look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Belfry"
</p>
<p class="quoted">
The Belfry is a room. A bat is in the Belfry. The bell is in the Belfry. Some woodworm are in the Belfry. A man called William Snelson is in the Belfry. A woman called the sexton's wife is in the Belfry. A man called a bellringer is in the Belfry.
</p>
<p class="quoted">
In the Belfry is a man called the vicar. The indefinite article of the vicar is "your local".
</p>
<p class="quoted">
Test me with "look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.18">WI §3.18. Articles and proper names</a><br><a href="rb_7.html#rb-7.1">RB §7.1. Getting Acquainted</a>
</div></details><details class="full-example" id="example-135"><summary><span class="example-summary">135. Clueless</span> <span class="example-difficulty">★</span></summary><div>
<p>"When play begins" is the best point to initialize any aspects of the game that are meant to change between playings. For instance, in this scenario, we would randomly select one of the other characters to be guilty of murder:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Clueless%22%5Cn%5CnThe%20murderer%20is%20a%20person%20that%20varies.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20murderer%20is%20a%20random%20person%20who%20is%20not%20the%20player.%5Cn%5CnThe%20Billiards%20Room%20is%20a%20room.%20Colonel%20Mustard%20and%20Professor%20Plum%20are%20men%20in%20the%20Billiards%20Room.%20Miss%20Scarlet%20and%20Mrs%20White%20are%20women%20in%20the%20Billiards%20Room.%5Cn%5CnInstead%20of%20examining%20the%20murderer:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20certainly%20looks%20fiendish!%22%5Cn%5CnTest%20me%20with%20%22x%20mustard%20/%20x%20plum%20/%20x%20scarlet%20/%20x%20white%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Clueless"
</p>
<p class="quoted">
The murderer is a person that varies.
</p>
<p class="quoted">
When play begins:
<br>    now the murderer is a random person who is not the player.
</p>
<p class="quoted">
The Billiards Room is a room. Colonel Mustard and Professor Plum are men in the Billiards Room. Miss Scarlet and Mrs White are women in the Billiards Room.
</p>
<p class="quoted">
Instead of examining the murderer:
<br>    say "[The noun] certainly looks fiendish!"
</p>
<p class="quoted">
Test me with "x mustard / x plum / x scarlet / x white".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.1">WI §9.1. When play begins</a><br><a href="rb_7.html#rb-7.1">RB §7.1. Getting Acquainted</a>
</div></details><details class="full-example" id="example-238"><summary><span class="example-summary">238. Meet Market</span> <span class="example-difficulty">★</span></summary><div>
<p>We have already seen that we can give things value properties -- a lamp has a brightness, for instance. Relations give us additional flexibility: since we may relate various things to various values, it is possible to describe a thing as having more than one value at the same time.</p>
<p>To demonstrate:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Meet%20Market%22%20by%20%22K%20M%20and%20Eric%20Rossing%22%5Cn%5CnFeature%20is%20a%20kind%20of%20value.%20%20The%20features%20are%20snub-nosed,%20gangly,%20comely,%20bright-eyed,%20and%20sulky.%5Cn%5CnAppearance%20relates%20various%20persons%20to%20various%20features.%20%20The%20verb%20to%20appear%20means%20the%20appearance%20relation.%5Cn%5CnMeet%20Market%20is%20a%20room.%5Cn%5CnBob,%20Carol,%20Ted,%20and%20Alice%20are%20people%20in%20the%20Meet%20Market.%5Cn%5CnBob%20appears%20snub-nosed%20and%20gangly.%5Cn%5CnTed%20appears%20sulky%20and%20snub-nosed.%5Cn%5CnCarol%20appears%20comely%20and%20bright-eyed.%5Cn%5CnAlice%20appears%20bright-eyed%20and%20comely.%5Cn%5CnYourself%20appears%20sulky%20and%20gangly.%5Cn%5CnInstead%20of%20looking:%5Cn%5Ctsay%20%22The%20snub-nosed%20ones:%20%5Blist%20of%20people%20who%20appear%20snub-nosed%5D%5Bline%20break%5D%22;%5Cn%5Ctsay%20%22The%20gangly%20ones:%20%5Blist%20of%20people%20who%20appear%20gangly%5D%5Bline%20break%5D%22;%5Cn%5Ctsay%20%22The%20comely%20ones:%20%5Blist%20of%20people%20who%20appear%20comely%5D%5Bline%20break%5D%22;%5Cn%5Ctsay%20%22The%20bright-eyed%20ones:%20%5Blist%20of%20people%20who%20appear%20bright-eyed%5D%5Bline%20break%5D%22;%5Cn%5Ctsay%20%22The%20sulky%20ones:%20%5Blist%20of%20people%20who%20appear%20sulky%5D%5Bparagraph%20break%5D%22.%5Cn%5CnTest%20me%20with%20%22look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Meet Market" by "K M and Eric Rossing"
</p>
<p class="quoted">
Feature is a kind of value.  The features are snub-nosed, gangly, comely, bright-eyed, and sulky.
</p>
<p class="quoted">
Appearance relates various persons to various features.  The verb to appear means the appearance relation.
</p>
<p class="quoted">
Meet Market is a room.
</p>
<p class="quoted">
Bob, Carol, Ted, and Alice are people in the Meet Market.
</p>
<p class="quoted">
Bob appears snub-nosed and gangly.
</p>
<p class="quoted">
Ted appears sulky and snub-nosed.
</p>
<p class="quoted">
Carol appears comely and bright-eyed.
</p>
<p class="quoted">
Alice appears bright-eyed and comely.
</p>
<p class="quoted">
Yourself appears sulky and gangly.
</p>
<p class="quoted">
Instead of looking:
<br>    say "The snub-nosed ones: [list of people who appear snub-nosed][line break]";
<br>    say "The gangly ones: [list of people who appear gangly][line break]";
<br>    say "The comely ones: [list of people who appear comely][line break]";
<br>    say "The bright-eyed ones: [list of people who appear bright-eyed][line break]";
<br>    say "The sulky ones: [list of people who appear sulky][paragraph break]".
</p>
<p class="quoted">
Test me with "look".
</p>
</div>
<p>The same logic might be used to provide characters who have complex mood states: a person might be angry and sad, not merely one or the other -- feelings being what they are.</p>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.13">WI §13.13. Relations involving values</a><br><a href="rb_7.html#rb-7.1">RB §7.1. Getting Acquainted</a>
</div></details><details class="full-example" id="example-32"><summary><span class="example-summary">32. Gopher-wood</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose that we want a character who starts out with a general epithet ("the bearded man") but is later introduced to the player properly ("Japheth"). In that case, we want to be able to tell Inform to stop using an article once the character has been given a proper name. We can do this like so:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Gopher-wood%22%5Cn%5CnThe%20Ark%20is%20a%20room.%20A%20bearded%20man%20is%20in%20the%20Ark.%5Cn%5CnInstead%20of%20examining%20the%20bearded%20man%20for%20the%20first%20time:%5Cn%5Ctnow%20the%20printed%20name%20of%20the%20bearded%20man%20is%20%22Japheth%22;%5Cn%5Ctnow%20the%20bearded%20man%20is%20proper-named;%5Cn%5Ctsay%20%22You%20peer%20at%20him%20a%20bit%20more%20closely%20and%20realize%20that%20it's%20Japheth.%22%5Cn%5Cn%5BFinally,%20we%20need%20to%20tell%20Inform%20to%20understand%20the%20man's%20name,%20but%20only%20when%20he's%20been%20introduced.%20For%20this%20purpose,%20we%20borrow%20from%20the%20chapter%20on%20Understanding:%5D%5Cn%5CnUnderstand%20%22Japheth%22%20as%20the%20bearded%20man%20when%20the%20bearded%20man%20is%20proper-named.%5Cn%5CnTest%20me%20with%20%22x%20japheth%20/%20x%20man%20/%20look%20/%20x%20japheth%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Gopher-wood"
</p>
<p class="quoted">
The Ark is a room. A bearded man is in the Ark.
</p>
<p class="quoted">
Instead of examining the bearded man for the first time:
<br>    now the printed name of the bearded man is "Japheth";
<br>    now the bearded man is proper-named;
<br>    say "You peer at him a bit more closely and realize that it's Japheth."
</p>
</div>
<p>Finally, we need to tell Inform to understand the man's name, but only when he's been introduced. For this purpose, we borrow from the chapter on Understanding:</p>

<div class="code">
<p class="quoted">
Understand "Japheth" as the bearded man when the bearded man is proper-named.
</p>
<p class="quoted">
Test me with "x japheth / x man / look / x japheth".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.18">WI §3.18. Articles and proper names</a><br><a href="rb_7.html#rb-7.1">RB §7.1. Getting Acquainted</a>
</div></details><details class="full-example" id="example-313"><summary><span class="example-summary">313. Peers</span> <span class="example-difficulty">★★</span></summary><div>
<p>Almost all of this example is the flummery of pomp and circumstance: only the first two paragraphs really do anything.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Peers%22%20by%20Elizabeth%20II%20R%5Cn%5CnA%20title%20is%20a%20kind%20of%20value.%20The%20titles%20are%20Baron,%20Viscount,%20Earl,%20Marquess,%20Duke%20and%20Prince.%5Cn%5CnA%20peer%20is%20a%20kind%20of%20man.%20A%20peer%20has%20a%20title.%20A%20peer%20is%20usually%20a%20Baron.%20Before%20printing%20the%20name%20of%20a%20peer,%20say%20%22%5Btitle%5D%20%22.%20Understand%20the%20title%20property%20as%20describing%20a%20peer.%5Cn%5CnThe%20House%20of%20Lords%20is%20a%20room.%20Maltravers,%20Pollifax,%20Omnium%20and%20St%20Vincent%20are%20peers%20in%20the%20House%20of%20Lords.%20Omnium%20is%20a%20Duke.%20St%20Vincent%20is%20an%20Earl.%5Cn%5CnEnnobling%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20title.%5Cn%5CnCheck%20ennobling:%5Cn%5Ctif%20the%20noun%20is%20the%20player,%20say%20%22The%20Sovereign%20is%20the%20fountain%20of%20honour,%20and%20may%20not%20be%20ennobled.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20not%20a%20peer,%20say%20%22Commoners%20should%20remain%20so.%22%20instead;%5Cn%5Ctif%20the%20title%20of%20the%20noun%20is%20the%20title%20understood,%20say%20%22But%20that%20is%20his%20title%20already.%22%20instead;%5Cn%5Ctif%20the%20title%20of%20the%20noun%20is%20greater%20than%20the%20title%20understood,%20say%20%22As%20he%20is%20already%20of%20the%20rank%20of%20%5Btitle%20of%20the%20noun%5D,%20any%20such%20letters%20patent%20are%20liable%20to%20be%20deemed%20invalid,%20following%20the%20precedent%20of%20the%20Buckhurst%20Peerage%20Case%20(1876).%20Best%20not.%22%20instead.%5Cn%5CnCarry%20out%20ennobling:%5Cn%5Ctnow%20the%20title%20of%20the%20noun%20is%20the%20title%20understood.%5Cn%5CnReport%20ennobling:%5Cn%5Ctsay%20%22'Whereas%20Our%20Parliament%20for%20arduous%20and%20urgent%20affairs%20concerning%20Us%20the%20state%20and%20defence%20of%20Our%20United%20Kingdom%20and%20the%20Church%20is%20now%20met%20at%20Our%20City%20of%20Westminster%20We%20strictly%20enjoining%20Command%20you%20upon%20the%20faith%20and%20allegiance%20by%20which%20you%20are%20bound%20to%20Us%20that%20the%20weightness%20of%20the%20said%20affairs%20and%20imminent%20perils%20considered%20(waiving%20all%20excuses)%20you%20be%20at%20the%20said%20day%20and%20place%20personally%20present%20with%20Us%20and%20with%20the%20said%20Prelates%20Great%20Men%20and%20Peers%20to%20treat%20and%20give%20your%20counsel%20upon%20the%20affairs%20aforesaid%20And%20this%20as%20you%20regard%20Us%20and%20Our%20honour%20and%20the%20safety%20and%20defence%20of%20the%20said%20Kingdom%20and%20Church%20and%20dispatch%20of%20the%20said%20affairs%20in%20nowise%20do%20you%20omit%20Witness%20Ourself%20at%20Westminster%20the%20Fifth%20day%20of%20November%20in%20the%2043rd%20year%20of%20Our%20Reign,'%20you%20say,%20with%20unpunctuated%20serenity.%20The%20new%20%5Bnoun%5D%20bows%20stiffly.%22%5Cn%5CnUnderstand%20%22dub%20%5Bsomeone%5D%20a/an%20%5Btitle%5D%22%20as%20ennobling.%5Cn%5CnTest%20me%20with%20%22dub%20st%20vincent%20a%20baron%20/%20dub%20maltravers%20a%20marquess%20/%20look%20/%20examine%20marquess%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Peers" by Elizabeth II R
</p>
<p class="quoted">
A title is a kind of value. The titles are Baron, Viscount, Earl, Marquess, Duke and Prince.
</p>
<p class="quoted">
A peer is a kind of man. A peer has a title. A peer is usually a Baron. Before printing the name of a peer, say "[title] ". Understand the title property as describing a peer.
</p>
<p class="quoted">
The House of Lords is a room. Maltravers, Pollifax, Omnium and St Vincent are peers in the House of Lords. Omnium is a Duke. St Vincent is an Earl.
</p>
<p class="quoted">
Ennobling is an action applying to one thing and one title.
</p>
<p class="quoted">
Check ennobling:
<br>    if the noun is the player, say "The Sovereign is the fountain of honour, and may not be ennobled." instead;
<br>    if the noun is not a peer, say "Commoners should remain so." instead;
<br>    if the title of the noun is the title understood, say "But that is his title already." instead;
<br>    if the title of the noun is greater than the title understood, say "As he is already of the rank of [title of the noun], any such letters patent are liable to be deemed invalid, following the precedent of the Buckhurst Peerage Case (1876). Best not." instead.
</p>
<p class="quoted">
Carry out ennobling:
<br>    now the title of the noun is the title understood.
</p>
<p class="quoted">
Report ennobling:
<br>    say "'Whereas Our Parliament for arduous and urgent affairs concerning Us the state and defence of Our United Kingdom and the Church is now met at Our City of Westminster We strictly enjoining Command you upon the faith and allegiance by which you are bound to Us that the weightness of the said affairs and imminent perils considered (waiving all excuses) you be at the said day and place personally present with Us and with the said Prelates Great Men and Peers to treat and give your counsel upon the affairs aforesaid And this as you regard Us and Our honour and the safety and defence of the said Kingdom and Church and dispatch of the said affairs in nowise do you omit Witness Ourself at Westminster the Fifth day of November in the 43rd year of Our Reign,' you say, with unpunctuated serenity. The new [noun] bows stiffly."
</p>
<p class="quoted">
Understand "dub [someone] a/an [title]" as ennobling.
</p>
<p class="quoted">
Test me with "dub st vincent a baron / dub maltravers a marquess / look / examine marquess".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.15">WI §17.15. Understanding things by their properties</a><br><a href="rb_7.html#rb-7.1">RB §7.1. Getting Acquainted</a>
</div></details><details class="full-example" id="example-237"><summary><span class="example-summary">237. A Humble Wayside Flower</span> <span class="example-difficulty">★★★</span></summary><div>
<p>First we define the relationships we choose to acknowledge:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22A%20Humble%20Wayside%20Flower%22%5Cn%5CnMarriage%20relates%20one%20person%20to%20another%20(called%20the%20spouse).%20The%20verb%20to%20be%20married%20to%20means%20the%20marriage%20relation.%5Cn%5CnFatherhood%20relates%20one%20person%20(called%20father)%20to%20various%20people.%20The%20verb%20to%20engender%20means%20the%20fatherhood%20relation.%5Cn%5Cn%5BFor%20brevity,%20we%20will%20ignore%20the%20existence%20of%20mothers.%20It%20is%20a%20sad%20world.%5D%5Cn%5CnSiblinghood%20relates%20a%20person%20(called%20A)%20to%20a%20person%20(called%20B)%20when%20a%20person%20who%20engenders%20A%20engenders%20B.%20The%20verb%20to%20be%20sibling%20to%20means%20the%20siblinghood%20relation.%5Cn%5CnFamily%20relates%20a%20person%20(called%20A)%20to%20a%20person%20(called%20B)%20when%20A%20is%20married%20to%20B%20or%20A%20engenders%20B%20or%20B%20engenders%20A%20or%20A%20is%20sibling%20to%20B.%20The%20verb%20to%20be%20related%20to%20means%20the%20family%20relation.%5Cn%5CnA%20person%20can%20be%20known%20or%20unknown.%20After%20printing%20the%20name%20of%20an%20unknown%20person%20(called%20the%20alien):%5Cn%5Ctif%20a%20known%20person%20(called%20the%20contact)%20is%20related%20to%20the%20alien:%5Cn%5Ct%5Ctsay%20%22%20(%5Brelation%20between%20alien%20and%20contact%5D%20of%20%5Bthe%20contact%5D)%22;%5Cn%5Ct%5Ctnow%20the%20alien%20is%20known;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnTo%20say%20relation%20between%20(first%20party%20-%20a%20person)%20and%20(second%20party%20-%20a%20person):%5Cn%5Ctif%20the%20first%20party%20is%20married%20to%20the%20second%20party:%5Cn%5Ct%5Ctif%20the%20first%20party%20is%20female,%20say%20%22wife%22;%5Cn%5Ct%5Ctotherwise%20say%20%22husband%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20the%20first%20party%20is%20sibling%20to%20the%20second%20party:%5Cn%5Ct%5Ctif%20the%20first%20party%20is%20female,%20say%20%22sister%22;%5Cn%5Ct%5Ctotherwise%20say%20%22brother%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20the%20first%20party%20engenders%20the%20second%20party:%5Cn%5Ct%5Ctsay%20%22father%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20the%20second%20party%20is%20the%20father%20of%20the%20first%20party:%5Cn%5Ct%5Ctif%20the%20first%20party%20is%20female,%20say%20%22daughter%22;%5Cn%5Ct%5Ctotherwise%20say%20%22son%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnPere%20Blanchard's%20Hut%20is%20a%20room.%20Percival%20Blakeney%20is%20a%20known%20man%20in%20the%20Hut.%20Marguerite%20is%20a%20woman%20in%20the%20Hut.%20Percival%20is%20married%20to%20Marguerite.%20Outside%20from%20the%20Hut%20is%20the%20Garden.%20Louise%20is%20a%20woman%20in%20the%20Garden.%20The%20Road%20to%20Paris%20is%20west%20of%20the%20Garden.%20Armand%20St%20Just%20is%20a%20man%20in%20the%20Road.%20Louise%20is%20married%20to%20Armand.%20Monsieur%20St%20Just%20is%20a%20man.%20He%20engenders%20Armand%20and%20Marguerite.%5Cn%5CnTest%20me%20with%20%22out%20/%20west%20/%20east%20/%20west%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "A Humble Wayside Flower"
</p>
<p class="quoted">
Marriage relates one person to another (called the spouse). The verb to be married to means the marriage relation.
</p>
<p class="quoted">
Fatherhood relates one person (called father) to various people. The verb to engender means the fatherhood relation.
</p>
</div>
<p>For brevity, we will ignore the existence of mothers. It is a sad world.</p>

<div class="code">
<p class="quoted">
Siblinghood relates a person (called A) to a person (called B) when a person who engenders A engenders B. The verb to be sibling to means the siblinghood relation.
</p>
<p class="quoted">
Family relates a person (called A) to a person (called B) when A is married to B or A engenders B or B engenders A or A is sibling to B. The verb to be related to means the family relation.
</p>
<p class="quoted">
A person can be known or unknown. After printing the name of an unknown person (called the alien):
<br>    if a known person (called the contact) is related to the alien:
<br>        say " ([relation between alien and contact] of [the contact])";
<br>        now the alien is known;
<br>        rule succeeds.
</p>
<p class="quoted">
To say relation between (first party - a person) and (second party - a person):
<br>    if the first party is married to the second party:
<br>        if the first party is female, say "wife";
<br>        otherwise say "husband";
<br>        rule succeeds;
<br>    if the first party is sibling to the second party:
<br>        if the first party is female, say "sister";
<br>        otherwise say "brother";
<br>        rule succeeds;
<br>    if the first party engenders the second party:
<br>        say "father";
<br>        rule succeeds;
<br>    if the second party is the father of the first party:
<br>        if the first party is female, say "daughter";
<br>        otherwise say "son";
<br>        rule succeeds.
</p>
<p class="quoted">
Pere Blanchard's Hut is a room. Percival Blakeney is a known man in the Hut. Marguerite is a woman in the Hut. Percival is married to Marguerite. Outside from the Hut is the Garden. Louise is a woman in the Garden. The Road to Paris is west of the Garden. Armand St Just is a man in the Road. Louise is married to Armand. Monsieur St Just is a man. He engenders Armand and Marguerite.
</p>
<p class="quoted">
Test me with "out / west / east / west".
</p>
</div>
<p>Monsieur St Just never appears on the scene in this piece, but if we did put him somewhere the player could find him, he, too, would be properly introduced.</p>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.12">WI §13.12. Relations which express conditions</a><br><a href="rb_7.html#rb-7.1">RB §7.1. Getting Acquainted</a>
</div></details>
</div></section>
<section class="section" id="rb-7.2"><div>





<h3>RB §7.2. Liveliness</h3>
<p>A character who sits still in a chair and does nothing is much less convincingly alive than one who seems to be pursuing some sort of personal agenda. There are all sorts of ways to achieve this, but the least challenging is by introducing some random change to descriptions, and by giving a character some very simple routine behavior to carry out.</p>
<p>For instance, we'll often want the characters in a room to be described doing different things every time we look at them. <a href="rb_7.html#example-67" class="example-link" onClick="(function() { document.getElementById('example-67').setAttribute('open','open'); return true; })();">Camp Bethel</a><span class="example-difficulty"> ★★</span> shows how this may be done.</p>
<p>Every turn rules lend some sprightliness to otherwise-silent characters, as well:</p>

<div class="code"><p class="quoted">
Every turn when the player can see Mrs MacGillicuddy:
<br>    say "Mrs. MacGillicuddy vacuums around [a random fixed in place thing which is in the location]."
</p></div>
<p>We might expand on this by providing a whole table of things for Mrs MacG. to cycle through, or a text variation effect that gives her different activities every turn, as in</p>

<div class="code"><p class="quoted">
Every turn when the player can see Mrs MacGillicuddy:
<br>    say "Mrs. MacGillicuddy [one of]vacuums around the furniture[or]tries to remove gum from the underside of the desks[or]causes a racket by testing the smoke alarm[or]makes a pointed comment or two about them as sit by idly while someone works her fingers to the bone[as decreasingly likely outcomes]."
</p></div>
<p>This is no great innovation in characterization by itself, but it does at least remind the player that the character is alive and moving about, even when he isn't paying attention to her.</p>
<p><a href="rb_7.html#example-153" class="example-link" onClick="(function() { document.getElementById('example-153').setAttribute('open','open'); return true; })();">Annoyotron Jr</a><span class="example-difficulty"> ★</span> demonstrates a character who actively tries to get our attention, and whose routine of behavior changes just slightly if we show signs of having reacted to him.</p>
<p><a href="rb_7.html#example-76" class="example-link" onClick="(function() { document.getElementById('example-76').setAttribute('open','open'); return true; })();">Lean and Hungry</a><span class="example-difficulty"> ★★★</span> implements a classic thief, a character who doesn't interact with the player much except to pick up valuable objects he finds left around the map. Later we will see rather more advanced ways to make characters act on their own goals and plans, but this kind of simple behavior is easily rigged as part of an every turn rule.</p>
<p>Finally, <a href="rb_7.html#example-140" class="example-link" onClick="(function() { document.getElementById('example-140').setAttribute('open','open'); return true; })();">Text Foosball</a><span class="example-difficulty"> ★★★★</span> extends the every-turn-rule idea to create an opponent who joins us in a randomized game of table soccer.</p>
<p>With animal characters, this kind of repetitive, semi-random behavior is often adequate: we don't expect animals to talk, or pursue steady goals, or to take an interest in what we do in their presence (unless it involves a food they like to eat).</p>
<p>For people, we are likely to need an assortment of additional techniques.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_8.html#rb-8.3" class="crossreference_link">Animals</a> for a domestic cat and dog</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-153"><summary><span class="example-summary">153. Annoyotron Jr</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Annoyotron%20Jr%22%5Cn%5CnThe%20Minivan%20is%20a%20room.%20The%20Open%20Road%20is%20outside%20from%20the%20Minivan.%20Pete%20is%20a%20man%20in%20the%20Minivan.%20%22Pete%20%5Bif%20the%20player%20has%20been%20in%20the%20Minivan%20for%203%20turns%5Dis%20starting%20to%20look%20bored%5Botherwise%5Dis%20playing%20with%20his%20travel%20activity%20book%5Bend%20if%5D.%22%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20player%20has%20been%20in%20the%20Minivan%20for%205%20turns,%20say%20%22'Are%20we%20there%20%5Bif%20saying%20no%5Dnow?'%5Botherwise%5Dyet?'%20asks%20Pete.%5Bend%20if%5D%22%5Cn%5CnInstead%20of%20saying%20no:%5Cn%5Ctsay%20%22'Oh,'%20says%20Pete.%20There%20is%20a%20blessed,%20momentary%20silence.%22%5Cn%5CnInstead%20of%20going%20to%20the%20Open%20Road:%5Cn%5Ctsay%20%22You%20leap%20to%20your%20death.%22;%5Cn%5Ctend%20the%20story.%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20look%20/%20g%20/%20g%20/%20g%20/%20no%20/%20z%20/%20z%20/%20z%20/%20no%20/%20z%20/%20out%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Annoyotron Jr"
</p>
<p class="quoted">
The Minivan is a room. The Open Road is outside from the Minivan. Pete is a man in the Minivan. "Pete [if the player has been in the Minivan for 3 turns]is starting to look bored[otherwise]is playing with his travel activity book[end if]."
</p>
<p class="quoted">
Every turn:
<br>    if the player has been in the Minivan for 5 turns, say "'Are we there [if saying no]now?'[otherwise]yet?' asks Pete.[end if]"
</p>
<p class="quoted">
Instead of saying no:
<br>    say "'Oh,' says Pete. There is a blessed, momentary silence."
</p>
<p class="quoted">
Instead of going to the Open Road:
<br>    say "You leap to your death.";
<br>    end the story.
</p>
<p class="quoted">
Test me with "z / z / look / g / g / g / no / z / z / z / no / z / out".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.15">WI §9.15. How many turns?</a><br><a href="rb_7.html#rb-7.2">RB §7.2. Liveliness</a>
</div></details><details class="full-example" id="example-67"><summary><span class="example-summary">67. Camp Bethel</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Camp%20Bethel%22%5Cn%5CnCamp%20Bethel%20Kitchen%20is%20a%20room.%5Cn%5Cn%5BOne%20use%20for%20text%20alternatives%20is%20to%20change%20the%20description%20of%20a%20room%20after%20first%20visiting.%20We've%20already%20seen,%20in%20the%20example%20%22Slightly%20Wrong%22,%20how%20to%20do%20this%20with%20%22%5Bif%20visited%5D%20...%20%5Botherwise%5D%20...%20%5Bend%20if%5D%22.%20But%20since%20the%20first%20description%20is%20printed%20once%20and%20the%20second%20description%20on%20all%20subsequent%20occasions,%20we%20could%20equally%20well%20write%5D%5Cn%5CnThe%20description%20of%20Camp%20Kitchen%20is%20%22%5Bone%20of%5DYou've%20never%20been%20into%20the%20kitchen%20before,%20though%20you've%20spent%20many%20an%20hour%20in%20the%20dining%20lodge.%20The%20place%20is%20larger%20than%20you%20would%20have%20expected,%20and%20it%20has%20none%20of%20the%20fake%20rustic%20touches%20of%20the%20rest%20of%20the%20camp%5Bor%5DA%20tidy,%20efficient%20industrial%20kitchen,%20without%20any%20of%20the%20kitsch%20rusticity%20found%20elsewhere%5Bstopping%5D.%22%5Cn%5Cn%5BWe%20might%20also%20want%20to%20liven%20up%20the%20behavior%20of%20people%20and%20animals,%20who%20are%20probably%20not%20doing%20the%20exact%20same%20thing%20every%20time%20we%20glance%20in%20their%20direction.%20There%20are%20more%20complex%20techniques%20for%20modeling%20the%20behavior%20of%20characters,%20as%20we%20will%20see%20in%20the%20chapters%20on%20Advanced%20Actions%20and%20Activities;%20but%20if%20we%20just%20want%20some%20textual%20variety,%20we%20might%20write%20something%20like:%5D%5Cn%5CnJeremy%20is%20a%20man%20in%20the%20Camp%20Bethel%20Kitchen.%20%22Jeremy%20stands%20at%20his%20station,%20%5Bone%20of%5Dpeeling%20white%20onions%5Bor%5Dbriskly%20dicing%20onions%5Bor%5Dchopping%20celery%5Bor%5Dpeeling%20carrots%5Bor%5Dtying%20fresh%20herbs%20together%20with%20string%5Bor%5Dputting%20all%20the%20vegetables%20into%20a%20large%20stock%20pot%5Bor%5Dwatching%20over%20his%20boiling%20vegetable%20stock%5Bcycling%5D.%22%5Cn%5Cn%5BAnd%20since%20(textual%20variation%20or%20not)%20we%20do%20want%20the%20player%20to%20be%20able%20to%20see%20all%20these%20objects:%5D%5Cn%5CnJeremy%20carries%20white%20onions,%20celery,%20carrots,%20and%20herbs.%20Jeremy's%20station%20is%20scenery%20in%20the%20kitchen.%20It%20is%20a%20supporter.%5Cn%5Cn%5BJeremy%20is%20following%20a%20sequence%20of%20actions%20to%20do%20an%20implied%20task%20(still%20somewhat%20robotically,%20but%20it%20will%20do%20for%20now).%20Animals%20might%20be%20a%20bit%20more%20capricious,%20though:%5D%5Cn%5CnFluffy%20is%20an%20animal%20in%20the%20Camp%20Bethel%20Kitchen.%20%22%5Bone%20of%5DFluffy%20is%20chasing%20its%20tail%5Bor%5DFluffy%20is%20staring%20out%20the%20window%5Bor%5DFluffy%20is%20rubbing%20itself%20against%20your%20leg%5Bpurely%20at%20random%5D.%22%5Cn%5CnA%20housefly%20is%20an%20animal%20in%20the%20Camp%20Bethel%20Kitchen.%20%22A%20large%20housefly%20%5Bone%20of%5Dlands%20on%20a%20countertop%5Bor%5Dflies%20around%20noisily%5Bor%5Dcircles%20Jeremy's%20chef%20hat%5Bat%20random%5D.%22%5Cn%5Cn%5BThe%20housefly's%20description%20is%20merely%20%22at%20random%22%20rather%20than%20%22purely%20at%20random%22%20because%20we%20want%20to%20show%20it%20doing%20a%20different%20thing%20each%20turn,%20whereas%20Fluffy%20could%20plausibly%20stare%20out%20the%20window%20for%20five%20turns%20in%20a%20row.%5D%5Cn%5Cn%5BThere%20are%20more%20complex%20ways%20to%20change%20and%20override%20the%20initial%20descriptions%20of%20people%20and%20things;%20if%20text%20alternatives%20do%20not%20get%20us%20far%20enough,%20we%20can%20turn%20to%20the%20%22rule%20for%20writing%20a%20paragraph%20about,%22%20documented%20in%20the%20Activities%20chapter.%5D%5Cn%5Cn%5BAnother%20frequent%20use%20of%20text%20alternatives%20is%20to%20give%20characters%20a%20bit%20of%20variety%20in%20things%20they're%20likely%20to%20say%20many%20times%20in%20the%20course%20of%20a%20game:%5D%5Cn%5CnInstead%20of%20telling%20Jeremy%20about%20something:%5Cn%5Ctsay%20%22Jeremy%20looks%20%5Bone%20of%5Dsurprised%5Bor%5Dintrigued%5Bor%5Dnonplussed%5Bat%20random%5D.%20'%5Bone%20of%5DYou%20don't%20say%5Bor%5DThat's%20very%20interesting%5Bor%5DDo%20go%20on%5Bor%5DI%20wish%20I'd%20known%20that%20sooner%5Bat%20random%5D!'%22.%5Cn%5Cn%5BOr,%20with%20somewhat%20more%20complexity:%5D%5Cn%5CnInstead%20of%20asking%20Jeremy%20about%20something:%5Cn%5Ctsay%20%22'%5Bone%20of%5DSorry,%5Bor%5DI'm%20afraid%5Bor%5DHm,%5Bat%20random%5D%20%5Bone%20of%5DI%20don't%20know%20much%20about%20that%5Bor%5Dyou've%20got%20me%20there%5Bor%5DI%20haven't%20the%20faintest%5Bat%20random%5D,'%20Jeremy%20%5Bone%20of%5Ddrawls%5Bor%5Dreplies%5Bor%5Dcomments%5Bor%5Dexclaims%5Bat%20random%5D%22;%5Cn%5Ctsay%20%22%5Bone%20of%5D%5Bor%5D%20huskily%5Bor%5D%20throatily%5Bor%5D%20silkily%5Bor%5D%20in%20a%20deep%20manly%20voice%5Bas%20decreasingly%20likely%20outcomes%5D.%22%5Cn%5Cn%5BNotice%20that,%20in%20that%20last%20line,%20our%20first%20option%20is%20entirely%20blank.%20If%20we%20put%20nothing%20as%20an%20element%20of%20the%20text%20alternatives%20list,%20this%20means%20that%20printing%20nothing%20at%20all%20is%20a%20viable%20alternative.%20In%20fact,%20we've%20made%20this%20the%20most%20common%20probability%20out%20of%20the%20decreasingly%20likely%20outcomes,%20so%20that%20five%20times%20in%20fifteen,%20or%20a%20third%20of%20the%20time%20the%20text%20is%20run,%20there%20will%20be%20no%20modifier%20printed%20at%20all.%5D%5Cn%5CnTest%20me%20with%20%22look%20/%20g%20/%20g%20/%20g%20/%20ask%20Jeremy%20about%20his%20feelings%20for%20me%20/%20ask%20jeremy%20about%20his%20amnesia%20/%20tell%20Jeremy%20about%20my%20unborn%20child%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Camp Bethel"
</p>
<p class="quoted">
Camp Bethel Kitchen is a room.
</p>
</div>
<p>One use for text alternatives is to change the description of a room after first visiting. We've already seen, in the example "Slightly Wrong", how to do this with "[if visited] ... [otherwise] ... [end if]". But since the first description is printed once and the second description on all subsequent occasions, we could equally well write</p>

<div class="code"><p class="quoted">
The description of Camp Kitchen is "[one of]You've never been into the kitchen before, though you've spent many an hour in the dining lodge. The place is larger than you would have expected, and it has none of the fake rustic touches of the rest of the camp[or]A tidy, efficient industrial kitchen, without any of the kitsch rusticity found elsewhere[stopping]."
</p></div>
<p>We might also want to liven up the behavior of people and animals, who are probably not doing the exact same thing every time we glance in their direction. There are more complex techniques for modeling the behavior of characters, as we will see in the chapters on Advanced Actions and Activities; but if we just want some textual variety, we might write something like:</p>

<div class="code"><p class="quoted">
Jeremy is a man in the Camp Bethel Kitchen. "Jeremy stands at his station, [one of]peeling white onions[or]briskly dicing onions[or]chopping celery[or]peeling carrots[or]tying fresh herbs together with string[or]putting all the vegetables into a large stock pot[or]watching over his boiling vegetable stock[cycling]."
</p></div>
<p>And since (textual variation or not) we do want the player to be able to see all these objects:</p>

<div class="code"><p class="quoted">
Jeremy carries white onions, celery, carrots, and herbs. Jeremy's station is scenery in the kitchen. It is a supporter.
</p></div>
<p>Jeremy is following a sequence of actions to do an implied task (still somewhat robotically, but it will do for now). Animals might be a bit more capricious, though:</p>

<div class="code">
<p class="quoted">
Fluffy is an animal in the Camp Bethel Kitchen. "[one of]Fluffy is chasing its tail[or]Fluffy is staring out the window[or]Fluffy is rubbing itself against your leg[purely at random]."
</p>
<p class="quoted">
A housefly is an animal in the Camp Bethel Kitchen. "A large housefly [one of]lands on a countertop[or]flies around noisily[or]circles Jeremy's chef hat[at random]."
</p>
</div>
<p>The housefly's description is merely "at random" rather than "purely at random" because we want to show it doing a different thing each turn, whereas Fluffy could plausibly stare out the window for five turns in a row.</p>
<p>There are more complex ways to change and override the initial descriptions of people and things; if text alternatives do not get us far enough, we can turn to the "rule for writing a paragraph about," documented in the Activities chapter.</p>
<p>Another frequent use of text alternatives is to give characters a bit of variety in things they're likely to say many times in the course of a game:</p>

<div class="code"><p class="quoted">
Instead of telling Jeremy about something:
<br>    say "Jeremy looks [one of]surprised[or]intrigued[or]nonplussed[at random]. '[one of]You don't say[or]That's very interesting[or]Do go on[or]I wish I'd known that sooner[at random]!'".
</p></div>
<p>Or, with somewhat more complexity:</p>

<div class="code"><p class="quoted">
Instead of asking Jeremy about something:
<br>    say "'[one of]Sorry,[or]I'm afraid[or]Hm,[at random] [one of]I don't know much about that[or]you've got me there[or]I haven't the faintest[at random],' Jeremy [one of]drawls[or]replies[or]comments[or]exclaims[at random]";
<br>    say "[one of][or] huskily[or] throatily[or] silkily[or] in a deep manly voice[as decreasingly likely outcomes]."
</p></div>
<p>Notice that, in that last line, our first option is entirely blank. If we put nothing as an element of the text alternatives list, this means that printing nothing at all is a viable alternative. In fact, we've made this the most common probability out of the decreasingly likely outcomes, so that five times in fifteen, or a third of the time the text is run, there will be no modifier printed at all.</p>

<div class="code"><p class="quoted">
Test me with "look / g / g / g / ask Jeremy about his feelings for me / ask jeremy about his amnesia / tell Jeremy about my unborn child".
</p></div>
<p>As this example (alas) reveals, text alternatives will not go all the way toward making our characters into compelling conversationalists; we will have to wait until we know more about Actions. But at least we have abolished the default responses, and given Jeremy a touch of personality, however witless.</p>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.7">WI §5.7. Text with random alternatives</a><br><a href="rb_7.html#rb-7.2">RB §7.2. Liveliness</a>
</div></details><details class="full-example" id="example-76"><summary><span class="example-summary">76. Lean and Hungry</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Lean%20and%20Hungry%22%5Cn%5CnSubstance%20is%20a%20kind%20of%20value.%20The%20substances%20are%20silver,%20gold,%20and%20lead.%20Everything%20has%20a%20substance.%20A%20thing%20is%20usually%20lead.%5Cn%5CnDefinition:%20a%20thing%20is%20valuable%20if%20it%20is%20not%20lead.%5Cn%5CnThe%20Limestone%20Cave%20is%20a%20room.%20%22Not%20very%20big,%20and%20it%20doesn't%20go%20back%20far,%20but%20you'd%20hoped%20to%20find%20some%20shelter%20here.%20Outside%20it%20is%20raining%20exceptionally%20hard.%22%5Cn%5CnThe%20sinister%20gentleman%20is%20a%20man%20in%20the%20Cave.%20%22Leaning%20against%20the%20wall%20is%20a%20sinister%20gentleman%20in%20a%20threadbare%20waistcoat.%22%20The%20description%20is%20%22He%20looks%20as%20though%20he%20might%20once%20have%20been%20quite%20well%20off.%22%5Cn%5CnAfter%20examining%20the%20gentleman:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20smiles%20back%20at%20you%20in%20an%20unnerving%20fashion.%22%5Cn%5Cn%5BNow%20we%20make%20the%20rule%20that%20governs%20the%20gentleman's%20behavior.%20Here%20we're%20going%20to%20invoke%20the%20rules%20that%20allow%20characters%20besides%20the%20player%20to%20do%20actions.%20More%20about%20this%20can%20be%20found%20in%20the%20Advanced%20Actions%20chapter:%5D%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20sinister%20gentleman%20can%20touch%20something%20valuable%20(called%20the%20treasure)%20which%20is%20not%20carried%20by%20a%20person:%5Cn%5Ct%5Cttry%20the%20gentleman%20taking%20the%20treasure.%5Cn%5CnReport%20the%20gentleman%20taking%20something:%5Cn%5Ct%5Ctsay%20%22%5BThe%20gentleman%5D%20slyly%20acquires%20%5Bthe%20noun%5D%20and%20tucks%20it%20into%20his%20pocket.%22%20instead.%5Cn%5Cn%5BThat%20%22not%20carried%20by%20a%20person%22%20prevents%20the%20gentleman%20from%20stealing%20from%20the%20player%20(or,%20less%20plausibly,%20from%20himself).%20If%20we%20did%20want%20him%20to%20pick%20pockets,%20we%20could%20just%20have%20said%20%22which%20is%20not%20carried%20by%20the%20gentleman%22.%5D%5Cn%5CnThe%20player%20is%20carrying%20a%20coin,%20a%20bust%20of%20Abraham%20Lincoln,%20a%20bottle%20of%20sherry,%20a%20small%20pistol,%20and%20a%20wad%20of%20Confederate%20cash.%20The%20coin%20is%20gold.%20The%20pistol%20is%20silver.%5Cn%5CnA%20locket%20is%20in%20the%20Cave.%20The%20locket%20is%20gold.%20%22A%20broken%20gold%20locket%20lies%20on%20the%20ground,%20a%20token%20of%20your%20late%20Mama.%22%5Cn%5CnTest%20me%20with%20%22get%20locket%20/%20i%20/%20drop%20locket%20/%20z%20/%20drop%20cash%20/%20z%20/%20x%20gentleman%20/%20drop%20all%20/%20z%20/%20z%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Lean and Hungry"
</p>
<p class="quoted">
Substance is a kind of value. The substances are silver, gold, and lead. Everything has a substance. A thing is usually lead.
</p>
<p class="quoted">
Definition: a thing is valuable if it is not lead.
</p>
<p class="quoted">
The Limestone Cave is a room. "Not very big, and it doesn't go back far, but you'd hoped to find some shelter here. Outside it is raining exceptionally hard."
</p>
<p class="quoted">
The sinister gentleman is a man in the Cave. "Leaning against the wall is a sinister gentleman in a threadbare waistcoat." The description is "He looks as though he might once have been quite well off."
</p>
<p class="quoted">
After examining the gentleman:
<br>    say "[The noun] smiles back at you in an unnerving fashion."
</p>
</div>
<p>Now we make the rule that governs the gentleman's behavior. Here we're going to invoke the rules that allow characters besides the player to do actions. More about this can be found in the Advanced Actions chapter:</p>

<div class="code">
<p class="quoted">
Every turn:
<br>    if the sinister gentleman can touch something valuable (called the treasure) which is not carried by a person:
<br>        try the gentleman taking the treasure.
</p>
<p class="quoted">
Report the gentleman taking something:
<br>        say "[The gentleman] slyly acquires [the noun] and tucks it into his pocket." instead.
</p>
</div>
<p>That "not carried by a person" prevents the gentleman from stealing from the player (or, less plausibly, from himself). If we did want him to pick pockets, we could just have said "which is not carried by the gentleman".</p>

<div class="code">
<p class="quoted">
The player is carrying a coin, a bust of Abraham Lincoln, a bottle of sherry, a small pistol, and a wad of Confederate cash. The coin is gold. The pistol is silver.
</p>
<p class="quoted">
A locket is in the Cave. The locket is gold. "A broken gold locket lies on the ground, a token of your late Mama."
</p>
<p class="quoted">
Test me with "get locket / i / drop locket / z / drop cash / z / x gentleman / drop all / z / z / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_6.html#wi-6.13">WI §6.13. To be able to see and touch</a><br><a href="rb_7.html#rb-7.2">RB §7.2. Liveliness</a>
</div></details><details class="full-example" id="example-140"><summary><span class="example-summary">140. Text Foosball</span> <span class="example-difficulty">★★★★</span></summary><div>
<p>Suppose we want a game of foosball in which our opponent acts every turn, but does different things depending on where the ball currently lies. We can put together a sequence of every-turn rules to account for this, as follows:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Text%20Foosball%22%5Cn%5CnUse%20scoring.%5Cn%5CnThe%20Lounge%20is%20a%20room.%20%22The%20Lounge%20is%20appointed%20with%20everything%20necessary%20to%20rest%20and%20relaxation:%20a%20vending%20machine,%20a%20potted%20palm,%20a%20stack%20of%20Entertainment%20Weekly%20issues%20from%201993,%20and%20--%20your%20pride%20and%20joy%20--%20a%20foosball%20game.%22%5Cn%5CnThe%20foosball%20game%20is%20scenery%20in%20the%20Lounge.%20Understand%20%22table%22%20or%20%22football%22%20or%20%22foozball%22%20or%20%22fussball%22%20or%20%22soccer%22%20as%20the%20foosball%20game.%20The%20game%20is%20a%20supporter.%20On%20the%20game%20is%20a%20small%20white%20ball.%20The%20ball%20can%20be%20still,%20approaching,%20receding,%20or%20unreachable.%20The%20description%20of%20the%20ball%20is%20%22Currently%20%5Bsmall%20white%20ball%20condition%5D.%22%5Cn%5CnAfter%20printing%20the%20name%20of%20the%20small%20white%20ball,%20say%20%22%20(%5Bsmall%20white%20ball%20condition%5D)%22.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20left%20hand%20status%20line%20is%20%22You:%20%5Bscore%5D%22;%5Cn%5Ctnow%20right%20hand%20status%20line%20is%20%22Joey:%20%5BJoey's%20score%5D%22.%5Cn%5CnSome%20tiny%20men%20on%20sticks%20are%20part%20of%20the%20game.%20Understand%20%22handles%22%20as%20the%20tiny%20men.%20The%20description%20is%20%22Okay,%20a%20couple%20of%20the%20tiny%20men%20have%20had%20their%20feet%20broken%20off,%20and%20the%20table%20surface%20itself%20is%20a%20bit%20warped,%20and%20the%20ball%20resembles%20a%20quail%20egg%20in%20respect%20of%20shape%20and%20color.%20This%20makes%20for%20a%20game%20of%20unusual%20randomness,%20but%20skill%20is%20overrated.%22%5Cn%5CnInstead%20of%20attacking%20or%20pulling%20or%20pushing%20the%20game%20when%20the%20ball%20is%20unreachable:%5Cn%5Ctsay%20%22You%20give%20the%20table%20a%20good%20shove,%20and%20the%20ball%20moves%20ever-so-slightly.%22;%5Cn%5Ctnow%20the%20ball%20is%20still.%5Cn%5CnInstead%20of%20taking%20the%20white%20ball:%5Cn%5Ctsay%20%22You'd%20forfeit%20the%20game%20if%20you%20did%20that.%22%5Cn%5CnInstead%20of%20turning%20the%20tiny%20men%20when%20the%20ball%20is%20unreachable:%5Cn%5Ctsay%20%22The%20ball%20has%20somehow%20gotten%20to%20a%20mystical%20point%20on%20the%20table%20where%20it%20cannot%20be%20reached,%20no%20matter%20what.%20Close%20inspection%20reveals%20that%20this%20point%20has%20been%20marked%20in%20chalk%20with%20a%20tiny%20X.%20Not%20that%20that%20does%20any%20good.%22%5Cn%5CnInstead%20of%20turning%20the%20tiny%20men%20when%20the%20ball%20is%20approaching:%5Cn%5Ctif%20a%20random%20chance%20of%202%20in%203%20succeeds:%5Cn%5Ct%5Ctif%20a%20random%20chance%20of%201%20in%202%20succeeds,%20now%20the%20ball%20is%20receding;%5Cn%5Ct%5Ctotherwise%20now%20the%20ball%20is%20still;%5Cn%5Ct%5Ctsay%20%22%5Bif%20the%20ball%20is%20still%5DThunk.%20%5Botherwise%5DThwack!%20%5Bend%20if%5DYou%20keep%20the%20ball%20from%20reaching%20its%20goal!%20Now%20it%20is%20%5Bsmall%20white%20ball%20condition%5D.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctlet%20Joey%20score.%5Cn%5CnTo%20let%20Joey%20score:%5Cn%5Ctnow%20the%20ball%20is%20still;%5Cn%5Ctnow%20Joey's%20score%20is%20Joey's%20score%20%20%201;%5Cn%5Ctsay%20%22The%20ball%20rolls%20neatly%20into%20your%20goal,%20despite%20your%20efforts.%20%22;%5Cn%5Ctif%20Joey's%20score%20&lt;%20score,%20say%20%22You%20put%20the%20ball%20back%20in%20the%20center%20with%20a%20snap.%20No%20reason%20to%20worry%20yet;%20you're%20still%20ahead.%20Joey%20looks%20determined,%20though.%22;%5Cn%5Ctotherwise%20say%20%22After%20allowing%20a%20moment%20or%20two%20for%20Joey's%20gloating%20to%20pass,%20you%20replace%20it%20at%20the%20center.%22%5Cn%5CnInstead%20of%20turning%20the%20tiny%20men%20when%20a%20random%20chance%20of%201%20in%2013%20succeeds:%5Cn%5Ctif%20the%20ball%20is%20unreachable,%20continue%20the%20action;%5Cn%5Ctnow%20the%20ball%20is%20unreachable;%5Cn%5Ctsay%20%22You%20hit%20the%20ball%20off-center%20and%20it%20rolls%20sluggishly%20into%20a%20little%20dip%20in%20the%20surface%20of%20the%20foosball%20table.%20%22;%5Cn%5Ctif%20Joey's%20score%20&gt;%207,%20say%20%22'You%20did%20that%20on%20purpose!'%20Joey%20exclaims%20indignantly.%22;%5Cn%5Ctotherwise%20say%20%22You%20and%20Joey%20exchange%20glances.%20This%20is%20never%20good.%22%5Cn%5CnInstead%20of%20turning%20the%20tiny%20men:%5Cn%5Ctsay%20%22You%20madly%20rotate%20the%20tiny%20men%20on%20sticks!%20%22;%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%202%20succeeds:%5Cn%5Ct%5Ctsay%20%22Hoorah!%20You%20hit%20the%20ball!%22;%5Cn%5Ct%5Ctnow%20the%20ball%20is%20receding;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Somehow%20you%20fail%20to%20bring%20your%20monopodal%20player%20into%20contact%20with%20the%20ball.%22%5Cn%5CnJoey%20is%20a%20man%20in%20the%20Lounge.%20%22Joey%20is%20hunkered%20over%20the%20foosball%20handles%20on%20his%20side%20of%20the%20table.%22%20Joey%20can%20be%20active%20or%20inactive.%5Cn%5CnJoey's%20score%20is%20a%20number%20that%20varies.%5Cn%5CnEvery%20turn:%20now%20Joey%20is%20active.%5Cn%5CnEvery%20turn%20when%20the%20ball%20is%20approaching%20and%20Joey%20is%20active:%5Cn%5Ctlet%20total%20be%20Joey's%20score%20%20%20score;%5Cn%5Ctif%20total%20&gt;%209,%20make%20no%20decision;%5Cn%5Ctnow%20Joey%20is%20inactive;%5Cn%5Ctlet%20Joey%20score;%5Cn%5Ctrule%20succeeds.%5Cn%5CnEvery%20turn%20when%20the%20ball%20is%20unreachable%20and%20Joey%20is%20active:%5Cn%5Ctlet%20total%20be%20Joey's%20score%20%20%20score;%5Cn%5Ctif%20total%20&gt;%209,%20make%20no%20decision;%5Cn%5Ctnow%20Joey%20is%20inactive;%5Cn%5Ctsay%20%22Joey%20glares%20angrily%20at%20the%20stuck%20ball.%22%5Cn%5CnEvery%20turn%20when%20the%20ball%20is%20receding%20and%20Joey%20is%20active:%5Cn%5Ctlet%20total%20be%20Joey's%20score%20%20%20score;%5Cn%5Ctif%20total%20&gt;%209,%20make%20no%20decision;%5Cn%5Ctif%20the%20ball%20is%20unreachable,%20make%20no%20decision;%5Cn%5Ctnow%20Joey%20is%20inactive;%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%202%20succeeds:%5Cn%5Ct%5Ctif%20a%20random%20chance%20of%201%20in%202%20succeeds,%20now%20the%20ball%20is%20still;%5Cn%5Ct%5Ctotherwise%20now%20the%20ball%20is%20approaching;%5Cn%5Ct%5Ctsay%20%22Joey%20connects%20with%20your%20shot.%20Now%20the%20ball%20is%20%5Bsmall%20white%20ball%20condition%5D!%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctnow%20the%20ball%20is%20still;%5Cn%5Ct%5Ctsay%20%22Joey%20tries%20to%20block,%20but%20misses!%20Back%20it%20goes%20in%20the%20center,%20where%20it%20is%20%5Bsmall%20white%20ball%20condition%5D.%22;%5Cn%5Ct%5Ctincrement%20the%20score.%5Cn%5CnEvery%20turn%20when%20the%20ball%20is%20still%20and%20Joey%20is%20active:%5Cn%5Ctlet%20total%20be%20Joey's%20score%20%20%20score;%5Cn%5Ctif%20total%20&gt;%209,%20make%20no%20decision;%5Cn%5Ctif%20the%20ball%20is%20unreachable,%20make%20no%20decision;%5Cn%5Ctnow%20Joey%20is%20inactive;%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%202%20succeeds:%5Cn%5Ct%5Ctnow%20the%20ball%20is%20approaching;%5Cn%5Ct%5Ctsay%20%22Joey%20hits%20the%20ball%20solidly%20down%20towards%20your%20goal.%20Now%20it%20is%20%5Bsmall%20white%20ball%20condition%5D.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Joey%20fails%20to%20hit%20the%20ball%20in%20your%20direction.%20It%20remains%20%5Bsmall%20white%20ball%20condition%5D.%22%5Cn%5CnEvery%20turn:%5Cn%5Ctlet%20total%20be%20Joey's%20score%20%20%20score;%5Cn%5Ctif%20total%20&gt;%209:%5Cn%5Ct%5Ctif%20Joey's%20score%20&gt;%20score,%20end%20the%20story%20saying%20%22Rats!%20Joey%20wins!%22;%5Cn%5Ct%5Ctif%20Joey's%20score%20&lt;%20score,%20end%20the%20story%20finally%20saying%20%22Victory%20is%20yours!%22;%5Cn%5Ct%5Ctif%20Joey's%20score%20is%20score,%20end%20the%20story%20saying%20%22A%20perfect%20tie.%22%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Text Foosball"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
The Lounge is a room. "The Lounge is appointed with everything necessary to rest and relaxation: a vending machine, a potted palm, a stack of Entertainment Weekly issues from 1993, and -- your pride and joy -- a foosball game."
</p>
<p class="quoted">
The foosball game is scenery in the Lounge. Understand "table" or "football" or "foozball" or "fussball" or "soccer" as the foosball game. The game is a supporter. On the game is a small white ball. The ball can be still, approaching, receding, or unreachable. The description of the ball is "Currently [small white ball condition]."
</p>
<p class="quoted">
After printing the name of the small white ball, say " ([small white ball condition])".
</p>
<p class="quoted">
When play begins:
<br>    now left hand status line is "You: [score]";
<br>    now right hand status line is "Joey: [Joey's score]".
</p>
<p class="quoted">
Some tiny men on sticks are part of the game. Understand "handles" as the tiny men. The description is "Okay, a couple of the tiny men have had their feet broken off, and the table surface itself is a bit warped, and the ball resembles a quail egg in respect of shape and color. This makes for a game of unusual randomness, but skill is overrated."
</p>
<p class="quoted">
Instead of attacking or pulling or pushing the game when the ball is unreachable:
<br>    say "You give the table a good shove, and the ball moves ever-so-slightly.";
<br>    now the ball is still.
</p>
<p class="quoted">
Instead of taking the white ball:
<br>    say "You'd forfeit the game if you did that."
</p>
<p class="quoted">
Instead of turning the tiny men when the ball is unreachable:
<br>    say "The ball has somehow gotten to a mystical point on the table where it cannot be reached, no matter what. Close inspection reveals that this point has been marked in chalk with a tiny X. Not that that does any good."
</p>
<p class="quoted">
Instead of turning the tiny men when the ball is approaching:
<br>    if a random chance of 2 in 3 succeeds:
<br>        if a random chance of 1 in 2 succeeds, now the ball is receding;
<br>        otherwise now the ball is still;
<br>        say "[if the ball is still]Thunk. [otherwise]Thwack! [end if]You keep the ball from reaching its goal! Now it is [small white ball condition].";
<br>    otherwise:
<br>        let Joey score.
</p>
<p class="quoted">
To let Joey score:
<br>    now the ball is still;
<br>    now Joey's score is Joey's score + 1;
<br>    say "The ball rolls neatly into your goal, despite your efforts. ";
<br>    if Joey's score &lt; score, say "You put the ball back in the center with a snap. No reason to worry yet; you're still ahead. Joey looks determined, though.";
<br>    otherwise say "After allowing a moment or two for Joey's gloating to pass, you replace it at the center."
</p>
<p class="quoted">
Instead of turning the tiny men when a random chance of 1 in 13 succeeds:
<br>    if the ball is unreachable, continue the action;
<br>    now the ball is unreachable;
<br>    say "You hit the ball off-center and it rolls sluggishly into a little dip in the surface of the foosball table. ";
<br>    if Joey's score &gt; 7, say "'You did that on purpose!' Joey exclaims indignantly.";
<br>    otherwise say "You and Joey exchange glances. This is never good."
</p>
<p class="quoted">
Instead of turning the tiny men:
<br>    say "You madly rotate the tiny men on sticks! ";
<br>    if a random chance of 1 in 2 succeeds:
<br>        say "Hoorah! You hit the ball!";
<br>        now the ball is receding;
<br>    otherwise:
<br>        say "Somehow you fail to bring your monopodal player into contact with the ball."
</p>
<p class="quoted">
Joey is a man in the Lounge. "Joey is hunkered over the foosball handles on his side of the table." Joey can be active or inactive.
</p>
<p class="quoted">
Joey's score is a number that varies.
</p>
<p class="quoted">
Every turn: now Joey is active.
</p>
<p class="quoted">
Every turn when the ball is approaching and Joey is active:
<br>    let total be Joey's score + score;
<br>    if total &gt; 9, make no decision;
<br>    now Joey is inactive;
<br>    let Joey score;
<br>    rule succeeds.
</p>
<p class="quoted">
Every turn when the ball is unreachable and Joey is active:
<br>    let total be Joey's score + score;
<br>    if total &gt; 9, make no decision;
<br>    now Joey is inactive;
<br>    say "Joey glares angrily at the stuck ball."
</p>
<p class="quoted">
Every turn when the ball is receding and Joey is active:
<br>    let total be Joey's score + score;
<br>    if total &gt; 9, make no decision;
<br>    if the ball is unreachable, make no decision;
<br>    now Joey is inactive;
<br>    if a random chance of 1 in 2 succeeds:
<br>        if a random chance of 1 in 2 succeeds, now the ball is still;
<br>        otherwise now the ball is approaching;
<br>        say "Joey connects with your shot. Now the ball is [small white ball condition]!";
<br>    otherwise:
<br>        now the ball is still;
<br>        say "Joey tries to block, but misses! Back it goes in the center, where it is [small white ball condition].";
<br>        increment the score.
</p>
<p class="quoted">
Every turn when the ball is still and Joey is active:
<br>    let total be Joey's score + score;
<br>    if total &gt; 9, make no decision;
<br>    if the ball is unreachable, make no decision;
<br>    now Joey is inactive;
<br>    if a random chance of 1 in 2 succeeds:
<br>        now the ball is approaching;
<br>        say "Joey hits the ball solidly down towards your goal. Now it is [small white ball condition].";
<br>    otherwise:
<br>        say "Joey fails to hit the ball in your direction. It remains [small white ball condition]."
</p>
<p class="quoted">
Every turn:
<br>    let total be Joey's score + score;
<br>    if total &gt; 9:
<br>        if Joey's score &gt; score, end the story saying "Rats! Joey wins!";
<br>        if Joey's score &lt; score, end the story finally saying "Victory is yours!";
<br>        if Joey's score is score, end the story saying "A perfect tie."
</p>
</div>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.5">WI §9.5. Every turn</a><br><a href="rb_7.html#rb-7.2">RB §7.2. Liveliness</a>
</div></details>
</div></section>
<section class="section" id="rb-7.3"><div>





<h3>RB §7.3. Reactive Characters</h3>
<p>As we observe characters, so they observe us. Those who seem to have no awareness of what the player is doing often come across more like waxworks than like people. <a href="rb_7.html#example-96" class="example-link" onClick="(function() { document.getElementById('example-96').setAttribute('open','open'); return true; })();">Zodiac</a><span class="example-difficulty"> ★</span> demonstrates a scenario where the watchful presence of a dangerous criminal keeps the player from doing what he otherwise might, while <a href="rb_7.html#example-187" class="example-link" onClick="(function() { document.getElementById('example-187').setAttribute('open','open'); return true; })();">Police State</a><span class="example-difficulty"> ★</span> expands on this idea with a policeman who reacts to entire types of behavior in his presence, regardless of whether the culprit is the player or a third party. <a href="rb_7.html#example-196" class="example-link" onClick="(function() { document.getElementById('example-196').setAttribute('open','open'); return true; })();">Noisemaking</a><span class="example-difficulty"> ★★★</span> has a crow who will fly away in response to any loud noises the player makes.</p>
<p>And, of course, we definitely want to have characters react to being looked at or otherwise interfered with. <a href="rb_7.html#example-38" class="example-link" onClick="(function() { document.getElementById('example-38').setAttribute('open','open'); return true; })();">Search and Seizure</a><span class="example-difficulty"> ★★★</span> implements a smuggler who reacts when we try to confiscate his possessions. <a href="rb_7.html#example-154" class="example-link" onClick="(function() { document.getElementById('example-154').setAttribute('open','open'); return true; })();">Pine 1</a><span class="example-difficulty"> ★</span> gives us a sleeping princess who can be woken by a variety of methods.</p>
<p>We wrap up this section with two complete puzzle scenarios that demonstrate what can be achieved by giving characters reactions to the player's behavior. <a href="rb_7.html#example-112" class="example-link" onClick="(function() { document.getElementById('example-112').setAttribute('open','open'); return true; })();">A Day For Fresh Sushi</a><span class="example-difficulty"> ★★★★</span> has a fish who watches the player's actions and comments on them, while the live furnishings in <a href="rb_7.html#example-82" class="example-link" onClick="(function() { document.getElementById('example-82').setAttribute('open','open'); return true; })();">Revenge of the Fussy Table</a><span class="example-difficulty"> ★★★★</span> instead comment every turn on the current state of the world, until the player has successfully sorted out all their complaints.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-96"><summary><span class="example-summary">96. Zodiac</span> <span class="example-difficulty">★</span></summary><div>
<p>Notice that the following two scenarios do not have the same effect:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Zodiac%22%5Cn%5CnThe%20Secluded%20Alley%20is%20a%20room.%20The%20Capricorn%20Killer%20is%20a%20man%20in%20the%20Secluded%20Alley.%5Cn%5CnThe%20player%20carries%20a%20can%20of%20mace%20and%20a%20roll%20of%20duct%20tape.%5Cn%5CnInstead%20of%20doing%20something%20other%20than%20examining%20with%20the%20Capricorn%20Killer:%5Cn%5Ctsay%20%22You%20wouldn't%20dare!%22%5Cn%5CnTest%20me%20with%20%22x%20me%20/%20x%20killer%20/%20touch%20killer%20/%20smell%20mace%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Zodiac"
</p>
<p class="quoted">
The Secluded Alley is a room. The Capricorn Killer is a man in the Secluded Alley.
</p>
<p class="quoted">
The player carries a can of mace and a roll of duct tape.
</p>
<p class="quoted">
Instead of doing something other than examining with the Capricorn Killer:
<br>    say "You wouldn't dare!"
</p>
<p class="quoted">
Test me with "x me / x killer / touch killer / smell mace".
</p>
</div>
<p>...will prevent the player from doing anything else to the killer, but allow him free range of action with other objects. By contrast, the following will prevent him doing anything other than examining to any item:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Zodiac%22%5Cn%5CnThe%20Secluded%20Alley%20is%20a%20room.%20The%20Capricorn%20Killer%20is%20a%20man%20in%20the%20Secluded%20Alley.%5Cn%5CnThe%20player%20carries%20a%20can%20of%20mace%20and%20a%20roll%20of%20duct%20tape.%5Cn%5CnInstead%20of%20doing%20something%20other%20than%20examining%20something%20in%20the%20presence%20of%20the%20Capricorn%20Killer:%5Cn%5Ctsay%20%22You%20dare%20not%20attempt%20it!%22%5Cn%5CnTest%20me%20with%20%22x%20me%20/%20x%20killer%20/%20touch%20killer%20/%20smell%20mace%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Zodiac"
</p>
<p class="quoted">
The Secluded Alley is a room. The Capricorn Killer is a man in the Secluded Alley.
</p>
<p class="quoted">
The player carries a can of mace and a roll of duct tape.
</p>
<p class="quoted">
Instead of doing something other than examining something in the presence of the Capricorn Killer:
<br>    say "You dare not attempt it!"
</p>
<p class="quoted">
Test me with "x me / x killer / touch killer / smell mace".
</p>
</div>
<p>But notice that because we specified "examining something", actions that take no object (like sing) are still not affected.</p>
<p>The most strict statement would be</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Zodiac%22%5Cn%5CnThe%20Secluded%20Alley%20is%20a%20room.%20The%20Capricorn%20Killer%20is%20a%20man%20in%20the%20Secluded%20Alley.%5Cn%5CnThe%20player%20carries%20a%20can%20of%20mace%20and%20a%20roll%20of%20duct%20tape.%5Cn%5CnInstead%20of%20doing%20something%20other%20than%20looking%20or%20examining%20in%20the%20presence%20of%20the%20Capricorn%20Killer:%5Cn%5Ctsay%20%22You%20dare%20not%20attempt%20it!%22%5Cn%5CnTest%20me%20with%20%22x%20me%20/%20x%20killer%20/%20touch%20killer%20/%20smell%20mace%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Zodiac"
</p>
<p class="quoted">
The Secluded Alley is a room. The Capricorn Killer is a man in the Secluded Alley.
</p>
<p class="quoted">
The player carries a can of mace and a roll of duct tape.
</p>
<p class="quoted">
Instead of doing something other than looking or examining in the presence of the Capricorn Killer:
<br>    say "You dare not attempt it!"
</p>
<p class="quoted">
Test me with "x me / x killer / touch killer / smell mace".
</p>
</div>
<p>Because we left "something" out, now the pattern does not have to match an activity with an object; it will match any activity at all. Singing too will be deemed too risky in the presence of our sinister foe. But we do need to make an exception for "look", or else we won't get even the room description.</p>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.9">WI §7.9. All actions and exceptional actions</a><br><a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>
</div></details><details class="full-example" id="example-154"><summary><span class="example-summary">154. Pine 1</span> <span class="example-difficulty">★</span></summary><div>
<p>Because scene rules are checked every turn, they can be useful for designing puzzles which have multiple solutions. Instead of deciding the puzzle is "solved" when the player does a certain action, we set up a scene that checks to see whether the player has achieved a certain outcome -- however he accomplished it.</p>
<p>For instance, in this scenario, we're waiting for Sleeping Beauty to wake up, and it doesn't much matter how...</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Pine%22%5Cn%5CnA%20person%20can%20be%20asleep%20or%20awake.%20A%20person%20can%20be%20active%20or%20passive.%5Cn%5CnThe%20Spinning%20Tower%20is%20a%20room.%20%22A%20remote%20corner%20of%20the%20old%20castle,%20reserved%20for%20spinning%20and%20weaving%20tasks.%22%5Cn%5CnSleeping%20Beauty%20is%20an%20asleep%20woman%20in%20the%20Spinning%20Tower.%20%22%5Bif%20asleep%5DSleeping%20Beauty%20lies%20here,%20oblivious%20to%20your%20presence%5Botherwise%5DSleeping%20Beauty%20stands%20beside%20you,%20looking%20a%20little%20confused%5Bend%20if%5D.%22%20The%20description%20is%20%22She%20is%20even%20more%20magnificent%20than%20the%20rumors%20suggested.%22%20Understand%20%22woman%22%20or%20%22girl%22%20or%20%22princess%22%20or%20%22lady%22%20as%20Sleeping%20Beauty.%5Cn%5CnDiscovery%20is%20a%20scene.%20Discovery%20begins%20when%20play%20begins.%20Discovery%20ends%20when%20Sleeping%20Beauty%20is%20awake.%20Marriage%20Proposal%20is%20a%20scene.%20Marriage%20Proposal%20begins%20when%20Discovery%20ends.%5Cn%5CnWhen%20Discovery%20ends:%20say%20%22Throughout%20the%20palace%20you%20can%20hear%20the%20other%20sounds%20of%20stirring%20and%20movement%20as%20the%20spell%20of%20centuries%20is%20broken.%22%5Cn%5CnInstead%20of%20waking%20an%20awake%20person:%20say%20%22Redundant.%22%5Cn%5CnInstead%20of%20waking%20an%20asleep%20person:%20say%20%22Yes,%20but%20how?%22%5Cn%5CnInstead%20of%20attacking%20an%20asleep%20person:%5Cn%5Ctnow%20the%20noun%20is%20awake;%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20sits%20bolt%20upright.%20'Hey!%20Ow!'%20So%20much%20for%20that%20true%20love's%20kiss%20nonsense.%22%5Cn%5CnInstead%20of%20kissing%20an%20asleep%20person:%5Cn%5Ctnow%20the%20noun%20is%20awake;%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20slowly%20stirs%20to%20wakefulness!%22%5Cn%5CnInstead%20of%20throwing%20water%20at%20an%20asleep%20person:%5Cn%5Ctnow%20the%20second%20noun%20is%20awake;%5Cn%5Ctnow%20the%20noun%20is%20nowhere;%5Cn%5Ctsay%20%22You%20pour%20out%20%5Bthe%20noun%5D%20on%20%5Bthe%20second%20noun%5D.%5Cn%5Cn%5BThe%20second%20noun%5D%20wakes,%20shuddering.%20'Agh!%20I%20had%20a%20terrible%20dream%20about%20drowning%20and%20then--%20Hey!'%22%5Cn%5CnThe%20player%20carries%20a%20jug%20of%20water.%20Understand%20%22pour%20%5Bsomething%5D%20on%20%5Bsomething%5D%22%20or%20%22splash%20%5Bsomething%5D%20at/on%20%5Bsomething%5D%22%20as%20throwing%20it%20at.%5Cn%5CnTest%20me%20with%20%22x%20beauty%20/%20wake%20beauty%20/%20pour%20water%20on%20beauty%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Pine"
</p>
<p class="quoted">
A person can be asleep or awake. A person can be active or passive.
</p>
<p class="quoted">
The Spinning Tower is a room. "A remote corner of the old castle, reserved for spinning and weaving tasks."
</p>
<p class="quoted">
Sleeping Beauty is an asleep woman in the Spinning Tower. "[if asleep]Sleeping Beauty lies here, oblivious to your presence[otherwise]Sleeping Beauty stands beside you, looking a little confused[end if]." The description is "She is even more magnificent than the rumors suggested." Understand "woman" or "girl" or "princess" or "lady" as Sleeping Beauty.
</p>
<p class="quoted">
Discovery is a scene. Discovery begins when play begins. Discovery ends when Sleeping Beauty is awake. Marriage Proposal is a scene. Marriage Proposal begins when Discovery ends.
</p>
<p class="quoted">
When Discovery ends: say "Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken."
</p>
<p class="quoted">
Instead of waking an awake person: say "Redundant."
</p>
<p class="quoted">
Instead of waking an asleep person: say "Yes, but how?"
</p>
<p class="quoted">
Instead of attacking an asleep person:
<br>    now the noun is awake;
<br>    say "[The noun] sits bolt upright. 'Hey! Ow!' So much for that true love's kiss nonsense."
</p>
<p class="quoted">
Instead of kissing an asleep person:
<br>    now the noun is awake;
<br>    say "[The noun] slowly stirs to wakefulness!"
</p>
<p class="quoted">
Instead of throwing water at an asleep person:
<br>    now the second noun is awake;
<br>    now the noun is nowhere;
<br>    say "You pour out [the noun] on [the second noun].
</p>
<p class="quoted">
[The second noun] wakes, shuddering. 'Agh! I had a terrible dream about drowning and then-- Hey!'"
</p>
<p class="quoted">
The player carries a jug of water. Understand "pour [something] on [something]" or "splash [something] at/on [something]" as throwing it at.
</p>
<p class="quoted">
Test me with "x beauty / wake beauty / pour water on beauty".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_10.html#wi-10.2">WI §10.2. Creating a scene</a><br><a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>
</div></details><details class="full-example" id="example-187"><summary><span class="example-summary">187. Police State</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Police%20State%22%5Cn%5CnSeventh%20Avenue%20is%20a%20room.%20%22The%20bars%20are%20all%20closed%20now,%20and%20there%20aren't%20any%20good%20clubs%20to%20go%20to,%20so%20you're%20on%20your%20own%20for%20open-air%20entertainment.%22%5Cn%5CnPersuasion%20rule%20for%20asking%20the%20policeman%20to%20try%20doing%20something:%20persuasion%20fails.%5Cn%5CnPersuasion%20rule%20for%20asking%20someone%20to%20try%20doing%20something:%20persuasion%20succeeds.%5Cn%5Cn%5BNote%20that%20the%20policeman%20will%20never%20get%20to%20the%20second%20persuasion%20rule,%20so%20he%20will%20always%20refuse%20to%20do%20the%20player's%20nefarious%20bidding.%5D%5Cn%5CnCharles,%20Thomas,%20and%20Larry%20are%20men%20in%20Seventh%20Avenue.%20Patricia%20is%20a%20woman%20in%20Seventh%20Avenue.%5Cn%5Cn%5BAnd%20here's%20an%20unnecessary%20aesthetic%20touch%20from%20a%20later%20chapter,%20which%20will%20round%20up%20the%20descriptions%20of%20your%20friends%20into%20a%20single%20paragraph:%5D%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20someone%20who%20is%20not%20the%20policeman:%5Cn%5Ctlet%20X%20be%20the%20number%20of%20visible%20people%20who%20are%20not%20the%20policeman;%5Cn%5Ctsay%20%22It's%20just%20%5BX%20in%20words%5D%20of%20you%20now:%20%5Ba%20list%20of%20visible%20people%20who%20are%20not%20the%20policeman%5D.%20But%20it%20sure%20has%20been%20a%20rip-roaring%20evening.%22%5Cn%5CnThe%20policeman%20is%20a%20man%20in%20Seventh%20Avenue.%20%22A%20policeman%20with%20a%20very%20guarded%20expression%20is%20watching%20you.%22%5Cn%5CnSinging%20is%20an%20action%20applying%20to%20nothing.%20Understand%20%22sing%22%20as%20singing.%5Cn%5CnReport%20singing:%5Cn%5Ctsay%20%22A%20little%20the%20worse%20for%20wear,%20you%20sing.%22%5Cn%5CnSmelling%20a%20person%20is%20disorderly%20conduct.%20Tasting%20a%20person%20is%20disorderly%20conduct.%20Jumping%20is%20disorderly%20conduct.%20Singing%20is%20disorderly%20conduct.%5Cn%5CnInstead%20of%20someone%20trying%20disorderly%20conduct%20in%20the%20presence%20of%20the%20policeman:%5Cn%5Ctsay%20%22The%20policeman%20arrests%20%5Bthe%20person%20asked%5D!%22;%5Cn%5Ctnow%20the%20person%20asked%20is%20nowhere;%5Cn%5Ctthe%20rule%20succeeds.%5Cn%5CnInstead%20of%20disorderly%20conduct%20in%20the%20presence%20of%20the%20policeman:%5Cn%5Ctend%20the%20story%20saying%20%22The%20policeman%20arrests%20you!%22%5Cn%5CnTest%20me%20with%20%22charles,%20look%20/%20charles,%20jump%20/%20look%20/%20policeman,%20sing%20/%20thomas,%20taste%20policeman%20/%20patricia,%20sing%20/%20look%20/%20jump%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Police State"
</p>
<p class="quoted">
Seventh Avenue is a room. "The bars are all closed now, and there aren't any good clubs to go to, so you're on your own for open-air entertainment."
</p>
<p class="quoted">
Persuasion rule for asking the policeman to try doing something: persuasion fails.
</p>
<p class="quoted">
Persuasion rule for asking someone to try doing something: persuasion succeeds.
</p>
</div>
<p>Note that the policeman will never get to the second persuasion rule, so he will always refuse to do the player's nefarious bidding.</p>

<div class="code"><p class="quoted">
Charles, Thomas, and Larry are men in Seventh Avenue. Patricia is a woman in Seventh Avenue.
</p></div>
<p>And here's an unnecessary aesthetic touch from a later chapter, which will round up the descriptions of your friends into a single paragraph:</p>

<div class="code">
<p class="quoted">
Rule for writing a paragraph about someone who is not the policeman:
<br>    let X be the number of visible people who are not the policeman;
<br>    say "It's just [X in words] of you now: [a list of visible people who are not the policeman]. But it sure has been a rip-roaring evening."
</p>
<p class="quoted">
The policeman is a man in Seventh Avenue. "A policeman with a very guarded expression is watching you."
</p>
<p class="quoted">
Singing is an action applying to nothing. Understand "sing" as singing.
</p>
<p class="quoted">
Report singing:
<br>    say "A little the worse for wear, you sing."
</p>
<p class="quoted">
Smelling a person is disorderly conduct. Tasting a person is disorderly conduct. Jumping is disorderly conduct. Singing is disorderly conduct.
</p>
<p class="quoted">
Instead of someone trying disorderly conduct in the presence of the policeman:
<br>    say "The policeman arrests [the person asked]!";
<br>    now the person asked is nowhere;
<br>    the rule succeeds.
</p>
<p class="quoted">
Instead of disorderly conduct in the presence of the policeman:
<br>    end the story saying "The policeman arrests you!"
</p>
<p class="quoted">
Test me with "charles, look / charles, jump / look / policeman, sing / thomas, taste policeman / patricia, sing / look / jump".
</p>
</div>
<p>Notice the difference between the two rules about disorderly conduct: the one for other people says 'the rule succeeds' to make sure that the action is counted as a success and not (as normally happens with instead rules) a failure. Most of the time we don't care whether actions are judged successes or failures, but it matters here, because if we type CHARLES, JUMP and the result fails, then text such as 'Charles is unable to.' will be printed - which would get in the way. So we declare the action a success.</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.4">WI §12.4. Persuasion</a><br><a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>
</div></details><details class="full-example" id="example-38"><summary><span class="example-summary">38. Search and Seizure</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we want a character who carries hidden objects, but only while he is wearing his jacket. If we deprive him of this, his other possessions become known. Furthermore, if we ever search him, his possessions also become known, and can thereafter be mentioned by us.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Search%20and%20Seizure%22%5Cn%5CnSize%20is%20a%20kind%20of%20value.%20The%20sizes%20are%20small,%20medium,%20and%20large.%20A%20thing%20has%20a%20size.%20A%20thing%20is%20usually%20small.%5Cn%5CnA%20thing%20can%20be%20licit%20or%20contraband.%20A%20thing%20is%20usually%20licit.%5Cn%5CnA%20thing%20can%20be%20discovered%20or%20secret.%20A%20thing%20is%20usually%20secret.%5Cn%5Cn%5BNow,%20we%20want%20the%20character%20to%20be%20able%20to%20hide%20small%20things%20if%20he%20has%20some%20sort%20of%20concealing%20garment%20on.%20We%20also%20want%20to%20be%20able%20to%20see%20anything%20that%20the%20player%20has%20already%20found%20once,%20perhaps%20by%20using%20the%20&gt;SEARCH%20PERSON%20command.%20So:%5D%5Cn%5CnRule%20for%20deciding%20the%20concealed%20possessions%20of%20someone%20(called%20the%20suspect):%5Cn%5Ctif%20the%20particular%20possession%20is%20discovered,%20no;%5Cn%5Ctif%20the%20suspect%20wears%20something%20and%20the%20particular%20possession%20is%20small,%20yes;%5Cn%5Ctotherwise%20no.%5Cn%5Cn%5BThe%20following%20rule,%20borrowed%20from%20a%20later%20chapter,%20assures%20that%20any%20items%20that%20are%20ever%20mentioned%20to%20the%20player%20will%20be%20treated%20as%20known%20from%20then%20on:%5D%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20(called%20discovery):%20now%20the%20discovery%20is%20discovered.%5Cn%5CnThe%20Customs%20House%20is%20a%20room.%20The%20smuggler%20is%20a%20man%20in%20the%20Customs%20House.%20The%20smuggler%20wears%20a%20leather%20jacket.%20He%20carries%20a%20bottle%20of%20Altairan%20rum,%20some%20raspberries,%20and%20a%20laser%20pistol.%20The%20pistol%20is%20large.%20The%20jacket%20is%20large.%20The%20rum%20and%20the%20raspberries%20are%20contraband.%20The%20description%20of%20the%20smuggler%20is%20%22He%20has%20a%20bestubbled%20chin%20and%20a%20sinister%20eye.%22%5Cn%5CnThe%20tourist%20is%20a%20woman%20in%20the%20customs%20house.%20The%20description%20is%20%22The%20type%20who%20walks%20off%20home%20with%20a%20dozen%20contraband%20items%20in%20her%20pocket%20not%20because%20she%20means%20to%20steal%20things%20but%20because%20she's%20too%20stupid%20to%20understand%20that%20the%20law%20applies%20to%20herself.%22%20She%20wears%20a%20tight-fitting%20dress.%20The%20dress%20is%20large.%20The%20tourist%20carries%20a%20grapevine%20and%20an%20archaeological%20artifact.%20The%20grapevine%20is%20large%20and%20contraband.%20The%20artifact%20is%20contraband.%5Cn%5CnReport%20examining%20someone:%20say%20%22%5BThe%20noun%5D%20is%20%5Bif%20the%20noun%20is%20wearing%20something%5Dwearing%20%5Ba%20list%20of%20unconcealed%20things%20worn%20by%20the%20noun%5D%20and%20%5Bend%20if%5Dcarrying%20%5Ba%20list%20of%20unconcealed%20things%20carried%20by%20the%20noun%5D.%22%5Cn%5CnReport%20examining%20someone%20who%20is%20concealing%20something%20contraband:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20looks%20nervous.%20You%20can%20just%20tell.%22%5Cn%5CnReport%20examining%20someone%20who%20is%20carrying%20an%20unconcealed%20contraband%20thing:%5Cn%5Ctsay%20%22Your%20eye%20goes%20at%20once%20to%20%5Bthe%20list%20of%20unconcealed%20contraband%20things%20carried%20by%20the%20noun%5D%20which%20%5Bthe%20noun%5D%20is%20unable%20to%20hide%22;%5Cn%5Ctif%20an%20unconcealed%20licit%20thing%20is%20had%20by%20the%20noun,%20say%20%22,%20though%20%5Bif%20the%20noun%20is%20female%5Ds%5Bend%20if%5Dhe%20also%20has%20%5Ba%20list%20of%20unconcealed%20licit%20things%20had%20by%20the%20noun%5D%22;%5Cn%5Ctsay%20%22.%22%20instead.%5Cn%5Cn%5BNotice%20that%20we%20can%20talk%20about%20what%20the%20smuggler%20wears,%20what%20he%20carries,%20and%20what%20he%20%22has%22:%20things%20the%20smuggler%20has%20can%20be%20either%20worn%20or%20carried,%20so%20the%20phrase%20is%20useful%20if%20we%20don't%20care%20to%20make%20that%20distinction.%5D%5Cn%5CnInstead%20of%20searching%20someone:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20is%20revealed%20to%20be%20carrying%20%5Ba%20list%20of%20things%20carried%20by%20the%20noun%5D.%22%5Cn%5CnInstead%20of%20confiscating%20the%20dress:%5Cn%5Ctsay%20%22You%20are%20not%20allowed%20to%20perform%20strip-searches%20in%20the%20public%20customs%20area.%22%5Cn%5CnUnderstand%20%22confiscate%20%5Bsomething%5D%22%20as%20confiscating.%5Cn%5CnConfiscating%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20confiscating:%5Cn%5Ctunless%20the%20noun%20is%20had%20by%20someone%20who%20is%20not%20the%20player:%5Cn%5Ct%5Ctsay%20%22You%20can%20only%20confiscate%20other%20people's%20possessions.%22%20instead.%5Cn%5CnCarry%20out%20confiscating:%5Cn%5Ctnow%20the%20noun%20is%20carried%20by%20the%20player.%5Cn%5CnReport%20confiscating:%5Cn%5Ctsay%20%22Through%20the%20authority%20vested%20in%20you%20by%20the%20power%20of%20the%20Sovereign%20of%20Centauri%20Proxima,%20you%20make%20%5Bthe%20noun%5D%20your%20own.%22%5Cn%5CnTest%20me%20with%20%22x%20smuggler%20/%20search%20smuggler%20/%20x%20smuggler%20/%20confiscate%20jacket%20/%20x%20smuggler%20/%20confiscate%20rum%20/%20confiscate%20pistol%20/%20x%20smuggler%20/%20confiscate%20raspberries%20/%20x%20smuggler%22.%5Cn%5CnTest%20more%20with%20%22x%20tourist%20/%20confiscate%20dress%20/%20confiscate%20grapevine%20/%20x%20tourist%20/%20search%20tourist%20/%20confiscate%20artifact%20/%20x%20tourist%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Search and Seizure"
</p>
<p class="quoted">
Size is a kind of value. The sizes are small, medium, and large. A thing has a size. A thing is usually small.
</p>
<p class="quoted">
A thing can be licit or contraband. A thing is usually licit.
</p>
<p class="quoted">
A thing can be discovered or secret. A thing is usually secret.
</p>
</div>
<p>Now, we want the character to be able to hide small things if he has some sort of concealing garment on. We also want to be able to see anything that the player has already found once, perhaps by using the &gt;SEARCH PERSON command. So:</p>

<div class="code"><p class="quoted">
Rule for deciding the concealed possessions of someone (called the suspect):
<br>    if the particular possession is discovered, no;
<br>    if the suspect wears something and the particular possession is small, yes;
<br>    otherwise no.
</p></div>
<p>The following rule, borrowed from a later chapter, assures that any items that are ever mentioned to the player will be treated as known from then on:</p>

<div class="code">
<p class="quoted">
Before printing the name of something (called discovery): now the discovery is discovered.
</p>
<p class="quoted">
The Customs House is a room. The smuggler is a man in the Customs House. The smuggler wears a leather jacket. He carries a bottle of Altairan rum, some raspberries, and a laser pistol. The pistol is large. The jacket is large. The rum and the raspberries are contraband. The description of the smuggler is "He has a bestubbled chin and a sinister eye."
</p>
<p class="quoted">
The tourist is a woman in the customs house. The description is "The type who walks off home with a dozen contraband items in her pocket not because she means to steal things but because she's too stupid to understand that the law applies to herself." She wears a tight-fitting dress. The dress is large. The tourist carries a grapevine and an archaeological artifact. The grapevine is large and contraband. The artifact is contraband.
</p>
<p class="quoted">
Report examining someone: say "[The noun] is [if the noun is wearing something]wearing [a list of unconcealed things worn by the noun] and [end if]carrying [a list of unconcealed things carried by the noun]."
</p>
<p class="quoted">
Report examining someone who is concealing something contraband:
<br>    say "[The noun] looks nervous. You can just tell."
</p>
<p class="quoted">
Report examining someone who is carrying an unconcealed contraband thing:
<br>    say "Your eye goes at once to [the list of unconcealed contraband things carried by the noun] which [the noun] is unable to hide";
<br>    if an unconcealed licit thing is had by the noun, say ", though [if the noun is female]s[end if]he also has [a list of unconcealed licit things had by the noun]";
<br>    say "." instead.
</p>
</div>
<p>Notice that we can talk about what the smuggler wears, what he carries, and what he "has": things the smuggler has can be either worn or carried, so the phrase is useful if we don't care to make that distinction.</p>

<div class="code">
<p class="quoted">
Instead of searching someone:
<br>    say "[The noun] is revealed to be carrying [a list of things carried by the noun]."
</p>
<p class="quoted">
Instead of confiscating the dress:
<br>    say "You are not allowed to perform strip-searches in the public customs area."
</p>
<p class="quoted">
Understand "confiscate [something]" as confiscating.
</p>
<p class="quoted">
Confiscating is an action applying to one thing.
</p>
<p class="quoted">
Check confiscating:
<br>    unless the noun is had by someone who is not the player:
<br>        say "You can only confiscate other people's possessions." instead.
</p>
<p class="quoted">
Carry out confiscating:
<br>    now the noun is carried by the player.
</p>
<p class="quoted">
Report confiscating:
<br>    say "Through the authority vested in you by the power of the Sovereign of Centauri Proxima, you make [the noun] your own."
</p>
<p class="quoted">
Test me with "x smuggler / search smuggler / x smuggler / confiscate jacket / x smuggler / confiscate rum / confiscate pistol / x smuggler / confiscate raspberries / x smuggler".
</p>
<p class="quoted">
Test more with "x tourist / confiscate dress / confiscate grapevine / x tourist / search tourist / confiscate artifact / x tourist".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.24">WI §3.24. Concealment</a><br><a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>
</div></details><details class="full-example" id="example-196"><summary><span class="example-summary">196. Noisemaking</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose the current sequence of action handling is not quite enough for us: we'd also like to have a stage after reporting, where other characters can react to the player character's behavior after it has already happened and been reported on screen. Having such a stage is unlike using "after", because after occurs before reports and prevents them from being printed. So, for instance, we could allow the player to do any of a range of different actions that make loud noises, and have a nervous bird that reacts to all of them by flying away afterward.</p>
<p>To do this, we can add a new rule into the specific action-processing rules. (For a list of these, see the Rules index.) Moving rules around and adding new ones requires syntax that we will learn in the chapter on Rulebooks, but the present example is fairly straightforward:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Noisemaking%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnThe%20other-player%20response%20rule%20is%20listed%20after%20the%20report%20stage%20rule%20in%20the%20specific%20action-processing%20rules.%5Cn%5CnThis%20is%20the%20other-player%20response%20rule:%5Cn%5Ctfollow%20the%20observation%20rules.%5Cn%5CnThe%20observation%20rules%20is%20a%20rulebook.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnCountry%20Lane%20is%20a%20room.%20West%20of%20Country%20Lane%20is%20Outside%20the%20Farmhouse.%20East%20of%20Country%20Lane%20is%20Village%20Center.%20North%20of%20Country%20Lane%20is%20Open%20Field.%5Cn%5CnThe%20player%20carries%20a%20drum.%5Cn%5CnThe%20black%20crow%20is%20an%20animal%20in%20Country%20Lane.%5Cn%5CnSinging%20is%20an%20action%20applying%20to%20nothing.%20Understand%20%22sing%22%20as%20singing.%5Cn%5CnReport%20singing:%5Cn%5Ctsay%20%22You%20hum%20a%20little%20ditty.%22%5Cn%5CnSinging%20is%20a%20loud%20action.%5Cn%5CnAttacking%20the%20drum%20is%20a%20loud%20action.%5Cn%5CnThe%20block%20attacking%20rule%20is%20not%20listed%20in%20any%20rulebook.%5Cn%5CnReport%20attacking%20something:%5Cn%5Ctsay%20%22THWACK!%22%5Cn%5CnAn%20observation%20rule%20for%20loud%20action%20in%20the%20presence%20of%20the%20black%20crow:%5Cn%5Ctlet%20N%20be%20a%20random%20adjacent%20room;%5Cn%5Ctif%20N%20is%20a%20room,%20move%20the%20black%20crow%20to%20N;%5Cn%5Ctsay%20%22The%20crow,%20startled,%20flies%20off%20to%20%5BN%5D.%22%5Cn%5CnTest%20me%20with%20%22sing%20/%20g%20/%20n%20/%20hit%20drum%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Noisemaking"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
The other-player response rule is listed after the report stage rule in the specific action-processing rules.
</p>
<p class="quoted">
This is the other-player response rule:
<br>    follow the observation rules.
</p>
<p class="quoted">
The observation rules is a rulebook.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
Country Lane is a room. West of Country Lane is Outside the Farmhouse. East of Country Lane is Village Center. North of Country Lane is Open Field.
</p>
<p class="quoted">
The player carries a drum.
</p>
<p class="quoted">
The black crow is an animal in Country Lane.
</p>
<p class="quoted">
Singing is an action applying to nothing. Understand "sing" as singing.
</p>
<p class="quoted">
Report singing:
<br>    say "You hum a little ditty."
</p>
<p class="quoted">
Singing is a loud action.
</p>
<p class="quoted">
Attacking the drum is a loud action.
</p>
<p class="quoted">
The block attacking rule is not listed in any rulebook.
</p>
<p class="quoted">
Report attacking something:
<br>    say "THWACK!"
</p>
<p class="quoted">
An observation rule for loud action in the presence of the black crow:
<br>    let N be a random adjacent room;
<br>    if N is a room, move the black crow to N;
<br>    say "The crow, startled, flies off to [N]."
</p>
<p class="quoted">
Test me with "sing / g / n / hit drum".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.9">WI §12.9. Check, carry out, report</a><br><a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>
</div></details><details class="full-example" id="example-82"><summary><span class="example-summary">82. Revenge of the Fussy Table</span> <span class="example-difficulty">★★★★</span></summary><div>
<p>This example does include a number of features that we haven't met yet, particularly rulebooks. Nonetheless, the basic idea should be relatively clear. Our premise is that the player is faced with a series of disgruntled furnishings, none of which want to be responsible for supporting the cold, hot, drippy, or spiky objects lying around the room.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Revenge%20of%20the%20Fussy%20Table%22%5Cn%5CnUse%20scoring.%5Cn%5CnSection%201%20-%20The%20Supporters%5Cn%5CnThe%20Dining%20Room%20is%20a%20room.%20%22A%20room%20of%20handsome%20proportions,%20with%20an%20octagonal%20dining%20table%20on%20a%20fine%20parquet%20floor.%20The%20original%20set%20of%20chairs%20has%20been%20taken%20away,%20leaving%20only%20a%20red%20velvet%20dining%20chair%20and%20a%20blue%20suede%20armchair.%22%5Cn%5CnThe%20fussy%20table%20is%20a%20supporter%20in%20the%20Dining%20Room.%20It%20is%20scenery.%20The%20description%20is%20%22It's%20hypochondriac:%20the%20result%20of%20a%20sojourn%20in%20a%20superior%20antique%20shop,%20where%20it%20picked%20up%20the%20scent%20of%20almond%20oil,%20words%20like%20provenance,%20and%20a%20secretive%20shame%20about%20being%20resurfaced.%5Cn%5CnChairs%20don't%20get%20along%20with%20it.%5Cn%5CnIn%20its%20mellowest%20moods,%20after%20a%20really%20good%20dusting,%20it%20will%20mention,%20casually,%20a%20cabinet%20it%20once%20knew,%20which%20was%20twelve%20feet%20tall,%20came%20from%20the%20Winter%20Palace,%20and%20had%20an%20asking%20price%20of%20%24350K.%22%5Cn%5CnA%20chair%20is%20a%20kind%20of%20supporter%20with%20carrying%20capacity%201.%20A%20chair%20is%20enterable.%20A%20chair%20is%20usually%20scenery.%20Understand%20%22chair%22%20as%20a%20chair.%5Cn%5CnThe%20blue%20suede%20armchair%20and%20the%20red%20velvet%20dining%20chair%20are%20chairs%20in%20the%20Dining%20Room.%20The%20description%20of%20the%20blue%20suede%20is%20%22Quiet,%20mellow,%20and%20with%20a%20lingering%20aroma%20of%20clove%20cigarettes,%20and%20possibly%20something%20less%20legal.%20It%20doesn't%20sit%20up%20straight,%20and%20doesn't%20let%20anyone%20else%20do%20so%20either.%22%20The%20red%20velvet%20has%20the%20description%20%22In%20temperament,%20in%20bearing,%20in%20everything%20it%20is%20the%20opposite%20of%20the%20blue%20suede%20chair.%20It%20is%20concerned%20for%20its%20duty%20all%20the%20time,%20has%20a%20rigidly%20straight%20back,%20and%20pokes%20diners%20in%20the%20spine%20when%20it%20suspects%20them%20of%20overdoing%20things.%22%5Cn%5CnThe%20carrying%20capacity%20of%20the%20player%20is%202.%5Cn%5CnSection%202%20-%20Sources%20of%20Unpleasantness%5Cn%5CnA%20thing%20can%20be%20drippy%20or%20dry.%5Cn%5CnHeat%20is%20a%20kind%20of%20value.%20The%20heats%20are%20luke-warm,%20cold,%20and%20scalding.%20Everything%20has%20a%20heat.%20Understand%20the%20heat%20property%20as%20describing%20a%20thing.%5Cn%5CnA%20thing%20can%20be%20spiky%20or%20smooth.%20The%20cleated%20left%20shoe%20is%20a%20wearable%20spiky%20thing.%20It%20is%20worn%20by%20the%20player.%20The%20cleated%20right%20shoe%20is%20a%20wearable%20spiky%20thing.%20It%20is%20worn.%5Cn%5CnDefinition:%20a%20thing%20is%20unpleasant%20if%20it%20is%20scalding%20or%20it%20is%20cold%20or%20it%20is%20spiky%20or%20it%20is%20drippy.%5Cn%5CnDefinition:%20a%20supporter%20is%20occupied%20if%20something%20is%20on%20it.%5Cn%5CnDefinition:%20something%20is%20contented%20if%20it%20is%20not%20concerned.%5Cn%5CnDefinition:%20a%20chair%20is%20concerned%20if%20something%20unpleasant%20is%20on%20it.%5Cn%5CnDefinition:%20the%20table%20is%20concerned%20if%20something%20drippy%20is%20on%20it%20or%20something%20scalding%20is%20on%20it%20or%20something%20spiky%20is%20on%20it.%5Cn%5CnDefinition:%20the%20ceramic%20tile%20is%20concerned%20if%20something%20spiky%20is%20on%20it.%5Cn%5CnDefinition:%20a%20room%20is%20concerned%20if%20something%20drippy%20is%20in%20it%20or%20something%20scalding%20is%20in%20it%20or%20something%20spiky%20is%20in%20it%20or%20someone%20which%20is%20in%20it%20is%20wearing%20a%20spiky%20thing.%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20drippy%20thing:%20say%20%22drippy%20%22.%20Before%20printing%20the%20name%20of%20a%20cold%20thing:%20say%20%22cold%20%22.%20Before%20printing%20the%20name%20of%20a%20scalding%20thing:%20say%20%22scalding%20%22.%5Cn%5CnSection%203%20-%20What%20the%20Player%20Can%20Do%20About%20It%5Cn%5CnAfter%20putting%20a%20cold%20thing%20on%20a%20scalding%20thing:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20meets%20%5Bthe%20second%20noun%5D;%20both%20shriek%20in%20pain.%20But%20the%20necessary%20heat%20transfer%20occurs.%22;%5Cn%5Ctnow%20the%20heat%20of%20the%20noun%20is%20luke-warm;%5Cn%5Ctnow%20the%20heat%20of%20the%20second%20noun%20is%20luke-warm.%5Cn%5CnAfter%20putting%20a%20scalding%20thing%20on%20a%20cold%20thing:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20meets%20%5Bthe%20second%20noun%5D;%20both%20shriek%20in%20pain.%20But%20the%20necessary%20heat%20transfer%20occurs.%22;%5Cn%5Ctnow%20the%20heat%20of%20the%20noun%20is%20luke-warm;%5Cn%5Ctnow%20the%20heat%20of%20the%20second%20noun%20is%20luke-warm.%5Cn%5CnAfter%20taking%20a%20scalding%20thing:%5Cn%5Ctsay%20%22'Right,'%20you%20say.%20'I'll%20just%20hold%20onto%20%5Bthe%20noun%5D,%20shall%20I?%20Because%20that%20won't%20be%20in%20the%20least%20uncomfortable%20for%20me.'%22%5Cn%5CnAfter%20taking%20a%20drippy%20thing:%5Cn%5Ctsay%20%22With%20a%20sense%20of%20martyrdom,%20you%20retrieve%20%5Bthe%20noun%5D,%20which%20dribbles%20water%20down%20your%20cuffs.%22%5Cn%5CnAfter%20entering%20a%20chair%20when%20the%20player%20is%20wearing%20a%20spiky%20thing%20(called%20the%20clog):%5Cn%5Ctsay%20%22You%20sit%20on%20%5Bthe%20noun%5D,%20lifting%20%5Bthe%20list%20of%20spiky%20things%20worn%20by%20the%20player%5D%20so%20that%20the%20parquet%20is%20no%20longer%20affronted.%22%5Cn%5CnSection%204%20-%20In%20Which%20the%20Furnishings%20Complain%5Cn%5CnAn%20every%20turn%20rule:%5Cn%5Ctfollow%20the%20complaint%20rules.%5Cn%5CnThe%20complaint%20rules%20is%20a%20rulebook.%5Cn%5CnA%20complaint%20rule:%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20on%20the%20table%20is%20drippy:%5Cn%5Ct%5Ctsay%20%22'Help!%20Get%20me%20a%20coaster!'%20screams%20the%20table%5Bif%20the%20table%20is%20visible%5D,%20its%20veneer%20squirming%20under%20%5Bthe%20offending%20item%5D%5Botherwise%5D%20from%20the%20Dining%20Room%5Bend%20if%5D.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20on%20the%20red%20chair%20is%20drippy:%5Cn%5Ct%5Ctsay%20%22'Oh%20dear,'%20murmurs%20the%20red%20chair,%20as%20%5Bthe%20offending%20item%5D%20drips%20into%20its%20velvety%20seat.%20'Oh%20dear,%20I%20will%20have%20a%20damp%20spot.%20This%20is%20so%20very%20--%20what%20will%20people%20think?'%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20on%20the%20visible%20armchair%20is%20drippy:%5Cn%5Ct%5Ctsay%20%22%5BThe%20offending%20item%5D%20visibly%20begins%20degrading%20the%20suede%20where%20it%20sits.%20The%20armchair%20is%20tactfully%20silent.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20a%20drippy%20thing%20(called%20the%20offending%20item)%20is%20in%20the%20location%20and%20the%20player%20is%20in%20the%20Dining%20Room:%5Cn%5Ct%5Ctsay%20%22'Cripes,'%20says%20the%20parquet.%20'No%20one%20mind%20me%20at%20all.%20Just%20leave%20that%20%5Boffending%20item%5D%20right%20here.%20You%20know%20I'm%20the%20most%20valuable%20thing%20in%20the%20room?'%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5Cn%5CnA%20complaint%20rule:%5Cn%5Ctif%20a%20cold%20dry%20thing%20(called%20the%20offending%20item)%20is%20on%20the%20table:%5Cn%5Ct%5Ctsay%20%22The%20table%20shivers%20under%20%5Bthe%20offending%20item%5D.%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnA%20complaint%20rule:%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20on%20the%20table%20is%20scalding:%5Cn%5Ct%5Ctsay%20%22'Hey!'%20protests%20the%20table,%20practically%20smoking%20at%20%5Bthe%20offending%20item%5D.%20'Heard%20of%20a%20trivet?'%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20on%20the%20armchair%20is%20scalding:%5Cn%5Ct%5Ctsay%20%22The%20armchair%20doesn't%20complain%20about%20%5Bthe%20offending%20item%5D;%20it%20just%20begins,%20quietly,%20to%20give%20off%20warm%20sweet%20clouds%20of%20blue%20steam,%20as%20though%20its%20inner%20opium-nature%20had%20been%20released.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20in%20the%20Dining%20Room%20is%20scalding:%5Cn%5Ct%5Ctsay%20%22'Yes%20indeed,'%20%5Bif%20the%20location%20is%20the%20Dining%20Room%5Dsays%5Botherwise%5Dbellows%5Bend%20if%5D%20the%20parquet.%20'That%20%5Boffending%20item%5D%20won't%20leave%20any%20sort%20of%20mark%20what-so-ever.'%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnA%20complaint%20rule:%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20on%20the%20table%20is%20spiky:%5Cn%5Ct%5Ctsay%20%22The%20table%20holds%20very%20very%20very%20still%20lest%20%5Bthe%20offending%20item%5D%20mar%20its%20finish.%20But%20its%20resentment%20is%20palpable.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20on%20the%20velvet%20chair%20is%20spiky:%5Cn%5Ct%5Ctsay%20%22%5BThe%20offending%20item%5D%20stabs%20the%20velvet%20of%20the%20red%20velvet%20chair,%20which%20draws%20itself%20up%20even%20more%20sharply%20in%20a%20pose%20of%20dutiful%20martyrdom.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20which%20is%20spiky%20is%20on%20the%20ceramic%20tile:%5Cn%5Ct%5Ctsay%20%22'%5BThe%20offending%20item%5D%20itches!'%20cries%20the%20ceramic%20tile.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20something%20(called%20the%20offending%20item)%20in%20the%20location%20is%20spiky:%5Cn%5Ct%5Ctsay%20%22'%5BThe%20offending%20item%5D%20should%20not%20be%20on%20a%20parquet%20floor,'%20sings%20the%20parquet%20floor%20sadly.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20someone%20(called%20the%20offending%20person)%20in%20the%20location%20is%20wearing%20something%20spiky%20and%20the%20location%20is%20the%20Dining%20Room:%5Cn%5Ct%5Ctsay%20%22The%20parquet%20floor%20mutters%20about%20the%20things%20people%20wear%20to%20walk%20on%20parquet%20floors%20these%20days.%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnA%20complaint%20rule:%5Cn%5Ctif%20the%20table%20supports%20something%20which%20supports%20a%20drippy%20thing%20(called%20the%20offending%20item),%5Cn%5Ct%5Ctsay%20%22'%5BThe%20offending%20item%5D%20could%20still%20theoretically%20dribble%20down%20here,'%20says%20the%20table%20nonchalantly.%20'It's%20possible.'%22;%5Cn%5Ctif%20the%20velvet%20chair%20supports%20a%20concerned%20thing%20(called%20the%20friend),%5Cn%5Ct%5Ctsay%20%22'%5BThe%20friend%5D%20seems%20a%20little%20worried,'%20remarks%20the%20velvet%20chair%20helpfully.%22%5Cn%5CnA%20complaint%20rule:%5Cn%5Ctif%20the%20concerned%20table%20can%20see%20a%20supporter%20(called%20the%20object%20of%20envy)%20which%20is%20not%20concerned:%5Cn%5Ct%5Ctsay%20%22The%20table%20looks%20jealously%20at%20%5Bthe%20object%20of%20envy%5D.%20'Some%20people%20have%20such%20an%20easy%20life.'%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnInstead%20of%20going%20to%20an%20adjacent%20room%20when%20the%20player%20is%20in%20the%20Dining%20Room:%5Cn%5Ctsay%20%22'You're%20not%20leaving!?'%20whimpers%20the%20table%20at%20once.%22%5Cn%5Cn%5BMoreover,%20every%20time%20the%20player%20gets%20close%20to%20resolving%20this%20issue,%20his%20unhelpful%20companion%20Alison%20brings%20in%20something%20else%20inconvenient.%20We%20can%20use%20the%20counting%20of%20contented%20supporters%20to%20decide%20when%20the%20player%20is%20getting%20close%20to%20winning%20and%20it's%20time%20for%20her%20to%20bring%20something%20else...%5D%5Cn%5CnSection%205%20-%20Source%20of%20Further%20Complications%5Cn%5CnThe%20Tidy%20Kitchen%20is%20south%20of%20the%20Dining%20Room.%20Alison%20is%20a%20woman%20in%20the%20Tidy%20Kitchen.%20The%20kettle%20is%20a%20scalding%20thing.%20The%20ceramic%20tile%20is%20a%20cold%20portable%20supporter.%20It%20has%20carrying%20capacity%201.%20The%20platter%20is%20a%20scalding%20portable%20supporter.%20It%20has%20carrying%20capacity%201.%20The%20glass%20of%20ice%20water%20is%20a%20cold,%20drippy%20thing.%5Cn%5CnInstead%20of%20drinking%20the%20glass%20of%20ice%20water,%20say%20%22It's%20not%20yours,%20it's%20for%20Alison,%20once%20she%20finishes%20cooking.%22%5Cn%5CnAlison%20carries%20the%20kettle,%20the%20tile,%20the%20platter,%20and%20the%20glass.%5Cn%5CnAn%20every%20turn%20rule:%5Cn%5Ctfollow%20the%20behavior%20rules.%5Cn%5CnThe%20behavior%20rules%20is%20a%20rulebook.%5Cn%5CnA%20behavior%20rule:%5Cn%5Ctif%20ice%20water%20is%20carried%20by%20Alison%20and%20the%20player%20is%20in%20the%20Dining%20Room%20and%20almost%20all%20of%20the%20supporters%20are%20not%20concerned:%5Cn%5Ct%5Ctlet%20the%20next%20victim%20be%20a%20random%20fixed%20in%20place%20contented%20supporter;%5Cn%5Ct%5Ctmove%20the%20ice%20water%20to%20the%20next%20victim;%5Cn%5Ct%5Ctsay%20%22Humming%20to%20herself,%20Alison%20brings%20in%20%5Ban%20ice%20water%5D%20and%20sets%20it%20down%20smack%20on%20%5Bthe%20next%20victim%5D,%20then%20goes%20back%20out.%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnA%20behavior%20rule:%5Cn%5Ctif%20platter%20is%20carried%20by%20Alison%20and%20the%20player%20is%20in%20the%20Dining%20Room%20and%20almost%20all%20of%20the%20supporters%20are%20not%20concerned:%5Cn%5Ct%5Ctlet%20the%20next%20victim%20be%20the%20red%20velvet%20chair;%5Cn%5Ct%5Ctmove%20the%20platter%20to%20the%20next%20victim;%5Cn%5Ct%5Ctsay%20%22Whistling%20a%20jaunty%20tune,%20Alison%20brings%20in%20a%20hot%20platter%20and%20deposits%20it%20on%20%5Bthe%20next%20victim%5D,%20then%20returns%20to%20the%20kitchen.%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnA%20behavior%20rule:%5Cn%5Ctif%20the%20tile%20is%20carried%20by%20Alison%20and%20the%20player%20is%20in%20the%20Dining%20Room%20and%20almost%20all%20of%20the%20supporters%20are%20not%20concerned:%5Cn%5Ct%5Ctlet%20the%20next%20victim%20be%20a%20random%20contented%20chair;%5Cn%5Ct%5Ctmove%20the%20tile%20to%20the%20next%20victim;%5Cn%5Ct%5Ctsay%20%22Humming%20to%20herself,%20Alison%20brings%20in%20%5Bthe%20tile%5D%20and%20sets%20it%20down%20smack%20on%20%5Bthe%20next%20victim%5D,%20then%20goes%20back%20out.%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5CnA%20behavior%20rule:%5Cn%5Ctif%20kettle%20is%20carried%20by%20Alison%20and%20the%20player%20is%20in%20the%20Dining%20Room%20and%20at%20least%20three%20fixed%20in%20place%20supporters%20are%20contented:%5Cn%5Ct%5Ctlet%20the%20next%20victim%20be%20the%20fussy%20table;%5Cn%5Ct%5Ctmove%20the%20kettle%20to%20the%20next%20victim;%5Cn%5Ct%5Ctsay%20%22Just%20then%20the%20kettle%20boils%20in%20the%20kitchen.%20Whistling%20chirpily,%20Alison%20brings%20it%20in%20and%20sets%20it%20down%20smack%20on%20%5Bthe%20next%20victim%5D,%20then%20goes%20back%20out.%22;%5Cn%5Ct%5Ctrule%20succeeds.%5Cn%5Cn%5BAnd%20just%20so%20that%20the%20player%20knows%20where%20he%20stands%20at%20the%20end%20of%20each%20turn:%5D%5Cn%5CnSection%206%20-%20General%20Assessment%5Cn%5CnAn%20every%20turn%20rule:%5Cn%5Ctif%20some%20of%20the%20things%20are%20concerned,%20say%20%22You%20sense%20some%20resentment%20from%20%5Bthe%20list%20of%20concerned%20things%5D.%22%5Cn%5CnAn%20every%20turn%20rule:%5Cn%5Ctif%20the%20player%20is%20carrying%20more%20than%20one%20scalding%20thing:%5Cn%5Ct%5Ctlet%20the%20dropped%20item%20be%20a%20random%20scalding%20thing%20carried%20by%20the%20player;%5Cn%5Ct%5Ctsay%20%22You%20can't%20hang%20onto%20so%20many%20burning%20hot%20things,%20and%20lose%20your%20grip%20on%20%5Bthe%20dropped%20item%5D.%5Bline%20break%5D%22;%5Cn%5Ct%5Ctsilently%20try%20dropping%20the%20dropped%20item.%5Cn%5CnAn%20every%20turn%20rule:%5Cn%5Ctif%20almost%20all%20of%20the%20supporters%20are%20concerned,%5Cn%5Ct%5Ctsay%20%22'I%20hope%20everything%20is%20going%20well,'%20bellows%20Alison%20from%20the%20other%20room.%22%5Cn%5Cn%5BFinally,%20we%20need%20some%20rules%20to%20decide%20when%20the%20player%20is,%20in%20fact,%20finished.%5D%5Cn%5CnSection%207%20-%20Scoring%5Cn%5CnAn%20every%20turn%20rule:%5Cn%5Ctnow%20score%20is%205%20minus%20the%20number%20of%20concerned%20things;%5Cn%5Ctif%20the%20location%20is%20concerned,%20decrement%20the%20score;%5Cn%5Ctif%20all%20of%20the%20supporters%20are%20concerned%20and%20the%20location%20is%20concerned,%20end%20the%20story;%5Cn%5Ctif%20none%20of%20the%20supporters%20are%20concerned%20and%20the%20location%20is%20not%20concerned,%20end%20the%20story%20finally.%5Cn%5CnThe%20maximum%20score%20is%205.%5Cn%5CnWhen%20play%20begins,%20now%20score%20is%204.%5Cn%5CnTest%20me%20with%20%22i%20/%20take%20off%20left%20shoe%20/%20get%20the%20glass%20/%20put%20the%20glass%20on%20the%20platter%20/%20get%20the%20tile%20/%20drop%20the%20tile%20/%20get%20the%20kettle%20/%20put%20the%20kettle%20on%20tile%20/%20sit%20on%20the%20blue%20armchair%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Revenge of the Fussy Table"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
Section 1 - The Supporters
</p>
<p class="quoted">
The Dining Room is a room. "A room of handsome proportions, with an octagonal dining table on a fine parquet floor. The original set of chairs has been taken away, leaving only a red velvet dining chair and a blue suede armchair."
</p>
<p class="quoted">
The fussy table is a supporter in the Dining Room. It is scenery. The description is "It's hypochondriac: the result of a sojourn in a superior antique shop, where it picked up the scent of almond oil, words like provenance, and a secretive shame about being resurfaced.
</p>
<p class="quoted">
Chairs don't get along with it.
</p>
<p class="quoted">
In its mellowest moods, after a really good dusting, it will mention, casually, a cabinet it once knew, which was twelve feet tall, came from the Winter Palace, and had an asking price of $350K."
</p>
<p class="quoted">
A chair is a kind of supporter with carrying capacity 1. A chair is enterable. A chair is usually scenery. Understand "chair" as a chair.
</p>
<p class="quoted">
The blue suede armchair and the red velvet dining chair are chairs in the Dining Room. The description of the blue suede is "Quiet, mellow, and with a lingering aroma of clove cigarettes, and possibly something less legal. It doesn't sit up straight, and doesn't let anyone else do so either." The red velvet has the description "In temperament, in bearing, in everything it is the opposite of the blue suede chair. It is concerned for its duty all the time, has a rigidly straight back, and pokes diners in the spine when it suspects them of overdoing things."
</p>
<p class="quoted">
The carrying capacity of the player is 2.
</p>
<p class="quoted">
Section 2 - Sources of Unpleasantness
</p>
<p class="quoted">
A thing can be drippy or dry.
</p>
<p class="quoted">
Heat is a kind of value. The heats are luke-warm, cold, and scalding. Everything has a heat. Understand the heat property as describing a thing.
</p>
<p class="quoted">
A thing can be spiky or smooth. The cleated left shoe is a wearable spiky thing. It is worn by the player. The cleated right shoe is a wearable spiky thing. It is worn.
</p>
<p class="quoted">
Definition: a thing is unpleasant if it is scalding or it is cold or it is spiky or it is drippy.
</p>
<p class="quoted">
Definition: a supporter is occupied if something is on it.
</p>
<p class="quoted">
Definition: something is contented if it is not concerned.
</p>
<p class="quoted">
Definition: a chair is concerned if something unpleasant is on it.
</p>
<p class="quoted">
Definition: the table is concerned if something drippy is on it or something scalding is on it or something spiky is on it.
</p>
<p class="quoted">
Definition: the ceramic tile is concerned if something spiky is on it.
</p>
<p class="quoted">
Definition: a room is concerned if something drippy is in it or something scalding is in it or something spiky is in it or someone which is in it is wearing a spiky thing.
</p>
<p class="quoted">
Before printing the name of a drippy thing: say "drippy ". Before printing the name of a cold thing: say "cold ". Before printing the name of a scalding thing: say "scalding ".
</p>
<p class="quoted">
Section 3 - What the Player Can Do About It
</p>
<p class="quoted">
After putting a cold thing on a scalding thing:
<br>    say "[The noun] meets [the second noun]; both shriek in pain. But the necessary heat transfer occurs.";
<br>    now the heat of the noun is luke-warm;
<br>    now the heat of the second noun is luke-warm.
</p>
<p class="quoted">
After putting a scalding thing on a cold thing:
<br>    say "[The noun] meets [the second noun]; both shriek in pain. But the necessary heat transfer occurs.";
<br>    now the heat of the noun is luke-warm;
<br>    now the heat of the second noun is luke-warm.
</p>
<p class="quoted">
After taking a scalding thing:
<br>    say "'Right,' you say. 'I'll just hold onto [the noun], shall I? Because that won't be in the least uncomfortable for me.'"
</p>
<p class="quoted">
After taking a drippy thing:
<br>    say "With a sense of martyrdom, you retrieve [the noun], which dribbles water down your cuffs."
</p>
<p class="quoted">
After entering a chair when the player is wearing a spiky thing (called the clog):
<br>    say "You sit on [the noun], lifting [the list of spiky things worn by the player] so that the parquet is no longer affronted."
</p>
<p class="quoted">
Section 4 - In Which the Furnishings Complain
</p>
<p class="quoted">
An every turn rule:
<br>    follow the complaint rules.
</p>
<p class="quoted">
The complaint rules is a rulebook.
</p>
<p class="quoted">
A complaint rule:
<br>    if something (called the offending item) on the table is drippy:
<br>        say "'Help! Get me a coaster!' screams the table[if the table is visible], its veneer squirming under [the offending item][otherwise] from the Dining Room[end if].";
<br>        rule succeeds;
<br>    if something (called the offending item) on the red chair is drippy:
<br>        say "'Oh dear,' murmurs the red chair, as [the offending item] drips into its velvety seat. 'Oh dear, I will have a damp spot. This is so very -- what will people think?'";
<br>        rule succeeds;
<br>    if something (called the offending item) on the visible armchair is drippy:
<br>        say "[The offending item] visibly begins degrading the suede where it sits. The armchair is tactfully silent.";
<br>        rule succeeds;
<br>    if a drippy thing (called the offending item) is in the location and the player is in the Dining Room:
<br>        say "'Cripes,' says the parquet. 'No one mind me at all. Just leave that [offending item] right here. You know I'm the most valuable thing in the room?'";
<br>        rule succeeds.
</p>
<p class="quoted">
A complaint rule:
<br>    if a cold dry thing (called the offending item) is on the table:
<br>        say "The table shivers under [the offending item].";
<br>        rule succeeds.
</p>
<p class="quoted">
A complaint rule:
<br>    if something (called the offending item) on the table is scalding:
<br>        say "'Hey!' protests the table, practically smoking at [the offending item]. 'Heard of a trivet?'";
<br>        rule succeeds;
<br>    if something (called the offending item) on the armchair is scalding:
<br>        say "The armchair doesn't complain about [the offending item]; it just begins, quietly, to give off warm sweet clouds of blue steam, as though its inner opium-nature had been released.";
<br>        rule succeeds;
<br>    if something (called the offending item) in the Dining Room is scalding:
<br>        say "'Yes indeed,' [if the location is the Dining Room]says[otherwise]bellows[end if] the parquet. 'That [offending item] won't leave any sort of mark what-so-ever.'";
<br>        rule succeeds.
</p>
<p class="quoted">
A complaint rule:
<br>    if something (called the offending item) on the table is spiky:
<br>        say "The table holds very very very still lest [the offending item] mar its finish. But its resentment is palpable.";
<br>        rule succeeds;
<br>    if something (called the offending item) on the velvet chair is spiky:
<br>        say "[The offending item] stabs the velvet of the red velvet chair, which draws itself up even more sharply in a pose of dutiful martyrdom.";
<br>        rule succeeds;
<br>    if something (called the offending item) which is spiky is on the ceramic tile:
<br>        say "'[The offending item] itches!' cries the ceramic tile.";
<br>        rule succeeds;
<br>    if something (called the offending item) in the location is spiky:
<br>        say "'[The offending item] should not be on a parquet floor,' sings the parquet floor sadly.";
<br>        rule succeeds;
<br>    if someone (called the offending person) in the location is wearing something spiky and the location is the Dining Room:
<br>        say "The parquet floor mutters about the things people wear to walk on parquet floors these days.";
<br>        rule succeeds.
</p>
<p class="quoted">
A complaint rule:
<br>    if the table supports something which supports a drippy thing (called the offending item),
<br>        say "'[The offending item] could still theoretically dribble down here,' says the table nonchalantly. 'It's possible.'";
<br>    if the velvet chair supports a concerned thing (called the friend),
<br>        say "'[The friend] seems a little worried,' remarks the velvet chair helpfully."
</p>
<p class="quoted">
A complaint rule:
<br>    if the concerned table can see a supporter (called the object of envy) which is not concerned:
<br>        say "The table looks jealously at [the object of envy]. 'Some people have such an easy life.'";
<br>        rule succeeds.
</p>
<p class="quoted">
Instead of going to an adjacent room when the player is in the Dining Room:
<br>    say "'You're not leaving!?' whimpers the table at once."
</p>
</div>
<p>Moreover, every time the player gets close to resolving this issue, his unhelpful companion Alison brings in something else inconvenient. We can use the counting of contented supporters to decide when the player is getting close to winning and it's time for her to bring something else...</p>

<div class="code">
<p class="quoted">
Section 5 - Source of Further Complications
</p>
<p class="quoted">
The Tidy Kitchen is south of the Dining Room. Alison is a woman in the Tidy Kitchen. The kettle is a scalding thing. The ceramic tile is a cold portable supporter. It has carrying capacity 1. The platter is a scalding portable supporter. It has carrying capacity 1. The glass of ice water is a cold, drippy thing.
</p>
<p class="quoted">
Instead of drinking the glass of ice water, say "It's not yours, it's for Alison, once she finishes cooking."
</p>
<p class="quoted">
Alison carries the kettle, the tile, the platter, and the glass.
</p>
<p class="quoted">
An every turn rule:
<br>    follow the behavior rules.
</p>
<p class="quoted">
The behavior rules is a rulebook.
</p>
<p class="quoted">
A behavior rule:
<br>    if ice water is carried by Alison and the player is in the Dining Room and almost all of the supporters are not concerned:
<br>        let the next victim be a random fixed in place contented supporter;
<br>        move the ice water to the next victim;
<br>        say "Humming to herself, Alison brings in [an ice water] and sets it down smack on [the next victim], then goes back out.";
<br>        rule succeeds.
</p>
<p class="quoted">
A behavior rule:
<br>    if platter is carried by Alison and the player is in the Dining Room and almost all of the supporters are not concerned:
<br>        let the next victim be the red velvet chair;
<br>        move the platter to the next victim;
<br>        say "Whistling a jaunty tune, Alison brings in a hot platter and deposits it on [the next victim], then returns to the kitchen.";
<br>        rule succeeds.
</p>
<p class="quoted">
A behavior rule:
<br>    if the tile is carried by Alison and the player is in the Dining Room and almost all of the supporters are not concerned:
<br>        let the next victim be a random contented chair;
<br>        move the tile to the next victim;
<br>        say "Humming to herself, Alison brings in [the tile] and sets it down smack on [the next victim], then goes back out.";
<br>        rule succeeds.
</p>
<p class="quoted">
A behavior rule:
<br>    if kettle is carried by Alison and the player is in the Dining Room and at least three fixed in place supporters are contented:
<br>        let the next victim be the fussy table;
<br>        move the kettle to the next victim;
<br>        say "Just then the kettle boils in the kitchen. Whistling chirpily, Alison brings it in and sets it down smack on [the next victim], then goes back out.";
<br>        rule succeeds.
</p>
</div>
<p>And just so that the player knows where he stands at the end of each turn:</p>

<div class="code">
<p class="quoted">
Section 6 - General Assessment
</p>
<p class="quoted">
An every turn rule:
<br>    if some of the things are concerned, say "You sense some resentment from [the list of concerned things]."
</p>
<p class="quoted">
An every turn rule:
<br>    if the player is carrying more than one scalding thing:
<br>        let the dropped item be a random scalding thing carried by the player;
<br>        say "You can't hang onto so many burning hot things, and lose your grip on [the dropped item].[line break]";
<br>        silently try dropping the dropped item.
</p>
<p class="quoted">
An every turn rule:
<br>    if almost all of the supporters are concerned,
<br>        say "'I hope everything is going well,' bellows Alison from the other room."
</p>
</div>
<p>Finally, we need some rules to decide when the player is, in fact, finished.</p>

<div class="code">
<p class="quoted">
Section 7 - Scoring
</p>
<p class="quoted">
An every turn rule:
<br>    now score is 5 minus the number of concerned things;
<br>    if the location is concerned, decrement the score;
<br>    if all of the supporters are concerned and the location is concerned, end the story;
<br>    if none of the supporters are concerned and the location is not concerned, end the story finally.
</p>
<p class="quoted">
The maximum score is 5.
</p>
<p class="quoted">
When play begins, now score is 4.
</p>
<p class="quoted">
Test me with "i / take off left shoe / get the glass / put the glass on the platter / get the tile / drop the tile / get the kettle / put the kettle on tile / sit on the blue armchair".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_6.html#wi-6.15">WI §6.15. All, each and every</a><br><a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>
</div></details><details class="full-example" id="example-112"><summary><span class="example-summary">112. A Day For Fresh Sushi</span> <span class="example-difficulty">★★★★</span></summary><div>
<p>The following is an almost-completely-faithful rewrite of Emily Short's "A Day for Fresh Sushi", which was originally written using the (very different) Inform 6 programming language. The -- let us be honest and call it a gimmick -- of this game is the evil fish, who has some unpleasant remark to offer on pretty much every action. But the effect would wear off fast if he repeated himself, so these comments need to be single-use only.</p>
<p>Inform 7's repeated action syntax makes it much tidier to write the same scenario, so:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22A%20Day%20For%20Fresh%20Sushi%22%20by%20Emily%20Short.%5Cn%5CnUse%20scoring.%5Cn%5CnThe%20story%20headline%20is%20%22Your%20basic%20surreal%20gay%20fish%20romance%22.%5Cn%5CnThe%20Studio%20is%20a%20room.%20%22%5Bif%20visited%5DDecorated%20with%20Britney's%20signature%20flair.%20It%20was%20her%20innate%20sense%20of%20style%20that%20first%20made%20you%20forgive%20her%20that%20ludicrous%20name.%20And%20here%20it%20is%20displayed%20to%20the%20fullest:%20deep-hued%20drapes%20on%20the%20walls,%20the%20windows%20flung%20open%20with%20their%20stunning%20view%20of%20old%20Vienna,%20the%20faint%20smell%20of%20coffee%20that%20clings%20to%20everything.%20Her%20easel%20stands%20over%20by%20the%20windows,%20where%20the%20light%20is%20brightest.%5Botherwise%5DThis%20is%20Britney's%20studio.%20You%20haven't%20been%20around%20here%20for%20a%20while,%20because%20of%20how%20busy%20you've%20been%20with%20work,%20and%20she's%20made%20a%20few%20changes%20--%20the%20aquarium%20in%20the%20corner,%20for%20instance.%20But%20it%20still%20brings%20back%20a%20certain%20emotional%20sweetness%20from%20the%20days%20when%20you%20had%20just%20met%20for%20the%20first%20time...%20when%20you%20used%20to%20spend%20hours%20on%20the%20sofa...%5Cn%5CnYou%20shake%20your%20head.%20No%20time%20for%20fantasy.%20Must%20feed%20fish.%5Bend%20if%5D%22%5Cn%5CnInstead%20of%20smelling%20the%20Studio:%5Cn%5Ctsay%20%22The%20evil%20fish%20notices%20you%20sniffing%20the%20air.%20'Vanilla%20Raspberry%20Roast,'%20it%20remarks.%20'You%20really%20miss%20her,%20don't%20you.'%5Cn%5CnYou%20glance%20over,%20startled,%20but%20the%20fish's%20mouth%20is%20open%20in%20a%20piscine%20equivalent%20of%20a%20laugh.%20You%20stifle%20the%20urge%20to%20skewer%20the%20thing...%22%5Cn%5CnInstead%20of%20jumping:%5Cn%5Ctsay%20%22'Er,'%20says%20the%20fish.%20'Does%20that,%20like,%20EVER%20help??'%22%5Cn%5CnInstead%20of%20going%20nowhere:%5Cn%5Ctsay%20%22You%20can't%20leave%20until%20you've%20fed%20the%20fish.%20Otherwise,%20he'll%20complain,%20and%20you%20will%20never%20hear%20the%20end%20of%20it.%22%5Cn%5CnThe%20cabinet%20is%20an%20openable%20closed%20container%20in%20the%20Studio.%20It%20is%20fixed%20in%20place.%20%22A%20huge%20cabinet,%20in%20the%20guise%20of%20an%20armoire,%20stands%20between%20the%20windows.%22%20The%20description%20is%20%22Large,%20and%20with%20a%20bit%20of%20an%20Art%20Nouveau%20theme%20going%20on%20in%20the%20shape%20of%20the%20doors.%22%20Understand%20%22armoire%22%20as%20the%20cabinet.%5Cn%5CnInstead%20of%20looking%20under%20the%20cabinet%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'Dustbunnies,'%20predicts%20the%20fish,%20with%20telling%20accuracy.%20It%20executes%20what%20for%20all%20the%20world%20looks%20like%20a%20fishy%20shudder.%20'Lemme%20tell%20you,%20one%20time%20I%20accidentally%20flopped%20outta%20the%20tank,%20and%20I%20was%20TWO%20HOURS%20on%20the%20floor%20with%20those%20things%20STARING%20ME%20IN%20THE%20NOSE.%20It%20was%20frightening.'%22%5Cn%5CnAfter%20opening%20the%20cabinet%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'There%20ya%20go,'%20says%20the%20fish.%20'The%20girl%20is%20getting%20WARMER.'%22%5Cn%5CnAfter%20closing%20the%20cabinet%20for%20the%20first%20time:%5Cn%5Ctif%20the%20fish%20food%20is%20not%20found,%20say%20%22'Ooh,%20what%20do%20you%20think,%20Bob?%20I%20think%20we're%20going%20to%20have%20to%20dock%20the%20girl%20a%20few%20points.%20HAVE%20ANOTHER%20LOOK,%20sweetcakes,%20there's%20a%20doll.'%22%5Cn%5CnThe%20cabinet%20contains%20some%20paints%20and%20some%20cloths.%20The%20description%20of%20the%20paints%20is%20%22A%20bunch%20of%20tubes%20of%20oil%20paint,%20most%20of%20them%20in%20some%20state%20of%20grunginess,%20some%20with%20the%20tops%20twisted%20partway%20off.%22%5Cn%5CnAfter%20taking%20the%20paints%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'Boy,'%20says%20the%20fish,%20apparently%20to%20himself,%20'I%20sure%20hope%20that's%20some%20food%20she's%20finding%20for%20me%20in%20there.%20You%20know,%20the%20yummy%20food%20in%20the%20ORANGE%20CAN.'%22%5Cn%5CnAfter%20examining%20the%20paints%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'Tons%20of%20useful%20stuff%20in%20there,'%20hollers%20in%20the%20fish,%20in%20a%20syncopated%20burble.%22%5Cn%5CnThe%20description%20of%20the%20cloths%20is%20%22Various%20colors%20of%20drapery%20that%20Britney%20uses%20to%20set%20up%20backgrounds%20and%20clothe%20her%20models.%20She%20does%20a%20lot%20of%20portraiture,%20so%20this%20comes%20in%20handy.%20It's%20all%20a%20big%20messy%20wad%20at%20the%20moment.%20Organized%20is%20not%20her%20middle%20name.%22%20Understand%20%22drapery%22%20or%20%22cloth%22%20as%20the%20cloths.%20The%20indefinite%20article%20of%20the%20cloths%20is%20%22a%20heap%20of%22.%20%5Bsee%203.17%5D%5Cn%5CnInstead%20of%20searching%20or%20looking%20under%20the%20cloths%20for%20the%20first%20time:%5Cn%5Ctnow%20the%20player%20is%20carrying%20the%20fish%20food;%5Cn%5Ctnow%20the%20fish%20food%20is%20found;%5Cn%5Ctsay%20%22Poking%20around%20the%20cloths%20reveals%20--%20ha%20HA!%20--%20a%20vehemently%20orange%20can%20of%20fish%20food.%22%5Cn%5CnInstead%20of%20showing%20the%20cloths%20to%20the%20fish:%5Cn%5Ctsay%20%22'What%20are%20you,%20some%20kind%20of%20sadist?%20I%20don't%20want%20to%20see%20a%20bunch%20of%20cloths!%20What%20kind%20of%20f'ing%20good,%20'scuse%20my%20French,%20is%20that%20supposed%20to%20do%20me?%20I%20don't%20even%20wear%20pants%20for%20God's%20sake!'%5Cn%5CnHe%20really%20looks%20upset.%20You%20start%20wondering%20whether%20apoplexy%20is%20an%20ailment%20common%20to%20fish.%22%5Cn%5CnAfter%20examining%20cloths%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'Whatcha%20looking%20at?%20I%20can't%20see%20through%20the%20doors,%20you%20know.'%22%5Cn%5CnThere%20is%20a%20can%20of%20fish%20food.%20Understand%20%22canister%22%20as%20the%20can.%20The%20description%20is%20%22A%20vehemently%20orange%20canister%20of%20fish%20food.%22%20The%20fish%20food%20can%20be%20found%20or%20hidden.%20The%20fish%20food%20is%20hidden.%5Cn%5CnInstead%20of%20giving%20the%20can%20to%20the%20fish:%5Cn%5Ctsay%20%22'I%20don't%20want%20the%20whole%20can,%20GeniusChyk.%20Just%20feed%20me%20and%20we'll%20ALL%20be%20happy,%20'kay?%22%5Cn%5CnInstead%20of%20showing%20the%20can%20to%20the%20fish:%5Cn%5Ctsay%20%22'That's%20the%20ticket,%20sweetie!%20Bring%20it%20on.'%22%5Cn%5CnInstead%20of%20opening%20the%20can:%5Cn%5Ctsay%20%22'Oh,%20for--!'%20The%20evil%20fish%20breaks%20out%20in%20exasperation%20and%20hives.%20'Screw%20the%20screwing%20around%20with%20the%20screwtop.%20SHE%20never%20has%20to%20do%20that.'%5Cn%5Cn'Well,%20SHE%20is%20not%20here,'%20you%20reply.%20'What%20do%20you%20suggest?'%5Cn%5Cn'&gt;FEED%20FISH&lt;'%20says%20the%20fish%20promptly,%20making%20fishy%20faces%20and%20pointing%20at%20you%20with%20his%20fin.%20'Simplicity.%20Try%20it.'%22%5Cn%5CnInstead%20of%20inserting%20the%20can%20into%20something:%5Cn%5Ctsay%20%22'HelLLLOOO,'%20screams%20the%20fish.%20'Whatever%20happened%20to%20FEEDING%20MEEE?'%22%5Cn%5CnThe%20easel%20is%20a%20supporter%20in%20the%20Studio.%20It%20is%20scenery.%20On%20the%20easel%20is%20a%20painting.%20Understand%20%22portrait%22%20or%20%22image%22%20as%20the%20painting.%5Cn%5CnThe%20description%20of%20the%20painting%20is%20%22Only%20partway%20finished,%20but%20you%20can%20tell%20what%20it%20is:%20Britney's%20mother.%20You%20only%20met%20the%20old%20woman%20once,%20before%20she%20faded%20out%20of%20existence%20in%20a%20little%20hospice%20in%20Salzburg.%5Cn%5CnIn%20the%20picture,%20her%20hands%20are%20grasping%20tightly%20at%20a%20small%20grey%20bottle,%20the%20pills%20to%20which%20she%20became%20addicted%20in%20her%20old%20age,%20and%20strange,%20gargoyle-like%20forms%20clutch%20at%20her%20arms%20and%20whisper%20in%20her%20ears.%5Cn%5CnBut%20the%20disturbing%20thing,%20the%20truly%20awful%20thing,%20is%20the%20small%20figure%20of%20Britney%20herself,%20down%20in%20the%20corner,%20unmistakable:%20she%20is%20walking%20away.%20Her%20back%20turned.%5Cn%5CnYou%20thought%20she'd%20finally%20talked%20this%20out,%20but%20evidently%20not.%20Still%20feels%20guilty%20for%20leaving.%20You%20only%20barely%20stop%20yourself%20from%20tracing,%20with%20your%20finger,%20those%20tiny%20slumped%20shoulders...%22%5Cn%5CnInstead%20of%20taking%20the%20painting,%20say%20%22No,%20you'd%20better%20leave%20it.%20It'd%20freak%20her%20out%20if%20you%20moved%20it.%22%5Cn%5CnBefore%20examining%20the%20painting%20for%20the%20first%20time:%5Cn%5Ctsay%20%22A%20ferocious%20banging%20from%20the%20aquarium%20attracts%20your%20attention%20as%20you%20go%20to%20look%20at%20the%20painting.%20'Hey!'%20screams%20the%20fish.%20'She%20doesn't%20like%20strangers%20looking%20at%20her%20paintings%20before%20they're%20DOONNNE!'%5Cn%5Cn'Shut%20up,%20you,'%20you%20reply%20casually.%20'I'm%20not%20a%20stranger.'%20But%20the%20fish%20puts%20you%20off%20a%20little%20bit,%20and%20your%20heart%20is%20already%20in%20your%20mouth%20before%20you%20see%20the%20painting%20itself...%22.%5Cn%5CnInstead%20of%20examining%20the%20painting%20more%20than%20once:%5Cn%5Ctsay%20%22Once%20is%20really%20enough.%20It's%20pretty%20much%20embedded%20in%20your%20consciousness%20now.%22%5Cn%5CnAfter%20doing%20something%20to%20the%20painting:%5Cn%5Ctsay%20%22'So%20what's%20it%20of?'%20asks%20the%20fish,%20as%20you%20turn%20away.%20'She%20never%20asks%20if%20I%20want%20to%20see%20them,%20you%20know?'%5Cn%5Cn'Her%20mother,'%20you%20respond%20without%20thinking.%5Cn%5Cn'Yeah?%20Man.%20I%20never%20knew%20my%20mother.%20Eggs,%20that's%20the%20way%20to%20go.'%22%5Cn%5CnThe%20window%20is%20scenery%20in%20the%20Studio.%20The%20window%20can%20be%20openable.%20The%20window%20can%20be%20open.%20It%20is%20openable%20and%20closed.%20Understand%20%22windows%22%20as%20the%20window.%20The%20description%20of%20the%20window%20is%20%22%5Bif%20open%5DThrough%20the%20windows%20you%20get%20a%20lovely%20view%20of%20the%20street%20outside.%20At%20the%20moment,%20the%20glass%20is%20thrown%20open,%20and%20a%20light%20breeze%20is%20blowing%20through.%5Botherwise%5DThrough%20the%20windows,%20you%20get%20a%20lovely%20view%20of%20the%20street%20outside%20--%20the%20little%20fountain%20on%20the%20corner,%20the%20slightly%20dilapidated%20but%20nonetheless%20magnificent%20Jugendstil%20architecture%20of%20the%20facing%20building.%20The%20glass%20itself%20is%20shut,%20however.%5Bend%20if%5D%22%5Cn%5CnAfter%20opening%20the%20window%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'Thank%20god%20some%20air,'%20says%20the%20fish.%20'Man,%20it%20was%20getting%20hard%20to%20breathe%20in%20here.'%20Two%20beats%20pass.%20'Oh%20wait.'%22%5Cn%5CnThe%20table%20is%20scenery%20in%20the%20Studio.%20On%20the%20table%20is%20a%20vase.%20The%20vase%20is%20an%20open%20container.%20It%20is%20not%20openable.%5Cn%5CnThe%20description%20of%20the%20table%20is%20%22A%20monstrosity%20of%20poor%20taste%20and%20bad%20design:%20made%20of%20some%20heavy,%20French-empire%20sort%20of%20wood,%20with%20a%20single%20pillar%20for%20a%20central%20leg,%20carved%20in%20the%20image%20of%20Poseidon%20surrounded%20by%20nymphs.%20It's%20all%20scaley,%20and%20whenever%20you%20sit%20down,%20the%20trident%20has%20a%20tendency%20to%20stab%20you%20in%20the%20knee.%20But%20Britney%20assures%20you%20it's%20worth%20a%20fortune.%22%20The%20description%20of%20the%20vase%20is%20%22A%20huge%20vase%20--%20what%20you%20saw%20once%20described%20in%20a%20Regency%20romance%20as%20an%20epergne,%20maybe%20--%20something%20so%20big%20that%20it%20would%20block%20someone%20sitting%20at%20the%20table%20from%20seeing%20anyone%20else%20also%20sitting%20at%20the%20table.%20But%20it%20does%20function%20nicely%20as%20a%20receptacle%20for%20hugeass%20bouquets%20of%20flowers.%22%5Cn%5CnInstead%20of%20looking%20under%20the%20table%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'You're%20not%20going%20to%20find%20anything%20down%20there,'%20whines%20the%20fish.%20'I%20mean,%20c'mon.%20It's%20the%20fricking%20floor.%20Please%20tell%20me%20you%20can%20see%20that.%20I%20can%20see%20that.%20I'm%20a%20myopic%20fish%20in%20a%20tank%20ten%20feet%20away%20and%20I%20can%20tell%20you%20there%20is%20nothing%20there%20but%20floor.'%22%5Cn%5CnAfter%20examining%20the%20table:%5Cn%5Ctsay%20%22'That%20there%20is%20MY%20PA,'%20says%20the%20fish,%20pointing%20at%20the%20scaley%20triton%20figure%20with%20one%20fin.%22%5Cn%5CnInstead%20of%20inserting%20something%20which%20is%20not%20the%20bouquet%20into%20the%20vase:%5Cnsay%20%22'Okay,%20so,%20what%20were%20you,%20raised%20in%20a%20barn?%20Normal%20folks%20like%20to%20use%20that%20for%20flowers.%20Or%20so%20I've%20observed.'%22%5Cn%5CnAfter%20inserting%20the%20bouquet%20into%20the%20vase%20for%20the%20first%20time:%5Cn%5Ctsay%20%22You%20settle%20the%20flowers%20into%20the%20vase%20and%20arrange%20them%20so%20that%20they%20look%20sprightly.%5Cn%5Cn'Oooh,'%20says%20the%20fish.%20'No%20one%20ever%20changes%20the%20plant%20life%20in%20HERE.%20It's%20the%20same%20seaw--'%5Cn%5Cn'Cut%20me%20a%20break%20and%20cork%20it,'%20you%20reply%20tartly.%22%5Cn%5CnThe%20player%20is%20carrying%20a%20telegram,%20a%20bouquet,%20and%20a%20lingerie%20bag.%20The%20player%20is%20wearing%20a%20chef%20hat.%5Cn%5CnThe%20description%20of%20the%20telegram%20is%20%22A%20telegram,%20apparently.%20And%20dated%20three%20days%20ago.%20%5Bfixed%20letter%20spacing%5DTRIUMPH%20OURS%20STOP%20BACK%20SOON%20STOP%20BE%20SURE%20TO%20FEED%20FISH%20STOP%5Bvariable%20letter%20spacing%5D%22.%20%5BFor%20printing%20options%20see%204.13.%5D%20Understand%20%22yellow%20paper%22%20as%20the%20telegram.%5Cn%5Cn%5CnAfter%20examining%20the%20telegram%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'So,'%20blubs%20the%20evil%20fish.%20'How%20about%20it?%20Little%20food%20over%20here?'%22%5Cn%5CnAfter%20examining%20the%20telegram:%5Cn%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Insulting%20Fish%20Comments;%5Cn%5Ctsay%20%22%5Bcomment%20entry%5D%5Bparagraph%20break%5D%22.%5Cn%5CnTable%20of%20Insulting%20Fish%20Comments%5Cncomment%5Cn%22'Yeah,%20yeah,'%20says%20the%20fish.%20'You%20having%20some%20trouble%20with%20the%20message,%20there?%20Confused?%20Something%20I%20could%20clear%20up%20for%20you?'%22%5Cn%22'Oookay,%20genius%20kid%20has%20some%20troubles%20in%20the%20reading%20comprehension%20department.'%20The%20fish%20taps%20his%20head%20meaningfully%20against%20the%20side%20of%20the%20tank.%20'I'm%20so%20hungry%20I%20could%20eat%20my%20way%20out,%20you%20get%20my%20meaning?'%22%5Cn%22'I'll%20translate%20for%20you,'%20screams%20the%20fish%20in%20toothy%20fury.%20'It%20says%20GIVE%20FOOD%20TO%20FISH!!%20How%20much%20more%20HELP%20do%20you%20NEED???%22%5Cn%5CnThe%20description%20of%20the%20chef%20hat%20is%20%22A%20big%20white%20chef%20hat%20of%20the%20kind%20worn%20by%20chefs.%20In%20this%20case,%20you.%20Just%20goes%20to%20show%20what%20a%20hurry%20you%20were%20in%20on%20the%20way%20out%20of%20the%20restaurant.%22%20Understand%20%22big%22%20or%20%22white%22%20or%20%22chefs%22%20or%20%22chef's%22%20as%20the%20chef%20hat.%20%5BInform%20knows%20that%20this%20is%20clothing%20because%20the%20player%20starts%20out%20wearing%20it,%20so%20there's%20no%20need%20to%20say%20so%20separately.%5D%5Cn%5CnThe%20aquarium%20is%20a%20transparent%20open%20container%20in%20the%20Studio.%20It%20is%20not%20openable.%20%22In%20one%20corner%20of%20the%20room,%20a%20large%20aquarium%20bubbles%20in%20menacing%20fashion.%22%20The%20description%20of%20the%20aquarium%20is%20%22A%20very%20roomy%20aquarium,%20large%20enough%20to%20hold%20quite%20a%20variety%20of%20colorful%20sealife%20--%20if%20any%20yet%20survived.%22%20Understand%20%22tank%22%20as%20the%20aquarium.%5Cn%5CnThe%20aquarium%20contains%20some%20gravel%20and%20some%20seaweed.%20Understand%20%22little%20rocks%22%20as%20the%20gravel.%20Understand%20%22weed%22%20as%20the%20seaweed.%20The%20description%20of%20the%20gravel%20is%20%22A%20lot%20of%20very%20small%20grey%20rocks.%22%20The%20description%20of%20the%20seaweed%20is%20%22Fake%20plastic%20seaweed%20of%20the%20kind%20generally%20bought%20in%20stores%20for%20exactly%20this%20purpose.%22%5Cn%5CnThe%20examine%20containers%20rule%20does%20nothing%20when%20examining%20the%20aquarium.%5Cn%5CnAfter%20examining%20the%20gravel%20for%20the%20first%20time:%5Cn%5Ctsay%20%22The%20fish%20notices%20your%20gaze;%20makes%20a%20pathetic%20mime%20of%20trying%20to%20find%20little%20flakes%20of%20remaining%20food%20amongst%20the%20gravel.%22%5Cn%5CnAfter%20examining%20the%20seaweed%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'Nice,%20hunh?'%20blubs%20the%20fish,%20taking%20a%20stabbing%20bite%20out%20of%20one%20just%20by%20way%20of%20demonstration.%20'Look%20so%20good%20I%20could%20eat%20it.'%22%5Cn%5CnThe%20aquarium%20contains%20an%20animal%20called%20an%20evil%20fish.%20The%20description%20of%20the%20fish%20is%20%22Even%20if%20you%20had%20had%20no%20prior%20experience%20with%20him,%20you%20would%20be%20able%20to%20see%20at%20a%20glance%20that%20this%20is%20an%20evil%20fish.%20From%20his%20sharkish%20nose%20to%20his%20razor%20fins,%20every%20inch%20of%20his%20compact%20body%20exudes%20hatred%20and%20danger.%22%5Cn%5CnInstead%20of%20taking%20the%20evil%20fish:%5Cn%5Ctsay%20%22The%20fish%20swims%20adroitly%20out%20of%20range%20of%20your%20bare%20hand.%20'Hey,'%20he%20says,%20and%20the%20bubbles%20of%20his%20breath%20brush%20against%20your%20fingers.%20'Count%20yourself%20lucky%20I%20don't%20bite%20you%20right%20now,%20you%20stinking%20mammal.'%22%5Cn%5CnInstead%20of%20attacking%20the%20evil%20fish:%5Cn%5Ctsay%20%22Oh,%20it's%20tempting.%20But%20it%20would%20get%20you%20in%20a%20world%20of%20hurt%20later%20on.%22%5Cn%5CnInstead%20of%20kissing%20the%20evil%20fish:%5Cn%5Ctsay%20%22You're%20saving%20all%20your%20lovin%20for%20someone%20a%20lot%20cuddlier.%22%5Cn%5CnAfter%20examining%20the%20evil%20fish%20for%20the%20first%20time:%5Cn%5Ctsay%20%22The%20fish%20glares%20at%20you,%20as%20though%20to%20underline%20this%20point.%22%5Cn%5CnAfter%20examining%20the%20evil%20fish%20for%20the%20second%20time:%5Cn%5Ctsay%20%22'If%20you're%20looking%20for%20signs%20of%20malnutrition,'%20says%20the%20fish,%20'LOOK%20NO%20FURTHER!!'%20And%20it%20sucks%20in%20its%20gills%20until%20you%20can%20see%20its%20ribcage.%22%5Cn%5CnAn%20every%20turn%20rule:%5Cn%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Fish%20Banter;%5Cn%5Ctsay%20%22%5Bcomment%20entry%5D%5Bparagraph%20break%5D%22.%5Cn%5CnTable%20of%20Fish%20Banter%5Cncomment%5Ctused%5Cn%22'Hey,%20nice%20SKIN%20TONE,'%20shouts%20the%20evil%20fish.%20His%20words%20reach%20you%20in%20a%20spitting%20gurgle%20of%20aquarium%20water.%20'You%20gone%20over%20to%20a%20pure%20eggplant%20diet%20these%20days?'%22%5Ct0%5Cn%22The%20evil%20fish%20is%20floating%20belly%20up!%20...oh,%20curse.%20He%20was%20toying%20with%20you.%20As%20soon%20as%20he%20sees%20you%20looking,%20he%20goes%20back%20to%20swimming%20around.%22%5Ct0%5Cn%22The%20evil%20fish%20darts%20to%20the%20bottom%20of%20the%20tank%20and%20moves%20the%20gravel%20around%20with%20his%20nose.%22%5Ct0%5Cn%22The%20evil%20fish%20is%20swimming%20around%20the%20tank%20in%20lazy%20circles.%22%5Ct0%5Cn%22The%20evil%20fish%20begins%20to%20butt%20his%20pointy%20nose%20against%20the%20glass%20walls%20of%20the%20tank.%22%5Ct0%5Cn%5CnThe%20description%20of%20the%20bouquet%20is%20%22Okay,%20so%20it's%20silly%20and%20sentimental%20and%20no%20doubt%20a%20waste%20of%20money,%20of%20which%20there%20is%20never%20really%20enough,%20but:%20you%20miss%20her.%20You've%20missed%20her%20since%20ten%20seconds%20after%20she%20stepped%20aboard%20the%20shuttle%20to%20Luna%20Prime,%20and%20when%20you%20saw%20these%20--%20her%20favorites,%20pure%20golden%20tulips%20like%20springtime%20--%20you%20had%20to%20have%20them.%22%20Understand%20%22flowers%22%20or%20%22tulip%22%20or%20%22tulips%22%20as%20the%20bouquet.%5Cn%5CnAfter%20examining%20the%20bouquet%20for%20the%20first%20time:%5Cn%5Ctsay%20%22'Oh,%20you%20shouldn't%20have,'%20says%20the%20fish.%20'For%20me??'%5Cn%5CtYou%20just%20respond%20with%20a%20livid%20glare.%22%5Cn%5Cn%5CtInstead%20of%20smelling%20the%20bouquet%20for%20the%20first%20time:%5Cn%5Ct%5Ctsay%20%22'Mmm-mm,'%20says%20the%20fish.%20'Damn,%20I%20sure%20wish%20I%20had%20olfactory%20abilities.%20Hey,%20if%20I%20did,%20I%20might%20be%20even%20better%20at%20noticing%20the%20presence%20or%20absence%20of%20FOOD.'%22%5Cn%5Cn%5CtThe%20description%20of%20the%20lingerie%20bag%20is%20%22You%20grant%20yourself%20the%20satisfaction%20of%20a%20little%20peek%20inside.%20You%20went%20with%20a%20pale,%20silky%20ivory%20this%20time%20--%20it%20has%20that%20kind%20of%20sophisticated%20innocence,%20and%20it%20goes%20well%20with%20the%20purple%20of%20your%20skin.%20A%20small%20smirk%20of%20anticipation%20crosses%20your%20lips.%22%5Cn%5Cn%5CtAfter%20examining%20the%20lingerie%20bag%20for%20the%20first%20time:%5Cn%5Ct%5Ctsay%20%22'What's%20in%20THERE?'%20asks%20the%20fish.%20'Didja%20bring%20me%20take-out?%20I%20don't%20mind%20Chinese.%20They%20eat%20a%20lot%20of%20carp,%20but%20what%20do%20I%20care?%20I'm%20not%20a%20carp.%20Live%20and%20let%20live%20is%20what%20I%20s--'%5Cn%5Cn'It's%20NOT%20take-out.'%20You%20stare%20the%20fish%20down%20and%20for%20once%20he%20actually%20backstrokes%20a%20stroke%20or%20two.%20'It's%20PRIVATE.'%22%5Cn%5CnAfter%20examining%20the%20lingerie%20bag%20for%20the%20second%20time:%5Cn%5Ctsay%20%22'If%20it's%20not%20take-out,%20I%20don't%20see%20the%20relevance!'%20shouts%20the%20fish.%20'Food%20is%20what%20you%20want%20in%20this%20situation.%20Food%20for%20MEEEE.'%22%5Cn%5CnUnderstand%20the%20command%20%22feed%22%20as%20something%20new.%5Cn%5CnUnderstand%20%22feed%20%5Bsomething%5D%22%20as%20feeding.%5Cn%5CnFeeding%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCheck%20feeding:%5Cn%5Ctif%20the%20noun%20is%20not%20the%20evil%20fish,%20say%20%22That%20doesn't%20make%20much%20sense.%22%20instead;%5Cn%5Ctif%20the%20player%20is%20not%20carrying%20the%20fish%20food,%20say%20%22You%20need%20the%20fish%20food%20first.%22%20instead.%5Cn%5CnCarry%20out%20feeding:%5Cn%5Ctincrement%20the%20score;%5Cn%5Ctsay%20%22Triumphantly,%20you%20dump%20the%20remaining%20contents%20of%20the%20canister%20of%20fish%20food%20into%20the%20tank.%20It%20floats%20on%20the%20surface%20like%20scum,%20but%20the%20fish%20for%20once%20stops%20jawing%20and%20starts%20eating.%20Like%20a%20normal%20fish.%20Blub,%20blub.%5Bparagraph%20break%5D%22;%5Cn%5Ctsay%20%20%22%5Bbold%20type%5D%20%20***%20TWO%20HOURS%20LATER%20***%5Broman%20type%5D%5Bparagraph%20break%5D'So,'%20Britney%20says,%20tucking%20a%20strand%20of%20hair%20behind%20your%20ear,%20'where%20shall%20we%20go%20for%20dinner?%20Since%20I%20made%20the%20big%20bucks%20on%20this%20trip,%20it's%20my%20treat.%20Anywhere%20you%20like.'%5Bparagraph%20break%5D'I've%20had%20a%20hankering%20all%20day,'%20you%20admit,%20as%20the%20two%20of%20you%20turn%20from%20the%20shuttle%20platform%20and%20head%20toward%20the%20bank%20of%20taxis.%20'I%20could%20really%20go%20for%20some%20sashimi%20right%20now.'%22;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5CnBefore%20feeding%20the%20fish%20food:%5Cn%5Cttry%20feeding%20the%20evil%20fish%20instead.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22You're%20on%20the%20run.%20You've%20got%20a%20million%20errands%20to%20do%20--%20your%20apartment%20to%20get%20cleaned%20up,%20the%20fish%20to%20feed,%20lingerie%20to%20buy,%20Britney's%20shuttle%20to%20meet--%20%5Bparagraph%20break%5DThe%20fish.%20You%20almost%20forgot.%20And%20it's%20in%20the%20studio,%20halfway%20across%20town%20from%20anywhere%20else%20you%20have%20to%20do.%20Oh%20well,%20you'll%20just%20zip%20over,%20take%20care%20of%20it,%20and%20hop%20back%20on%20the%20El.%20This'll%20be%20over%20in%20no%20time.%5Bparagraph%20break%5DDon't%20you%20just%20hate%20days%20where%20you%20wake%20up%20the%20wrong%20color?%5Bparagraph%20break%5D%22.%5Cn%5CnThe%20maximum%20score%20is%201.%5Cn%5CnTest%20me%20with%20%22x%20fish%20/%20g%20/%20kiss%20fish%20/%20x%20aquarium%20/%20x%20gravel%20/%20x%20seaweed%20/%20i%20/%20x%20telegram%20/%20x%20bouquet%20/%20smell%20bouquet%20/%20x%20lingerie%20/%20g%20/%20x%20hat%20/%20x%20window%20/%20open%20window%20/%20x%20painting%20/%20g%20/%20x%20cabinet%20/%20open%20cabinet%20/%20x%20cloths%20/%20search%20cloths%20/%20open%20food%20/%20feed%20fish%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "A Day For Fresh Sushi" by Emily Short.
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
The story headline is "Your basic surreal gay fish romance".
</p>
<p class="quoted">
The Studio is a room. "[if visited]Decorated with Britney's signature flair. It was her innate sense of style that first made you forgive her that ludicrous name. And here it is displayed to the fullest: deep-hued drapes on the walls, the windows flung open with their stunning view of old Vienna, the faint smell of coffee that clings to everything. Her easel stands over by the windows, where the light is brightest.[otherwise]This is Britney's studio. You haven't been around here for a while, because of how busy you've been with work, and she's made a few changes -- the aquarium in the corner, for instance. But it still brings back a certain emotional sweetness from the days when you had just met for the first time... when you used to spend hours on the sofa...
</p>
<p class="quoted">
You shake your head. No time for fantasy. Must feed fish.[end if]"
</p>
<p class="quoted">
Instead of smelling the Studio:
<br>    say "The evil fish notices you sniffing the air. 'Vanilla Raspberry Roast,' it remarks. 'You really miss her, don't you.'
</p>
<p class="quoted">
You glance over, startled, but the fish's mouth is open in a piscine equivalent of a laugh. You stifle the urge to skewer the thing..."
</p>
<p class="quoted">
Instead of jumping:
<br>    say "'Er,' says the fish. 'Does that, like, EVER help??'"
</p>
<p class="quoted">
Instead of going nowhere:
<br>    say "You can't leave until you've fed the fish. Otherwise, he'll complain, and you will never hear the end of it."
</p>
<p class="quoted">
The cabinet is an openable closed container in the Studio. It is fixed in place. "A huge cabinet, in the guise of an armoire, stands between the windows." The description is "Large, and with a bit of an Art Nouveau theme going on in the shape of the doors." Understand "armoire" as the cabinet.
</p>
<p class="quoted">
Instead of looking under the cabinet for the first time:
<br>    say "'Dustbunnies,' predicts the fish, with telling accuracy. It executes what for all the world looks like a fishy shudder. 'Lemme tell you, one time I accidentally flopped outta the tank, and I was TWO HOURS on the floor with those things STARING ME IN THE NOSE. It was frightening.'"
</p>
<p class="quoted">
After opening the cabinet for the first time:
<br>    say "'There ya go,' says the fish. 'The girl is getting WARMER.'"
</p>
<p class="quoted">
After closing the cabinet for the first time:
<br>    if the fish food is not found, say "'Ooh, what do you think, Bob? I think we're going to have to dock the girl a few points. HAVE ANOTHER LOOK, sweetcakes, there's a doll.'"
</p>
<p class="quoted">
The cabinet contains some paints and some cloths. The description of the paints is "A bunch of tubes of oil paint, most of them in some state of grunginess, some with the tops twisted partway off."
</p>
<p class="quoted">
After taking the paints for the first time:
<br>    say "'Boy,' says the fish, apparently to himself, 'I sure hope that's some food she's finding for me in there. You know, the yummy food in the ORANGE CAN.'"
</p>
<p class="quoted">
After examining the paints for the first time:
<br>    say "'Tons of useful stuff in there,' hollers in the fish, in a syncopated burble."
</p>
<p class="quoted">
The description of the cloths is "Various colors of drapery that Britney uses to set up backgrounds and clothe her models. She does a lot of portraiture, so this comes in handy. It's all a big messy wad at the moment. Organized is not her middle name." Understand "drapery" or "cloth" as the cloths. The indefinite article of the cloths is "a heap of". [see 3.17]
</p>
<p class="quoted">
Instead of searching or looking under the cloths for the first time:
<br>    now the player is carrying the fish food;
<br>    now the fish food is found;
<br>    say "Poking around the cloths reveals -- ha HA! -- a vehemently orange can of fish food."
</p>
<p class="quoted">
Instead of showing the cloths to the fish:
<br>    say "'What are you, some kind of sadist? I don't want to see a bunch of cloths! What kind of f'ing good, 'scuse my French, is that supposed to do me? I don't even wear pants for God's sake!'
</p>
<p class="quoted">
He really looks upset. You start wondering whether apoplexy is an ailment common to fish."
</p>
<p class="quoted">
After examining cloths for the first time:
<br>    say "'Whatcha looking at? I can't see through the doors, you know.'"
</p>
<p class="quoted">
There is a can of fish food. Understand "canister" as the can. The description is "A vehemently orange canister of fish food." The fish food can be found or hidden. The fish food is hidden.
</p>
<p class="quoted">
Instead of giving the can to the fish:
<br>    say "'I don't want the whole can, GeniusChyk. Just feed me and we'll ALL be happy, 'kay?"
</p>
<p class="quoted">
Instead of showing the can to the fish:
<br>    say "'That's the ticket, sweetie! Bring it on.'"
</p>
<p class="quoted">
Instead of opening the can:
<br>    say "'Oh, for--!' The evil fish breaks out in exasperation and hives. 'Screw the screwing around with the screwtop. SHE never has to do that.'
</p>
<p class="quoted">
'Well, SHE is not here,' you reply. 'What do you suggest?'
</p>
<p class="quoted">
'&gt;FEED FISH&lt;' says the fish promptly, making fishy faces and pointing at you with his fin. 'Simplicity. Try it.'"
</p>
<p class="quoted">
Instead of inserting the can into something:
<br>    say "'HelLLLOOO,' screams the fish. 'Whatever happened to FEEDING MEEE?'"
</p>
<p class="quoted">
The easel is a supporter in the Studio. It is scenery. On the easel is a painting. Understand "portrait" or "image" as the painting.
</p>
<p class="quoted">
The description of the painting is "Only partway finished, but you can tell what it is: Britney's mother. You only met the old woman once, before she faded out of existence in a little hospice in Salzburg.
</p>
<p class="quoted">
In the picture, her hands are grasping tightly at a small grey bottle, the pills to which she became addicted in her old age, and strange, gargoyle-like forms clutch at her arms and whisper in her ears.
</p>
<p class="quoted">
But the disturbing thing, the truly awful thing, is the small figure of Britney herself, down in the corner, unmistakable: she is walking away. Her back turned.
</p>
<p class="quoted">
You thought she'd finally talked this out, but evidently not. Still feels guilty for leaving. You only barely stop yourself from tracing, with your finger, those tiny slumped shoulders..."
</p>
<p class="quoted">
Instead of taking the painting, say "No, you'd better leave it. It'd freak her out if you moved it."
</p>
<p class="quoted">
Before examining the painting for the first time:
<br>    say "A ferocious banging from the aquarium attracts your attention as you go to look at the painting. 'Hey!' screams the fish. 'She doesn't like strangers looking at her paintings before they're DOONNNE!'
</p>
<p class="quoted">
'Shut up, you,' you reply casually. 'I'm not a stranger.' But the fish puts you off a little bit, and your heart is already in your mouth before you see the painting itself...".
</p>
<p class="quoted">
Instead of examining the painting more than once:
<br>    say "Once is really enough. It's pretty much embedded in your consciousness now."
</p>
<p class="quoted">
After doing something to the painting:
<br>    say "'So what's it of?' asks the fish, as you turn away. 'She never asks if I want to see them, you know?'
</p>
<p class="quoted">
'Her mother,' you respond without thinking.
</p>
<p class="quoted">
'Yeah? Man. I never knew my mother. Eggs, that's the way to go.'"
</p>
<p class="quoted">
The window is scenery in the Studio. The window can be openable. The window can be open. It is openable and closed. Understand "windows" as the window. The description of the window is "[if open]Through the windows you get a lovely view of the street outside. At the moment, the glass is thrown open, and a light breeze is blowing through.[otherwise]Through the windows, you get a lovely view of the street outside -- the little fountain on the corner, the slightly dilapidated but nonetheless magnificent Jugendstil architecture of the facing building. The glass itself is shut, however.[end if]"
</p>
<p class="quoted">
After opening the window for the first time:
<br>    say "'Thank god some air,' says the fish. 'Man, it was getting hard to breathe in here.' Two beats pass. 'Oh wait.'"
</p>
<p class="quoted">
The table is scenery in the Studio. On the table is a vase. The vase is an open container. It is not openable.
</p>
<p class="quoted">
The description of the table is "A monstrosity of poor taste and bad design: made of some heavy, French-empire sort of wood, with a single pillar for a central leg, carved in the image of Poseidon surrounded by nymphs. It's all scaley, and whenever you sit down, the trident has a tendency to stab you in the knee. But Britney assures you it's worth a fortune." The description of the vase is "A huge vase -- what you saw once described in a Regency romance as an epergne, maybe -- something so big that it would block someone sitting at the table from seeing anyone else also sitting at the table. But it does function nicely as a receptacle for hugeass bouquets of flowers."
</p>
<p class="quoted">
Instead of looking under the table for the first time:
<br>    say "'You're not going to find anything down there,' whines the fish. 'I mean, c'mon. It's the fricking floor. Please tell me you can see that. I can see that. I'm a myopic fish in a tank ten feet away and I can tell you there is nothing there but floor.'"
</p>
<p class="quoted">
After examining the table:
<br>    say "'That there is MY PA,' says the fish, pointing at the scaley triton figure with one fin."
</p>
<p class="quoted">
Instead of inserting something which is not the bouquet into the vase:
<br>say "'Okay, so, what were you, raised in a barn? Normal folks like to use that for flowers. Or so I've observed.'"
</p>
<p class="quoted">
After inserting the bouquet into the vase for the first time:
<br>    say "You settle the flowers into the vase and arrange them so that they look sprightly.
</p>
<p class="quoted">
'Oooh,' says the fish. 'No one ever changes the plant life in HERE. It's the same seaw--'
</p>
<p class="quoted">
'Cut me a break and cork it,' you reply tartly."
</p>
<p class="quoted">
The player is carrying a telegram, a bouquet, and a lingerie bag. The player is wearing a chef hat.
</p>
<p class="quoted">
The description of the telegram is "A telegram, apparently. And dated three days ago. [fixed letter spacing]TRIUMPH OURS STOP BACK SOON STOP BE SURE TO FEED FISH STOP[variable letter spacing]". [For printing options see 4.13.] Understand "yellow paper" as the telegram.
</p>
<p class="quoted">
After examining the telegram for the first time:
<br>    say "'So,' blubs the evil fish. 'How about it? Little food over here?'"
</p>
<p class="quoted">
After examining the telegram:
<br>    choose a random row in the Table of Insulting Fish Comments;
<br>    say "[comment entry][paragraph break]".
</p>
<p class="quoted">
Table of Insulting Fish Comments
<br>comment
<br>"'Yeah, yeah,' says the fish. 'You having some trouble with the message, there? Confused? Something I could clear up for you?'"
<br>"'Oookay, genius kid has some troubles in the reading comprehension department.' The fish taps his head meaningfully against the side of the tank. 'I'm so hungry I could eat my way out, you get my meaning?'"
<br>"'I'll translate for you,' screams the fish in toothy fury. 'It says GIVE FOOD TO FISH!! How much more HELP do you NEED???"
</p>
<p class="quoted">
The description of the chef hat is "A big white chef hat of the kind worn by chefs. In this case, you. Just goes to show what a hurry you were in on the way out of the restaurant." Understand "big" or "white" or "chefs" or "chef's" as the chef hat. [Inform knows that this is clothing because the player starts out wearing it, so there's no need to say so separately.]
</p>
<p class="quoted">
The aquarium is a transparent open container in the Studio. It is not openable. "In one corner of the room, a large aquarium bubbles in menacing fashion." The description of the aquarium is "A very roomy aquarium, large enough to hold quite a variety of colorful sealife -- if any yet survived." Understand "tank" as the aquarium.
</p>
<p class="quoted">
The aquarium contains some gravel and some seaweed. Understand "little rocks" as the gravel. Understand "weed" as the seaweed. The description of the gravel is "A lot of very small grey rocks." The description of the seaweed is "Fake plastic seaweed of the kind generally bought in stores for exactly this purpose."
</p>
<p class="quoted">
The examine containers rule does nothing when examining the aquarium.
</p>
<p class="quoted">
After examining the gravel for the first time:
<br>    say "The fish notices your gaze; makes a pathetic mime of trying to find little flakes of remaining food amongst the gravel."
</p>
<p class="quoted">
After examining the seaweed for the first time:
<br>    say "'Nice, hunh?' blubs the fish, taking a stabbing bite out of one just by way of demonstration. 'Look so good I could eat it.'"
</p>
<p class="quoted">
The aquarium contains an animal called an evil fish. The description of the fish is "Even if you had had no prior experience with him, you would be able to see at a glance that this is an evil fish. From his sharkish nose to his razor fins, every inch of his compact body exudes hatred and danger."
</p>
<p class="quoted">
Instead of taking the evil fish:
<br>    say "The fish swims adroitly out of range of your bare hand. 'Hey,' he says, and the bubbles of his breath brush against your fingers. 'Count yourself lucky I don't bite you right now, you stinking mammal.'"
</p>
<p class="quoted">
Instead of attacking the evil fish:
<br>    say "Oh, it's tempting. But it would get you in a world of hurt later on."
</p>
<p class="quoted">
Instead of kissing the evil fish:
<br>    say "You're saving all your lovin for someone a lot cuddlier."
</p>
<p class="quoted">
After examining the evil fish for the first time:
<br>    say "The fish glares at you, as though to underline this point."
</p>
<p class="quoted">
After examining the evil fish for the second time:
<br>    say "'If you're looking for signs of malnutrition,' says the fish, 'LOOK NO FURTHER!!' And it sucks in its gills until you can see its ribcage."
</p>
<p class="quoted">
An every turn rule:
<br>    choose a random row in the Table of Fish Banter;
<br>    say "[comment entry][paragraph break]".
</p>
<p class="quoted">
Table of Fish Banter
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">comment</p></td>
<td class="quotedtablecell"><p class="quoted">used</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"'Hey, nice SKIN TONE,' shouts the evil fish. His words reach you in a spitting gurgle of aquarium water. 'You gone over to a pure eggplant diet these days?'"</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"The evil fish is floating belly up! ...oh, curse. He was toying with you. As soon as he sees you looking, he goes back to swimming around."</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"The evil fish darts to the bottom of the tank and moves the gravel around with his nose."</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"The evil fish is swimming around the tank in lazy circles."</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"The evil fish begins to butt his pointy nose against the glass walls of the tank."</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
</tr>
</table>
<p class="quoted">
The description of the bouquet is "Okay, so it's silly and sentimental and no doubt a waste of money, of which there is never really enough, but: you miss her. You've missed her since ten seconds after she stepped aboard the shuttle to Luna Prime, and when you saw these -- her favorites, pure golden tulips like springtime -- you had to have them." Understand "flowers" or "tulip" or "tulips" as the bouquet.
</p>
<p class="quoted">
After examining the bouquet for the first time:
<br>    say "'Oh, you shouldn't have,' says the fish. 'For me??'
<br>    You just respond with a livid glare."
</p>
<p class="quoted">
    Instead of smelling the bouquet for the first time:
<br>        say "'Mmm-mm,' says the fish. 'Damn, I sure wish I had olfactory abilities. Hey, if I did, I might be even better at noticing the presence or absence of FOOD.'"
</p>
<p class="quoted">
    The description of the lingerie bag is "You grant yourself the satisfaction of a little peek inside. You went with a pale, silky ivory this time -- it has that kind of sophisticated innocence, and it goes well with the purple of your skin. A small smirk of anticipation crosses your lips."
</p>
<p class="quoted">
    After examining the lingerie bag for the first time:
<br>        say "'What's in THERE?' asks the fish. 'Didja bring me take-out? I don't mind Chinese. They eat a lot of carp, but what do I care? I'm not a carp. Live and let live is what I s--'
</p>
<p class="quoted">
'It's NOT take-out.' You stare the fish down and for once he actually backstrokes a stroke or two. 'It's PRIVATE.'"
</p>
<p class="quoted">
After examining the lingerie bag for the second time:
<br>    say "'If it's not take-out, I don't see the relevance!' shouts the fish. 'Food is what you want in this situation. Food for MEEEE.'"
</p>
<p class="quoted">
Understand the command "feed" as something new.
</p>
<p class="quoted">
Understand "feed [something]" as feeding.
</p>
<p class="quoted">
Feeding is an action applying to one visible thing.
</p>
<p class="quoted">
Check feeding:
<br>    if the noun is not the evil fish, say "That doesn't make much sense." instead;
<br>    if the player is not carrying the fish food, say "You need the fish food first." instead.
</p>
<p class="quoted">
Carry out feeding:
<br>    increment the score;
<br>    say "Triumphantly, you dump the remaining contents of the canister of fish food into the tank. It floats on the surface like scum, but the fish for once stops jawing and starts eating. Like a normal fish. Blub, blub.[paragraph break]";
<br>    say  "[bold type]  *** TWO HOURS LATER ***[roman type][paragraph break]'So,' Britney says, tucking a strand of hair behind your ear, 'where shall we go for dinner? Since I made the big bucks on this trip, it's my treat. Anywhere you like.'[paragraph break]'I've had a hankering all day,' you admit, as the two of you turn from the shuttle platform and head toward the bank of taxis. 'I could really go for some sashimi right now.'";
<br>    end the story finally.
</p>
<p class="quoted">
Before feeding the fish food:
<br>    try feeding the evil fish instead.
</p>
<p class="quoted">
When play begins:
<br>    say "You're on the run. You've got a million errands to do -- your apartment to get cleaned up, the fish to feed, lingerie to buy, Britney's shuttle to meet-- [paragraph break]The fish. You almost forgot. And it's in the studio, halfway across town from anywhere else you have to do. Oh well, you'll just zip over, take care of it, and hop back on the El. This'll be over in no time.[paragraph break]Don't you just hate days where you wake up the wrong color?[paragraph break]".
</p>
<p class="quoted">
The maximum score is 1.
</p>
<p class="quoted">
Test me with "x fish / g / kiss fish / x aquarium / x gravel / x seaweed / i / x telegram / x bouquet / smell bouquet / x lingerie / g / x hat / x window / open window / x painting / g / x cabinet / open cabinet / x cloths / search cloths / open food / feed fish".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.16">WI §7.16. Repeated actions</a><br><a href="rb_7.html#rb-7.3">RB §7.3. Reactive Characters</a>
</div></details>
</div></section>
<section class="section" id="rb-7.4"><div>





<h3>RB §7.4. Barter and Exchange</h3>
<p>By default, Inform characters are a bit grudging about giving and sharing objects: they react with disinterest when they're shown things and refuse everything they're offered.</p>
<p>If we'd like to change this, we can simply remove the default "block giving" rule, as in</p>

<div class="code"><p class="quoted">
The block giving rule is not listed in the check giving it to rules.
</p></div>
<p>If we do this, giving items to characters will have the result of moving our possessions to the other person's inventory. Of course, without more customization, the player may not ever be able to persuade the other character to return his possessions. <a href="rb_7.html#example-392" class="example-link" onClick="(function() { document.getElementById('example-392').setAttribute('open','open'); return true; })();">Bribery</a><span class="example-difficulty"> ★★</span> demonstrates a scenario in which a character will accept gifts if they are interesting to him, and respond with a changed attitude to the player.</p>
<p><a href="rb_7.html#example-207" class="example-link" onClick="(function() { document.getElementById('example-207').setAttribute('open','open'); return true; })();">Barter Barter</a><span class="example-difficulty"> ★★★</span> expands further on this by allowing other characters to trade things with one another.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_6.html#rb-6.3" class="crossreference_link">Modifying Existing Commands</a> for ways to allow the player to give or show things that he isn't currently holding</div>
<div class="crossreference">
<a href="rb_6.html#rb-6.15" class="crossreference_link">Actions on Multiple Objects</a> for an implementation of giving that allows the player to offer multiple objects at once, where their combined value determines whether they are accepted</div>
<div class="crossreference">
<a href="rb_9.html#rb-9.4" class="crossreference_link">Money</a> for ways to keep track of cash flow, physical money objects, and price negotiations</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-392"><summary><span class="example-summary">392. Bribery</span> <span class="example-difficulty">★★</span></summary><div>
<p>If we want to rewrite the functionality of a command that usually ends with a "block..." rule, we will have to begin by turning the blocking off.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Bribery%22%5Cn%5CnThe%20block%20giving%20rule%20is%20not%20listed%20in%20the%20check%20giving%20it%20to%20rules.%5Cn%5Cn%5BAs%20it%20happens,%20correct%20behavior%20is%20built%20into%20the%20GIVE%20command%20once%20%22block%20giving%22%20is%20turned%20off,%20so%20we%20do%20not%20have%20to%20write%20a%20replacement%20report%20or%20carry-out%20rule;%20the%20object%20will%20be%20transferred%20to%20the%20possession%20of%20the%20caterpillar.%20But%20we%20do%20want%20to%20adjust%20the%20action%20just%20a%20little%20so%20that%20our%20gift%20cheers%20up%20the%20recipient:%5D%5Cn%5CnCarry%20out%20giving%20(this%20is%20the%20gratitude%20for%20gifts%20rule):%20improve%20the%20mood%20of%20the%20second%20noun.%5Cn%5CnMood%20is%20a%20kind%20of%20value.%20The%20moods%20are%20hostile,%20suspicious,%20indifferent,%20friendly,%20and%20adoring.%20An%20animal%20has%20a%20mood.%20An%20animal%20is%20usually%20indifferent.%5Cn%5CnTo%20improve%20the%20mood%20of%20(character%20-%20an%20animal):%5Cn%5Ctif%20the%20mood%20of%20character%20is%20less%20than%20friendly,%20now%20the%20mood%20of%20the%20character%20is%20the%20mood%20after%20the%20mood%20of%20the%20character.%5Cn%5Cn%5BNow%20whenever%20we%20give%20something%20to%20an%20animal,%20the%20animal%20will%20be%20pleased%20about%20the%20present.%20Of%20course,%20we%20might%20also%20want%20to%20add%20a%20check%20rule%20to%20giving,%20to%20see%20whether%20the%20offering%20is%20something%20the%20recipient%20really%20wants:%5D%5Cn%5CnCheck%20giving%20(this%20is%20the%20polite%20refusal%20of%20unwanted%20objects%20rule):%5Cn%5Ctunless%20the%20noun%20interests%20the%20second%20noun:%5Cn%5Ct%5Ctsay%20%22%5BThe%20second%20noun%5D%20disdainfully%20refuses%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnTo%20decide%20whether%20(item%20-%20a%20thing)%20interests%20(character%20-%20a%20person):%5Cn%5Ctif%20the%20character%20has%20the%20item,%20no;%5Cn%5Ctif%20the%20item%20is%20edible,%20yes;%5Cn%5Ctno.%5Cn%5CnInstead%20of%20showing%20something%20to%20someone:%5Cntry%20giving%20the%20noun%20to%20the%20second%20noun.%5Cn%5Cn%5BThere%20is%20already%20a%20perfectly%20workable%20report%20rule%20that%20will%20describe%20what%20happens%20when%20we%20give%20something%20to%20someone,%20but%20let's%20say%20we%20want%20to%20report%20on%20the%20recipient's%20changed%20mood,%20too:%5D%5Cn%5CnAfter%20giving%20something%20to%20someone:%5Cn%5Ctsay%20%22You%20give%20%5Bthe%20noun%5D%20to%20%5Bthe%20second%20noun%5D,%20who%20appears%20mollified%20and%20is%20now%20merely%20%5Bmood%20of%20the%20second%20noun%5D.%22%5Cn%5Cn%5BAnd%20the%20rest%20is%20all%20scenario:%5D%5Cn%5CnThe%20Leafy%20Branch%20is%20a%20room.%20%22You%20stand%20on%20smooth%20bark%20dappled%20by%20sunlight.%20The%20scent-trail%20runs%20forward%20to%20home.%5Cn%5CnThe%20branch%20continues%20forward%20and%20backward%20from%20here,%20and%20a%20stem%20extends%20forward-up.%22%5Cn%5CnInstead%20of%20going%20south%20in%20Leafy%20Branch,%20say%20%22You%20must%20not%20back%20down!%20The%20scent%20trail%20leads%20onward!%22%5Cn%5CnThe%20Very%20Hungry%20Caterpillar%20is%20a%20hostile%20animal%20in%20the%20Leafy%20Branch.%20%22%5BThe%20Caterpillar%5D%20looks%20%5Bmood%5D.%22%20Instead%20of%20examining%20the%20Caterpillar,%20say%20%22%5BThe%20caterpillar%5D%20appears%20%5Bmood%5D.%22%5Cn%5CnThe%20player%20carries%20an%20edible%20thing%20called%20a%20peanut%20crumb.%20The%20carrying%20capacity%20of%20the%20player%20is%201.%20After%20taking%20something,%20say%20%22You%20lift%20%5Bthe%20noun%5D,%20though%20it%20is%20nearly%20your%20own%20size.%22%5Cn%5CnInstead%20of%20going%20north%20in%20the%20presence%20of%20a%20hostile%20caterpillar:%5Cn%5Ctsay%20%22%5BThe%20Caterpillar%5D%20moves%20to%20block%20your%20exit,%20glaring%20down%20at%20you%20with%20all%20the%20bristles%20on%20its%20skin%20extended%20to%20full%20size.%22%5Cn%5CnInstead%20of%20going%20north%20in%20the%20presence%20of%20a%20suspicious%20caterpillar:%5Cn%5Ctsay%20%22%5BThe%20Caterpillar%5D%20moves%20to%20block%20your%20exit,%20though%20it%20might%20allow%20you%20past%20if%20you%20offered%20further%20tribute.%22%5Cn%5CnThe%20Leaf%20Face%20is%20above%20the%20branch.%20%22The%20smooth%20and%20shiny%20surface%20of%20the%20leaf%20extends%20forward%20from%20here,%20but%20you%20have%20lost%20the%20scent-trail.%20This%20is%20not%20the%20way%20home.%22%20%20The%20pear%20fragment%20is%20an%20edible%20thing%20in%20Leaf%20Face.%20The%20dead%20aphid%20is%20a%20thing%20in%20Leaf%20Face.%5Cn%5CnThe%20Twig%20is%20north%20of%20Leafy%20Branch.%20%22The%20scent-trail%20is%20weak%20but%20not%20entirely%20gone,%20and%20you%20pursue%20it%20faithfully...%22%5Cn%5CnAfter%20going%20to%20the%20Twig:%5Cn%5Ctsay%20%22The%20scent-trail%20is%20weak%20but%20not%20entirely%20gone,%20and%20you%20pursue%20it%20faithfully...%22;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5CnUnderstand%20%22forward-up%22%20as%20up.%20Understand%20%22forward%22%20as%20north.%20Understand%20%22backward%22%20as%20south.%20%20Understand%20%22backward-down%22%20as%20down.%5Cn%5CnTest%20me%20with%20%22forward%20/%20give%20crumb%20to%20caterpillar%20/%20forward%20/%20forward-up%20/%20get%20aphid%20/%20get%20fragment%20/%20down%20/%20give%20aphid%20to%20caterpillar%20/%20drop%20aphid%20/%20forward-up%20/%20get%20fragment%20/%20down%20/%20give%20fragment%20/%20forward%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Bribery"
</p>
<p class="quoted">
The block giving rule is not listed in the check giving it to rules.
</p>
</div>
<p>As it happens, correct behavior is built into the GIVE command once "block giving" is turned off, so we do not have to write a replacement report or carry-out rule; the object will be transferred to the possession of the caterpillar. But we do want to adjust the action just a little so that our gift cheers up the recipient:</p>

<div class="code">
<p class="quoted">
Carry out giving (this is the gratitude for gifts rule): improve the mood of the second noun.
</p>
<p class="quoted">
Mood is a kind of value. The moods are hostile, suspicious, indifferent, friendly, and adoring. An animal has a mood. An animal is usually indifferent.
</p>
<p class="quoted">
To improve the mood of (character - an animal):
<br>    if the mood of character is less than friendly, now the mood of the character is the mood after the mood of the character.
</p>
</div>
<p>Now whenever we give something to an animal, the animal will be pleased about the present. Of course, we might also want to add a check rule to giving, to see whether the offering is something the recipient really wants:</p>

<div class="code">
<p class="quoted">
Check giving (this is the polite refusal of unwanted objects rule):
<br>    unless the noun interests the second noun:
<br>        say "[The second noun] disdainfully refuses [the noun]." instead.
</p>
<p class="quoted">
To decide whether (item - a thing) interests (character - a person):
<br>    if the character has the item, no;
<br>    if the item is edible, yes;
<br>    no.
</p>
<p class="quoted">
Instead of showing something to someone:
<br>try giving the noun to the second noun.
</p>
</div>
<p>There is already a perfectly workable report rule that will describe what happens when we give something to someone, but let's say we want to report on the recipient's changed mood, too:</p>

<div class="code"><p class="quoted">
After giving something to someone:
<br>    say "You give [the noun] to [the second noun], who appears mollified and is now merely [mood of the second noun]."
</p></div>
<p>And the rest is all scenario:</p>

<div class="code">
<p class="quoted">
The Leafy Branch is a room. "You stand on smooth bark dappled by sunlight. The scent-trail runs forward to home.
</p>
<p class="quoted">
The branch continues forward and backward from here, and a stem extends forward-up."
</p>
<p class="quoted">
Instead of going south in Leafy Branch, say "You must not back down! The scent trail leads onward!"
</p>
<p class="quoted">
The Very Hungry Caterpillar is a hostile animal in the Leafy Branch. "[The Caterpillar] looks [mood]." Instead of examining the Caterpillar, say "[The caterpillar] appears [mood]."
</p>
<p class="quoted">
The player carries an edible thing called a peanut crumb. The carrying capacity of the player is 1. After taking something, say "You lift [the noun], though it is nearly your own size."
</p>
<p class="quoted">
Instead of going north in the presence of a hostile caterpillar:
<br>    say "[The Caterpillar] moves to block your exit, glaring down at you with all the bristles on its skin extended to full size."
</p>
<p class="quoted">
Instead of going north in the presence of a suspicious caterpillar:
<br>    say "[The Caterpillar] moves to block your exit, though it might allow you past if you offered further tribute."
</p>
<p class="quoted">
The Leaf Face is above the branch. "The smooth and shiny surface of the leaf extends forward from here, but you have lost the scent-trail. This is not the way home."  The pear fragment is an edible thing in Leaf Face. The dead aphid is a thing in Leaf Face.
</p>
<p class="quoted">
The Twig is north of Leafy Branch. "The scent-trail is weak but not entirely gone, and you pursue it faithfully..."
</p>
<p class="quoted">
After going to the Twig:
<br>    say "The scent-trail is weak but not entirely gone, and you pursue it faithfully...";
<br>    end the story finally.
</p>
<p class="quoted">
Understand "forward-up" as up. Understand "forward" as north. Understand "backward" as south.  Understand "backward-down" as down.
</p>
<p class="quoted">
Test me with "forward / give crumb to caterpillar / forward / forward-up / get aphid / get fragment / down / give aphid to caterpillar / drop aphid / forward-up / get fragment / down / give fragment / forward".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_19.html#wi-19.3">WI §19.3. New rules</a><br><a href="rb_7.html#rb-7.4">RB §7.4. Barter and Exchange</a>
</div></details><details class="full-example" id="example-207"><summary><span class="example-summary">207. Barter Barter</span> <span class="example-difficulty">★★★</span></summary><div>
<p>By default, if we make no modifications, telling one player to give something to another will fail, even if persuasion succeeds. This is because the default behavior of the GIVE command is interrupted by the "block giving rule" -- since in many cases we do not want people to exchange objects freely.</p>
<p>However, suppose that we do want characters to be able to exchange articles freely: we allow persuasion to succeed and turn off the "block giving rule".</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Barter%20Barter%22%5Cn%5CnThe%20block%20giving%20rule%20is%20not%20listed%20in%20the%20check%20giving%20it%20to%20rules.%5Cn%5CnA%20persuasion%20rule%20for%20asking%20people%20to%20try%20giving:%20persuasion%20succeeds.%5Cn%5CnThe%20Trading%20Post%20is%20a%20room.%5Cn%5CnMeriwether%20Lewis%20is%20a%20man%20in%20the%20Trading%20Post.%20He%20carries%20a%20fluffy%20handmade%20quilt%20and%20a%20bag%20of%20beans.%20The%20beans%20are%20edible.%5Cn%5CnWilliam%20Clark%20is%20a%20man%20in%20the%20Trading%20Post.%20He%20carries%20leather%20slippers,%20a%20journal,%20and%20a%20loaf%20of%20bread.%20The%20bread%20is%20edible.%20The%20slippers%20are%20wearable.%5Cn%5CnInstead%20of%20examining%20someone:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20is%20carrying%20%5Bthe%20list%20of%20things%20carried%20by%20the%20noun%5D.%22%5Cn%5Cn%5BAnd%20now%20we%20might%20want%20to%20implement%20a%20way%20to%20keep%20track%20of%20whether%20the%20recipient%20character%20wants%20what's%20being%20offered:%5D%5Cn%5CnCheck%20someone%20trying%20giving%20something%20to%20someone%20(this%20is%20the%20sneering%20refusal%20rule):%5Cn%5Ctif%20the%20second%20noun%20dislikes%20the%20noun,%20stop%20the%20action.%5Cn%5CnUnsuccessful%20attempt%20by%20someone%20trying%20doing%20something:%5Cn%5Ctif%20the%20reason%20the%20action%20failed%20is%20the%20sneering%20refusal%20rule,%20say%20%22'Would%20you%20care%20for%20%5Bthe%20noun%5D?'%20%5Bthe%20person%20asked%5D%20asks%20solicitously%20of%20%5Bthe%20second%20noun%5D.%5Cn%5CnBut%20%5Bthe%20second%20noun%5D%20refuses%20%5Bthe%20noun%5D%20disdainfully.%22;%5Cn%5Ctotherwise%20say%20%22%5BThe%20person%20asked%5D%20just%20appears%20bewildered%20by%20this%20improbable%20instruction.%22%5Cn%5CnDistaste%20relates%20one%20person%20to%20various%20things.%20The%20verb%20to%20dislike%20means%20the%20distaste%20relation.%5Cn%5CnClark%20dislikes%20the%20beans.%20Lewis%20dislikes%20the%20bread.%5Cn%5Cn%5BSince%20we've%20defined%20this%20as%20a%20relation,%20we%20could%20change%20what%20the%20characters%20like%20and%20dislike%20during%20the%20course%20of%20the%20game,%20freely;%20for%20instance,%20characters%20might%20grow%20hungry%20and%20suddenly%20like%20all%20the%20edible%20articles.%5D%5Cn%5CnTest%20me%20with%20%22x%20lewis%20/%20x%20clark%20/%20clark,%20give%20the%20slippers%20to%20lewis%20/%20clark,%20give%20the%20bread%20to%20lewis%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Barter Barter"
</p>
<p class="quoted">
The block giving rule is not listed in the check giving it to rules.
</p>
<p class="quoted">
A persuasion rule for asking people to try giving: persuasion succeeds.
</p>
<p class="quoted">
The Trading Post is a room.
</p>
<p class="quoted">
Meriwether Lewis is a man in the Trading Post. He carries a fluffy handmade quilt and a bag of beans. The beans are edible.
</p>
<p class="quoted">
William Clark is a man in the Trading Post. He carries leather slippers, a journal, and a loaf of bread. The bread is edible. The slippers are wearable.
</p>
<p class="quoted">
Instead of examining someone:
<br>    say "[The noun] is carrying [the list of things carried by the noun]."
</p>
</div>
<p>And now we might want to implement a way to keep track of whether the recipient character wants what's being offered:</p>

<div class="code">
<p class="quoted">
Check someone trying giving something to someone (this is the sneering refusal rule):
<br>    if the second noun dislikes the noun, stop the action.
</p>
<p class="quoted">
Unsuccessful attempt by someone trying doing something:
<br>    if the reason the action failed is the sneering refusal rule, say "'Would you care for [the noun]?' [the person asked] asks solicitously of [the second noun].
</p>
<p class="quoted">
But [the second noun] refuses [the noun] disdainfully.";
<br>    otherwise say "[The person asked] just appears bewildered by this improbable instruction."
</p>
<p class="quoted">
Distaste relates one person to various things. The verb to dislike means the distaste relation.
</p>
<p class="quoted">
Clark dislikes the beans. Lewis dislikes the bread.
</p>
</div>
<p>Since we've defined this as a relation, we could change what the characters like and dislike during the course of the game, freely; for instance, characters might grow hungry and suddenly like all the edible articles.</p>

<div class="code"><p class="quoted">
Test me with "x lewis / x clark / clark, give the slippers to lewis / clark, give the bread to lewis".
</p></div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.12">WI §12.12. Check rules for actions by other people</a><br><a href="rb_7.html#rb-7.4">RB §7.4. Barter and Exchange</a>
</div></details>
</div></section>
<section class="section" id="rb-7.5"><div>





<h3>RB §7.5. Combat and Death</h3>
<p>Not all characters are friendly, and there are times when we may want to include a fight sequence. There are a number of ways to approach this, depending on whether we want to offer the player a random outcome, a predetermined one, or a combat sequence that depends partly on strategy or on having the proper equipment.</p>
<p><a href="rb_7.html#example-131" class="example-link" onClick="(function() { document.getElementById('example-131').setAttribute('open','open'); return true; })();">Lanista 1</a><span class="example-difficulty"> ★</span> demonstrates randomized combat in the style of a role-playing game. The player has a partially random chance of doing any given amount of damage; both the player and his opponent have hit points, and whichever one runs out first dies. <a href="rb_7.html#example-293" class="example-link" onClick="(function() { document.getElementById('example-293').setAttribute('open','open'); return true; })();">Lanista 2</a><span class="example-difficulty"> ★★</span> continues this idea, but includes weapons that affect the amount of of damage done. <a href="rb_7.html#example-191" class="example-link" onClick="(function() { document.getElementById('example-191').setAttribute('open','open'); return true; })();">Red Cross</a><span class="example-difficulty"> ★</span> by itself implements a command that we might use to find out how strong characters are at the moment.</p>
<p>A word of warning about designing such sequences: a player who gets a roll he doesn't like always has the option of UNDOing a turn and re-rolling. This means that he can always win a random battle sooner or later; bad luck only means that it takes him longer (so he gets more bored and irritated as he plays through). It is possible to turn off UNDO implementation with</p>

<div class="code"><p class="quoted">
Use UNDO prevention.
</p></div>
<p>...but there is a good chance that this will irritate players in itself. Role-playing-style combat scenarios need careful design, lest they actively make a story less fun.</p>
<p>In a slightly more realistic setting, combat leaves physical remains behind, unless we're wielding some kind of futuristic weapon that evaporates our opponents entirely: <a href="rb_7.html#example-201" class="example-link" onClick="(function() { document.getElementById('example-201').setAttribute('open','open'); return true; })();">Puff of Orange Smoke</a><span class="example-difficulty"> ★★</span> demonstrates characters who leave corpses behind when they die, while <a href="rb_7.html#example-127" class="example-link" onClick="(function() { document.getElementById('example-127').setAttribute('open','open'); return true; })();">Technological Terror</a><span class="example-difficulty"> ★★★</span> more tamely explodes robots into numerous component parts.</p>
<p>Finally, we can imagine some scenarios in which, instead of allowing characters to strike at each other for random damage, we want to introduce an element of strategy. <a href="rb_7.html#example-113" class="example-link" onClick="(function() { document.getElementById('example-113').setAttribute('open','open'); return true; })();">Don Pedro's Revenge</a><span class="example-difficulty"> ★★★</span> shows the rudiments of a system in which the characters can make different kinds of attack depending on where they are in a room filled with perches, barrels, and other swashbuckler props.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_11.html#rb-11.2" class="crossreference_link">Saving and Undoing</a> for more discussion of handling random behavior in games</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-131"><summary><span class="example-summary">131. Lanista 1</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Lanista,%20Part%20One%22%5Cn%5CnThe%20Arena%20is%20a%20room.%20%22Sand,%20blood,%20iron.%20These%20festivals%20are%20normally%20held%20on%20hot%20days,%20but%20the%20sun%20has%20gone%20behind%20a%20cloud%20and%20fat%20drops%20of%20rain%20now%20and%20then%20spatter%20the%20arena%20floor.%22%20The%20gladiator%20is%20a%20man%20in%20the%20Arena.%20%22A%20bare-chested%20Scythian%20gladiator%20faces%20you,%20wielding%20a%20trident.%22%5Cn%5Cn%5BWe%20start%20by%20recording,%20for%20each%20person,%20a%20maximum%20number%20of%20points%20of%20damage%20the%20person%20can%20sustain%20when%20starting%20from%20health,%20and%20the%20current%20number%20of%20points%20remaining.%20In%20the%20tradition%20of%20role-playing%20games,%20these%20are%20referred%20to%20as%20hit%20points.%5D%5Cn%5CnA%20person%20has%20a%20number%20called%20maximum%20hit%20points.%20A%20person%20has%20a%20number%20called%20current%20hit%20points.%5Cn%5CnThe%20maximum%20hit%20points%20of%20the%20player%20is%2035.%20The%20maximum%20hit%20points%20of%20the%20gladiator%20is%2025.%5Cn%5CnThe%20current%20hit%20points%20of%20the%20player%20is%2035.%20The%20current%20hit%20points%20of%20the%20gladiator%20is%2025.%5Cn%5Cn%5BNow%20our%20rule%20for%20the%20actual%20attack.%20We%20want%20first%20to%20calculate%20how%20much%20damage%20the%20player's%20attack%20does,%20inflict%20that%20damage,%20and%20remove%20the%20enemy%20if%20he's%20dead;%20then,%20if%20he%20doesn't%20die,%20the%20enemy%20counter-attacks,%20also%20for%20a%20randomized%20amount%20of%20damage,%20and%20if%20this%20kills%20the%20player,%20the%20game%20ends%20in%20defeat.%5D%5Cn%5CnInstead%20of%20attacking%20someone:%5Cn%5Ctlet%20the%20damage%20be%20a%20random%20number%20between%202%20and%2010;%5Cn%5Ctsay%20%22You%20attack%20%5Bthe%20noun%5D,%20causing%20%5Bdamage%5D%20points%20of%20damage!%22;%5Cn%5Ctdecrease%20the%20current%20hit%20points%20of%20the%20noun%20by%20the%20damage;%5Cn%5Ctif%20the%20current%20hit%20points%20of%20the%20noun%20is%20less%20than%200:%5Cn%5Ct%5Ctsay%20%22%5Bline%20break%5D%5BThe%20noun%5D%20expires,%20and%20is%20immediately%20carried%20away%20by%20the%20Arena%20slaves!%22;%5Cn%5Ct%5Ctnow%20the%20noun%20is%20nowhere;%5Cn%5Ct%5Ctend%20the%20story%20finally;%5Cn%5Ct%5Ctstop%20the%20action;%5Cn%5Ctlet%20the%20enemy%20damage%20be%20a%20random%20number%20between%202%20and%2010;%5Cn%5Ctsay%20%22%5Bline%20break%5D%5BThe%20noun%5D%20attacks%20you,%20causing%20%5Benemy%20damage%5D%20points%20of%20damage!%22;%5Cn%5Ctdecrease%20the%20current%20hit%20points%20of%20the%20player%20by%20the%20enemy%20damage;%5Cn%5Ctif%20the%20current%20hit%20points%20of%20the%20player%20is%20less%20than%200:%5Cn%5Ct%5Ctsay%20%22%5Bline%20break%5DYou%20expire!%22;%5Cn%5Ct%5Ctend%20the%20story.%5Cn%5Cn%5BThis%20last%20bit%20is%20a%20refinement%20to%20help%20the%20player%20keep%20track%20of%20how%20the%20contest%20is%20going:%5D%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20left%20hand%20status%20line%20is%20%22You:%20%5Bcurrent%20hit%20points%20of%20player%5D%22;%5Cn%5Ctnow%20the%20right%20hand%20status%20line%20is%20%22Gladiator:%20%5Bcurrent%20hit%20points%20of%20gladiator%5D%22.%5Cn%5CnTest%20me%20with%20%22hit%20gladiator%20/%20g%20/%20g%20/%20g%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Lanista, Part One"
</p>
<p class="quoted">
The Arena is a room. "Sand, blood, iron. These festivals are normally held on hot days, but the sun has gone behind a cloud and fat drops of rain now and then spatter the arena floor." The gladiator is a man in the Arena. "A bare-chested Scythian gladiator faces you, wielding a trident."
</p>
</div>
<p>We start by recording, for each person, a maximum number of points of damage the person can sustain when starting from health, and the current number of points remaining. In the tradition of role-playing games, these are referred to as hit points.</p>

<div class="code">
<p class="quoted">
A person has a number called maximum hit points. A person has a number called current hit points.
</p>
<p class="quoted">
The maximum hit points of the player is 35. The maximum hit points of the gladiator is 25.
</p>
<p class="quoted">
The current hit points of the player is 35. The current hit points of the gladiator is 25.
</p>
</div>
<p>Now our rule for the actual attack. We want first to calculate how much damage the player's attack does, inflict that damage, and remove the enemy if he's dead; then, if he doesn't die, the enemy counter-attacks, also for a randomized amount of damage, and if this kills the player, the game ends in defeat.</p>

<div class="code"><p class="quoted">
Instead of attacking someone:
<br>    let the damage be a random number between 2 and 10;
<br>    say "You attack [the noun], causing [damage] points of damage!";
<br>    decrease the current hit points of the noun by the damage;
<br>    if the current hit points of the noun is less than 0:
<br>        say "[line break][The noun] expires, and is immediately carried away by the Arena slaves!";
<br>        now the noun is nowhere;
<br>        end the story finally;
<br>        stop the action;
<br>    let the enemy damage be a random number between 2 and 10;
<br>    say "[line break][The noun] attacks you, causing [enemy damage] points of damage!";
<br>    decrease the current hit points of the player by the enemy damage;
<br>    if the current hit points of the player is less than 0:
<br>        say "[line break]You expire!";
<br>        end the story.
</p></div>
<p>This last bit is a refinement to help the player keep track of how the contest is going:</p>

<div class="code">
<p class="quoted">
When play begins:
<br>    now the left hand status line is "You: [current hit points of player]";
<br>    now the right hand status line is "Gladiator: [current hit points of gladiator]".
</p>
<p class="quoted">
Test me with "hit gladiator / g / g / g".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.18">WI §8.18. Randomness</a><br><a href="rb_7.html#rb-7.5">RB §7.5. Combat and Death</a>
</div></details><details class="full-example" id="example-191"><summary><span class="example-summary">191. Red Cross</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Red%20Cross%22%5Cn%5CnDiagnosing%20is%20an%20action%20applying%20to%20one%20visible%20thing.%20Understand%20%22diagnose%20%5Bsomething%5D%22%20as%20diagnosing.%5Cn%5CnCheck%20diagnosing:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20person,%20say%20%22Only%20people%20can%20have%20diagnoses.%22%20instead.%5Cn%5CnCarry%20out%20diagnosing:%5Cn%5Ctsay%20%22You're%20not%20a%20medical%20expert.%22%5Cn%5CnInstead%20of%20diagnosing%20the%20player:%5Cn%5Ctsay%20%22You%20feel%20fine!%22%5Cn%5CnThe%20Clinic%20is%20a%20room.%20Fred%20is%20a%20man%20in%20the%20Clinic.%20The%20player%20carries%20a%20tongue-depressor.%5Cn%5CnTest%20me%20with%20%22diagnose%20me%20/%20diagnose%20fred%20/%20diagnose%20tongue-depressor%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Red Cross"
</p>
<p class="quoted">
Diagnosing is an action applying to one visible thing. Understand "diagnose [something]" as diagnosing.
</p>
<p class="quoted">
Check diagnosing:
<br>    if the noun is not a person, say "Only people can have diagnoses." instead.
</p>
<p class="quoted">
Carry out diagnosing:
<br>    say "You're not a medical expert."
</p>
<p class="quoted">
Instead of diagnosing the player:
<br>    say "You feel fine!"
</p>
<p class="quoted">
The Clinic is a room. Fred is a man in the Clinic. The player carries a tongue-depressor.
</p>
<p class="quoted">
Test me with "diagnose me / diagnose fred / diagnose tongue-depressor".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.7">WI §12.7. New actions</a><br><a href="rb_7.html#rb-7.5">RB §7.5. Combat and Death</a>
</div></details><details class="full-example" id="example-201"><summary><span class="example-summary">201. Puff of Orange Smoke</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to let the player kill characters, leaving behind corpses.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Puff%20of%20Orange%20Smoke%22%5Cn%5CnParaguay%20is%20a%20room.%20Bolivia%20is%20north%20of%20Paraguay.%20Lydia%20is%20a%20woman%20in%20Paraguay.%20%22Lydia%20is,%20as%20usual,%20here.%22%20The%20description%20of%20Lydia%20is%20%22Long,%20long%20legs%20and%20a%20sarcastic%20attitude.%22%20Instead%20of%20touching%20Lydia:%20say%20%22'Watch%20it,%20sailor,'%20she%20snaps.%22%5Cn%5CnA%20body%20is%20a%20kind%20of%20thing.%20A%20body%20is%20a%20part%20of%20every%20person.%20Instead%20of%20touching%20a%20body:%20say%20%22%5BThe%20noun%5D%20is%20grotesquely%20inert.%22%5Cn%5CnThe%20description%20of%20Lydia's%20body%20is%20%22Long,%20long%20legs%20and%20no%20attitude%20at%20all.%22%20The%20initial%20appearance%20of%20Lydia's%20body%20is%20%22Lydia's%20corpse%20is%20sprawled%20at%20your%20feet.%22%5Cn%5Cn%5BUsing%20our%20%22part%20of%20every%20person...%22%20line,%20we've%20conveniently%20assigned%20one%20body%20per%20person.%20Since%20we're%20going%20to%20separate%20people%20from%20their%20bodies%20when%20the%20bodies%20die,%20though,%20we%20also%20want%20a%20more%20permanent%20relation%20that%20will%20help%20us%20keep%20track%20of%20which%20bodies%20used%20to%20belong%20to%20which%20people:%5D%5Cn%5CnSpirit-possession%20relates%20one%20person%20to%20one%20body.%20The%20verb%20to%20be%20owner%20of%20means%20the%20spirit-possession%20relation.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctrepeat%20with%20victim%20running%20through%20people:%5Cn%5Ct%5Ctlet%20the%20corpse%20be%20a%20random%20body%20which%20is%20part%20of%20the%20victim;%5Cn%5Ct%5Ctnow%20the%20victim%20is%20owner%20of%20the%20corpse.%5Cn%5Cn%5BWhen%20Lydia%20is%20alive,%20we%20want%20&gt;TOUCH%20LYDIA'S%20BODY%20to%20mean%20the%20same%20thing%20as%20&gt;TOUCH%20LYDIA,%20so%20we%20use%20the%20setting%20action%20variables%20rules%20as%20a%20convenient%20point%20at%20which%20to%20reassign%20the%20action:%5D%5Cn%5CnSetting%20action%20variables%20when%20the%20noun%20is%20a%20body%20which%20is%20part%20of%20a%20person%20(called%20owner):%5Cn%5Ctnow%20the%20noun%20is%20the%20owner.%5Cn%5CnSetting%20action%20variables%20when%20the%20second%20noun%20is%20a%20body%20which%20is%20part%20of%20a%20person%20(called%20owner):%5Cn%5Ctnow%20the%20second%20noun%20is%20the%20owner.%5Cn%5Cn%5BThis%20doesn't%20change%20Inform's%20idea%20about%20what%20action%20is%20being%20performed;%20just%20about%20the%20object%20it's%20being%20performed%20on.%20The%20rest%20of%20the%20action%20will%20now%20proceed%20as%20if%20the%20player%20had%20typed%20&gt;TOUCH%20LYDIA.%5D%5Cn%5Cn%5BAlong%20similar%20lines,%20once%20Lydia%20is%20dead,%20we%20want%20&gt;MOVE%20LYDIA%20to%20mean%20&gt;MOVE%20LYDIA'S%20BODY%20if%20the%20body%20is%20in%20view:%5D%5Cn%5CnSetting%20action%20variables%20when%20the%20noun%20is%20a%20dead%20person%20and%20the%20noun%20is%20owner%20of%20a%20visible%20body%20(called%20the%20mortal%20remains):%5Cn%5Ctnow%20the%20noun%20is%20the%20mortal%20remains.%5Cn%5Cn%5BThe%20trick%20is,%20though,%20that%20&gt;MOVE%20LYDIA%20will%20only%20be%20understood%20if%20there%20is%20something%20called%20Lydia%20that%20the%20player%20can%20see%20and%20refer%20to,%20even%20after%20she's%20dead.%20There%20are%20various%20ways%20to%20do%20this,%20but%20the%20least%20painful%20here%20will%20be%20to%20make%20the%20deceased%20Lydia%20permanently%20visible,%20by%20putting%20her%20in%20an%20always-accessible%20backdrop.%20The%20backdrop%20itself%20will%20never%20be%20mentioned%20in%20the%20game,%20and%20we%20should%20make%20its%20name%20something%20that%20the%20player%20is%20unlikely%20to%20type%20casually;%20we%20don't%20want%20the%20player%20to%20interact%20with%20it%20directly.%20So:%5D%5Cn%5CnThe%20worldview%20is%20a%20privately-named%20backdrop.%20It%20is%20everywhere.%20The%20spirit-world%20is%20a%20privately-named%20transparent%20closed%20unopenable%20container.%20It%20is%20part%20of%20the%20worldview.%5Cn%5CnDefinition:%20a%20person%20is%20dead%20if%20he%20is%20in%20the%20spirit-world.%5Cn%5Cn%5BIt's%20also%20possible%20that%20the%20player%20will%20type%20something%20like%20&gt;X%20LYDIA%20when%20Lydia's%20corpse%20is%20not%20in%20view,%20so%20we%20should%20have%20an%20appropriate%20answer%20to%20that%20as%20well:%5D%5Cn%5CnBefore%20doing%20something%20to%20a%20dead%20person:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20is%20dead;%20or%20had%20you%20blocked%20that%20out?%22%20instead.%5Cn%5Cn%5BBecause%20the%20before%20rules%20happen%20after%20the%20setting%20action%20variables%20rules,%20this%20will%20only%20ever%20happen%20if%20the%20corpse%20is%20not%20visible.%5D%5Cn%5Cn%5BNow%20we%20define%20the%20attack%20itself,%20which%20should%20discard%20the%20body,%20move%20the%20spirit%20to%20its%20eternal%20resting%20place,%20and%20describe%20the%20event%20to%20the%20player:%5D%5Cn%5CnInstead%20of%20attacking%20someone:%5Cn%5Ctlet%20the%20corpse%20be%20a%20random%20body%20which%20is%20part%20of%20the%20noun;%5Cn%5Ctmove%20the%20corpse%20to%20the%20location;%5Cn%5Ctmove%20the%20noun%20to%20the%20spirit-world;%5Cn%5Ctsay%20%22With%20a%20single%20blow,%20you%20rid%20the%20world%20of%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5BAnd%20finally%20a%20trick%20borrowed%20from%20the%20chapter%20on%20understanding,%20so%20that%20we%20can%20refer%20to%20%22Lydia's%20body%22%20while%20Lydia%20is%20alive,%20but%20%22Lydia's%20corpse%22%20only%20after%20Lydia%20has%20died:%5D%5Cn%5CnUnderstand%20%22corpse%22%20as%20a%20body%20when%20the%20item%20described%20is%20not%20part%20of%20a%20person.%5Cn%5CnTest%20me%20with%20%22x%20body%20/%20x%20lydia's%20body%20/%20touch%20lydia's%20body%20/%20x%20corpse%20/%20kill%20lydia%20/%20look%20/%20x%20lydia's%20body%20/%20x%20lydia's%20corpse%20/%20x%20corpse%20/%20x%20lydia%20/%20touch%20lydia%20/%20lydia,%20hello%20/%20n%20/%20x%20lydia%20/%20touch%20lydia%20/%20lydia,%20hello%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Puff of Orange Smoke"
</p>
<p class="quoted">
Paraguay is a room. Bolivia is north of Paraguay. Lydia is a woman in Paraguay. "Lydia is, as usual, here." The description of Lydia is "Long, long legs and a sarcastic attitude." Instead of touching Lydia: say "'Watch it, sailor,' she snaps."
</p>
<p class="quoted">
A body is a kind of thing. A body is a part of every person. Instead of touching a body: say "[The noun] is grotesquely inert."
</p>
<p class="quoted">
The description of Lydia's body is "Long, long legs and no attitude at all." The initial appearance of Lydia's body is "Lydia's corpse is sprawled at your feet."
</p>
</div>
<p>Using our "part of every person..." line, we've conveniently assigned one body per person. Since we're going to separate people from their bodies when the bodies die, though, we also want a more permanent relation that will help us keep track of which bodies used to belong to which people:</p>

<div class="code">
<p class="quoted">
Spirit-possession relates one person to one body. The verb to be owner of means the spirit-possession relation.
</p>
<p class="quoted">
When play begins:
<br>    repeat with victim running through people:
<br>        let the corpse be a random body which is part of the victim;
<br>        now the victim is owner of the corpse.
</p>
</div>
<p>When Lydia is alive, we want &gt;TOUCH LYDIA'S BODY to mean the same thing as &gt;TOUCH LYDIA, so we use the setting action variables rules as a convenient point at which to reassign the action:</p>

<div class="code">
<p class="quoted">
Setting action variables when the noun is a body which is part of a person (called owner):
<br>    now the noun is the owner.
</p>
<p class="quoted">
Setting action variables when the second noun is a body which is part of a person (called owner):
<br>    now the second noun is the owner.
</p>
</div>
<p>This doesn't change Inform's idea about what action is being performed; just about the object it's being performed on. The rest of the action will now proceed as if the player had typed &gt;TOUCH LYDIA.</p>
<p>Along similar lines, once Lydia is dead, we want &gt;MOVE LYDIA to mean &gt;MOVE LYDIA'S BODY if the body is in view:</p>

<div class="code"><p class="quoted">
Setting action variables when the noun is a dead person and the noun is owner of a visible body (called the mortal remains):
<br>    now the noun is the mortal remains.
</p></div>
<p>The trick is, though, that &gt;MOVE LYDIA will only be understood if there is something called Lydia that the player can see and refer to, even after she's dead. There are various ways to do this, but the least painful here will be to make the deceased Lydia permanently visible, by putting her in an always-accessible backdrop. The backdrop itself will never be mentioned in the game, and we should make its name something that the player is unlikely to type casually; we don't want the player to interact with it directly. So:</p>

<div class="code">
<p class="quoted">
The worldview is a privately-named backdrop. It is everywhere. The spirit-world is a privately-named transparent closed unopenable container. It is part of the worldview.
</p>
<p class="quoted">
Definition: a person is dead if he is in the spirit-world.
</p>
</div>
<p>It's also possible that the player will type something like &gt;X LYDIA when Lydia's corpse is not in view, so we should have an appropriate answer to that as well:</p>

<div class="code"><p class="quoted">
Before doing something to a dead person:
<br>    say "[The noun] is dead; or had you blocked that out?" instead.
</p></div>
<p>Because the before rules happen after the setting action variables rules, this will only ever happen if the corpse is not visible.</p>
<p>Now we define the attack itself, which should discard the body, move the spirit to its eternal resting place, and describe the event to the player:</p>

<div class="code"><p class="quoted">
Instead of attacking someone:
<br>    let the corpse be a random body which is part of the noun;
<br>    move the corpse to the location;
<br>    move the noun to the spirit-world;
<br>    say "With a single blow, you rid the world of [the noun]."
</p></div>
<p>And finally a trick borrowed from the chapter on understanding, so that we can refer to "Lydia's body" while Lydia is alive, but "Lydia's corpse" only after Lydia has died:</p>

<div class="code">
<p class="quoted">
Understand "corpse" as a body when the item described is not part of a person.
</p>
<p class="quoted">
Test me with "x body / x lydia's body / touch lydia's body / x corpse / kill lydia / look / x lydia's body / x lydia's corpse / x corpse / x lydia / touch lydia / lydia, hello / n / x lydia / touch lydia / lydia, hello".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.10">WI §12.10. Action variables</a><br><a href="rb_7.html#rb-7.5">RB §7.5. Combat and Death</a>
</div></details><details class="full-example" id="example-293"><summary><span class="example-summary">293. Lanista 2</span> <span class="example-difficulty">★★</span></summary><div>
<p>Back in the chapter on randomization, we explored a way to create a randomized combat system. That system didn't allow for multiple weapons, though. Here we explore how to create an ATTACK IT WITH action that will let the player choose between weapons with different maximum powers.</p>
<p>We're also going to rewrite that original "instead of attacking:" rule into an attacking it with action that can be performed equally by the player or by any of the player's enemies.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Lanista,%20Part%20Two%22%5Cn%5CnThe%20Arena%20is%20a%20room.%20%22Sand,%20blood,%20iron.%20These%20festivals%20are%20normally%20held%20on%20hot%20days,%20but%20the%20sun%20has%20gone%20behind%20a%20cloud%20and%20fat%20drops%20of%20rain%20now%20and%20then%20spatter%20the%20arena%20floor.%22%20The%20gladiator%20is%20a%20man%20in%20the%20Arena.%20%22A%20bare-chested%20Scythian%20gladiator%20faces%20you,%20wielding%20%5Ba%20list%20of%20weapons%20carried%20by%20the%20gladiator%5D.%22%5Cn%5CnSection%201%20-%20Hit%20Points%5Cn%5CnA%20person%20has%20a%20number%20called%20maximum%20hit%20points.%20A%20person%20has%20a%20number%20called%20current%20hit%20points.%5Cn%5CnThe%20maximum%20hit%20points%20of%20the%20player%20is%2035.%20The%20maximum%20hit%20points%20of%20the%20gladiator%20is%2025.%5Cn%5Cn%5BIn%20our%20simpler%20version%20of%20this%20example%20we%20set%20the%20current%20hit%20points%20by%20hand,%20but%20in%20a%20game%20with%20many%20characters%20this%20would%20get%20dull%20and%20repetitive,%20so%20here%20we'll%20use%20a%20%22when%20play%20begins%22%20to%20set%20all%20current%20hit%20point%20values%20automatically%20to%20maximum:%5D%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctrepeat%20with%20victim%20running%20through%20people:%5Cn%5Ct%5Ctnow%20the%20current%20hit%20points%20of%20the%20victim%20is%20the%20maximum%20hit%20points%20of%20the%20victim.%5Cn%5CnDefinition:%20a%20person%20is%20dead%20if%20his%20current%20hit%20points%20are%20less%20than%200.%5Cn%5CnSection%202%20-%20Diagnosis%5Cn%5CnDiagnosing%20is%20an%20action%20applying%20to%20one%20visible%20thing.%20Understand%20%22diagnose%20%5Bsomething%5D%22%20as%20diagnosing.%5Cn%5CnCheck%20diagnosing:%5Cn%5Ctif%20the%20noun%20is%20not%20a%20person,%20say%20%22Only%20people%20can%20have%20diagnoses.%22%20instead.%5Cn%5CnCarry%20out%20diagnosing:%5Cn%5Ctsay%20%22%5Bif%20the%20noun%20is%20the%20player%5DYou%20have%5Botherwise%5D%5BThe%20noun%5D%20has%5Bend%20if%5D%20%5Bcurrent%20hit%20points%20of%20the%20noun%5D%20out%20of%20a%20possible%20%5Bmaximum%20hit%20points%20of%20the%20noun%5D%20hit%20points%20remaining.%22%5Cn%5CnSection%203%20-%20Weapons%5Cn%5CnA%20weapon%20is%20a%20kind%20of%20thing.%20A%20weapon%20has%20a%20number%20called%20the%20maximum%20damage.%20The%20maximum%20damage%20of%20a%20weapon%20is%20usually%204.%5Cn%5CnThe%20gladiator%20carries%20a%20weapon%20called%20a%20trident.%20The%20maximum%20damage%20of%20the%20trident%20is%205.%20The%20gladiator%20carries%20a%20weapon%20called%20a%20net.%20The%20maximum%20damage%20of%20the%20net%20is%201.%5Cn%5CnThe%20player%20carries%20a%20weapon%20called%20a%20mace.%20The%20maximum%20damage%20of%20the%20mace%20is%203.%5Cn%5CnSection%204%20-%20Attacking%20it%20with%5Cn%5Cn%5BIn%20our%20new%20system,%20we%20want%20to%20specify%20what%20is%20being%20used%20for%20an%20attack.%20This%20means%20that%20we%20need%20to%20create%20a%20new%20%22attacking%20it%20with%22%20action,%20and%20also%20that%20we%20should%20disable%20the%20existing%20%22attacking...%22%20command.%5D%5Cn%5Cn%5BHere's%20why:%20If%20we%20leave%20the%20default%20attack%20command%20in%20place,%20Inform%20will%20continue%20to%20accept%20commands%20like%20&gt;ATTACK%20GLADIATOR,%20but%20reply%20foolishly%20with%20the%20default%20%22Violence%20is%20not%20the%20answer...%22%20response.%5D%5Cn%5Cn%5BA%20somewhat%20better%20approach%20would%20be%20to%20change%20the%20reply%20of%20&gt;ATTACK%20GLADIATOR%20to%20say%20something%20like%20%22You%20must%20specify%20a%20weapon%20to%20attack%20with.%22%20But%20this%20is%20still%20less%20than%20ideal,%20because%20it%20means%20that%20the%20player%20has%20to%20then%20rewrite%20his%20entire%20command.%20If,%20on%20the%20other%20hand,%20we%20take%20out%20%22ATTACK%20GLADIATOR%22%20entirely,%20the%20game%20will%20always%20prompt%20%22What%20do%20you%20want%20to%20attack%20the%20gladiator%20with?%22%20--%20which%20teaches%20the%20player%20the%20correct%20command%20structure%20for%20this%20particular%20game,%20and%20avoids%20pretending%20to%20understand%20any%20command%20that%20is%20not%20meaningful%20within%20this%20game.%5D%5Cn%5Cn%5BThis%20is%20a%20little%20bit%20of%20work%20because%20ATTACK%20has%20a%20lot%20of%20synonyms%20in%20the%20default%20library,%20but%20if%20we%20look%20through%20the%20actions%20index%20we%20can%20find%20them%20all:%5D%5Cn%5CnUnderstand%20the%20commands%20%22attack%22%20and%20%22punch%22%20and%20%22destroy%22%20and%20%22kill%22%20and%20%22murder%22%20and%20%22hit%22%20and%20%22thump%22%20and%20%22break%22%20and%20%22smash%22%20and%20%22torture%22%20and%20%22wreck%22%20as%20something%20new.%5Cn%5Cn%5BNow%20we%20make%20our%20new%20command:%5D%5Cn%5CnAttacking%20it%20with%20is%20an%20action%20applying%20to%20one%20visible%20thing%20and%20one%20carried%20thing.%20Understand%20%22attack%20%5Bsomeone%5D%20with%20%5Bsomething%20preferably%20held%5D%22%20as%20attacking%20it%20with.%5Cn%5Cn%5BNote%20that%20we've%20specified%20%22one%20carried%20thing%22,%20because%20we%20want%20the%20player%20to%20pick%20up%20a%20weapon%20to%20use%20if%20necessary.%20And%20now%20we%20assign%20all%20the%20old%20attack%20vocabulary%20to%20apply%20to%20the%20new%20command:%5D%5Cn%5CnUnderstand%20the%20commands%20%22punch%22%20and%20%22destroy%22%20and%20%22kill%22%20and%20%22murder%22%20and%20%22hit%22%20and%20%22thump%22%20and%20%22break%22%20and%20%22smash%22%20and%20%22torture%22%20and%20%22wreck%22%20as%20%22attack%22.%5Cn%5Cn%5BThis%20may%20seem%20counter-intuitive,%20but%20order%20of%20source%20code%20matters%20here:%20we%20first%20get%20rid%20of%20the%20old,%20default%20vocabulary,%20then%20define%20our%20new%20action,%20then%20make%20the%20vocabulary%20apply%20to%20that%20new%20action.%20Inform%20will%20now%20understand%20&gt;HIT%20GLADIATOR%20WITH%20TRIDENT,%20&gt;BREAK%20GLADIATOR%20WITH%20TRIDENT,%20and%20so%20on.%5D%5Cn%5Cn%5BOur%20new%20action%20is%20also%20a%20perfect%20place%20to%20use%20an%20action%20variable:%20we're%20going%20to%20need%20to%20choose%20an%20amount%20of%20damage%20done%20and%20refer%20to%20that%20several%20times%20in%20our%20action%20rules.%20So%20let's%20set%20that%20up%20first:%5D%5Cn%5CnThe%20attacking%20it%20with%20action%20has%20a%20number%20called%20the%20damage%20inflicted.%5Cn%5CnSetting%20action%20variables%20for%20attacking%20something%20with%20something:%5Cn%5Ctif%20the%20second%20noun%20is%20a%20weapon:%5Cn%5Ct%5Ctlet%20the%20maximum%20attack%20be%20the%20maximum%20damage%20of%20the%20second%20noun;%5Cn%5Ct%5Ctnow%20the%20damage%20inflicted%20is%20a%20random%20number%20between%201%20and%20the%20maximum%20attack.%5Cn%5CnCheck%20an%20actor%20attacking%20something%20with%20something%20(this%20is%20the%20can't%20attack%20with%20something%20that%20isn't%20a%20weapon%20rule):%5Cn%5Ctif%20the%20second%20noun%20is%20not%20a%20weapon:%5Cn%5Ct%5Ctif%20the%20actor%20is%20the%20player,%20say%20%22%5BThe%20second%20noun%5D%20does%20not%20qualify%20as%20a%20weapon.%22;%5Cn%5Ct%5Ctstop%20the%20action.%5Cn%5CnCheck%20an%20actor%20attacking%20something%20with%20something%20(this%20is%20the%20can't%20attack%20a%20non-person%20rule):%5Cn%5Ctif%20the%20noun%20is%20not%20a%20person:%5Cn%5Ct%5Ctif%20the%20actor%20is%20the%20player,%20say%20%22%5BThe%20noun%5D%20has%20no%20life%20to%20lose.%22;%5Cn%5Ct%5Ctstop%20the%20action.%5Cn%5CnCarry%20out%20an%20actor%20attacking%20something%20with%20something%20(this%20is%20the%20standard%20attacking%20it%20with%20a%20weapon%20rule):%5Cn%5Ctdecrease%20the%20current%20hit%20points%20of%20the%20noun%20by%20the%20damage%20inflicted;%5Cn%5Ctif%20the%20noun%20is%20dead:%5Cn%5Ct%5Ctnow%20the%20noun%20is%20nowhere.%5Cn%5Cn%5BThough%20our%20checks%20and%20carry-out%20rules%20are%20similar%20regardless%20of%20who%20is%20acting,%20we're%20going%20to%20want%20actions%20to%20be%20described%20differently%20for%20different%20actors,%20so%20we'll%20use%20separate%20%22report%20attacking%22%20and%20%22report%20someone%20attacking%22%20rules.%20We'll%20also%20make%20some%20special%20cases%20for%20when%20the%20character%20has%20died%20as%20a%20result%20of%20the%20attack:%5D%5Cn%5CnReport%20attacking%20a%20dead%20person%20with%20something%20(this%20is%20the%20death-report%20priority%20rule):%5Cn%5Ctsay%20%22You%20attack%20with%20%5Bthe%20second%20noun%5D,%20killing%20%5Bthe%20noun%5D!%22%20instead.%5Cn%5CnReport%20attacking%20someone%20with%20something%20(this%20is%20the%20normal%20attacking%20report%20rule):%5Cn%5Ctsay%20%22You%20attack%20%5Bthe%20noun%5D%20with%20%5Bthe%20second%20noun%5D,%20causing%20%5Bdamage%20inflicted%5D%20point%5Bs%5D%20of%20damage!%22%20instead.%5Cn%5CnReport%20someone%20attacking%20the%20player%20with%20something%20when%20the%20player%20is%20dead%20(this%20is%20the%20player's-death%20priority%20rule):%5Cn%5Ctsay%20%22%5BThe%20actor%5D%20attacks%20you%20with%20%5Bthe%20second%20noun%5D,%20finishing%20you%20off!%22;%5Cn%5Ctend%20the%20story;%5Cn%5Ctstop%20the%20action%5Cn%5CnReport%20someone%20attacking%20the%20player%20with%20something%20(this%20is%20the%20standard%20report%20someone%20attacking%20the%20player%20with%20rule):%5Cn%5Ctsay%20%22%5BThe%20actor%5D%20attacks%20you%20with%20%5Bthe%20second%20noun%5D,%20causing%20%5Bdamage%20inflicted%5D%20point%5Bs%5D%20of%20damage!%22%20instead.%5Cn%5CnReport%20someone%20attacking%20something%20with%20something%20(this%20is%20the%20standard%20report%20attacking%20it%20with%20rule):%5Cn%5Ctsay%20%22%5BThe%20actor%5D%20attacks%20%5Bthe%20noun%5D%20with%20%5Bthe%20second%20noun%5D,%20causing%20%5Bdamage%20inflicted%5D%20point%5Bs%5D%20of%20damage!%22%20instead.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20left%20hand%20status%20line%20is%20%22You:%20%5Bcurrent%20hit%20points%20of%20player%5D%22;%5Cn%5Ctnow%20the%20right%20hand%20status%20line%20is%20%22Gladiator:%20%5Bcurrent%20hit%20points%20of%20gladiator%5D%22.%5Cn%5CnEvery%20turn%20(this%20is%20the%20gladiator-attack%20rule):%5Cn%5Ctif%20the%20gladiator%20is%20not%20dead,%20try%20the%20gladiator%20attacking%20the%20player%20with%20a%20random%20weapon%20which%20is%20carried%20by%20the%20gladiator.%5Cn%5CnTest%20me%20with%20%22hit%20gladiator%20with%20mace%20/%20kill%20gladiator%20/%20drop%20mace%20/%20attack%20gladiator%20/%20attack%20gladiator%20with%20mace%20/%20g%20/%20g%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Lanista, Part Two"
</p>
<p class="quoted">
The Arena is a room. "Sand, blood, iron. These festivals are normally held on hot days, but the sun has gone behind a cloud and fat drops of rain now and then spatter the arena floor." The gladiator is a man in the Arena. "A bare-chested Scythian gladiator faces you, wielding [a list of weapons carried by the gladiator]."
</p>
<p class="quoted">
Section 1 - Hit Points
</p>
<p class="quoted">
A person has a number called maximum hit points. A person has a number called current hit points.
</p>
<p class="quoted">
The maximum hit points of the player is 35. The maximum hit points of the gladiator is 25.
</p>
</div>
<p>In our simpler version of this example we set the current hit points by hand, but in a game with many characters this would get dull and repetitive, so here we'll use a "when play begins" to set all current hit point values automatically to maximum:</p>

<div class="code">
<p class="quoted">
When play begins:
<br>    repeat with victim running through people:
<br>        now the current hit points of the victim is the maximum hit points of the victim.
</p>
<p class="quoted">
Definition: a person is dead if his current hit points are less than 0.
</p>
<p class="quoted">
Section 2 - Diagnosis
</p>
<p class="quoted">
Diagnosing is an action applying to one visible thing. Understand "diagnose [something]" as diagnosing.
</p>
<p class="quoted">
Check diagnosing:
<br>    if the noun is not a person, say "Only people can have diagnoses." instead.
</p>
<p class="quoted">
Carry out diagnosing:
<br>    say "[if the noun is the player]You have[otherwise][The noun] has[end if] [current hit points of the noun] out of a possible [maximum hit points of the noun] hit points remaining."
</p>
<p class="quoted">
Section 3 - Weapons
</p>
<p class="quoted">
A weapon is a kind of thing. A weapon has a number called the maximum damage. The maximum damage of a weapon is usually 4.
</p>
<p class="quoted">
The gladiator carries a weapon called a trident. The maximum damage of the trident is 5. The gladiator carries a weapon called a net. The maximum damage of the net is 1.
</p>
<p class="quoted">
The player carries a weapon called a mace. The maximum damage of the mace is 3.
</p>
<p class="quoted">
Section 4 - Attacking it with
</p>
</div>
<p>In our new system, we want to specify what is being used for an attack. This means that we need to create a new "attacking it with" action, and also that we should disable the existing "attacking..." command.</p>
<p>Here's why: If we leave the default attack command in place, Inform will continue to accept commands like &gt;ATTACK GLADIATOR, but reply foolishly with the default "Violence is not the answer..." response.</p>
<p>A somewhat better approach would be to change the reply of &gt;ATTACK GLADIATOR to say something like "You must specify a weapon to attack with." But this is still less than ideal, because it means that the player has to then rewrite his entire command. If, on the other hand, we take out "ATTACK GLADIATOR" entirely, the game will always prompt "What do you want to attack the gladiator with?" -- which teaches the player the correct command structure for this particular game, and avoids pretending to understand any command that is not meaningful within this game.</p>
<p>This is a little bit of work because ATTACK has a lot of synonyms in the default library, but if we look through the actions index we can find them all:</p>

<div class="code"><p class="quoted">
Understand the commands "attack" and "punch" and "destroy" and "kill" and "murder" and "hit" and "thump" and "break" and "smash" and "torture" and "wreck" as something new.
</p></div>
<p>Now we make our new command:</p>

<div class="code"><p class="quoted">
Attacking it with is an action applying to one visible thing and one carried thing. Understand "attack [someone] with [something preferably held]" as attacking it with.
</p></div>
<p>Note that we've specified "one carried thing", because we want the player to pick up a weapon to use if necessary. And now we assign all the old attack vocabulary to apply to the new command:</p>

<div class="code"><p class="quoted">
Understand the commands "punch" and "destroy" and "kill" and "murder" and "hit" and "thump" and "break" and "smash" and "torture" and "wreck" as "attack".
</p></div>
<p>This may seem counter-intuitive, but order of source code matters here: we first get rid of the old, default vocabulary, then define our new action, then make the vocabulary apply to that new action. Inform will now understand &gt;HIT GLADIATOR WITH TRIDENT, &gt;BREAK GLADIATOR WITH TRIDENT, and so on.</p>
<p>Our new action is also a perfect place to use an action variable: we're going to need to choose an amount of damage done and refer to that several times in our action rules. So let's set that up first:</p>

<div class="code">
<p class="quoted">
The attacking it with action has a number called the damage inflicted.
</p>
<p class="quoted">
Setting action variables for attacking something with something:
<br>    if the second noun is a weapon:
<br>        let the maximum attack be the maximum damage of the second noun;
<br>        now the damage inflicted is a random number between 1 and the maximum attack.
</p>
<p class="quoted">
Check an actor attacking something with something (this is the can't attack with something that isn't a weapon rule):
<br>    if the second noun is not a weapon:
<br>        if the actor is the player, say "[The second noun] does not qualify as a weapon.";
<br>        stop the action.
</p>
<p class="quoted">
Check an actor attacking something with something (this is the can't attack a non-person rule):
<br>    if the noun is not a person:
<br>        if the actor is the player, say "[The noun] has no life to lose.";
<br>        stop the action.
</p>
<p class="quoted">
Carry out an actor attacking something with something (this is the standard attacking it with a weapon rule):
<br>    decrease the current hit points of the noun by the damage inflicted;
<br>    if the noun is dead:
<br>        now the noun is nowhere.
</p>
</div>
<p>Though our checks and carry-out rules are similar regardless of who is acting, we're going to want actions to be described differently for different actors, so we'll use separate "report attacking" and "report someone attacking" rules. We'll also make some special cases for when the character has died as a result of the attack:</p>

<div class="code">
<p class="quoted">
Report attacking a dead person with something (this is the death-report priority rule):
<br>    say "You attack with [the second noun], killing [the noun]!" instead.
</p>
<p class="quoted">
Report attacking someone with something (this is the normal attacking report rule):
<br>    say "You attack [the noun] with [the second noun], causing [damage inflicted] point[s] of damage!" instead.
</p>
<p class="quoted">
Report someone attacking the player with something when the player is dead (this is the player's-death priority rule):
<br>    say "[The actor] attacks you with [the second noun], finishing you off!";
<br>    end the story;
<br>    stop the action
</p>
<p class="quoted">
Report someone attacking the player with something (this is the standard report someone attacking the player with rule):
<br>    say "[The actor] attacks you with [the second noun], causing [damage inflicted] point[s] of damage!" instead.
</p>
<p class="quoted">
Report someone attacking something with something (this is the standard report attacking it with rule):
<br>    say "[The actor] attacks [the noun] with [the second noun], causing [damage inflicted] point[s] of damage!" instead.
</p>
<p class="quoted">
When play begins:
<br>    now the left hand status line is "You: [current hit points of player]";
<br>    now the right hand status line is "Gladiator: [current hit points of gladiator]".
</p>
<p class="quoted">
Every turn (this is the gladiator-attack rule):
<br>    if the gladiator is not dead, try the gladiator attacking the player with a random weapon which is carried by the gladiator.
</p>
<p class="quoted">
Test me with "hit gladiator with mace / kill gladiator / drop mace / attack gladiator / attack gladiator with mace / g / g".
</p>
</div>
<p>Those devoted to role-playing will note that our form of randomization is still pretty naive: most RPG systems use multiple dice in order to create more interesting probability curves. For a system that simulates actual dice-rolling, see the full "Reliques of Tolti-Aph" game.</p>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.3">WI §17.3. Overriding existing commands</a><br><a href="rb_7.html#rb-7.5">RB §7.5. Combat and Death</a>
</div></details><details class="full-example" id="example-113"><summary><span class="example-summary">113. Don Pedro's Revenge</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose our game features a detailed simulated combat between the player character and his opponent. He might have several weapons available, and several types of attack available; and at any given time he might be perched up in the rigging of his ship, standing on the open deck, or boxed in between some barrels. His options will vary depending on his position, and obviously it would detract from the pacing to make the player keep LOOKing in the middle of combat in order to remind himself where he is. Instead, we'll roll this information into the command prompt:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Don%20Pedro's%20Revenge%22%5Cn%5CnThe%20Deck%20of%20the%20Helene%20Marie%20is%20a%20room.%20%22The%20two%20crews%20are%20embattled%20all%20around%20you,%20but%20your%20attention%20is%20reserved%20for%20your%20particular%20enemy:%20Don%20Pedro.%22%5Cn%5CnTable%20of%20Random%20Prompts%5Cnposition%5Ctprompt%5Cnboxed%5Ct%22So%20securely%20boxed-in%20that%20you%20can%20really%20only%20parry%20or%20thrust,%20you%20try%20to%20%22%5Cnboxed%5Ct%22Trapped%20between%20your%20barrels,%20you%20decide%20to%20%22%5Cnperched%5Ct%22Able%20to%20slice%20at%20your%20attackers%20but%20not%20to%20advance%20or%20retreat,%20you%20choose%20to%20%22%5Cnperched%5Ct%22Perched%20up%20here%20with%20the%20advantage%20of%20height%20(but%20little%20mobility),%20you%20attempt%20to%20%22%5Cnfree%5Ct%22Out%20on%20the%20open%20deck%20with%20no%20impediments,%20free%20to%20advance%20or%20retreat,%20you%20decide%20to%20%22%5Cn%5CnWhen%20play%20begins:%20reset%20the%20prompt.%5Cn%5CnEvery%20turn:%20reset%20the%20prompt.%5Cn%5CnTo%20reset%20the%20prompt:%5Cn%5Ctsort%20the%20Table%20of%20Random%20Prompts%20in%20random%20order;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Random%20Prompts:%5Cn%5Ct%5Ctif%20the%20position%20entry%20is%20the%20placement%20of%20the%20player:%5Cn%5Ct%5Ct%5Ctnow%20the%20command%20prompt%20is%20prompt%20entry;%5Cn%5Ct%5Ct%5Ctstop.%5Cn%5CnAfter%20reading%20a%20command:%20say%20conditional%20paragraph%20break.%5Cn%5CnA%20placement%20is%20a%20kind%20of%20value.%20The%20placements%20are%20boxed,%20perched,%20free.%20The%20player%20has%20a%20placement.%20The%20player%20is%20free.%5Cn%5CnUnderstand%20%22retreat%22%20or%20%22parry%22%20as%20retreating.%20Retreating%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCheck%20retreating:%5Cn%5Ctif%20the%20player%20is%20perched,%20say%20%22You%20can't%20move%20backward%20or%20parry%20very%20successfully%20from%20this%20position.%22%20instead.%5Cn%5CnCarry%20out%20retreating:%5Cn%5Ctnow%20the%20player%20is%20boxed;%5Cn%5Ctsay%20%22You%20protect%20yourself,%20but%20end%20up%20wedged%20in%20between%20two%20barrels.%22%5Cn%5CnUnderstand%20%22thrust%22%20or%20%22advance%22%20as%20advancing.%20Advancing%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCheck%20advancing:%5Cn%5Ctif%20the%20player%20is%20perched,%20say%20%22You%20can't%20move%20forward%20from%20here,%20only%20slash.%22%20instead.%5Cn%5CnCarry%20out%20advancing:%5Cn%5Ctnow%20the%20player%20is%20free;%5Cn%5Ctsay%20%22You%20push%20forward%20aggressively,%20making%20your%20way%20to%20the%20open%20deck.%22%5Cn%5CnInstead%20of%20jumping:%5Cn%5Ctnow%20the%20player%20is%20perched;%5Cn%5Ctsay%20%22You%20leap%20and%20swing%20yourself%20boldly%20up%20into%20the%20rigging,%20leaving%20your%20attackers%20beneath%20you.%22%5Cn%5CnInstead%20of%20jumping%20when%20the%20player%20is%20perched:%5Cn%5Ctnow%20the%20player%20is%20free;%5Cn%5Ctsay%20%22You%20leap%20down%20from%20your%20position,%20into%20the%20middle%20of%20the%20deck.%22%5Cn%5CnTest%20me%20with%20%22advance%20/%20jump%20/%20advance%20/%20retreat%20/%20jump%20/%20retreat%20/%20retreat%20/%20advance%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Don Pedro's Revenge"
</p>
<p class="quoted">
The Deck of the Helene Marie is a room. "The two crews are embattled all around you, but your attention is reserved for your particular enemy: Don Pedro."
</p>
<p class="quoted">
Table of Random Prompts
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">position</p></td>
<td class="quotedtablecell"><p class="quoted">prompt</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">boxed</p></td>
<td class="quotedtablecell"><p class="quoted">"So securely boxed-in that you can really only parry or thrust, you try to "</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">boxed</p></td>
<td class="quotedtablecell"><p class="quoted">"Trapped between your barrels, you decide to "</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">perched</p></td>
<td class="quotedtablecell"><p class="quoted">"Able to slice at your attackers but not to advance or retreat, you choose to "</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">perched</p></td>
<td class="quotedtablecell"><p class="quoted">"Perched up here with the advantage of height (but little mobility), you attempt to "</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">free</p></td>
<td class="quotedtablecell"><p class="quoted">"Out on the open deck with no impediments, free to advance or retreat, you decide to "</p></td>
</tr>
</table>
<p class="quoted">
When play begins: reset the prompt.
</p>
<p class="quoted">
Every turn: reset the prompt.
</p>
<p class="quoted">
To reset the prompt:
<br>    sort the Table of Random Prompts in random order;
<br>    repeat through the Table of Random Prompts:
<br>        if the position entry is the placement of the player:
<br>            now the command prompt is prompt entry;
<br>            stop.
</p>
<p class="quoted">
After reading a command: say conditional paragraph break.
</p>
<p class="quoted">
A placement is a kind of value. The placements are boxed, perched, free. The player has a placement. The player is free.
</p>
<p class="quoted">
Understand "retreat" or "parry" as retreating. Retreating is an action applying to nothing.
</p>
<p class="quoted">
Check retreating:
<br>    if the player is perched, say "You can't move backward or parry very successfully from this position." instead.
</p>
<p class="quoted">
Carry out retreating:
<br>    now the player is boxed;
<br>    say "You protect yourself, but end up wedged in between two barrels."
</p>
<p class="quoted">
Understand "thrust" or "advance" as advancing. Advancing is an action applying to nothing.
</p>
<p class="quoted">
Check advancing:
<br>    if the player is perched, say "You can't move forward from here, only slash." instead.
</p>
<p class="quoted">
Carry out advancing:
<br>    now the player is free;
<br>    say "You push forward aggressively, making your way to the open deck."
</p>
<p class="quoted">
Instead of jumping:
<br>    now the player is perched;
<br>    say "You leap and swing yourself boldly up into the rigging, leaving your attackers beneath you."
</p>
<p class="quoted">
Instead of jumping when the player is perched:
<br>    now the player is free;
<br>    say "You leap down from your position, into the middle of the deck."
</p>
<p class="quoted">
Test me with "advance / jump / advance / retreat / jump / retreat / retreat / advance".
</p>
</div>
<p>Of course, this won't be much fun until we also provide the player with a few weapons, some more fighting maneuvers, and, most of all, a Don Pedro to defeat.</p>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.2">WI §8.2. Changing the command prompt</a><br><a href="rb_7.html#rb-7.5">RB §7.5. Combat and Death</a>
</div></details><details class="full-example" id="example-127"><summary><span class="example-summary">127. Technological Terror</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Technological%20Terror%22%5Cn%5CnThe%20Decomposition%20Ray%20Gun%20is%20a%20thing%20carried%20by%20the%20player.%5Cn%5Cn%5BFirst%20we%20need%20to%20define%20our%20shooting%20action:%5D%5Cn%5CnShooting%20it%20with%20is%20an%20action%20applying%20to%20two%20things.%5Cn%5CnCheck%20shooting%20something%20with%20something:%5Cn%5Ctif%20the%20player%20is%20not%20carrying%20the%20Ray%20Gun,%20say%20%22You%20are%20pathetically%20unarmed!%22%20instead;%5Cn%5Ctif%20the%20second%20noun%20is%20not%20the%20Ray%20Gun,%20say%20%22%5BThe%20second%20noun%5D%20does%20not%20fire.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20the%20Ray%20Gun,%20say%20%22Nice%20trick%20if%20you%20can%20do%20it!%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20the%20player,%20say%20%22That%20would%20be%20disastrous!%22%20instead.%5Cn%5Cn%5BNext,%20some%20grammar%20to%20allow%20the%20player%20to%20use%20this%20action:%5D%5Cn%5CnUnderstand%20%22shoot%20%5Bgun%5D%20at%20%5Bsomething%20ungunlike%5D%22%20as%20shooting%20it%20with%20(with%20nouns%20reversed).%5Cn%5CnDefinition:%20a%20thing%20is%20ungunlike%20if%20it%20is%20not%20the%20gun.%5Cn%5CnUnderstand%20%22shoot%20%5Bsomething%20ungunlike%5D%20with%20%5Bgun%5D%22%20as%20shooting%20it%20with.%20Understand%20%22shoot%20%5Bsomething%5D%20with%20%5Bsomething%5D%22%20as%20shooting%20it%20with.%5Cn%5CnUnderstand%20%22shoot%20%5Bsomething%5D%20at%20%5Bsomething%5D%22%20as%20shooting%20it%20with%20(with%20nouns%20reversed).%20Understand%20%22fire%20%5Bgun%5D%20at%20%5Bsomething%20ungunlike%5D%22%20as%20shooting%20it%20with%20(with%20nouns%20reversed).%20Understand%20%22fire%20at%20%5Bsomething%20ungunlike%5D%20with%20%5Bgun%5D%22%20as%20shooting%20it%20with.%20Understand%20%22fire%20at%20%5Bsomething%5D%20with%20%5Bsomething%5D%22%20as%20shooting%20it%20with.%5Cn%5Cn%5BStrictly%20speaking,%20we%20only%20need%20these%20last%20grammar%20lines%20(with%20%22understand%20shoot%20something...%22)%20in%20order%20to%20define%20an%20action%20that%20the%20player%20can%20take.%20Adding%20more%20grammar%20lines%20means%20that%20Inform%20will%20try%20to%20match%20the%20most%20specific%20ones%20first,%20which%20is%20useful%20when%20the%20player%20types%20something%20ambiguous%20and%20there%20is%20one%20choice%20that%20obviously%20fits%20this%20action%20better%20than%20the%20others.%20See%20the%20chapter%20on%20Understanding%20for%20a%20further%20discussion.%5D%5Cn%5Cn%5BHere%20we%20get%20to%20use%20%22now...%22%20to%20give%20it%20its%20destructive%20effect:%5D%5Cn%5CnCarry%20out%20shooting%20something%20with%20something:%5Cn%5Ctsay%20%22ZAP!%20%5BThe%20noun%5D%20twinkles%20out%20of%20existence!%20%5Bif%20something%20is%20part%20of%20the%20noun%5D%5BThe%20list%20of%20things%20which%20are%20part%20of%20the%20noun%5D%20clatter%20to%20the%20ground!%20%5Bend%20if%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctnow%20every%20thing%20which%20is%20part%20of%20the%20noun%20is%20in%20the%20location;%5Cn%5Ctnow%20the%20noun%20is%20nowhere.%5Cn%5CnThe%20Deathbot%20Assembly%20Line%20is%20a%20room.%20%22Here%20is%20the%20heart%20of%20the%20whole%20operation,%20where%20your%20opponents%20are%20assembled%20fresh%20from%20scrap%20metal%20and%20bits%20of%20old%20car.%22%20The%20dangerous%20robot%20is%20a%20thing%20in%20the%20Assembly%20Line.%20%22One%20dangerous%20robot%20looks%20ready%20to%20take%20you%20on!%22%20A%20robotic%20head,%20a%20drill%20arm,%20a%20needle%20arm,%20a%20crushing%20leg%20and%20a%20kicking%20leg%20are%20parts%20of%20the%20dangerous%20robot.%5Cn%5CnInstead%20of%20examining%20something%20when%20something%20is%20part%20of%20the%20noun:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20consists%20of%20%5Ba%20list%20of%20things%20which%20are%20part%20of%20the%20noun%5D.%22%5Cn%5CnTest%20me%20with%20%22x%20robot%20/%20shoot%20robot%20/%20fire%20at%20kicking%20leg%20/%20shoot%20gun%20at%20drill%20arm%20/%20look%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Technological Terror"
</p>
<p class="quoted">
The Decomposition Ray Gun is a thing carried by the player.
</p>
</div>
<p>First we need to define our shooting action:</p>

<div class="code">
<p class="quoted">
Shooting it with is an action applying to two things.
</p>
<p class="quoted">
Check shooting something with something:
<br>    if the player is not carrying the Ray Gun, say "You are pathetically unarmed!" instead;
<br>    if the second noun is not the Ray Gun, say "[The second noun] does not fire." instead;
<br>    if the noun is the Ray Gun, say "Nice trick if you can do it!" instead;
<br>    if the noun is the player, say "That would be disastrous!" instead.
</p>
</div>
<p>Next, some grammar to allow the player to use this action:</p>

<div class="code">
<p class="quoted">
Understand "shoot [gun] at [something ungunlike]" as shooting it with (with nouns reversed).
</p>
<p class="quoted">
Definition: a thing is ungunlike if it is not the gun.
</p>
<p class="quoted">
Understand "shoot [something ungunlike] with [gun]" as shooting it with. Understand "shoot [something] with [something]" as shooting it with.
</p>
<p class="quoted">
Understand "shoot [something] at [something]" as shooting it with (with nouns reversed). Understand "fire [gun] at [something ungunlike]" as shooting it with (with nouns reversed). Understand "fire at [something ungunlike] with [gun]" as shooting it with. Understand "fire at [something] with [something]" as shooting it with.
</p>
</div>
<p>Strictly speaking, we only need these last grammar lines (with "understand shoot something...") in order to define an action that the player can take. Adding more grammar lines means that Inform will try to match the most specific ones first, which is useful when the player types something ambiguous and there is one choice that obviously fits this action better than the others. See the chapter on Understanding for a further discussion.</p>
<p>Here we get to use "now..." to give it its destructive effect:</p>

<div class="code">
<p class="quoted">
Carry out shooting something with something:
<br>    say "ZAP! [The noun] twinkles out of existence! [if something is part of the noun][The list of things which are part of the noun] clatter to the ground! [end if][paragraph break]";
<br>    now every thing which is part of the noun is in the location;
<br>    now the noun is nowhere.
</p>
<p class="quoted">
The Deathbot Assembly Line is a room. "Here is the heart of the whole operation, where your opponents are assembled fresh from scrap metal and bits of old car." The dangerous robot is a thing in the Assembly Line. "One dangerous robot looks ready to take you on!" A robotic head, a drill arm, a needle arm, a crushing leg and a kicking leg are parts of the dangerous robot.
</p>
<p class="quoted">
Instead of examining something when something is part of the noun:
<br>    say "[The noun] consists of [a list of things which are part of the noun]."
</p>
<p class="quoted">
Test me with "x robot / shoot robot / fire at kicking leg / shoot gun at drill arm / look".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.11">WI §8.11. Now...</a><br><a href="rb_7.html#rb-7.5">RB §7.5. Combat and Death</a>
</div></details>
</div></section>
<section class="section" id="rb-7.6"><div>





<h3>RB §7.6. Getting Started with Conversation</h3>
<p>Traditionally, conversation is one of the most difficult things to program in interactive fiction, because of the number of factors affecting the outcome of everything the player does. While it's acceptable for &gt;EXAMINE POT to produce the same response every time the player types it, it's a bit less acceptable for ASK JOE ABOUT HIS ADULTERY to make Joe react the same way every time.</p>
<p>Conversation implementations often need to keep track of a lot of information: what else is going on in the model world, what the character knows, what plot phase we've reached, what mood the character is in, what else we've recently been talking about, whether we've said the same thing before (and how many times); and so on. Later in this chapter we will look at ways to model character knowledge and mood.</p>
<p>Then, too, we have the problem of how the player communicates his conversational intentions to the story. Technology has not yet advanced to the point where a player can simply type in remarks in full natural English and have the character detect the significance, emotional tone, and subtext, if any: so we can't have RACHEL, THIS DESSERT TASTES LIKE FEET or WILL, LOOK! OUR SINISTER METAL FOES ARE APPROACHING! or BOSS, I WOULD BE DELIGHTED TO FILE ANOTHER TPB REPORT.</p>
<p>The challenge is to create an interface that is both easy for the player to use and expressive enough to be interesting. We will look at some of the common solutions in "Saying Complicated Things".</p>
<p>The examples in the following sections point out ways to approach common conversation problems. None of them will offer an adequate system if we want to write a very conversationally rich story, however. This is partly because a thorough conversation system requires quite a lot of code in its own right. It's also partly because there is no one right solution to the problem of conversation design. Different games will have quite different requirements. When making decisions about a new story we have planned, it may be useful to glance through the conversation extensions available for Inform: there are quite a few, offering a range of different interfaces. Even if none is exactly suited for our needs, they may suggest ways to solve particular implementation challenges.</p>
<p>At the other end of the scale, though, there are times when Inform's default implementation is too complicated for what we want to do: so we will start with ways to simplify conversation, before moving to all the exotic complexities.</p>
<p>Before we get into these details, though, we have a couple of examples that are literally about getting started with a conversation: <a href="rb_7.html#example-110" class="example-link" onClick="(function() { document.getElementById('example-110').setAttribute('open','open'); return true; })();">Mimicry</a><span class="example-difficulty"> ★★★</span> introduces the feature that we must greet other characters before beginning to speak to them; <a href="rb_7.html#example-330" class="example-link" onClick="(function() { document.getElementById('example-330').setAttribute('open','open'); return true; })();">The Gorge at George</a><span class="example-difficulty"> ★</span> corrects the player's attempts to use a TALK TO command where a different mode of interaction is appropriate instead.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-330"><summary><span class="example-summary">330. The Gorge at George</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Gorge%20at%20George%22%5Cn%5CnThe%20Dusty%20Lot%20is%20a%20room.%20%22A%20few%20miles%20up%20the%20road%20from%20the%20concert%20venue,%20but%20at%20least%20it's%20cheap%20to%20park%20here.%22%5Cn%5CnThe%20motorcyclist%20is%20a%20man%20in%20the%20Dusty%20Lot.%20%22A%20man%20clad%20in%20%5Ba%20list%20of%20things%20worn%20by%20the%20motorcyclist%5D%20leans%20against%20his%20Harley%20and%20watches%20you%20without%20saying%20anything.%22%20The%20Harley%20is%20scenery%20in%20the%20Lot.%20The%20motorcyclist%20wears%20a%20black%20leather%20jacket%20and%20shades.%20Understand%20%22man%22%20or%20%22guy%22%20as%20the%20motorcyclist.%5Cn%5CnUnderstand%20%22talk%20to%20%5Bsomeone%5D%22%20as%20a%20mistake%20(%22To%20start%20a%20conversation,%20try%20to%20ASK%20%5Bthe%20noun%5D%20ABOUT%20something%20or%20TELL%20%5Bthe%20noun%5D%20ABOUT%20something.%22).%5Cn%5CnInstead%20of%20asking%20the%20motorcyclist%20about%20something:%5Cn%5Ctsay%20%22He%20smirks%20cryptically.%22%5Cn%5CnInstead%20of%20telling%20the%20motorcyclist%20about%20something:%5Cn%5Ctsay%20%22This%20does%20not%20seem%20to%20interest%20him%20much.%22%5Cn%5CnTest%20me%20with%20%22talk%20to%20motorcyclist%20/%20ask%20motorcyclist%20about%20himself%20/%20tell%20motorcyclist%20about%20me%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Gorge at George"
</p>
<p class="quoted">
The Dusty Lot is a room. "A few miles up the road from the concert venue, but at least it's cheap to park here."
</p>
<p class="quoted">
The motorcyclist is a man in the Dusty Lot. "A man clad in [a list of things worn by the motorcyclist] leans against his Harley and watches you without saying anything." The Harley is scenery in the Lot. The motorcyclist wears a black leather jacket and shades. Understand "man" or "guy" as the motorcyclist.
</p>
<p class="quoted">
Understand "talk to [someone]" as a mistake ("To start a conversation, try to ASK [the noun] ABOUT something or TELL [the noun] ABOUT something.").
</p>
<p class="quoted">
Instead of asking the motorcyclist about something:
<br>    say "He smirks cryptically."
</p>
<p class="quoted">
Instead of telling the motorcyclist about something:
<br>    say "This does not seem to interest him much."
</p>
<p class="quoted">
Test me with "talk to motorcyclist / ask motorcyclist about himself / tell motorcyclist about me".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.21">WI §17.21. Understanding mistakes</a><br><a href="rb_7.html#rb-7.6">RB §7.6. Getting Started with Conversation</a>
</div></details><details class="full-example" id="example-110"><summary><span class="example-summary">110. Mimicry</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we want to add a sense of some conversational flow, so that the player is forced to acknowledge the presence of people before beginning detailed conversations with them. We collect all speech actions into a single category:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Mimicry%22%5Cn%5CnAsking%20someone%20about%20something%20is%20speech.%20Telling%20someone%20about%20something%20is%20speech.%20Answering%20someone%20that%20something%20is%20speech.%20Asking%20someone%20for%20something%20is%20speech.%5Cn%5Cn%5BAnd%20then%20write%20a%20general%20rule.%5D%5Cn%5CnBefore%20speech%20in%20the%20presence%20of%20an%20ungreeted%20person:%20try%20waving%20hands.%5Cn%5Cn%5BOne%20complication%20is%20that%20%22asking%20someone%20to%20try%20doing%20something%22,%20which%20describes%20commands%20such%20as%20FRED,%20GO%20SOUTH,%20cannot%20be%20made%20into%20a%20kind%20of%20action.%20This%20requires%20its%20own%20rule:%5D%5Cn%5CnBefore%20asking%20someone%20to%20try%20doing%20something%20in%20the%20presence%20of%20an%20ungreeted%20person:%20try%20waving%20hands.%5Cn%5Cn%5BNow%20we%20define%20what%20greetings%20are%20going%20to%20look%20like:%5D%5Cn%5CnCheck%20waving%20hands:%5Cn%5Ctunless%20the%20player%20can%20see%20someone%20who%20is%20not%20the%20player,%20say%20%22You%20are%20alone.%22%20instead.%5Cn%5CnCarry%20out%20waving%20hands:%5Cn%5Ctsay%20%22You%20nod%20hello%20to%20%5Bthe%20list%20of%20ungreeted%20people%20who%20can%20be%20seen%20by%20the%20player%5D.%22;%5Cn%5Ctnow%20every%20ungreeted%20person%20who%20can%20be%20seen%20by%20the%20player%20is%20greeted.%5Cn%5CnThe%20report%20waving%20hands%20rule%20is%20not%20listed%20in%20the%20report%20waving%20hands%20rulebook.%5Cn%5Cn%5BBecause%20of%20the%20way%20we've%20defined%20the%20command,%20this%20will%20now%20also%20work%20if%20the%20player%20waves.%5D%5Cn%5CnA%20person%20can%20be%20greeted%20or%20ungreeted.%20A%20person%20is%20usually%20ungreeted.%20The%20player%20is%20greeted.%5Cn%5Cn%5BAnd%20now%20the%20scenario:%5D%5Cn%5CnThe%20International%20Convention%20of%20Mimes%20is%20a%20room.%20Lester,%20Harold,%20Geoff,%20Kwame,%20and%20Peter%20are%20men%20in%20the%20Convention.%20Elouise%20is%20a%20woman%20in%20the%20Convention.%20The%20Invisible%20Box%20is%20an%20enterable%20container%20in%20the%20Convention.%20%22You%20can%20detect,%20from%20the%20way%20people%20keep%20leaning%20on%20it,%20an%20invisible%20box%20in%20the%20middle%20of%20the%20room.%22%5Cn%5CnLester%20carries%20a%20bowler%20hat.%5Cn%5CnInstead%20of%20speech%20in%20the%20presence%20of%20someone:%5Cn%5Ctdescribe%20poor%20reception.%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20it%20is%20not%20the%20player.%5Cn%5CnAt%209:01%20AM:%5Cn%5Ctmove%20Phineas%20to%20the%20location;%20say%20%22A%20mime%20called%20Phineas%20appears%20from%20the%20non-existent%20bathroom.%22%5Cn%5CnPhineas%20is%20a%20man.%5Cn%5CnA%20persuasion%20rule:%5Cn%5Ctdescribe%20poor%20reception;%5Cn%5Ctpersuasion%20fails.%5Cn%5CnTo%20describe%20poor%20reception:%5Cn%5Ctif%20the%20player%20is%20in%20the%20Invisible%20box,%5Cn%5Ct%5Ctsay%20%22Everyone%20convulses%20with%20silent%20laughter%20as%20you%20try%20to%20shout%20from%20within%20the%20invisible%20box.%22;%5Cn%5Ctotherwise%5Cn%5Ct%5Ctsay%20%22You%20attempt%20to%20convey%20your%20meaning%20with%20gesture%20and%20interpretive%20dance,%20but%20%5Bthe%20list%20of%20visible%20other%20people%5D%20scorn%5Bif%20the%20number%20of%20visible%20other%20people%20is%201%5Ds%5Bend%20if%5D%20your%20performance,%20refusing%20to%20respond.%22%5Cn%5CnTest%20me%20with%20%22ask%20lester%20about%20work%20/%20lester,%20east%20/%20ask%20lester%20for%20bowler%20/%20lester,%20nice%20not%20talking%20to%20you%20/%20get%20in%20box%20/%20ask%20lester%20for%20hat%20/%20phineas,%20east%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Mimicry"
</p>
<p class="quoted">
Asking someone about something is speech. Telling someone about something is speech. Answering someone that something is speech. Asking someone for something is speech.
</p>
</div>
<p>And then write a general rule.</p>

<div class="code"><p class="quoted">
Before speech in the presence of an ungreeted person: try waving hands.
</p></div>
<p>One complication is that "asking someone to try doing something", which describes commands such as FRED, GO SOUTH, cannot be made into a kind of action. This requires its own rule:</p>

<div class="code"><p class="quoted">
Before asking someone to try doing something in the presence of an ungreeted person: try waving hands.
</p></div>
<p>Now we define what greetings are going to look like:</p>

<div class="code">
<p class="quoted">
Check waving hands:
<br>    unless the player can see someone who is not the player, say "You are alone." instead.
</p>
<p class="quoted">
Carry out waving hands:
<br>    say "You nod hello to [the list of ungreeted people who can be seen by the player].";
<br>    now every ungreeted person who can be seen by the player is greeted.
</p>
<p class="quoted">
The report waving hands rule is not listed in the report waving hands rulebook.
</p>
</div>
<p>Because of the way we've defined the command, this will now also work if the player waves.</p>

<div class="code"><p class="quoted">
A person can be greeted or ungreeted. A person is usually ungreeted. The player is greeted.
</p></div>
<p>And now the scenario:</p>

<div class="code">
<p class="quoted">
The International Convention of Mimes is a room. Lester, Harold, Geoff, Kwame, and Peter are men in the Convention. Elouise is a woman in the Convention. The Invisible Box is an enterable container in the Convention. "You can detect, from the way people keep leaning on it, an invisible box in the middle of the room."
</p>
<p class="quoted">
Lester carries a bowler hat.
</p>
<p class="quoted">
Instead of speech in the presence of someone:
<br>    describe poor reception.
</p>
<p class="quoted">
Definition: a person is other if it is not the player.
</p>
<p class="quoted">
At 9:01 AM:
<br>    move Phineas to the location; say "A mime called Phineas appears from the non-existent bathroom."
</p>
<p class="quoted">
Phineas is a man.
</p>
<p class="quoted">
A persuasion rule:
<br>    describe poor reception;
<br>    persuasion fails.
</p>
<p class="quoted">
To describe poor reception:
<br>    if the player is in the Invisible box,
<br>        say "Everyone convulses with silent laughter as you try to shout from within the invisible box.";
<br>    otherwise
<br>        say "You attempt to convey your meaning with gesture and interpretive dance, but [the list of visible other people] scorn[if the number of visible other people is 1]s[end if] your performance, refusing to respond."
</p>
<p class="quoted">
Test me with "ask lester about work / lester, east / ask lester for bowler / lester, nice not talking to you / get in box / ask lester for hat / phineas, east".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.15">WI §7.15. Kinds of action</a><br><a href="rb_7.html#rb-7.6">RB §7.6. Getting Started with Conversation</a>
</div></details>
</div></section>
<section class="section" id="rb-7.7"><div>





<h3>RB §7.7. Saying Simple Things</h3>
<p>There are times when even the commands ASK and TELL are overkill: sometimes the player doesn't have much information to offer, so TELL is never useful, for instance. If we don't want to make any distinction between modes of conversation, we can conflate the actions so that ASK LUCIUS ABOUT OLLIVANDER, TELL LUCIUS ABOUT OLLIVANDER and LUCIUS, OLLIVANDER all do the same thing: see <a href="rb_7.html#example-92" class="example-link" onClick="(function() { document.getElementById('example-92').setAttribute('open','open'); return true; })();">Sybil 1</a><span class="example-difficulty"> ★</span>.</p>
<p>If we are frequently permitting the player to say things like LUCIUS, OLLIVANDER as shorthand for "talk to Lucius about Ollivander", then we may also want to allow LUCIUS, OLLIVANDER? This makes the player character seem a bit slow (or at least Laconic), but it is an effective interface in some cases. The trick is that the question mark at the end of the command may prevent Inform from recognizing the keyword; should that problem arise, we may want to use Punctuation Removal to erase question marks from the player's command before attempting to interpret it.</p>
<p>Along the same lines, there are situations in conversation where similar commands do not correspond to the same actions within Inform; if we're careless about this, we may force the player to guess which vocabulary we want him to use, which is always vexing. Some cases to look out for:</p>
<p>Inform has actions for "saying yes" and "saying no". Sometimes this is useful, but sometimes we want YES and SAY YES TO FRED to do the same thing. <a href="rb_7.html#example-93" class="example-link" onClick="(function() { document.getElementById('example-93').setAttribute('open','open'); return true; })();">Sybil 2</a><span class="example-difficulty"> ★★</span> shows how to roll these responses into one; <a href="rb_7.html#example-171" class="example-link" onClick="(function() { document.getElementById('example-171').setAttribute('open','open'); return true; })();">Proposal</a><span class="example-difficulty"> ★★</span> expands on the idea to show more ways in which a player could reasonably answer a question put by another character.</p>
<p>Again, if we want ASK SYBIL ABOUT CAKE to do the same thing as SHOW CAKE TO SYBIL, we might use the technique in <a href="rb_7.html#example-297" class="example-link" onClick="(function() { document.getElementById('example-297').setAttribute('open','open'); return true; })();">Nameless</a><span class="example-difficulty"> ★★</span> to make objects into valid topics of conversation, and to make ASK and SHOW behave the same way.</p>
<p>Finally, if we want to be able to ASK and TELL an inanimate object -- say, a computer -- about something, we may use the extension Inanimate Listeners to add this capability.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_6.html#rb-6.14" class="crossreference_link">Remembering, Converting and Combining Actions</a> for ways to redirect one conversation command to another conversation topic</div>
<div class="crossreference">
<a href="rb_2.html#rb-2.2" class="crossreference_link">Varying What Is Read</a> for a way of asking the player trivia questions that he can answer only on the next turn</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-92"><summary><span class="example-summary">92. Sybil 1</span> <span class="example-difficulty">★</span></summary><div>
<p>Sometimes we do not particularly want to deal with all the variations on asking, telling, or answering someone something, but want to direct everything to a single conversational command:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Consulting%20the%20Oracle%22%5Cn%5CnThe%20Grove%20is%20a%20room.%20In%20the%20Grove%20is%20a%20woman%20called%20the%20Sybil.%5Cn%5CnInstead%20of%20telling%20someone%20about%20something,%20try%20asking%20the%20noun%20about%20it.%20Instead%20of%20answering%20the%20noun%20that%20something,%20try%20asking%20the%20noun%20about%20it.%5Cn%5CnInstead%20of%20asking%20the%20Sybil%20about%20%22persians%22,%20say%20%22She%20nods%20gravely.%22%5Cn%5Cn%5BAnd%20similarly,%20a%20difference%20between%20GIVE%20and%20SHOW%20is%20sometimes%20overkill:%5D%5Cn%5CnInstead%20of%20showing%20something%20to%20someone,%20try%20giving%20the%20noun%20to%20the%20second%20noun.%5Cn%5CnThe%20player%20carries%20a%20coin.%20Instead%20of%20giving%20the%20coin%20to%20the%20Sybil:%20move%20the%20coin%20to%20the%20Sybil;%20say%20%22She%20accepts%20with%20a%20smile.%22%5Cn%5Cn%5BIt%20is%20also%20often%20the%20case%20that%20we%20want%20to%20accept%20more%20than%20one%20form%20of%20a%20term.%20For%20instance%5D%5Cn%5CnInstead%20of%20asking%20the%20Sybil%20about%20%22Darius/king%22,%20say%20%22Her%20smile%20unnerves%20you.%22%5Cn%5Cn%5Bwill%20match%20either%20%22Darius%22%20or%20%22king%22.%20If%20necessary,%20we%20can%20go%20a%20step%20further%20and%20define%20our%20own%20token%20to%20match%20a%20variety%20of%20phrases,%20like%20this:%5D%5Cn%5CnUnderstand%20%22Athenians/Spartans/Greeks%22%20or%20%22hoplite%20army/forces%22%20as%20%22%5BGreeks%5D%22.%20Instead%20of%20asking%20the%20Sybil%20about%20%22%5BGreeks%5D%22,%20say%20%22She%20looks%20encouraging.%22%5Cn%5Cn%5BThe%20token%20%22%5BGreeks%5D%22%20will%20match%20all%20of%20%22Athenians%22,%20%22Spartans%22,%20%22Greeks%22,%20%22hoplite%20army%22,%20or%20%22hoplite%20forces%22.%20It%20will%20not%20match%20%22hoplite%22%20or%20%22forces%22%20alone;%20it%20is%20important%20to%20note%20that%20the%20/%20divides%20individual%20words%20which%20are%20understood%20equivalently,%20but%20does%20not%20define%20entire%20phrases%20as%20equivalent.%20More%20about%20how%20Inform%20understands%20specific%20phrases%20can%20be%20found%20in%20the%20chapter%20on%20Understanding.%5D%5Cn%5CnTest%20me%20with%20%22test%20one%20/%20test%20two%22.%5Cn%5CnTest%20one%20with%20%22ask%20sybil%20about%20persians%20/%20tell%20sybil%20about%20persians%20/%20sybil,%20persians%20/%20ask%20sybil%20about%20darius%20/%20ask%20sybil%20about%20king%22.%5Cn%5CnTest%20two%20with%20%22ask%20sybil%20about%20greeks%20/%20ask%20sybil%20about%20athenians%20/%20ask%20sybil%20about%20hoplite%20army%20/%20ask%20sybil%20about%20hoplite%20forces%20/%20give%20the%20coin%20to%20the%20sybil%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Consulting the Oracle"
</p>
<p class="quoted">
The Grove is a room. In the Grove is a woman called the Sybil.
</p>
<p class="quoted">
Instead of telling someone about something, try asking the noun about it. Instead of answering the noun that something, try asking the noun about it.
</p>
<p class="quoted">
Instead of asking the Sybil about "persians", say "She nods gravely."
</p>
</div>
<p>And similarly, a difference between GIVE and SHOW is sometimes overkill:</p>

<div class="code">
<p class="quoted">
Instead of showing something to someone, try giving the noun to the second noun.
</p>
<p class="quoted">
The player carries a coin. Instead of giving the coin to the Sybil: move the coin to the Sybil; say "She accepts with a smile."
</p>
</div>
<p>It is also often the case that we want to accept more than one form of a term. For instance</p>

<div class="code"><p class="quoted">
Instead of asking the Sybil about "Darius/king", say "Her smile unnerves you."
</p></div>
<p>will match either "Darius" or "king". If necessary, we can go a step further and define our own token to match a variety of phrases, like this:</p>

<div class="code"><p class="quoted">
Understand "Athenians/Spartans/Greeks" or "hoplite army/forces" as "[Greeks]". Instead of asking the Sybil about "[Greeks]", say "She looks encouraging."
</p></div>
<p>The token "[Greeks]" will match all of "Athenians", "Spartans", "Greeks", "hoplite army", or "hoplite forces". It will not match "hoplite" or "forces" alone; it is important to note that the / divides individual words which are understood equivalently, but does not define entire phrases as equivalent. More about how Inform understands specific phrases can be found in the chapter on Understanding.</p>

<div class="code">
<p class="quoted">
Test me with "test one / test two".
</p>
<p class="quoted">
Test one with "ask sybil about persians / tell sybil about persians / sybil, persians / ask sybil about darius / ask sybil about king".
</p>
<p class="quoted">
Test two with "ask sybil about greeks / ask sybil about athenians / ask sybil about hoplite army / ask sybil about hoplite forces / give the coin to the sybil".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.6">WI §7.6. Reading and talking</a><br><a href="rb_7.html#rb-7.7">RB §7.7. Saying Simple Things</a>
</div></details><details class="full-example" id="example-93"><summary><span class="example-summary">93. Sybil 2</span> <span class="example-difficulty">★★</span></summary><div>
<p>Inform already understands YES, NO, and SORRY as commands in their own right, which can make things a little sticky when we want a character to ask a question of the player. The most important thing is not to cover some of the possible phrasings while ignoring others.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Replies%22%5Cn%5CnThe%20Grove%20is%20a%20room.%20In%20the%20Grove%20is%20a%20woman%20called%20the%20Sybil.%5Cn%5CnInstead%20of%20asking%20the%20Sybil%20to%20try%20saying%20no:%20try%20saying%20no.%20Instead%20of%20asking%20the%20Sybil%20to%20try%20saying%20yes:%20try%20saying%20yes.%20Instead%20of%20asking%20the%20Sybil%20to%20try%20saying%20sorry:%20try%20saying%20sorry.%5Cn%5CnInstead%20of%20answering%20the%20Sybil%20that%20%22yes%22,%20try%20saying%20yes.%20Instead%20of%20answering%20the%20Sybil%20that%20%22no%22,%20try%20saying%20no.%20Instead%20of%20answering%20the%20Sybil%20that%20%22sorry%22,%20try%20saying%20sorry.%5Cn%5CnInstead%20of%20saying%20yes%20in%20the%20presence%20of%20the%20Sybil:%5Cn%5Ctsay%20%22She%20looks%20interested.%22%5Cn%5CnInstead%20of%20saying%20no%20in%20the%20presence%20of%20the%20Sybil:%5Cn%5Ctsay%20%22She%20looks%20annoyed.%22%5Cn%5CnInstead%20of%20saying%20sorry%20in%20the%20presence%20of%20the%20Sybil:%5Cn%5Ctsay%20%22She%20looks%20bored.%22%5Cn%5Cn%5BThe%20complexity%20arises%20from%20the%20fact%20that%20we%20want%20to%20handle%20both%20YES%20and%20SYBIL,%20YES.%20If%20we%20only%20had%20the%20latter,%20'yes'%20would%20be%20treated%20as%20a%20text%20given%20to%20the%20Sybil,%20just%20as%20in%20the%20commands%20SAY%20YES%20TO%20SYBIL%20or%20ANSWER%20YES.%20But%20because%20we%20have%20defined%20it%20as%20a%20command%20(so%20that%20the%20player%20can%20use%20it%20independently),%20SYBIL,%20YES%20is%20understood%20as%20an%20order%20to%20the%20Sybil%20to%20do%20the%20YES%20action.%5D%5Cn%5Cn%5BFortunately,%20we%20can%20redirect%20everything,%20as%20here,%20so%20that%20the%20results%20wind%20up%20the%20same.%5D%5Cn%5Cn%5BAnd%20if%20we%20want%20yet%20another%20variation%20not%20covered%20by%20the%20Inform%20standard:%5D%5Cn%5CnUnderstand%20%22tell%20%5Bsomeone%5D%20%5Btext%5D%22%20as%20answering%20it%20that.%20Understand%20%22tell%20%5Bsomeone%5D%20that%20%5Btext%5D%22%20as%20answering%20it%20that.%5Cn%5Cn%5BBut%20that%20is%20a%20matter%20for%20a%20later%20chapter.%5D%5Cn%5CnTest%20me%20with%20%22yes%20/%20sybil,%20yes%20/%20say%20yes%20to%20sybil%20/%20answer%20yes%20/%20tell%20sybil%20yes%20/%20no%20/%20sybil,%20no%20/%20say%20no%20to%20sybil%20/%20answer%20no%20/%20tell%20sybil%20no%20/%20%20sorry%20/%20sybil,%20sorry%20/%20say%20sorry%20to%20sybil%20/%20answer%20sorry%20/%20tell%20sybil%20sorry%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Replies"
</p>
<p class="quoted">
The Grove is a room. In the Grove is a woman called the Sybil.
</p>
<p class="quoted">
Instead of asking the Sybil to try saying no: try saying no. Instead of asking the Sybil to try saying yes: try saying yes. Instead of asking the Sybil to try saying sorry: try saying sorry.
</p>
<p class="quoted">
Instead of answering the Sybil that "yes", try saying yes. Instead of answering the Sybil that "no", try saying no. Instead of answering the Sybil that "sorry", try saying sorry.
</p>
<p class="quoted">
Instead of saying yes in the presence of the Sybil:
<br>    say "She looks interested."
</p>
<p class="quoted">
Instead of saying no in the presence of the Sybil:
<br>    say "She looks annoyed."
</p>
<p class="quoted">
Instead of saying sorry in the presence of the Sybil:
<br>    say "She looks bored."
</p>
</div>
<p>The complexity arises from the fact that we want to handle both YES and SYBIL, YES. If we only had the latter, 'yes' would be treated as a text given to the Sybil, just as in the commands SAY YES TO SYBIL or ANSWER YES. But because we have defined it as a command (so that the player can use it independently), SYBIL, YES is understood as an order to the Sybil to do the YES action.</p>
<p>Fortunately, we can redirect everything, as here, so that the results wind up the same.</p>
<p>And if we want yet another variation not covered by the Inform standard:</p>

<div class="code"><p class="quoted">
Understand "tell [someone] [text]" as answering it that. Understand "tell [someone] that [text]" as answering it that.
</p></div>
<p>But that is a matter for a later chapter.</p>

<div class="code"><p class="quoted">
Test me with "yes / sybil, yes / say yes to sybil / answer yes / tell sybil yes / no / sybil, no / say no to sybil / answer no / tell sybil no /  sorry / sybil, sorry / say sorry to sybil / answer sorry / tell sybil sorry".
</p></div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.6">WI §7.6. Reading and talking</a><br><a href="rb_7.html#rb-7.7">RB §7.7. Saying Simple Things</a>
</div></details><details class="full-example" id="example-171"><summary><span class="example-summary">171. Proposal</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to ask the player a question where he might say yes or no in response. There are two possible forms of this: the modal question where the player must pick one to proceed, and the non-modal question where he might also type other verbs.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Proposal%22%5Cn%5CnThe%20story%20genre%20is%20%22A%20Worked%20Example%20about%20Yes/No%20Questions%22.%5Cn%5CnSection%201%20-%20Asking%20a%20Modal%20Yes/No%20Question%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22Do%20you%20like%20Mr%20Spruce?%20%22;%5Cn%5Ctif%20player%20consents,%20now%20Spruce%20is%20handsome;%5Cn%5Ctotherwise%20now%20Spruce%20is%20ugly;%5Cn%5Ctsay%20paragraph%20break.%5Cn%5CnSection%202%20-%20Mr%20Spruce's%20Non-Modal%20Question%5Cn%5CnUse%20full-length%20room%20descriptions.%5Cn%5CnThe%20Conservatory%20is%20a%20room.%20%22You%20are%20in%20a%20room%20full%20of%20plants.%22%5Cn%5CnMr%20Spruce%20is%20a%20man%20in%20the%20Conservatory.%20Mr%20Spruce%20can%20be%20apprehensive%20or%20calm.%20Mr%20Spruce%20is%20calm.%20Mr%20Spruce%20can%20be%20handsome%20or%20ugly.%5Cn%5CnAt%209:02%20AM:%20say%20%22Mr%20Spruce%20flings%20himself%20to%20his%20knees%20and%20implores%20you%20to%20become%20his%20lawfully%20wedded%20wife.%22;%5Cn%5Ctnow%20Mr%20Spruce%20is%20apprehensive;%5Cn%5CtMr%20Spruce%20gives%20up%20in%20two%20minutes%20from%20now.%5Cn%5CnAt%20the%20time%20when%20Mr%20Spruce%20gives%20up:%5Cn%5Ctsay%20%22Mr%20Spruce%20sighs%20heavily,%20seeing%20that%20you%20don't%20intend%20to%20reply.%20'Never%20mind,%20my%20dear,%20I'll%20ask%20later.%20Perhaps%20I%20should%20have%20spoken%20to%20your%20Papa%20first...%20yes,%20a%20gently-bred%20female...%20no%20wonder...'%22;%5Cn%5Ctnow%20Mr%20Spruce%20is%20calm;%5Cn%5CtMr%20Spruce%20departs%20in%20one%20minute%20from%20now.%5Cn%5CnAt%20the%20time%20when%20Mr%20Spruce%20departs:%5Cn%5Ctif%20the%20player%20can%20see%20Mr%20Spruce,%20say%20%22Mr%20Spruce%20takes%20his%20leave%20of%20you.%22;%5Cn%5Ctotherwise%20say%20%22Mr%20Spruce%20pokes%20his%20head%20in%20to%20say%20that%20he%20is%20leaving.%22;%5Cn%5Ctend%20the%20story%20saying%20%22Well,%20that%20is%20over...%22%5Cn%5CnInstead%20of%20saying%20yes%20in%20the%20presence%20of%20an%20ugly%20apprehensive%20Mr%20Spruce:%5Cn%5Ctnow%20Mr%20Spruce%20is%20calm;%5Cn%5Ctsay%20%22Remembering%20what%20your%20mother%20said%20to%20you%20about%20the%20stock%20exchange%20and%20Dear%20Papa,%20you%20close%20your%20eyes%20and%20accept%20Mr%20Spruce.%22;%5Cn%5Ctend%20the%20story%20saying%20%22Alas%20for%20your%20maiden%20hopes.%22%5Cn%5CnInstead%20of%20saying%20yes%20in%20the%20presence%20of%20a%20handsome%20apprehensive%20Mr%20Spruce:%5Cn%5Ctnow%20Mr%20Spruce%20is%20calm;%5Cn%5Ctsay%20%22You%20are%20silent%20with%20delight%20for%20a%20moment%20before%20you%20say%20yes,%20yes!%22;%5Cn%5Ctend%20the%20story%20saying%20%22How%20Genevieve%20Stubbs%20will%20cry!%22%5Cn%5CnInstead%20of%20saying%20no%20in%20the%20presence%20of%20an%20ugly%20apprehensive%20Mr%20Spruce:%5Cn%5Ctnow%20Mr%20Spruce%20is%20calm;%5Cn%5Ctsay%20%22Gently%20you%20inform%20Mr%20Spruce%20that%20it%20is%20impossible.%20He%20seems%20less%20deflated%20than%20you%20had%20expected.%22;%5Cn%5Ctend%20the%20story%20saying%20%22Odd,%20that...%22%5Cn%5CnInstead%20of%20saying%20no%20in%20the%20presence%20of%20a%20handsome%20apprehensive%20Mr%20Spruce:%5Cn%5Ctnow%20Mr%20Spruce%20is%20calm;%5Cn%5Ctsay%20%22You%20lower%20your%20eyes%20and%20refuse%20petulantly,%20hoping%20to%20stir%20him%20to%20a%20more%20ardent%20repetition%20of%20these%20same%20requests.%20But%20then%20--%20alack!%20--%20he%20says%20'I%20see%20how%20it%20is!'%20in%20a%20strangled%20voice,%20and%20strides%20from%20the%20room!%22;%5Cn%5Ctend%20the%20story%20saying%20%22A%20fatal%20error!%22%5Cn%5Cn%5BAnd%20since%20the%20player%20might%20SAY%20YES%20TO%20SPRUCE,%20we%20had%20better%20reroute%20the%20relevant%20options:%5D%5Cn%5CnInstead%20of%20answering%20Mr%20Spruce%20that%20%22no%22,%20try%20saying%20no.%5Cn%5CnInstead%20of%20answering%20Mr%20Spruce%20that%20%22yes%22,%20try%20saying%20yes.%5Cn%5CnInstead%20of%20asking%20Mr%20Spruce%20to%20try%20saying%20yes,%20try%20saying%20yes.%5Cn%5CnInstead%20of%20asking%20Mr%20Spruce%20to%20try%20saying%20no,%20try%20saying%20no.%5Cn%5CnInstead%20of%20saying%20sorry,%20try%20saying%20no.%5Cn%5CnInstead%20of%20asking%20Mr%20Spruce%20to%20try%20saying%20sorry,%20try%20saying%20no.%5Cn%5CnInstead%20of%20answering%20Mr%20Spruce%20that%20%22sorry%22,%20try%20saying%20no.%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20z%20/%20yes%22.%5Cn%5CnTest%20more%20with%20%22z%20/%20z%20/%20z%20/%20no%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Proposal"
</p>
<p class="quoted">
The story genre is "A Worked Example about Yes/No Questions".
</p>
<p class="quoted">
Section 1 - Asking a Modal Yes/No Question
</p>
<p class="quoted">
When play begins:
<br>    say "Do you like Mr Spruce? ";
<br>    if player consents, now Spruce is handsome;
<br>    otherwise now Spruce is ugly;
<br>    say paragraph break.
</p>
<p class="quoted">
Section 2 - Mr Spruce's Non-Modal Question
</p>
<p class="quoted">
Use full-length room descriptions.
</p>
<p class="quoted">
The Conservatory is a room. "You are in a room full of plants."
</p>
<p class="quoted">
Mr Spruce is a man in the Conservatory. Mr Spruce can be apprehensive or calm. Mr Spruce is calm. Mr Spruce can be handsome or ugly.
</p>
<p class="quoted">
At 9:02 AM: say "Mr Spruce flings himself to his knees and implores you to become his lawfully wedded wife.";
<br>    now Mr Spruce is apprehensive;
<br>    Mr Spruce gives up in two minutes from now.
</p>
<p class="quoted">
At the time when Mr Spruce gives up:
<br>    say "Mr Spruce sighs heavily, seeing that you don't intend to reply. 'Never mind, my dear, I'll ask later. Perhaps I should have spoken to your Papa first... yes, a gently-bred female... no wonder...'";
<br>    now Mr Spruce is calm;
<br>    Mr Spruce departs in one minute from now.
</p>
<p class="quoted">
At the time when Mr Spruce departs:
<br>    if the player can see Mr Spruce, say "Mr Spruce takes his leave of you.";
<br>    otherwise say "Mr Spruce pokes his head in to say that he is leaving.";
<br>    end the story saying "Well, that is over..."
</p>
<p class="quoted">
Instead of saying yes in the presence of an ugly apprehensive Mr Spruce:
<br>    now Mr Spruce is calm;
<br>    say "Remembering what your mother said to you about the stock exchange and Dear Papa, you close your eyes and accept Mr Spruce.";
<br>    end the story saying "Alas for your maiden hopes."
</p>
<p class="quoted">
Instead of saying yes in the presence of a handsome apprehensive Mr Spruce:
<br>    now Mr Spruce is calm;
<br>    say "You are silent with delight for a moment before you say yes, yes!";
<br>    end the story saying "How Genevieve Stubbs will cry!"
</p>
<p class="quoted">
Instead of saying no in the presence of an ugly apprehensive Mr Spruce:
<br>    now Mr Spruce is calm;
<br>    say "Gently you inform Mr Spruce that it is impossible. He seems less deflated than you had expected.";
<br>    end the story saying "Odd, that..."
</p>
<p class="quoted">
Instead of saying no in the presence of a handsome apprehensive Mr Spruce:
<br>    now Mr Spruce is calm;
<br>    say "You lower your eyes and refuse petulantly, hoping to stir him to a more ardent repetition of these same requests. But then -- alack! -- he says 'I see how it is!' in a strangled voice, and strides from the room!";
<br>    end the story saying "A fatal error!"
</p>
</div>
<p>And since the player might SAY YES TO SPRUCE, we had better reroute the relevant options:</p>

<div class="code">
<p class="quoted">
Instead of answering Mr Spruce that "no", try saying no.
</p>
<p class="quoted">
Instead of answering Mr Spruce that "yes", try saying yes.
</p>
<p class="quoted">
Instead of asking Mr Spruce to try saying yes, try saying yes.
</p>
<p class="quoted">
Instead of asking Mr Spruce to try saying no, try saying no.
</p>
<p class="quoted">
Instead of saying sorry, try saying no.
</p>
<p class="quoted">
Instead of asking Mr Spruce to try saying sorry, try saying no.
</p>
<p class="quoted">
Instead of answering Mr Spruce that "sorry", try saying no.
</p>
<p class="quoted">
Test me with "z / z / z / yes".
</p>
<p class="quoted">
Test more with "z / z / z / no".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.5">WI §11.5. Conditions and questions</a><br><a href="rb_7.html#rb-7.7">RB §7.7. Saying Simple Things</a>
</div></details><details class="full-example" id="example-297"><summary><span class="example-summary">297. Nameless</span> <span class="example-difficulty">★★</span></summary><div>
<p>By default, ASK SOMEONE ABOUT... applies only to a text token. We might want also to offer the player the option of asking characters about pieces of physical evidence. This example implements an ASK PERSON ABOUT THING command that is mostly synonymous with SHOW, with the added nuance that the player can ask about things that are not currently visible, as long as he has encountered them at some time in the past.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Nameless%22%5Cn%5CnThe%20Black%20Chamber%20is%20a%20room.%20%22Despite%20its%20menacing%20name,%20it%20is%20quite%20an%20ordinary%20room,%20underlying%20the%20post%20office%20above.%20Here%20letters%20are%20brought%20each%20day,%20unsealed,%20transcribed,%20resealed,%20and%20sent%20again%20on%20their%20way;%20their%20contents%20then%20analyzed%20and%20recorded.%22%5Cn%5CnThe%20Nameless%20Advisor%20is%20a%20woman%20in%20the%20Black%20Chamber.%20%22A%20woman%20whose%20name%20has%20never%20been%20disclosed%20to%20you%20sits%20at%20the%20window,%20writing%20numbers%20on%20a%20sheet%20of%20paper.%22%20The%20Advisor%20carries%20a%20sheet%20of%20paper.%20Understand%20%22woman%22%20as%20the%20nameless%20advisor.%5Cn%5CnThe%20player%20carries%20a%20letter%20from%20the%20emperor.%20The%20description%20of%20the%20letter%20is%20%22Though%20its%20origin%20is%20obvious,%20its%20meaning%20is%20secret:%20the%20letters%20are%20an%20inexplicable%20jumble.%22%5Cn%5Cn%5BNow%20we%20create%20our%20new%20action,%20%22interrogating%20it%20about%22.%20We%20write%20the%20grammar%20lines%20so%20that%20we%20can%20show%20any%20object%20in%20sight%20to%20someone,%20but%20also%20ask%20someone%20about%20any%20object%20that%20we%20have%20ever%20interacted%20with%20in%20the%20game,%20whether%20it%20is%20currently%20visible%20or%20not.%5D%5Cn%5CnA%20thing%20can%20be%20known%20or%20unknown.%20The%20Nameless%20Advisor%20is%20known.%5Cn%5CnUnderstand%20%22ask%20%5Bsomeone%5D%20about%20%5Bany%20known%20thing%5D%22%20as%20interrogating%20it%20about.%20interrogating%20it%20about%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5Cn%5BNow%20we%20replace%20and%20redirect%20the%20showing%20action.%20This%20gets%20rid%20of%20the%20requirement%20in%20the%20default%20library%20that%20the%20player%20be%20holding%20anything%20he%20shows%20to%20another%20character:%5D%5Cn%5CnUnderstand%20the%20commands%20%22show%22%20and%20%22display%22%20and%20%22present%22%20as%20something%20new.%5Cn%5CnUnderstand%20%22show%20%5Bsomething%5D%20to%20%5Bsomeone%5D%22%20or%20%22display%20%5Bsomething%5D%20to%20%5Bsomeone%5D%22%20or%20%22present%20%5Bsomething%5D%20to%20%5Bsomeone%5D%22%20as%20interrogating%20it%20about%20(with%20nouns%20reversed).%20Understand%20%22show%20%5Bsomeone%5D%20%5Bsomething%5D%22%20as%20interrogating%20it%20about.%5Cn%5Cn%5BThis%20bit%20keeps%20track%20of%20what%20the%20player%20has%20seen,%20for%20the%20purposes%20of%20%22any%20known%20thing%22:%5D%5Cn%5CnBefore%20printing%20the%20name%20of%20something%20(called%20the%20target):%20now%20the%20target%20is%20known.%5Cn%5Cn%5BHere%20we%20define%20what%20happens%20by%20default%20when%20we%20interrogate%20someone%20about%20something;%20we%20use%20the%20same%20response%20we%20get%20to%20asking%20someone%20about%20something%20that%20isn't%20otherwise%20interesting:%5D%5Cn%5CnCarry%20out%20interrogating%20someone%20about%20something:%5Cn%5Ctsay%20%22There%20is%20no%20reply.%22%5Cn%5Cn%5BNow%20redirect%20all%20asking%20to%20a%20topic%20table,%20and%20all%20interrogating%20to%20an%20object%20table:%5D%5Cn%5CnInstead%20of%20asking%20Nameless%20Advisor%20about%20a%20topic%20listed%20in%20the%20Table%20of%20Nameless%20Advisor%20Topics:%5Cn%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22.%5Cn%5CnInstead%20of%20interrogating%20Nameless%20Advisor%20about%20an%20item%20listed%20in%20the%20Table%20of%20Nameless%20Advisor%20Items:%5Cn%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22.%5Cn%5CnTable%20of%20Nameless%20Advisor%20Items%5Cnitem%5Ctreply%5Cnletter%5Ct%22'It%20is%20enciphered,'%20she%20remarks%5Bif%20the%20advisor%20can%20see%20the%20letter%5D,%20glancing%20over%20the%20contents%5Botherwise%5D,%20after%20you%20have%20offered%20a%20detailed%20description%5Bend%20if%5D.%20'A%20substitution%20cipher%20of%20some%20complexity,%20I%20believe.'%22%5CnAdvisor%5Ct%22She%20listens%20to%20your%20inquiries%20about%20her%20identity%20and%20parentage%20with%20a%20placid%20smile,%20but%20does%20not%20answer.%22%5Cn%5CnTable%20of%20Nameless%20Advisor%20Topics%5Cntopic%5Ctreply%5Cn%22cipher%22%5Ct%22'I%20know%20many%20dozens%20of%20ciphers,'%20she%20replies,%20smiling%20in%20a%20disquieting%20way.%22%5Cn%22substitution%20cipher%22%5Ct%22'One%20letter%20is%20allowed%20to%20stand%20for%20another,'%20she%20explains,%20folding%20her%20hands%20together%20patiently.%20The%20backs%20of%20both%20hands%20are%20tattooed%20with%20silvery%20stars.%22%5Cn%5Cn%5BAnd%20just%20so%20that%20we%20can%20test%20what%20happens%20when%20asking%20someone%20about%20something%20out%20of%20sight:%5D%5Cn%5CnThe%20safe%20box%20is%20a%20container%20in%20the%20Chamber.%20It%20is%20fixed%20in%20place.%20It%20is%20openable%20and%20closed.%5Cn%5Cn%5B...and%20something%20unknown:%5D%5Cn%5CnThe%20poisonous%20apple%20is%20a%20thing.%5Cn%5CnTest%20me%20with%20%22test%20sight%20/%20test%20knowledge%22.%5Cn%5CnTest%20sight%20with%20%22i%20/%20x%20letter%20/%20ask%20Nameless%20Advisor%20about%20cipher%20/%20show%20cipher%20to%20Nameless%20Advisor%20/%20ask%20Nameless%20Advisor%20about%20the%20letter%20/%20show%20the%20letter%20to%20Nameless%20Advisor%20/%20show%20Nameless%20Advisor%20the%20letter%22.%5Cn%5CnTest%20knowledge%20with%20%22open%20safe%20box%20/%20put%20letter%20in%20safe%20box%20/%20close%20safe%20box%20/%20ask%20Nameless%20Advisor%20about%20the%20letter%20/%20show%20the%20letter%20to%20Nameless%20Advisor%20/%20ask%20Nameless%20Advisor%20about%20the%20apple%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Nameless"
</p>
<p class="quoted">
The Black Chamber is a room. "Despite its menacing name, it is quite an ordinary room, underlying the post office above. Here letters are brought each day, unsealed, transcribed, resealed, and sent again on their way; their contents then analyzed and recorded."
</p>
<p class="quoted">
The Nameless Advisor is a woman in the Black Chamber. "A woman whose name has never been disclosed to you sits at the window, writing numbers on a sheet of paper." The Advisor carries a sheet of paper. Understand "woman" as the nameless advisor.
</p>
<p class="quoted">
The player carries a letter from the emperor. The description of the letter is "Though its origin is obvious, its meaning is secret: the letters are an inexplicable jumble."
</p>
</div>
<p>Now we create our new action, "interrogating it about". We write the grammar lines so that we can show any object in sight to someone, but also ask someone about any object that we have ever interacted with in the game, whether it is currently visible or not.</p>

<div class="code">
<p class="quoted">
A thing can be known or unknown. The Nameless Advisor is known.
</p>
<p class="quoted">
Understand "ask [someone] about [any known thing]" as interrogating it about. interrogating it about is an action applying to two visible things.
</p>
</div>
<p>Now we replace and redirect the showing action. This gets rid of the requirement in the default library that the player be holding anything he shows to another character:</p>

<div class="code">
<p class="quoted">
Understand the commands "show" and "display" and "present" as something new.
</p>
<p class="quoted">
Understand "show [something] to [someone]" or "display [something] to [someone]" or "present [something] to [someone]" as interrogating it about (with nouns reversed). Understand "show [someone] [something]" as interrogating it about.
</p>
</div>
<p>This bit keeps track of what the player has seen, for the purposes of "any known thing":</p>

<div class="code"><p class="quoted">
Before printing the name of something (called the target): now the target is known.
</p></div>
<p>Here we define what happens by default when we interrogate someone about something; we use the same response we get to asking someone about something that isn't otherwise interesting:</p>

<div class="code"><p class="quoted">
Carry out interrogating someone about something:
<br>    say "There is no reply."
</p></div>
<p>Now redirect all asking to a topic table, and all interrogating to an object table:</p>

<div class="code">
<p class="quoted">
Instead of asking Nameless Advisor about a topic listed in the Table of Nameless Advisor Topics:
<br>    say "[reply entry][paragraph break]".
</p>
<p class="quoted">
Instead of interrogating Nameless Advisor about an item listed in the Table of Nameless Advisor Items:
<br>    say "[reply entry][paragraph break]".
</p>
<p class="quoted">
Table of Nameless Advisor Items
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">item</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">letter</p></td>
<td class="quotedtablecell"><p class="quoted">"'It is enciphered,' she remarks[if the advisor can see the letter], glancing over the contents[otherwise], after you have offered a detailed description[end if]. 'A substitution cipher of some complexity, I believe.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">Advisor</p></td>
<td class="quotedtablecell"><p class="quoted">"She listens to your inquiries about her identity and parentage with a placid smile, but does not answer."</p></td>
</tr>
</table>
<p class="quoted">
Table of Nameless Advisor Topics
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cipher"</p></td>
<td class="quotedtablecell"><p class="quoted">"'I know many dozens of ciphers,' she replies, smiling in a disquieting way."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"substitution cipher"</p></td>
<td class="quotedtablecell"><p class="quoted">"'One letter is allowed to stand for another,' she explains, folding her hands together patiently. The backs of both hands are tattooed with silvery stars."</p></td>
</tr>
</table>
</div>
<p>And just so that we can test what happens when asking someone about something out of sight:</p>

<div class="code"><p class="quoted">
The safe box is a container in the Chamber. It is fixed in place. It is openable and closed.
</p></div>
<p>...and something unknown:</p>

<div class="code">
<p class="quoted">
The poisonous apple is a thing.
</p>
<p class="quoted">
Test me with "test sight / test knowledge".
</p>
<p class="quoted">
Test sight with "i / x letter / ask Nameless Advisor about cipher / show cipher to Nameless Advisor / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / show Nameless Advisor the letter".
</p>
<p class="quoted">
Test knowledge with "open safe box / put letter in safe box / close safe box / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / ask Nameless Advisor about the apple".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.5">WI §17.5. The text token</a><br><a href="rb_7.html#rb-7.7">RB §7.7. Saying Simple Things</a>
</div></details>
</div></section>
<section class="section" id="rb-7.8"><div>





<h3>RB §7.8. Saying Complicated Things</h3>
<p>As we saw in the overview, there are challenges in choosing the commands with which the player will communicate to the story. Two common approaches are ASK/TELL conversation, where the player can ask or tell characters about keywords, as in ASK JILL ABOUT JACK or TELL FARMER ABOUT CHICKEN COOP, and menu-based conversation, where the player is offered a list of things to say and must pick one (often by number), as in</p>

<div class="code"><p class="quoted">
1) Ask Jill where Jack went.
<br>2) Tell Jill that the chicken coop was robbed.
</p></div>
<p>or, sometimes,</p>

<div class="code"><p class="quoted">
1) "Jill, have you seen your no-good layabout brother Jack anywhere?"
<br>2) "Look, Farmer Jill, I think a fox got into the chickens."
</p></div>
<p>The problem with ASK/TELL conversation is that it can feel undirected - if the player doesn't know which keywords to ask or tell about next, he gets stuck. It also doesn't always provide much sense of ongoing context or conversational flow, since the player can ask lots of unrelated questions and jump around a lot. What's more, sometimes the thing the player character asks isn't quite the question the player had in mind. If we type ASK JILL ABOUT JACK, Jill could wind up answering any of a number of questions - where Jack is, how old Jack is, whether Jack committed the recent murder, and so on. The player doesn't have much fine control over the conversation. Nonetheless, this is sometimes just what we want: <a href="rb_7.html#example-281" class="example-link" onClick="(function() { document.getElementById('example-281').setAttribute('open','open'); return true; })();">Farewell</a><span class="example-difficulty"> ★★</span> implements a moderately sophisticated system along these lines, which keeps track of what the player has already said and allows him to review past conversation.</p>
<p>Menu-based conversation solves most of these problems: a branching tree of conversation choices maintains a consistent flow of discussion, it's hard for the player to run out of things to say, and the player always knows what his character is about to say. But there are compensating flaws. For one thing, a menu doesn't allow for many surprises. The player can see all the conversation the story has to offer by working methodically through all the menu branches. (This problem is sometimes referred to as the "lawnmower effect", since the process of seeing all the conversation is like the process of running a lawnmower over every inch of the lawn. It becomes a chore rather than an entertainment.) Menu systems can be long-winded to set up and therefore none are exemplified here, but several have been released as extensions for Inform.</p>
<p>Since about 2001, more and more IF has used a sort of compromise method: the player is allowed to ask or tell about keywords, but he's sometimes given prompts about things to say that follow naturally on the conversation he was just having, as in</p>

<div class="code"><p class="quoted">
You could ask where Jack is.
</p></div>
<p>Moreover, when he asks about a topic where many comments are possible, he'll be allowed to clarify, either using a menu or through a disambiguation question such as</p>

<div class="code"><p class="quoted">
&gt;ask Jill about Jack
<br>Do you want to ask where Jack is, how old Jack is, or whether Jack committed the recent murder?
</p></div>
<p><a href="rb_7.html#example-282" class="example-link" onClick="(function() { document.getElementById('example-282').setAttribute('open','open'); return true; })();">Sweeney</a><span class="example-difficulty"> ★★</span> implements one such hybrid type of conversation.</p>
<p>A third option is to take away almost all the player's expressiveness and give him just one command, TALK TO. The player can TALK TO characters whenever he wants, and the story will pick the most appropriate thing for him to talk about. This works best in works with few or simple puzzles and a fast-moving, constrained plot, where the player will keep having new things to talk about. <a href="rb_7.html#example-168" class="example-link" onClick="(function() { document.getElementById('example-168').setAttribute('open','open'); return true; })();">Cheese-makers</a><span class="example-difficulty"> ★★★</span> demonstrates this.</p>
<p>Finally, a few extreme games try to fake natural language understanding by looking for keywords in the player's input, rather than an exact grammar. This is perilous, because it is all too easy for the story to completely misunderstand what the player meant to type. Nonetheless, for the sake of example, see <a href="rb_7.html#example-376" class="example-link" onClick="(function() { document.getElementById('example-376').setAttribute('open','open'); return true; })();">Complimentary Peanuts</a><span class="example-difficulty"> ★★★</span>, in which the incomprehension is partly excused by the fact that the player is talking to someone a bit hard of hearing.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-281"><summary><span class="example-summary">281. Farewell</span> <span class="example-difficulty">★★</span></summary><div>
<p>We begin with the idea that each person comes with his own table of things to say:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Farewell%22%5Cn%5CnA%20person%20has%20a%20table%20name%20called%20conversation.%5Cn%5CnInstead%20of%20asking%20someone%20about%20something:%5Cn%5Ctlet%20the%20source%20be%20the%20conversation%20of%20the%20noun;%5Cn%5Ctif%20topic%20understood%20is%20a%20topic%20listed%20in%20source:%5Cn%5Ct%5Ctif%20there%20is%20a%20turn%20stamp%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5BThe%20noun%5D%20has%20already%20told%20you%20that%20%5Bsummary%20entry%5D.%22;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctnow%20turn%20stamp%20entry%20is%20the%20turn%20count;%5Cn%5Ct%5Ct%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5BThe%20noun%5D%20stares%20at%20you%20blankly.%22%5Cn%5Cn%5BFor%20the%20sake%20of%20simplicity,%20we'll%20conflate%20asking%20and%20telling%20here,%20though%20it%20would%20certainly%20be%20possible%20to%20have%20a%20more%20complex%20implementation%20if%20we%20want%20the%20characters%20to%20be%20told%20things%20as%20well.%5D%5Cn%5CnInstead%20of%20telling%20someone%20about%20something:%5Cn%5Cttry%20asking%20the%20noun%20about%20it.%5Cn%5Cn%5BNow%20we%20might%20want%20to%20add%20a%20recap%20command%20to%20review%20conversation%20that%20has%20already%20occurred.%5D%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20it%20is%20not%20the%20player.%5Cn%5CnUnderstand%20%22recap%22%20or%20%22recall%22%20or%20%22review%22%20as%20recalling%20conversations.%5Cn%5CnRecalling%20conversations%20is%20an%20action%20applying%20to%20nothing.%5Cn%5Cn%5BSince%20we've%20been%20recording%20the%20turn%20count%20of%20each%20conversation%20bit,%20we%20can%20even%20present%20these%20in%20order%20by%20sorting%20the%20tables%20first.%5D%5Cn%5CnCarry%20out%20recalling%20conversations:%5Cn%5Ctrepeat%20with%20speaker%20running%20through%20other%20people:%5Cn%5Ct%5Ctlet%20source%20be%20the%20conversation%20of%20the%20speaker;%5Cn%5Ct%5Ctsort%20source%20in%20turn%20stamp%20order;%5Cn%5Ct%5Ctsay%20%22%5BThe%20speaker%5D%20has%20so%20far%20told%20you:%20%5Bline%20break%5D%22;%5Cn%5Ct%5Ctlet%20index%20be%200;%5Cn%5Ct%5Ctrepeat%20through%20source:%5Cn%5Ct%5Ct%5Ctif%20there%20is%20a%20turn%20stamp%20entry:%5Cn%5Ct%5Ct%5Ct%5Ctlet%20index%20be%201;%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22%20%20%5Bsummary%20entry%5D%5Bline%20break%5D%22;%5Cn%5Ct%5Ctif%20index%20is%200,%20say%20%22%20%20absolutely%20nothing%5Bline%20break%5D%22;%5Cn%5Ct%5Ctsay%20conditional%20paragraph%20break.%5Cn%5Cn%5BNow%20it%20remains%20only%20to%20create%20a%20couple%20of%20characters%20and%20provide%20them%20both%20with%20something%20to%20say:%5D%5Cn%5Cn%20The%20Farewell%20Bend%20Cafe%20is%20a%20room.%20%22Beautiful%20Farewell%20Bend,%20Idaho%20--%20or%20is%20it%20Oregon?%20An%20almost-abandoned%20truckstop,%20in%20any%20case,%20on%20one%20of%20those%20interminable%20American%20east-west%20highways.%22%5Cn%5CnTina%20is%20a%20woman%20in%20the%20Farewell%20Bend%20Cafe.%20The%20conversation%20of%20Tina%20is%20the%20Table%20of%20Tina's%20Chatter.%20%22Tina%20the%20waitress%20is%20slowly%20pouring%20coffee%20from%20the%20pot%20with%20a%20black%20neck%20into%20the%20pot%20with%20an%20orange%20neck.%22%5Cn%5CnGeorge%20is%20a%20man%20in%20the%20Farewell%20Bend%20Cafe.%20The%20conversation%20of%20George%20is%20the%20Table%20of%20George's%20Chatter.%20%22There%20is%20also%20a%20large%20man%20at%20table%20five.%20The%20tattoo%20on%20his%20arm%20says%20George.%20For%20the%20moment%20we%20will%20assume%20that%20it%20is%20his%20own%20name%20and%20not%20someone%20else's.%22%5Cn%5CnTable%20of%20Tina's%20Chatter%5Cntopic%5Ctreply%5Ctsummary%5Ctturn%20stamp%5Cn%22aasvogel%22%5Ct%22'Oh,%20it's%20a%20vulture.'%22%5Ct%22that%20an%20aasvogel%20is%20a%20vulture%22%5Cta%20number%5Cn%22acaudate%22%5Ct%22She%20shrugs,%20mid-pour.%20'Means%20something%20doesn't%20have%20a%20tail.'%22%5Ct%22that%20acaudate%20means%20'tailless'%22%5Ct--%5Cn%22absorptiometer%22%5Ct%22'It's%20a%20thing%20that%20measures%20the%20solubility%20of%20gases%20in%20a%20liquid,'%20she%20explains%20gently,%20as%20to%20a%20child.%22%5Ct%22that%20an%20absorptiometer%20measures%20solubility%20of%20gasses%20in%20a%20liquid%22%5Ct--%5Cn%5CnTable%20of%20George's%20Chatter%5Cntopic%5Ctreply%5Ctsummary%5Ctturn%20stamp%5Cn%22baccaceous%22%5Ct%22'Something%20that%20has%20or%20bears%20berries,'%20says%20George,%20without%20looking%20up.%22%5Ct%22that%20baccaceous%20means%20berry-bearing%20or%20berry-like%22%5Cta%20number%5Cn%22bagheera%22%5Ct%22'Oh,%20that'd%20be%20a%20velvet-like%20textile.'%22%5Ct%22that%20bagheera%20is%20a%20velvet-like%20textile%22%5Ct--%5Cn%22balistarius%22%5Ct%22'That's%20a%20crossbow-man,'%20George%20replies%20instantly.%22%5Ct%22that%20a%20balistarius%20is%20a%20crossbow-man%22%5Ct--%5Cn%5Cn%5BA%20word%20of%20warning:%20this%20system%20does%20assume%20that%20every%20person%20in%20the%20game%20has%20a%20conversation%20table%20defined.%20If%20that%20were%20not%20the%20case,%20we%20would%20have%20to%20be%20a%20bit%20more%20careful.%5D%5Cn%5Cn%5BAs%20always,%20we%20can%20override%20specific%20words,%20too:%5D%5Cn%5CnInstead%20of%20asking%20Tina%20about%20%22advertisement%22%20for%20the%20first%20time:%5Cn%5Ctsay%20%22Tina%20looks%20embarrassed.%20'Of%20course!%20I%20almost%20forgot.'%20She%20hands%20you%20a%20brochure.%22;%5Cn%5Ctmove%20the%20brochure%20to%20the%20player.%5Cn%5CnThe%20encyclopedia%20sales%20brochure%20is%20a%20thing.%20The%20description%20is%20%22A%20glossy%20flyer%20indicating%20that%20you%20can%20receive%20a%20free%20Volume%20A-Aalto%20of%20the%20New%20Idahoan%20Encyclopedia%20Set%20if%20you%20send%20back%20the%20business%20reply%20card,%20and%20then%20have%20the%20option%20of%20purchasing%20the%20remaining%20volumes%20at%20a%20very%20very%20reasonable%20price.%22%5Cn%5CnTest%20me%20with%20%22recap%20/%20ask%20tina%20about%20aasvogel%20/%20recap%20/%20ask%20george%20about%20baccaceous%20/%20ask%20tina%20about%20absorptiometer%20/%20recap%20/%20ask%20tina%20about%20advertisement%20/%20read%20brochure%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Farewell"
</p>
<p class="quoted">
A person has a table name called conversation.
</p>
<p class="quoted">
Instead of asking someone about something:
<br>    let the source be the conversation of the noun;
<br>    if topic understood is a topic listed in source:
<br>        if there is a turn stamp entry:
<br>            say "[The noun] has already told you that [summary entry].";
<br>        otherwise:
<br>            now turn stamp entry is the turn count;
<br>            say "[reply entry][paragraph break]";
<br>    otherwise:
<br>        say "[The noun] stares at you blankly."
</p>
</div>
<p>For the sake of simplicity, we'll conflate asking and telling here, though it would certainly be possible to have a more complex implementation if we want the characters to be told things as well.</p>

<div class="code"><p class="quoted">
Instead of telling someone about something:
<br>    try asking the noun about it.
</p></div>
<p>Now we might want to add a recap command to review conversation that has already occurred.</p>

<div class="code">
<p class="quoted">
Definition: a person is other if it is not the player.
</p>
<p class="quoted">
Understand "recap" or "recall" or "review" as recalling conversations.
</p>
<p class="quoted">
Recalling conversations is an action applying to nothing.
</p>
</div>
<p>Since we've been recording the turn count of each conversation bit, we can even present these in order by sorting the tables first.</p>

<div class="code"><p class="quoted">
Carry out recalling conversations:
<br>    repeat with speaker running through other people:
<br>        let source be the conversation of the speaker;
<br>        sort source in turn stamp order;
<br>        say "[The speaker] has so far told you: [line break]";
<br>        let index be 0;
<br>        repeat through source:
<br>            if there is a turn stamp entry:
<br>                let index be 1;
<br>                say "  [summary entry][line break]";
<br>        if index is 0, say "  absolutely nothing[line break]";
<br>        say conditional paragraph break.
</p></div>
<p>Now it remains only to create a couple of characters and provide them both with something to say:</p>

<div class="code">
<p class="quoted">
 The Farewell Bend Cafe is a room. "Beautiful Farewell Bend, Idaho -- or is it Oregon? An almost-abandoned truckstop, in any case, on one of those interminable American east-west highways."
</p>
<p class="quoted">
Tina is a woman in the Farewell Bend Cafe. The conversation of Tina is the Table of Tina's Chatter. "Tina the waitress is slowly pouring coffee from the pot with a black neck into the pot with an orange neck."
</p>
<p class="quoted">
George is a man in the Farewell Bend Cafe. The conversation of George is the Table of George's Chatter. "There is also a large man at table five. The tattoo on his arm says George. For the moment we will assume that it is his own name and not someone else's."
</p>
<p class="quoted">
Table of Tina's Chatter
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
<td class="quotedtablecell"><p class="quoted">summary</p></td>
<td class="quotedtablecell"><p class="quoted">turn stamp</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"aasvogel"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Oh, it's a vulture.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that an aasvogel is a vulture"</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"acaudate"</p></td>
<td class="quotedtablecell"><p class="quoted">"She shrugs, mid-pour. 'Means something doesn't have a tail.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that acaudate means 'tailless'"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"absorptiometer"</p></td>
<td class="quotedtablecell"><p class="quoted">"'It's a thing that measures the solubility of gases in a liquid,' she explains gently, as to a child."</p></td>
<td class="quotedtablecell"><p class="quoted">"that an absorptiometer measures solubility of gasses in a liquid"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
</table>
<p class="quoted">
Table of George's Chatter
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
<td class="quotedtablecell"><p class="quoted">summary</p></td>
<td class="quotedtablecell"><p class="quoted">turn stamp</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"baccaceous"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Something that has or bears berries,' says George, without looking up."</p></td>
<td class="quotedtablecell"><p class="quoted">"that baccaceous means berry-bearing or berry-like"</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"bagheera"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Oh, that'd be a velvet-like textile.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that bagheera is a velvet-like textile"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"balistarius"</p></td>
<td class="quotedtablecell"><p class="quoted">"'That's a crossbow-man,' George replies instantly."</p></td>
<td class="quotedtablecell"><p class="quoted">"that a balistarius is a crossbow-man"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
</table>
</div>
<p>A word of warning: this system does assume that every person in the game has a conversation table defined. If that were not the case, we would have to be a bit more careful.</p>
<p>As always, we can override specific words, too:</p>

<div class="code">
<p class="quoted">
Instead of asking Tina about "advertisement" for the first time:
<br>    say "Tina looks embarrassed. 'Of course! I almost forgot.' She hands you a brochure.";
<br>    move the brochure to the player.
</p>
<p class="quoted">
The encyclopedia sales brochure is a thing. The description is "A glossy flyer indicating that you can receive a free Volume A-Aalto of the New Idahoan Encyclopedia Set if you send back the business reply card, and then have the option of purchasing the remaining volumes at a very very reasonable price."
</p>
<p class="quoted">
Test me with "recap / ask tina about aasvogel / recap / ask george about baccaceous / ask tina about absorptiometer / recap / ask tina about advertisement / read brochure".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.15">WI §16.15. Varying which table to look at</a><br><a href="rb_7.html#rb-7.8">RB §7.8. Saying Complicated Things</a>
</div></details><details class="full-example" id="example-282"><summary><span class="example-summary">282. Sweeney</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Sweeney%22%5Cn%5CnA%20subject%20is%20a%20kind%20of%20thing.%20Some%20subjects%20are%20defined%20by%20the%20Table%20of%20Conversation%20Subjects.%5Cn%5CnTable%20of%20Conversation%20Subjects%5Cnsubject%5Ctconversation%5Cnpies%5CtTable%20of%20Pie%20Queries%5Cnemployment%5CtTable%20of%20Job%20Queries%5Cn%5CnUnderstand%20%22job%22%20as%20employment.%20Understand%20%22meat%22%20or%20%22food%22%20as%20pies.%5Cn%5CnTable%20of%20Job%20Queries%5Cnquip%5Ctdiscussion%5Ctlabel%5Ctsubtopics%5Cn%22whether%20there%20is%20a%20job%20available%20here%22%5Ct%22'Say,%20are%20you%20hiring?'%20you%20ask,%20as%20casually%20as%20you%20can%20manage.%20%5BThe%20interlocutor%5D%20looks%20you%20over%20dubiously.%20'I%20might%20be%20hiring%20someone,%20but%20I%20can't%20say%20it%20would%20necessarily%20be%20you.'%22%5Ct0%5Ct--%5Cn%22what%20happened%20to%20that%20boy%20that%20worked%20here%22%5Ct%22'Tell%20me,%20didn't%20you%20used%20to%20have%20a%20young%20assistant%20working%20here?'%20She%20shrugs.%20'Young%20men%20these%20days%20are%20so%20unstable.%20He%20left--%20who%20knows%20where%20he's%20gone?%20I%20haven't%20seen%20hair%20or%20fingernail%20of%20him%20for%20weeks.'%22%5Ct0%5Ct--%5Cnwith%203%20blank%20rows.%5Cn%5CnTable%20of%20Pie%20Queries%5Cnquip%5Ctdiscussion%5Ctlabel%5Ctsubtopics%5Cn%22what%20pie%20fillings%20are%20available%22%5Ct%22'What%20pies%20do%20you%20have%20in%20today,%20Mrs%20Lovett?'%20you%20ask.%20She%20starts,%20then%20smiles.%20'Meat%20pies,%20of%20course.'%22%5Ct0%5CtTable%20of%20Pie%20Flavor%20Queries%5Cnwith%203%20blank%20rows.%5Cn%5CnTable%20of%20Pie%20Flavor%20Queries%5Cnquip%5Ctdiscussion%5Ctlabel%5Ctsubtopics%5Cn%22what%20kind%20of%20meat%22%5Ct%22'What%20kind%20of%20meat%20goes%20into%20these%20pies,%20Mrs%20Lovett?'%20you%20ask%20pressingly.%20She%20looks%20shifty.%20'Whatever%20the%20butcher%20brings%20this%20week,'%20she%20says.%20'With%20the%20price%20of%20meat%20what%20it%20is,%20when%20you%20get%20it,%20you%20have%20to%20be%20glad%20of%20what%20you%20can%20get.%20If%20you%20get%20it.'%22%5Ct0%5Ct--%5Cn%5CnTo%20copy%20(first%20table%20-%20a%20table%20name)%20to%20(second%20table%20-%20a%20table%20name):%5Cn%5Ctrepeat%20through%20first%20table:%5Cn%5Ct%5Ctlet%20copied%20quip%20be%20%22blank%22;%5Cn%5Ct%5Ctif%20there%20is%20a%20quip%20entry,%20now%20the%20copied%20quip%20is%20the%20quip%20entry;%5Cn%5Ct%5Ctlet%20copied%20discussion%20be%20%22blank%22;%5Cn%5Ct%5Ctif%20there%20is%20a%20discussion%20entry,%20now%20the%20copied%20discussion%20is%20the%20discussion%20entry;%5Cn%5Ct%5Ctlet%20copied%20subtopics%20be%20second%20table;%5Cn%5Ct%5Ctif%20there%20is%20a%20subtopics%20entry,%20now%20the%20copied%20subtopics%20are%20the%20subtopics%20entry;%5Cn%5Ct%5Ctchoose%20a%20blank%20row%20in%20the%20second%20table;%5Cn%5Ct%5Ctif%20copied%20quip%20is%20not%20%22blank%22,%20now%20quip%20entry%20is%20copied%20quip;%5Cn%5Ct%5Ctif%20copied%20discussion%20is%20not%20%22blank%22,%20now%20discussion%20entry%20is%20copied%20discussion;%5Cn%5Ct%5Ctif%20copied%20subtopics%20is%20not%20second%20table,%20now%20subtopics%20entry%20is%20copied%20subtopics.%5Cn%5CnCurrent%20conversation%20table%20is%20a%20table%20name%20that%20varies.%20Current%20conversation%20table%20is%20Table%20of%20Job%20Queries.%5Cn%5CnInterlocutor%20is%20a%20person%20that%20varies.%5Cn%5CnUnderstand%20%22ask%20%5Bsomeone%5D%20about%20%5Bany%20subject%5D%22%20as%20asking%20it%20about%20the%20subject.%5Cn%5CnAsking%20it%20about%20the%20subject%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20asking%20it%20about%20the%20subject:%5Cn%5Ctsay%20%22You%20can't%20think%20of%20anything%20to%20say.%22%5Cn%5CnInstead%20of%20asking%20someone%20about%20the%20subject%20a%20subject%20listed%20in%20the%20Table%20of%20Conversation%20Subjects:%5Cn%5Ctnow%20interlocutor%20is%20noun;%5Cn%5Ctnow%20current%20conversation%20table%20is%20the%20conversation%20of%20the%20second%20noun;%5Cn%5Ctif%20the%20number%20of%20filled%20rows%20in%20the%20current%20conversation%20table%20is%201:%5Cn%5Ct%5Ctrepeat%20through%20current%20conversation%20table:%5Cn%5Ct%5Ct%5Ctnow%20label%20entry%20is%201;%5Cn%5Ct%5Ctnow%20number%20understood%20is%201;%5Cn%5Ct%5Cttry%20selecting%201%20instead;%5Cn%5Ctif%20the%20number%20of%20filled%20rows%20in%20the%20current%20conversation%20table%20is%200:%5Cn%5Ct%5Ctsay%20%22You%20can%20think%20of%20nothing%20further%20to%20say%20on%20that%20topic.%22;%5Cn%5Ct%5Ctstop%20the%20action;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctlet%20index%20be%200;%5Cn%5Ct%5Ctlet%20total%20be%20the%20number%20of%20filled%20rows%20in%20the%20current%20conversation%20table;%5Cn%5Ct%5Ctsay%20%22Do%20you%20mean%20%22;%5Cn%5Ct%5Ctrepeat%20through%20current%20conversation%20table:%5Cn%5Ct%5Ct%5Ctnow%20index%20is%20index%20%20%201;%5Cn%5Ct%5Ct%5Ctnow%20label%20entry%20is%20index;%5Cn%5Ct%5Ct%5Ctsay%20%22(%5Bindex%5D)%20%5Bquip%20entry%5D%22;%5Cn%5Ct%5Ct%5Ctif%20index%20is%20total,%20say%20%22?%22;%5Cn%5Ct%5Ct%5Ctif%20index%20is%20total%20-%201,%20say%20%22,%20or%20%22;%5Cn%5Ct%5Ct%5Ctif%20index%20is%20less%20than%20total%20-%201,%20say%20%22,%20%22.%5Cn%5CnUnderstand%20%22%5Bnumber%5D%22%20as%20selecting.%5Cn%5CnSelecting%20is%20an%20action%20applying%20to%20one%20number.%5Cn%5CnCarry%20out%20selecting:%5Cn%5Ctsay%20%22No%20such%20option%20is%20available.%22%5Cn%5CnInstead%20of%20selecting%20a%20label%20listed%20in%20the%20current%20conversation%20table:%5Cn%5Ctsay%20%22%5Bdiscussion%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctif%20there%20is%20a%20subtopics%20entry:%5Cn%5Ct%5Ctcopy%20subtopics%20entry%20to%20current%20conversation%20table;%5Cn%5Ctchoose%20row%20with%20label%20of%20number%20understood%20in%20the%20current%20conversation%20table;%5Cn%5Ctblank%20out%20the%20whole%20row.%5Cn%5CnMrs%20Lovett's%20Meat%20Pies%20is%20a%20room.%20Mrs%20Lovett%20is%20a%20woman%20in%20Meat%20Pies.%5Cn%5CnTest%20me%20with%20%22ask%20lovett%20about%20pies%20/%20ask%20lovett%20about%20employment%20/%201%20/%202%20/%20ask%20lovett%20about%20pies%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Sweeney"
</p>
<p class="quoted">
A subject is a kind of thing. Some subjects are defined by the Table of Conversation Subjects.
</p>
<p class="quoted">
Table of Conversation Subjects
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">subject</p></td>
<td class="quotedtablecell"><p class="quoted">conversation</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">pies</p></td>
<td class="quotedtablecell"><p class="quoted">Table of Pie Queries</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">employment</p></td>
<td class="quotedtablecell"><p class="quoted">Table of Job Queries</p></td>
</tr>
</table>
<p class="quoted">
Understand "job" as employment. Understand "meat" or "food" as pies.
</p>
<p class="quoted">
Table of Job Queries
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">quip</p></td>
<td class="quotedtablecell"><p class="quoted">discussion</p></td>
<td class="quotedtablecell"><p class="quoted">label</p></td>
<td class="quotedtablecell"><p class="quoted">subtopics</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"whether there is a job available here"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Say, are you hiring?' you ask, as casually as you can manage. [The interlocutor] looks you over dubiously. 'I might be hiring someone, but I can't say it would necessarily be you.'"</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"what happened to that boy that worked here"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Tell me, didn't you used to have a young assistant working here?' She shrugs. 'Young men these days are so unstable. He left-- who knows where he's gone? I haven't seen hair or fingernail of him for weeks.'"</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr><td class="quotedtablecell"><p class="quoted">with 3 blank rows.</p></td></tr>
</table>
<p class="quoted">
Table of Pie Queries
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">quip</p></td>
<td class="quotedtablecell"><p class="quoted">discussion</p></td>
<td class="quotedtablecell"><p class="quoted">label</p></td>
<td class="quotedtablecell"><p class="quoted">subtopics</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"what pie fillings are available"</p></td>
<td class="quotedtablecell"><p class="quoted">"'What pies do you have in today, Mrs Lovett?' you ask. She starts, then smiles. 'Meat pies, of course.'"</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">Table of Pie Flavor Queries</p></td>
</tr>
<tr><td class="quotedtablecell"><p class="quoted">with 3 blank rows.</p></td></tr>
</table>
<p class="quoted">
Table of Pie Flavor Queries
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">quip</p></td>
<td class="quotedtablecell"><p class="quoted">discussion</p></td>
<td class="quotedtablecell"><p class="quoted">label</p></td>
<td class="quotedtablecell"><p class="quoted">subtopics</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"what kind of meat"</p></td>
<td class="quotedtablecell"><p class="quoted">"'What kind of meat goes into these pies, Mrs Lovett?' you ask pressingly. She looks shifty. 'Whatever the butcher brings this week,' she says. 'With the price of meat what it is, when you get it, you have to be glad of what you can get. If you get it.'"</p></td>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
</table>
<p class="quoted">
To copy (first table - a table name) to (second table - a table name):
<br>    repeat through first table:
<br>        let copied quip be "blank";
<br>        if there is a quip entry, now the copied quip is the quip entry;
<br>        let copied discussion be "blank";
<br>        if there is a discussion entry, now the copied discussion is the discussion entry;
<br>        let copied subtopics be second table;
<br>        if there is a subtopics entry, now the copied subtopics are the subtopics entry;
<br>        choose a blank row in the second table;
<br>        if copied quip is not "blank", now quip entry is copied quip;
<br>        if copied discussion is not "blank", now discussion entry is copied discussion;
<br>        if copied subtopics is not second table, now subtopics entry is copied subtopics.
</p>
<p class="quoted">
Current conversation table is a table name that varies. Current conversation table is Table of Job Queries.
</p>
<p class="quoted">
Interlocutor is a person that varies.
</p>
<p class="quoted">
Understand "ask [someone] about [any subject]" as asking it about the subject.
</p>
<p class="quoted">
Asking it about the subject is an action applying to two visible things.
</p>
<p class="quoted">
Carry out asking it about the subject:
<br>    say "You can't think of anything to say."
</p>
<p class="quoted">
Instead of asking someone about the subject a subject listed in the Table of Conversation Subjects:
<br>    now interlocutor is noun;
<br>    now current conversation table is the conversation of the second noun;
<br>    if the number of filled rows in the current conversation table is 1:
<br>        repeat through current conversation table:
<br>            now label entry is 1;
<br>        now number understood is 1;
<br>        try selecting 1 instead;
<br>    if the number of filled rows in the current conversation table is 0:
<br>        say "You can think of nothing further to say on that topic.";
<br>        stop the action;
<br>    otherwise:
<br>        let index be 0;
<br>        let total be the number of filled rows in the current conversation table;
<br>        say "Do you mean ";
<br>        repeat through current conversation table:
<br>            now index is index + 1;
<br>            now label entry is index;
<br>            say "([index]) [quip entry]";
<br>            if index is total, say "?";
<br>            if index is total - 1, say ", or ";
<br>            if index is less than total - 1, say ", ".
</p>
<p class="quoted">
Understand "[number]" as selecting.
</p>
<p class="quoted">
Selecting is an action applying to one number.
</p>
<p class="quoted">
Carry out selecting:
<br>    say "No such option is available."
</p>
<p class="quoted">
Instead of selecting a label listed in the current conversation table:
<br>    say "[discussion entry][paragraph break]";
<br>    if there is a subtopics entry:
<br>        copy subtopics entry to current conversation table;
<br>    choose row with label of number understood in the current conversation table;
<br>    blank out the whole row.
</p>
<p class="quoted">
Mrs Lovett's Meat Pies is a room. Mrs Lovett is a woman in Meat Pies.
</p>
<p class="quoted">
Test me with "ask lovett about pies / ask lovett about employment / 1 / 2 / ask lovett about pies".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.16">WI §16.16. Defining things with tables</a><br><a href="rb_7.html#rb-7.8">RB §7.8. Saying Complicated Things</a>
</div></details><details class="full-example" id="example-168"><summary><span class="example-summary">168. Cheese-makers</span> <span class="example-difficulty">★★★</span></summary><div>
<p>As we have seen, there are a number of different ways of controlling conversation in interactive fiction, and the best choice of way will depend quite a lot on what kind of work we're writing.</p>
<p>One common model is to replace Inform's default ASK and TELL commands with a TALK TO command. This gives the player less control than he would otherwise have: instead of asking a character about any topic under the sun, he's restricted to seeing (or not seeing) a single sequence of text that the author has written in advance. On the other hand, such a system is harder for the player to break (since he can never ask about a topic that the author hasn't implemented), and easier for the author to tie into plot developments. If we give TALK TO different output at each scene, we get conversation that is always tied to the current state of the plot.</p>
<p>This is a design approach that works best in a game with a large number of short, focused scenes. For other kinds of conversation system design, compare the other examples listed in the Recipe Book.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Cheese-makers%22%20by%20Phrynichus.%5Cn%5CnChapter%201%20-%20Replacing%20old%20talk%20commands%20and%20making%20a%20new%20one%5Cn%5Cn%5BHere,%20using%20some%20techniques%20that%20will%20be%20discussed%20in%20the%20chapter%20on%20Understanding,%20we%20get%20rid%20of%20Inform's%20default%20handling%20of%20ASK%20and%20TELL,%20and%20create%20our%20own%20TALK%20TO%20action%20instead:%5D%5Cn%5CnUnderstand%20the%20commands%20%22ask%22%20and%20%22tell%22%20and%20%22say%22%20and%20%22answer%22%20as%20something%20new.%5Cn%5CnUnderstand%20%22ask%20%5Btext%5D%22%20or%20%22tell%20%5Btext%5D%22%20or%20%22answer%20%5Btext%5D%22%20or%20%22say%20%5Btext%5D%22%20as%20a%20mistake%20(%22%5Btalk%20to%20instead%5D%22).%5Cn%5CnInstead%20of%20asking%20someone%20to%20try%20doing%20something:%5Cn%5Ctsay%20%22%5Btalk%20to%20instead%5D%5Bparagraph%20break%5D%22.%5Cn%5CnInstead%20of%20answering%20someone%20that%20something:%5Cn%5Ctsay%20%22%5Btalk%20to%20instead%5D%5Bparagraph%20break%5D%22.%5Cn%5CnTo%20say%20talk%20to%20instead:%5Cn%5Ctsay%20%22(To%20communicate%20in%20%5Bstory%20title%5D,%20TALK%20TO%20a%20character.)%20%22%5Cn%5CnUnderstand%20%22talk%20to%20%5Bsomeone%5D%22%20as%20talking%20to.%20Understand%20%22talk%20to%20%5Bsomething%5D%22%20as%20talking%20to.%20Talking%20to%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnChapter%202%20-%20Specific%20scenes%20and%20talking%5Cn%5Cn%5BNow,%20suppose%20we%20have%20a%20situation%20--%20say,%20a%20stage%20play%20--%20in%20which%20it%20is%20appropriate%20to%20talk%20to%20different%20characters%20at%20different%20times.%20During%20the%20prologue%20of%20the%20play,%20no%20one%20else%20is%20on-stage,%20and%20the%20player%20is%20to%20address%20the%20audience%20directly:%5D%5Cn%5CnSection%201%20-%20Prologue%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20right%20hand%20status%20line%20is%20%22416%20BC%22;%5Cn%5Ctnow%20left%20hand%20status%20line%20is%20%22%5Blocation%5D%22.%5Cn%5CnPrologue%20is%20a%20scene.%20Prologue%20begins%20when%20play%20begins.%5Cn%5CnThe%20Theater%20of%20Dionysus%20is%20a%20room.%5Cn%5CnThe%20audience%20is%20a%20person%20in%20the%20Theater.%20%22The%20usual%20audience%20looks%20on:%20the%20priests%20and%20judges%20in%20the%20front%20row,%20and%20then%20Athenians,%20metics,%20and%20foreigners.%22%20The%20audience%20can%20be%20prepared%20or%20unprepared.%20The%20description%20is%20%22Have%20you%20ever%20seen%20such%20a%20company%20of%20perjurers,%20pathics,%20and%20thieves?%22%20Understand%20%22priest%22%20or%20%22priests%22%20or%20%22priest%20of%20dionysus%22%20or%20%22judge%22%20or%20%22judges%22%20or%20%22athenians%22%20or%20%22metics%22%20or%20%22foreigners%22%20as%20the%20audience.%5Cn%5CnInstead%20of%20talking%20to%20the%20player%20when%20the%20Prologue%20is%20happening:%5Cn%5Ctsay%20%22There%20will%20be%20plenty%20of%20occasion%20for%20muttered%20asides%20later%20in%20the%20play,%20but%20for%20now%20you%20must%20prepare%20the%20audience%20for%20things%20to%20come.%22%5Cn%5CnInstead%20of%20talking%20to%20the%20audience%20when%20the%20Prologue%20is%20happening:%5Cn%5Ctsay%20%22Drawing%20breath,%20you%20turn%20to%20the%20audience,%20and%20offer%20them%20a%20genial,%20witty,%20colorful,%20and%20of%20course%20crude%20synopsis%20of%20what%20they%20are%20about%20to%20see;%20describing%20all%20the%20characters%20in%20unmistakable%20terms%20and%20not%20omitting%20the%20most%20important%20of%20them%20all,%20your%20august%20self.%22;%5Cn%5Ctnow%20the%20audience%20is%20prepared.%5Cn%5CnInstead%20of%20talking%20to%20the%20audience%20when%20the%20Prologue%20has%20happened:%5Cn%5Ctsay%20%22You%20may%20only%20direct%20monologues%20to%20the%20audience%20when%20the%20other%20actors%20are%20off-stage.%20Otherwise,%20their%20characters%20might%20have%20to%20notice.%22%5Cn%5CnPrologue%20ends%20when%20the%20audience%20is%20prepared.%5Cn%5Cn%5BBut%20there%20might%20follow%20a%20scene%20in%20which%20the%20player%20shouldn't%20talk%20at%20all:%5D%5Cn%5CnSection%202%20-%20Parodos%5Cn%5CnParodos%20is%20a%20scene.%20Parodos%20begins%20when%20Prologue%20ends.%5Cn%5CnWhen%20Parodos%20begins:%5Cn%5Ctmove%20the%20chorus%20to%20the%20theater.%5Cn%5CnInstead%20of%20talking%20to%20someone%20during%20Parodos:%5Cn%5Ctsay%20%22Sssh:%20this%20moment%20belongs%20to%20the%20chorus.%20They've%20worked%20so%20hard%20on%20it,%20after%20all.%22%5Cn%5CnParodos%20ends%20when%20the%20time%20since%20Parodos%20began%20is%204%20minutes.%5Cn%5CnThe%20chorus%20is%20a%20person.%20The%20description%20is%20%22They%20are%20dressed%20in%20exaggerated%20rural%20costume%20and%20feminine%20masks,%20as%20they%20are%20meant%20to%20represent%20a%20company%20of%20female%20cheese-makers%20from%20the%20Spartan-occupied%20deme%20of%20Dekeleia.%22%20Understand%20%22cheesewives%22%20or%20%22cheese-makers%22%20or%20%22chorus-leader%22%20as%20the%20chorus.%5Cn%5CnEvery%20turn%20during%20Parodos:%5Cn%5Ctrepeat%20through%20Table%20of%20Choral%20Events:%5Cn%5Ct%5Ctsay%20%22%5Boutput%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctmake%20no%20decision.%5Cn%5CnTable%20of%20Choral%20Events%5Cnoutput%5Cn%22The%20chorus%20now%20begins%20its%20entry,%20accompanying%20with%20anapestic%20song%20its%20march%20up%20the%20eisodos.%22%5Cn%22The%20chorus%20draws%20nearer,%20stomping%20and%20clomping%20and%20swinging%20their%20baskets%20of%20cheese.%22%5Cn%22You%20stand%20aside%20as%20the%20chorus%20fills%20the%20orchestra%20and%20dances%20to%20and%20fro.%22%5Cn%22The%20tune%20of%20the%20aulos-player%20grows%20more%20and%20more%20frenzied%20and%20then%20breaks%20off.%22%5Cn%5Cn%5BThis%20last%20rule%20is%20a%20refinement%20borrowing%20from%20the%20Activities%20chapter,%20which%20gives%20characters%20different%20appearances%20in%20room%20descriptions%20depending%20on%20when%20we%20happen%20to%20look;%20because%20of%20the%20action%20of%20the%20play,%20we%20want%20to%20show%20the%20chorus%20and%20audience%20doing%20different%20things%20during%20different%20scenes.%5D%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20the%20chorus%20during%20Parodos:%5Cn%5Ctsay%20%22The%20chorus%20are%20dancing%20and%20singing%20their%20way%5Bif%20the%20time%20since%20Parodos%20began%20is%20less%20than%203%20minutes%5D%20up%20the%20long%20walkways%20onto%20the%20stage%5Botherwise%5D%20into%20position%20in%20the%20orchestra%5Bend%20if%5D.%20%5BThe%20audience%5D%20appear%20to%20be%20pricing%20their%20costumes%20to%20the%20nearest%20obol:%20woe%20to%20the%20producer%20who%20cheats%20them%20of%20their%20due%20share%20of%20spectacle.%22%5Cn%5Cn%5BAnd%20now%20a%20scene%20in%20which%20the%20player%20can%20talk%20several%20times%20to%20a%20character%20(Heracles)%20but%20has%20no%20useful%20dialogue%20with%20the%20chorus,%20the%20audience,%20or%20himself.%20The%20prohibition%20from%20talking%20to%20the%20audience%20after%20the%20Prologue%20is%20already%20written,%20but%20we'll%20supply%20some%20appropriate%20responses%20for%20talking%20to%20the%20player%20or%20the%20chorus%20during%20this%20scene:%5D%5Cn%5CnSection%203%20-%20Episode%5Cn%5CnEpisode%20is%20a%20scene.%20Episode%20begins%20when%20Parodos%20ends.%5Cn%5CnWhen%20Episode%20begins:%5Cn%5Ctmove%20Heracles%20to%20the%20theater;%5Cn%5Ctsay%20%22The%20chorus%20falls%20silent,%20which%20is%20the%20cue:%20Heracles%20bursts%20out%20of%20the%20scene%20building.%22%5Cn%5CnHeracles%20is%20a%20man.%20The%20description%20is%20%22Hard%20to%20mistake%20in%20his%20lion%20skin%20and%20boots,%20and%20carrying%20a%20formidable%20club.%22%20Heracles%20wears%20a%20lion%20skin%20and%20boots.%20He%20carries%20a%20formidable%20club.%20Heracles%20can%20be%20placid%20or%20annoyed.%20Heracles%20is%20placid.%20Heracles%20can%20be%20satisfied,%20intrigued,%20or%20unsatisfied.%20Heracles%20is%20unsatisfied.%5Cn%5CnInstead%20of%20talking%20to%20the%20chorus%20during%20Episode:%5Cn%5Ctsay%20%22Your%20improvised%20flirtation%20with%20the%20chorus%20raises%20no%20response%20but%20a%20crude%20gesture%20from%20the%20chorus-leader,%20who%20seems%20to%20be%20modeling%20the%20role%20on%20Iambe.%22%5Cn%5CnInstead%20of%20talking%20to%20the%20player%20during%20Episode:%5Cn%5Ctif%20Heracles%20is%20annoyed:%5Cn%5Ct%5Ctsay%20%22You%20mutter%20to%20yourself%20about%20men%20with%20more%20appetite%20than%20brain.%20The%20actor%20playing%20Heracles%20ignores%20you,%20but%20it's%20good%20odds%20he's%20scowling%20under%20his%20mask.%20He%20hates%20it%20when%20anyone%20but%20himself%20ad-libs%20for%20attention.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctnow%20Heracles%20is%20annoyed;%5Cn%5Ct%5Ctsay%20%22'By%20the%20dog,%20he'll%20eat%20me%20if%20he%20gets%20a%20chance,'%20you%20mutter%20aside.%20%5Bparagraph%20break%5D'What's%20that%20you%20say,%20my%20ignoble%20friend?'%20demands%20Heracles,%20hefting%20his%20club.%20He's%20not%20entirely%20joking:%20you've%20left%20the%20script%20just%20now.%22%5Cn%5CnInstead%20of%20talking%20to%20Heracles%20when%20Heracles%20is%20unsatisfied%20during%20Episode:%5Cn%5Ctsay%20%22'Dear%20Heracles,%20friendly%20Heracles,'%20you%20begin,%20cringing%20out%20of%20the%20way%20as%20he%20responds%20with%20one%20of%20his%20affectionate%20ox-killing%20punches%20to%20the%20shoulder.%20%5Bparagraph%20break%5DBut%20Heracles%20falls%20still,%20and%20looks%20almost%20thoughtful,%20as%20tell%20him%20you%20know%20how%20he%20may%20rout%20the%20Spartans,%20woo%20all%20twenty-four%20lactic%20ladies,%20and%20tame%20his%20savage%20gut%20with%20a%20bathtubful%20of%20porridge.%20%5Bparagraph%20break%5D'Speak%20on,%20little%20man,'%20he%20says.%22;%5Cn%5Ctnow%20Heracles%20is%20intrigued.%5Cn%5CnInstead%20of%20talking%20to%20Heracles%20when%20Heracles%20is%20intrigued%20during%20Episode:%5Cn%5Ctsay%20%22It%20takes%20several%20exchanges%20for%20him%20to%20wrap%20his%20one-inch%20brain%20around%20your%20ten-inch%20plan;%20but%20in%20the%20end%20he%20embraces%20the%20scheme,%20the%20women,%20and%20your%20humble%20self.%22;%5Cn%5Ctnow%20Heracles%20is%20satisfied.%5Cn%5CnEvery%20turn%20when%20not%20talking%20to%20someone%20during%20Episode:%5Cn%5Ctrepeat%20through%20Table%20of%20Episodic%20Events:%5Cn%5Ct%5Ctsay%20%22%5Boutput%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctmake%20no%20decision.%5Cn%5CnTable%20of%20Episodic%20Events%5Cnoutput%5Cn%22With%20a%20fart%20and%20a%20roar,%20Heracles%20asks%20the%20world%20at%20large,%20and%20you%20in%20particular,%20where%20his%20dinner%20might%20be.%22%5Cn%22In%20epic%20diction,%20Heracles%20invites%20the%20dairy-mistresses,%20whey-matrons,%20and%20concubines%20of%20curd%20to%20supply%20him%20a%20supper%20from%20their%20ample%20baskets.%22%5Cn%22Heracles%20and%20the%20chorus%20banter%20about%20the%20proclivities%20of%20cheese-wives.%20The%20chorus%20suggest%20that%20Heracles,%20as%20a%20son%20of%20Zeus,%20must%20know%20something%20about%20the%20appetites%20of%20which%20they%20speak.%22%5Cn%22Heracles%20boasts%20that%20a%20man%20like%20himself%20can%20perform%20any%20feat,%20but%20only%20when%20his%20belly%20is%20full.%20Coyly,%20the%20matrons%20prance%20and%20dance,%20skip%20and%20gambol%20out%20of%20his%20grasp,%20singing%20mockingly%20about%20heads%20of%20garlic%20and%20loaves%20of%20sesame-crusted%20bread.%22%5Cn%22The%20song%20of%20the%20feta%20fanciers%20now%20turns%20to%20pots%20of%20honey%20and%20new-made%20wine,%20borrowing%20verses%20from%20last%20year's%20Lenaia%20winner,%20'The%20Bees'.%20With%20a%20jolt,%20you%20realize%20that%20you've%20missed%20your%20cue%20and%20the%20chorus%20are%20filling%20in%20for%20you.%22%5Cn%22Playing%20for%20time,%20the%20chorus-leader%20elaborates%20a%20whole%20banquet:%20rabbit%20stew,%20shanks%20of%20lamb,%20spitted%20quails,%20eels%20from%20lake%20Copais.%20Heracles%20looks%20as%20near%20swooning%20as%20any%20girl%20fresh%20from%20Brauron.%22%5Cn%22The%20chorus-leader%20extends%20the%20list%20of%20delicacies%20to%20include%20ox-brains,%20ham-hocks,%20barley,%20mullet,%20carrots,%20pigeons,%20lentils,%20radishes,%20peas,%20and%20apples%20both%20wine-dark%20and%20golden.%20The%20audience%20shifts%20on%20the%20benches.%20An%20expression%20of%20gloom%20settles%20over%20the%20Priest%20of%20Dionysus%20in%20the%20front%20row.%22%5Cn%22Inspired%20by%20Euripides%5B'%5D%20own%20Muse,%20the%20chorus-leader%20invents%20a%20mock-Alcaean%20hymn%20on%20the%20merits%20of%20chervil.%20This%20is%20clearly%20his%20swan-song:%20if%20you%20don't%20speak%20at%20last,%20the%20play%20will%20come%20to%20a%20halt.%22%5Cn%22Silence%20descends.%22%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20Heracles%20during%20Episode:%5Cn%5Ctsay%20%22%5BHeracles%5D%20stands%20at%20the%20center%20of%20the%20orchestra,%20with%20members%20of%20%5Bthe%20chorus%5D%20ranged%20on%20either%20side.%20%5Bparagraph%20break%5D%5BThe%20audience%5D%20appear%20to%20be%20reserving%20their%20judgement,%20though%20they%20show%20signs%20of%20restiveness%20at%20the%20usual%20jokes:%20must%20there%20be%20a%20Heracles%20in%20%5Bitalic%20type%5Devery%5Broman%20type%5D%20play?%22%5Cn%5CnEpisode%20ends%20successfully%20when%20Heracles%20is%20satisfied.%5Cn%5CnWhen%20Episode%20ends%20successfully:%5Cn%5Ctsay%20%22That,%20of%20course,%20is%20your%20cue:%20you're%20to%20come%20back%20on%20as%20Pan%20thirty%20verses%20from%20now,%20and%20it%20takes%20time%20to%20put%20on%20the%20hooves%20and%20the%20woolly-legged%20trousers.%22;%5Cn%5Ctend%20the%20story%20saying%20%22You%20exit%22.%5Cn%5CnEpisode%20ends%20disastrously%20when%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Episodic%20Events%20is%200.%5Cn%5CnWhen%20Episode%20ends%20disastrously:%5Cn%5Ctend%20the%20story%20saying%20%22The%20production%20has%20crashed%20to%20a%20halt%22.%5Cn%5CnTest%20me%20with%20%22ask%20audience%20about%20me%20/%20tell%20audience%20about%20me%20/%20audience,%20hello%20/%20audience,%20jump%20/%20talk%20to%20me%20/%20talk%20to%20audience%20/%20g%20/%20talk%20to%20chorus%20/%20look%20/%20x%20heracles%20/%20talk%20to%20me%20/%20talk%20to%20audience%20/%20z%20/%20look%20/%20talk%20to%20heracles%20/%20g%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Cheese-makers" by Phrynichus.
</p>
<p class="quoted">
Chapter 1 - Replacing old talk commands and making a new one
</p>
</div>
<p>Here, using some techniques that will be discussed in the chapter on Understanding, we get rid of Inform's default handling of ASK and TELL, and create our own TALK TO action instead:</p>

<div class="code">
<p class="quoted">
Understand the commands "ask" and "tell" and "say" and "answer" as something new.
</p>
<p class="quoted">
Understand "ask [text]" or "tell [text]" or "answer [text]" or "say [text]" as a mistake ("[talk to instead]").
</p>
<p class="quoted">
Instead of asking someone to try doing something:
<br>    say "[talk to instead][paragraph break]".
</p>
<p class="quoted">
Instead of answering someone that something:
<br>    say "[talk to instead][paragraph break]".
</p>
<p class="quoted">
To say talk to instead:
<br>    say "(To communicate in [story title], TALK TO a character.) "
</p>
<p class="quoted">
Understand "talk to [someone]" as talking to. Understand "talk to [something]" as talking to. Talking to is an action applying to one visible thing.
</p>
<p class="quoted">
Chapter 2 - Specific scenes and talking
</p>
</div>
<p>Now, suppose we have a situation -- say, a stage play -- in which it is appropriate to talk to different characters at different times. During the prologue of the play, no one else is on-stage, and the player is to address the audience directly:</p>

<div class="code">
<p class="quoted">
Section 1 - Prologue
</p>
<p class="quoted">
When play begins:
<br>    now right hand status line is "416 BC";
<br>    now left hand status line is "[location]".
</p>
<p class="quoted">
Prologue is a scene. Prologue begins when play begins.
</p>
<p class="quoted">
The Theater of Dionysus is a room.
</p>
<p class="quoted">
The audience is a person in the Theater. "The usual audience looks on: the priests and judges in the front row, and then Athenians, metics, and foreigners." The audience can be prepared or unprepared. The description is "Have you ever seen such a company of perjurers, pathics, and thieves?" Understand "priest" or "priests" or "priest of dionysus" or "judge" or "judges" or "athenians" or "metics" or "foreigners" as the audience.
</p>
<p class="quoted">
Instead of talking to the player when the Prologue is happening:
<br>    say "There will be plenty of occasion for muttered asides later in the play, but for now you must prepare the audience for things to come."
</p>
<p class="quoted">
Instead of talking to the audience when the Prologue is happening:
<br>    say "Drawing breath, you turn to the audience, and offer them a genial, witty, colorful, and of course crude synopsis of what they are about to see; describing all the characters in unmistakable terms and not omitting the most important of them all, your august self.";
<br>    now the audience is prepared.
</p>
<p class="quoted">
Instead of talking to the audience when the Prologue has happened:
<br>    say "You may only direct monologues to the audience when the other actors are off-stage. Otherwise, their characters might have to notice."
</p>
<p class="quoted">
Prologue ends when the audience is prepared.
</p>
</div>
<p>But there might follow a scene in which the player shouldn't talk at all:</p>

<div class="code">
<p class="quoted">
Section 2 - Parodos
</p>
<p class="quoted">
Parodos is a scene. Parodos begins when Prologue ends.
</p>
<p class="quoted">
When Parodos begins:
<br>    move the chorus to the theater.
</p>
<p class="quoted">
Instead of talking to someone during Parodos:
<br>    say "Sssh: this moment belongs to the chorus. They've worked so hard on it, after all."
</p>
<p class="quoted">
Parodos ends when the time since Parodos began is 4 minutes.
</p>
<p class="quoted">
The chorus is a person. The description is "They are dressed in exaggerated rural costume and feminine masks, as they are meant to represent a company of female cheese-makers from the Spartan-occupied deme of Dekeleia." Understand "cheesewives" or "cheese-makers" or "chorus-leader" as the chorus.
</p>
<p class="quoted">
Every turn during Parodos:
<br>    repeat through Table of Choral Events:
<br>        say "[output entry][paragraph break]";
<br>        blank out the whole row;
<br>        make no decision.
</p>
<p class="quoted">
Table of Choral Events
<br>output
<br>"The chorus now begins its entry, accompanying with anapestic song its march up the eisodos."
<br>"The chorus draws nearer, stomping and clomping and swinging their baskets of cheese."
<br>"You stand aside as the chorus fills the orchestra and dances to and fro."
<br>"The tune of the aulos-player grows more and more frenzied and then breaks off."
</p>
</div>
<p>This last rule is a refinement borrowing from the Activities chapter, which gives characters different appearances in room descriptions depending on when we happen to look; because of the action of the play, we want to show the chorus and audience doing different things during different scenes.</p>

<div class="code"><p class="quoted">
Rule for writing a paragraph about the chorus during Parodos:
<br>    say "The chorus are dancing and singing their way[if the time since Parodos began is less than 3 minutes] up the long walkways onto the stage[otherwise] into position in the orchestra[end if]. [The audience] appear to be pricing their costumes to the nearest obol: woe to the producer who cheats them of their due share of spectacle."
</p></div>
<p>And now a scene in which the player can talk several times to a character (Heracles) but has no useful dialogue with the chorus, the audience, or himself. The prohibition from talking to the audience after the Prologue is already written, but we'll supply some appropriate responses for talking to the player or the chorus during this scene:</p>

<div class="code">
<p class="quoted">
Section 3 - Episode
</p>
<p class="quoted">
Episode is a scene. Episode begins when Parodos ends.
</p>
<p class="quoted">
When Episode begins:
<br>    move Heracles to the theater;
<br>    say "The chorus falls silent, which is the cue: Heracles bursts out of the scene building."
</p>
<p class="quoted">
Heracles is a man. The description is "Hard to mistake in his lion skin and boots, and carrying a formidable club." Heracles wears a lion skin and boots. He carries a formidable club. Heracles can be placid or annoyed. Heracles is placid. Heracles can be satisfied, intrigued, or unsatisfied. Heracles is unsatisfied.
</p>
<p class="quoted">
Instead of talking to the chorus during Episode:
<br>    say "Your improvised flirtation with the chorus raises no response but a crude gesture from the chorus-leader, who seems to be modeling the role on Iambe."
</p>
<p class="quoted">
Instead of talking to the player during Episode:
<br>    if Heracles is annoyed:
<br>        say "You mutter to yourself about men with more appetite than brain. The actor playing Heracles ignores you, but it's good odds he's scowling under his mask. He hates it when anyone but himself ad-libs for attention.";
<br>    otherwise:
<br>        now Heracles is annoyed;
<br>        say "'By the dog, he'll eat me if he gets a chance,' you mutter aside. [paragraph break]'What's that you say, my ignoble friend?' demands Heracles, hefting his club. He's not entirely joking: you've left the script just now."
</p>
<p class="quoted">
Instead of talking to Heracles when Heracles is unsatisfied during Episode:
<br>    say "'Dear Heracles, friendly Heracles,' you begin, cringing out of the way as he responds with one of his affectionate ox-killing punches to the shoulder. [paragraph break]But Heracles falls still, and looks almost thoughtful, as tell him you know how he may rout the Spartans, woo all twenty-four lactic ladies, and tame his savage gut with a bathtubful of porridge. [paragraph break]'Speak on, little man,' he says.";
<br>    now Heracles is intrigued.
</p>
<p class="quoted">
Instead of talking to Heracles when Heracles is intrigued during Episode:
<br>    say "It takes several exchanges for him to wrap his one-inch brain around your ten-inch plan; but in the end he embraces the scheme, the women, and your humble self.";
<br>    now Heracles is satisfied.
</p>
<p class="quoted">
Every turn when not talking to someone during Episode:
<br>    repeat through Table of Episodic Events:
<br>        say "[output entry][paragraph break]";
<br>        blank out the whole row;
<br>        make no decision.
</p>
<p class="quoted">
Table of Episodic Events
<br>output
<br>"With a fart and a roar, Heracles asks the world at large, and you in particular, where his dinner might be."
<br>"In epic diction, Heracles invites the dairy-mistresses, whey-matrons, and concubines of curd to supply him a supper from their ample baskets."
<br>"Heracles and the chorus banter about the proclivities of cheese-wives. The chorus suggest that Heracles, as a son of Zeus, must know something about the appetites of which they speak."
<br>"Heracles boasts that a man like himself can perform any feat, but only when his belly is full. Coyly, the matrons prance and dance, skip and gambol out of his grasp, singing mockingly about heads of garlic and loaves of sesame-crusted bread."
<br>"The song of the feta fanciers now turns to pots of honey and new-made wine, borrowing verses from last year's Lenaia winner, 'The Bees'. With a jolt, you realize that you've missed your cue and the chorus are filling in for you."
<br>"Playing for time, the chorus-leader elaborates a whole banquet: rabbit stew, shanks of lamb, spitted quails, eels from lake Copais. Heracles looks as near swooning as any girl fresh from Brauron."
<br>"The chorus-leader extends the list of delicacies to include ox-brains, ham-hocks, barley, mullet, carrots, pigeons, lentils, radishes, peas, and apples both wine-dark and golden. The audience shifts on the benches. An expression of gloom settles over the Priest of Dionysus in the front row."
<br>"Inspired by Euripides['] own Muse, the chorus-leader invents a mock-Alcaean hymn on the merits of chervil. This is clearly his swan-song: if you don't speak at last, the play will come to a halt."
<br>"Silence descends."
</p>
<p class="quoted">
Rule for writing a paragraph about Heracles during Episode:
<br>    say "[Heracles] stands at the center of the orchestra, with members of [the chorus] ranged on either side. [paragraph break][The audience] appear to be reserving their judgement, though they show signs of restiveness at the usual jokes: must there be a Heracles in [italic type]every[roman type] play?"
</p>
<p class="quoted">
Episode ends successfully when Heracles is satisfied.
</p>
<p class="quoted">
When Episode ends successfully:
<br>    say "That, of course, is your cue: you're to come back on as Pan thirty verses from now, and it takes time to put on the hooves and the woolly-legged trousers.";
<br>    end the story saying "You exit".
</p>
<p class="quoted">
Episode ends disastrously when the number of filled rows in the Table of Episodic Events is 0.
</p>
<p class="quoted">
When Episode ends disastrously:
<br>    end the story saying "The production has crashed to a halt".
</p>
<p class="quoted">
Test me with "ask audience about me / tell audience about me / audience, hello / audience, jump / talk to me / talk to audience / g / talk to chorus / look / x heracles / talk to me / talk to audience / z / look / talk to heracles / g".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_10.html#wi-10.9">WI §10.9. Why are scenes designed this way?</a><br><a href="rb_7.html#rb-7.8">RB §7.8. Saying Complicated Things</a>
</div></details><details class="full-example" id="example-376"><summary><span class="example-summary">376. Complimentary Peanuts</span> <span class="example-difficulty">★★★</span></summary><div>
<p>The "reading a command" activity is not the only point at which we can interact with snippets, as it happens; it is merely the most useful. "The player's command" can be consulted at other points, however, as in this example of your somewhat deaf (or distracted, or simply cussed) Aunt:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Complimentary%20Peanuts%22%5Cn%5CnInstead%20of%20asking%20Aunt%20Martha%20to%20try%20doing%20something:%5Cn%5Ctrepeat%20through%20Table%20of%20Aunt%20Martha's%20Commentary:%5Cn%5Ct%5Ctif%20player's%20command%20includes%20topic%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bcommentary%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22'Hmmf,'%20says%20Aunt%20Martha.%22%5Cn%5Cn%5BThe%20topic%20understood%20is%20also%20a%20snippet,%20so%20that%20whenever%20one%20has%20been%20generated,%20we%20can%20treat%20it%20in%20the%20same%20way%20as%20%22the%20player's%20command%22:%5D%5Cn%5CnAsking%20someone%20about%20something%20is%20speech.%5CnTelling%20someone%20about%20something%20is%20speech.%5CnAnswering%20someone%20that%20something%20is%20speech.%5CnAsking%20someone%20for%20something%20is%20speech.%5Cn%5CnInstead%20of%20speech%20when%20the%20noun%20is%20Aunt%20Martha:%5Cn%5Ctrepeat%20through%20Table%20of%20Aunt%20Martha's%20commentary:%5Cn%5Ct%5Ctif%20the%20topic%20understood%20includes%20topic%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bcommentary%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22'Hmmf,'%20says%20Aunt%20Martha.%22%5Cn%5Cn%5BThis%20is%20superior%20to%20checking%20%22the%20player's%20command%22%20because%20we%20do%20not%20want%20ASK%20MARTHA%20ABOUT%20FRENCH%20FRIES%20to%20trigger%20the%20%22Martha%22%20keyword,%20only%20the%20%22french%20fries%22%20keywords.%5D%5Cn%5CnThe%20Empyrean%20Shuttle%20Bay%20is%20a%20room.%20%22From%20here%20you%20have%20an%20excellent%20view%20of%20the%20colony%20world,%20which%20looks...%20well,%20it%20looks%20discouragingly%20orange.%20But%20terraforming%20is%20in%20progress.%22%5Cn%5CnAunt%20Martha%20is%20a%20woman%20in%20the%20Empyrean%20Shuttle%20Bay.%20A%20gleaming%20shuttle%20and%20a%20stack%20of%20rations%20are%20in%20the%20Shuttle%20Bay.%20The%20shuttle%20is%20a%20vehicle.%20%22Your%20shuttle%20awaits.%22%5Cn%5CnTable%20of%20Aunt%20Martha's%20Commentary%5Cntopic%5Ctcommentary%5Cn%22shuttle%22%5Ct%22'Shuttles!%20I%20hate%20shuttles,'%20Aunt%20Martha%20grumbles.%20'Give%20me%20an%20airplane!%20AIRPLANE.'%22%5Cn%22airplane/airport%22%5Ct%22'Those%20were%20the%20days,'%20Aunt%20Martha%20agrees,%20plainly%20reliving%20the%20days%20when%20she%20wore%20a%20blue-and-white%20uniform%20and%20passed%20out%20packets%20of%20salted%20pretzels.%22%5Cn%22rations%22%5Ct%22'Do%20you%20think%20there%20are%20any%20peanuts%20in%20there?'%20she%20asks%20in%20a%20wistful%20tone.%22%5Cn%5CnTest%20me%20with%20%22martha,%20get%20in%20the%20shuttle%20/%20martha,%20for%20pity's%20sake,%20do%20you%20see%20an%20airplane%20around%20here?%20/%20martha,%20pass%20me%20the%20rations%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Complimentary Peanuts"
</p>
<p class="quoted">
Instead of asking Aunt Martha to try doing something:
<br>    repeat through Table of Aunt Martha's Commentary:
<br>        if player's command includes topic entry:
<br>            say "[commentary entry][paragraph break]";
<br>            rule succeeds;
<br>    say "'Hmmf,' says Aunt Martha."
</p>
</div>
<p>The topic understood is also a snippet, so that whenever one has been generated, we can treat it in the same way as "the player's command":</p>

<div class="code">
<p class="quoted">
Asking someone about something is speech.
<br>Telling someone about something is speech.
<br>Answering someone that something is speech.
<br>Asking someone for something is speech.
</p>
<p class="quoted">
Instead of speech when the noun is Aunt Martha:
<br>    repeat through Table of Aunt Martha's commentary:
<br>        if the topic understood includes topic entry:
<br>            say "[commentary entry][paragraph break]";
<br>            rule succeeds;
<br>    say "'Hmmf,' says Aunt Martha."
</p>
</div>
<p>This is superior to checking "the player's command" because we do not want ASK MARTHA ABOUT FRENCH FRIES to trigger the "Martha" keyword, only the "french fries" keywords.</p>

<div class="code">
<p class="quoted">
The Empyrean Shuttle Bay is a room. "From here you have an excellent view of the colony world, which looks... well, it looks discouragingly orange. But terraforming is in progress."
</p>
<p class="quoted">
Aunt Martha is a woman in the Empyrean Shuttle Bay. A gleaming shuttle and a stack of rations are in the Shuttle Bay. The shuttle is a vehicle. "Your shuttle awaits."
</p>
<p class="quoted">
Table of Aunt Martha's Commentary
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">commentary</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"shuttle"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Shuttles! I hate shuttles,' Aunt Martha grumbles. 'Give me an airplane! AIRPLANE.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"airplane/airport"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Those were the days,' Aunt Martha agrees, plainly reliving the days when she wore a blue-and-white uniform and passed out packets of salted pretzels."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"rations"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Do you think there are any peanuts in there?' she asks in a wistful tone."</p></td>
</tr>
</table>
<p class="quoted">
Test me with "martha, get in the shuttle / martha, for pity's sake, do you see an airplane around here? / martha, pass me the rations".
</p>
</div>
<p>This means that Martha will respond to keywords regardless of the setting in which they occur. For instance:</p>

<div class="code">
<p class="quoted">
&gt;martha, get in the shuttle
<br>"Shuttles! I hate shuttles," Aunt Martha grumbles. "Give me an airplane! AIRPLANE."
</p>
<p class="quoted">
&gt;martha, for pity's sake, do you see an airplane around here?
<br>"Those were the days," Aunt Martha agrees, plainly reliving the days when she wore a blue-and-white uniform and passed out packets of salted peanuts.
</p>
<p class="quoted">
&gt;martha, pass me the rations
<br>"Do you think there are any peanuts in there?" she asks in a wistful tone.
</p>
</div>
<p>This is not the stuff of which Loebner-winning chatbots are made, admittedly, but it is occasionally a useful alternative to stricter modes of command-parsing.</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.33">WI §18.33. Reading a command</a><br><a href="rb_7.html#rb-7.8">RB §7.8. Saying Complicated Things</a>
</div></details>
</div></section>
<section class="section" id="rb-7.9"><div>





<h3>RB §7.9. The Flow of Conversation</h3>
<p>All this discussion of conversation commands and ways to model dialogue doesn't address the higher-level design issue: how do we approach writing this material so that it has a rhythm and flow? How do we know when we've created enough conversation? How can we avoid sounding hopelessly stilted when the nature of IF implementation requires us to break our text into small snippets?</p>
<p>While most authors develop their own approaches, there is some general advice that may help, especially for works that have a strong narrative progression.</p>
<p>It helps to have the plot of the story, with all its component scenes, planned in advance. That doesn't mean there can't be any changes later, but having a list of the different scenes can help us remember the different contexts in which information can appear. If we're using Inform's scenes feature, we may even want to restrict some dialogue to be available only during a given scene.</p>
<p>The next step is to go through scene by scene and create the "spine" of the scene. What <em>must</em> be said during this section? Is there anything the player can't leave without knowing? If the player isn't moving the scene forward fast enough, will the other character or characters volunteer information in order to keep the pace going?</p>
<p>It often helps to draft a transcript showing what we imagine as the ideal playthrough of the scene - writing straight through can create a natural flow of dialogue - before dividing the dialogue into pieces for implementation.</p>
<p>Once the scene is complete enough for the player to get through from beginning to end, we can start filling it out. At this point, it sometimes helps to play through the scene a number of times and add new dialogue elements as we think of things that our character might reasonably want to say. Sometimes these additions will turn out to be short tangents from the main flow of a very directed scene; sometimes they might be important branches that lead the scene to an entirely alternate outcome. The main thing is to make sure that, if the scene needs to hit certain points before ending, none of our branches keep the player from returning to the subject at hand.</p>


</div></section>
<section class="section" id="rb-7.10"><div>





<h3>RB §7.10. Character Emotion</h3>
<p>In a complex story, characters may evolve strong feelings about the player. Often we want to hint at the character's feelings through gesture and tone of voice - little things woven into dialogue and action sequences that might otherwise be unchanged. <a href="rb_7.html#example-170" class="example-link" onClick="(function() { document.getElementById('example-170').setAttribute('open','open'); return true; })();">Ferragamo Again</a><span class="example-difficulty"> ★★</span> demonstrates creating phrases to give all our characters different ways to express their irritation at the player.</p>
<p>Then again, sometimes a discussion might produce quite spectacular results if a character is in the wrong mood. <a href="rb_7.html#example-405" class="example-link" onClick="(function() { document.getElementById('example-405').setAttribute('open','open'); return true; })();">Being Peter</a><span class="example-difficulty"> ★</span> shows the bare bones of an implementation in which a character's attitude rulebook is consulted to determine what her response will be - allowing for arbitrarily complicated outcomes.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-405"><summary><span class="example-summary">405. Being Peter</span> <span class="example-difficulty">★</span></summary><div>
<p>Let's say that we're implementing a particularly irrational and volatile character. Some of the time she remains composed; some of the time she reacts with unexpected vehemence for reasons only partly related to what was said.</p>
<p>Moreover, her responses are divided between successful and failing outcomes, where success indicates that she's not too upset and failure means that she is distraught; we use this to determine how the rest of the room reacts.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Being%20Peter%22%5Cn%5CnThe%20Drawing%20Room%20is%20a%20room.%20%22The%20company%20is%20assembled%20here%20for%20champagne.%20Most%20of%20it,%20anyway:%20Mary%20is%20on%20the%20phone%20to%20her%20babysitter,%20Roger%20is%20keeping%20her%20anxious%20company,%20and%20Carol%20doesn't%20drink.%20But%20everyone%20else.%22%5Cn%5CnMaggie%20is%20a%20woman%20in%20the%20Drawing%20Room.%5Cn%5CnThe%20player%20wears%20a%20top%20hat.%5Cn%5CnQuizzing%20it%20about%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20visible%20thing.%20Understand%20%22ask%20%5Bsomeone%5D%20about%20%5Bany%20thing%5D%22%20as%20quizzing%20it%20about.%5Cn%5CnInstead%20of%20quizzing%20Maggie%20about%20something:%5Cn%5Ctfollow%20the%20attitude%20rules;%5Cn%5Ctsay%20%22Everyone%20waits%20to%20see%20what%20the%20reaction%20will%20be:%20%5Boutcome%20of%20the%20rulebook%5D.%22;%5Cn%5Ctif%20rule%20succeeded,%20say%20%22There%20is%20general%20relief.%22;%5Cn%5Ctotherwise%20say%20%22Everyone%20is%20pointedly%20silent.%22%5Cn%5CnThe%20attitude%20rules%20are%20a%20rulebook.%20The%20attitude%20rules%20have%20outcomes%20she%20stays%20calm%20(no%20outcome%20-%20default),%20she%20gets%20angry%20(failure),%20she%20has%20a%20stroke%20(failure),%20she%20is%20only%20mildly%20annoyed%20(success),%20and%20she%20is%20elated%20(success).%5Cn%5Cn%5BHere%20we%20want%20Inform%20to%20consult%20every%20appropriate%20attitude%20rule%20until%20it%20gets%20to%20some%20answer;%20if%20an%20attitude%20rule%20does%20not%20provide%20a%20result,%20the%20default%20'no%20outcome'%20will%20mean%20that%20we%20go%20on%20to%20the%20next%20rule,%20and%20so%20on.%5D%5Cn%5CnA%20subject%20is%20a%20kind%20of%20thing.%20income,%20love%20life,%20and%20children%20are%20subjects.%5Cn%5CnAn%20attitude%20rule%20for%20quizzing%20Maggie%20about%20love%20life:%5Cn%5Ctshe%20gets%20angry.%5Cn%5CnAn%20attitude%20rule:%5Cn%5Ctif%20the%20player%20wears%20the%20top%20hat,%20she%20gets%20angry.%5Cn%5Cn%5BNow,%20as%20we%20saw,%20the%20'no%20outcome'%20result%20will%20never%20be%20returned%20and%20printed%20as%20Maggie's%20reaction,%20precisely%20because%20it%20is%20%22no%20outcome%22.%20Therefore,%20we%20provide%20a%20final%20attitude%20rule%20which%20will%20give%20her%20a%20default%20response%20to%20all%20statements:%5D%5Cn%5CnThe%20last%20attitude%20rule:%5Cn%5Ctshe%20is%20only%20mildly%20annoyed.%5Cn%5CnTest%20me%20with%20%22ask%20maggie%20about%20love%20/%20ask%20maggie%20about%20income%20/%20take%20off%20hat%20/%20ask%20maggie%20about%20income%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Being Peter"
</p>
<p class="quoted">
The Drawing Room is a room. "The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn't drink. But everyone else."
</p>
<p class="quoted">
Maggie is a woman in the Drawing Room.
</p>
<p class="quoted">
The player wears a top hat.
</p>
<p class="quoted">
Quizzing it about is an action applying to one thing and one visible thing. Understand "ask [someone] about [any thing]" as quizzing it about.
</p>
<p class="quoted">
Instead of quizzing Maggie about something:
<br>    follow the attitude rules;
<br>    say "Everyone waits to see what the reaction will be: [outcome of the rulebook].";
<br>    if rule succeeded, say "There is general relief.";
<br>    otherwise say "Everyone is pointedly silent."
</p>
<p class="quoted">
The attitude rules are a rulebook. The attitude rules have outcomes she stays calm (no outcome - default), she gets angry (failure), she has a stroke (failure), she is only mildly annoyed (success), and she is elated (success).
</p>
</div>
<p>Here we want Inform to consult every appropriate attitude rule until it gets to some answer; if an attitude rule does not provide a result, the default 'no outcome' will mean that we go on to the next rule, and so on.</p>

<div class="code">
<p class="quoted">
A subject is a kind of thing. income, love life, and children are subjects.
</p>
<p class="quoted">
An attitude rule for quizzing Maggie about love life:
<br>    she gets angry.
</p>
<p class="quoted">
An attitude rule:
<br>    if the player wears the top hat, she gets angry.
</p>
</div>
<p>Now, as we saw, the 'no outcome' result will never be returned and printed as Maggie's reaction, precisely because it is "no outcome". Therefore, we provide a final attitude rule which will give her a default response to all statements:</p>

<div class="code">
<p class="quoted">
The last attitude rule:
<br>    she is only mildly annoyed.
</p>
<p class="quoted">
Test me with "ask maggie about love / ask maggie about income / take off hat / ask maggie about income".
</p>
</div>
<p>There are plenty of contexts where we might want named outcomes for clarity but not want to print the results literally afterward.</p>
</div>
<div class="linkback">
<a href="wi_19.html#wi-19.12">WI §19.12. Named outcomes</a><br><a href="rb_7.html#rb-7.10">RB §7.10. Character Emotion</a>
</div></details><details class="full-example" id="example-170"><summary><span class="example-summary">170. Ferragamo Again</span> <span class="example-difficulty">★★</span></summary><div>
<p>Here we use phrases that match individual items where possible, and the general kind otherwise:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Ferragamo%20Again%22%5Cn%5CnThe%20Break%20Room%20is%20a%20room.%20Vanessa,%20Tina,%20and%20Lisa%20are%20women%20in%20the%20Break%20Room.%20Mark%20and%20Holman%20are%20men%20in%20the%20Break%20Room.%5Cn%5CnUnderstand%20the%20commands%20%22ask%22%20and%20%22tell%22%20and%20%22answer%22%20as%20something%20new.%5Cn%5CnUnderstand%20%22talk%20about%20%5Bany%20subject%5D%22%20as%20talking%20about.%20Talking%20about%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnUnderstand%20%22talk%20about%20%5Btext%5D%22%20as%20talking%20randomly%20about.%20Talking%20randomly%20about%20is%20an%20action%20applying%20to%20one%20topic.%20Carry%20out%20talking%20randomly%20about:%20say%20%22Mostly%20you're%20interested%20in%20%5Bthe%20list%20of%20subjects%5D.%22%5Cn%5CnCarry%20out%20talking%20about%20something:%5Cn%5Ctnow%20the%20previous%20subject%20is%20the%20noun.%5Cn%5CnReport%20talking%20about%20something:%5Cn%5Ctsay%20%22You%20chat%20for%20a%20while%20about%20%5Bthe%20noun%5D.%22%5Cn%5CnA%20subject%20is%20a%20kind%20of%20thing.%20Assyrian%20vowel%20sounds,%20designer%20handbags,%20and%20instant%20run-off%20voting%20are%20subjects.%20Understand%20%22linguistics%22%20and%20%22mute%22%20and%20%22stop%22%20as%20sounds.%20Understand%20%22prada%22%20and%20%22tods%22%20and%20%22coach%22%20and%20%22carmen%20marc%20valvo%22%20as%20designer%20handbags.%20Understand%20%22reform%22%20and%20%22election%22%20and%20%22election%20fraud%22%20and%20%22two-party%20system%22%20and%20%22Diebold%22%20as%20instant%20run-off%20voting.%5Cn%5CnTo%20say%20(annoyed-person%20-%20a%20person)%20gestures%20in%20irritation:%5Cn%5Ctsay%20%22%5BThe%20annoyed-person%5D%20sighs%20heavily.%20%5Brun%20paragraph%20on%5D%22%5Cn%5CnTo%20say%20(annoyed-person%20-%20Vanessa)%20gestures%20in%20irritation:%5Cn%5Ctsay%20%22%5BThe%20annoyed-person%5D%20takes%20off%20her%20glasses%20and%20polishes%20them%20on%20her%20sleeve.%20%5Brun%20paragraph%20on%5D%22.%5Cn%5CnTo%20say%20(annoyed-person%20-%20Holman)%20gestures%20in%20irritation:%5Cn%5Ctsay%20%22Holman%20bobs%20his%20head.%20%5Brun%20paragraph%20on%5D%22%5Cn%5CnThe%20previous%20subject%20is%20a%20subject%20that%20varies.%5Cn%5CnInstead%20of%20talking%20about%20something%20for%20more%20than%20one%20turn:%5Cn%5Ctif%20the%20noun%20is%20the%20previous%20subject,%20say%20%22%5Ba%20random%20visible%20person%20who%20is%20not%20the%20player%20gestures%20in%20irritation%5DMaybe%20you%20should%20let%20this%20one%20go.%5Bline%20break%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise%20continue%20the%20action.%5Cn%5CnTest%20me%20with%20%22talk%20about%20chocolate%20/%20talk%20about%20vowel%20sounds%20/%20g%20/%20talk%20about%20handbags%20/%20talk%20about%20prada%20/%20talk%20about%20tods%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Ferragamo Again"
</p>
<p class="quoted">
The Break Room is a room. Vanessa, Tina, and Lisa are women in the Break Room. Mark and Holman are men in the Break Room.
</p>
<p class="quoted">
Understand the commands "ask" and "tell" and "answer" as something new.
</p>
<p class="quoted">
Understand "talk about [any subject]" as talking about. Talking about is an action applying to one visible thing.
</p>
<p class="quoted">
Understand "talk about [text]" as talking randomly about. Talking randomly about is an action applying to one topic. Carry out talking randomly about: say "Mostly you're interested in [the list of subjects]."
</p>
<p class="quoted">
Carry out talking about something:
<br>    now the previous subject is the noun.
</p>
<p class="quoted">
Report talking about something:
<br>    say "You chat for a while about [the noun]."
</p>
<p class="quoted">
A subject is a kind of thing. Assyrian vowel sounds, designer handbags, and instant run-off voting are subjects. Understand "linguistics" and "mute" and "stop" as sounds. Understand "prada" and "tods" and "coach" and "carmen marc valvo" as designer handbags. Understand "reform" and "election" and "election fraud" and "two-party system" and "Diebold" as instant run-off voting.
</p>
<p class="quoted">
To say (annoyed-person - a person) gestures in irritation:
<br>    say "[The annoyed-person] sighs heavily. [run paragraph on]"
</p>
<p class="quoted">
To say (annoyed-person - Vanessa) gestures in irritation:
<br>    say "[The annoyed-person] takes off her glasses and polishes them on her sleeve. [run paragraph on]".
</p>
<p class="quoted">
To say (annoyed-person - Holman) gestures in irritation:
<br>    say "Holman bobs his head. [run paragraph on]"
</p>
<p class="quoted">
The previous subject is a subject that varies.
</p>
<p class="quoted">
Instead of talking about something for more than one turn:
<br>    if the noun is the previous subject, say "[a random visible person who is not the player gestures in irritation]Maybe you should let this one go.[line break][paragraph break]";
<br>    otherwise continue the action.
</p>
<p class="quoted">
Test me with "talk about chocolate / talk about vowel sounds / g / talk about handbags / talk about prada / talk about tods".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.3">WI §11.3. Pattern matching</a><br><a href="rb_7.html#rb-7.10">RB §7.10. Character Emotion</a>
</div></details>
</div></section>
<section class="section" id="rb-7.11"><div>





<h3>RB §7.11. Character Knowledge and Reasoning</h3>
<p>A character may be endowed with knowledge and even reasoning skills. Relations form quite a good way of keeping track of such problems: for instance, we can allow characters to be acquainted with one another with a relation such as</p>

<div class="code"><p class="quoted">
Lucy knows Lady Cardew.
</p></div>
<p>Or we might keep track of more complicated attitudes between characters, as in <a href="rb_7.html#example-242" class="example-link" onClick="(function() { document.getElementById('example-242').setAttribute('open','open'); return true; })();">Murder on the Orient Express</a><span class="example-difficulty"> ★★</span>, in which some characters suspect others of the crime.</p>
<p>Alternatively, we might have a list of salient facts that are important in our story. We might declare these as values, and then characters could know, learn, and forget entries as appropriate:</p>

<div class="code">
<p class="quoted">
A fact is a kind of value. Some facts are defined by the Table of All Known Facts.
</p>
<p class="quoted">
Knowledge relates various people to various facts. The verb to know (he knows, they know, he knew, it is known) implies the knowledge relation.
</p>
<p class="quoted">
Table of All Known Facts
<br>fact   	summary
<br>shoe-size   	"Lucy wears a size 9 shoe."
<br>sunset-time   	"Sunset is at 8:22 PM this evening."
</p>
<p class="quoted">
Lucy knows shoe-size.
<br>Bob knows sunset-time and shoe-size.
</p>
</div>
<p>Or again we might keep a whole database of information in a table: the characters in <a href="rb_7.html#example-278" class="example-link" onClick="(function() { document.getElementById('example-278').setAttribute('open','open'); return true; })();">Questionable Revolutions</a><span class="example-difficulty"> ★★★</span> know dates, countries, and a short description for each of several rebellions and popular uprisings, while in <a href="rb_7.html#example-279" class="example-link" onClick="(function() { document.getElementById('example-279').setAttribute('open','open'); return true; })();">Queen of Sheba</a><span class="example-difficulty"> ★★★</span>, Solomon is able to answer who, what, where, when, and why questions about a range of topics. This kind of approach is most useful when the characters need to display a deep knowledge of a particular field. The facts stored in the Table of All Known Facts, above, are comparatively sparse, because there we are designing a story in which not all data about the world is equally valuable: Lucy doesn't know the shoe size of every person in the story, because for some reason it is only her own shoe size that matters. On the other hand, the Table of All Known Facts can store different kinds of information, whereas the revolutions table has no way of storing shoe sizes or sunset times. And <a href="rb_7.html#example-242" class="example-link" onClick="(function() { document.getElementById('example-242').setAttribute('open','open'); return true; })();">Murder on the Orient Express</a><span class="example-difficulty"> ★★</span> works differently again, because it is storing knowledge that concerns people and things that already exist in the world model, rather than abstract ideas. Our way of modeling character knowledge, in other words, will depend quite a lot on what kind of knowledge it is.</p>
<p>The possibilities of character reasoning are similarly broad, but <a href="rb_7.html#example-235" class="example-link" onClick="(function() { document.getElementById('example-235').setAttribute('open','open'); return true; })();">The Problem of Edith</a><span class="example-difficulty"> ★★★</span> introduces one kind: the character has a concept of how different conversation topics relate to one another, so that when she is asked about a new keyword, she picks a response that makes the question most relevant to the conversation already in progress.</p>
<p>We end with a longer scenario, in which we track what the character knows about the player and the conversational state: in <a href="rb_7.html#example-341" class="example-link" onClick="(function() { document.getElementById('example-341').setAttribute('open','open'); return true; })();">Chronic Hinting Syndrome</a><span class="example-difficulty"> ★★★★</span>, the main character guides conversation in the direction he intends it to go, with the player's sometimes-reluctant participation.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_7.html#rb-7.14" class="crossreference_link">Obedient Characters</a> for a character who needs to be taught how to perform actions before doing them</div>
<div class="crossreference">
<a href="rb_7.html#rb-7.12" class="crossreference_link">Characters Following a Script</a> for a programmable robot who can be given whole sequences of actions to perform</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-242"><summary><span class="example-summary">242. Murder on the Orient Express</span> <span class="example-difficulty">★★</span></summary><div>
<p>The following example creates two new relations, and two new verbs, in order to set up a tangled web of intrigue.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Murder%20on%20the%20Orient%20Express%22%5Cn%5CnThe%20Dining%20Car%20is%20a%20room.%20Lord%20Peter%20is%20a%20man%20in%20the%20Dining%20Car.%20Sherlock%20Holmes%20is%20a%20man%20in%20the%20Dining%20Car.%20Miss%20Marple%20is%20a%20woman%20in%20the%20Dining%20Car.%20Adam%20Dalgliesh%20is%20a%20man%20in%20the%20Dining%20Car.%5Cn%5CnSuspecting%20relates%20various%20people%20to%20one%20person.%5Cn%5CnThe%20verb%20to%20suspect%20means%20the%20suspecting%20relation.%5Cn%5CnDalgliesh%20suspects%20Holmes.%20Holmes%20suspects%20Lord%20Peter.%20Lord%20Peter%20suspects%20Holmes.%20Miss%20Marple%20suspects%20the%20player.%5Cn%5CnExculpating%20relates%20one%20thing%20to%20various%20people.%5Cn%5CnThe%20verb%20to%20exculpate%20means%20the%20exculpating%20relation.%5Cn%5CnThe%20silver%20bullet%20exculpates%20the%20player.%20The%20pipe%20ash%20exculpates%20Holmes.%20The%20poison%20pen%20letter%20exculpates%20Lord%20Peter.%20The%20poison%20pen%20letter%20exculpates%20Miss%20Marple.%20%5BPoor%20Dalgliesh.%20I%20guess%20he%20did%20it.%5D%5Cn%5CnThe%20pipe%20ash,%20the%20letter%20and%20the%20silver%20bullet%20are%20carried.%5Cn%5Cn%5BGiven%20this,%20we%20can%20then%20set%20up%20elaborate%20rules:%5D%5Cn%5CnInstead%20of%20showing%20something%20to%20a%20person%20who%20suspects%20the%20player:%5Cn%5Ctsay%20%22'You%20would%20say%20that,'%20remarks%20%5Bthe%20second%20noun%5D%20darkly.%22.%5Cn%5CnInstead%20of%20showing%20something%20which%20exculpates%20the%20player%20to%20someone:%5Cn%5Ctsay%20%22'How%20striking!'%20says%20%5Bthe%20second%20noun%5D.%20'Almost%20I%20begin%20to%20distrust%20myself.'%22.%5Cn%5CnTest%20me%20with%20%22show%20the%20letter%20to%20miss%20marple%20/%20show%20the%20silver%20bullet%20to%20holmes%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Murder on the Orient Express"
</p>
<p class="quoted">
The Dining Car is a room. Lord Peter is a man in the Dining Car. Sherlock Holmes is a man in the Dining Car. Miss Marple is a woman in the Dining Car. Adam Dalgliesh is a man in the Dining Car.
</p>
<p class="quoted">
Suspecting relates various people to one person.
</p>
<p class="quoted">
The verb to suspect means the suspecting relation.
</p>
<p class="quoted">
Dalgliesh suspects Holmes. Holmes suspects Lord Peter. Lord Peter suspects Holmes. Miss Marple suspects the player.
</p>
<p class="quoted">
Exculpating relates one thing to various people.
</p>
<p class="quoted">
The verb to exculpate means the exculpating relation.
</p>
<p class="quoted">
The silver bullet exculpates the player. The pipe ash exculpates Holmes. The poison pen letter exculpates Lord Peter. The poison pen letter exculpates Miss Marple. [Poor Dalgliesh. I guess he did it.]
</p>
<p class="quoted">
The pipe ash, the letter and the silver bullet are carried.
</p>
</div>
<p>Given this, we can then set up elaborate rules:</p>

<div class="code">
<p class="quoted">
Instead of showing something to a person who suspects the player:
<br>    say "'You would say that,' remarks [the second noun] darkly.".
</p>
<p class="quoted">
Instead of showing something which exculpates the player to someone:
<br>    say "'How striking!' says [the second noun]. 'Almost I begin to distrust myself.'".
</p>
<p class="quoted">
Test me with "show the letter to miss marple / show the silver bullet to holmes".
</p>
</div>
<p>And so on: "if Dalgliesh suspects someone who is exculpated by something carried by the player...", for instance, makes a fitting final example for this chapter. The description</p>

<div class="code"><p class="quoted">
someone who is exculpated by something carried by the player
</p></div>
<p>expresses a complicated idea in very few words, and in such a way that a passer-by looking at the source text would immediately see what was meant.</p>
<p>The moral is that relations allow sophisticated patterns of behaviour to be created in a way that reads back naturally as English.</p>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.16">WI §13.16. What are relations for?</a><br><a href="rb_7.html#rb-7.11">RB §7.11. Character Knowledge and Reasoning</a>
</div></details><details class="full-example" id="example-235"><summary><span class="example-summary">235. The Problem of Edith</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose that we have a core set of issues we want to be able to bring up with all the characters, and we want characters to draw intelligent connections between different conversation topics. We will need some model of how things relate to one another, so:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Problem%20of%20Edith%22%5Cn%5CnSuggestion%20relates%20things%20to%20each%20other.%20The%20verb%20to%20suggest%20means%20the%20suggestion%20relation.%5Cn%5CnA%20subject%20is%20a%20kind%20of%20thing.%20The%20current%20subject%20is%20a%20thing%20that%20varies.%20greeting%20is%20a%20subject.%5Cn%5CnUnderstand%20%22ask%20%5Bsomeone%5D%20about%20%5Bany%20subject%5D%22%20as%20asking%20it%20about%20the%20subject.%20Understand%20%22tell%20%5Bsomeone%5D%20about%20%5Bany%20subject%5D%22%20as%20asking%20it%20about%20the%20subject.%5Cn%5CnAsking%20it%20about%20the%20subject%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20visible%20thing.%5Cn%5CnCarry%20out%20asking%20it%20about%20the%20subject:%5Cn%5Ctsay%20%22'Hmm,%20%5Bthe%20second%20noun%5D,'%20says%20%5Bthe%20noun%5D.%20%22;%5Cn%5Ctrelate%20the%20current%20subject%20with%20the%20second%20noun;%5Cn%5Ctnow%20the%20current%20subject%20is%20the%20second%20noun.%5Cn%5Cn%5BAnd%20if%20we%20wanted%20to%20offer%20the%20player%20some%20hints%20about%20angles%20he%20could%20pursue:%5D%5Cn%5CnInstead%20of%20thinking:%5Cn%5Ctsay%20%22You%20contemplate%20%5Ba%20list%20of%20things%20suggested%20by%20the%20current%20subject%5D.%22%5Cn%5Cn%5BFor%20that%20matter,%20we%20could%20use%20the%20same%20system%20to%20have%20characters%20make%20sense%20of%20any%20physical%20evidence%20the%20character%20shows%20them:%5D%5Cn%5CnInstead%20of%20showing%20something%20which%20suggests%20the%20current%20subject%20to%20someone:%5Cn%5Ctsay%20%22%5BThe%20second%20noun%5D%20nods%20impatiently.%22%5Cn%5CnInstead%20of%20showing%20something%20to%20someone:%5Cn%5Ctlet%20the%20next%20subject%20be%20the%20next%20step%20via%20the%20suggestion%20relation%20from%20the%20noun%20to%20the%20current%20subject;%5Cn%5Ctif%20the%20next%20subject%20is%20a%20subject:%5Cn%5Ct%5Cttry%20asking%20the%20second%20noun%20about%20the%20subject%20the%20next%20subject;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5BThe%20second%20noun%5D%20shrugs.%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20left%20hand%20status%20line%20is%20%22Discussing:%20%5Bcurrent%20subject%5D%22;%5Cn%5Ctnow%20the%20right%20hand%20status%20line%20is%20%22%20%22.%5Cn%5CnBroughton%20Hall%20is%20a%20room.%20Lady%20Uckfield%20is%20a%20woman%20in%20Broughton%20Hall.%20%22Lady%20Uckfield%20sits%20at%20her%20desk,%20looking%20wholly%20composed.%22%5Cn%5CnThe%20nasty%20letter%20is%20a%20thing%20carried%20by%20the%20player.%20The%20nasty%20letter%20suggests%20infidelity%20and%20penmanship.%20The%20ten-pound%20note%20is%20carried%20by%20the%20player.%20It%20suggests%20money.%5Cn%5CnInfidelity%20is%20a%20subject.%20Infidelity%20suggests%20marriage%20and%20divorce.%20Marriage%20suggests%20love.%20Marriage,%20love,%20and%20divorce%20are%20subjects.%5Cn%5CnPenmanship%20is%20a%20subject.%20Penmanship%20suggests%20education.%20Education%20is%20a%20subject.%20Class%20status%20and%20money%20are%20subjects.%20Class%20status%20suggests%20education.%20Money%20suggests%20class%20status%20and%20marriage.%5Cn%5CnThe%20current%20subject%20is%20divorce.%5Cn%5Cn%5BNow%20we%20can%20define%20what%20gets%20said%20when%20the%20subject%20is%20changed,%20regardless%20of%20whether%20the%20segue%20was%20introduced%20in%20speech%20or%20by%20a%20shown%20object.%20Since%20rows%20are%20blanked%20after%20use,%20the%20speaker%20will%20never%20repeat%20herself;%20if%20we%20provide%20more%20than%20one%20line%20about%20the%20same%20pair%20of%20topics,%20the%20first%20one%20will%20be%20used,%20then%20the%20second,%20and%20so%20on,%20until%20the%20table%20runs%20out:%5D%5Cn%5CnTo%20relate%20(initial%20-%20a%20subject)%20with%20(next%20-%20a%20subject):%5Cn%5Ctrepeat%20through%20Table%20of%20Remarks:%5Cn%5Ct%5Ctif%20the%20initial%20is%20starting%20entry%20and%20the%20next%20is%20the%20final%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bcomment%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20paragraph%20break.%5Cn%5CnTable%20of%20Remarks%5Cnstarting%5Ctfinal%5Ctcomment%5Cndivorce%5Ctlove%5Ct%22'As%20it%20seems%20to%20me,%20all%20the%20love%20is%20on%20one%20side,'%20she%20says%20crisply.%20'And%20that%20rarely%20works.'%22%5Cndivorce%5Ctlove%5Ct%22'Stop%20making%20that%20plea:%20it%20won't%20work.'%22%5Cndivorce%5Ctinfidelity%5Ct%22'Frankly,%20I%20rather%20think%20there%20would%20have%20been%20cause%20enough%20for%20divorce%20without%20the%20perversely%20plentiful%20evidence%20of%20unfaithfulness.'%22%5Cndivorce%5Ctmoney%5Ct%22'If%20you%20mean%20that%20the%20divorce%20will%20be%20expensive,%20I%20know%20it,'%20she%20says.%20'But%20I%20can%20think%20of%20no%20happier%20investment.'%22%5Cnmarriage%5Ctmoney%5Ct%22'If%20you%20wish%20me%20to%20understand%20that%20it%20was%20a%20marriage%20for%20money,%20you%20could%20have%20spared%20your%20energy.%20That%20was%20patent%20from%20the%20outset.'%22%5Cninfidelity%5Ctmoney%5Ct%22'I'm%20sorry,%20but%20I%20don't%20see%20how%20having%20married%20for%20money%20excuses%20a%20subsequent%20infidelity.'%22%5Cn%5Cn%5BIf%20we%20had%20more%20than%20one%20character%20in%20the%20scenario,%20we%20could%20provide%20multiple%20tables,%20but%20this%20will%20do%20to%20demonstrate%20the%20idea.%5D%5Cn%5Cn%5BOf%20course,%20we%20can%20override%20specific%20instances,%20if%20we%20want%20the%20character%20always%20to%20say%20the%20same%20thing%20regardless%20of%20how%20we%20came%20to%20this%20point:%5D%5Cn%5CnInstead%20of%20asking%20Lady%20Uckfield%20about%20the%20subject%20penmanship:%5Cn%5Ctnow%20the%20current%20subject%20is%20penmanship;%5Cn%5Ctsay%20%22She%20sighs.%20'So%20few%20people%20write%20really%20beautifully%20these%20days.'%22%5Cn%5CnTest%20me%20with%20%22think%20/%20ask%20lady%20about%20infidelity%20/%20show%20nasty%20letter%20to%20lady%20/%20show%20note%20to%20lady%20/%20think%20/%20ask%20lady%20about%20divorce%20/%20ask%20lady%20about%20love%20/%20ask%20lady%20about%20marriage%20/%20ask%20lady%20about%20divorce%20/%20ask%20lady%20about%20love%20/%20ask%20lady%20about%20penmanship%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Problem of Edith"
</p>
<p class="quoted">
Suggestion relates things to each other. The verb to suggest means the suggestion relation.
</p>
<p class="quoted">
A subject is a kind of thing. The current subject is a thing that varies. greeting is a subject.
</p>
<p class="quoted">
Understand "ask [someone] about [any subject]" as asking it about the subject. Understand "tell [someone] about [any subject]" as asking it about the subject.
</p>
<p class="quoted">
Asking it about the subject is an action applying to one thing and one visible thing.
</p>
<p class="quoted">
Carry out asking it about the subject:
<br>    say "'Hmm, [the second noun],' says [the noun]. ";
<br>    relate the current subject with the second noun;
<br>    now the current subject is the second noun.
</p>
</div>
<p>And if we wanted to offer the player some hints about angles he could pursue:</p>

<div class="code"><p class="quoted">
Instead of thinking:
<br>    say "You contemplate [a list of things suggested by the current subject]."
</p></div>
<p>For that matter, we could use the same system to have characters make sense of any physical evidence the character shows them:</p>

<div class="code">
<p class="quoted">
Instead of showing something which suggests the current subject to someone:
<br>    say "[The second noun] nods impatiently."
</p>
<p class="quoted">
Instead of showing something to someone:
<br>    let the next subject be the next step via the suggestion relation from the noun to the current subject;
<br>    if the next subject is a subject:
<br>        try asking the second noun about the subject the next subject;
<br>    otherwise:
<br>        say "[The second noun] shrugs."
</p>
<p class="quoted">
When play begins:
<br>    now the left hand status line is "Discussing: [current subject]";
<br>    now the right hand status line is " ".
</p>
<p class="quoted">
Broughton Hall is a room. Lady Uckfield is a woman in Broughton Hall. "Lady Uckfield sits at her desk, looking wholly composed."
</p>
<p class="quoted">
The nasty letter is a thing carried by the player. The nasty letter suggests infidelity and penmanship. The ten-pound note is carried by the player. It suggests money.
</p>
<p class="quoted">
Infidelity is a subject. Infidelity suggests marriage and divorce. Marriage suggests love. Marriage, love, and divorce are subjects.
</p>
<p class="quoted">
Penmanship is a subject. Penmanship suggests education. Education is a subject. Class status and money are subjects. Class status suggests education. Money suggests class status and marriage.
</p>
<p class="quoted">
The current subject is divorce.
</p>
</div>
<p>Now we can define what gets said when the subject is changed, regardless of whether the segue was introduced in speech or by a shown object. Since rows are blanked after use, the speaker will never repeat herself; if we provide more than one line about the same pair of topics, the first one will be used, then the second, and so on, until the table runs out:</p>

<div class="code">
<p class="quoted">
To relate (initial - a subject) with (next - a subject):
<br>    repeat through Table of Remarks:
<br>        if the initial is starting entry and the next is the final entry:
<br>            say "[comment entry][paragraph break]";
<br>            blank out the whole row;
<br>            rule succeeds;
<br>    say paragraph break.
</p>
<p class="quoted">
Table of Remarks
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">starting</p></td>
<td class="quotedtablecell"><p class="quoted">final</p></td>
<td class="quotedtablecell"><p class="quoted">comment</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">divorce</p></td>
<td class="quotedtablecell"><p class="quoted">love</p></td>
<td class="quotedtablecell"><p class="quoted">"'As it seems to me, all the love is on one side,' she says crisply. 'And that rarely works.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">divorce</p></td>
<td class="quotedtablecell"><p class="quoted">love</p></td>
<td class="quotedtablecell"><p class="quoted">"'Stop making that plea: it won't work.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">divorce</p></td>
<td class="quotedtablecell"><p class="quoted">infidelity</p></td>
<td class="quotedtablecell"><p class="quoted">"'Frankly, I rather think there would have been cause enough for divorce without the perversely plentiful evidence of unfaithfulness.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">divorce</p></td>
<td class="quotedtablecell"><p class="quoted">money</p></td>
<td class="quotedtablecell"><p class="quoted">"'If you mean that the divorce will be expensive, I know it,' she says. 'But I can think of no happier investment.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">marriage</p></td>
<td class="quotedtablecell"><p class="quoted">money</p></td>
<td class="quotedtablecell"><p class="quoted">"'If you wish me to understand that it was a marriage for money, you could have spared your energy. That was patent from the outset.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">infidelity</p></td>
<td class="quotedtablecell"><p class="quoted">money</p></td>
<td class="quotedtablecell"><p class="quoted">"'I'm sorry, but I don't see how having married for money excuses a subsequent infidelity.'"</p></td>
</tr>
</table>
</div>
<p>If we had more than one character in the scenario, we could provide multiple tables, but this will do to demonstrate the idea.</p>
<p>Of course, we can override specific instances, if we want the character always to say the same thing regardless of how we came to this point:</p>

<div class="code">
<p class="quoted">
Instead of asking Lady Uckfield about the subject penmanship:
<br>    now the current subject is penmanship;
<br>    say "She sighs. 'So few people write really beautifully these days.'"
</p>
<p class="quoted">
Test me with "think / ask lady about infidelity / show nasty letter to lady / show note to lady / think / ask lady about divorce / ask lady about love / ask lady about marriage / ask lady about divorce / ask lady about love / ask lady about penmanship".
</p>
</div>
<p>We would have to be careful about this system, since we have applied a various-to-various relation to every single object in the game. In practice it would probably be wisest to restrict it a bit, with judicious definitions of kind and so on.</p>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.11">WI §13.11. Indirect relations</a><br><a href="rb_7.html#rb-7.11">RB §7.11. Character Knowledge and Reasoning</a>
</div></details><details class="full-example" id="example-278"><summary><span class="example-summary">278. Questionable Revolutions</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Questionable%20Revolutions%22%5Cn%5CnInterrogative%20is%20a%20kind%20of%20value.%20The%20interrogatives%20are%20who,%20what,%20when,%20where,%20how,%20and%20why.%5Cn%5CnCurrent%20question%20is%20an%20interrogative%20that%20varies.%5Cn%5CnAfter%20asking%20someone%20about%20something:%20respond%20to%20the%20question.%20After%20answering%20someone%20that%20something:%20respond%20to%20the%20question.%5Cn%5CnAfter%20telling%20someone%20about%20something:%20say%20%22You're%20here%20to%20ask%20questions.%22%5Cn%5CnCountry%20is%20a%20kind%20of%20value.%20The%20countries%20are%20Czechoslovakia,%20Georgia,%20Sweden,%20Italy,%20Spain.%5Cn%5CnTable%20of%20Information%5Cntopic%5Ctdate%5Ctplace%5Ctdefinition%5Cn%22velvet%20revolution%22%5Ct1989%5CtCzechoslovakia%5Ct%22A%20bloodless%20revolution%20in%20Czechoslovakia,%20in%20which%20popular%20protests%20led%20to%20the%20resignation%20of%20the%20communist%20president%20Gustav%20Husak,%20and%20the%20election%20of%20Vaclav%20Havel%20in%20his%20place.%22%5Cn%22rose%20revolution%22%5Ct2003%5CtGeorgia%5Ct%22A%20revolution%20in%20which%20President%20Eduard%20Shevardnadze%20was%20interrupted%20by%20protesters%20in%20the%20middle%20of%20his%20speech,%20and%20forced%20to%20flee.%22%5Cn%22spanish%20revolution%22%5Ct1936%5CtSpain%5Ct%22An%20anarchist%20and%20socialist%20movement%20during%20the%20Spanish%20civil%20war.%22%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctif%20the%20player's%20command%20includes%20%22%5Binterrogative%5D%22,%20now%20the%20current%20question%20is%20the%20interrogative%20understood.%5Cn%5CnTo%20respond%20to%20the%20question:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Information:%5Cn%5Ct%5Ctif%20the%20topic%20understood%20includes%20topic%20entry:%5Cn%5Ct%5Ct%5Ctif%20the%20current%20question%20is%20what%20or%20the%20current%20question%20is%20who,%20say%20definition%20entry%20appropriately;%5Cn%5Ct%5Ct%5Ctif%20the%20current%20question%20is%20when,%20say%20date%20entry%20appropriately;%5Cn%5Ct%5Ct%5Ctif%20the%20current%20question%20is%20where,%20say%20place%20entry%20appropriately;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20shrugs.%22%5Cn%5CnUnderstand%20%22ask%20%5Bsomeone%5D%20%5Btext%5D%22%20as%20asking%20it%20about.%5Cn%5CnComprehension%20is%20a%20kind%20of%20value.%20The%20comprehensions%20are%20vague,%20erroneous,%20and%20correct.%5Cn%5CnTable%20of%20Understanding%5Cncharacter%5Ctyears%5Ctgeography%5Ctgeneral%20comprehension%5CnDr%20Tweedy%5Ctcorrect%5Ctcorrect%5Ctcorrect%5CnMs%20Finch%5Cterroneous%5Cterroneous%5Ctcorrect%5CnMs%20Clarion%5Ctvague%5Ctvague%5Cterroneous%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22Here%20you%20are%20in%20the%20first%20class%20cabin,%20but%20no%20matter%20how%20fancy%20the%20seats%20are,%20you%20can%20still%20get%20bored%20circling%20over%20Zurich%20for%20three%20hours%20on%20end.%20To%20kill%20time,%20you%20and%20the%20other%20passengers%20are%20playing%20a%20trivia%20game,%20and%20the%20final%20topic%20is%20your%20specialty:%20revolutions.%22%5Cn%5CnFirst%20Class%20Cabin%20is%20a%20room.%20Dr%20Tweedy%20is%20a%20man%20in%20First%20Class.%20Ms%20Finch%20and%20Ms%20Clarion%20are%20women%20in%20First%20Class.%5Cn%5CnTo%20say%20(year%20-%20a%20number)%20appropriately:%5Cn%5Ctchoose%20row%20with%20character%20of%20the%20noun%20in%20the%20Table%20of%20Understanding;%5Cn%5Ctif%20years%20entry%20is%20correct:%5Cn%5Ct%5Ctsay%20%22'%5Byear%5D,'%20replies%20%5Bthe%20noun%5D%20promptly.%22;%5Cn%5Ct%5Ctincrement%20the%20quiz%20score%20of%20the%20noun;%5Cn%5Ctif%20years%20entry%20is%20erroneous:%5Cn%5Ct%5Ctlet%20guess%20be%20a%20random%20number%20between%201900%20and%202005;%5Cn%5Ct%5Ctsay%20%22'%5Bguess%5D?'%20guesses%20%5Bthe%20noun%5D,%20with%20an%20air%20of%20diffidence%5Bif%20guess%20is%20the%20year%5D.%20Which%20is%20right,%20as%20it%20happens%5Bend%20if%5D.%22;%5Cn%5Ct%5Ctif%20guess%20is%20the%20year,%20increment%20the%20quiz%20score%20of%20the%20noun;%5Cn%5Ctif%20years%20entry%20is%20vague:%5Cn%5Ct%5Ctlet%20offset%20be%20a%20random%20number%20between%20-5%20and%205;%5Cn%5Ct%5Ctlet%20year%20be%20year%20%20%20offset;%5Cn%5Ct%5Ctsay%20%22'I%20think%20%5Byear%5D.%20About%20then.%20Close,%20anyway,'%20replies%20%5Bthe%20noun%5D%5Bif%20the%20offset%20is%200%5D,%20getting%20it%20right%5Bend%20if%5D.%22;%5Cn%5Ct%5Ctif%20offset%20is%200,%20increment%20the%20quiz%20score%20of%20the%20noun.%5Cn%5CnTo%20say%20(spot%20-%20a%20country)%20appropriately:%5Cn%5Ctchoose%20row%20with%20character%20of%20the%20noun%20in%20the%20Table%20of%20Understanding;%5Cn%5Ctif%20geography%20entry%20is%20correct:%5Cn%5Ct%5Ctsay%20%22'%5Bspot%5D,'%20replies%20%5Bthe%20noun%5D%20promptly.%22;%5Cn%5Ct%5Ctincrement%20the%20quiz%20score%20of%20the%20noun;%5Cn%5Ctif%20geography%20entry%20is%20erroneous:%5Cn%5Ct%5Ctlet%20guess%20be%20a%20random%20country;%5Cn%5Ct%5Ctsay%20%22'Er...%20%5Bguess%5D?'%20says%20%5Bthe%20noun%5D%5Bif%20guess%20is%20the%20spot%5D.%20Which%20is%20of%20course%20correct%5Bend%20if%5D.%22;%5Cn%5Ct%5Ctif%20guess%20is%20the%20spot,%20increment%20the%20quiz%20score%20of%20the%20noun;%5Cn%5Ctif%20geography%20entry%20is%20vague,%20say%20%22'Europe,'%20replies%20%5Bthe%20noun%5D%20with%20confidence.%22%5Cn%5CnTo%20say%20(explanation%20-%20some%20text)%20appropriately:%5Cn%5Ctchoose%20row%20with%20character%20of%20the%20noun%20in%20the%20Table%20of%20Understanding;%5Cn%5Ctif%20general%20comprehension%20entry%20is%20correct:%5Cn%5Ct%5Ctsay%20%22'%5Bexplanation%5D'%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ctincrement%20the%20quiz%20score%20of%20the%20noun;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Information;%5Cn%5Ct%5Ctsay%20%22'%5Bdefinition%20entry%5D'%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ctif%20the%20definition%20entry%20is%20explanation:%5Cn%5Ct%5Ct%5Ctsay%20%22%5BA%20random%20other%20person%20who%20is%20not%20the%20noun%5D%20looks%20surprised%20that%20this%20came%20out%20right.%22;%5Cn%5Ct%5Ct%5Ctincrement%20the%20quiz%20score%20of%20the%20noun.%5Cn%5CnA%20person%20has%20a%20number%20called%20quiz%20score.%20The%20quiz%20score%20of%20Tweedy%20is%2048.%20The%20quiz%20score%20of%20Finch%20is%202.%20The%20quiz%20score%20of%20Clarion%20is%204.%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20it%20is%20not%20the%20player.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20left%20hand%20status%20line%20is%20%22T:%20%5Bquiz%20score%20of%20Tweedy%5D%20%20%20F:%20%5Bquiz%20score%20of%20Finch%5D%20%20%20C:%20%5Bquiz%20score%20of%20Clarion%5D%22;%5Cn%5Ctnow%20right%20hand%20status%20line%20is%20%22%5Btime%20of%20day%5D%22.%5Cn%5CnTest%20me%20with%20%22dr%20tweedy,%20where%20was%20the%20velvet%20revolution%20located%20/%20ms%20finch,%20when%20was%20the%20rose%20revolution%20/%20ms%20finch,%20what%20was%20the%20rose%20revolution%20/%20ms%20clarion,%20when%20was%20the%20spanish%20revolution%20/%20g%20/%20g%20/%20ms%20finch,%20when%20was%20the%20spanish%20revolution%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Questionable Revolutions"
</p>
<p class="quoted">
Interrogative is a kind of value. The interrogatives are who, what, when, where, how, and why.
</p>
<p class="quoted">
Current question is an interrogative that varies.
</p>
<p class="quoted">
After asking someone about something: respond to the question. After answering someone that something: respond to the question.
</p>
<p class="quoted">
After telling someone about something: say "You're here to ask questions."
</p>
<p class="quoted">
Country is a kind of value. The countries are Czechoslovakia, Georgia, Sweden, Italy, Spain.
</p>
<p class="quoted">
Table of Information
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">date</p></td>
<td class="quotedtablecell"><p class="quoted">place</p></td>
<td class="quotedtablecell"><p class="quoted">definition</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"velvet revolution"</p></td>
<td class="quotedtablecell"><p class="quoted">1989</p></td>
<td class="quotedtablecell"><p class="quoted">Czechoslovakia</p></td>
<td class="quotedtablecell"><p class="quoted">"A bloodless revolution in Czechoslovakia, in which popular protests led to the resignation of the communist president Gustav Husak, and the election of Vaclav Havel in his place."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"rose revolution"</p></td>
<td class="quotedtablecell"><p class="quoted">2003</p></td>
<td class="quotedtablecell"><p class="quoted">Georgia</p></td>
<td class="quotedtablecell"><p class="quoted">"A revolution in which President Eduard Shevardnadze was interrupted by protesters in the middle of his speech, and forced to flee."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"spanish revolution"</p></td>
<td class="quotedtablecell"><p class="quoted">1936</p></td>
<td class="quotedtablecell"><p class="quoted">Spain</p></td>
<td class="quotedtablecell"><p class="quoted">"An anarchist and socialist movement during the Spanish civil war."</p></td>
</tr>
</table>
<p class="quoted">
After reading a command:
<br>    if the player's command includes "[interrogative]", now the current question is the interrogative understood.
</p>
<p class="quoted">
To respond to the question:
<br>    repeat through the Table of Information:
<br>        if the topic understood includes topic entry:
<br>            if the current question is what or the current question is who, say definition entry appropriately;
<br>            if the current question is when, say date entry appropriately;
<br>            if the current question is where, say place entry appropriately;
<br>            rule succeeds;
<br>    say "[The noun] shrugs."
</p>
<p class="quoted">
Understand "ask [someone] [text]" as asking it about.
</p>
<p class="quoted">
Comprehension is a kind of value. The comprehensions are vague, erroneous, and correct.
</p>
<p class="quoted">
Table of Understanding
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">character</p></td>
<td class="quotedtablecell"><p class="quoted">years</p></td>
<td class="quotedtablecell"><p class="quoted">geography</p></td>
<td class="quotedtablecell"><p class="quoted">general comprehension</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">Dr Tweedy</p></td>
<td class="quotedtablecell"><p class="quoted">correct</p></td>
<td class="quotedtablecell"><p class="quoted">correct</p></td>
<td class="quotedtablecell"><p class="quoted">correct</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">Ms Finch</p></td>
<td class="quotedtablecell"><p class="quoted">erroneous</p></td>
<td class="quotedtablecell"><p class="quoted">erroneous</p></td>
<td class="quotedtablecell"><p class="quoted">correct</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">Ms Clarion</p></td>
<td class="quotedtablecell"><p class="quoted">vague</p></td>
<td class="quotedtablecell"><p class="quoted">vague</p></td>
<td class="quotedtablecell"><p class="quoted">erroneous</p></td>
</tr>
</table>
<p class="quoted">
When play begins:
<br>    say "Here you are in the first class cabin, but no matter how fancy the seats are, you can still get bored circling over Zurich for three hours on end. To kill time, you and the other passengers are playing a trivia game, and the final topic is your specialty: revolutions."
</p>
<p class="quoted">
First Class Cabin is a room. Dr Tweedy is a man in First Class. Ms Finch and Ms Clarion are women in First Class.
</p>
<p class="quoted">
To say (year - a number) appropriately:
<br>    choose row with character of the noun in the Table of Understanding;
<br>    if years entry is correct:
<br>        say "'[year],' replies [the noun] promptly.";
<br>        increment the quiz score of the noun;
<br>    if years entry is erroneous:
<br>        let guess be a random number between 1900 and 2005;
<br>        say "'[guess]?' guesses [the noun], with an air of diffidence[if guess is the year]. Which is right, as it happens[end if].";
<br>        if guess is the year, increment the quiz score of the noun;
<br>    if years entry is vague:
<br>        let offset be a random number between -5 and 5;
<br>        let year be year + offset;
<br>        say "'I think [year]. About then. Close, anyway,' replies [the noun][if the offset is 0], getting it right[end if].";
<br>        if offset is 0, increment the quiz score of the noun.
</p>
<p class="quoted">
To say (spot - a country) appropriately:
<br>    choose row with character of the noun in the Table of Understanding;
<br>    if geography entry is correct:
<br>        say "'[spot],' replies [the noun] promptly.";
<br>        increment the quiz score of the noun;
<br>    if geography entry is erroneous:
<br>        let guess be a random country;
<br>        say "'Er... [guess]?' says [the noun][if guess is the spot]. Which is of course correct[end if].";
<br>        if guess is the spot, increment the quiz score of the noun;
<br>    if geography entry is vague, say "'Europe,' replies [the noun] with confidence."
</p>
<p class="quoted">
To say (explanation - some text) appropriately:
<br>    choose row with character of the noun in the Table of Understanding;
<br>    if general comprehension entry is correct:
<br>        say "'[explanation]'[paragraph break]";
<br>        increment the quiz score of the noun;
<br>    otherwise:
<br>        choose a random row in the Table of Information;
<br>        say "'[definition entry]'[paragraph break]";
<br>        if the definition entry is explanation:
<br>            say "[A random other person who is not the noun] looks surprised that this came out right.";
<br>            increment the quiz score of the noun.
</p>
<p class="quoted">
A person has a number called quiz score. The quiz score of Tweedy is 48. The quiz score of Finch is 2. The quiz score of Clarion is 4.
</p>
<p class="quoted">
Definition: a person is other if it is not the player.
</p>
<p class="quoted">
When play begins:
<br>    now left hand status line is "T: [quiz score of Tweedy]   F: [quiz score of Finch]   C: [quiz score of Clarion]";
<br>    now right hand status line is "[time of day]".
</p>
<p class="quoted">
Test me with "dr tweedy, where was the velvet revolution located / ms finch, when was the rose revolution / ms finch, what was the rose revolution / ms clarion, when was the spanish revolution / g / g / ms finch, when was the spanish revolution".
</p>
</div>
<p>We have so far seen several ways to write conversational characters in Inform, and we will see more before the end of the manual. This naturally raises the question, which should we use? To which the answer is: it depends on the sort of game we're writing, and what we want our characters to do. The more rich and complex the system, the more likely that it will require a lot of content; if we add question types as well as keywords, for instance, we instantly multiply the number of responses we have to write by five or six. It is not worth doing this unless there is some corresponding advantage within the game.</p>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.13">WI §16.13. Topic columns</a><br><a href="rb_7.html#rb-7.11">RB §7.11. Character Knowledge and Reasoning</a>
</div></details><details class="full-example" id="example-279"><summary><span class="example-summary">279. The Queen of Sheba</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we want the player to ask questions of slightly more complexity - we might want to build in a system that understood "who", "what", "where", and "when", for instance. We could use a topic table for this, too:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Queen%20of%20Sheba%22%5Cn%5CnInterrogative%20is%20a%20kind%20of%20value.%20The%20interrogatives%20are%20who,%20what,%20when,%20where,%20how,%20and%20why.%5Cn%5CnCurrent%20question%20is%20an%20interrogative%20that%20varies.%5Cn%5CnAfter%20asking%20someone%20about%20something:%20respond%20to%20the%20question.%20After%20answering%20someone%20that%20something:%20respond%20to%20the%20question.%5Cn%5CnAfter%20telling%20someone%20about%20something:%20say%20%22You're%20here%20to%20ask%20questions%20and%20test%20Solomon's%20wisdom,%20not%20to%20give%20him%20a%20sample%20of%20your%20own.%22%5Cn%5CnTable%20of%20Wise%20Answers%5Cntopic%5Ctquestion%20type%5Ctreply%5Cn%22rain/weather/clouds/cloud/rains%22%5Ctwhat%5Ct%22'Clouds%20are%20a%20disturbance%20made%20by%20the%20paths%20of%20birds,'%20Solomon%20replies.%20'The%20air%20beaten%20by%20their%20wings%20becomes%20agitated,%20as%20when%20a%20river%20is%20stirred%20and%20the%20mud%20churns%20up.'%22%5Cn%22rain/weather/clouds/cloud/rains%22%5Ctwhere%5Ct%22'Weather%20is%20contained%20in%20a%20great%20silk%20bag%20which%20holds%20in%20the%20heavens,'%20replies%20Solomon.%22%5Cn%22hunger/food/eating%22%5Ctwhen%5Ct%22'Sorry,%20are%20you%20getting%20hungry?'%20he%20says,%20and%20rings%20a%20bell%20to%20summon%20servants.%22%5Cn%22hunger/food/eating%22%5Ctwhy%5Ct%22'Men%20were%20made%20to%20need%20food%20in%20order%20that%20they%20must%20farm%20and%20cook%20and%20dine%20together,'%20Solomon%20replies.%20'Otherwise,%20they%20might%20live%20apart,%20each%20sufficient%20in%20himself.%20But%20no%20man%20can%20feed%20himself%20alone%20all%20through%20his%20life.'%22%5Cn%22Solomon/he/himself%22%5Ctwho%5Ct%22'As%20you%20see,'%20he%20says,%20holding%20out%20his%20arms%20to%20each%20side.%22%5Cn%22Solomon/he/himself%22%5Ctwhat%5Ct%22'I%20am%20an%20ordinary%20man,'%20he%20answers.%22%5Cn%5Cn%5BOne%20of%20the%20nice%20things%20about%20this%20system%20is%20that%20it%20only%20resets%20the%20%22current%20question%22%20when%20we%20get%20a%20new%20question%20word.%20For%20instance,%20this%20test%20will%20produce%20different%20replies%20to%20the%20question%20about%20Solomon%20himself,%20because%20the%20second%20time%20he%20is%20still%20in%20the%20mode%20of%20answering%20%22what%22%20questions:%5D%5Cn%5CnTest%20me%20with%20%22ask%20solomon%20about%20himself%20/%20ask%20solomon%20what%20rain%20is%20/%20ask%20solomon%20about%20himself%22.%5Cn%5Cn%5BIf%20Solomon%20is%20to%20live%20up%20to%20his%20reputation%20at%20all,%20his%20wisdom%20table%20will%20have%20to%20be%20quite%20a%20bit%20longer%20-%20though%20one%20also%20would%20want%20to%20be%20careful,%20because%20forcing%20the%20game%20to%20cycle%20through%20a%20really%20immense%20table%20could%20be%20quite%20time-consuming.%20In%20fact,%20for%20the%20sake%20of%20this%20example,%20let's%20reward%20the%20player%20for%20managing%20to%20stay%20within%20the%20(narrow)%20range%20of%20Solomon's%20knowledge:%5D%5Cn%5CnThe%20Hall%20of%20Almug%20Tree%20Pillars%20is%20a%20room.%20%22The%20pillars%20of%20the%20room%20are%20made%20of%20almug%20tree,%20the%20ceiling%20made%20of%20silk%20and%20the%20floor%20of%20glass.%22%20Solomon%20is%20a%20man%20in%20the%20Hall%20of%20Almug%20Tree%20Pillars.%20Solomon%20has%20a%20number%20called%20wisdom.%20The%20wisdom%20of%20Solomon%20is%200.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20wisdom%20of%20Solomon%20is%203:%5Cn%5Ct%5Ctsay%20%22Truly,%20Solomon%20has%20answered%20all%20your%20questions,%20and%20his%20wisdom%20is%20even%20as%20great%20as%20you%20had%20heard!%22;%5Cn%5Ct%5Ctend%20the%20story%20saying%20%22Your%20heart%20beats%20strangely%20fast%22.%5Cn%5CnWhen%20play%20begins,%20say%20%22'Oh,%20you've%20arrived,'%20says%20Solomon.%22%5Cn%5Cn%5BIn%20a%20real%20game%20we'd%20need%20to%20be%20a%20great%20deal%20subtler.%20All%20the%20same,%20if%20we%20have%20a%20character%20of%20quite%20limited%20resources%20to%20present%20to%20the%20player,%20it's%20a%20good%20idea%20to%20give%20the%20player%20some%20incentive%20to%20stay%20on%20topic,%20ask%20questions%20the%20character%20can%20answer,%20and%20generally%20interact%20within%20the%20parameters%20we're%20prepared%20for.%5D%5Cn%5Cn%5BNow,%20this%20last%20bit%20requires%20some%20trickery%20from%20later%20chapters,%20particularly%20those%20on%20Understanding%20and%20Activities,%20to%20pull%20the%20question%20words%20out%20of%20the%20player's%20command:%5D%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctif%20the%20player's%20command%20includes%20%22%5Binterrogative%5D%22,%20now%20the%20current%20question%20is%20the%20interrogative%20understood.%5Cn%5CnTo%20respond%20to%20the%20question:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Wise%20Answers:%5Cn%5Ct%5Ctif%20the%20topic%20understood%20includes%20topic%20entry:%5Cn%5Ct%5Ct%5Ctif%20the%20current%20question%20is%20the%20question%20type%20entry:%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ct%5Ctincrement%20the%20wisdom%20of%20Solomon;%5Cn%5Ct%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22Solomon%20looks%20blank,%20appalled%20by%20a%20question%20for%20which%20he%20was%20not%20prepared.%22;%5Cn%5Ctend%20the%20story%20saying%20%22You%20have%20befuddled%20Solomon!%22%5Cn%5CnUnderstand%20%22ask%20%5Bsomeone%5D%20%5Btext%5D%22%20as%20asking%20it%20about.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Queen of Sheba"
</p>
<p class="quoted">
Interrogative is a kind of value. The interrogatives are who, what, when, where, how, and why.
</p>
<p class="quoted">
Current question is an interrogative that varies.
</p>
<p class="quoted">
After asking someone about something: respond to the question. After answering someone that something: respond to the question.
</p>
<p class="quoted">
After telling someone about something: say "You're here to ask questions and test Solomon's wisdom, not to give him a sample of your own."
</p>
<p class="quoted">
Table of Wise Answers
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">question type</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"rain/weather/clouds/cloud/rains"</p></td>
<td class="quotedtablecell"><p class="quoted">what</p></td>
<td class="quotedtablecell"><p class="quoted">"'Clouds are a disturbance made by the paths of birds,' Solomon replies. 'The air beaten by their wings becomes agitated, as when a river is stirred and the mud churns up.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"rain/weather/clouds/cloud/rains"</p></td>
<td class="quotedtablecell"><p class="quoted">where</p></td>
<td class="quotedtablecell"><p class="quoted">"'Weather is contained in a great silk bag which holds in the heavens,' replies Solomon."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"hunger/food/eating"</p></td>
<td class="quotedtablecell"><p class="quoted">when</p></td>
<td class="quotedtablecell"><p class="quoted">"'Sorry, are you getting hungry?' he says, and rings a bell to summon servants."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"hunger/food/eating"</p></td>
<td class="quotedtablecell"><p class="quoted">why</p></td>
<td class="quotedtablecell"><p class="quoted">"'Men were made to need food in order that they must farm and cook and dine together,' Solomon replies. 'Otherwise, they might live apart, each sufficient in himself. But no man can feed himself alone all through his life.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Solomon/he/himself"</p></td>
<td class="quotedtablecell"><p class="quoted">who</p></td>
<td class="quotedtablecell"><p class="quoted">"'As you see,' he says, holding out his arms to each side."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Solomon/he/himself"</p></td>
<td class="quotedtablecell"><p class="quoted">what</p></td>
<td class="quotedtablecell"><p class="quoted">"'I am an ordinary man,' he answers."</p></td>
</tr>
</table>
</div>
<p>One of the nice things about this system is that it only resets the "current question" when we get a new question word. For instance, this test will produce different replies to the question about Solomon himself, because the second time he is still in the mode of answering "what" questions:</p>

<div class="code"><p class="quoted">
Test me with "ask solomon about himself / ask solomon what rain is / ask solomon about himself".
</p></div>
<p>If Solomon is to live up to his reputation at all, his wisdom table will have to be quite a bit longer - though one also would want to be careful, because forcing the game to cycle through a really immense table could be quite time-consuming. In fact, for the sake of this example, let's reward the player for managing to stay within the (narrow) range of Solomon's knowledge:</p>

<div class="code">
<p class="quoted">
The Hall of Almug Tree Pillars is a room. "The pillars of the room are made of almug tree, the ceiling made of silk and the floor of glass." Solomon is a man in the Hall of Almug Tree Pillars. Solomon has a number called wisdom. The wisdom of Solomon is 0.
</p>
<p class="quoted">
Every turn:
<br>    if the wisdom of Solomon is 3:
<br>        say "Truly, Solomon has answered all your questions, and his wisdom is even as great as you had heard!";
<br>        end the story saying "Your heart beats strangely fast".
</p>
<p class="quoted">
When play begins, say "'Oh, you've arrived,' says Solomon."
</p>
</div>
<p>In a real game we'd need to be a great deal subtler. All the same, if we have a character of quite limited resources to present to the player, it's a good idea to give the player some incentive to stay on topic, ask questions the character can answer, and generally interact within the parameters we're prepared for.</p>
<p>Now, this last bit requires some trickery from later chapters, particularly those on Understanding and Activities, to pull the question words out of the player's command:</p>

<div class="code">
<p class="quoted">
After reading a command:
<br>    if the player's command includes "[interrogative]", now the current question is the interrogative understood.
</p>
<p class="quoted">
To respond to the question:
<br>    repeat through the Table of Wise Answers:
<br>        if the topic understood includes topic entry:
<br>            if the current question is the question type entry:
<br>                say "[reply entry][paragraph break]";
<br>                increment the wisdom of Solomon;
<br>                rule succeeds;
<br>    say "Solomon looks blank, appalled by a question for which he was not prepared.";
<br>    end the story saying "You have befuddled Solomon!"
</p>
<p class="quoted">
Understand "ask [someone] [text]" as asking it about.
</p>
</div>
<p>And now we have a game that will accept (though not always respond very sensibly to) questions of almost any form we might put to another character: ASK SOLOMON WHAT RAIN IS will be answered, but then again, it won't be distinguished from, say, ASK SOLOMON WHETHER THIS PERSISTENT RAIN IS A DIVINE PUNISHMENT OR WHAT.</p>
<p>All the same, a system that allowed the player a bit more specification of questions than simple keyword-use might be useful in a mystery game, for instance, where we might want to let our detective conduct inquiries into specific details. An alternative approach to the rather free one above would be to force the player to use only questions of the form WHAT IS RAIN? or WHO ARE YOU?: this would cut down on false-positive matches. But we might still choose to store the responses in a table of this type.</p>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.13">WI §16.13. Topic columns</a><br><a href="rb_7.html#rb-7.11">RB §7.11. Character Knowledge and Reasoning</a>
</div></details><details class="full-example" id="example-341"><summary><span class="example-summary">341. Chronic Hinting Syndrome</span> <span class="example-difficulty">★★★★</span></summary><div>
<p>Suppose we have a conversation system in which it is important to keep track of which subjects the player has heard mentioned. If we're careful to mark subjects in brackets, we can use the "printing the name of" activity to record which things have been mentioned so far:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Chronic%20Hinting%20Syndrome%22%5Cn%5CnA%20subject%20is%20a%20kind%20of%20thing.%5Cn%5CnKnowledge%20relates%20various%20people%20to%20various%20subjects.%20The%20verb%20to%20know%20means%20the%20knowledge%20relation.%5Cn%5CnAwareness%20relates%20various%20people%20to%20various%20subjects.%20The%20verb%20to%20be%20aware%20of%20means%20the%20awareness%20relation.%5Cn%5CnDefinition:%20a%20subject%20is%20pending%20if%20the%20player%20is%20aware%20of%20it%20and%20it%20is%20not%20known%20by%20the%20player.%5Cn%5CnInstead%20of%20thinking:%5Cn%5Ctif%20the%20number%20of%20pending%20subjects%20is%200,%20say%20%22You%20have%20no%20fresh%20leads%20at%20the%20moment.%22;%5Cn%5Ctotherwise%20say%20%22You%20recall%20that%20thus%20far%20you%20have%20not%20followed%20up%20with%20questions%20about%20%5Bthe%20list%20of%20pending%20subjects%5D.%22%5Cn%5CnAfter%20printing%20the%20name%20of%20a%20subject%20(called%20idea):%5Cn%5Ctnow%20the%20player%20is%20aware%20of%20the%20idea.%5Cn%5Cn%5BNow%20suppose%20that%20as%20an%20added%20convenience%20for%20the%20player,%20we%20let%20him%20turn%20on%20a%20mode%20in%20which%20useful%20conversation%20topics%20are%20always%20automatically%20highlighted%20in%20the%20text,%20so%20he%20doesn't%20waste%20his%20time%20trying%20to%20follow%20up%20dead%20leads:%5D%5Cn%5CnSetting%20is%20a%20kind%20of%20value.%20The%20settings%20are%20bright%20and%20dull.%20Understand%20%22on%22%20as%20bright.%20Understand%20%22off%22%20as%20dull.%5Cn%5CnHighlighting%20is%20a%20setting%20that%20varies.%20Highlighting%20is%20dull.%5Cn%5CnUnderstand%20%22highlighting%20%5Bsetting%5D%22%20as%20setting%20highlighting.%20Setting%20highlighting%20is%20an%20action%20out%20of%20world,%20applying%20to%20one%20setting.%5Cn%5CnCarry%20out%20setting%20highlighting:%5Cn%5Ctnow%20highlighting%20is%20the%20setting%20understood.%5Cn%5CnReport%20setting%20highlighting:%5Cn%5Ctsay%20%22Highlighting%20is%20now%20%5Bif%20highlighting%20is%20dull%5Doff%5Botherwise%5Don%5Bend%20if%5D.%22%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20subject%20(called%20idea)%20when%20highlighting%20is%20bright:%5Cn%5Ctunless%20the%20player%20knows%20the%20idea:%5Cn%5Ct%5Ctsay%20%22%5Bbold%20type%5D%22.%5Cn%5CnAfter%20printing%20the%20name%20of%20a%20subject%20when%20highlighting%20is%20bright:%5Cn%5Ctsay%20%22%5Broman%20type%5D%22.%5Cn%5Cn%5B...And%20the%20rest%20is%20peripheral.%5D%5Cn%5CnThe%20Sickbay%20is%20a%20room.%20%22A%20place%20arranged%20for%20Nathan's%20comfort,%20since%20his%20sickness%20has%20been%20prolonged%20and%20because%20he%20becomes%20so%20irritating%20when%20not%20comfortable.%22%20The%20Hallway%20is%20outside%20from%20the%20Sickbay.%5Cn%5CnA%20supporter%20can%20be%20untried%20or%20rejected.%20A%20supporter%20is%20usually%20untried.%5Cn%5CnThe%20Sickbay%20contains%20a%20wobbly%20pedestal,%20a%20table,%20and%20a%20sickbed.%20Understand%20%22bed%22%20as%20the%20sickbed.%20The%20pedestal,%20the%20table,%20and%20the%20sickbed%20are%20supporters.%20Nathan%20is%20a%20man%20on%20the%20sickbed.%20The%20sickbed%20is%20scenery.%20The%20initial%20appearance%20of%20the%20wobbly%20pedestal%20is%20%22A%20wobbly%20pedestal%20near%20the%20door%20has%20sometimes%20been%20known%20to%20support%20vases%20of%20flowers,%20but%20is%20currently%20bare.%22%20The%20initial%20appearance%20of%20the%20table%20is%20%22There%20is%20also%20a%20table%20of%20a%20more%20ordinary%20sort.%22%5Cn%5CnNathan%20can%20be%20active%20or%20passive.%5Cn%5CnAfter%20printing%20the%20name%20of%20Nathan:%20now%20Nathan%20is%20passive.%5Cn%5CnInstead%20of%20putting%20the%20sculpture%20on%20the%20table:%5Cn%5Ctnow%20the%20table%20is%20rejected;%5Cn%5Ctsay%20%22'%5BNot%20there%5D,'%20%5BNathan%5D%20snaps.%20'The%20table%20is%20way%20too%20far%20from%20the%20sickbed.'%22%5Cn%5CnInstead%20of%20putting%20the%20sculpture%20on%20the%20sickbed:%5Cn%5Ctnow%20the%20sickbed%20is%20rejected;%5Cn%5Ctsay%20%22'%5BNot%20there%5D,'%20%5BNathan%5D%20rebukes%20you.%20'You%20don't%20want%20me%20knocking%20it%20over%20if%20I%20roll%20around.%20In%20pain.'%22%5Cn%5CnInstead%20of%20putting%20the%20sculpture%20on%20the%20pedestal:%5Cn%5Ctnow%20the%20pedestal%20is%20rejected;%5Cn%5Ctsay%20%22The%20pedestal%20starts%20to%20wobble%20so%20ominously%20that%20you%20don't%20dare%20let%20go.%5Cn%5Cn'%5BNot%20there%5D,'%20says%20%5BNathan%5D.%20'That%20thing%20is%20falling%20apart.'%22%5Cn%5CnBefore%20putting%20something%20on%20the%20down:%20try%20dropping%20the%20noun%20instead.%5Cn%5CnTo%20say%20not%20there:%5Cn%5Ctif%20all%20the%20supporters%20are%20rejected:%5Cn%5Ct%5Ctsay%20%22Look,%20the%20floor%20would%20be%20fine%22;%5Cn%5Ctotherwise%20if%20the%20number%20of%20rejected%20supporters%20is%201:%5Cn%5Ct%5Ctsay%20%22Yeah,%20anywhere%20but%20there,%20I'm%20afraid%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Come%20on,%20use%20your%20head%20--%20I%20can't%20be%20watching%20you%20all%20the%20time,%20I'm%20sick%22.%5Cn%5CnInstead%20of%20going%20outside%20when%20the%20player%20is%20carrying%20the%20sculpture:%5Cn%5Ctsay%20%22You've%20still%20got%20this%20sculpture%20to%20get%20rid%20of.%22%5Cn%5CnInstead%20of%20going%20outside%20when%20the%20breakage%20is%20pending:%5Cn%5Ctsay%20%22You%20can't%20very%20well%20smash%20in%20front%20of%20%5BNathan%5D%20his%20prize%20sculpture%20and%20then%20just%20scamper%20off%20without%20saying%20something.%20Appealing%20though%20the%20thought%20is%20at%20the%20moment.%22%5Cn%5CnInstead%20of%20going%20outside%20when%20a%20subject%20which%20is%20not%20the%20breakage%20is%20pending:%5Cn%5Ctsay%20%22'Yeah,%20go%20ahead,'%20says%20%5BNathan%5D,%20with%20a%20martyr-like%20air.%20'It's%20probably%20best%20that%20you%20don't%20hear%20about%20%5Bthe%20random%20pending%20subject%5D.%20It's%20not%20something%20I'd%20go%20into%20normally.'%22%5Cn%5CnThe%20breakage%20is%20a%20subject.%20The%20description%20is%20%22It's%20not%20a%20big%20deal.%20I'll%20just%20buy%20a%20new%20%5Bmental%20wave%20generator%5D.'%20A%20slight%20awkward%20pause.%20'I%20mean,%20this%20one%20was%20a%20%5Bgift%5D,%20but%20don't%20worry%20about%20it%22.%20Understand%20%22accident%22%20or%20%22smashing%22%20or%20%22breaking%22%20or%20%22shard%22%20or%20%22mishap%22%20or%20%22shards%22%20or%20%22mistake%22%20as%20the%20breakage.%20Understand%20%22sculpture%22%20as%20the%20breakage%20when%20the%20player%20is%20not%20carrying%20the%20sculpture.%5Cn%5CnInstead%20of%20saying%20sorry%20in%20the%20presence%20of%20Nathan%20when%20the%20player%20is%20aware%20of%20the%20breakage:%5Cn%5Cttry%20asking%20Nathan%20about%20the%20matter%20of%20breakage.%5Cn%5CnInstead%20of%20asking%20Nathan%20to%20try%20saying%20sorry%20when%20the%20player%20is%20aware%20of%20the%20breakage:%5Cn%5Cttry%20asking%20Nathan%20about%20the%20matter%20of%20breakage.%5Cn%5CnThe%20mental%20wave%20generator%20is%20a%20subject.%20The%20description%20is%20%22They're%20kind%20of%20expensive%20but%20I%20can%20save%20up.%20I%20really%20need%20one,%20though,%20because%20of%20my%20%5Bdreams%5D%22.%5Cn%5CnThe%20dreams%20is%20a%20subject.%20The%20description%20is%20%22They're%20not%20the%20kind%20of%20dream%20you%20want%20to%20have.'%20He%20closes%20his%20eyes%20and%20contemplates%20these%20undesirable%20dreams.%20'Have%20you%20ever%20woken%20up%20convinced%20you%20were%20dead?%20No,%20probably%20not.%20Well...%20At%20any%20rate,%20I%20need%20the%20%5Bgenerator%5D.%20Oh,%20don't%20worry,%20they're%20expensive%20but%20not%20so%20expensive%20that%20I%20won't%20be%20able%20to%20save%20up%20for%20another,%20in%20a%20few%20months%22.%5Cn%5CnThe%20gift%20is%20a%20subject.%20The%20description%20is%20%22%5BThe%20mental%20wave%20generator%5D%20was%20a%20present%20from%20a%20girl%20named%20%5BShari%5D.%20Actually%20I'm%20not%20sure%20she'd%20take%20to%20being%20called%20a%20girl%22.%5Cn%5CnShari%20is%20a%20subject.%20The%20description%20is%20%22Look,%20let's%20just%20not%20go%20into%20it,%20okay?%20I%20don't%20really%20want%20to%20relive%20all%20that%20right%20now.%20I%20still%20have%20a%20six-inch%20%5Bscar%5D%20shaped%20like%20a%20banana%20in%20the%20middle%20of%20my%20back%22.%5Cn%5CnThe%20scar%20is%20a%20subject.%5Cn%5CnInstead%20of%20asking%20Nathan%20about%20the%20matter%20of%20the%20scar:%5Cn%5Ctsay%20%22Nathan%20clears%20his%20throat,%20lowers%20his%20voice,%20and%20begins%20to%20tell%20you%20the%20story...%22;%5Cn%5Ctend%20the%20story%20saying%20%22End%20of%20Demo%20--%20Register%20to%20Continue!!%22%5Cn%5CnUnderstand%20%22ask%20%5Bsomeone%5D%20about%20%5Bany%20subject%5D%22%20as%20asking%20it%20about%20the%20matter%20of.%5Cn%5CnAsking%20it%20about%20the%20matter%20of%20is%20an%20action%20applying%20to%20one%20thing%20and%20one%20visible%20thing.%5Cn%5CnCheck%20asking%20it%20about%20the%20matter%20of:%5Cn%5Ctif%20the%20player%20is%20not%20aware%20of%20the%20second%20noun,%20say%20%22What%20%5Bsecond%20noun%5D?%22%20instead;%5Cn%5Ctif%20the%20noun%20does%20not%20know%20the%20second%20noun,%20say%20%22'I've%20no%20idea,'%20replies%20%5Bthe%20noun%5D.%22%20instead;%5Cn%5Ctif%20the%20player%20knows%20the%20second%20noun,%20say%20%22You've%20already%20covered%20that.%20The%20response%20was%20'%5Bdescription%20of%20the%20second%20noun%5D.'%22%20instead.%5Cn%5CnCarry%20out%20asking%20it%20about%20the%20matter%20of:%5Cn%5Ctnow%20the%20player%20knows%20the%20second%20noun.%5Cn%5CnReport%20asking%20it%20about%20the%20matter%20of:%5Cn%5Ctsay%20%22'%5Bdescription%20of%20the%20second%20noun%5D,'%20says%20%5Bthe%20noun%5D.%22%5Cn%5CnInstead%20of%20telling%20Nathan%20about%20something:%5Cn%5Ctsay%20%22He%20pinches%20the%20bridge%20of%20his%20nose.%20'I%20can't%20really%20follow%20this%20right%20now,'%20he%20says.%20'I'm%20sorry.'%22%5Cn%5CnInstead%20of%20asking%20Nathan%20about%20something:%5Cn%5Ctsay%20%22He%20shrugs%20weakly.%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22'Just%20put%20that%20down%20anywhere,'%20says%20%5BNathan%5D,%20as%20you%20come%20into%20the%20room.%20He's%20sitting%20in%20the%20sickbed%20with%20his%20legs%20straight%20out%20in%20front%20of%20him.%20'I%20don't%20care%20where.'%20His%20voice%20is%20weak,%20but%20it%20sharpens%20up%20for%20the%20last%20remark:%20'And%20don't%20make%20a%20lot%20of%20noise%20about%20it.'%5Cn%5CnConsidering%20that%20he%20woke%20you%20from%20a%20sound%20slumber%20to%20beg%20you%20to%20bring%20this%20thing%20over,%20his%20attitude%20is%20a%20bit%20much.%20You%20stare%20dubiously%20at%20the%20awkward%20crystal%20sculpture%20in%20your%20hands.%22;%5Cn%5Ctnow%20Nathan%20knows%20every%20subject.%5Cn%5CnInstead%20of%20asking%20Nathan%20about%20something%20while%20the%20player%20carries%20the%20sculpture,%20say%20%22%5BNathan%5D%20moans%20dramatically%20and%20refuses%20to%20be%20drawn%20into%20conversation.%22%5Cn%5CnThe%20player%20is%20carrying%20an%20awkward%20crystal%20sculpture.%20Understand%20%22objet%22%20or%20%22objet%20de%20hideous%22%20as%20the%20sculpture.%20The%20description%20of%20the%20sculpture%20is%20%22It%20might%20possibly%20be%20natural,%20or%20it%20might%20be%20man-made.%20It%20might%20appeal%20to%20someone,%20but%20it%20is%20certainly%20not%20to%20your%20tastes.%22%5Cn%5CnInstead%20of%20showing%20the%20sculpture%20to%20Nathan:%5Cn%5Ctsay%20%22'Please%20put%20it%20anywhere,'%20he%20says.%22%5Cn%5CnInstead%20of%20giving%20the%20sculpture%20to%20Nathan:%5Cn%5Ctsay%20%22'No,%20it%20doesn't%20work%20if%20I%20touch%20it.%20That's%20why%20I%20couldn't--%20well,%20just%20put%20it%20down.'%22%5Cn%5CnAfter%20dropping%20the%20sculpture:%5Cn%5Ctnow%20the%20player%20is%20aware%20of%20the%20breakage;%5Cn%5Ctnow%20the%20sculpture%20is%20nowhere;%5Cn%5Ctsay%20%22You%20are%20incredibly%20careful,%20but%20somehow%20the%20sculpture%20slips%20--%20you%20might%20almost%20say%20slithers%20--%20from%20your%20fingers%20and%20crashes%20into%20a%20thousand%20shards%20at%20the%20feet%20of%20%5BNathan%5D.%5Cn%5CnThere%20is%20a%20tense%20silence.%22%5Cn%5CnBefore%20reading%20a%20command:%20now%20Nathan%20is%20active.%5Cn%5CnEvery%20turn%20while%20not%20asking:%5Cn%5Ctif%20Nathan%20is%20passive,%20rule%20succeeds;%5Cn%5Ctif%20the%20player%20is%20carrying%20the%20sculpture:%5Cn%5Ct%5Ctif%20showing%20or%20giving,%20rule%20succeeds;%5Cn%5Ct%5Ctsay%20%22%5BNathan%5D%20opens%20one%20eye%20and%20stares%20at%20you%20meaningfully.%20He%20is%20waiting%20for%20you%20to%20deposit%20his%20objet%20de%20hideous%20somewhere.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20the%20breakage%20is%20pending:%5Cn%5Ct%5Ctif%20dropping,%20rule%20succeeds;%5Cn%5Ct%5Ctsay%20%22You're%20not%20quite%20sure%20where%20to%20begin,%20but%20you%20can't%20very%20well%20leave%20without%20making%20at%20least%20some%20remark%20on%20the%20smashing%20of%20the%20sculpture.%22;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctif%20a%20subject%20is%20pending:%5Cn%5Ct%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Offhand%20Reminiscences;%5Cn%5Ct%5Ctsay%20%22%5Bline%20entry%5D%5Bparagraph%20break%5D%22.%5Cn%5CnTable%20of%20Offhand%20Reminiscences%5Cnline%5Cn%22'It%20actually%20is%20kind%20of%20a%20funny%20story%20about%20%5Bthe%20random%20pending%20subject%5D,'%20%5BNathan%5D%20remarks%20casually.%22%5Cn%22%5BNathan%5D%20chuckles%20under%20his%20breath.%20'Man,%20I%20hadn't%20thought%20about%20%5Bthe%20random%20pending%20subject%5D%20in%20ages.'%22%5Cn%22He%20glances%20sideways%20at%20you.%20'It's%20nothing%20personal,%20you%20know,%20but%20I%20don't%20feel%20comfortable%20discussing%20%5Bthe%20random%20pending%20subject%5D%20with%20just%20anyone.'%22%5Cn%22'I%20don't%20know%20why%20I%20brought%20up%20%5Bthe%20random%20pending%20subject%5D%20just%20now,'%20%5BNathan%5D%20comments.%20'Don't%20mention%20it%20to%20anyone,%20if%20you%20don't%20mind.'%22%5Cn%22'Okay,%20see,%20the%20thing%20about%20%5Bthe%20random%20pending%20subject%5D%20is...'%20%20%5Bparagraph%20break%5D'Yes?'%20you%20ask,%20on%20cue.%5Bparagraph%20break%5D'...never%20mind.'%22%5Cn%22%5BNathan%5D%20makes%20an%20explosive%20exasperated%20sound.%20'Don't%20you%20want%20to%20ask%20me%20about%20%5Bthe%20random%20pending%20subject%5D?'%20he%20demands.%22%5Cn%5CnTest%20me%20with%20%22highlighting%20bright%20/%20put%20sculpture%20on%20pedestal%20/%20put%20it%20on%20table%20/%20put%20it%20on%20sickbed%20/%20drop%20it%20/%20think%20/%20ask%20nathan%20about%20breakage%20/%20think%20/%20ask%20him%20about%20generator%20/%20ask%20him%20about%20dreams%20/%20ask%20him%20about%20gift%20/%20ask%20him%20about%20shari%20/%20ask%20him%20about%20scar%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Chronic Hinting Syndrome"
</p>
<p class="quoted">
A subject is a kind of thing.
</p>
<p class="quoted">
Knowledge relates various people to various subjects. The verb to know means the knowledge relation.
</p>
<p class="quoted">
Awareness relates various people to various subjects. The verb to be aware of means the awareness relation.
</p>
<p class="quoted">
Definition: a subject is pending if the player is aware of it and it is not known by the player.
</p>
<p class="quoted">
Instead of thinking:
<br>    if the number of pending subjects is 0, say "You have no fresh leads at the moment.";
<br>    otherwise say "You recall that thus far you have not followed up with questions about [the list of pending subjects]."
</p>
<p class="quoted">
After printing the name of a subject (called idea):
<br>    now the player is aware of the idea.
</p>
</div>
<p>Now suppose that as an added convenience for the player, we let him turn on a mode in which useful conversation topics are always automatically highlighted in the text, so he doesn't waste his time trying to follow up dead leads:</p>

<div class="code">
<p class="quoted">
Setting is a kind of value. The settings are bright and dull. Understand "on" as bright. Understand "off" as dull.
</p>
<p class="quoted">
Highlighting is a setting that varies. Highlighting is dull.
</p>
<p class="quoted">
Understand "highlighting [setting]" as setting highlighting. Setting highlighting is an action out of world, applying to one setting.
</p>
<p class="quoted">
Carry out setting highlighting:
<br>    now highlighting is the setting understood.
</p>
<p class="quoted">
Report setting highlighting:
<br>    say "Highlighting is now [if highlighting is dull]off[otherwise]on[end if]."
</p>
<p class="quoted">
Before printing the name of a subject (called idea) when highlighting is bright:
<br>    unless the player knows the idea:
<br>        say "[bold type]".
</p>
<p class="quoted">
After printing the name of a subject when highlighting is bright:
<br>    say "[roman type]".
</p>
</div>
<p>...And the rest is peripheral.</p>

<div class="code">
<p class="quoted">
The Sickbay is a room. "A place arranged for Nathan's comfort, since his sickness has been prolonged and because he becomes so irritating when not comfortable." The Hallway is outside from the Sickbay.
</p>
<p class="quoted">
A supporter can be untried or rejected. A supporter is usually untried.
</p>
<p class="quoted">
The Sickbay contains a wobbly pedestal, a table, and a sickbed. Understand "bed" as the sickbed. The pedestal, the table, and the sickbed are supporters. Nathan is a man on the sickbed. The sickbed is scenery. The initial appearance of the wobbly pedestal is "A wobbly pedestal near the door has sometimes been known to support vases of flowers, but is currently bare." The initial appearance of the table is "There is also a table of a more ordinary sort."
</p>
<p class="quoted">
Nathan can be active or passive.
</p>
<p class="quoted">
After printing the name of Nathan: now Nathan is passive.
</p>
<p class="quoted">
Instead of putting the sculpture on the table:
<br>    now the table is rejected;
<br>    say "'[Not there],' [Nathan] snaps. 'The table is way too far from the sickbed.'"
</p>
<p class="quoted">
Instead of putting the sculpture on the sickbed:
<br>    now the sickbed is rejected;
<br>    say "'[Not there],' [Nathan] rebukes you. 'You don't want me knocking it over if I roll around. In pain.'"
</p>
<p class="quoted">
Instead of putting the sculpture on the pedestal:
<br>    now the pedestal is rejected;
<br>    say "The pedestal starts to wobble so ominously that you don't dare let go.
</p>
<p class="quoted">
'[Not there],' says [Nathan]. 'That thing is falling apart.'"
</p>
<p class="quoted">
Before putting something on the down: try dropping the noun instead.
</p>
<p class="quoted">
To say not there:
<br>    if all the supporters are rejected:
<br>        say "Look, the floor would be fine";
<br>    otherwise if the number of rejected supporters is 1:
<br>        say "Yeah, anywhere but there, I'm afraid";
<br>    otherwise:
<br>        say "Come on, use your head -- I can't be watching you all the time, I'm sick".
</p>
<p class="quoted">
Instead of going outside when the player is carrying the sculpture:
<br>    say "You've still got this sculpture to get rid of."
</p>
<p class="quoted">
Instead of going outside when the breakage is pending:
<br>    say "You can't very well smash in front of [Nathan] his prize sculpture and then just scamper off without saying something. Appealing though the thought is at the moment."
</p>
<p class="quoted">
Instead of going outside when a subject which is not the breakage is pending:
<br>    say "'Yeah, go ahead,' says [Nathan], with a martyr-like air. 'It's probably best that you don't hear about [the random pending subject]. It's not something I'd go into normally.'"
</p>
<p class="quoted">
The breakage is a subject. The description is "It's not a big deal. I'll just buy a new [mental wave generator].' A slight awkward pause. 'I mean, this one was a [gift], but don't worry about it". Understand "accident" or "smashing" or "breaking" or "shard" or "mishap" or "shards" or "mistake" as the breakage. Understand "sculpture" as the breakage when the player is not carrying the sculpture.
</p>
<p class="quoted">
Instead of saying sorry in the presence of Nathan when the player is aware of the breakage:
<br>    try asking Nathan about the matter of breakage.
</p>
<p class="quoted">
Instead of asking Nathan to try saying sorry when the player is aware of the breakage:
<br>    try asking Nathan about the matter of breakage.
</p>
<p class="quoted">
The mental wave generator is a subject. The description is "They're kind of expensive but I can save up. I really need one, though, because of my [dreams]".
</p>
<p class="quoted">
The dreams is a subject. The description is "They're not the kind of dream you want to have.' He closes his eyes and contemplates these undesirable dreams. 'Have you ever woken up convinced you were dead? No, probably not. Well... At any rate, I need the [generator]. Oh, don't worry, they're expensive but not so expensive that I won't be able to save up for another, in a few months".
</p>
<p class="quoted">
The gift is a subject. The description is "[The mental wave generator] was a present from a girl named [Shari]. Actually I'm not sure she'd take to being called a girl".
</p>
<p class="quoted">
Shari is a subject. The description is "Look, let's just not go into it, okay? I don't really want to relive all that right now. I still have a six-inch [scar] shaped like a banana in the middle of my back".
</p>
<p class="quoted">
The scar is a subject.
</p>
<p class="quoted">
Instead of asking Nathan about the matter of the scar:
<br>    say "Nathan clears his throat, lowers his voice, and begins to tell you the story...";
<br>    end the story saying "End of Demo -- Register to Continue!!"
</p>
<p class="quoted">
Understand "ask [someone] about [any subject]" as asking it about the matter of.
</p>
<p class="quoted">
Asking it about the matter of is an action applying to one thing and one visible thing.
</p>
<p class="quoted">
Check asking it about the matter of:
<br>    if the player is not aware of the second noun, say "What [second noun]?" instead;
<br>    if the noun does not know the second noun, say "'I've no idea,' replies [the noun]." instead;
<br>    if the player knows the second noun, say "You've already covered that. The response was '[description of the second noun].'" instead.
</p>
<p class="quoted">
Carry out asking it about the matter of:
<br>    now the player knows the second noun.
</p>
<p class="quoted">
Report asking it about the matter of:
<br>    say "'[description of the second noun],' says [the noun]."
</p>
<p class="quoted">
Instead of telling Nathan about something:
<br>    say "He pinches the bridge of his nose. 'I can't really follow this right now,' he says. 'I'm sorry.'"
</p>
<p class="quoted">
Instead of asking Nathan about something:
<br>    say "He shrugs weakly."
</p>
<p class="quoted">
When play begins:
<br>    say "'Just put that down anywhere,' says [Nathan], as you come into the room. He's sitting in the sickbed with his legs straight out in front of him. 'I don't care where.' His voice is weak, but it sharpens up for the last remark: 'And don't make a lot of noise about it.'
</p>
<p class="quoted">
Considering that he woke you from a sound slumber to beg you to bring this thing over, his attitude is a bit much. You stare dubiously at the awkward crystal sculpture in your hands.";
<br>    now Nathan knows every subject.
</p>
<p class="quoted">
Instead of asking Nathan about something while the player carries the sculpture, say "[Nathan] moans dramatically and refuses to be drawn into conversation."
</p>
<p class="quoted">
The player is carrying an awkward crystal sculpture. Understand "objet" or "objet de hideous" as the sculpture. The description of the sculpture is "It might possibly be natural, or it might be man-made. It might appeal to someone, but it is certainly not to your tastes."
</p>
<p class="quoted">
Instead of showing the sculpture to Nathan:
<br>    say "'Please put it anywhere,' he says."
</p>
<p class="quoted">
Instead of giving the sculpture to Nathan:
<br>    say "'No, it doesn't work if I touch it. That's why I couldn't-- well, just put it down.'"
</p>
<p class="quoted">
After dropping the sculpture:
<br>    now the player is aware of the breakage;
<br>    now the sculpture is nowhere;
<br>    say "You are incredibly careful, but somehow the sculpture slips -- you might almost say slithers -- from your fingers and crashes into a thousand shards at the feet of [Nathan].
</p>
<p class="quoted">
There is a tense silence."
</p>
<p class="quoted">
Before reading a command: now Nathan is active.
</p>
<p class="quoted">
Every turn while not asking:
<br>    if Nathan is passive, rule succeeds;
<br>    if the player is carrying the sculpture:
<br>        if showing or giving, rule succeeds;
<br>        say "[Nathan] opens one eye and stares at you meaningfully. He is waiting for you to deposit his objet de hideous somewhere.";
<br>        rule succeeds;
<br>    if the breakage is pending:
<br>        if dropping, rule succeeds;
<br>        say "You're not quite sure where to begin, but you can't very well leave without making at least some remark on the smashing of the sculpture.";
<br>        rule succeeds;
<br>    if a subject is pending:
<br>        choose a random row in the Table of Offhand Reminiscences;
<br>        say "[line entry][paragraph break]".
</p>
<p class="quoted">
Table of Offhand Reminiscences
<br>line
<br>"'It actually is kind of a funny story about [the random pending subject],' [Nathan] remarks casually."
<br>"[Nathan] chuckles under his breath. 'Man, I hadn't thought about [the random pending subject] in ages.'"
<br>"He glances sideways at you. 'It's nothing personal, you know, but I don't feel comfortable discussing [the random pending subject] with just anyone.'"
<br>"'I don't know why I brought up [the random pending subject] just now,' [Nathan] comments. 'Don't mention it to anyone, if you don't mind.'"
<br>"'Okay, see, the thing about [the random pending subject] is...'  [paragraph break]'Yes?' you ask, on cue.[paragraph break]'...never mind.'"
<br>"[Nathan] makes an explosive exasperated sound. 'Don't you want to ask me about [the random pending subject]?' he demands."
</p>
<p class="quoted">
Test me with "highlighting bright / put sculpture on pedestal / put it on table / put it on sickbed / drop it / think / ask nathan about breakage / think / ask him about generator / ask him about dreams / ask him about gift / ask him about shari / ask him about scar".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.10">WI §18.10. Printing the name of something</a><br><a href="rb_7.html#rb-7.11">RB §7.11. Character Knowledge and Reasoning</a>
</div></details>
</div></section>
<section class="section" id="rb-7.12"><div>





<h3>RB §7.12. Characters Following a Script</h3>
<p>So far we've seen characters who will answer questions whenever the player feels like asking, and characters who will use some reasoning procedure to direct the conversation. There is a third option, often useful in IF with a fast-paced narrative: the character follows a conversational script, making sure to cover a series of points before the scene ends.</p>
<p>There are more and less tedious ways to implement this kind of scene. The worst case is one in which the player is not allowed to interrupt or ask any questions; he must merely wait until the character runs out of things to say. This can be useful and plausible in very small doses - say, two or three turns - but if the character has more information than that to impart, we may want to make the scene more interactive.</p>
<p><a href="rb_7.html#example-161" class="example-link" onClick="(function() { document.getElementById('example-161').setAttribute('open','open'); return true; })();">Pine 2</a><span class="example-difficulty"> ★★★</span> partly addresses this challenge: the character has a line of conversation that she wants to follow to its conclusion; we may ask questions along the way, but if we're silent, she'll take up the slack, and the scene won't end until she's done with what she has to say.</p>
<p>Another kind of script is a series of actions for the character to perform. <a href="rb_7.html#example-426" class="example-link" onClick="(function() { document.getElementById('example-426').setAttribute('open','open'); return true; })();">Robo</a><span class="example-difficulty"> ★</span> demonstrates a programmable robot that will observe what the player does, then try to emulate the actions later when switched into play-back mode. <a href="rb_7.html#example-429" class="example-link" onClick="(function() { document.getElementById('example-429').setAttribute('open','open'); return true; })();">Robo 2</a><span class="example-difficulty"> ★★★</span> extends this capacity to allow the robot to contain fifteen different scripts which the player can store, list, run, and erase.</p>
<p><a href="rb_7.html#example-434" class="example-link" onClick="(function() { document.getElementById('example-434').setAttribute('open','open'); return true; })();">Your Mother Doesn't Work Here</a><span class="example-difficulty"> ★</span> offers a character with a list of tasks but whose plans can be interrupted by more urgent demands. This verges on not being a simple script any more: if we carry the idea to its natural conclusion, we get characters capable of planning scripts for themselves to accomplish their aims. This is conventionally called "goal-seeking".</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_7.html#rb-7.15" class="crossreference_link">Goal-Seeking Characters</a> for characters that work out plans for themselves in order to accomplish various outcomes</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-426"><summary><span class="example-summary">426. Robo 1</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Robo%22%5Cn%5CnThe%20Experimentation%20Chamber%20is%20a%20room.%20Robo%20is%20a%20man%20in%20the%20Experimentation%20Chamber.%20%22Robo,%20your%20prototype%20tin%20companion,%20stands%20awkwardly%20beside%20you.%20In%20the%20middle%20of%20his%20chest%20is%20a%20red%20enamel%20button%5Bif%20the%20red%20button%20is%20switched%20on%5D,%20currently%20depressed%5Botherwise%5D,%20currently%20un-depressed%5Bend%20if%5D.%22%5Cn%5CnThe%20red%20button%20is%20a%20device.%20It%20is%20part%20of%20Robo.%20Instead%20of%20pushing%20the%20red%20button:%20if%20the%20red%20button%20is%20switched%20off,%20try%20switching%20on%20the%20red%20button;%20otherwise%20try%20switching%20off%20the%20red%20button.%5Cn%5CnAfter%20switching%20on%20the%20red%20button:%5Cn%5Ctsay%20%22CLICK!%20Robo%20is%20now%20in%20play-back%20mode.%22%5Cn%5CnAfter%20switching%20off%20the%20red%20button:%5Cn%5Ctsay%20%22CLACK!%20Robo%20is%20now%20in%20observation%20mode.%22%5Cn%5CnDefinition:%20Robo%20is%20watching%20if%20the%20red%20button%20is%20switched%20off.%5Cn%5CnThe%20current%20instruction%20set%20is%20a%20list%20of%20stored%20actions%20that%20varies.%5Cn%5CnAfter%20doing%20something%20when%20Robo%20is%20watching%20and%20Robo%20can%20see%20the%20player:%5Cn%5Ctnow%20the%20actor%20is%20Robo;%5Cn%5Ctadd%20the%20current%20action%20to%20the%20current%20instruction%20set;%5Cn%5Ctnow%20the%20actor%20is%20the%20player;%5Cn%5Ctsay%20%22Robo%20watches%20you%20%5Bthe%20current%20action%5D%5Bone%20of%5D,%20his%20yellow%20eyes%20lamp-like%20and%20observant%5Bor%5D.%20In%20his%20metal%20head,%20gears%20whirr%5Bor%5D,%20his%20brushed-copper%20handlebar%20moustaches%20twitching%5Bor%5D%20impassively%5Bat%20random%5D.%22;%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnEvery%20turn%20when%20Robo%20is%20not%20watching:%5Cn%5Ctif%20the%20number%20of%20entries%20in%20the%20current%20instruction%20set%20is%200:%5Cn%5Ct%5Ctsay%20%22Robo%20has%20run%20out%20of%20behavior%20and%20grinds%20to%20an%20(expectant)%20halt.%22;%5Cn%5Ct%5Ctnow%20the%20red%20button%20is%20switched%20off;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctlet%20the%20next%20task%20be%20entry%201%20of%20the%20current%20instruction%20set;%5Cn%5Ct%5Cttry%20the%20next%20task;%5Cn%5Ct%5Ctremove%20entry%201%20from%20the%20current%20instruction%20set.%5Cn%5CnThe%20red%20block%20and%20the%20blue%20cylinder%20are%20things%20in%20the%20Experimentation%20Chamber.%20The%20counter%20is%20a%20supporter%20in%20the%20Experimentation%20Chamber.%20The%20counter%20is%20scenery.%5Cn%5CnReport%20Robo%20examining%20Robo:%5Cn%5Ctsay%20%22Robo%20examines%20each%20of%20his%20hands%20in%20turn,%20then%20each%20of%20his%20legs%20(bending%20over%20mostly%20double%20in%20the%20middle%20to%20do%20this).%22%20instead.%5Cn%5CnReport%20Robo%20examining%20the%20player:%5Cn%5Ctsay%20%22Robo%20stares%20at%20you,%20unblinkingly,%20for%20several%20seconds%20together%5Bif%20a%20random%20chance%20of%201%20in%207%20succeeds%5D.%20His%20left%20moustache-bar%20twitches%20infinitesimally%20upward%5Bend%20if%5D.%22%20instead.%5Cn%5CnReport%20Robo%20taking%20the%20cylinder:%5Cn%5Ctsay%20%22%5Bone%20of%5D%5BRobo%5D%20needs%20several%20attempts%20to%20get%20his%20metal%20fingers%20around%20%5Bthe%20cylinder%5D%20--%20they%20are%20not%20designed%20for%20grasping%20small%20objects%20elegantly.%20But%20at%20last%20he%20succeeds%5Bor%5DOnce%20again,%20Robo%20struggles%20a%20bit%20before%20picking%20up%20%5Bthe%20cylinder%5D%5Bstopping%5D.%22%20instead.%5Cn%5CnTest%20me%20with%20%22z%20/%20take%20cylinder%20/%20take%20block%20/%20put%20cylinder%20on%20counter%20/%20put%20block%20on%20counter%20/%20x%20robo%20/%20x%20me%20/%20get%20block%20/%20drop%20block%20/%20press%20red%20button%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Robo"
</p>
<p class="quoted">
The Experimentation Chamber is a room. Robo is a man in the Experimentation Chamber. "Robo, your prototype tin companion, stands awkwardly beside you. In the middle of his chest is a red enamel button[if the red button is switched on], currently depressed[otherwise], currently un-depressed[end if]."
</p>
<p class="quoted">
The red button is a device. It is part of Robo. Instead of pushing the red button: if the red button is switched off, try switching on the red button; otherwise try switching off the red button.
</p>
<p class="quoted">
After switching on the red button:
<br>    say "CLICK! Robo is now in play-back mode."
</p>
<p class="quoted">
After switching off the red button:
<br>    say "CLACK! Robo is now in observation mode."
</p>
<p class="quoted">
Definition: Robo is watching if the red button is switched off.
</p>
<p class="quoted">
The current instruction set is a list of stored actions that varies.
</p>
<p class="quoted">
After doing something when Robo is watching and Robo can see the player:
<br>    now the actor is Robo;
<br>    add the current action to the current instruction set;
<br>    now the actor is the player;
<br>    say "Robo watches you [the current action][one of], his yellow eyes lamp-like and observant[or]. In his metal head, gears whirr[or], his brushed-copper handlebar moustaches twitching[or] impassively[at random].";
<br>    continue the action.
</p>
<p class="quoted">
Every turn when Robo is not watching:
<br>    if the number of entries in the current instruction set is 0:
<br>        say "Robo has run out of behavior and grinds to an (expectant) halt.";
<br>        now the red button is switched off;
<br>    otherwise:
<br>        let the next task be entry 1 of the current instruction set;
<br>        try the next task;
<br>        remove entry 1 from the current instruction set.
</p>
<p class="quoted">
The red block and the blue cylinder are things in the Experimentation Chamber. The counter is a supporter in the Experimentation Chamber. The counter is scenery.
</p>
<p class="quoted">
Report Robo examining Robo:
<br>    say "Robo examines each of his hands in turn, then each of his legs (bending over mostly double in the middle to do this)." instead.
</p>
<p class="quoted">
Report Robo examining the player:
<br>    say "Robo stares at you, unblinkingly, for several seconds together[if a random chance of 1 in 7 succeeds]. His left moustache-bar twitches infinitesimally upward[end if]." instead.
</p>
<p class="quoted">
Report Robo taking the cylinder:
<br>    say "[one of][Robo] needs several attempts to get his metal fingers around [the cylinder] -- they are not designed for grasping small objects elegantly. But at last he succeeds[or]Once again, Robo struggles a bit before picking up [the cylinder][stopping]." instead.
</p>
<p class="quoted">
Test me with "z / take cylinder / take block / put cylinder on counter / put block on counter / x robo / x me / get block / drop block / press red button / z / z / z / z / z / z / z / z / z / z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_21.html#wi-21.5">WI §21.5. Building lists</a><br><a href="rb_7.html#rb-7.12">RB §7.12. Characters Following a Script</a>
</div></details><details class="full-example" id="example-434"><summary><span class="example-summary">434. Your Mother Doesn't Work Here</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose the player's mother is supposed to be cleaning the living room, but she can be interrupted by the need to pick up things the player has dropped. New tasks are added to the end of her "current plan" list; every turn, she attempts to do whatever is the last entry on that list.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Your%20Mother%20Doesn't%20Work%20Here%22%5Cn%5CnA%20person%20has%20a%20list%20of%20stored%20actions%20called%20the%20current%20plan.%5Cn%5CnEvery%20turn:%5Cn%5Ctrepeat%20with%20culprit%20running%20through%20people%20who%20are%20not%20the%20player:%5Cn%5Ct%5Ctif%20the%20number%20of%20entries%20in%20current%20plan%20of%20the%20culprit%20is%20greater%20than%200:%5Cn%5Ct%5Ct%5Ctlet%20N%20be%20the%20number%20of%20entries%20in%20the%20current%20plan%20of%20the%20culprit;%5Cn%5Ct%5Ct%5Cttry%20entry%20N%20of%20the%20current%20plan%20of%20the%20culprit;%5Cn%5Ct%5Ct%5Ctremove%20entry%20N%20from%20the%20current%20plan%20of%20the%20culprit.%5Cn%5CnThe%20Living%20Room%20is%20a%20room.%20It%20contains%20a%20somewhat%20muddy%20Persian%20rug.%20Your%20mother%20is%20a%20woman%20in%20the%20Living%20Room.%5Cn%5CnWest%20of%20the%20Living%20Room%20is%20the%20Kitchen.%5Cn%5CnInstead%20of%20your%20mother%20rubbing%20the%20rug:%5Cn%5Ctsay%20%22Your%20mother%20scrubs%20the%20stained%20areas%20of%20the%20rug,%20muttering%20to%20herself.%22%5Cn%5CnInstead%20of%20taking%20something:%5Cn%5Ctsay%20%22Nah,%20Mom'll%20get%20that.%22%5Cn%5CnReport%20your%20mother%20taking%20something:%5Cn%5Ctsay%20%22Your%20mother%20picks%20up%20%5Bthe%20noun%5D%5Bone%20of%5D,%20sighing%20deeply%5Bor%5D,%20jaw%20tight%5Bor%5D,%20with%20assorted%20comments%20on%20your%20manners%5Bor%5D;%20to%20judge%20from%20her%20comments,%20she%20is%20also%20indulging%20in%20a%20pleasant%20fantasy%20about%20Swiss%20boarding%20schools%5Bstopping%5D.%22%20instead.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctadd%20mother%20going%20west%20to%20the%20current%20plan%20of%20mother;%5Cn%5Ctadd%20mother%20rubbing%20the%20rug%20to%20the%20current%20plan%20of%20mother.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20mother%20is%20not%20in%20the%20Living%20Room,%20end%20the%20story%20finally.%5Cn%5CnCarry%20out%20dropping%20something:%5Cn%5Ctadd%20mother%20taking%20the%20noun%20to%20the%20current%20plan%20of%20mother.%5Cn%5CnThe%20player%20carries%20some%20dirty%20socks,%20some%20dirty%20shoes,%20a%20dirty%20hat,%20a%20pair%20of%20dirty%20trousers,%20and%20a%20backpack.%5Cn%5CnTest%20me%20with%20%22drop%20socks%20/%20z%20/%20drop%20shoes%20/%20drop%20hat%20/%20drop%20all%20/%20z%20/%20z%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Your Mother Doesn't Work Here"
</p>
<p class="quoted">
A person has a list of stored actions called the current plan.
</p>
<p class="quoted">
Every turn:
<br>    repeat with culprit running through people who are not the player:
<br>        if the number of entries in current plan of the culprit is greater than 0:
<br>            let N be the number of entries in the current plan of the culprit;
<br>            try entry N of the current plan of the culprit;
<br>            remove entry N from the current plan of the culprit.
</p>
<p class="quoted">
The Living Room is a room. It contains a somewhat muddy Persian rug. Your mother is a woman in the Living Room.
</p>
<p class="quoted">
West of the Living Room is the Kitchen.
</p>
<p class="quoted">
Instead of your mother rubbing the rug:
<br>    say "Your mother scrubs the stained areas of the rug, muttering to herself."
</p>
<p class="quoted">
Instead of taking something:
<br>    say "Nah, Mom'll get that."
</p>
<p class="quoted">
Report your mother taking something:
<br>    say "Your mother picks up [the noun][one of], sighing deeply[or], jaw tight[or], with assorted comments on your manners[or]; to judge from her comments, she is also indulging in a pleasant fantasy about Swiss boarding schools[stopping]." instead.
</p>
<p class="quoted">
When play begins:
<br>    add mother going west to the current plan of mother;
<br>    add mother rubbing the rug to the current plan of mother.
</p>
<p class="quoted">
Every turn:
<br>    if mother is not in the Living Room, end the story finally.
</p>
<p class="quoted">
Carry out dropping something:
<br>    add mother taking the noun to the current plan of mother.
</p>
<p class="quoted">
The player carries some dirty socks, some dirty shoes, a dirty hat, a pair of dirty trousers, and a backpack.
</p>
<p class="quoted">
Test me with "drop socks / z / drop shoes / drop hat / drop all / z / z".
</p>
</div>
<p>As goal-seeking goes, this is fairly rudimentary; "Boston Cream" provides an alternative (and slightly more sophisticated approach), but for really complex goal-seeking characters, it is probably best to turn to the character extensions designed for Inform.</p>
</div>
<div class="linkback">
<a href="wi_21.html#wi-21.11">WI §21.11. Variations: arrays, logs, queues, stacks, sets, sieves and rings</a><br><a href="rb_7.html#rb-7.12">RB §7.12. Characters Following a Script</a>
</div></details><details class="full-example" id="example-161"><summary><span class="example-summary">161. Pine 2</span> <span class="example-difficulty">★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Pine%22%5Cn%5CnA%20person%20can%20be%20asleep%20or%20awake.%20A%20person%20can%20be%20active%20or%20passive.%5Cn%5CnThe%20Spinning%20Tower%20is%20a%20room.%20%22A%20remote%20corner%20of%20the%20old%20castle,%20reserved%20for%20spinning%20and%20weaving%20tasks.%22%5Cn%5CnSleeping%20Beauty%20is%20an%20asleep%20woman%20in%20the%20Spinning%20Tower.%20%22%5Bif%20asleep%5DSleeping%20Beauty%20lies%20here,%20oblivious%20to%20your%20presence%5Botherwise%5DSleeping%20Beauty%20stands%20beside%20you,%20looking%20a%20little%20confused%5Bend%20if%5D.%22%20The%20description%20is%20%22She%20is%20even%20more%20magnificent%20than%20the%20rumors%20suggested.%22%20Understand%20%22woman%22%20or%20%22girl%22%20or%20%22princess%22%20or%20%22lady%22%20as%20Sleeping%20Beauty.%5Cn%5CnDiscovery%20is%20a%20scene.%20Discovery%20begins%20when%20play%20begins.%20Discovery%20ends%20when%20Sleeping%20Beauty%20is%20awake.%20Marriage%20Proposal%20is%20a%20scene.%20Marriage%20Proposal%20begins%20when%20Discovery%20ends.%5Cn%5CnWhen%20Discovery%20ends:%20say%20%22Throughout%20the%20palace%20you%20can%20hear%20the%20other%20sounds%20of%20stirring%20and%20movement%20as%20the%20spell%20of%20centuries%20is%20broken.%22%5Cn%5CnInstead%20of%20waking%20an%20awake%20person:%20say%20%22Redundant.%22%5Cn%5CnInstead%20of%20waking%20an%20asleep%20person:%20say%20%22Yes,%20but%20how?%22%5Cn%5CnInstead%20of%20attacking%20an%20asleep%20person:%5Cn%5Ctnow%20the%20noun%20is%20awake;%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20sits%20bolt%20upright.%20'Hey!%20Ow!'%20So%20much%20for%20that%20true%20love's%20kiss%20nonsense.%22%5Cn%5CnInstead%20of%20kissing%20an%20asleep%20person:%5Cn%5Ctnow%20the%20noun%20is%20awake;%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20slowly%20stirs%20to%20wakefulness!%22%5Cn%5CnInstead%20of%20throwing%20water%20at%20an%20asleep%20person:%5Cn%5Ctnow%20the%20second%20noun%20is%20awake;%5Cn%5Ctnow%20the%20noun%20is%20nowhere;%5Cn%5Ctsay%20%22You%20pour%20out%20%5Bthe%20noun%5D%20on%20%5Bthe%20second%20noun%5D.%5Cn%5Cn%5BThe%20second%20noun%5D%20wakes,%20shuddering.%20'Agh!%20I%20had%20a%20terrible%20dream%20about%20drowning%20and%20then--%20Hey!'%22%5Cn%5CnThe%20player%20carries%20a%20jug%20of%20water.%20Understand%20%22pour%20%5Bsomething%5D%20on%20%5Bsomething%5D%22%20or%20%22splash%20%5Bsomething%5D%20at/on%20%5Bsomething%5D%22%20as%20throwing%20it%20at.%5Cn%5Cn%5BSo%20much,%20we%20had%20before.%20Now,%20suppose%20we%20want%20a%20conversation%20style%20which%20allows%20the%20player%20to%20move%20conversation%20forward%20by%20asking%20appropriate%20questions,%20but%20which%20will%20keep%20moving%20forward%20even%20if%20he%20doesn't.%20To%20this%20end,%20we%20provide%20a%20table%20--%20a%20borrowing%20from%20a%20later%20chapter.%20In%20the%20table,%20we%20record%20two%20ways%20of%20performing%20each%20conversation%20bit,%20one%20which%20reflects%20the%20player's%20participation,%20and%20one%20in%20which%20the%20character%20moves%20things%20onward:%5D%5Cn%5CnTable%20of%20Conversation%5Cntopic%5Ctreply%5Ctquip%5Cn%22dream/dreams/nightmare/nightmares/sleep%22%5Ct%22'Sleep%20well?'%20you%20ask%20solicitously.%5Cn%5Cn'Not%20really,'%20she%20replies,%20edging%20away%20from%20you.%20So%20much%20for%20that%20angle.%22%5Ct%22'Ghastly%20nightmares,'%20she%20remarks.%20You%20nod%20politely.%22%5Cn%22marriage/love/wedding/boyfriend/beau/lover%22%5Ct%22'So,'%20you%20say.%20'This%20is%20a%20little%20weird%20since%20we%20just%20met,%20but,%20um.%20Would%20you%20like%20to%20get%20married?'%5Cn%5CnShe%20looks%20at%20you%20nervously.%20'Do%20I%20have%20to?'%22%5Ct%22'I,%20er,'%20she%20says.%20'I%20hope%20I'm%20not%20supposed%20to%20marry%20you%20or%20something.'%22%5Cn%22marriage/love/wedding/boyfriend/beau/lover%22%5Ct%22'I%20was%20told%20I%20was%20going%20to%20marry%20you%20and%20inherit%20the%20kingdom,'%20you%20say,%20apologetically.%20'Would%20that%20be%20very%20bad?'%5Cn%5Cn'Oh,%20it's%20not%20you%20--%20I'm%20seeing%20someone,'%20she%20says,%20smiling%20quickly.%5Cn%5CnYou%20try%20to%20think%20how%20to%20point%20out%20that%20it's%20been%20a%20hundred%20years%20since%20she%20last%20saw%20her%20boyfriend.%22%5Ct%22'Do%20you%20think%20I%20could%20go%20look%20for%20someone?%20I'm%20seeing%20him,%20you%20see,%20and%20I%20think%20I've%20been...%20sick...%20for%20a%20while,%20so%20he%20might%20be%20worried.'%5Cn%5CnYou%20try%20to%20think%20how%20to%20point%20out%20that%20it's%20been%20a%20hundred%20years%20since%20she%20last%20saw%20her%20boyfriend.%22%5Cn%22marriage/love/wedding/boyfriend/beau/lover%22%5Ct%22'You've%20been%20up%20here%20for%20a%20hundred%20years,'%20you%20say.%20An%20unpleasant%20thought%20occurs%20to%20you.%20'Was%20your%20young%20man%20in%20the%20castle%20somewhere?'%5Cn%5CnShe%20shakes%20her%20head%20mutely.%22%5Ct%22She%20goes%20to%20the%20window%20and%20looks%20out%20at%20the%20now-fading%20thicket%20of%20briar.%20'That%20took%20a%20while%20to%20grow,'%20she%20observes.%20'I've%20been%20up%20here%20longer%20than%20I%20thought.'%5Cn%5CnYou%20shrug,%20uncomfortable.%22%5Cn%5CnInstead%20of%20asking%20an%20awake%20beauty%20about%20a%20topic%20listed%20in%20the%20Table%20of%20Conversation:%5Cn%5Ctnow%20Beauty%20is%20passive;%5Cn%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctblank%20out%20the%20whole%20row.%5Cn%5Cn%5BThe%20%22now%20Beauty%20is%20passive%22%20line%20prevents%20her%20from%20making%20any%20conversation%20of%20her%20own%20on%20a%20turn%20when%20we've%20spoken%20to%20her.%20This%20keeps%20the%20conversation%20from%20progressing%20too%20quickly.%5D%5Cn%5CnInstead%20of%20telling%20an%20awake%20beauty%20about%20something:%20try%20asking%20the%20noun%20about%20it.%5Cn%5CnInstead%20of%20asking%20an%20asleep%20person%20about%20something:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20snores.%22%5Cn%5CnMarriage%20Proposal%20ends%20when%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Conversation%20is%200.%5Cn%5CnEvery%20turn%20during%20Marriage%20Proposal:%5Cn%5Ctif%20Beauty%20is%20active:%5Cn%5Ct%5Ctrepeat%20through%20Table%20of%20Conversation:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bquip%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ct%5Ctmake%20no%20decision.%5Cn%5Cn%5BAfter%20we've%20generated%20any%20spontaneous%20conversation,%20we%20return%20her%20to%20her%20regular%20active%20state.%5D%5Cn%5CnEvery%20turn:%20now%20Beauty%20is%20active.%5Cn%5CnWhen%20Marriage%20Proposal%20ends:%20end%20the%20story%20saying%20%22This%20is%20going%20to%20take%20some%20explaining.%22%5Cn%5CnTest%20me%20with%20%22x%20beauty%20/%20wake%20beauty%20/%20pour%20water%20on%20beauty%20/%20ask%20beauty%20about%20sleep%20/%20z%20/%20ask%20beauty%20about%20marriage%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Pine"
</p>
<p class="quoted">
A person can be asleep or awake. A person can be active or passive.
</p>
<p class="quoted">
The Spinning Tower is a room. "A remote corner of the old castle, reserved for spinning and weaving tasks."
</p>
<p class="quoted">
Sleeping Beauty is an asleep woman in the Spinning Tower. "[if asleep]Sleeping Beauty lies here, oblivious to your presence[otherwise]Sleeping Beauty stands beside you, looking a little confused[end if]." The description is "She is even more magnificent than the rumors suggested." Understand "woman" or "girl" or "princess" or "lady" as Sleeping Beauty.
</p>
<p class="quoted">
Discovery is a scene. Discovery begins when play begins. Discovery ends when Sleeping Beauty is awake. Marriage Proposal is a scene. Marriage Proposal begins when Discovery ends.
</p>
<p class="quoted">
When Discovery ends: say "Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken."
</p>
<p class="quoted">
Instead of waking an awake person: say "Redundant."
</p>
<p class="quoted">
Instead of waking an asleep person: say "Yes, but how?"
</p>
<p class="quoted">
Instead of attacking an asleep person:
<br>    now the noun is awake;
<br>    say "[The noun] sits bolt upright. 'Hey! Ow!' So much for that true love's kiss nonsense."
</p>
<p class="quoted">
Instead of kissing an asleep person:
<br>    now the noun is awake;
<br>    say "[The noun] slowly stirs to wakefulness!"
</p>
<p class="quoted">
Instead of throwing water at an asleep person:
<br>    now the second noun is awake;
<br>    now the noun is nowhere;
<br>    say "You pour out [the noun] on [the second noun].
</p>
<p class="quoted">
[The second noun] wakes, shuddering. 'Agh! I had a terrible dream about drowning and then-- Hey!'"
</p>
<p class="quoted">
The player carries a jug of water. Understand "pour [something] on [something]" or "splash [something] at/on [something]" as throwing it at.
</p>
</div>
<p>So much, we had before. Now, suppose we want a conversation style which allows the player to move conversation forward by asking appropriate questions, but which will keep moving forward even if he doesn't. To this end, we provide a table -- a borrowing from a later chapter. In the table, we record two ways of performing each conversation bit, one which reflects the player's participation, and one in which the character moves things onward:</p>

<div class="code">
<p class="quoted">
Table of Conversation
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
<td class="quotedtablecell"><p class="quoted">quip</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"dream/dreams/nightmare/nightmares/sleep"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Sleep well?' you ask solicitously.</p></td>
</tr>
</table>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">'Not really,' she replies, edging away from you. So much for that angle."</p></td>
<td class="quotedtablecell"><p class="quoted">"'Ghastly nightmares,' she remarks. You nod politely."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"marriage/love/wedding/boyfriend/beau/lover"</p></td>
<td class="quotedtablecell"><p class="quoted">"'So,' you say. 'This is a little weird since we just met, but, um. Would you like to get married?'</p></td>
</tr>
</table>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">She looks at you nervously. 'Do I have to?'"</p></td>
<td class="quotedtablecell"><p class="quoted">"'I, er,' she says. 'I hope I'm not supposed to marry you or something.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"marriage/love/wedding/boyfriend/beau/lover"</p></td>
<td class="quotedtablecell"><p class="quoted">"'I was told I was going to marry you and inherit the kingdom,' you say, apologetically. 'Would that be very bad?'</p></td>
</tr>
</table>
<p class="quoted">
'Oh, it's not you -- I'm seeing someone,' she says, smiling quickly.
</p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">You try to think how to point out that it's been a hundred years since she last saw her boyfriend."</p></td>
<td class="quotedtablecell"><p class="quoted">"'Do you think I could go look for someone? I'm seeing him, you see, and I think I've been... sick... for a while, so he might be worried.'</p></td>
</tr>
</table>
<p class="quoted">
You try to think how to point out that it's been a hundred years since she last saw her boyfriend."
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">"marriage/love/wedding/boyfriend/beau/lover"</p></td>
<td class="quotedtablecell"><p class="quoted">"'You've been up here for a hundred years,' you say. An unpleasant thought occurs to you. 'Was your young man in the castle somewhere?'</p></td>
</tr>
</table>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">She shakes her head mutely."</p></td>
<td class="quotedtablecell"><p class="quoted">"She goes to the window and looks out at the now-fading thicket of briar. 'That took a while to grow,' she observes. 'I've been up here longer than I thought.'</p></td>
</tr>
</table>
<p class="quoted">
You shrug, uncomfortable."
</p>
<p class="quoted">
Instead of asking an awake beauty about a topic listed in the Table of Conversation:
<br>    now Beauty is passive;
<br>    say "[reply entry][paragraph break]";
<br>    blank out the whole row.
</p>
</div>
<p>The "now Beauty is passive" line prevents her from making any conversation of her own on a turn when we've spoken to her. This keeps the conversation from progressing too quickly.</p>

<div class="code">
<p class="quoted">
Instead of telling an awake beauty about something: try asking the noun about it.
</p>
<p class="quoted">
Instead of asking an asleep person about something:
<br>    say "[The noun] snores."
</p>
<p class="quoted">
Marriage Proposal ends when the number of filled rows in the Table of Conversation is 0.
</p>
<p class="quoted">
Every turn during Marriage Proposal:
<br>    if Beauty is active:
<br>        repeat through Table of Conversation:
<br>            say "[quip entry][paragraph break]";
<br>            blank out the whole row;
<br>            make no decision.
</p>
</div>
<p>After we've generated any spontaneous conversation, we return her to her regular active state.</p>

<div class="code">
<p class="quoted">
Every turn: now Beauty is active.
</p>
<p class="quoted">
When Marriage Proposal ends: end the story saying "This is going to take some explaining."
</p>
<p class="quoted">
Test me with "x beauty / wake beauty / pour water on beauty / ask beauty about sleep / z / ask beauty about marriage".
</p>
</div>
<p>Now we have a scenario in which the player can ask her some questions out of order if he really wants to, but the scene will not end until the basic conversation topics have been exhausted. If we wanted to add some other chit-chat, not as part of the main conversation strand, but by way of optional enrichment, we might make a second conversation table and record alternative outcomes in it.</p>
</div>
<div class="linkback">
<a href="wi_10.html#wi-10.5">WI §10.5. Linking scenes together</a><br><a href="rb_7.html#rb-7.12">RB §7.12. Characters Following a Script</a>
</div></details><details class="full-example" id="example-429"><summary><span class="example-summary">429. Robo 2</span> <span class="example-difficulty">★★★</span></summary><div>
<p>We have seen how we can make a robot that watches the player, then plays back the same actions again. A slightly more adventurous implementation would be to let the player create a whole series of named scripts which the robot will run on command.</p>
<p>To do this, we'll need each program to have a command that sets it off (stored as text, since this is the best way to capture and preserve arbitrary text entered by the player) and then the script of actions that must result:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Robo%202%22%5Cn%5CnUse%20dynamic%20memory%20allocation%20of%20at%20least%2016384.%5Cn%5CnChapter%201%20-%20Programming%5Cn%5CnSection%201%20-%20The%20Programs%20Themselves%5Cn%5CnThe%20hard%20drive%20is%20a%20container.%20A%20program%20is%20a%20kind%20of%20thing.%2015%20programs%20are%20in%20hard%20drive.%20A%20program%20has%20some%20text%20called%20the%20starter%20command.%20A%20program%20has%20a%20list%20of%20stored%20actions%20called%20the%20script.%20Understand%20the%20starter%20command%20property%20as%20describing%20a%20program.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20program%20(called%20the%20target)%20which%20is%20not%20blank:%5Cn%5Ctsay%20%22%5Bstarter%20command%20of%20the%20target%20in%20upper%20case%5D%22.%5Cn%5CnDefinition:%20a%20program%20is%20blank%20if%20the%20number%20of%20entries%20in%20its%20script%20is%200.%5Cn%5CnThe%20current%20instruction%20name%20is%20some%20text%20that%20varies.%20The%20current%20instruction%20set%20is%20a%20list%20of%20stored%20actions%20that%20varies.%5Cn%5Cn%5BNow,%20we%20want%20to%20let%20Robo%20learn%20new%20programs;%20for%20this%20purpose,%20we'll%20emulate%20the%20code%20from%20our%20previous%20implementation,%20so%20that%20Robo%20watches%20what%20the%20player%20does%20and%20stores%20those%20actions%20in%20his%20script:%5D%5Cn%5CnSection%202%20-%20Learning%20New%20Programs%5Cn%5CnUnderstand%20%22learn%20%5Btext%5D%22%20as%20learning.%20Learning%20is%20an%20action%20applying%20to%20one%20topic.%5Cn%5CnCheck%20learning:%5Cn%5Ctsay%20%22You%20have%20already%20learned%20all%20you%20need%20to%20know.%20Robo,%20however,%20remains%20to%20be%20trained.%22%20instead.%5Cn%5CnCheck%20Robo%20learning:%5Cn%5Ctif%20Robo%20is%20watching,%20say%20%22Robo%20is%20already%20recording%20'%5Bthe%20current%20instruction%20name%5D'.%22%20instead.%5Cn%5CnCarry%20out%20Robo%20learning:%5Cn%5Cttruncate%20the%20current%20instruction%20set%20to%200%20entries;%5Cn%5Ctnow%20the%20current%20instruction%20name%20is%20the%20topic%20understood;%5Cn%5Ctnow%20Robo%20is%20watching.%5Cn%5CnReport%20Robo%20learning:%5Cn%5Ctsay%20%22'Learning%20%5Bthe%20current%20instruction%20name%20in%20upper%20case%5D,'%20Robo%20replies.%22%5Cn%5CnAfter%20doing%20something%20when%20Robo%20is%20watching%20and%20Robo%20can%20see%20the%20player:%5Cn%5Ctnow%20the%20actor%20is%20Robo;%5Cn%5Ctadd%20the%20current%20action%20to%20the%20current%20instruction%20set;%5Cn%5Ctnow%20the%20actor%20is%20the%20player;%5Cn%5Ctsay%20%22Robo%20watches%20you%20%5Bthe%20current%20action%5D%5Bone%20of%5D,%20his%20yellow%20eyes%20lamp-like%20and%20observant%5Bor%5D.%20In%20his%20metal%20head,%20gears%20whirr%5Bor%5D,%20his%20brushed-copper%20handlebar%20moustaches%20twitching%5Bor%5D%20impassively%5Bat%20random%5D.%22;%5Cn%5Ctcontinue%20the%20action.%5Cn%5Cn%5BOf%20course,%20we%20also%20need%20to%20be%20able%20to%20switch%20learning%20mode%20off,%20and%20store%20any%20script%20learned%20this%20way.%20We'll%20also%20use%20the%20same%20STOP%20command%20to%20make%20Robo%20terminate%20a%20program%20he's%20in%20the%20middle%20of%20running.%5D%5Cn%5CnSection%203%20-%20Returning%20to%20Standby%20Mode%5Cn%5CnUnderstand%20%22stop%22%20as%20stopping.%20Stopping%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCheck%20stopping:%5Cn%5Ctsay%20%22The%20command%20is%20useful%20only%20for%20Robo.%22%20instead.%5Cn%5CnCheck%20Robo%20stopping:%5Cn%5Ctif%20Robo%20is%20standing%20by,%20stop%20the%20action.%5Cn%5CnCarry%20out%20Robo%20stopping%20when%20Robo%20is%20watching:%5Cn%5Ctlet%20N%20be%20a%20random%20blank%20program;%5Cn%5Ctif%20N%20is%20a%20program:%5Cn%5Ct%5Ctnow%20the%20starter%20command%20of%20N%20is%20the%20current%20instruction%20name;%5Cn%5Ct%5Ctnow%20the%20script%20of%20N%20is%20the%20current%20instruction%20set;%5Cn%5Ct%5Ctsay%20%22'Stored%20%5Bcurrent%20instruction%20name%20in%20upper%20case%5D.'%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22FAILURE:%20no%20program%20slots%20remaining.%22%5Cn%5CnCarry%20out%20Robo%20stopping:%5Cn%5Ctnow%20Robo%20is%20standing%20by.%5Cn%5CnReport%20Robo%20stopping:%5Cn%5Ctsay%20%22Robo%20is%20now%20standing%20by.%22%5Cn%5Cn%5BNext,%20we%20need%20to%20be%20able%20to%20play%20these%20programs%20back%20again.%20We'll%20give%20Robo%20a%20%22current%20program%22%20to%20store%20which%20program%20he's%20currently%20working%20on,%20and%20a%20number%20called%20%22stage%22%20which%20will%20record%20where%20he%20is%20in%20the%20script.%20Our%20previous%20implementation%20simply%20had%20Robo%20erase%20entries%20from%20his%20script%20list%20as%20he%20performed%20them,%20but%20this%20time%20we%20would%20like%20Robo%20to%20be%20able%20to%20remember%20and%20rerun%20the%20same%20scripts%20over%20and%20over,%20so%20we%20need%20something%20a%20little%20more%20subtle.%5D%5Cn%5CnSection%204%20-%20Running%20Learned%20Programs%5Cn%5CnUnderstand%20%22run%20%5Bany%20program%5D%22%20as%20running.%20Running%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCheck%20running:%5Cn%5Ctsay%20%22Only%20Robo%20can%20perform%20Robo's%20programs.%22%20instead.%5Cn%5CnCheck%20Robo%20running:%5Cn%5Ctif%20Robo%20is%20not%20standing%20by,%20stop%20the%20action.%5Cn%5CnUnsuccessful%20attempt%20by%20Robo%20running:%5Cn%5Ctsay%20%22'ERROR:%20Robo%20can%20launch%20new%20programs%20only%20when%20on%20standby.'%22%5Cn%5CnCarry%20out%20Robo%20running:%5Cn%5Ctnow%20the%20current%20program%20of%20Robo%20is%20the%20noun;%5Cn%5Ctnow%20the%20stage%20of%20Robo%20is%201;%5Cn%5Ctnow%20Robo%20is%20replaying.%5Cn%5CnReport%20Robo%20running:%5Cn%5Ctsay%20%22'Running%20%5Bthe%20starter%20command%20in%20upper%20case%5D,'%20Robo%20confirms.%22%5Cn%5CnEvery%20turn%20when%20Robo%20is%20replaying:%5Cn%5Ctlet%20the%20chosen%20script%20be%20the%20script%20of%20the%20current%20program%20of%20Robo;%5Cn%5Ctlet%20maximum%20be%20the%20number%20of%20entries%20in%20the%20chosen%20script;%5Cn%5Ctlet%20N%20be%20the%20stage%20of%20Robo;%5Cn%5Ctlet%20the%20next%20step%20be%20entry%20N%20of%20the%20chosen%20script;%5Cn%5Cttry%20the%20next%20step;%5Cn%5Ctincrement%20the%20stage%20of%20Robo;%5Cn%5Ctif%20the%20stage%20of%20Robo%20is%20greater%20than%20the%20maximum:%5Cn%5Ct%5Ctsay%20%22Robo's%20program%20ends,%20and%20he%20reverts%20to%20stand-by%20mode.%22;%5Cn%5Ct%5Ctnow%20Robo%20is%20standing%20by;%5Cn%5Ct%5Ctnow%20the%20stage%20of%20Robo%20is%201.%5Cn%5Cn%5BFor%20the%20player's%20sanity,%20we%20should%20also%20provide%20a%20way%20to%20find%20out%20which%20programs%20Robo%20has%20stored%20in%20memory%20and%20what%20they%20do,%20so%20we%20design%20two%20listing%20commands:%5D%5Cn%5CnSection%205%20-%20Listing%20Learned%20Programs%5Cn%5CnUnderstand%20%22list%20programs%22%20as%20requesting%20program%20list.%20Requesting%20program%20list%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCheck%20requesting%20program%20list:%5Cn%5Ctsay%20%22You%20will%20have%20to%20ask%20Robo%20to%20list%20programs.%22%20instead.%5Cn%5CnCarry%20out%20Robo%20requesting%20program%20list:%5Cn%5Ctsay%20%22'The%20available%20program%5Bif%20more%20than%20one%20program%20is%20not%20blank%5Ds%5Bend%20if%5D%20%5Bis-are%20list%20of%20programs%20which%20are%20not%20blank%5D.'%22.%5Cn%5Cn%5CnUnderstand%20%22describe%20%5Bany%20program%5D%22%20or%20%22list%20%5Bany%20program%5D%22%20as%20requesting%20script%20of.%20Requesting%20script%20of%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCheck%20requesting%20script%20of:%5Cn%5Ctsay%20%22You%20will%20have%20to%20ask%20Robo%20to%20give%20you%20the%20script.%22%20instead.%5Cn%5CnCarry%20out%20Robo%20requesting%20script%20of:%5Cn%5Ctsay%20%22The%20script%20of%20%5Bnoun%5D%20is:%20%5Bscript%20of%20the%20noun%5D.%22%5Cn%5Cn%5BAnd%20to%20complete%20the%20suite,%20in%20case%20the%20player%20runs%20into%20Robo's%20fifteen-program%20limit:%5D%5Cn%5CnSection%206%20-%20Deleting%20Learned%20Programs%5Cn%5CnUnderstand%20%22delete%20%5Bany%20program%5D%22%20as%20deleting.%20Deleting%20is%20an%20action%20applying%20to%20one%20visible%20thing.%20Understand%20the%20command%20%22erase%22%20as%20%22delete%22.%5Cn%5CnCheck%20deleting:%5Cn%5Ctsay%20%22You%20will%20have%20to%20instruct%20Robo%20to%20delete%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCheck%20Robo%20deleting%20(this%20is%20the%20can't%20delete%20except%20in%20standby%20rule):%5Cn%5Ctif%20Robo%20is%20not%20standing%20by,%20stop%20the%20action.%5Cn%5CnUnsuccessful%20attempt%20by%20Robo%20deleting:%5Cn%5Ctsay%20%22'ERROR:%20programs%20may%20only%20be%20deleted%20while%20Robo%20is%20in%20stand-by%20mode.'%22%20instead.%5Cn%5CnCarry%20out%20Robo%20deleting:%5Cn%5Cttruncate%20the%20script%20of%20the%20noun%20to%200%20entries;%5Cn%5Ctnow%20the%20starter%20command%20of%20the%20noun%20is%20%22%22.%5Cn%5CnReport%20Robo%20deleting:%5Cn%5Ctsay%20%22'Program%20deleted.'%22%5Cn%5Cn%5BNow%20we%20use%20pretty%20much%20the%20same%20set-up%20as%20before%20to%20test%20Robo's%20abilities:%5D%5Cn%5CnChapter%202%20-%20The%20Scenario%5Cn%5CnThe%20Experimentation%20Chamber%20is%20a%20room.%5Cn%5CnRobo%20is%20a%20man%20in%20the%20Experimentation%20Chamber.%20%22Robo,%20your%20prototype%20tin%20companion,%20stands%20awkwardly%20beside%20you%5Bif%20watching%5D,%20watching%5Bend%20if%5D.%22%20Robo%20can%20be%20watching,%20replaying,%20or%20standing%20by.%20Robo%20is%20standing%20by.%20Robo%20has%20a%20program%20called%20the%20current%20program.%20Robo%20has%20a%20number%20called%20the%20stage.%5Cn%5CnPersuasion%20rule:%20persuasion%20succeeds.%5Cn%5CnThe%20red%20block%20and%20the%20blue%20cylinder%20are%20things%20in%20the%20Experimentation%20Chamber.%20The%20counter%20is%20a%20supporter%20in%20the%20Experimentation%20Chamber.%20The%20counter%20is%20scenery.%5Cn%5CnReport%20Robo%20examining%20Robo:%5Cn%5Ctsay%20%22Robo%20examines%20each%20of%20his%20hands%20in%20turn,%20then%20each%20of%20his%20legs%20(bending%20over%20mostly%20double%20in%20the%20middle%20to%20do%20this).%22%20instead.%5Cn%5CnReport%20Robo%20examining%20the%20player:%5Cn%5Ctsay%20%22Robo%20stares%20at%20you,%20unblinkingly,%20for%20several%20seconds%20together%5Bif%20a%20random%20chance%20of%201%20in%207%20succeeds%5D.%20His%20left%20moustache-bar%20twitches%20infinitesimally%20upward%5Bend%20if%5D.%22%20instead.%5Cn%5CnReport%20Robo%20taking%20the%20cylinder:%5Cn%5Ctsay%20%22%5Bone%20of%5D%5BRobo%5D%20needs%20several%20attempts%20to%20get%20his%20metal%20fingers%20around%20%5Bthe%20cylinder%5D%20--%20they%20are%20not%20designed%20for%20grasping%20small%20objects%20elegantly.%20But%20at%20last%20he%20succeeds%5Bor%5DOnce%20again,%20Robo%20struggles%20a%20bit%20before%20picking%20up%20%5Bthe%20cylinder%5D%5Bstopping%5D.%22%20instead.%5Cn%5CnTest%20me%20with%20%22test%20chocolate%20/%20test%20vanilla%22.%5Cn%5CnTest%20chocolate%20with%20%22learn%20chocolate%20/%20stop%20/%20list%20programs%20/%20Robo,%20learn%20chocolate%20/%20take%20red%20/%20put%20all%20on%20counter%20/%20Robo,%20stop%20/%20Robo,%20list%20programs%20/%20Robo,%20run%20chocolate%20/%20z%20/%20Robo,%20run%20chocolate%20/%20Robo,%20stop%20/%20z%22.%5Cn%5CnTest%20vanilla%20with%20%22Robo,%20learn%20vanilla%20/%20take%20all%20/%20i%20/%20drop%20all%20/%20x%20robo%20/%20x%20me%20/%20Robo,%20stop%20/%20Robo,%20list%20programs%20/%20Robo,%20list%20vanilla%20/%20Robo,%20run%20vanilla%20/%20z%20/%20z%20/%20robo,%20delete%20vanilla%20/%20robo,%20stop%20/%20robo,%20list%20vanilla%20/%20robo,%20delete%20vanilla%20/%20robo,%20list%20programs%22.%5Cn%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Robo 2"
</p>
<p class="quoted">
Use dynamic memory allocation of at least 16384.
</p>
<p class="quoted">
Chapter 1 - Programming
</p>
<p class="quoted">
Section 1 - The Programs Themselves
</p>
<p class="quoted">
The hard drive is a container. A program is a kind of thing. 15 programs are in hard drive. A program has some text called the starter command. A program has a list of stored actions called the script. Understand the starter command property as describing a program.
</p>
<p class="quoted">
Rule for printing the name of a program (called the target) which is not blank:
<br>    say "[starter command of the target in upper case]".
</p>
<p class="quoted">
Definition: a program is blank if the number of entries in its script is 0.
</p>
<p class="quoted">
The current instruction name is some text that varies. The current instruction set is a list of stored actions that varies.
</p>
</div>
<p>Now, we want to let Robo learn new programs; for this purpose, we'll emulate the code from our previous implementation, so that Robo watches what the player does and stores those actions in his script:</p>

<div class="code">
<p class="quoted">
Section 2 - Learning New Programs
</p>
<p class="quoted">
Understand "learn [text]" as learning. Learning is an action applying to one topic.
</p>
<p class="quoted">
Check learning:
<br>    say "You have already learned all you need to know. Robo, however, remains to be trained." instead.
</p>
<p class="quoted">
Check Robo learning:
<br>    if Robo is watching, say "Robo is already recording '[the current instruction name]'." instead.
</p>
<p class="quoted">
Carry out Robo learning:
<br>    truncate the current instruction set to 0 entries;
<br>    now the current instruction name is the topic understood;
<br>    now Robo is watching.
</p>
<p class="quoted">
Report Robo learning:
<br>    say "'Learning [the current instruction name in upper case],' Robo replies."
</p>
<p class="quoted">
After doing something when Robo is watching and Robo can see the player:
<br>    now the actor is Robo;
<br>    add the current action to the current instruction set;
<br>    now the actor is the player;
<br>    say "Robo watches you [the current action][one of], his yellow eyes lamp-like and observant[or]. In his metal head, gears whirr[or], his brushed-copper handlebar moustaches twitching[or] impassively[at random].";
<br>    continue the action.
</p>
</div>
<p>Of course, we also need to be able to switch learning mode off, and store any script learned this way. We'll also use the same STOP command to make Robo terminate a program he's in the middle of running.</p>

<div class="code">
<p class="quoted">
Section 3 - Returning to Standby Mode
</p>
<p class="quoted">
Understand "stop" as stopping. Stopping is an action applying to nothing.
</p>
<p class="quoted">
Check stopping:
<br>    say "The command is useful only for Robo." instead.
</p>
<p class="quoted">
Check Robo stopping:
<br>    if Robo is standing by, stop the action.
</p>
<p class="quoted">
Carry out Robo stopping when Robo is watching:
<br>    let N be a random blank program;
<br>    if N is a program:
<br>        now the starter command of N is the current instruction name;
<br>        now the script of N is the current instruction set;
<br>        say "'Stored [current instruction name in upper case].'";
<br>    otherwise:
<br>        say "FAILURE: no program slots remaining."
</p>
<p class="quoted">
Carry out Robo stopping:
<br>    now Robo is standing by.
</p>
<p class="quoted">
Report Robo stopping:
<br>    say "Robo is now standing by."
</p>
</div>
<p>Next, we need to be able to play these programs back again. We'll give Robo a "current program" to store which program he's currently working on, and a number called "stage" which will record where he is in the script. Our previous implementation simply had Robo erase entries from his script list as he performed them, but this time we would like Robo to be able to remember and rerun the same scripts over and over, so we need something a little more subtle.</p>

<div class="code">
<p class="quoted">
Section 4 - Running Learned Programs
</p>
<p class="quoted">
Understand "run [any program]" as running. Running is an action applying to one visible thing.
</p>
<p class="quoted">
Check running:
<br>    say "Only Robo can perform Robo's programs." instead.
</p>
<p class="quoted">
Check Robo running:
<br>    if Robo is not standing by, stop the action.
</p>
<p class="quoted">
Unsuccessful attempt by Robo running:
<br>    say "'ERROR: Robo can launch new programs only when on standby.'"
</p>
<p class="quoted">
Carry out Robo running:
<br>    now the current program of Robo is the noun;
<br>    now the stage of Robo is 1;
<br>    now Robo is replaying.
</p>
<p class="quoted">
Report Robo running:
<br>    say "'Running [the starter command in upper case],' Robo confirms."
</p>
<p class="quoted">
Every turn when Robo is replaying:
<br>    let the chosen script be the script of the current program of Robo;
<br>    let maximum be the number of entries in the chosen script;
<br>    let N be the stage of Robo;
<br>    let the next step be entry N of the chosen script;
<br>    try the next step;
<br>    increment the stage of Robo;
<br>    if the stage of Robo is greater than the maximum:
<br>        say "Robo's program ends, and he reverts to stand-by mode.";
<br>        now Robo is standing by;
<br>        now the stage of Robo is 1.
</p>
</div>
<p>For the player's sanity, we should also provide a way to find out which programs Robo has stored in memory and what they do, so we design two listing commands:</p>

<div class="code">
<p class="quoted">
Section 5 - Listing Learned Programs
</p>
<p class="quoted">
Understand "list programs" as requesting program list. Requesting program list is an action applying to nothing.
</p>
<p class="quoted">
Check requesting program list:
<br>    say "You will have to ask Robo to list programs." instead.
</p>
<p class="quoted">
Carry out Robo requesting program list:
<br>    say "'The available program[if more than one program is not blank]s[end if] [is-are list of programs which are not blank].'".
</p>
<p class="quoted">
Understand "describe [any program]" or "list [any program]" as requesting script of. Requesting script of is an action applying to one visible thing.
</p>
<p class="quoted">
Check requesting script of:
<br>    say "You will have to ask Robo to give you the script." instead.
</p>
<p class="quoted">
Carry out Robo requesting script of:
<br>    say "The script of [noun] is: [script of the noun]."
</p>
</div>
<p>And to complete the suite, in case the player runs into Robo's fifteen-program limit:</p>

<div class="code">
<p class="quoted">
Section 6 - Deleting Learned Programs
</p>
<p class="quoted">
Understand "delete [any program]" as deleting. Deleting is an action applying to one visible thing. Understand the command "erase" as "delete".
</p>
<p class="quoted">
Check deleting:
<br>    say "You will have to instruct Robo to delete [the noun]." instead.
</p>
<p class="quoted">
Check Robo deleting (this is the can't delete except in standby rule):
<br>    if Robo is not standing by, stop the action.
</p>
<p class="quoted">
Unsuccessful attempt by Robo deleting:
<br>    say "'ERROR: programs may only be deleted while Robo is in stand-by mode.'" instead.
</p>
<p class="quoted">
Carry out Robo deleting:
<br>    truncate the script of the noun to 0 entries;
<br>    now the starter command of the noun is "".
</p>
<p class="quoted">
Report Robo deleting:
<br>    say "'Program deleted.'"
</p>
</div>
<p>Now we use pretty much the same set-up as before to test Robo's abilities:</p>

<div class="code">
<p class="quoted">
Chapter 2 - The Scenario
</p>
<p class="quoted">
The Experimentation Chamber is a room.
</p>
<p class="quoted">
Robo is a man in the Experimentation Chamber. "Robo, your prototype tin companion, stands awkwardly beside you[if watching], watching[end if]." Robo can be watching, replaying, or standing by. Robo is standing by. Robo has a program called the current program. Robo has a number called the stage.
</p>
<p class="quoted">
Persuasion rule: persuasion succeeds.
</p>
<p class="quoted">
The red block and the blue cylinder are things in the Experimentation Chamber. The counter is a supporter in the Experimentation Chamber. The counter is scenery.
</p>
<p class="quoted">
Report Robo examining Robo:
<br>    say "Robo examines each of his hands in turn, then each of his legs (bending over mostly double in the middle to do this)." instead.
</p>
<p class="quoted">
Report Robo examining the player:
<br>    say "Robo stares at you, unblinkingly, for several seconds together[if a random chance of 1 in 7 succeeds]. His left moustache-bar twitches infinitesimally upward[end if]." instead.
</p>
<p class="quoted">
Report Robo taking the cylinder:
<br>    say "[one of][Robo] needs several attempts to get his metal fingers around [the cylinder] -- they are not designed for grasping small objects elegantly. But at last he succeeds[or]Once again, Robo struggles a bit before picking up [the cylinder][stopping]." instead.
</p>
<p class="quoted">
Test me with "test chocolate / test vanilla".
</p>
<p class="quoted">
Test chocolate with "learn chocolate / stop / list programs / Robo, learn chocolate / take red / put all on counter / Robo, stop / Robo, list programs / Robo, run chocolate / z / Robo, run chocolate / Robo, stop / z".
</p>
<p class="quoted">
Test vanilla with "Robo, learn vanilla / take all / i / drop all / x robo / x me / Robo, stop / Robo, list programs / Robo, list vanilla / Robo, run vanilla / z / z / robo, delete vanilla / robo, stop / robo, list vanilla / robo, delete vanilla / robo, list programs".
</p>
</div>
<p>We could also have written this so that Robo learns new scripts by accepting the player's instructions, so that</p>

<div class="code"><p class="quoted">
&gt;ROBO, LEARN LIBRARY THEFT
<br>&gt;ROBO, TAKE BOOK
<br>&gt;ROBO, EAST
<br>&gt;ROBO, STOP
</p></div>
<p>...would store the script 'library theft' with the actions taking the book and going east. The implementation there would have been mostly identical, except that instead of an "after doing something..." rule, we would have captured commands as we asked Robo to perform them, and added those to the command list in progress. The alternative code might look something like this:</p>

<div class="code">
<p class="quoted">
Before Robo doing something other than stopping when Robo is watching:
<br>    add the current action to the current instruction set;
<br>    say "'CHECK: [current action] added to script,' says Robo." instead.
</p>
<p class="quoted">
Unsuccessful attempt by Robo doing something when Robo is watching:
<br>    say "He does not actually perform the action."
</p>
</div>
</div>
<div class="linkback">
<a href="wi_21.html#wi-21.9">WI §21.9. Accessing entries in a list</a><br><a href="rb_7.html#rb-7.12">RB §7.12. Characters Following a Script</a>
</div></details>
</div></section>
<section class="section" id="rb-7.13"><div>





<h3>RB §7.13. Traveling Characters</h3>
<p>There are a number of ways we can make characters navigate our map. We might reasonably want them to approach and follow the player (as in <a href="rb_7.html#example-39" class="example-link" onClick="(function() { document.getElementById('example-39').setAttribute('open','open'); return true; })();">Van Helsing</a><span class="example-difficulty"> ★★</span>); or to allow the player to follow characters who have left the room (as in <a href="rb_7.html#example-302" class="example-link" onClick="(function() { document.getElementById('example-302').setAttribute('open','open'); return true; })();">Actaeon</a><span class="example-difficulty"> ★★</span>).</p>
<p>Characters who are less interested in the player will more likely follow their own courses around the available geography, however. A character may move randomly from room to room, as demonstrated in <a href="rb_7.html#example-77" class="example-link" onClick="(function() { document.getElementById('example-77').setAttribute('open','open'); return true; })();">Mistress of Animals</a><span class="example-difficulty"> ★</span>; he may follow a path that we have specifically written in advance, as <a href="rb_7.html#example-274" class="example-link" onClick="(function() { document.getElementById('example-274').setAttribute('open','open'); return true; })();">Odyssey</a><span class="example-difficulty"> ★★</span> shows; or, most elegantly, he may use the "best route" calculation to find the best possible way to a given target room, as seen in <a href="rb_7.html#example-185" class="example-link" onClick="(function() { document.getElementById('example-185').setAttribute('open','open'); return true; })();">Latris Theon</a><span class="example-difficulty"> ★★★</span>.</p>
<p>This final method is arguably the neatest solution to character movement, allowing for characters to act in sophisticated ways; if we incorporate the Locksmith extension, other characters will even unlock and open doors that are in their way. The chief catch is that it should not be used too profligately with large numbers of characters, since on slow machines the processing power required to plan all their travel will make a noticeable difference to the running speed of the story.</p>
<p>All the same, the constraints are not so severe as to preclude having a moderate number of route-finding characters all wandering around at once. This does introduce a new problem, however: movement descriptions can become hard to follow if every turn produces long reams of reports such as</p>

<div class="code"><p class="quoted">
Joe enters the room from the south.
<br>Lawrence opens the gate.
<br>Lawrence departs to the west.
<br>Lucy comes in from above.
<br>Ted enters the room from the south.
<br>Bill departs to the west.
</p></div>
<p><a href="rb_7.html#example-402" class="example-link" onClick="(function() { document.getElementById('example-402').setAttribute('open','open'); return true; })();">Patient Zero</a><span class="example-difficulty"> ★★★★</span> tackles this problem by calculating all of the character movement without printing any text; it then combines similar or related events into coherent paragraphs, as in</p>

<div class="code"><p class="quoted">
Rhoda and Antony walk into the Post Office. Rhoda could have been rolling in chocolate and Antony looks as though dipped in french vanilla.
</p></div>
<p>or</p>

<div class="code"><p class="quoted">
Antony opens the iron gate. He goes through.
</p></div>
</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.5" class="crossreference_link">Doors, Staircases, and Bridges</a> for some technical details of allowing other characters to interact with doors when they're in rooms that don't contain the player</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-77"><summary><span class="example-summary">77. Mistress of Animals</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we want a restless sort of character always pacing from room to room. It is quite easy to use adjacency to achieve this effect:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Mistress%20of%20Animals%22%5Cn%5CnCorinth%20is%20a%20room.%20Athens%20is%20east%20of%20Corinth.%20Epidaurus%20is%20southeast%20of%20Corinth%20and%20east%20of%20Mycenae.%20Mycenae%20is%20south%20of%20Corinth.%20Olympia%20is%20west%20of%20Mycenae.%20Argos%20is%20south%20of%20Mycenae.%20Thebes%20is%20northwest%20of%20Athens.%20Pylos%20is%20south%20of%20Olympia.%20Sparta%20is%20east%20of%20Pylos%20and%20south%20of%20Argos.%20Delphi%20is%20northwest%20of%20Thebes.%5Cn%5CnArtemis%20is%20a%20woman%20in%20Thebes.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20Artemis%20is%20in%20a%20room%20(called%20the%20current%20space):%5Cn%5Ct%5Ctlet%20next%20space%20be%20a%20random%20room%20which%20is%20adjacent%20to%20the%20current%20space;%5Cn%5Ct%5Ctif%20Artemis%20is%20visible,%20say%20%22Artemis%20heads%20to%20%5Bthe%20next%20space%5D.%22;%5Cn%5Ct%5Ctmove%20Artemis%20to%20next%20space;%5Cn%5Ct%5Ctif%20Artemis%20is%20visible,%20say%20%22Artemis%20arrives%20from%20%5Bthe%20current%20space%5D.%22%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20z%20/%20z%20/%20z%20/%20z%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Mistress of Animals"
</p>
<p class="quoted">
Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</p>
<p class="quoted">
Artemis is a woman in Thebes.
</p>
<p class="quoted">
Every turn:
<br>    if Artemis is in a room (called the current space):
<br>        let next space be a random room which is adjacent to the current space;
<br>        if Artemis is visible, say "Artemis heads to [the next space].";
<br>        move Artemis to next space;
<br>        if Artemis is visible, say "Artemis arrives from [the current space]."
</p>
<p class="quoted">
Test me with "z / z / z / z / z / z".
</p>
</div>
<p>Of course, it helps that Artemis is the sort to like open spaces. The implementation would become more complicated if there were doors which might block transit between these locations.</p>
</div>
<div class="linkback">
<a href="wi_6.html#wi-6.14">WI §6.14. Adjacent rooms and routes through the map</a><br><a href="rb_7.html#rb-7.13">RB §7.13. Traveling Characters</a>
</div></details><details class="full-example" id="example-39"><summary><span class="example-summary">39. Van Helsing</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to write a character who tries to be in the same room as the player. We will do this by testing every turn whether the character's location and the player's location are the same; if the answer is no, the character will look for a path to the player's location, then try to move along that path. (We will learn more about finding paths and giving characters instructions later.)</p>
<p>The result will be that if the player ever moves to another location, the character will automatically pursue him.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Van%20Helsing%22%5Cn%5CnThe%20Drawbridge%20is%20a%20room.%20North%20of%20the%20Drawbridge%20is%20the%20Immensely%20Enormous%20Entry%20Hall.%20West%20of%20the%20Entry%20Hall%20is%20the%20Vast%20Dining%20Area.%20North%20of%20the%20Vast%20Dining%20Area%20is%20the%20Colossal%20Kitchen.%20The%20Spooky%20Guano-filled%20Attic%20is%20above%20the%20Entry%20Hall.%5Cn%5CnCount%20Dracula%20is%20a%20man%20in%20the%20Attic.%5Cn%5Cn%5BIn%20the%20following%20condition,%20we%20could%20also%20have%20written%20%22if%20the%20location%20of%20Count%20Dracula%20is%20not%20the%20location%22,%20because%20%22location%22%20by%20itself%20is%20always%20understood%20to%20be%20the%20player's%20location.%20But%20it%20seemed%20better%20for%20clarity%20to%20write%20it%20this%20way:%5D%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20location%20of%20Count%20Dracula%20is%20not%20the%20location%20of%20the%20player:%5Cn%5Ct%5Ctlet%20the%20way%20be%20the%20best%20route%20from%20the%20location%20of%20Count%20Dracula%20to%20the%20location%20of%20the%20player,%20using%20doors;%5Cn%5Ct%5Cttry%20Count%20Dracula%20going%20the%20way;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22'Muhahaha,'%20says%20Count%20Dracula.%22%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20n%20/%20w%20/%20e%20/%20u%20/%20z%20/%20d%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Van Helsing"
</p>
<p class="quoted">
The Drawbridge is a room. North of the Drawbridge is the Immensely Enormous Entry Hall. West of the Entry Hall is the Vast Dining Area. North of the Vast Dining Area is the Colossal Kitchen. The Spooky Guano-filled Attic is above the Entry Hall.
</p>
<p class="quoted">
Count Dracula is a man in the Attic.
</p>
</div>
<p>In the following condition, we could also have written "if the location of Count Dracula is not the location", because "location" by itself is always understood to be the player's location. But it seemed better for clarity to write it this way:</p>

<div class="code">
<p class="quoted">
Every turn:
<br>    if the location of Count Dracula is not the location of the player:
<br>        let the way be the best route from the location of Count Dracula to the location of the player, using doors;
<br>        try Count Dracula going the way;
<br>    otherwise:
<br>        say "'Muhahaha,' says Count Dracula."
</p>
<p class="quoted">
Test me with "z / z / n / w / e / u / z / d".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.25">WI §3.25. The location of something</a><br><a href="rb_7.html#rb-7.13">RB §7.13. Traveling Characters</a>
</div></details><details class="full-example" id="example-274"><summary><span class="example-summary">274. Odyssey</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Odyssey%22%5Cn%5CnCorinth%20is%20a%20room.%20Athens%20is%20east%20of%20Corinth.%20Epidaurus%20is%20southeast%20of%20Corinth%20and%20east%20of%20Mycenae.%20Mycenae%20is%20south%20of%20Corinth.%20Olympia%20is%20west%20of%20Mycenae.%20Argos%20is%20south%20of%20Mycenae.%20Thebes%20is%20northwest%20of%20Athens.%20Pylos%20is%20south%20of%20Olympia.%20Sparta%20is%20east%20of%20Pylos%20and%20south%20of%20Argos.%20Delphi%20is%20northwest%20of%20Thebes.%5Cn%5CnAthena%20is%20a%20woman%20in%20Athens.%5Cn%5Cn%5BAthena%20will%20proceed,%20unless%20delayed,%20through%20a%20list%20of%20locations%20stored%20in%20a%20simple%20table.%20Rather%20than%20using%20Inform's%20route-finding%20abilities%20(%22the%20best%20route%20from...%22),%20we%20simply%20move%20Athena%20from%20one%20location%20to%20the%20next,%20not%20even%20using%20the%20going%20action:%20she%20moves%20in%20mysterious%20ways,%20as%20befits%20a%20goddess.%5D%5Cn%5CnTable%20of%20Athena's%20Movement%5Cndestination%5CnThebes%5CnDelphi%5CnThebes%5CnAthens%5CnCorinth%5CnMycenae%5Cn%5CnEvery%20turn%20when%20Athena%20is%20active:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Athena's%20Movement:%5Cn%5Ct%5Ctlet%20last%20space%20be%20the%20location%20of%20Athena;%5Cn%5Ct%5Ctif%20Athena%20can%20be%20seen%20by%20the%20player,%20say%20%22Athena%20heads%20to%20%5Bthe%20destination%20entry%5D.%22;%5Cn%5Ct%5Ctmove%20Athena%20to%20destination%20entry;%5Cn%5Ct%5Ctif%20Athena%20can%20be%20seen%20by%20the%20player,%20say%20%22Athena%20arrives%20from%20%5Bthe%20last%20space%5D.%22;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctbreak.%5Cn%5Cn%5BBy%20blanking%20out%20the%20table%20line%20by%20line,%20we%20make%20sure%20that%20we%20never%20lose%20our%20place%20in%20the%20path.%5D%5Cn%5Cn%5BSince%20we%20want%20the%20player%20to%20be%20able%20to%20talk%20to%20Athena,%20we%20need%20a%20way%20to%20stall%20her%20in%20her%20path,%20as%20well.%5D%5Cn%5CnAthena%20can%20be%20active%20or%20passive.%20Athena%20is%20active.%5Cn%5CnBefore%20doing%20something%20to%20Athena:%5Cn%5Ctnow%20Athena%20is%20passive;%5Cn%5Ctsay%20%22Athena%20waits%20around%20patiently,%20though%20you%20can%20tell%20she%20would%20like%20to%20leave...%22%5Cn%5CnInstead%20of%20telling%20Athena%20about%20something:%5Cn%5Ctsay%20%22She%20watches%20you%20patiently%20as%20though%20to%20say%20that%20she%20already%20knows.%22%5Cn%5CnInstead%20of%20asking%20Athena%20about%20something:%5Cn%5Ctsay%20%22Her%20response%20is%20inscrutably%20ancient%20and%20Greek.%20Afterwards%20you%20remember%20only%20the%20flash%20of%20bright%20eyes.%22%5Cn%5Cn%5BFinally,%20we%20do%20need%20to%20wake%20Athena%20up%20again%20if%20she%20has%20become%20passive.%20The%20following%20rule%20will%20occur%20after%20the%20movement%20rule%20just%20because%20of%20code%20ordering,%20though%20we%20could%20make%20matters%20more%20explicit%20if%20we%20needed%20to:%5D%5Cn%5CnEvery%20turn%20when%20Athena%20is%20passive:%5Cn%5Ctnow%20Athena%20is%20active.%5Cn%5CnTest%20me%20with%20%22east%20/%20northwest%20/%20wait%20/%20examine%20athena%20/%20wait%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Odyssey"
</p>
<p class="quoted">
Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</p>
<p class="quoted">
Athena is a woman in Athens.
</p>
</div>
<p>Athena will proceed, unless delayed, through a list of locations stored in a simple table. Rather than using Inform's route-finding abilities ("the best route from..."), we simply move Athena from one location to the next, not even using the going action: she moves in mysterious ways, as befits a goddess.</p>

<div class="code">
<p class="quoted">
Table of Athena's Movement
<br>destination
<br>Thebes
<br>Delphi
<br>Thebes
<br>Athens
<br>Corinth
<br>Mycenae
</p>
<p class="quoted">
Every turn when Athena is active:
<br>    repeat through the Table of Athena's Movement:
<br>        let last space be the location of Athena;
<br>        if Athena can be seen by the player, say "Athena heads to [the destination entry].";
<br>        move Athena to destination entry;
<br>        if Athena can be seen by the player, say "Athena arrives from [the last space].";
<br>        blank out the whole row;
<br>        break.
</p>
</div>
<p>By blanking out the table line by line, we make sure that we never lose our place in the path.</p>
<p>Since we want the player to be able to talk to Athena, we need a way to stall her in her path, as well.</p>

<div class="code">
<p class="quoted">
Athena can be active or passive. Athena is active.
</p>
<p class="quoted">
Before doing something to Athena:
<br>    now Athena is passive;
<br>    say "Athena waits around patiently, though you can tell she would like to leave..."
</p>
<p class="quoted">
Instead of telling Athena about something:
<br>    say "She watches you patiently as though to say that she already knows."
</p>
<p class="quoted">
Instead of asking Athena about something:
<br>    say "Her response is inscrutably ancient and Greek. Afterwards you remember only the flash of bright eyes."
</p>
</div>
<p>Finally, we do need to wake Athena up again if she has become passive. The following rule will occur after the movement rule just because of code ordering, though we could make matters more explicit if we needed to:</p>

<div class="code">
<p class="quoted">
Every turn when Athena is passive:
<br>    now Athena is active.
</p>
<p class="quoted">
Test me with "east / northwest / wait / examine athena / wait".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.10">WI §16.10. Adding and removing rows</a><br><a href="rb_7.html#rb-7.13">RB §7.13. Traveling Characters</a>
</div></details><details class="full-example" id="example-302"><summary><span class="example-summary">302. Actaeon</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want the player to be able to go after characters who are moving around the map. The trick, of course, is that once characters are gone they are no longer visible to "follow [person]", so we need "follow [any person]" to find them.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Actaeon%22%5Cn%5CnA%20person%20has%20a%20room%20called%20last%20location.%5Cn%5CnUnderstand%20%22follow%20%5Bany%20person%5D%22%20as%20following.%20Understand%20the%20commands%20%22chase%22%20and%20%22pursue%22%20as%20%22follow%22.%5Cn%5CnFollowing%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCheck%20following:%5Cn%5Ctif%20the%20noun%20is%20the%20player,%20say%20%22Wherever%20you%20go,%20there%20you%20are.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20visible,%20say%20%22%5BThe%20noun%5D%20is%20right%20here.%22%20instead;%5Cn%5Ctif%20the%20last%20location%20of%20the%20noun%20is%20not%20the%20location,%20say%20%22It's%20not%20clear%20where%20%5Bthe%20noun%5D%20has%20gone.%22%20instead.%5Cn%5Cn%5BHere%20again%20the%20best%20route%20comes%20in%20handy:%5D%5Cn%5CnCarry%20out%20following:%5Cn%5Ctlet%20the%20destination%20be%20the%20location%20of%20the%20noun;%5Cn%5Ctif%20the%20destination%20is%20not%20a%20room,%20say%20%22%5BThe%20noun%5D%20isn't%20anywhere%20you%20can%20follow.%22%20instead;%5Cn%5Ctlet%20aim%20be%20the%20best%20route%20from%20the%20location%20to%20the%20destination;%5Cn%5Ctsay%20%22(heading%20%5Baim%5D)%5Bline%20break%5D%22;%5Cn%5Cttry%20going%20aim.%5Cn%5CnCorinth%20is%20a%20room.%20Athens%20is%20east%20of%20Corinth.%20Epidaurus%20is%20southeast%20of%20Corinth%20and%20east%20of%20Mycenae.%20Mycenae%20is%20south%20of%20Corinth.%20Olympia%20is%20west%20of%20Mycenae.%20Argos%20is%20south%20of%20Mycenae.%20Thebes%20is%20northwest%20of%20Athens.%20Pylos%20is%20south%20of%20Olympia.%20Sparta%20is%20east%20of%20Pylos%20and%20south%20of%20Argos.%20Delphi%20is%20northwest%20of%20Thebes.%5Cn%5CnArtemis%20is%20a%20woman%20in%20Corinth.%5Cn%5Cn%5BWe%20do%20also%20have%20to%20make%20sure%20that%20whenever%20we%20move%20a%20person%20from%20room%20to%20room,%20we%20record%20where%20they%20were%20moved%20from;%20otherwise,%20our%20clever%20restrictions%20about%20whom%20the%20player%20can%20pursue%20will%20not%20work%20properly.%5D%5Cn%5CnTo%20move%20(pawn%20-%20a%20person)%20tidily%20to%20(target%20-%20a%20room):%5Cn%5Ctnow%20the%20last%20location%20of%20the%20pawn%20is%20the%20holder%20of%20the%20pawn;%5Cn%5Ctmove%20the%20pawn%20to%20the%20target.%5Cn%5CnEvery%20turn:%5Cn%5Ctlet%20current%20location%20be%20the%20location%20of%20Artemis;%5Cn%5Ctlet%20next%20location%20be%20a%20random%20room%20which%20is%20adjacent%20to%20the%20current%20location;%5Cn%5Ctif%20Artemis%20is%20visible,%20say%20%22Artemis%20heads%20to%20%5Bthe%20next%20location%5D.%22;%5Cn%5Ctmove%20Artemis%20tidily%20to%20next%20location;%5Cn%5Ctif%20Artemis%20is%20visible,%20say%20%22Artemis%20arrives%20from%20%5Bthe%20current%20location%5D.%22%5Cn%5CnTest%20me%20with%20%22wait%20/%20follow%20artemis%20/%20follow%20artemis%20/%20follow%20artemis%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Actaeon"
</p>
<p class="quoted">
A person has a room called last location.
</p>
<p class="quoted">
Understand "follow [any person]" as following. Understand the commands "chase" and "pursue" as "follow".
</p>
<p class="quoted">
Following is an action applying to one visible thing.
</p>
<p class="quoted">
Check following:
<br>    if the noun is the player, say "Wherever you go, there you are." instead;
<br>    if the noun is visible, say "[The noun] is right here." instead;
<br>    if the last location of the noun is not the location, say "It's not clear where [the noun] has gone." instead.
</p>
</div>
<p>Here again the best route comes in handy:</p>

<div class="code">
<p class="quoted">
Carry out following:
<br>    let the destination be the location of the noun;
<br>    if the destination is not a room, say "[The noun] isn't anywhere you can follow." instead;
<br>    let aim be the best route from the location to the destination;
<br>    say "(heading [aim])[line break]";
<br>    try going aim.
</p>
<p class="quoted">
Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</p>
<p class="quoted">
Artemis is a woman in Corinth.
</p>
</div>
<p>We do also have to make sure that whenever we move a person from room to room, we record where they were moved from; otherwise, our clever restrictions about whom the player can pursue will not work properly.</p>

<div class="code">
<p class="quoted">
To move (pawn - a person) tidily to (target - a room):
<br>    now the last location of the pawn is the holder of the pawn;
<br>    move the pawn to the target.
</p>
<p class="quoted">
Every turn:
<br>    let current location be the location of Artemis;
<br>    let next location be a random room which is adjacent to the current location;
<br>    if Artemis is visible, say "Artemis heads to [the next location].";
<br>    move Artemis tidily to next location;
<br>    if Artemis is visible, say "Artemis arrives from [the current location]."
</p>
<p class="quoted">
Test me with "wait / follow artemis / follow artemis / follow artemis".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.7">WI §17.7. Understanding any, understanding rooms</a><br><a href="rb_7.html#rb-7.13">RB §7.13. Traveling Characters</a>
</div></details><details class="full-example" id="example-185"><summary><span class="example-summary">185. Latris Theon</span> <span class="example-difficulty">★★★</span></summary><div>
<p>To begin with, we create an action for going to a named place. All that this action will do is to change that person's hoped-for destination: the actual moving around comes later.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Latris%20Theon%22%5Cn%5CnA%20person%20has%20a%20room%20called%20destination.%5Cn%5CnUnderstand%20%22go%20to%20%5Bany%20room%5D%22%20as%20going%20vaguely.%5Cn%5CnGoing%20vaguely%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20someone%20going%20vaguely:%5Cn%5Ctnow%20the%20destination%20of%20the%20person%20asked%20is%20the%20noun.%5Cn%5CnReport%20someone%20going%20vaguely:%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D%20looks%20amused,%20but%20accepts%20the%20commission%20to%20go%20to%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5BIt%20stands%20to%20reason%20the%20player%20plays%20Zeus%20or%20at%20the%20very%20least%20Apollo,%20but%20let's%20not%20let%20this%20go%20to%20the%20player's%20head.%20Note%20that%20the%20following%20rule%20applies%20to%20the%20player,%20but%20not%20to%20anyone%20else,%20so%20HERMES,%20GO%20TO%20ATHENS%20will%20work%20but%20GO%20TO%20ATHENS%20will%20not.%5D%5Cn%5CnCarry%20out%20going%20vaguely:%5Cn%5Ctsay%20%22You're%20too%20thoroughly%20lost.%22%5Cn%5Cn%5BAnd%20finally%20we%20recreate%20Greece%20and%20one%20of%20its%20heroes.%5D%5Cn%5CnCorinth%20is%20a%20room.%20Athens%20is%20east%20of%20Corinth.%20Epidaurus%20is%20southeast%20of%20Corinth%20and%20east%20of%20Mycenae.%20Mycenae%20is%20south%20of%20Corinth.%20Olympia%20is%20west%20of%20Mycenae.%20Argos%20is%20south%20of%20Mycenae.%20Thebes%20is%20northwest%20of%20Athens.%20Pylos%20is%20south%20of%20Olympia.%20Sparta%20is%20east%20of%20Pylos%20and%20south%20of%20Argos.%20Delphi%20is%20northwest%20of%20Thebes.%5Cn%5CnHermes%20is%20a%20man%20in%20Corinth.%20The%20destination%20of%20Hermes%20is%20Corinth.%20%5BSo%20he%20is%20initially%20happy%20where%20he%20is.%5D%20Persuasion%20rule%20for%20asking%20Hermes%20to%20try%20going%20vaguely:%20persuasion%20succeeds.%20%5BBut%20he%20is%20open%20to%20suggestions.%5D%5Cn%5CnEvery%20turn%20when%20the%20destination%20of%20Hermes%20is%20not%20the%20location%20of%20Hermes:%5Cn%5Ctlet%20the%20right%20direction%20be%20the%20best%20route%20from%20the%20location%20of%20Hermes%20to%20the%20destination%20of%20Hermes;%5Cn%5Cttry%20Hermes%20going%20the%20right%20direction.%5Cn%5CnTest%20me%20with%20%22hermes,%20go%20to%20athens%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Latris Theon"
</p>
<p class="quoted">
A person has a room called destination.
</p>
<p class="quoted">
Understand "go to [any room]" as going vaguely.
</p>
<p class="quoted">
Going vaguely is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out someone going vaguely:
<br>    now the destination of the person asked is the noun.
</p>
<p class="quoted">
Report someone going vaguely:
<br>    say "[The person asked] looks amused, but accepts the commission to go to [the noun]."
</p>
</div>
<p>It stands to reason the player plays Zeus or at the very least Apollo, but let's not let this go to the player's head. Note that the following rule applies to the player, but not to anyone else, so HERMES, GO TO ATHENS will work but GO TO ATHENS will not.</p>

<div class="code"><p class="quoted">
Carry out going vaguely:
<br>    say "You're too thoroughly lost."
</p></div>
<p>And finally we recreate Greece and one of its heroes.</p>

<div class="code">
<p class="quoted">
Corinth is a room. Athens is east of Corinth. Epidaurus is southeast of Corinth and east of Mycenae. Mycenae is south of Corinth. Olympia is west of Mycenae. Argos is south of Mycenae. Thebes is northwest of Athens. Pylos is south of Olympia. Sparta is east of Pylos and south of Argos. Delphi is northwest of Thebes.
</p>
<p class="quoted">
Hermes is a man in Corinth. The destination of Hermes is Corinth. [So he is initially happy where he is.] Persuasion rule for asking Hermes to try going vaguely: persuasion succeeds. [But he is open to suggestions.]
</p>
<p class="quoted">
Every turn when the destination of Hermes is not the location of Hermes:
<br>    let the right direction be the best route from the location of Hermes to the destination of Hermes;
<br>    try Hermes going the right direction.
</p>
<p class="quoted">
Test me with "hermes, go to athens / e".
</p>
</div>
<p>It simplifies matters that our map of Greece makes it possible to reach any location from any other location, by some sequence of movements: if there were an isolated location -- say, Crete -- with no map connection to the mainland, then we would have to worry about the "right direction" not being a direction at all. The following version of Hermes' trekking rule is protected against the possibility:</p>

<div class="code"><p class="quoted">
Every turn when the destination of Hermes is not the location of Hermes:
<br>    let the right direction be the best route from the location of Hermes to the destination of Hermes;
<br>    if the right direction is a direction, try Hermes going the right direction.
</p></div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.3">WI §12.3. Giving instructions to other people</a><br><a href="rb_7.html#rb-7.13">RB §7.13. Traveling Characters</a>
</div></details><details class="full-example" id="example-402"><summary><span class="example-summary">402. Patient Zero</span> <span class="example-difficulty">★★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Patient%20Zero%22%5Cn%5CnUse%20the%20serial%20comma%20and%20no%20scoring.%5Cn%5CnUnderstand%20%22about%22%20as%20asking%20for%20information.%20Asking%20for%20information%20is%20an%20action%20out%20of%20world.%5Cn%5CnCarry%20out%20asking%20for%20information:%20say%20%22An%20implementation%20of%20the%20following%20creative%20brief:%5Cn%5CnPeople%20wander%20around%20some%20small%20map,%20on%20errands.%20One,%20sad%20to%20tell,%20has%20Gelato's%20Syndrome,%20a%20tragic%20condition%20turning%20one's%20skin%20the%20colour%20of%20a%20random%20flavour%20of%20ice%20cream%20(raspberry%20ripple,%20neapolitan,%20etc.).%20When%20two%20people%20are%20in%20the%20same%20room,%20there's%20a%201/3%20chance%20that%20an%20infected%20person%20will%20infect%20a%20non-infected%20one.%20The%20player%20can%20cure%20any%20single%20person:%20victory%20condition%20-%20to%20stamp%20out%20the%20disease.%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22Gelato's%20Syndrome.%20It's%20struck,%20and%20it's%20struck%20hard.%20In%20these%20sticky%20summer%20months,%20there's%20no%20telling%20who%20will%20contract%20the%20disease%20next.%22;%5Cn%5Ctnow%20the%20command%20prompt%20is%20%22%5Bif%20the%20destination%20of%20the%20player%20is%20not%20blank%5D(heading%20to%20%5Bdestination%20of%20the%20player%5D)%20%5Bend%20if%5D&gt;%22.%5Cn%5CnSection%201%20-%20Errands%5Cn%5CnThe%20current%20actor%20is%20a%20person%20which%20varies.%20The%20current%20owner%20is%20a%20person%20which%20varies.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20player%20is%20active,%20follow%20the%20character%20movement%20rules.%5Cn%5CnEvery%20turn:%5Cn%5Ctnow%20the%20last%20person%20named%20is%20the%20player;%5Cn%5Ctnow%20the%20last%20thing%20named%20is%20the%20player;%5Cn%5Ctnow%20every%20person%20is%20active.%5Cn%5CnA%20person%20can%20be%20active%20or%20passive.%20The%20player%20is%20passive.%5Cn%5CnThe%20character%20movement%20rules%20are%20a%20rulebook.%5Cn%5CnThe%20first%20character%20movement%20rule:%5Cn%5Ctnow%20group%20size%20is%201;%5Cn%5Ctnow%20the%20last%20person%20named%20is%20the%20player;%5Cn%5Ctnow%20the%20last%20thing%20named%20is%20the%20player;%5Cn%5Ctnow%20the%20player%20is%20passive.%5Cn%5CnA%20character%20movement%20rule:%5Cn%5Ctrepeat%20with%20mover%20running%20through%20innocent%20people:%5Cn%5Ct%5Ctnow%20the%20current%20actor%20is%20the%20mover;%5Cn%5Ct%5Ctfollow%20the%20shopper%20rules;%5Cn%5Ct%5Ctnow%20the%20current%20actor%20is%20passive;%5Cn%5Ctfollow%20the%20movement%20reporting%20rule.%5Cn%5CnA%20character%20movement%20rule:%5Cn%5Ctrepeat%20with%20next%20mover%20running%20through%20mercantile%20people:%5Cn%5Ct%5Ctnow%20the%20current%20owner%20is%20the%20next%20mover;%5Cn%5Ct%5Ctfollow%20the%20shopowner%20rules;%5Cn%5Ct%5Ctnow%20the%20current%20owner%20is%20passive;%5Cn%5Ctfollow%20the%20infection%20rule.%5Cn%5CnTo%20decide%20whether%20movement%20has%20not%20yet%20occurred:%5Cn%5Ctif%20the%20player%20is%20passive,%20no;%5Cn%5Ctyes.%5Cn%5CnDefinition:%20a%20person%20is%20mercantile%20if%20it%20owns%20a%20room.%20Definition:%20a%20person%20is%20innocent%20if%20it%20is%20not%20mercantile%20and%20it%20is%20not%20the%20player.%5Cn%5CnThe%20shopowner%20rules%20is%20a%20rulebook.%5Cn%5CnA%20shopowner%20rule:%5Cn%5Ctlet%20the%20shop%20be%20a%20random%20room%20owned%20by%20the%20current%20owner;%5Cn%5Ctif%20the%20shop%20is%20air-conditioned%20and%20an%20open%20door%20(called%20the%20escape)%20protects%20the%20shop,%20try%20the%20current%20owner%20closing%20the%20escape%20instead.%5Cn%5CnReport%20someone%20closing%20a%20door%20when%20the%20person%20asked%20owns%20the%20location:%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D,%20muttering%20darkly%20about%20air-conditioning%20and%20electricity,%20closes%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnReport%20Vanessa%20closing%20the%20metal%20door%20when%20the%20metal%20door%20is%20visible:%5Cn%5Ctif%20Vanessa%20is%20visible,%20say%20%22Vanessa%20watches%20serenely%20as%20the%20metal%20door%20slides%20automatically%20back%20in%20place,%20sealing%20Cold%20Comfort.%22%20instead;%5Cn%5Ctotherwise%20say%20%22The%20metal%20door%20slides%20heavily%20back%20into%20place.%22%20instead.%5Cn%5CnA%20shopowner%20rule:%5Cn%5Ctif%20the%20location%20of%20the%20current%20owner%20encloses%20a%20submitted%20artwork%20(called%20the%20target):%5Cn%5Ct%5Cttry%20the%20current%20owner%20filing%20the%20target.%5Cn%5CnFiling%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnBefore%20someone%20filing%20something%20which%20is%20not%20carried%20by%20the%20person%20asked:%5Cn%5Cttry%20the%20person%20asked%20taking%20the%20noun%20instead.%5Cn%5CnCarry%20out%20someone%20filing:%5Cn%5Ctif%20the%20person%20asked%20does%20not%20carry%20the%20noun%20and%20the%20person%20asked%20is%20visible,%20say%20%22%5BThe%20person%20asked%5D%20tries%20unsuccessfully%20to%20get%20%5Bthe%20noun%5D.%22%20instead;%5Cn%5Ctnow%20the%20noun%20is%20nowhere.%5Cn%5CnReport%20someone%20filing:%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D%20registers%20%5Bthe%20noun%5D%20and%20files%20it%20away.%22%5Cn%5CnThe%20shopper%20rules%20is%20a%20rulebook.%5Cn%5CnA%20shopper%20rule:%5Cn%5Ctif%20the%20current%20actor%20carries%20something%20(called%20the%20problem),%20try%20the%20current%20actor%20resolving%20the%20problem%20instead.%5Cn%5CnA%20shopper%20rule:%5Cn%5Ctif%20the%20current%20actor%20is%20not%20in%20the%20pool%20hall%20and%20the%20air%20conditioner%20is%20switched%20on:%5Cn%5Ct%5Cttry%20the%20current%20actor%20approaching%20the%20pool%20hall;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctlet%20way%20be%20a%20random%20direction;%5Cn%5Ct%5Cttry%20the%20current%20actor%20going%20the%20way.%5Cn%5Cn%5CnDefinition:%20a%20room%20is%20air-conditioned:%5Cn%5Ctif%20it%20is%20outdoors,%20no;%5Cn%5Ctif%20it%20is%20the%20Pool%20Hall%20and%20the%20air%20conditioner%20is%20switched%20off,%20no;%5Cn%5Ctif%20it%20is%20protected%20by%20a%20door,%20yes;%5Cn%5Ctno.%5Cn%5CnProtection%20relates%20a%20door%20(called%20X)%20to%20a%20room%20(called%20Y)%20when%20the%20front%20side%20of%20X%20is%20Y%20or%20the%20back%20side%20of%20X%20is%20Y.%20The%20verb%20to%20protect%20means%20the%20protection%20relation.%5Cn%5CnOwnership%20relates%20one%20person%20to%20various%20rooms.%20The%20verb%20to%20own%20means%20the%20ownership%20relation.%5Cn%5CnResolving%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnAn%20artwork%20is%20a%20kind%20of%20thing.%20Before%20printing%20the%20name%20of%20an%20artwork,%20say%20italic%20type.%20After%20printing%20the%20name%20of%20an%20artwork,%20say%20roman%20type.%20An%20artwork%20can%20be%20submitted%20or%20reserved.%5Cn%5CnA%20book%20is%20a%20kind%20of%20artwork.%5Cn%5CnBefore%20someone%20resolving%20a%20book%20when%20the%20person%20asked%20is%20not%20in%20the%20Public%20Library:%5Cn%5Cttry%20the%20person%20asked%20approaching%20the%20Public%20Library%20instead.%5Cn%5CnCarry%20out%20someone%20resolving%20a%20book:%5Cn%5Ctmove%20the%20noun%20to%20the%20Public%20Library;%5Cn%5Ctnow%20the%20noun%20is%20submitted.%5Cn%5CnReport%20someone%20resolving%20a%20book:%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D%20turns%20in%20%5Bthe%20noun%5D.%22%5Cn%5CnBefore%20listing%20contents:%20group%20books%20together.%5Cn%5CnBefore%20grouping%20together%20books:%20say%20%22books%20entitled%20%22.%5Cn%5Cn%5CnA%20stamped%20envelope%20is%20a%20kind%20of%20thing.%5Cn%5CnBefore%20someone%20resolving%20a%20stamped%20envelope%20when%20the%20person%20asked%20is%20not%20in%20the%20Post%20Office:%5Cn%5Cttry%20the%20person%20asked%20approaching%20the%20Post%20Office%20instead.%5Cn%5CnCarry%20out%20someone%20resolving%20a%20stamped%20envelope:%5Cn%5Ctnow%20the%20noun%20is%20nowhere.%5Cn%5CnReport%20someone%20resolving%20a%20stamped%20envelope:%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D%20slips%20%5Ba%20noun%5D%20into%20the%20outgoing%20mail%20slot.%22%5Cn%5CnInstead%20of%20someone%20resolving%20a%20stamped%20envelope%20when%20the%20person%20asked%20carries%20at%20least%20two%20stamped%20envelopes:%5Cn%5Ctif%20the%20person%20asked%20is%20visible,%20say%20%22%5BThe%20person%20asked%5D%20shoves%20into%20the%20mail%20slot%20%5Ba%20list%20of%20stamped%20envelopes%20carried%20by%20the%20person%20asked%5D.%22;%5Cn%5Ctrepeat%20with%20item%20running%20through%20stamped%20envelopes%20carried%20by%20the%20person%20asked:%5Cn%5Ct%5Ctnow%20the%20item%20is%20nowhere.%5Cn%5CnA%20DVD%20is%20a%20kind%20of%20artwork.%5Cn%5CnBefore%20someone%20resolving%20a%20DVD%20when%20the%20person%20asked%20is%20not%20in%20the%20Rental%20Store:%5Cn%5Cttry%20the%20person%20asked%20approaching%20the%20Rental%20Store%20instead.%5Cn%5CnCarry%20out%20someone%20resolving%20a%20DVD:%5Cn%5Ctnow%20the%20noun%20is%20submitted;%5Cn%5Ctmove%20the%20noun%20to%20the%20Movie%20Rental%20Store.%5Cn%5CnReport%20someone%20resolving%20a%20DVD:%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D%20returns%20%5Bthe%20noun%5D.%22%5Cn%5CnInstead%20of%20someone%20resolving%20a%20DVD%20when%20the%20person%20asked%20carries%20at%20least%20two%20DVDs:%5Cn%5Ctif%20the%20person%20asked%20is%20visible,%20say%20%22%5BThe%20person%20asked%5D%20turns%20in%20%5Ba%20list%20of%20DVDs%20carried%20by%20the%20person%20asked%5D.%22;%5Cn%5Ctnow%20every%20DVD%20carried%20by%20the%20person%20asked%20is%20submitted;%5Cn%5Ctnow%20every%20DVD%20carried%20by%20the%20person%20asked%20is%20in%20the%20location%20of%20the%20person%20asked.%5Cn%5CnBefore%20listing%20contents:%20group%20DVDs%20together.%5Cn%5CnBefore%20grouping%20together%20DVDs:%20say%20%22DVDs%20of%20%22.%5Cn%5Cn%5CnApproaching%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCarry%20out%20someone%20approaching:%5Cn%5Ctlet%20the%20way%20be%20the%20best%20route%20from%20the%20location%20of%20the%20person%20asked%20to%20the%20noun,%20using%20doors;%5Cn%5Ctif%20the%20way%20is%20a%20direction,%20try%20the%20person%20asked%20going%20the%20way;%5Cn%5Ctotherwise%20stop%20the%20action.%5Cn%5Cn%5CnA%20coupon%20is%20a%20kind%20of%20thing.%5Cn%5CnCarry%20out%20someone%20resolving%20a%20coupon:%5Cn%5Cttry%20the%20person%20asked%20giving%20the%20noun%20to%20Vanessa.%5Cn%5CnThe%20block%20giving%20rule%20is%20not%20listed%20in%20any%20rulebook.%5Cn%5CnCheck%20giving%20something%20to%20someone%20(this%20is%20the%20block%20player%20giving%20rule):%5Cn%5Ctabide%20by%20the%20block%20giving%20rule.%5Cn%5CnBefore%20someone%20resolving%20a%20coupon%20when%20the%20person%20asked%20is%20not%20in%20Cold%20Comfort:%5Cn%5Cttry%20the%20person%20asked%20approaching%20Cold%20Comfort%20instead.%5Cn%5CnAfter%20someone%20giving%20a%20coupon%20to%20Vanessa:%5Cn%5Ctlet%20the%20reward%20be%20a%20random%20ice%20cream%20cone;%5Cn%5Ctlet%20the%20new%20flavor%20be%20a%20random%20infection%20color;%5Cn%5Ctnow%20the%20infection%20color%20of%20the%20reward%20is%20the%20new%20flavor;%5Cn%5Ctmove%20the%20reward%20to%20the%20person%20asked;%5Cn%5Ctnow%20the%20noun%20is%20nowhere;%5Cn%5Ctif%20Vanessa%20is%20visible,%20say%20%22%5BThe%20person%20asked%5D%20trades%20in%20%5Bthe%20noun%5D%20and%20receives%20%5Ba%20reward%5D%20from%20Vanessa.%22%5Cn%5CnInfection%20color%20is%20a%20kind%20of%20value.%20The%20infection%20colors%20are%20french%20vanilla,%20whole-bean%20vanilla,%20mint,%20chocolate,%20dark%20chocolate,%20chocolate%20chip,%20chocolate%20fudge,%20mint%20chocolate%20chip,%20chocolate%20chocolate%20chip,%20triple%20chocolate,%20white%20chocolate,%20white%20chocolate%20chip,%20aztec%20cocoa-chili,%20raspberry%20ripple,%20neapolitan,%20rum%20raisin,%20dulce%20de%20leche,%20strawberry%20chunk,%20rocky%20road,%20blackberry%20sorbet,%20lemon%20sherbet,%20lime%20ice,%20caramel%20swirl,%20mango,%20saffron%20silk,%20and%20cookie%20dough%20cream.%5Cn%5CnTo%20say%20list%20of%20flavors:%5Cn%5Ctlet%20current%20color%20be%20french%20vanilla;%5Cn%5Ctwhile%20current%20color%20is%20not%20cookie%20dough%20cream:%5Cn%5Ct%5Ctsay%20%22%5Bcurrent%20color%5D,%20%22;%5Cn%5Ct%5Ctnow%20current%20color%20is%20the%20infection%20color%20after%20the%20current%20color;%5Cn%5Ctsay%20%22and%20%5Bcurrent%20color%5D%22.%5Cn%5CnUnderstand%20%22ask%20vanessa%20for%20%5Bflavored%20ice%20cream%5D%22%20as%20buying%20the%20flavor.%20Understand%20%22buy%20%5Bflavored%20ice%20cream%5D%22%20as%20buying%20the%20flavor.%5Cn%5CnBuying%20the%20flavor%20is%20an%20action%20applying%20to%20one%20infection%20color.%5Cn%5CnCheck%20buying%20the%20flavor:%5Cn%5Ctunless%20the%20player%20can%20see%20Vanessa:%5Cn%5Ct%5Ctsay%20%22It%20would%20help%20if%20you%20were%20in%20the%20presence%20of%20an%20ice%20cream%20salesperson.%22%20instead.%5Cn%5CnCarry%20out%20buying%20the%20flavor:%20say%20%22'Do%20you%20have%20a%20coupon?'%20Vanessa%20demands.%20You%20admit%20you%20do%20not.%20'No%20%5Binfection%20color%20understood%5D%20for%20you!'%22%5Cn%5CnUnderstand%20%22ice%20cream%22%20or%20%22cream%22%20or%20%22ice%22%20or%20%22sherbet%22%20or%20%22sorbet%22%20as%20%22%5Bice%20cream%5D%22.%5Cn%5CnUnderstand%20%22%5Binfection%20color%5D%22%20or%20%22%5Binfection%20color%5D%20%5Bice%20cream%5D%22%20as%20%22%5Bflavored%20ice%20cream%5D%22.%5Cn%5CnAn%20ice%20cream%20cone%20is%20a%20kind%20of%20thing.%20An%20ice%20cream%20cone%20is%20always%20edible.%20An%20ice%20cream%20cone%20has%20an%20infection%20color.%20An%20ice%20cream%20cone%20can%20be%20half-eaten%20or%20fresh.%20Understand%20the%20infection%20color%20property%20as%20referring%20to%20an%20ice%20cream%20cone.%5Cn%5CnCarry%20out%20someone%20resolving%20an%20ice%20cream%20cone:%5Cn%5Cttry%20the%20person%20asked%20eating%20the%20noun%20instead.%5Cn%5CnInstead%20of%20someone%20eating%20a%20fresh%20ice%20cream%20cone:%5Cn%5Ctnow%20the%20noun%20is%20half-eaten;%5Cn%5Ctif%20the%20person%20asked%20is%20visible,%20say%20%22%5BThe%20person%20asked%5D%20licks%20%5Bthe%20noun%5D.%22%5Cn%5CnReport%20someone%20eating%20an%20ice%20cream%20cone:%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D%20pops%20the%20end%20of%20%5Bthe%20noun%5D%20into%20%5Bif%20the%20person%20asked%20is%20female%5Dher%5Botherwise%5Dhis%5Bend%20if%5D%20mouth%20and%20swallows.%22%20instead.%5Cn%5CnBefore%20printing%20the%20name%20of%20an%20ice%20cream%20cone:%5Cn%5Ctsay%20%22%5Bif%20half-eaten%5Dhalf-eaten%20%5Bend%20if%5D%5Binfection%20color%5D%20%22.%5Cn%5CnSection%202%20-%20Infection%20Rules%5Cn%5CnThis%20is%20the%20infection%20rule:%5Cn%5Ctif%20an%20infected%20person%20(called%20typhoid%20mary)%20can%20see%20a%20clean%20person%20(called%20random%20bystander)%20and%20a%20random%20chance%20of%201%20in%203%20succeeds:%5Cn%5Ct%5Cttry%20typhoid%20mary%20sneezing%20on%20the%20random%20bystander.%5Cn%5CnA%20person%20can%20be%20infected%20or%20clean.%20A%20person%20has%20an%20infection%20color.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20player%20is%20infected,%20say%20%22You%20feel%20itchy.%22%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20it%20is%20not%20the%20player.%20Definition:%20a%20person%20is%20another%20if%20it%20is%20other.%5Cn%5CnWhen%20play%20begins:%20now%20right%20hand%20status%20line%20is%20%22Sick:%20%5Bnumber%20of%20infected%20people%5D/%5Bnumber%20of%20people%5D%22.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20every%20person%20is%20infected,%20end%20the%20story%20saying%20%22Everyone%20succumbs%22;%5Cn%5Ctif%20every%20person%20is%20clean,%20end%20the%20story%20finally%20saying%20%22The%20Syndrome%20is%20eradicated%22.%5Cn%5CnUnderstand%20%22sneeze%20on%20%5Bsomething%5D%22%20as%20sneezing%20on.%20Sneezing%20on%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20sneezing%20on:%5Cn%5Ctif%20the%20player%20is%20clean,%20say%20%22You're%20not%20sickly.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20the%20player,%20say%20%22Ew.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20not%20a%20person,%20say%20%22%5BThe%20noun%5D%20cannot%20be%20infected.%22%20instead.%5Cn%5CnCarry%20out%20sneezing%20on:%5Cn%5Ctnow%20the%20noun%20is%20infected;%5Cn%5Ctnow%20the%20infection%20color%20of%20the%20noun%20is%20a%20random%20infection%20color.%5Cn%5CnCarry%20out%20someone%20sneezing%20on:%5Cn%5Ctnow%20the%20noun%20is%20infected;%5Cn%5Ctnow%20the%20infection%20color%20of%20the%20noun%20is%20a%20random%20infection%20color.%5Cn%5CnReport%20sneezing%20on:%5Cn%5Ctsay%20%20%22Unable%20to%20control%20yourself,%20you%20sneeze%20on%20%5Bnoun%5D.%22.%5Cn%5CnReport%20someone%20sneezing%20on:%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D%20sneezes%20on%20%5Bif%20the%20noun%20is%20the%20player%5Dyou%5Botherwise%5D%5Bnoun%5D%5Bend%20if%5D!%22.%5Cn%5Cn%5CnUnderstand%20%22inject%20%5Bsomeone%5D%20with%20%5Bsomething%5D%22%20as%20injecting%20it%20with.%20Understand%20%22inject%20%5Bsomeone%5D%20with%20%5Bsyringe%5D%22%20as%20injecting%20it%20with.%20Understand%20%22use%20%5Bsyringe%5D%20on%20%5Bsomeone%5D%22%20as%20injecting%20it%20with.%20Understand%20the%20commands%20%22innoculate%22%20and%20%22vaccinate%22%20as%20%22inject%22.%5Cn%5CnInjecting%20it%20with%20is%20an%20action%20applying%20to%20two%20things.%5Cn%5CnCheck%20injecting%20it%20with:%5Cn%5Ctif%20the%20second%20noun%20is%20not%20the%20syringe,%20say%20%22%5BThe%20second%20noun%5D%20cannot%20inject%20anything.%22%20instead;%5Cn%5Ctif%20the%20noun%20is%20clean:%5Cn%5Ct%5Ctif%20the%20noun%20is%20the%20player,%20say%20%22You're%20not%20infected%20yet.%22%20instead;%5Cn%5Ct%5Ctsay%20%22%5BThe%20noun%5D%20is%20not%20infected,%20and%20the%20syringe%20contains%20a%20cure,%20not%20a%20vaccine.%22%20instead.%5Cn%5CnCarry%20out%20injecting%20it%20with:%20now%20the%20noun%20is%20clean.%5Cn%5CnAfter%20injecting%20the%20player%20with%20something:%20say%20%22You%20inject%20yourself,%20wincing%20at%20the%20sting.%20But%20the%20itching%20fades%20almost%20at%20once.%22%5Cn%5CnReport%20injecting%20it%20with:%20say%20%22You%20inject%20%5Bthe%20noun%5D,%20who%20is%20now%20cured%20(but%20could%20easily%20be%20reinfected).%22%5Cn%5CnSection%203%20-%20Geography%5Cn%5CnInclude%20Locksmith%20by%20Emily%20Short.%5Cn%5CnUnderstand%20%22go%20to/toward/into%20%5Bany%20room%5D%22%20as%20going%20toward.%20%20Understand%20%22enter%20%5Bany%20room%5D%22%20as%20going%20toward.%5Cn%5CnA%20person%20has%20a%20room%20called%20the%20destination.%5Cn%5CnGoing%20toward%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20going%20toward:%5Cn%5Ctif%20the%20noun%20is%20the%20location,%20say%20%22You're%20already%20in%20%5Bthe%20location%5D.%22%20instead.%5Cn%5CnCarry%20out%20going%20toward:%5Cn%5Ctnow%20the%20destination%20of%20the%20player%20is%20the%20noun;%5Cn%5Ctlet%20heading%20be%20the%20best%20route%20from%20the%20location%20to%20the%20noun,%20using%20even%20locked%20doors;%5Cn%5Ctif%20heading%20is%20not%20a%20direction,%20say%20%22You%20can't%20think%20how%20to%20get%20there%20from%20here.%22%20instead;%5Cn%5Cttry%20going%20heading;%5Cn%5Ctif%20the%20location%20is%20the%20destination%20of%20the%20player,%20now%20the%20destination%20of%20the%20player%20is%20blank.%5Cn%5CnInstead%20of%20waiting%20when%20the%20destination%20of%20the%20player%20is%20not%20blank:%5Cn%5Ctif%20the%20destination%20of%20the%20player%20is%20the%20location:%5Cn%5Ct%5Ctnow%20the%20destination%20of%20the%20player%20is%20blank;%5Cn%5Ctotherwise:%5Cn%5Ct%5Cttry%20going%20toward%20destination%20of%20the%20player;%5Cn%5Ct%5Ctif%20the%20location%20is%20the%20destination%20of%20the%20player,%20now%20the%20destination%20of%20the%20player%20is%20blank.%5Cn%5CnUnderstand%20%22stop%22%20or%20%22cease%22%20as%20stopping.%20Stopping%20is%20an%20action%20applying%20to%20nothing.%20Carry%20out%20stopping:%20now%20the%20destination%20of%20the%20player%20is%20blank.%20Report%20stopping:%20say%20%22You%20stop%20in%20your%20tracks.%22%5Cn%5CnAfter%20going%20to%20an%20air-conditioned%20room:%5Cn%5Ctsay%20%22You%20step%20into%20the%20mercifully%20air-conditioned%20surroundings%20of...%22;%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnAfter%20going%20from%20an%20air-conditioned%20room:%5Cn%5Ctsay%20%22You%20emerge%20from%20the%20air-conditioning%20into%20heat%20like%20a%20wall...%22;%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnInstead%20of%20listening%20to%20an%20air-conditioned%20room:%5Cn%5Ctsay%20%22The%20air-conditioning%20hums%20softly.%22%5Cn%5CnThe%20Alfred%20Cralle%20Pool%20Hall%20is%20a%20room.%20%22The%20town's%20most%20popular%20gathering-place,%20the%20pool%20hall%20is%20decorated%20in%20honor%20of%20the%20inventor%20of%20the%20ice%20cream%20scoop.%22%20The%20air%20conditioner%20is%20a%20device%20in%20the%20Pool%20Hall.%20%22%5Bif%20switched%20off%5DAn%20air%20conditioner%20sits%20in%20the%20corner,%20unhappily%20inert%5Botherwise%5DThe%20air%20conditioner%20hums%20briskly%5Bend%20if%5D.%22%5Cn%5CnThe%20felt%20door%20is%20west%20of%20the%20Pool%20Hall.%20The%20felt%20door%20is%20a%20door.%20The%20felt%20door%20is%20open.%20The%20felt%20door%20is%20lockable%20and%20unlocked.%20The%20key%20to%20the%20city%20unlocks%20the%20felt%20door.%20The%20description%20of%20the%20felt%20door%20is%20%22It%20has%20a%20prominent%20lock,%20designed%20for%20an%20old-fashioned%20key.%22%5Cn%5CnAfter%20locking%20a%20door%20with%20something%20in%20the%20presence%20of%20an%20other%20person%20(called%20audience):%5Cn%5Ctsay%20%22%5BThe%20audience%5D%20looks%20a%20little%20non-plussed%20when%20you%20lock%20%5Bthe%20noun%5D,%20but%20shrugs.%22%5Cn%5CnNancy%20Johnson%20Memorial%20Square%20is%20west%20of%20the%20felt%20door.%20The%20description%20of%20Nancy%20Johnson%20Memorial%20Square%20is%20%22Waves%20of%20August%20heat%20rise%20from%20the%20pavement:%20more%20than%20once%20you've%20had%20the%20fancy%20that%20your%20shoes%20are%20simply%20going%20to%20stick.%20At%20the%20center%20of%20the%20square,%20rubbed%20to%20a%20brownish%20polish%20by%20many%20adoring%20hands,%20is%20the%20statue%20of%20Mrs.%20Nancy%20Johnson%20of%20New%20Jersey.%22%5Cn%5CnThe%20statue%20is%20scenery%20in%20Memorial%20Square.%20Understand%20%22nancy%22%20or%20%22johnson%22%20or%20%22mrs%22%20as%20the%20statue.%20The%20description%20of%20the%20statue%20is%20%22Mrs.%20Johnson%20is%20pictured%20with%20a%20hand-cranked%20ice%20cream%20freezer%20tucked%20under%20one%20arm.%20Her%20other%20hand%20grips%20an%20ice%20cream%20scoop,%20ready%20to%20serve%20frozen%20dessert%20to%20the%20huddled%20masses.%22%20A%20hand-cranked%20ice%20cream%20freezer%20is%20part%20of%20the%20statue.%20The%20description%20is%20%22The%20hand-cranked%20ice%20cream%20freezer%20was%20Mrs.%20Johnson's%20invention%20in%201846,%20though%20it%20was%20William%20Young%20who%20had%20the%20sense%20to%20patent%20the%20thing%20in%201848.%22%20The%20scoop%20is%20part%20of%20the%20statue.%20The%20description%20of%20the%20scoop%20is%20%22An%20anachronism:%20Alfred%20Cralle%20would%20not%20invent%20the%20tool%20until%201897.%22%5Cn%5CnThe%20Post%20Office%20is%20northwest%20of%20Nancy%20Johnson%20Memorial%20Square.%20%22Service%20at%20the%20post%20office%20is%20on%20the%20slow%20side%20since%20everything%20went%20automated.%22%20The%20slot%20is%20scenery%20in%20the%20post%20office.%20The%20slot%20is%20a%20container.%20Carry%20out%20inserting%20something%20into%20the%20slot:%20now%20the%20noun%20is%20nowhere.%20Report%20inserting%20something%20into%20the%20slot:%20say%20%22%5BThe%20noun%5D%20falls%20out%20of%20sight,%20and%20you%20know%20you%20will%20never%20see%20it%20again.%22%5Cn%5CnHamwi%20Street%20is%20northeast%20of%20an%20iron%20gate.%20%22A%20U-shaped%20street%20running%20from%20Main%20Street%20around%20to%20the%20Memorial%20Square,%20Hamwi%20Street%20was%20recently%20added%20by%20ambitious%20city%20planners.%20The%20small%20and%20straggly%20line%20of%20trees%20has%20yet%20to%20grow%20enough%20to%20provide%20perceptible%20shade,%20so%20the%20street%20is%20even%20hotter%20and%20more%20unforgiving%20than%20the%20other%20parts%20of%20town.%22%5Cn%5CnThe%20iron%20gate%20is%20northeast%20of%20Nancy%20Johnson%20Memorial%20Square.%20The%20iron%20gate%20is%20a%20door.%20It%20is%20lockable%20and%20unlocked.%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20iron%20gate%20while%20not%20opening%20or%20closing%20or%20locking%20or%20unlocking:%5Cn%5Ctif%20the%20person%20asked%20is%20the%20player:%5Cn%5Ct%5Ctif%20the%20gate%20is%20open,%20say%20%22open%20%22;%5Cn%5Ctotherwise%20if%20the%20gate%20is%20locked:%5Cn%5Ct%5Ctsay%20%22locked%20%22;%5Cn%5Ctotherwise%20if%20the%20gate%20is%20closed:%5Cn%5Ct%5Ctsay%20%22closed%20%22.%5Cn%5CnCold%20Comfort%20Ice%20Cream%20is%20north%20of%20a%20metal%20door.%20The%20metal%20door%20is%20north%20of%20Hamwi%20Street.%20A%20poster%20is%20fixed%20in%20place%20in%20Cold%20Comfort.%20%22A%20poster%20fills%20one%20wall%20with%20the%20blazing%20promise%20of%20treats%20to%20come.%22%20The%20description%20of%20the%20poster%20is%20%22Coming%20soon!%20Thai%20ice%20creams!%20Durian,%20jackfruit,%20taro,%20and%20coconut%20flavors!%22%5Cn%5CnThe%20metal%20door%20is%20a%20door.%20%22A%20frosty%20metallic%20door%20separates%20%5Bthe%20location%5D%20from%20%5Bthe%20other%20side%20of%20the%20metal%20door%5D.%22%20The%20metal%20door%20is%20lockable%20and%20unlocked.%20The%20key%20to%20the%20city%20unlocks%20the%20metal%20door.%5Cn%5Cn%5CnMarciony%20Street%20is%20southeast%20of%20Nancy%20Johnson%20Memorial%20Square.%20%22A%20semi-circular%20terrace,%20named%20somewhat%20fancifully%20after%20one%20claimant%20to%20the%20invention%20of%20the%20ice%20cream%20cone%20--%20though%20Hamwi%20Street%20competes%20for%20the%20same%20honor.%20There%20are%20wedges%20of%20cool%20shadow%20here%20and%20there%20thanks%20to%20the%20buildings,%20but%20for%20the%20most%20part%20the%20southern%20exposure%20keeps%20Marciony%20unpleasantly%20hot.%22%5Cn%5CnThe%20Movie%20Rental%20Store%20is%20west%20of%20a%20glass%20door.%20The%20glass%20door%20is%20a%20door.%20It%20is%20west%20of%20Marciony%20Street.%20%20The%20glass%20door%20is%20lockable%20and%20unlocked.%20The%20key%20to%20the%20city%20unlocks%20the%20glass%20door.%5Cn%5CnMain%20Street%20is%20southeast%20of%20Hamwi%20Street.%20Main%20Street%20is%20northeast%20of%20some%20bronze%20gates.%5Cn%5CnThe%20emergency%20box%20is%20in%20Main%20Street.%20The%20emergency%20box%20is%20fixed%20in%20place.%20%22A%20fire-red%20box%20with%20a%20glass%20front%20faces%20the%20sidewalk,%20with%20'In%20case%20of%20emergency,%20BREAK%20GLASS'%20lettered%20on%20it.%22%20The%20emergency%20box%20is%20closed%20and%20transparent.%20Understand%20%22glass%22%20as%20the%20box.%20Instead%20of%20attacking%20the%20closed%20emergency%20box:%20say%20%22You%20hit%20the%20emergency%20box,%20which%20shatters%20open.%22;%20now%20the%20emergency%20box%20is%20open.%20Instead%20of%20attacking%20the%20open%20emergency%20box:%20say%20%22The%20glass%20has%20already%20been%20thoroughly%20broken.%22%5Cn%5CnThe%20syringe%20is%20in%20the%20emergency%20box.%20The%20description%20of%20the%20syringe%20is%20%22It%20contains%20the%20cure%20for%20Gelato's%20Syndrome.%20You%20can%20inject%20anyone%20you%20like%20with%20it.%22%5Cn%5CnThe%20bronze%20gates%20are%20northeast%20of%20Marciony%20Street.%20The%20bronze%20gates%20are%20a%20door.%20The%20bronze%20gates%20are%20lockable%20and%20unlocked.%20%20The%20description%20of%20the%20bronze%20gates%20is%20%22Erected%20during%20the%20milk-taint%20revolution%20of%201937,%20they%20were%20designed%20to%20keep%20Main%20Street%20safe%20from%20the%20depredations%20of%20dairy-starved%20rioters.%22%5Cn%5CnThe%20Public%20Library%20is%20east%20of%20Main%20Street.%20%22Built%20in%20the%201920s%20during%20the%20height%20of%20the%20dairy%20boom,%20the%20public%20library%20has%20lush%20pink%20velvet%20seats,%20marble%20walls%20the%20color%20of%20fresh%20cream,%20and%20a%20motif%20of%20cherries%20carved%20around%20every%20doorframe.%20An%20incongruous%20sign%20hangs%20from%20the%20ceiling.%22%20The%20incongruous%20sign%20is%20scenery%20in%20the%20Public%20Library.%20The%20description%20of%20the%20incongruous%20sign%20is%20%22Eating%20and%20drinking%20in%20the%20library%20is%20STRICTLY%20PROHIBITED.%22%5Cn%5CnTown%20Hall%20is%20southeast%20of%20Main%20Street.%20%22Town%20Hall%20was%20built%20during%20the%20slow%20days%20of%20the%20ice-cream%20bust,%20and%20therefore%20it%20is%20as%20joyless%20and%20utilitarian%20as%20the%20Public%20Library%20is%20ridiculous.%20Unwilling%20to%20be%20reminded%20of%20their%20pain,%20the%20inhabitants%20steered%20clear%20of%20any%20decoration%20that%20might%20remotely%20be%20construed%20to%20resemble%20a%20scoop%20of%20anything:%20so%20there%20are%20no%20curves,%20only%20disciplined%20right%20angles.%22%20The%20key%20to%20the%20city%20is%20in%20Town%20Hall.%20It%20unlocks%20the%20iron%20gate.%20It%20unlocks%20the%20bronze%20gates.%20%20The%20description%20of%20the%20key%20to%20the%20city%20is%20%22A%20skeleton%20key.%22%5Cn%5CnA%20room%20can%20be%20indoors%20or%20outdoors.%20The%20Post%20Office,%20the%20Alfred%20Cralle%20Pool%20Hall,%20the%20Store,%20Cold%20Comfort,%20Town%20Hall,%20and%20the%20Library%20are%20indoors.%5Cn%5CnUse%20full-length%20room%20descriptions.%5Cn%5CnAfter%20looking%20in%20an%20outdoors%20room:%5Cn%5Ctlet%20started%20printing%20be%20false;%5Cn%5Ctnow%20every%20proximate%20door%20is%20not%20mentioned;%5Cn%5Ctif%20an%20indoors%20room%20is%20adjacent:%5Cn%5Ct%5Ctlet%20started%20printing%20be%20true;%5Cn%5Ct%5Ctsay%20%22From%20here%20you%20can%20head%20into%20%5Bthe%20list%20of%20adjacent%20indoors%20rooms%5D%5Bif%20a%20proximate%20door%20is%20not%20mentioned%5D,%20or%20go%20through%20%5Bthe%20list%20of%20proximate%20doors%20which%20are%20not%20mentioned%5D%5Bend%20if%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ctif%20an%20outdoors%20room%20is%20adjacent:%5Cn%5Ct%5Ctsay%20%22You%20could%5Bif%20started%20printing%20is%20true%5D%20also%5Bend%20if%5D%20go%20%22;%5Cn%5Ct%5Ctlet%20count%20be%20the%20number%20of%20adjacent%20outdoors%20rooms;%5Cn%5Ct%5Ctlet%20index%20be%20count;%5Cn%5Ct%5Ctrepeat%20with%20next%20room%20running%20through%20adjacent%20outdoors%20rooms:%5Cn%5Ct%5Ct%5Ctlet%20way%20be%20the%20best%20route%20from%20the%20location%20to%20the%20next%20room;%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bway%5D%20to%20%5Bthe%20next%20room%5D%22;%5Cn%5Ct%5Ct%5Ctdecrement%20index;%5Cn%5Ct%5Ctmake%20delimiter%20index%20of%20count,%20continuing;%5Cn%5Ctif%20a%20proximate%20door%20is%20not%20mentioned:%5Cn%5Ct%5Ctlet%20started%20printing%20be%20true;%5Cn%5Ct%5Ctsay%20%22%5Bif%20started%20printing%20is%20true%5DAlso%20available%5Botherwise%5DYour%20available%20exits%5Bend%20if%5D%20%5Bis-are%20the%20list%20of%20proximate%20doors%20which%20are%20not%20mentioned%5D.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctif%20started%20printing%20is%20true,%20say%20paragraph%20break.%5Cn%5CnDefinition:%20a%20door%20is%20proximate:%5Cn%5Ctif%20the%20front%20side%20of%20it%20is%20the%20location,%20yes;%5Cn%5Ctif%20the%20back%20side%20of%20it%20is%20the%20location,%20yes;%5Cn%5Ctno.%5Cn%5CnBefore%20exiting%20when%20the%20player%20is%20in%20an%20indoors%20room:%5Cn%5Ctif%20the%20player%20can%20see%20a%20door%20(called%20nearest%20exit),%20try%20entering%20the%20nearest%20exit%20instead;%5Cn%5Ctrepeat%20with%20way%20running%20through%20directions:%5Cn%5Ct%5Ctlet%20next%20room%20be%20the%20room%20way%20from%20the%20location;%5Cn%5Ct%5Ctif%20the%20next%20room%20is%20a%20room,%20try%20going%20way%20instead.%5Cn%5CnBlank%20is%20a%20room.%20The%20destination%20of%20the%20player%20is%20Blank.%20Blank%20contains%2015%20ice%20cream%20cones.%5Cn%5Cn%5CnSection%204%20-%20Other%20Players%5Cn%5CnVanessa%20is%20a%20woman%20in%20Cold%20Comfort.%20Vanessa%20owns%20Cold%20Comfort.%5Cn%5CnFrancine%20is%20a%20woman%20in%20the%20Public%20Library.%20Francine%20carries%20a%20book%20called%20Phlox%20for%20Phyllis.%20Francine%20carries%20a%20stamped%20envelope%20called%20a%20pink%20stamped%20envelope.%5Cn%5CnLewis%20is%20a%20man%20in%20the%20Alfred%20Cralle%20Pool%20Hall.%20Lewis%20carries%203%20stamped%20envelopes.%20Lewis%20carries%20a%20book%20called%20Idiot's%20Guide%20to%20Dating.%20Lewis%20carries%20a%20book%20called%20How%20to%20Meet%20Women.%20Lewis%20carries%20a%20book%20called%20Seduction%20in%20Three%20Easy%20Steps.%20Lewis%20carries%20a%20DVD%20called%20Sleepless%20in%20Seattle.%5Cn%5CnGene%20is%20a%20man%20in%20Nancy%20Johnson%20Memorial%20Square.%20Gene%20carries%20a%20stamped%20envelope.%20Gene%20carries%20a%20DVD%20called%20Casablanca.%20Gene%20carries%20a%20coupon.%5Cn%5CnRhoda%20is%20a%20woman%20in%20Marciony%20Street.%20Rhoda%20carries%20a%20book%20called%20The%20Marciony%20Street%20Murders.%20Rhoda%20carries%20a%20DVD%20called%20Unsolved%20Serial%20Killings%20XVIII.%20Rhoda%20carries%20a%20stamped%20envelope%20called%20a%20squashy%20package.%5Cn%5CnMartin%20is%20a%20man%20in%20Main%20Street.%20Martin%20carries%20a%20DVD%20called%20The%20Lifecycle%20of%20the%20South%20Sea%20Tortoise.%20Martin%20carries%20a%20coupon.%5Cn%5CnAntony%20is%20a%20man%20in%20Movie%20Rental.%20Antony%20carries%20a%20coupon.%20Antony%20carries%20a%20stamped%20envelope%20called%20a%20postcard.%5Cn%5CnShelby%20is%20a%20man%20in%20the%20Town%20Hall.%20Shelby%20carries%20a%20DVD%20called%20%20Conducting%20An%20Orderly%20Meeting.%20Shelby%20carries%205%20stamped%20envelopes.%20Shelby%20carries%20an%20ice%20cream%20cone.%20Shelby%20carries%20a%20coupon.%5Cn%5CnChristopher%20is%20a%20man%20in%20the%20Library.%20Christopher%20owns%20the%20Library.%5Cn%5CnLinnea%20is%20a%20woman%20in%20the%20Alfred%20Cralle%20Pool%20Hall.%20Linnea%20owns%20the%20Alfred%20Cralle%20Pool%20Hall.%5Cn%5CnNed%20is%20a%20man%20in%20the%20Movie%20Rental%20Store.%20Ned%20owns%20the%20Movie%20Rental.%5Cn%5CnAfter%20printing%20the%20name%20of%20someone%20(called%20target)%20while%20listing%20contents:%20if%20the%20target%20owns%20the%20location%20of%20the%20target,%20say%20%22%20(the%20owner)%22.%5Cn%5CnThe%20description%20of%20a%20person%20is%20usually%20%22%5BThe%20noun%5D%20%5Bif%20the%20noun%20is%20clean%5Dlooks%20healthy%5Botherwise%5Dis%20the%20color%20of%20%5Binfection%20color%20of%20the%20noun%5D%5Bend%20if%5D.%22%5Cn%5CnAfter%20examining%20another%20person%20who%20is%20carrying%20something:%20say%20%22%5Bif%20the%20noun%20is%20female%5DShe%5Botherwise%5DHe%5Bend%20if%5D%20is%20carrying%20%5Ba%20list%20of%20things%20carried%20by%20the%20noun%5D.%22%5Cn%5CnWhen%20play%20begins:%20let%20Patient%20Zero%20be%20a%20random%20other%20person;%20now%20patient%20zero%20is%20infected.%5Cn%5Cn%5BThis%20is%20a%20light%20variation%20of%20a%20previous%20example,%20but%20we%20use%20it%20here%20because%20it%20is%20convenient:%5D%5Cn%5CnSection%205%20-%20Conversation%5Cn%5CnA%20person%20has%20a%20table%20name%20called%20conversation.%5Cn%5CnInstead%20of%20asking%20someone%20about%20something:%5Cn%5Ctlet%20the%20source%20be%20the%20conversation%20of%20the%20noun;%5Cn%5Ctif%20topic%20understood%20is%20a%20topic%20listed%20in%20source:%5Cn%5Ct%5Ctif%20there%20is%20a%20turn%20stamp%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22You%20have%20already%20heard%20that%20%5Bsummary%20entry%5D.%22;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctnow%20turn%20stamp%20entry%20is%20the%20turn%20count;%5Cn%5Ct%5Ct%5Ctnow%20the%20character%20entry%20is%20the%20noun;%5Cn%5Ct%5Ct%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5BThe%20noun%5D%20stares%20at%20you%20blankly.%22.%5Cn%5CnInstead%20of%20telling%20someone%20about%20something:%5Cn%5Cttry%20asking%20the%20noun%20about%20it.%5Cn%5CnUnderstand%20%22recap%22%20or%20%22recall%22%20or%20%22review%22%20as%20recalling%20conversations.%5Cn%5CnRecalling%20conversations%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCarry%20out%20recalling%20conversations:%5Cn%5Ctrepeat%20with%20speaker%20running%20through%20other%20people:%5Cn%5Ct%5Ctlet%20source%20be%20the%20conversation%20of%20the%20speaker;%5Cn%5Ct%5Ctsort%20source%20in%20turn%20stamp%20order;%5Cn%5Ct%5Ctsay%20%22%5BThe%20speaker%5D%20has%20so%20far%20told%20you:%20%5Bline%20break%5D%22;%5Cn%5Ct%5Ctlet%20index%20be%200;%5Cn%5Ct%5Ctrepeat%20through%20source:%5Cn%5Ct%5Ct%5Ctif%20there%20is%20a%20turn%20stamp%20entry%20and%20the%20speaker%20is%20character%20entry:%5Cn%5Ct%5Ct%5Ct%5Ctlet%20index%20be%201;%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22%20%20%5Bsummary%20entry%5D%5Bline%20break%5D%22;%5Cn%5Ct%5Ctif%20index%20is%200,%20say%20%22%20%20absolutely%20nothing%5Bline%20break%5D%22;%5Cn%5Ct%5Ctsay%20line%20break.%5Cn%5CnThe%20conversation%20of%20a%20person%20is%20usually%20Table%20of%20General%20ChitChat.%5Cn%5CnTable%20of%20General%20ChitChat%5Cntopic%5Ctreply%5Ctsummary%5Ctturn%20stamp%5Ctcharacter%5Cn%22weather/heat/warmth%22%5Ct%22'It's%20appalling,%20isn't%20it?%20You'd%20think%20we%20didn't%20pay%20our%20taxes.'%22%5Ct%22that%20the%20weather%20is%20appalling%22%5Cta%20number%5Cta%20person%5Cn%22sun/sunlight%22%5Ct%22'Good%20thing%20the%20town%20mostly%20switched%20to%20solar%20power,%20har,%20har.'%22%5Ct%22that%20the%20town%20is%20mostly%20relying%20on%20solar%20power%22%5Cn%22rain%22%5Ct%22'Nope,%20there%20isn't%20going%20to%20be%20rain%20for%20132%20days,'%20replies%20%5Bthe%20noun%5D.%22%5Ct%22that%20rain%20is%20not%20expected%20for%20another%20132%20days%22%5Cn%22snow/hail/ice%22%5Ct%22This%20hilarious%20sally%20is%20greeted%20with%20hoots%20of%20laughter%20only.%22%5Ct%22that%20the%20concept%20of%20snow%20is%20downright%20laughable%22%5Cn%22disease/sickness/illness/syndrome%22%5Ct%22You%20get%20a%20cold,%20fixed%20stare%20in%20response.%20'That's%20not%20funny,'%20%5Bthe%20noun%5D%20replies%20finally.%22%5Ct%22that%20discussing%20the%20disease%20is%20more%20or%20less%20taboo%22%5Cn%22cold%20comfort%22%5Ct%22'If%20you%20haven't%20tried%20it,%20you%20should,'%20says%20%5Bthe%20noun%5D.%20'Best%20ice%20cream%20in%20town,%20and%20that's%20saying%20something,%20you%20bet.'%22%5Ct%22that%20Cold%20Comfort%20has%20the%20best%20ice%20cream%20in%20town%22%5Cn%22town/city/village%22%5Ct%22'Yeah,%20it's%20a%20mite%20odd,'%20allows%20%5Bthe%20noun%5D.%20'Not%20to%20everyone's%20taste,%20like...'%20%5Bthe%20noun%20as%20pronoun%5D%20considers%20for%20a%20moment.%20'Like%20ginger%20ice%20cream.%20Big%20pieces%20of%20crystallized%20ginger...%20not%20everyone%20likes%20that.'%22%5Ct%22that%20the%20town%20is%20a%20mite%20odd%22%5Cn%22forecast/weatherman%22%20or%20%22weather%20forecast/man%22%5Ct%22'Oh,%20the%20weather%20man's%20gotten%20a%20lot%20more%20reliable%20since%20the%20gummint%20started%20making%20it%20for%20us,'%20says%20%5Bthe%20noun%5D.%20'Now%20he%20just%20reads%20off%20the%20schedule%20on%20the%20air%20every%20morning.%20Pretty%20much%20takes%20the%20fun%20right%20out%20of%20the%20news,%20if%20you%20ask%20me.'%22%5Ct%22that%20the%20weather%20is%20all%20generated%20by%20schedule%22%5Cn%22taxes/tax%22%20or%20%22weather%20tax%22%5Ct%22A%20snort.%20'You'd%20think%20for%20the%20rates%20we%20pay%20we'd%20get%20something%20a%20little%20pleasanter,%20don't%20you?'%22%5Ct%22that%20the%20weather%20tax%20really%20ought%20to%20be%20paying%20for%20something%20nicer%20than%20what%20you%20get%22%5Cn%22job/employment/work%22%5Ct%22'%5Bif%20the%20noun%20owns%20a%20room%20(called%20the%20shop)%5DI%20own%20%5Bthe%20shop%5D,'%20replies%20%5Bthe%20noun%5D%5Botherwise%5DWork%20at%20the%20creamery,%20like%20most%20folk%20around%20here,'%20answers%20%5Bthe%20noun%5D.%22%5Ct%22this%20and%20that%20about%20employment%20in%20town%22%5Cn%22book/books/reading%22%5Ct%22'The%20Public%20Library%20has%20a%20good%20selection,%20excepting%20only%20the%20cookbook%20section,'%20says%20%5Bthe%20noun%5D.%20'That%20got%20censored%20way%20back%20when--%20well,%20way%20back.'%22%5Ct%22that%20the%20Public%20Library%20has%20a%20good%20collection,%20except%20for%20the%20cookbook%20section%22%5Cn%5CnThe%20conversation%20of%20Vanessa%20is%20the%20Table%20of%20Vanessa%20Chatter.%5Cn%5CnTable%20of%20Vanessa%20Chatter%5Cntopic%5Ctreply%5Ctsummary%5Ctturn%20stamp%5Ctcharacter%5Cn%22ice%20cream%22%20or%20%22sorbet/sherbet/flavor/flavors/flavour/flavours/ice/ices%22%5Ct%22'The%20flavors%20are%20%5Blist%20of%20flavors%5D,'%20she%20responds%20promptly,%20without%20needing%20to%20draw%20breath.%22%5Ct%22that%20the%20flavors%20are%20%5Blist%20of%20flavors%5D%22%5Cta%20number%5Cta%20person%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctwhile%20player's%20command%20includes%20%22the%22:%5Cn%5Ct%5Ctcut%20the%20matched%20text.%5Cn%5Cn%5BThis%20strips%20'the'%20out%20of%20the%20command,%20so%20that%20ASK%20PERSON%20ABOUT%20THE%20RAIN%20will%20be%20understood%20as%20well%20as%20ASK%20PERSON%20ABOUT%20RAIN.%5D%5Cn%5Cn%5BNow%20we%20try%20something%20a%20bit%20unusual.%20Inform%20on%20its%20own%20will%20report%20each%20action%20on%20its%20own%20line,%20so%20that%20each%20character%20who%20walks%20into%20or%20out%20of%20a%20room%20will%20be%20described%20in%20a%20separate%20paragraph.%20This%20is%20usually%20fine,%20but%20in%20a%20game%20with%20a%20lot%20of%20characters%20moving%20around%20simultaneously,%20it%20can%20become%20a%20bit%20overwhelming.%20Instead,%20we%20may%20want%20to%20condense%20these%20reports%20into%20a%20single%20line,%20such%20as%20%22Ben%20and%20Jerry%20enter%20from%20the%20south%22.%20The%20following%20accomplishes%20that%20goal%20by%20replacing%20some%20of%20the%20reporting%20rules,%20storing%20the%20information%20in%20a%20table,%20and%20then%20reading%20the%20table%20back%20later,%20once%20all%20the%20character%20movement%20has%20been%20resolved%20and%20the%20reports%20can%20usefully%20be%20collated:%5D%5Cn%5CnSection%206%20-%20Movement%20Description%5Cn%5CnA%20person%20has%20some%20text%20called%20walk%20style.%20The%20walk%20style%20of%20a%20man%20is%20usually%20%22stride%22.%20The%20walk%20style%20of%20a%20woman%20is%20usually%20%22strut%22.%20The%20walk%20style%20of%20Gene%20is%20%22%5Bone%20of%5Dwander%5Bor%5Dstroll%5Bpurely%20at%20random%5D%22.%20The%20walk%20style%20of%20Francine%20is%20%22waddle%22.%20The%20walk%20style%20of%20Antony%20is%20%22scamper%22.%20The%20walk%20style%20of%20Rhoda%20is%20%22sashay%22.%5Cn%5CnTable%20of%20Visible%20Exits%5Cncharacter%5Ctsecond%5Ctthird%5Ctheading%20chosen%5Cttotal%5Cna%20person%5Cta%20person%5Cta%20person%5Cta%20direction%5Cta%20number%5Cnwith%2010%20blank%20rows.%5Cn%5CnTable%20of%20Visible%20Entrances%5Cncharacter%5Ctsecond%5Ctthird%5Ctheading%20chosen%5Cttotal%5Cna%20person%5Cta%20person%5Cta%20person%5Cta%20direction%5Cta%20number%5Cnwith%2010%20blank%20rows.%5Cn%5CnTo%20clear%20(current%20table%20-%20a%20table%20name):%5Cn%5Ctrepeat%20through%20current%20table:%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row.%5Cn%5CnTo%20tidy%20departures%20of%20(current%20table%20-%20a%20table%20name):%5Cn%5Ctlet%20next%20direction%20be%20up;%5Cn%5Ctrepeat%20through%20current%20table:%5Cn%5Ct%5Ctif%20heading%20chosen%20entry%20is%20next%20direction:%5Cn%5Ct%5Ct%5Ctlet%20accomplice%20be%20character%20entry;%5Cn%5Ct%5Ct%5Ctchoose%20row%20with%20heading%20chosen%20of%20next%20direction%20in%20the%20current%20table;%5Cn%5Ct%5Ct%5Ctif%20total%20entry%20is%201:%5Cn%5Ct%5Ct%5Ct%5Ctnow%20second%20entry%20is%20accomplice;%5Cn%5Ct%5Ct%5Ct%5Ctnow%20total%20entry%20is%202;%5Cn%5Ct%5Ct%5Ctif%20total%20entry%20is%202:%5Cn%5Ct%5Ct%5Ct%5Ctunless%20the%20second%20entry%20is%20accomplice:%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctnow%20third%20entry%20is%20accomplice;%5Cn%5Ct%5Ct%5Ct%5Ct%5Ctnow%20total%20entry%20is%203;%5Cn%5Ct%5Ct%5Ctchoose%20row%20with%20character%20of%20accomplice%20in%20the%20current%20table;%5Cn%5Ct%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctlet%20next%20direction%20be%20heading%20chosen%20entry.%5Cn%5CnA%20door%20has%20a%20person%20called%20last%20opener.%5Cn%5CnReport%20someone%20opening%20a%20door:%5Cn%5Ctnow%20group%20size%20is%201;%5Cn%5Ctnow%20the%20last%20opener%20of%20the%20noun%20is%20the%20person%20asked;%5Cn%5Ctif%20the%20person%20asked%20is%20visible,%20say%20%22%5BThe%20person%20asked%5D%20opens%20%5Bthe%20noun%5D.%20%5Brun%20paragraph%20on%5D%22%20instead;%5Cn%5Ctotherwise%20say%20%22%5BThe%20noun%5D%20opens%20from%20the%20other%20side.%20%5Brun%20paragraph%20on%5D%22%20instead.%5Cn%5CnReport%20someone%20going%20through%20a%20door%20(called%20route):%5Cn%5Ctif%20the%20person%20asked%20is%20not%20the%20last%20opener%20of%20the%20route,%20continue%20the%20action;%5Cn%5Ctif%20the%20person%20asked%20is%20the%20last%20person%20named,%20say%20%22%5BThe%20person%20asked%20as%20pronoun%5D%22;%5Cn%5Ctotherwise%20say%20%22%5BThe%20person%20asked%5D%22;%5Cn%5Ctsay%20%22%20%5Bif%20the%20person%20asked%20is%20in%20the%20location%5Dcomes%5Botherwise%5Dgoes%5Bend%20if%5D%20through%5Bif%20the%20last%20thing%20named%20is%20not%20the%20route%5D%20%5Bthe%20route%5D%5Bend%20if%5D.%22%20instead.%5Cn%5CnThe%20last%20thing%20named%20is%20a%20thing%20that%20varies.%20Before%20printing%20the%20name%20of%20something%20(called%20target)%20which%20is%20not%20a%20person:%20now%20the%20last%20thing%20named%20is%20the%20target.%5Cn%5CnReport%20someone%20going%20a%20direction:%5Cn%5Ctif%20the%20person%20asked%20is%20in%20the%20location,%5Cn%5Ct%5Ctchoose%20a%20blank%20row%20in%20the%20table%20of%20visible%20entrances;%5Cn%5Ctotherwise%20choose%20a%20blank%20row%20in%20the%20table%20of%20visible%20exits;%5Cn%5Ctnow%20character%20entry%20is%20the%20person%20asked;%5Cn%5Ctnow%20total%20entry%20is%201;%5Cn%5Ctif%20the%20person%20asked%20is%20in%20the%20location,%5Cn%5Ct%5Ctnow%20heading%20chosen%20entry%20is%20the%20opposite%20of%20the%20noun;%5Cn%5Ctotherwise%20now%20heading%20chosen%20entry%20is%20the%20noun;%5Cn%5Ctstop%20the%20action.%5Cn%5CnThis%20is%20the%20movement%20reporting%20rule:%5Cn%5Ctsort%20the%20Table%20of%20Visible%20Entrances%20in%20heading%20chosen%20order;%5Cn%5Cttidy%20departures%20of%20the%20table%20of%20visible%20entrances;%5Cn%5Ctsort%20the%20Table%20of%20Visible%20exits%20in%20heading%20chosen%20order;%5Cn%5Cttidy%20departures%20of%20the%20table%20of%20visible%20exits;%5Cn%5Ctlet%20total%20row%20count%20be%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Visible%20Entrances%20plus%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Visible%20Exits;%5Cn%5Ctif%20total%20row%20count%20is%200,%20rule%20succeeds;%5Cn%5Ctgenerate%20descriptions%20from%20the%20Table%20of%20Visible%20Entrances;%5Cn%5Ctgenerate%20descriptions%20from%20the%20Table%20of%20Visible%20Exits;%5Cn%5Ctclear%20the%20Table%20of%20Visible%20Entrances;%20clear%20the%20Table%20of%20Visible%20Exits.%5Cn%5CnTo%20generate%20descriptions%20from%20(current%20table%20-%20a%20table%20name):%5Cn%5Ctlet%20count%20be%20the%20number%20of%20filled%20rows%20in%20the%20current%20table;%5Cn%5Ctif%20count%20is%200,%20rule%20succeeds;%5Cn%5Ctlet%20index%20be%20count;%5Cn%5Ctrepeat%20through%20the%20current%20table:%5Cn%5Ct%5Ctlet%20accomplice%20be%20character%20entry;%5Cn%5Ct%5Ctif%20character%20entry%20is%20a%20person,%20now%20character%20entry%20is%20marked%20for%20listing;%5Cn%5Ct%5Ctif%20there%20is%20a%20second%20entry%20and%20second%20entry%20is%20a%20person,%20now%20second%20entry%20is%20marked%20for%20listing;%5Cn%5Ct%5Ctif%20there%20is%20a%20third%20entry%20and%20third%20entry%20is%20a%20person,%20now%20third%20entry%20is%20marked%20for%20listing;%5Cn%5Ct%5Ctlet%20target%20be%20the%20room%20the%20heading%20chosen%20entry%20from%20the%20location;%5Cn%5Ct%5Ctif%20total%20entry%20is%203,%20say%20%22%5BThe%20character%20entry%5D,%20%5Bthe%20second%20entry%5D%5Boptional%20comma%5D%20and%20%5Bthe%20third%20entry%5D%20%22;%5Cn%5Ct%5Ctif%20total%20entry%20is%202,%20say%20%22%5BThe%20character%20entry%5D%20and%20%5Bthe%20second%20entry%5D%20%22;%5Cn%5Ct%5Ctif%20total%20entry%20is%201:%5Cn%5Ct%5Ct%5Ctif%20the%20character%20entry%20is%20the%20last%20person%20named,%20say%20%22%5BThe%20character%20entry%20as%20pronoun%5D%20%22;%5Cn%5Ct%5Ct%5Ctotherwise%20say%20%22%5BThe%20character%20entry%5D%20%22;%5Cn%5Ct%5Ctif%20total%20entry%20is%201,%20say%20%22%5Bwalk%20style%20of%20the%20character%20entry%5Ds%20%22;%5Cn%5Ct%5Ctotherwise%20say%20%22walk%5Bif%20total%20entry%20is%201%5Ds%5Bend%20if%5D%20%22;%5Cn%5Ct%5Ctif%20the%20character%20entry%20is%20in%20the%20location:%5Cn%5Ct%5Ct%5Ctif%20location%20is%20indoors%20and%20target%20is%20indoors,%20say%20%22over%20from%20%22;%5Cn%5Ct%5Ct%5Ctif%20location%20is%20outdoors%20and%20target%20is%20indoors,%20say%20%22out%20of%20%22;%5Cn%5Ct%5Ct%5Ctif%20location%20is%20indoors%20and%20target%20is%20outdoors,%20say%20%22in%20from%20%22;%5Cn%5Ct%5Ct%5Ctif%20location%20is%20outdoors%20and%20target%20is%20outdoors,%20say%20%22over%20from%20%22;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctif%20location%20is%20indoors%20and%20target%20is%20indoors,%20say%20%22over%20to%20%22;%5Cn%5Ct%5Ct%5Ctif%20location%20is%20outdoors%20and%20target%20is%20indoors,%20say%20%22into%20%22;%5Cn%5Ct%5Ct%5Ctif%20location%20is%20indoors%20and%20target%20is%20outdoors,%20say%20%22out%20%5Bif%20a%20door%20is%20visible%5D%5Bthe%20random%20visible%20door%5D%5Bend%20if%5D%20to%20%22;%5Cn%5Ct%5Ct%5Ctif%20location%20is%20outdoors%20and%20target%20is%20outdoors,%20say%20%22over%20to%20%22;%5Cn%5Ct%5Ctif%20target%20is%20outdoors,%20say%20%22%5Bthe%20heading%20chosen%20entry%5D%22;%5Cn%5Ct%5Ctotherwise%20say%20%22%5Bthe%20target%5D%22;%5Cn%5Ct%5Ctif%20the%20total%20entry%20is%201%20and%20count%20is%201%20and%20accomplice%20carries%20something,%20say%20%22,%20carrying%20%5Ba%20list%20of%20things%20carried%20by%20the%20accomplice%5D%22;%5Cn%5Ct%5Ctdecrement%20index;%5Cn%5Ct%5Ctmake%20delimiter%20index%20of%20count,%20continuing;%5Cn%5Ct%5Ctnow%20group%20size%20is%20total%20entry;%5Cn%5Ctif%20a%20marked%20for%20listing%20person%20is%20infected:%5Cn%5Ct%5Ct%5Beliminate%20the%20case%20in%20which%20we%20have%20already%20seen%20this%20description%20because%20we%20just%20typed%20LOOK%20and%20the%20patient%20was%20in%20the%20room%20at%20the%20time%5D%5Cn%5Ct%5Ctif%20looking%20and%20a%20marked%20for%20listing%20person%20is%20not%20in%20the%20location:%5Cn%5Ct%5Ct%5Ctclear%20marked%20people;%5Cn%5Ct%5Ct%5Ctsay%20paragraph%20break;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctdescribe%20patients;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctclear%20marked%20people;%5Cn%5Ct%5Ctsay%20paragraph%20break.%5Cn%5CnThe%20last%20person%20named%20is%20a%20person%20that%20varies.%20Before%20printing%20the%20name%20of%20a%20person%20(called%20target):%20now%20the%20last%20person%20named%20is%20the%20target.%20Group%20size%20is%20a%20number%20that%20varies.%20Group%20size%20is%201.%5Cn%5CnTo%20clear%20marked%20people:%5Cn%5Ctrepeat%20with%20named%20party%20running%20through%20people:%5Cn%5Ct%5Ctnow%20the%20named%20party%20is%20not%20marked%20for%20listing.%5Cn%5CnBefore%20listing%20nondescript%20items:%5Cn%5Ctif%20the%20number%20of%20people%20who%20are%20marked%20for%20listing%20is%200,%20make%20no%20decision;%5Cn%5Ctsay%20%22You%20can%20see%20%5Ba%20list%20of%20people%20who%20are%20marked%20for%20listing%5D%20here.%20%22;%5Cn%5Ctnow%20group%20size%20is%20the%20number%20of%20people%20who%20are%20marked%20for%20listing;%5Cn%5Ctdescribe%20patients;%5Cn%5Ctnow%20every%20marked%20for%20listing%20person%20is%20not%20marked%20for%20listing.%5Cn%5CnTo%20describe%20patients:%5Cn%5Ctif%20every%20marked%20for%20listing%20person%20is%20infected%20and%20at%20least%20three%20people%20are%20marked%20for%20listing:%5Cn%5Ct%5Ctsay%20%22They%20are%20all%20sick%20as%20dogs,%20every%20one.%22;%5Cn%5Ct%5Ctclear%20marked%20people;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctif%20the%20number%20of%20people%20who%20are%20marked%20for%20listing%20is%20greater%20than%20two%20and%20the%20number%20of%20infected%20people%20who%20are%20marked%20for%20listing%20is%20greater%20than%20the%20number%20of%20clean%20people%20who%20are%20marked%20for%20listing:%5Cn%5Ct%5Ct%5Ctsay%20%22Only%20%5Bthe%20list%20of%20clean%20people%20who%20are%20marked%20for%20listing%5D%20currently%20remain%5Bif%20the%20number%20of%20clean%20people%20who%20are%20marked%20for%20listing%20is%201%5Ds%5Bend%20if%5D%20untainted.%22;%5Cn%5Ct%5Ct%5Ctclear%20marked%20people;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctlet%20count%20be%20the%20number%20of%20marked%20for%20listing%20other%20people%20who%20are%20infected;%5Cn%5Ctif%20count%20is%200:%5Cn%5Ct%5Ctsay%20paragraph%20break;%5Cn%5Ct%5Ctmake%20no%20decision;%5Cn%5Ctlet%20index%20be%20count;%5Cn%5Ctrepeat%20with%20patient%20running%20through%20marked%20for%20listing%20other%20people%20who%20are%20infected:%5Cn%5Ct%5Ctif%20index%20is%20count:%5Cn%5Ct%5Ct%5Ctif%20count%20is%201%20and%20the%20patient%20is%20the%20last%20person%20named:%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22%5BThe%20patient%20as%20pronoun%5D%22;%5Cn%5Ct%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22%5BThe%20patient%5D%22;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bthe%20patient%5D%22;%5Cn%5Ct%5Ctsay%20%22%20%5Blooks%20as%20though%20dipped%20in%20for%20index%5D%20%5Binfection%20color%20of%20the%20patient%5D%22;%5Cn%5Ct%5Ctdecrement%20index;%5Cn%5Ct%5Ctmake%20delimiter%20index%20of%20count;%5Cn%5Ctclear%20marked%20people.%5Cn%5CnTo%20say%20(named%20character%20-%20a%20man)%20as%20pronoun:%5Cn%5Ctif%20group%20size%20is%201,%20say%20%22He%22;%20if%20group%20size%20is%202,%20say%20%22The%20latter%22;%20if%20group%20size%20is%20greater%20than%202,%20say%20%22The%20last%22.%5Cn%5CnTo%20say%20(named%20character%20-%20a%20woman)%20as%20pronoun:%20if%20group%20size%20is%201,%20say%20%22She%22;%20if%20group%20size%20is%202,%20say%20%22The%20latter%22;%20if%20group%20size%20is%20greater%20than%202,%20say%20%22The%20last%22.%5Cn%5CnTo%20say%20looks%20as%20though%20dipped%20in%20for%20(index%20-%20a%20number):%5Cn%5Ctlet%20divider%20be%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Dipping%20Phrases;%5Cn%5Ctif%20index%20is%20greater%20than%204,%20let%20index%20be%20the%20remainder%20after%20dividing%20index%20by%20divider;%5Cn%5Ctchoose%20row%20index%20in%20the%20Table%20of%20Dipping%20Phrases;%5Cn%5Ctsay%20dipping%20entry.%5Cn%5CnTable%20of%20Dipping%20Phrases%5Cndipping%5Cn%22looks%20as%20though%20dipped%20in%22%5Cn%22could%20have%20been%20rolling%20in%22%5Cn%22has%20a%20bad%20case%20of%22%5Cn%22suffers%20from%22%5Cn%22contracted%20a%20virulent%22%5Cn%5CnA%20door%20is%20usually%20scenery.%5Cn%5Cn%5BThe%20next%20part%20could%20be%20simpler,%20but%20for%20rigor%20we%20will%20write%20it%20in%20such%20a%20way%20that%20it%20will%20work%20whether%20or%20not%20the%20serial%20comma%20is%20in%20use.%20This%20requires%20some%20extra%20work.%5D%5Cn%5CnTo%20make%20delimiter%20(index%20-%20a%20number)%20of%20(count%20-%20a%20number),%20continuing%20or%20halting:%5Cn%5Ctif%20index%20is%200:%5Cn%5Ct%5Ctif%20continuing,%20say%20%22.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ct%5Ctotherwise%20say%20%22.%22;%5Cn%5Ctotherwise%20if%20index%20is%201:%5Cn%5Ct%5Ctif%20count%20is%202,%20say%20%22%20and%20%22;%5Cn%5Ct%5Ctotherwise%20say%20%22%5Boptional%20comma%5D%20and%20%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22,%20%22.%5Cn%5CnTo%20say%20optional%20comma:%5Cn%5Ctif%20the%20serial%20comma%20option%20is%20active:%5Cn%5Ct%5Ctsay%20%22,%22.%5Cn%5CnTest%20me%20with%20%22go%20to%20cold%20comfort%20/%20z%20/%20z%20/%20z%20/%20z%20/%20ask%20vanessa%20for%20french%20vanilla%20/%20ask%20vanessa%20for%20chocolate%20/%20ask%20vanessa%20about%20flavors%20/%20ask%20vanessa%20for%20chocolate%20chocolate%20chip%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Patient Zero"
</p>
<p class="quoted">
Use the serial comma and no scoring.
</p>
<p class="quoted">
Understand "about" as asking for information. Asking for information is an action out of world.
</p>
<p class="quoted">
Carry out asking for information: say "An implementation of the following creative brief:
</p>
<p class="quoted">
People wander around some small map, on errands. One, sad to tell, has Gelato's Syndrome, a tragic condition turning one's skin the colour of a random flavour of ice cream (raspberry ripple, neapolitan, etc.). When two people are in the same room, there's a 1/3 chance that an infected person will infect a non-infected one. The player can cure any single person: victory condition - to stamp out the disease."
</p>
<p class="quoted">
When play begins:
<br>    say "Gelato's Syndrome. It's struck, and it's struck hard. In these sticky summer months, there's no telling who will contract the disease next.";
<br>    now the command prompt is "[if the destination of the player is not blank](heading to [destination of the player]) [end if]&gt;".
</p>
<p class="quoted">
Section 1 - Errands
</p>
<p class="quoted">
The current actor is a person which varies. The current owner is a person which varies.
</p>
<p class="quoted">
Every turn:
<br>    if player is active, follow the character movement rules.
</p>
<p class="quoted">
Every turn:
<br>    now the last person named is the player;
<br>    now the last thing named is the player;
<br>    now every person is active.
</p>
<p class="quoted">
A person can be active or passive. The player is passive.
</p>
<p class="quoted">
The character movement rules are a rulebook.
</p>
<p class="quoted">
The first character movement rule:
<br>    now group size is 1;
<br>    now the last person named is the player;
<br>    now the last thing named is the player;
<br>    now the player is passive.
</p>
<p class="quoted">
A character movement rule:
<br>    repeat with mover running through innocent people:
<br>        now the current actor is the mover;
<br>        follow the shopper rules;
<br>        now the current actor is passive;
<br>    follow the movement reporting rule.
</p>
<p class="quoted">
A character movement rule:
<br>    repeat with next mover running through mercantile people:
<br>        now the current owner is the next mover;
<br>        follow the shopowner rules;
<br>        now the current owner is passive;
<br>    follow the infection rule.
</p>
<p class="quoted">
To decide whether movement has not yet occurred:
<br>    if the player is passive, no;
<br>    yes.
</p>
<p class="quoted">
Definition: a person is mercantile if it owns a room. Definition: a person is innocent if it is not mercantile and it is not the player.
</p>
<p class="quoted">
The shopowner rules is a rulebook.
</p>
<p class="quoted">
A shopowner rule:
<br>    let the shop be a random room owned by the current owner;
<br>    if the shop is air-conditioned and an open door (called the escape) protects the shop, try the current owner closing the escape instead.
</p>
<p class="quoted">
Report someone closing a door when the person asked owns the location:
<br>    say "[The person asked], muttering darkly about air-conditioning and electricity, closes [the noun]." instead.
</p>
<p class="quoted">
Report Vanessa closing the metal door when the metal door is visible:
<br>    if Vanessa is visible, say "Vanessa watches serenely as the metal door slides automatically back in place, sealing Cold Comfort." instead;
<br>    otherwise say "The metal door slides heavily back into place." instead.
</p>
<p class="quoted">
A shopowner rule:
<br>    if the location of the current owner encloses a submitted artwork (called the target):
<br>        try the current owner filing the target.
</p>
<p class="quoted">
Filing is an action applying to one thing.
</p>
<p class="quoted">
Before someone filing something which is not carried by the person asked:
<br>    try the person asked taking the noun instead.
</p>
<p class="quoted">
Carry out someone filing:
<br>    if the person asked does not carry the noun and the person asked is visible, say "[The person asked] tries unsuccessfully to get [the noun]." instead;
<br>    now the noun is nowhere.
</p>
<p class="quoted">
Report someone filing:
<br>    say "[The person asked] registers [the noun] and files it away."
</p>
<p class="quoted">
The shopper rules is a rulebook.
</p>
<p class="quoted">
A shopper rule:
<br>    if the current actor carries something (called the problem), try the current actor resolving the problem instead.
</p>
<p class="quoted">
A shopper rule:
<br>    if the current actor is not in the pool hall and the air conditioner is switched on:
<br>        try the current actor approaching the pool hall;
<br>    otherwise:
<br>        let way be a random direction;
<br>        try the current actor going the way.
</p>
<p class="quoted">
Definition: a room is air-conditioned:
<br>    if it is outdoors, no;
<br>    if it is the Pool Hall and the air conditioner is switched off, no;
<br>    if it is protected by a door, yes;
<br>    no.
</p>
<p class="quoted">
Protection relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to protect means the protection relation.
</p>
<p class="quoted">
Ownership relates one person to various rooms. The verb to own means the ownership relation.
</p>
<p class="quoted">
Resolving is an action applying to one thing.
</p>
<p class="quoted">
An artwork is a kind of thing. Before printing the name of an artwork, say italic type. After printing the name of an artwork, say roman type. An artwork can be submitted or reserved.
</p>
<p class="quoted">
A book is a kind of artwork.
</p>
<p class="quoted">
Before someone resolving a book when the person asked is not in the Public Library:
<br>    try the person asked approaching the Public Library instead.
</p>
<p class="quoted">
Carry out someone resolving a book:
<br>    move the noun to the Public Library;
<br>    now the noun is submitted.
</p>
<p class="quoted">
Report someone resolving a book:
<br>    say "[The person asked] turns in [the noun]."
</p>
<p class="quoted">
Before listing contents: group books together.
</p>
<p class="quoted">
Before grouping together books: say "books entitled ".
</p>
<p class="quoted">
A stamped envelope is a kind of thing.
</p>
<p class="quoted">
Before someone resolving a stamped envelope when the person asked is not in the Post Office:
<br>    try the person asked approaching the Post Office instead.
</p>
<p class="quoted">
Carry out someone resolving a stamped envelope:
<br>    now the noun is nowhere.
</p>
<p class="quoted">
Report someone resolving a stamped envelope:
<br>    say "[The person asked] slips [a noun] into the outgoing mail slot."
</p>
<p class="quoted">
Instead of someone resolving a stamped envelope when the person asked carries at least two stamped envelopes:
<br>    if the person asked is visible, say "[The person asked] shoves into the mail slot [a list of stamped envelopes carried by the person asked].";
<br>    repeat with item running through stamped envelopes carried by the person asked:
<br>        now the item is nowhere.
</p>
<p class="quoted">
A DVD is a kind of artwork.
</p>
<p class="quoted">
Before someone resolving a DVD when the person asked is not in the Rental Store:
<br>    try the person asked approaching the Rental Store instead.
</p>
<p class="quoted">
Carry out someone resolving a DVD:
<br>    now the noun is submitted;
<br>    move the noun to the Movie Rental Store.
</p>
<p class="quoted">
Report someone resolving a DVD:
<br>    say "[The person asked] returns [the noun]."
</p>
<p class="quoted">
Instead of someone resolving a DVD when the person asked carries at least two DVDs:
<br>    if the person asked is visible, say "[The person asked] turns in [a list of DVDs carried by the person asked].";
<br>    now every DVD carried by the person asked is submitted;
<br>    now every DVD carried by the person asked is in the location of the person asked.
</p>
<p class="quoted">
Before listing contents: group DVDs together.
</p>
<p class="quoted">
Before grouping together DVDs: say "DVDs of ".
</p>
<p class="quoted">
Approaching is an action applying to one thing.
</p>
<p class="quoted">
Carry out someone approaching:
<br>    let the way be the best route from the location of the person asked to the noun, using doors;
<br>    if the way is a direction, try the person asked going the way;
<br>    otherwise stop the action.
</p>
<p class="quoted">
A coupon is a kind of thing.
</p>
<p class="quoted">
Carry out someone resolving a coupon:
<br>    try the person asked giving the noun to Vanessa.
</p>
<p class="quoted">
The block giving rule is not listed in any rulebook.
</p>
<p class="quoted">
Check giving something to someone (this is the block player giving rule):
<br>    abide by the block giving rule.
</p>
<p class="quoted">
Before someone resolving a coupon when the person asked is not in Cold Comfort:
<br>    try the person asked approaching Cold Comfort instead.
</p>
<p class="quoted">
After someone giving a coupon to Vanessa:
<br>    let the reward be a random ice cream cone;
<br>    let the new flavor be a random infection color;
<br>    now the infection color of the reward is the new flavor;
<br>    move the reward to the person asked;
<br>    now the noun is nowhere;
<br>    if Vanessa is visible, say "[The person asked] trades in [the noun] and receives [a reward] from Vanessa."
</p>
<p class="quoted">
Infection color is a kind of value. The infection colors are french vanilla, whole-bean vanilla, mint, chocolate, dark chocolate, chocolate chip, chocolate fudge, mint chocolate chip, chocolate chocolate chip, triple chocolate, white chocolate, white chocolate chip, aztec cocoa-chili, raspberry ripple, neapolitan, rum raisin, dulce de leche, strawberry chunk, rocky road, blackberry sorbet, lemon sherbet, lime ice, caramel swirl, mango, saffron silk, and cookie dough cream.
</p>
<p class="quoted">
To say list of flavors:
<br>    let current color be french vanilla;
<br>    while current color is not cookie dough cream:
<br>        say "[current color], ";
<br>        now current color is the infection color after the current color;
<br>    say "and [current color]".
</p>
<p class="quoted">
Understand "ask vanessa for [flavored ice cream]" as buying the flavor. Understand "buy [flavored ice cream]" as buying the flavor.
</p>
<p class="quoted">
Buying the flavor is an action applying to one infection color.
</p>
<p class="quoted">
Check buying the flavor:
<br>    unless the player can see Vanessa:
<br>        say "It would help if you were in the presence of an ice cream salesperson." instead.
</p>
<p class="quoted">
Carry out buying the flavor: say "'Do you have a coupon?' Vanessa demands. You admit you do not. 'No [infection color understood] for you!'"
</p>
<p class="quoted">
Understand "ice cream" or "cream" or "ice" or "sherbet" or "sorbet" as "[ice cream]".
</p>
<p class="quoted">
Understand "[infection color]" or "[infection color] [ice cream]" as "[flavored ice cream]".
</p>
<p class="quoted">
An ice cream cone is a kind of thing. An ice cream cone is always edible. An ice cream cone has an infection color. An ice cream cone can be half-eaten or fresh. Understand the infection color property as referring to an ice cream cone.
</p>
<p class="quoted">
Carry out someone resolving an ice cream cone:
<br>    try the person asked eating the noun instead.
</p>
<p class="quoted">
Instead of someone eating a fresh ice cream cone:
<br>    now the noun is half-eaten;
<br>    if the person asked is visible, say "[The person asked] licks [the noun]."
</p>
<p class="quoted">
Report someone eating an ice cream cone:
<br>    say "[The person asked] pops the end of [the noun] into [if the person asked is female]her[otherwise]his[end if] mouth and swallows." instead.
</p>
<p class="quoted">
Before printing the name of an ice cream cone:
<br>    say "[if half-eaten]half-eaten [end if][infection color] ".
</p>
<p class="quoted">
Section 2 - Infection Rules
</p>
<p class="quoted">
This is the infection rule:
<br>    if an infected person (called typhoid mary) can see a clean person (called random bystander) and a random chance of 1 in 3 succeeds:
<br>        try typhoid mary sneezing on the random bystander.
</p>
<p class="quoted">
A person can be infected or clean. A person has an infection color.
</p>
<p class="quoted">
Every turn:
<br>    if the player is infected, say "You feel itchy."
</p>
<p class="quoted">
Definition: a person is other if it is not the player. Definition: a person is another if it is other.
</p>
<p class="quoted">
When play begins: now right hand status line is "Sick: [number of infected people]/[number of people]".
</p>
<p class="quoted">
Every turn:
<br>    if every person is infected, end the story saying "Everyone succumbs";
<br>    if every person is clean, end the story finally saying "The Syndrome is eradicated".
</p>
<p class="quoted">
Understand "sneeze on [something]" as sneezing on. Sneezing on is an action applying to one thing.
</p>
<p class="quoted">
Check sneezing on:
<br>    if the player is clean, say "You're not sickly." instead;
<br>    if the noun is the player, say "Ew." instead;
<br>    if the noun is not a person, say "[The noun] cannot be infected." instead.
</p>
<p class="quoted">
Carry out sneezing on:
<br>    now the noun is infected;
<br>    now the infection color of the noun is a random infection color.
</p>
<p class="quoted">
Carry out someone sneezing on:
<br>    now the noun is infected;
<br>    now the infection color of the noun is a random infection color.
</p>
<p class="quoted">
Report sneezing on:
<br>    say  "Unable to control yourself, you sneeze on [noun].".
</p>
<p class="quoted">
Report someone sneezing on:
<br>    say "[The person asked] sneezes on [if the noun is the player]you[otherwise][noun][end if]!".
</p>
<p class="quoted">
Understand "inject [someone] with [something]" as injecting it with. Understand "inject [someone] with [syringe]" as injecting it with. Understand "use [syringe] on [someone]" as injecting it with. Understand the commands "innoculate" and "vaccinate" as "inject".
</p>
<p class="quoted">
Injecting it with is an action applying to two things.
</p>
<p class="quoted">
Check injecting it with:
<br>    if the second noun is not the syringe, say "[The second noun] cannot inject anything." instead;
<br>    if the noun is clean:
<br>        if the noun is the player, say "You're not infected yet." instead;
<br>        say "[The noun] is not infected, and the syringe contains a cure, not a vaccine." instead.
</p>
<p class="quoted">
Carry out injecting it with: now the noun is clean.
</p>
<p class="quoted">
After injecting the player with something: say "You inject yourself, wincing at the sting. But the itching fades almost at once."
</p>
<p class="quoted">
Report injecting it with: say "You inject [the noun], who is now cured (but could easily be reinfected)."
</p>
<p class="quoted">
Section 3 - Geography
</p>
<p class="quoted">
Include Locksmith by Emily Short.
</p>
<p class="quoted">
Understand "go to/toward/into [any room]" as going toward.  Understand "enter [any room]" as going toward.
</p>
<p class="quoted">
A person has a room called the destination.
</p>
<p class="quoted">
Going toward is an action applying to one thing.
</p>
<p class="quoted">
Check going toward:
<br>    if the noun is the location, say "You're already in [the location]." instead.
</p>
<p class="quoted">
Carry out going toward:
<br>    now the destination of the player is the noun;
<br>    let heading be the best route from the location to the noun, using even locked doors;
<br>    if heading is not a direction, say "You can't think how to get there from here." instead;
<br>    try going heading;
<br>    if the location is the destination of the player, now the destination of the player is blank.
</p>
<p class="quoted">
Instead of waiting when the destination of the player is not blank:
<br>    if the destination of the player is the location:
<br>        now the destination of the player is blank;
<br>    otherwise:
<br>        try going toward destination of the player;
<br>        if the location is the destination of the player, now the destination of the player is blank.
</p>
<p class="quoted">
Understand "stop" or "cease" as stopping. Stopping is an action applying to nothing. Carry out stopping: now the destination of the player is blank. Report stopping: say "You stop in your tracks."
</p>
<p class="quoted">
After going to an air-conditioned room:
<br>    say "You step into the mercifully air-conditioned surroundings of...";
<br>    continue the action.
</p>
<p class="quoted">
After going from an air-conditioned room:
<br>    say "You emerge from the air-conditioning into heat like a wall...";
<br>    continue the action.
</p>
<p class="quoted">
Instead of listening to an air-conditioned room:
<br>    say "The air-conditioning hums softly."
</p>
<p class="quoted">
The Alfred Cralle Pool Hall is a room. "The town's most popular gathering-place, the pool hall is decorated in honor of the inventor of the ice cream scoop." The air conditioner is a device in the Pool Hall. "[if switched off]An air conditioner sits in the corner, unhappily inert[otherwise]The air conditioner hums briskly[end if]."
</p>
<p class="quoted">
The felt door is west of the Pool Hall. The felt door is a door. The felt door is open. The felt door is lockable and unlocked. The key to the city unlocks the felt door. The description of the felt door is "It has a prominent lock, designed for an old-fashioned key."
</p>
<p class="quoted">
After locking a door with something in the presence of an other person (called audience):
<br>    say "[The audience] looks a little non-plussed when you lock [the noun], but shrugs."
</p>
<p class="quoted">
Nancy Johnson Memorial Square is west of the felt door. The description of Nancy Johnson Memorial Square is "Waves of August heat rise from the pavement: more than once you've had the fancy that your shoes are simply going to stick. At the center of the square, rubbed to a brownish polish by many adoring hands, is the statue of Mrs. Nancy Johnson of New Jersey."
</p>
<p class="quoted">
The statue is scenery in Memorial Square. Understand "nancy" or "johnson" or "mrs" as the statue. The description of the statue is "Mrs. Johnson is pictured with a hand-cranked ice cream freezer tucked under one arm. Her other hand grips an ice cream scoop, ready to serve frozen dessert to the huddled masses." A hand-cranked ice cream freezer is part of the statue. The description is "The hand-cranked ice cream freezer was Mrs. Johnson's invention in 1846, though it was William Young who had the sense to patent the thing in 1848." The scoop is part of the statue. The description of the scoop is "An anachronism: Alfred Cralle would not invent the tool until 1897."
</p>
<p class="quoted">
The Post Office is northwest of Nancy Johnson Memorial Square. "Service at the post office is on the slow side since everything went automated." The slot is scenery in the post office. The slot is a container. Carry out inserting something into the slot: now the noun is nowhere. Report inserting something into the slot: say "[The noun] falls out of sight, and you know you will never see it again."
</p>
<p class="quoted">
Hamwi Street is northeast of an iron gate. "A U-shaped street running from Main Street around to the Memorial Square, Hamwi Street was recently added by ambitious city planners. The small and straggly line of trees has yet to grow enough to provide perceptible shade, so the street is even hotter and more unforgiving than the other parts of town."
</p>
<p class="quoted">
The iron gate is northeast of Nancy Johnson Memorial Square. The iron gate is a door. It is lockable and unlocked.
</p>
<p class="quoted">
Before printing the name of the iron gate while not opening or closing or locking or unlocking:
<br>    if the person asked is the player:
<br>        if the gate is open, say "open ";
<br>    otherwise if the gate is locked:
<br>        say "locked ";
<br>    otherwise if the gate is closed:
<br>        say "closed ".
</p>
<p class="quoted">
Cold Comfort Ice Cream is north of a metal door. The metal door is north of Hamwi Street. A poster is fixed in place in Cold Comfort. "A poster fills one wall with the blazing promise of treats to come." The description of the poster is "Coming soon! Thai ice creams! Durian, jackfruit, taro, and coconut flavors!"
</p>
<p class="quoted">
The metal door is a door. "A frosty metallic door separates [the location] from [the other side of the metal door]." The metal door is lockable and unlocked. The key to the city unlocks the metal door.
</p>
<p class="quoted">
Marciony Street is southeast of Nancy Johnson Memorial Square. "A semi-circular terrace, named somewhat fancifully after one claimant to the invention of the ice cream cone -- though Hamwi Street competes for the same honor. There are wedges of cool shadow here and there thanks to the buildings, but for the most part the southern exposure keeps Marciony unpleasantly hot."
</p>
<p class="quoted">
The Movie Rental Store is west of a glass door. The glass door is a door. It is west of Marciony Street.  The glass door is lockable and unlocked. The key to the city unlocks the glass door.
</p>
<p class="quoted">
Main Street is southeast of Hamwi Street. Main Street is northeast of some bronze gates.
</p>
<p class="quoted">
The emergency box is in Main Street. The emergency box is fixed in place. "A fire-red box with a glass front faces the sidewalk, with 'In case of emergency, BREAK GLASS' lettered on it." The emergency box is closed and transparent. Understand "glass" as the box. Instead of attacking the closed emergency box: say "You hit the emergency box, which shatters open."; now the emergency box is open. Instead of attacking the open emergency box: say "The glass has already been thoroughly broken."
</p>
<p class="quoted">
The syringe is in the emergency box. The description of the syringe is "It contains the cure for Gelato's Syndrome. You can inject anyone you like with it."
</p>
<p class="quoted">
The bronze gates are northeast of Marciony Street. The bronze gates are a door. The bronze gates are lockable and unlocked.  The description of the bronze gates is "Erected during the milk-taint revolution of 1937, they were designed to keep Main Street safe from the depredations of dairy-starved rioters."
</p>
<p class="quoted">
The Public Library is east of Main Street. "Built in the 1920s during the height of the dairy boom, the public library has lush pink velvet seats, marble walls the color of fresh cream, and a motif of cherries carved around every doorframe. An incongruous sign hangs from the ceiling." The incongruous sign is scenery in the Public Library. The description of the incongruous sign is "Eating and drinking in the library is STRICTLY PROHIBITED."
</p>
<p class="quoted">
Town Hall is southeast of Main Street. "Town Hall was built during the slow days of the ice-cream bust, and therefore it is as joyless and utilitarian as the Public Library is ridiculous. Unwilling to be reminded of their pain, the inhabitants steered clear of any decoration that might remotely be construed to resemble a scoop of anything: so there are no curves, only disciplined right angles." The key to the city is in Town Hall. It unlocks the iron gate. It unlocks the bronze gates.  The description of the key to the city is "A skeleton key."
</p>
<p class="quoted">
A room can be indoors or outdoors. The Post Office, the Alfred Cralle Pool Hall, the Store, Cold Comfort, Town Hall, and the Library are indoors.
</p>
<p class="quoted">
Use full-length room descriptions.
</p>
<p class="quoted">
After looking in an outdoors room:
<br>    let started printing be false;
<br>    now every proximate door is not mentioned;
<br>    if an indoors room is adjacent:
<br>        let started printing be true;
<br>        say "From here you can head into [the list of adjacent indoors rooms][if a proximate door is not mentioned], or go through [the list of proximate doors which are not mentioned][end if]. [run paragraph on]";
<br>    if an outdoors room is adjacent:
<br>        say "You could[if started printing is true] also[end if] go ";
<br>        let count be the number of adjacent outdoors rooms;
<br>        let index be count;
<br>        repeat with next room running through adjacent outdoors rooms:
<br>            let way be the best route from the location to the next room;
<br>            say "[way] to [the next room]";
<br>            decrement index;
<br>        make delimiter index of count, continuing;
<br>    if a proximate door is not mentioned:
<br>        let started printing be true;
<br>        say "[if started printing is true]Also available[otherwise]Your available exits[end if] [is-are the list of proximate doors which are not mentioned].";
<br>    otherwise:
<br>        if started printing is true, say paragraph break.
</p>
<p class="quoted">
Definition: a door is proximate:
<br>    if the front side of it is the location, yes;
<br>    if the back side of it is the location, yes;
<br>    no.
</p>
<p class="quoted">
Before exiting when the player is in an indoors room:
<br>    if the player can see a door (called nearest exit), try entering the nearest exit instead;
<br>    repeat with way running through directions:
<br>        let next room be the room way from the location;
<br>        if the next room is a room, try going way instead.
</p>
<p class="quoted">
Blank is a room. The destination of the player is Blank. Blank contains 15 ice cream cones.
</p>
<p class="quoted">
Section 4 - Other Players
</p>
<p class="quoted">
Vanessa is a woman in Cold Comfort. Vanessa owns Cold Comfort.
</p>
<p class="quoted">
Francine is a woman in the Public Library. Francine carries a book called Phlox for Phyllis. Francine carries a stamped envelope called a pink stamped envelope.
</p>
<p class="quoted">
Lewis is a man in the Alfred Cralle Pool Hall. Lewis carries 3 stamped envelopes. Lewis carries a book called Idiot's Guide to Dating. Lewis carries a book called How to Meet Women. Lewis carries a book called Seduction in Three Easy Steps. Lewis carries a DVD called Sleepless in Seattle.
</p>
<p class="quoted">
Gene is a man in Nancy Johnson Memorial Square. Gene carries a stamped envelope. Gene carries a DVD called Casablanca. Gene carries a coupon.
</p>
<p class="quoted">
Rhoda is a woman in Marciony Street. Rhoda carries a book called The Marciony Street Murders. Rhoda carries a DVD called Unsolved Serial Killings XVIII. Rhoda carries a stamped envelope called a squashy package.
</p>
<p class="quoted">
Martin is a man in Main Street. Martin carries a DVD called The Lifecycle of the South Sea Tortoise. Martin carries a coupon.
</p>
<p class="quoted">
Antony is a man in Movie Rental. Antony carries a coupon. Antony carries a stamped envelope called a postcard.
</p>
<p class="quoted">
Shelby is a man in the Town Hall. Shelby carries a DVD called  Conducting An Orderly Meeting. Shelby carries 5 stamped envelopes. Shelby carries an ice cream cone. Shelby carries a coupon.
</p>
<p class="quoted">
Christopher is a man in the Library. Christopher owns the Library.
</p>
<p class="quoted">
Linnea is a woman in the Alfred Cralle Pool Hall. Linnea owns the Alfred Cralle Pool Hall.
</p>
<p class="quoted">
Ned is a man in the Movie Rental Store. Ned owns the Movie Rental.
</p>
<p class="quoted">
After printing the name of someone (called target) while listing contents: if the target owns the location of the target, say " (the owner)".
</p>
<p class="quoted">
The description of a person is usually "[The noun] [if the noun is clean]looks healthy[otherwise]is the color of [infection color of the noun][end if]."
</p>
<p class="quoted">
After examining another person who is carrying something: say "[if the noun is female]She[otherwise]He[end if] is carrying [a list of things carried by the noun]."
</p>
<p class="quoted">
When play begins: let Patient Zero be a random other person; now patient zero is infected.
</p>
</div>
<p>This is a light variation of a previous example, but we use it here because it is convenient:</p>

<div class="code">
<p class="quoted">
Section 5 - Conversation
</p>
<p class="quoted">
A person has a table name called conversation.
</p>
<p class="quoted">
Instead of asking someone about something:
<br>    let the source be the conversation of the noun;
<br>    if topic understood is a topic listed in source:
<br>        if there is a turn stamp entry:
<br>            say "You have already heard that [summary entry].";
<br>        otherwise:
<br>            now turn stamp entry is the turn count;
<br>            now the character entry is the noun;
<br>            say "[reply entry][paragraph break]";
<br>    otherwise:
<br>        say "[The noun] stares at you blankly.".
</p>
<p class="quoted">
Instead of telling someone about something:
<br>    try asking the noun about it.
</p>
<p class="quoted">
Understand "recap" or "recall" or "review" as recalling conversations.
</p>
<p class="quoted">
Recalling conversations is an action applying to nothing.
</p>
<p class="quoted">
Carry out recalling conversations:
<br>    repeat with speaker running through other people:
<br>        let source be the conversation of the speaker;
<br>        sort source in turn stamp order;
<br>        say "[The speaker] has so far told you: [line break]";
<br>        let index be 0;
<br>        repeat through source:
<br>            if there is a turn stamp entry and the speaker is character entry:
<br>                let index be 1;
<br>                say "  [summary entry][line break]";
<br>        if index is 0, say "  absolutely nothing[line break]";
<br>        say line break.
</p>
<p class="quoted">
The conversation of a person is usually Table of General ChitChat.
</p>
<p class="quoted">
Table of General ChitChat
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
<td class="quotedtablecell"><p class="quoted">summary</p></td>
<td class="quotedtablecell"><p class="quoted">turn stamp</p></td>
<td class="quotedtablecell"><p class="quoted">character</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"weather/heat/warmth"</p></td>
<td class="quotedtablecell"><p class="quoted">"'It's appalling, isn't it? You'd think we didn't pay our taxes.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that the weather is appalling"</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
<td class="quotedtablecell"><p class="quoted">a person</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"sun/sunlight"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Good thing the town mostly switched to solar power, har, har.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that the town is mostly relying on solar power"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"rain"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Nope, there isn't going to be rain for 132 days,' replies [the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"that rain is not expected for another 132 days"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"snow/hail/ice"</p></td>
<td class="quotedtablecell"><p class="quoted">"This hilarious sally is greeted with hoots of laughter only."</p></td>
<td class="quotedtablecell"><p class="quoted">"that the concept of snow is downright laughable"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"disease/sickness/illness/syndrome"</p></td>
<td class="quotedtablecell"><p class="quoted">"You get a cold, fixed stare in response. 'That's not funny,' [the noun] replies finally."</p></td>
<td class="quotedtablecell"><p class="quoted">"that discussing the disease is more or less taboo"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cold comfort"</p></td>
<td class="quotedtablecell"><p class="quoted">"'If you haven't tried it, you should,' says [the noun]. 'Best ice cream in town, and that's saying something, you bet.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that Cold Comfort has the best ice cream in town"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"town/city/village"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Yeah, it's a mite odd,' allows [the noun]. 'Not to everyone's taste, like...' [the noun as pronoun] considers for a moment. 'Like ginger ice cream. Big pieces of crystallized ginger... not everyone likes that.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that the town is a mite odd"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"forecast/weatherman" or "weather forecast/man"</p></td>
<td class="quotedtablecell"><p class="quoted">"'Oh, the weather man's gotten a lot more reliable since the gummint started making it for us,' says [the noun]. 'Now he just reads off the schedule on the air every morning. Pretty much takes the fun right out of the news, if you ask me.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that the weather is all generated by schedule"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"taxes/tax" or "weather tax"</p></td>
<td class="quotedtablecell"><p class="quoted">"A snort. 'You'd think for the rates we pay we'd get something a little pleasanter, don't you?'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that the weather tax really ought to be paying for something nicer than what you get"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"job/employment/work"</p></td>
<td class="quotedtablecell"><p class="quoted">"'[if the noun owns a room (called the shop)]I own [the shop],' replies [the noun][otherwise]Work at the creamery, like most folk around here,' answers [the noun]."</p></td>
<td class="quotedtablecell"><p class="quoted">"this and that about employment in town"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"book/books/reading"</p></td>
<td class="quotedtablecell"><p class="quoted">"'The Public Library has a good selection, excepting only the cookbook section,' says [the noun]. 'That got censored way back when-- well, way back.'"</p></td>
<td class="quotedtablecell"><p class="quoted">"that the Public Library has a good collection, except for the cookbook section"</p></td>
</tr>
</table>
<p class="quoted">
The conversation of Vanessa is the Table of Vanessa Chatter.
</p>
<p class="quoted">
Table of Vanessa Chatter
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
<td class="quotedtablecell"><p class="quoted">summary</p></td>
<td class="quotedtablecell"><p class="quoted">turn stamp</p></td>
<td class="quotedtablecell"><p class="quoted">character</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"ice cream" or "sorbet/sherbet/flavor/flavors/flavour/flavours/ice/ices"</p></td>
<td class="quotedtablecell"><p class="quoted">"'The flavors are [list of flavors],' she responds promptly, without needing to draw breath."</p></td>
<td class="quotedtablecell"><p class="quoted">"that the flavors are [list of flavors]"</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
<td class="quotedtablecell"><p class="quoted">a person</p></td>
</tr>
</table>
<p class="quoted">
After reading a command:
<br>    while player's command includes "the":
<br>        cut the matched text.
</p>
</div>
<p>This strips 'the' out of the command, so that ASK PERSON ABOUT THE RAIN will be understood as well as ASK PERSON ABOUT RAIN.</p>
<p>Now we try something a bit unusual. Inform on its own will report each action on its own line, so that each character who walks into or out of a room will be described in a separate paragraph. This is usually fine, but in a game with a lot of characters moving around simultaneously, it can become a bit overwhelming. Instead, we may want to condense these reports into a single line, such as "Ben and Jerry enter from the south". The following accomplishes that goal by replacing some of the reporting rules, storing the information in a table, and then reading the table back later, once all the character movement has been resolved and the reports can usefully be collated:</p>

<div class="code">
<p class="quoted">
Section 6 - Movement Description
</p>
<p class="quoted">
A person has some text called walk style. The walk style of a man is usually "stride". The walk style of a woman is usually "strut". The walk style of Gene is "[one of]wander[or]stroll[purely at random]". The walk style of Francine is "waddle". The walk style of Antony is "scamper". The walk style of Rhoda is "sashay".
</p>
<p class="quoted">
Table of Visible Exits
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">character</p></td>
<td class="quotedtablecell"><p class="quoted">second</p></td>
<td class="quotedtablecell"><p class="quoted">third</p></td>
<td class="quotedtablecell"><p class="quoted">heading chosen</p></td>
<td class="quotedtablecell"><p class="quoted">total</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a person</p></td>
<td class="quotedtablecell"><p class="quoted">a person</p></td>
<td class="quotedtablecell"><p class="quoted">a person</p></td>
<td class="quotedtablecell"><p class="quoted">a direction</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
</tr>
<tr><td class="quotedtablecell"><p class="quoted">with 10 blank rows.</p></td></tr>
</table>
<p class="quoted">
Table of Visible Entrances
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">character</p></td>
<td class="quotedtablecell"><p class="quoted">second</p></td>
<td class="quotedtablecell"><p class="quoted">third</p></td>
<td class="quotedtablecell"><p class="quoted">heading chosen</p></td>
<td class="quotedtablecell"><p class="quoted">total</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a person</p></td>
<td class="quotedtablecell"><p class="quoted">a person</p></td>
<td class="quotedtablecell"><p class="quoted">a person</p></td>
<td class="quotedtablecell"><p class="quoted">a direction</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
</tr>
<tr><td class="quotedtablecell"><p class="quoted">with 10 blank rows.</p></td></tr>
</table>
<p class="quoted">
To clear (current table - a table name):
<br>    repeat through current table:
<br>        blank out the whole row.
</p>
<p class="quoted">
To tidy departures of (current table - a table name):
<br>    let next direction be up;
<br>    repeat through current table:
<br>        if heading chosen entry is next direction:
<br>            let accomplice be character entry;
<br>            choose row with heading chosen of next direction in the current table;
<br>            if total entry is 1:
<br>                now second entry is accomplice;
<br>                now total entry is 2;
<br>            if total entry is 2:
<br>                unless the second entry is accomplice:
<br>                    now third entry is accomplice;
<br>                    now total entry is 3;
<br>            choose row with character of accomplice in the current table;
<br>            blank out the whole row;
<br>        otherwise:
<br>            let next direction be heading chosen entry.
</p>
<p class="quoted">
A door has a person called last opener.
</p>
<p class="quoted">
Report someone opening a door:
<br>    now group size is 1;
<br>    now the last opener of the noun is the person asked;
<br>    if the person asked is visible, say "[The person asked] opens [the noun]. [run paragraph on]" instead;
<br>    otherwise say "[The noun] opens from the other side. [run paragraph on]" instead.
</p>
<p class="quoted">
Report someone going through a door (called route):
<br>    if the person asked is not the last opener of the route, continue the action;
<br>    if the person asked is the last person named, say "[The person asked as pronoun]";
<br>    otherwise say "[The person asked]";
<br>    say " [if the person asked is in the location]comes[otherwise]goes[end if] through[if the last thing named is not the route] [the route][end if]." instead.
</p>
<p class="quoted">
The last thing named is a thing that varies. Before printing the name of something (called target) which is not a person: now the last thing named is the target.
</p>
<p class="quoted">
Report someone going a direction:
<br>    if the person asked is in the location,
<br>        choose a blank row in the table of visible entrances;
<br>    otherwise choose a blank row in the table of visible exits;
<br>    now character entry is the person asked;
<br>    now total entry is 1;
<br>    if the person asked is in the location,
<br>        now heading chosen entry is the opposite of the noun;
<br>    otherwise now heading chosen entry is the noun;
<br>    stop the action.
</p>
<p class="quoted">
This is the movement reporting rule:
<br>    sort the Table of Visible Entrances in heading chosen order;
<br>    tidy departures of the table of visible entrances;
<br>    sort the Table of Visible exits in heading chosen order;
<br>    tidy departures of the table of visible exits;
<br>    let total row count be the number of filled rows in the Table of Visible Entrances plus the number of filled rows in the Table of Visible Exits;
<br>    if total row count is 0, rule succeeds;
<br>    generate descriptions from the Table of Visible Entrances;
<br>    generate descriptions from the Table of Visible Exits;
<br>    clear the Table of Visible Entrances; clear the Table of Visible Exits.
</p>
<p class="quoted">
To generate descriptions from (current table - a table name):
<br>    let count be the number of filled rows in the current table;
<br>    if count is 0, rule succeeds;
<br>    let index be count;
<br>    repeat through the current table:
<br>        let accomplice be character entry;
<br>        if character entry is a person, now character entry is marked for listing;
<br>        if there is a second entry and second entry is a person, now second entry is marked for listing;
<br>        if there is a third entry and third entry is a person, now third entry is marked for listing;
<br>        let target be the room the heading chosen entry from the location;
<br>        if total entry is 3, say "[The character entry], [the second entry][optional comma] and [the third entry] ";
<br>        if total entry is 2, say "[The character entry] and [the second entry] ";
<br>        if total entry is 1:
<br>            if the character entry is the last person named, say "[The character entry as pronoun] ";
<br>            otherwise say "[The character entry] ";
<br>        if total entry is 1, say "[walk style of the character entry]s ";
<br>        otherwise say "walk[if total entry is 1]s[end if] ";
<br>        if the character entry is in the location:
<br>            if location is indoors and target is indoors, say "over from ";
<br>            if location is outdoors and target is indoors, say "out of ";
<br>            if location is indoors and target is outdoors, say "in from ";
<br>            if location is outdoors and target is outdoors, say "over from ";
<br>        otherwise:
<br>            if location is indoors and target is indoors, say "over to ";
<br>            if location is outdoors and target is indoors, say "into ";
<br>            if location is indoors and target is outdoors, say "out [if a door is visible][the random visible door][end if] to ";
<br>            if location is outdoors and target is outdoors, say "over to ";
<br>        if target is outdoors, say "[the heading chosen entry]";
<br>        otherwise say "[the target]";
<br>        if the total entry is 1 and count is 1 and accomplice carries something, say ", carrying [a list of things carried by the accomplice]";
<br>        decrement index;
<br>        make delimiter index of count, continuing;
<br>        now group size is total entry;
<br>    if a marked for listing person is infected:
<br>        [eliminate the case in which we have already seen this description because we just typed LOOK and the patient was in the room at the time]
<br>        if looking and a marked for listing person is not in the location:
<br>            clear marked people;
<br>            say paragraph break;
<br>        otherwise:
<br>            describe patients;
<br>    otherwise:
<br>        clear marked people;
<br>        say paragraph break.
</p>
<p class="quoted">
The last person named is a person that varies. Before printing the name of a person (called target): now the last person named is the target. Group size is a number that varies. Group size is 1.
</p>
<p class="quoted">
To clear marked people:
<br>    repeat with named party running through people:
<br>        now the named party is not marked for listing.
</p>
<p class="quoted">
Before listing nondescript items:
<br>    if the number of people who are marked for listing is 0, make no decision;
<br>    say "You can see [a list of people who are marked for listing] here. ";
<br>    now group size is the number of people who are marked for listing;
<br>    describe patients;
<br>    now every marked for listing person is not marked for listing.
</p>
<p class="quoted">
To describe patients:
<br>    if every marked for listing person is infected and at least three people are marked for listing:
<br>        say "They are all sick as dogs, every one.";
<br>        clear marked people;
<br>        rule succeeds;
<br>    otherwise:
<br>        if the number of people who are marked for listing is greater than two and the number of infected people who are marked for listing is greater than the number of clean people who are marked for listing:
<br>            say "Only [the list of clean people who are marked for listing] currently remain[if the number of clean people who are marked for listing is 1]s[end if] untainted.";
<br>            clear marked people;
<br>            rule succeeds;
<br>    let count be the number of marked for listing other people who are infected;
<br>    if count is 0:
<br>        say paragraph break;
<br>        make no decision;
<br>    let index be count;
<br>    repeat with patient running through marked for listing other people who are infected:
<br>        if index is count:
<br>            if count is 1 and the patient is the last person named:
<br>                say "[The patient as pronoun]";
<br>            otherwise:
<br>                say "[The patient]";
<br>        otherwise:
<br>            say "[the patient]";
<br>        say " [looks as though dipped in for index] [infection color of the patient]";
<br>        decrement index;
<br>        make delimiter index of count;
<br>    clear marked people.
</p>
<p class="quoted">
To say (named character - a man) as pronoun:
<br>    if group size is 1, say "He"; if group size is 2, say "The latter"; if group size is greater than 2, say "The last".
</p>
<p class="quoted">
To say (named character - a woman) as pronoun: if group size is 1, say "She"; if group size is 2, say "The latter"; if group size is greater than 2, say "The last".
</p>
<p class="quoted">
To say looks as though dipped in for (index - a number):
<br>    let divider be the number of filled rows in the Table of Dipping Phrases;
<br>    if index is greater than 4, let index be the remainder after dividing index by divider;
<br>    choose row index in the Table of Dipping Phrases;
<br>    say dipping entry.
</p>
<p class="quoted">
Table of Dipping Phrases
<br>dipping
<br>"looks as though dipped in"
<br>"could have been rolling in"
<br>"has a bad case of"
<br>"suffers from"
<br>"contracted a virulent"
</p>
<p class="quoted">
A door is usually scenery.
</p>
</div>
<p>The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.</p>

<div class="code">
<p class="quoted">
To make delimiter (index - a number) of (count - a number), continuing or halting:
<br>    if index is 0:
<br>        if continuing, say ". [run paragraph on]";
<br>        otherwise say ".";
<br>    otherwise if index is 1:
<br>        if count is 2, say " and ";
<br>        otherwise say "[optional comma] and ";
<br>    otherwise:
<br>        say ", ".
</p>
<p class="quoted">
To say optional comma:
<br>    if the serial comma option is active:
<br>        say ",".
</p>
<p class="quoted">
Test me with "go to cold comfort / z / z / z / z / ask vanessa for french vanilla / ask vanessa for chocolate / ask vanessa about flavors / ask vanessa for chocolate chocolate chip".
</p>
</div>
<p>Because so much of this game is randomized, it will not be possible to provide a test command that systematically solves it. A good strategy is to go to Main Street, get the syringe; go to the Town Hall and get the key; then visit the shops, inject everyone, and lock them in when they've all been injected. Then go to the Pool Hall, turn on the air conditioner, and wait for the remaining parties to show up.</p>
<p>This is also something that could get fairly slow if we added many more rooms and characters to it. In that case, we might want to select fast route-finding so that character movement won't take as long. This will cost memory, possibly forcing the game into Glulx format if it isn't already, but significantly reduce the run-time for large maps with numerous people moving each turn:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60Use%20fast%20route-finding.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> Use fast route-finding.
</p></div>
</div>
<div class="linkback">
<a href="wi_19.html#wi-19.8">WI §19.8. New rulebooks</a><br><a href="rb_7.html#rb-7.13">RB §7.13. Traveling Characters</a>
</div></details>
</div></section>
<section class="section" id="rb-7.14"><div>





<h3>RB §7.14. Obedient Characters</h3>
<p>Other characters can perform all the same activities that the player can; this does not always mean that they're willing to obey the player's instructions. By default, characters will refuse to obey commands of the form JULIA, WEST or ANTONY, TAKE THE PINCUSHION. Their objections can be overridden, however, and <a href="rb_7.html#example-186" class="example-link" onClick="(function() { document.getElementById('example-186').setAttribute('open','open'); return true; })();">The Hypnotist of Blois</a><span class="example-difficulty"> ★</span> implements a hypnotist who can make characters obedient at will.</p>
<p>In <a href="rb_7.html#example-239" class="example-link" onClick="(function() { document.getElementById('example-239').setAttribute('open','open'); return true; })();">For Demonstration Purposes</a><span class="example-difficulty"> ★★★</span>, the character is only capable of a few actions at the outset, but can be taught new ones if the player performs them first.</p>
<p>Often we want characters' obedience to be more selective. Just as the viewpoint character may be characterized in terms of what he will and will not do, so may others: <a href="rb_7.html#example-188" class="example-link" onClick="(function() { document.getElementById('example-188').setAttribute('open','open'); return true; })();">Generation X</a><span class="example-difficulty"> ★★</span> demonstrates a character who will do what she's told, but who will comment unfavorably when the player asks for a nonsensical or repeated action, and who may eventually get fed up and leave.</p>
<p>Characters can be given moral objections to certain commands, as well: <a href="rb_7.html#example-184" class="example-link" onClick="(function() { document.getElementById('example-184').setAttribute('open','open'); return true; })();">Virtue</a><span class="example-difficulty"> ★</span> defines a few kinds of actions as bad, so that the character commanded will refuse to perform them.</p>
<p><a href="rb_7.html#example-205" class="example-link" onClick="(function() { document.getElementById('example-205').setAttribute('open','open'); return true; })();">Under Contract</a><span class="example-difficulty"> ★★★★</span>, more subtly, has the character object if the player's commands implicitly require any behavior he considers inappropriate: for instance, if the player commands him to put his pants in a container, he will work out that this requires the removal of the pants as a preliminary. If we want to implement a similar character, we may want to simply copy his unsuccessful attempt rule and the table of his retorts, then replace his banter with lines of our choosing.</p>
<p>The little example <a href="rb_7.html#example-371" class="example-link" onClick="(function() { document.getElementById('example-371').setAttribute('open','open'); return true; })();">Latin Lessons</a><span class="example-difficulty"> ★</span> allows us to make characters clever about vague commands: we can, for instance, write rules so that CLARK, EAT will have Clark sensibly pick something edible, rather than having the parser ask what we want Clark to eat.</p>
<p>Finally, <a href="rb_7.html#example-422" class="example-link" onClick="(function() { document.getElementById('example-422').setAttribute('open','open'); return true; })();">Northstar</a><span class="example-difficulty"> ★★</span> demonstrates how we might make Inform understand commands of the form ASK JOSH TO TAKE INVENTORY or ORDER JOAN TO WEAR THE ARMOR.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_7.html#rb-7.12" class="crossreference_link">Characters Following a Script</a> for a programmable robot who can be given whole sequences of actions to perform</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-184"><summary><span class="example-summary">184. Virtue</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Virtue%22%5Cn%5CnThe%20Cloister%20is%20a%20room.%20Lady%20Teresa%20is%20a%20woman%20in%20the%20Cloister.%20Mother%20Margaret%20is%20a%20woman%20in%20the%20Cloister.%5Cn%5CnAttacking%20someone%20is%20misbehavior.%20Kissing%20someone%20is%20misbehavior.%5Cn%5CnInstead%20of%20asking%20someone%20to%20try%20misbehavior:%20say%20%22%5BThe%20person%20asked%5D%20stiffens,%20offended%20by%20your%20suggestion.%22%5Cn%5CnTest%20me%20with%20%22kiss%20margaret%20/%20margaret,%20kiss%20me%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Virtue"
</p>
<p class="quoted">
The Cloister is a room. Lady Teresa is a woman in the Cloister. Mother Margaret is a woman in the Cloister.
</p>
<p class="quoted">
Attacking someone is misbehavior. Kissing someone is misbehavior.
</p>
<p class="quoted">
Instead of asking someone to try misbehavior: say "[The person asked] stiffens, offended by your suggestion."
</p>
<p class="quoted">
Test me with "kiss margaret / margaret, kiss me".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.3">WI §12.3. Giving instructions to other people</a><br><a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>
</div></details><details class="full-example" id="example-186"><summary><span class="example-summary">186. The Hypnotist of Blois</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Hypnotist%20of%20Blois%22%5Cn%5CnA%20person%20is%20either%20hypnotized%20or%20alert.%20A%20person%20is%20usually%20alert.%5Cn%5CnPersuasion%20rule%20for%20asking%20a%20hypnotized%20person%20to%20try%20doing%20something:%5Cn%5Ctpersuasion%20succeeds.%5Cn%5CnUnderstand%20%22hypnotize%20%5Bsomeone%5D%22%20as%20hypnotizing.%5Cn%5CnHypnotizing%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20hypnotizing:%5Cn%5Ctif%20the%20noun%20is%20hypnotized,%20say%20%22Already%20done.%22%20instead.%5Cn%5CnCarry%20out%20hypnotizing:%5Cn%5Ctnow%20the%20noun%20is%20hypnotized.%5Cn%5CnReport%20hypnotizing:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20slips%20under%20your%20control.%22%5Cn%5CnInstead%20of%20waking%20someone%20hypnotized:%5Cn%5Ctnow%20the%20noun%20is%20alert;%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20returns%20abruptly%20to%20consciousness.%22%5Cn%5Cn%5BWe%20will%20learn%20more%20about%20check%20rules%20for%20other%20characters%20shortly,%20but%20the%20following%20prevents%20the%20hypnosis%20patient%20from%20trying%20to%20hypnotize%20us%20in%20turn:%5D%5Cn%5CnCheck%20someone%20hypnotizing%20someone:%5Cn%5Ctstop%20the%20action.%5Cn%5CnMaison%20de%20la%20Magie%20is%20a%20room.%20%22In%20a%20darkened%20room,%20a%20few%20hundreds%20of%20paces%20from%20the%20chateau%20of%20Blois,%20you%20give%20to%20tourists%20three%20shows%20a%20day:%20displaying%20to%20them%20power%20they%20do%20not%20comprehend%20and%20spectacles%20they%20do%20not%20deserve.%22%5Cn%5CnA%20volunteer%20is%20a%20woman%20in%20the%20Maison.%20%22A%20volunteer%20from%20the%20audience%20stands%20facing%20you,%20%5Bif%20alert%5Dskeptically%20awaiting%20hypnosis%5Botherwise%5Dher%20face%20worshipful%20and%20obedient%5Bend%20if%5D.%22%20The%20printed%20name%20of%20the%20volunteer%20is%20%22volunteer%20from%20the%20audience%22.%20The%20description%20is%20%22A%20distracted,%20susceptible%20woman.%22%20The%20volunteer%20wears%20a%20t-shirt%20and%20a%20baseball%20hat.%5Cn%5CnThe%20player%20wears%20a%20top%20hat%20and%20a%20cape.%5Cn%5CnTest%20me%20with%20%22volunteer,%20remove%20hat%20/%20hypnotize%20volunteer%20/%20look%20/%20volunteer,%20remove%20hat%20/%20wake%20volunteer%20/%20volunteer,%20wear%20hat%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Hypnotist of Blois"
</p>
<p class="quoted">
A person is either hypnotized or alert. A person is usually alert.
</p>
<p class="quoted">
Persuasion rule for asking a hypnotized person to try doing something:
<br>    persuasion succeeds.
</p>
<p class="quoted">
Understand "hypnotize [someone]" as hypnotizing.
</p>
<p class="quoted">
Hypnotizing is an action applying to one thing.
</p>
<p class="quoted">
Check hypnotizing:
<br>    if the noun is hypnotized, say "Already done." instead.
</p>
<p class="quoted">
Carry out hypnotizing:
<br>    now the noun is hypnotized.
</p>
<p class="quoted">
Report hypnotizing:
<br>    say "[The noun] slips under your control."
</p>
<p class="quoted">
Instead of waking someone hypnotized:
<br>    now the noun is alert;
<br>    say "[The noun] returns abruptly to consciousness."
</p>
</div>
<p>We will learn more about check rules for other characters shortly, but the following prevents the hypnosis patient from trying to hypnotize us in turn:</p>

<div class="code">
<p class="quoted">
Check someone hypnotizing someone:
<br>    stop the action.
</p>
<p class="quoted">
Maison de la Magie is a room. "In a darkened room, a few hundreds of paces from the chateau of Blois, you give to tourists three shows a day: displaying to them power they do not comprehend and spectacles they do not deserve."
</p>
<p class="quoted">
A volunteer is a woman in the Maison. "A volunteer from the audience stands facing you, [if alert]skeptically awaiting hypnosis[otherwise]her face worshipful and obedient[end if]." The printed name of the volunteer is "volunteer from the audience". The description is "A distracted, susceptible woman." The volunteer wears a t-shirt and a baseball hat.
</p>
<p class="quoted">
The player wears a top hat and a cape.
</p>
<p class="quoted">
Test me with "volunteer, remove hat / hypnotize volunteer / look / volunteer, remove hat / wake volunteer / volunteer, wear hat".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.4">WI §12.4. Persuasion</a><br><a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>
</div></details><details class="full-example" id="example-371"><summary><span class="example-summary">371. Latin Lessons</span> <span class="example-difficulty">★</span></summary><div>
<p>If we're defining actions for other characters to follow, we may want to include them in our "rule for supplying a missing noun". We can do this if we write our "while..." clause to apply to any actor, as follows:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Latin%20Lessons%22%5Cn%5CnThe%20Latin%20Studio%20is%20a%20room.%20Rick%20is%20a%20man%20in%20the%20Studio.%5Cn%5CnA%20dance-name%20is%20a%20kind%20of%20thing.%20Argentine%20tango,%20samba,%20merengue,%20cha-cha,%20street%20salsa%20are%20dance-names.%5Cn%5CnDancing%20is%20an%20action%20applying%20to%20one%20visible%20thing.%20Understand%20%22dance%20%5Bany%20dance-name%5D%22%20as%20dancing.%20Understand%20%22dance%22%20as%20dancing.%5Cn%5CnRule%20for%20supplying%20a%20missing%20noun%20while%20an%20actor%20dancing:%5Cn%5Ctnow%20the%20noun%20is%20street%20salsa.%5Cn%5CnReport%20someone%20dancing:%5Cn%5Ctsay%20%22%5BThe%20actor%5D%20dances%20a%20few%20steps%20of%20%5Bthe%20noun%5D%20for%20you.%22%5Cn%5CnReport%20dancing:%5Cn%5Ctsay%20%22You%20dance%20a%20few%20steps%20of%20%5Bthe%20noun%5D.%22%5Cn%5CnPersuasion%20rule%20for%20asking%20someone%20to%20try%20dancing:%20persuasion%20succeeds.%5Cn%5CnTest%20me%20with%20%22dance%20/%20dance%20samba%20/%20rick,%20dance%20/%20rick,%20dance%20merengue%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Latin Lessons"
</p>
<p class="quoted">
The Latin Studio is a room. Rick is a man in the Studio.
</p>
<p class="quoted">
A dance-name is a kind of thing. Argentine tango, samba, merengue, cha-cha, street salsa are dance-names.
</p>
<p class="quoted">
Dancing is an action applying to one visible thing. Understand "dance [any dance-name]" as dancing. Understand "dance" as dancing.
</p>
<p class="quoted">
Rule for supplying a missing noun while an actor dancing:
<br>    now the noun is street salsa.
</p>
<p class="quoted">
Report someone dancing:
<br>    say "[The actor] dances a few steps of [the noun] for you."
</p>
<p class="quoted">
Report dancing:
<br>    say "You dance a few steps of [the noun]."
</p>
<p class="quoted">
Persuasion rule for asking someone to try dancing: persuasion succeeds.
</p>
<p class="quoted">
Test me with "dance / dance samba / rick, dance / rick, dance merengue".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.32">WI §18.32. Supplying a missing noun/second noun</a><br><a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>
</div></details><details class="full-example" id="example-188"><summary><span class="example-summary">188. Generation X</span> <span class="example-difficulty">★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Generation%20X%22%5Cn%5CnThe%20Volunteer%20Center%20is%20a%20room.%20%22A%20fairly%20spartan%20office,%20though%20there%20are%20a%20few%20attractive%20posters%20from%20advertising%20campaigns%20of%20the%20past,%20and%20an%20ominous%20map%20charting%20the%20deforestation%20of%20Brazil.%22%5Cn%5CnThe%20desk%20is%20scenery%20in%20the%20Volunteer%20Center.%20%22Your%20standard%20metal%20desk,%20with%20a%20drawer%20for%20postal%20supplies%20and%20the%20like.%22%20On%20the%20desk%20is%20a%20pile%20of%20leaflets%20and%20a%20pile%20of%20business%20cards.%20The%20power%20stapler%20is%20a%20device%20on%20the%20desk.%20A%20drawer%20is%20part%20of%20the%20desk.%20It%20is%20openable%20and%20closed.%20In%20the%20drawer%20are%20a%20sponge%20and%20a%20roll%20of%20bulk-mail%20stamps.%5Cn%5CnInstead%20of%20doing%20something:%5Cn%5Ctif%20examining,%20continue%20the%20action;%5Cn%5Ctif%20searching,%20continue%20the%20action;%5Cn%5Ctif%20looking,%20continue%20the%20action;%5Cn%5Ctif%20asking%20Jenna%20to%20try%20doing%20something,%20continue%20the%20action;%5Cn%5Ctsay%20%22The%20whole%20point%20of%20this%20exercise%20is%20to%20train%20Jenna.%20Once%20you%20have%20her%20on%20the%20envelope-stuffing,%20you%20can%20go%20make%20some%20calls.%22%5Cn%5CnInstead%20of%20answering%20Jenna%20that%20something:%5Cn%5Ctsay%20%22You're%20going%20to%20have%20to%20break%20the%20instructions%20down%20to%20the%20simplest%20ones%20possible,%20given%20that%20she's%20in%20the%20mood%20to%20misunderstand%20on%20purpose.%22%5Cn%5CnA%20cardboard%20box%20is%20in%20the%20Center.%20In%20the%20cardboard%20box%20is%20a%20pile%20of%20empty%20envelopes.%20The%20box%20is%20openable%20and%20closed.%20The%20description%20is%20%22A%20recycling%20symbol%20is%20prominent%20on%20the%20side,%20which%20makes%20you%20feel%20a%20little%20bit%20better%20about%20using%20a%20mailing%20campaign%20for%20this%20cause.%22%5Cn%5CnJenna%20is%20a%20woman%20in%20the%20Volunteer%20Center.%20%22Your%20daughter%20Jenna%20is%20here,%20barely%20visible%20through%20the%20cloud%20of%20resentment.%22%20The%20description%20is%20%22Jenna%20%5Bif%20jenna%20carries%20something%5Dhas%20%5Bthe%20list%20of%20things%20carried%20by%20Jenna%5D%5Botherwise%5Dreturns%20your%20stare,%20with%20added%20hostility%5Bend%20if%5D.%22%5Cn%5CnA%20persuasion%20rule%20for%20asking%20Jenna%20to%20try%20doing%20something:%20persuasion%20succeeds.%5Cn%5CnUnsuccessful%20attempt%20by%20Jenna%20doing%20something:%5Cn%5Ctrepeat%20through%20Table%20of%20Retorts:%5Cn%5Ct%5Ctif%20the%20reason%20the%20action%20failed%20is%20the%20cause%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bresponse%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22'I%20don't%20see%20how%20I'm%20supposed%20to%20do%20that,%20Mom,'%20Jenna%20says.%22%5Cn%5CnTable%20of%20Retorts%5Cncause%5Ctresponse%5Cncan't%20take%20yourself%20rule%5Ct%22'Is%20that%20like%20'get%20a%20grip%20on%20yourself'%20or%20something?'%20Jenna%20asks,%20momentarily%20diverted.%22%5Cncan't%20take%20what's%20fixed%20in%20place%20rule%5Ct%22%5Bphysical%20impossibility%5D%22%5Cncan't%20take%20scenery%20rule%5Ct%22%5Bphysical%20impossibility%5D%22%5Cncan't%20take%20what's%20already%20taken%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20drop%20what's%20already%20dropped%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20wear%20what's%20already%20worn%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20take%20off%20what's%20not%20worn%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20close%20what's%20already%20closed%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20open%20what's%20already%20open%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20switch%20off%20what's%20already%20off%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20switch%20on%20what's%20already%20on%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20unlock%20what's%20already%20unlocked%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20lock%20what's%20already%20locked%20rule%5Ct%22%5Balready%20done%5D%22%5Cn%5CnTo%20say%20physical%20impossibility:%5Cn%5Ctsay%20%22'Maybe%20you%20should've%20brought%20someone%20a%20little%20stronger,'%20Jenna%20says.%20'Like%20the%20Incredible%20Hulk.'%20%22%5Cn%5CnTo%20say%20already%20done:%5Cn%5Ctrepeat%20through%20Table%20of%20Bored%20Remarks:%5Cn%5Ct%5Ctsay%20%22%5Bresponse%20entry%5D%22;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22'Okay,%20I'm%20going%20to%20be,%20like,%20in%20the%20car,'%20says%20Jenna.%20'Outside.'%20%22;%5Cn%5Ctend%20the%20story%20saying%20%22Jenna%20has%20gotten%20fed%20up%22.%5Cn%5CnTable%20of%20Bored%20Remarks%5Cnresponse%5Cn%22'Did%20that,'%20says%20Jenna.%22%5Cn%22'Check,'%20says%20Jenna.%22%5Cn%22'Yeah,%20Mom,%20I%20already%20did%20that,%20okay?'%22%5Cn%22'Look,%20if%20I%20have%20to%20be%20here%20doing%20dumb%20stuff,%20could%20you%20at%20least%20tell%20me%20to%20do%20stuff%20that%20isn't%20already%20done?'%20Jenna%20asks%20wearily.%22%5Cn%22Jenna%20gives%20a%20great%20upward%20sigh,%20riffling%20her%20bangs.%20'Once%20again...%20there%20is%20totally%20no%20point.'%22%5Cn%5CnTest%20me%20with%20%22e%20/%20x%20jenna%20/%20jenna,%20get%20stapler%20/%20jenna,%20get%20stapler%20/%20x%20jenna%20/%20jenna,%20drop%20stapler%20/%20jenna,%20drop%20stapler%20/%20jenna,%20open%20box%20/%20jenna,%20open%20box%20/%20jenna,%20switch%20stapler%20on%20/%20jenna,%20switch%20stapler%20on%20/%20jenna,%20take%20desk%20/%20jenna,%20open%20box%20/%20jenna,%20open%20box%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Generation X"
</p>
<p class="quoted">
The Volunteer Center is a room. "A fairly spartan office, though there are a few attractive posters from advertising campaigns of the past, and an ominous map charting the deforestation of Brazil."
</p>
<p class="quoted">
The desk is scenery in the Volunteer Center. "Your standard metal desk, with a drawer for postal supplies and the like." On the desk is a pile of leaflets and a pile of business cards. The power stapler is a device on the desk. A drawer is part of the desk. It is openable and closed. In the drawer are a sponge and a roll of bulk-mail stamps.
</p>
<p class="quoted">
Instead of doing something:
<br>    if examining, continue the action;
<br>    if searching, continue the action;
<br>    if looking, continue the action;
<br>    if asking Jenna to try doing something, continue the action;
<br>    say "The whole point of this exercise is to train Jenna. Once you have her on the envelope-stuffing, you can go make some calls."
</p>
<p class="quoted">
Instead of answering Jenna that something:
<br>    say "You're going to have to break the instructions down to the simplest ones possible, given that she's in the mood to misunderstand on purpose."
</p>
<p class="quoted">
A cardboard box is in the Center. In the cardboard box is a pile of empty envelopes. The box is openable and closed. The description is "A recycling symbol is prominent on the side, which makes you feel a little bit better about using a mailing campaign for this cause."
</p>
<p class="quoted">
Jenna is a woman in the Volunteer Center. "Your daughter Jenna is here, barely visible through the cloud of resentment." The description is "Jenna [if jenna carries something]has [the list of things carried by Jenna][otherwise]returns your stare, with added hostility[end if]."
</p>
<p class="quoted">
A persuasion rule for asking Jenna to try doing something: persuasion succeeds.
</p>
<p class="quoted">
Unsuccessful attempt by Jenna doing something:
<br>    repeat through Table of Retorts:
<br>        if the reason the action failed is the cause entry:
<br>            say "[response entry][paragraph break]";
<br>            rule succeeds;
<br>    say "'I don't see how I'm supposed to do that, Mom,' Jenna says."
</p>
<p class="quoted">
Table of Retorts
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">cause</p></td>
<td class="quotedtablecell"><p class="quoted">response</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take yourself rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'Is that like 'get a grip on yourself' or something?' Jenna asks, momentarily diverted."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take what's fixed in place rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[physical impossibility]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take scenery rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[physical impossibility]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take what's already taken rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't drop what's already dropped rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't wear what's already worn rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take off what's not worn rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't close what's already closed rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't open what's already open rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't switch off what's already off rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't switch on what's already on rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't unlock what's already unlocked rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't lock what's already locked rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
</table>
<p class="quoted">
To say physical impossibility:
<br>    say "'Maybe you should've brought someone a little stronger,' Jenna says. 'Like the Incredible Hulk.' "
</p>
<p class="quoted">
To say already done:
<br>    repeat through Table of Bored Remarks:
<br>        say "[response entry]";
<br>        blank out the whole row;
<br>        rule succeeds;
<br>    say "'Okay, I'm going to be, like, in the car,' says Jenna. 'Outside.' ";
<br>    end the story saying "Jenna has gotten fed up".
</p>
<p class="quoted">
Table of Bored Remarks
<br>response
<br>"'Did that,' says Jenna."
<br>"'Check,' says Jenna."
<br>"'Yeah, Mom, I already did that, okay?'"
<br>"'Look, if I have to be here doing dumb stuff, could you at least tell me to do stuff that isn't already done?' Jenna asks wearily."
<br>"Jenna gives a great upward sigh, riffling her bangs. 'Once again... there is totally no point.'"
</p>
<p class="quoted">
Test me with "e / x jenna / jenna, get stapler / jenna, get stapler / x jenna / jenna, drop stapler / jenna, drop stapler / jenna, open box / jenna, open box / jenna, switch stapler on / jenna, switch stapler on / jenna, take desk / jenna, open box / jenna, open box".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.5">WI §12.5. Unsuccessful attempts</a><br><a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>
</div></details><details class="full-example" id="example-422"><summary><span class="example-summary">422. Northstar</span> <span class="example-difficulty">★★</span></summary><div>
<p>Most of the time, Inform understands commands to other characters when they take the form "JOSH, TAKE INVENTORY" or "JOAN, WEAR THE ARMOR". But novice players might also try commands of the form ASK JOSH TO TAKE INVENTORY or ORDER JOAN TO WEAR THE ARMOR.</p>
<p>The easiest way to make Inform understand such commands is to meddle directly with the player's command, changing it into the format that the game will understand, as here:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Northstar%22%5Cn%5CnThe%20Northstar%20Cafe%20is%20a%20room.%20%22The%20Northstar%20is%20crammed%20with%20its%20usual%20brunch%20crowd,%20and%20you%20were%20lucky%20to%20get%20a%20table%20at%20all.%20You%20are%20now%20awaiting%20the%20arrival%20of%20your%20ricotta%20pancakes.%22%5Cn%5CnJosh%20is%20a%20man%20in%20The%20Northstar%20Cafe.%20%22Josh%20is%20on%20his%20way%20past%20your%20table.%22%20The%20description%20of%20Josh%20is%20%22He%20is%20a%20waiter%20here,%20but%20you%20also%20know%20him%20socially,%20so%20he%20tends%20to%20be%20more%20chatty%20than%20the%20other%20waiters.%22%20A%20persuasion%20rule:%20persuasion%20succeeds.%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctlet%20N%20be%20%22%5Bthe%20player's%20command%5D%22;%5Cn%5Ctreplace%20the%20regular%20expression%20%22%5Cb(ask%7Ctell%7Corder)%20(.%20?)%20to%20(.%20)%22%20in%20N%20with%20%22%5C2,%20%5C3%22;%5Cn%5Ctchange%20the%20text%20of%20the%20player's%20command%20to%20N.%5Cn%5CnTest%20me%20with%20%22ask%20Josh%20to%20take%20inventory%20/%20tell%20Josh%20to%20take%20inventory%20/%20order%20Josh%20to%20take%20inventory%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Northstar"
</p>
<p class="quoted">
The Northstar Cafe is a room. "The Northstar is crammed with its usual brunch crowd, and you were lucky to get a table at all. You are now awaiting the arrival of your ricotta pancakes."
</p>
<p class="quoted">
Josh is a man in The Northstar Cafe. "Josh is on his way past your table." The description of Josh is "He is a waiter here, but you also know him socially, so he tends to be more chatty than the other waiters." A persuasion rule: persuasion succeeds.
</p>
<p class="quoted">
After reading a command:
<br>    let N be "[the player's command]";
<br>    replace the regular expression "\b(ask|tell|order) (.+?) to (.+)" in N with "\2, \3";
<br>    change the text of the player's command to N.
</p>
<p class="quoted">
Test me with "ask Josh to take inventory / tell Josh to take inventory / order Josh to take inventory".
</p>
</div>
<p>Note that we have to copy N back explicitly to replace the player's command.</p>
</div>
<div class="linkback">
<a href="wi_20.html#wi-20.8">WI §20.8. Replacements</a><br><a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>
</div></details><details class="full-example" id="example-239"><summary><span class="example-summary">239. For Demonstration Purposes</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we want to have a character who can dynamically learn new actions by observing the player performing them. We could do this by adding the actions to a list of things the character can do, but using a relation to express the same idea allows for tidier, easier-to-read code.</p>
<p>Thanks to Jesse McGrew for the initial design of this example.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22For%20Demonstration%20Purposes%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnCapability%20relates%20various%20people%20to%20various%20stored%20actions.%20The%20verb%20to%20be%20capable%20of%20means%20the%20capability%20relation.%5Cn%5CnPersuasion%20rule:%5Cn%5Ctlet%20CA%20be%20the%20current%20action%20with%20no%20specific%20actor;%5Cn%5Ctif%20the%20person%20asked%20is%20capable%20of%20CA:%5Cn%5Ct%5Ctpersuasion%20succeeds;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5BThe%20person%20asked%5D%20look%5Bs%5D%20confused.%20Maybe%20a%20demonstration%20would%20help.%22;%5Cn%5Ct%5Ctpersuasion%20fails.%5Cn%5CnThe%20action%20requester%20is%20an%20object%20that%20varies.%20The%20action%20requester%20variable%20translates%20into%20I6%20as%20%22act_requester%22.%5Cn%5CnTo%20decide%20which%20action%20is%20the%20current%20action%20with%20no%20specific%20actor:%5Cn%5Ctlet%20old%20actor%20be%20the%20person%20asked;%5Cn%5Ctlet%20old%20requester%20be%20the%20action%20requester;%5Cn%5Ctnow%20the%20person%20asked%20is%20the%20player;%5Cn%5Ctnow%20the%20action%20requester%20is%20nothing;%5Cn%5Ctlet%20CA%20be%20the%20current%20action;%5Cn%5Ctnow%20the%20person%20asked%20is%20the%20old%20actor;%5Cn%5Ctnow%20the%20action%20requester%20is%20the%20old%20requester;%5Cn%5Ctdecide%20on%20CA.%5Cn%5CnThe%20learning%20by%20observation%20rule%20is%20listed%20after%20the%20report%20stage%20rule%20in%20the%20specific%20action-processing%20rules.%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20he%20is%20not%20the%20player.%5Cn%5CnThis%20is%20the%20learning%20by%20observation%20rule:%5Cn%5Ctrepeat%20with%20the%20viewer%20running%20through%20other%20people%20who%20can%20see%20the%20player:%5Cn%5Ct%5Ctif%20the%20player%20is%20the%20actor%20and%20viewer%20is%20not%20capable%20of%20the%20current%20action:%5Cn%5Ct%5Ct%5Ctsay%20%22%5BThe%20viewer%5D%20watches%20your%20behavior%20with%20interest.%20Seems%20like%20%5Bthey%5D%20%5Bare%5D%20learning.%22;%5Cn%5Ct%5Ct%5Ctnow%20the%20viewer%20is%20capable%20of%20the%20current%20action.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Daily%20Planet%20is%20a%20room.%20Clark%20is%20here.%20He%20is%20a%20man.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20Clark%20is%20capable%20of%20taking%20inventory.%5Cn%5CnTest%20me%20with%20%22Clark,%20inventory%20/%20Clark,%20x%20me%20/%20x%20me%20/%20Clark,%20x%20me%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "For Demonstration Purposes"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
Capability relates various people to various stored actions. The verb to be capable of means the capability relation.
</p>
<p class="quoted">
Persuasion rule:
<br>    let CA be the current action with no specific actor;
<br>    if the person asked is capable of CA:
<br>        persuasion succeeds;
<br>    otherwise:
<br>        say "[The person asked] look[s] confused. Maybe a demonstration would help.";
<br>        persuasion fails.
</p>
<p class="quoted">
The action requester is an object that varies. The action requester variable translates into I6 as "act_requester".
</p>
<p class="quoted">
To decide which action is the current action with no specific actor:
<br>    let old actor be the person asked;
<br>    let old requester be the action requester;
<br>    now the person asked is the player;
<br>    now the action requester is nothing;
<br>    let CA be the current action;
<br>    now the person asked is the old actor;
<br>    now the action requester is the old requester;
<br>    decide on CA.
</p>
<p class="quoted">
The learning by observation rule is listed after the report stage rule in the specific action-processing rules.
</p>
<p class="quoted">
Definition: a person is other if he is not the player.
</p>
<p class="quoted">
This is the learning by observation rule:
<br>    repeat with the viewer running through other people who can see the player:
<br>        if the player is the actor and viewer is not capable of the current action:
<br>            say "[The viewer] watches your behavior with interest. Seems like [they] [are] learning.";
<br>            now the viewer is capable of the current action.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Daily Planet is a room. Clark is here. He is a man.
</p>
<p class="quoted">
When play begins:
<br>    now Clark is capable of taking inventory.
</p>
<p class="quoted">
Test me with "Clark, inventory / Clark, x me / x me / Clark, x me".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.13">WI §13.13. Relations involving values</a><br><a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>
</div></details><details class="full-example" id="example-205"><summary><span class="example-summary">205. Under Contract</span> <span class="example-difficulty">★★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Under%20Contract%22%5Cn%5CnThe%20Sound%20Stage%20is%20a%20room.%20The%20description%20is%20%22A%20somewhat%20creaky%20and%20unconvincing%20reproduction%20of%20the%20docks%20of%20San%20Francisco.%22%5Cn%5CnClark%20Gable%20is%20a%20man%20in%20the%20Sound%20Stage.%20%22Clark%20is%20here,%20carrying%20%5Bthe%20list%20of%20things%20carried%20by%20Clark%5D%5Bif%20Clark%20wears%20anything%5D%20and%20wearing%20%5Bthe%20list%20of%20things%20worn%20by%20Clark%5D%5Bend%20if%5D.%22%20Clark%20carries%20a%20swagger%20stick.%20Clark%20carries%20an%20open%20openable%20player's%20holdall%20called%20a%20briefcase.%20The%20briefcase%20contains%20a%20signed%20contract.%20Clark%20wears%20a%20fedora%20and%20a%20pair%20of%20pants.%20A%20handle%20is%20part%20of%20the%20briefcase.%5Cn%5CnThe%20player%20carries%20an%20open%20openable%20player's%20holdall%20called%20a%20frilly%20bag.%20The%20carrying%20capacity%20of%20the%20player%20is%202.%20The%20player%20wears%20a%20sparkly%20scarf%20and%20a%20slinky%20dress.%20A%20strap%20is%20part%20of%20the%20bag.%20The%20tent%20is%20a%20portable%20enterable%20container.%5Cn%5CnInstead%20of%20taking%20off%20the%20slinky%20dress:%20say%20%22Rowr!%20Not%20that%20kind%20of%20movie,%20babe.%22%5Cn%5CnInstead%20of%20taking%20off%20the%20pants:%20say%20%22That's%20not%20your%20job,%20whatever%20the%20society%20pages%20might%20suggest.%22%5Cn%5CnUnsuccessful%20attempt%20by%20Clark%20doing%20something:%5Cn%5Ctrepeat%20through%20table%20of%20Clark%20Retorts:%5Cn%5Ct%5Ctif%20the%20reason%20the%20action%20failed%20is%20the%20cause%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bresponse%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22'I%20don't%20think%20that's%20in%20the%20script,'%20says%20Clark%20dubiously.%22%5Cn%5CnTable%20of%20Clark%20Retorts%5Cncause%5Ctresponse%5Cncan't%20take%20yourself%20rule%5Ct%22'I'm%20always%20self-possessed,'%20Clark%20remarks.%20You've%20heard%20that%20line%20before,%20but%20it%20sounds%20so%20much%20more%20convincing%20from%20him.%22%5Cncan't%20take%20other%20people%20rule%5Ct%22'I%20don't%20think%20it%20would%20be%20appreciated%20if%20I%20tried%20to%20do%20that%20to%20%5Bthe%20noun%5D,'%20he%20rumbles.%22%5Cncan't%20take%20component%20parts%20rule%5Ct%22'I%20don't%20want%20to%20rip%20%5Bthe%20noun%5D%20out,'%20Clark%20remarks.%22%5Cncan't%20take%20people's%20possessions%20rule%5Ct%22'I%20don't%20cotton%20to%20acting%20like%20a%20thief,'%20Clark%20replies.%20'It%20ain't%20proper.'%22%5Cncan't%20take%20what%20you're%20inside%20rule%5Ct%22'Do%20you%20see%20where%20I%20am,%20babe?'%20Clark%20demands.%22%5Cncan't%20take%20what's%20already%20taken%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20take%20scenery%20rule%5Ct%22'I'm%20not%20the%20stunt%20man,%20darling,'%20he%20says%20with%20a%20wry%20twinkle.%22%5Cncan't%20take%20what's%20fixed%20in%20place%20rule%5Ct%22'I'm%20not%20the%20stunt%20man,%20darling,'%20he%20says%20with%20a%20wry%20twinkle.%22%5Cncan't%20exceed%20carrying%20capacity%20rule%5Ct%22Clark%20grins.%20'I've%20only%20got%20so%20many%20hands,%20darling,'%20he%20says.%22%5Cncan't%20insert%20into%20closed%20containers%20rule%5Ct%22%5Bphysical%20impossibility%5D%22%5Cncan't%20go%20that%20way%20rule%5Ct%22%5Bphysical%20impossibility%5D%22%5Cncan't%20go%20through%20closed%20doors%20rule%5Ct%22%5Bphysical%20impossibility%5D%22%5Cncan't%20enter%20closed%20containers%20rule%5Ct%22%5Bphysical%20impossibility%5D%22%5Cncan't%20exit%20closed%20containers%20rule%5Ct%22%5Bphysical%20impossibility%5D%22%5Cncan't%20drop%20yourself%20rule%5Ct%22'We're%20inseparable,%20me%20and%20me,'%20Clark%20replies,%20with%20a%20smile.%22%5Cncan't%20drop%20what's%20already%20dropped%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20drop%20what's%20not%20held%20rule%5Ct%22'Not%20under%20my%20control,%20%5Bthe%20noun%5D,'%20replies%20Clark.%22%5Cncan't%20drop%20clothes%20being%20worn%20rule%5Ct%22%5Bsalacious%20retort%5D%22%5Cncan't%20put%20something%20on%20itself%20rule%5Ct%22'I%20lack%20the%20dexterity,'%20says%20Clark.%20Oh,%20he's%20so%20modest.%22%5Cncan't%20put%20onto%20what's%20not%20a%20supporter%20rule%5Ct%22'%5BThe%20second%20noun%5D%20won't%20support%20a%20thing,'%20says%20Clark%20reprovingly.%22%5Cncan't%20put%20clothes%20being%20worn%20rule%5Ct%22%5Bsalacious%20retort%5D%22%5Cncan't%20insert%20clothes%20being%20worn%20rule%5Ct%22%5Bsalacious%20retort%5D%22%5Cncan't%20give%20worn%20items%20rule%5Ct%22%5Bsalacious%20retort%5D%22%5Cncan't%20wear%20what's%20not%20clothing%20rule%5Ct%22'Costuming%20just%20gets%20stranger%20every%20year,'%20says%20Clark.%20'In%20short:%20no.'%22%5Cncan't%20wear%20what's%20already%20worn%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20eat%20unless%20edible%20rule%5Ct%22'What're%20you%20trying%20to%20do,%20poison%20me?'%22%5Cncan't%20eat%20clothing%20without%20removing%20it%20first%20rule%5Ct%22%5Bsalacious%20retort%5D%22%5Cncan't%20take%20off%20what's%20not%20worn%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20close%20what's%20already%20closed%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20open%20what's%20already%20open%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20switch%20off%20what's%20already%20off%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20switch%20on%20what's%20already%20on%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20unlock%20what's%20already%20unlocked%20rule%5Ct%22%5Balready%20done%5D%22%5Cncan't%20lock%20what's%20already%20locked%20rule%5Ct%22%5Balready%20done%5D%22%5Cn%5CnTo%20say%20already%20done:%5Cn%5Ctrepeat%20through%20Table%20of%20Clark's%20Bored%20Remarks:%5Cn%5Ct%5Ctsay%20%22%5Bresponse%20entry%5D%22;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22'Already%20done.'%20%22%5Cn%5CnTable%20of%20Clark's%20Bored%20Remarks%5Cnresponse%5Cn%22'I%20have%20anticipated%20your%20every%20demand.'%22%5Cn%22'We've%20been%20through%20this%20part%20of%20the%20script%20already,'%20Clark%20remarks,%20with%20just%20a%20hint%20of%20creeping%20tedium.%22%5Cn%22'Right%20right,%20already%20taken%20care%20of...'%22%5Cn%22'I'm%20a%20believer%20in%20rehearsal,'%20Clark%20says,%20sounding%20more%20bored%20than%20ever,%20'but%20we%20really%20have%20got%20all%20this%20done%20already.'%22%5Cn%5CnTo%20say%20salacious%20retort:%5Cn%5Ctrepeat%20through%20Table%20of%20Clark's%20Flirtatious%20Remarks:%5Cn%5Ct%5Ctsay%20%22%5Bresponse%20entry%5D%22;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22Clark,%20driven%20past%20the%20point%20of%20endurance,%20seizes%20you%20in%20his%20arms%20and%20kisses%20you.%22;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5CnTable%20of%20Clark's%20Flirtatious%20Remarks%5Cnresponse%5Cn%22Clark%20allows%20his%20mustache%20to%20quirk%20at%20the%20suggestion.%22%5Cn%22Clark%20wiggles%20his%20eyebrows%20at%20you.%22%5Cn%22'That%20kind%20of%20thing%20isn't%20in%20my%20contract,%20sweetie,'%20says%20Clark.%20'If%20you're%20interested%20you'll%20have%20to%20ask%20off-camera.'%22%5Cn%22'I'd%20feel%20so...%20bare,'%20Clark%20says,%20with%20a%20sidelong%20look%20at%20you.%22%5Cn%22'You%20first,'%20says%20Clark.%22%5Cn%22Clark's%20stare%20is%20intense.%20You%20may%20be%20on%20the%20verge%20of%20breaking%20him.%22%5Cn%5Cn%5CnTo%20say%20physical%20impossibility:%5Cn%5Ctrepeat%20through%20Table%20of%20Clark's%20Frustrated%20Denials:%5Cn%5Ct%5Ctsay%20%22%5Bresponse%20entry%5D%22;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22Clark%20makes%20a%20helpless%20gesture%20about%20his%20ability%20to%20move%20himself,%20or%20parts%20of%20himself,%20through%20solid%20objects.%20%22%5Cn%5CnTable%20of%20Clark's%20Frustrated%20Denials%5Cnresponse%5Cn%22Clark%20frowns.%20'I%20can't%20reach%20through%20things%20--%20unless%20you%20were%20planning%20a%20special%20effect?'%22%5Cn%20%22'Look,'%20says%20Clark.%20'If%20you%20want%20a%20stage%20magician,%20hire%20one.'%22%5Cn%22Clark%20just%20groans.%22%5Cn%22Clark%20says%20drily,%20'Is%20this%20in%20the%20script,%20or%20are%20we%20doing%20improvisation%20now?'%22%5Cn%5CnThe%20block%20giving%20rule%20is%20not%20listed%20in%20the%20check%20giving%20it%20to%20rules.%20The%20block%20showing%20rule%20is%20not%20listed%20in%20the%20check%20showing%20it%20to%20rules.%20The%20report%20smelling%20rule%20is%20not%20listed%20in%20the%20report%20smelling%20rules.%20The%20report%20listening%20rule%20is%20not%20listed%20in%20the%20report%20listening%20to%20rules.%5Cn%5CnCarry%20out%20listening%20to%20something:%5Cn%5Ctdo%20nothing.%5Cn%5CnReport%20listening%20to%20something:%20say%20%22Your%20attention%20bears%20no%20interesting%20result.%22%5Cn%5CnCarry%20out%20smelling%20something:%5Cn%5Ctdo%20nothing.%5Cn%5CnReport%20smelling%20something:%20%20say%20%22Your%20attention%20bears%20no%20interesting%20result.%22%5Cn%5CnReport%20someone%20listening%20to%20something:%20say%20%22%5BThe%20person%20asked%5D%20concentrates,%20listening.%22%5Cn%5CnReport%20someone%20smelling%20something:%20say%20%22%5BThe%20person%20asked%5D%20sniffs%20at%20%5Bthe%20noun%5D.%22%5Cn%5CnInstead%20of%20asking%20someone%20for%20something:%20try%20asking%20the%20noun%20to%20try%20giving%20the%20second%20noun%20to%20the%20player.%5Cn%5CnCarry%20out%20showing%20something%20to%20someone:%20say%20%22You%20reveal%20%5Bthe%20noun%5D%20to%20%5Bthe%20second%20noun%5D.%22%5Cn%5CnCarry%20out%20Clark%20showing%20something%20to%20someone:%5Cn%5Ctif%20the%20second%20noun%20is%20the%20player:%5Cn%5Ct%5Ctsay%20%22Clark%20shows%20you%20%5Bthe%20noun%5D.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ct%5Cttry%20examining%20the%20noun;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Clark%20reveals%20%5Bthe%20noun%5D%20to%20%5Bthe%20second%20noun%5D.%22%5Cn%5CnInstead%20of%20asking%20someone%20to%20try%20saying%20yes:%20try%20saying%20yes.%20Instead%20of%20asking%20someone%20to%20try%20saying%20no:%20try%20saying%20no.%20Instead%20of%20asking%20someone%20to%20try%20saying%20sorry,%20try%20saying%20sorry.%5Cn%5Cn%5BAnd%20now%20we%20make%20Clark%20a%20very%20amenable%20type:%5D%5Cn%5CnA%20persuasion%20rule%20for%20asking%20people%20to%20try%20doing%20something:%20persuasion%20succeeds.%5Cn%5Cn%5BThere%20are%20quite%20a%20few%20actions%20for%20which%20no%20automatic%20other-character%20behavior%20is%20provided%20at%20all,%20because%20they%20always%20end%20in%20failure%20when%20the%20player%20tries%20them.%20Currently%20the%20response%20is%20not%20very%20interesting.%20Let's%20spice%20it%20up%20a%20bit:%5D%5Cn%5CnBurning%20something%20is%20useless%20action.%20Waking%20up%20is%20useless%20action.%20Thinking%20is%20useless%20action.%20Cutting%20is%20useless%20action.%20Jumping%20is%20useless%20action.%20Tying%20something%20to%20something%20is%20useless%20action.%20Drinking%20something%20is%20useless%20action.%20Swinging%20is%20useless%20action.%20%20Rubbing%20is%20useless%20action.%20Setting%20something%20to%20something%20is%20useless%20action.%20Waving%20hands%20is%20useless%20action.%20Buying%20is%20useless%20action.%20Climbing%20is%20useless%20action.%20Sleeping%20is%20useless%20action.%20Kissing%20is%20useless%20action.%20Throwing%20something%20at%20something%20is%20useless%20action.%20Attacking%20is%20useless%20action.%20Asking%20something%20about%20something%20is%20useless%20action.%20Telling%20something%20about%20something%20is%20useless%20action.%20Answering%20something%20that%20something%20is%20useless%20action.%20Waking%20something%20is%20useless%20action.%5Cn%5CnA%20persuasion%20rule%20for%20asking%20people%20to%20try%20useless%20action:%5Cn%5Ctsay%20%22Clark%20Gable%20frowns.%20'I%20don't%20mean%20to%20be%20difficult,%20but%20I%20can't%20see%20any%20point%20in%20that.'%22;%5Cn%5Ctpersuasion%20fails.%5Cn%5CnA%20persuasion%20rule%20for%20asking%20Clark%20to%20try%20taking%20off%20the%20pants:%5Cn%5Ctsay%20%22He%20gives%20you%20a%20look%20of%20mocking%20exasperation.%20Apparently%20you'll%20have%20to%20take%20a%20(slightly)%20more%20subtle%20approach.%22;%5Cn%5Ctpersuasion%20fails.%5Cn%5Cn%5CtCheck%20someone%20giving%20something%20to%20someone%20(this%20is%20the%20can't%20give%20worn%20items%20rule):%5Cn%5Ct%5Ctif%20the%20person%20asked%20wears%20the%20noun,%20stop%20the%20action.%5Cn%5Cn%5BAnd%20because%20we%20do%20not%20want%20Clark%20automatically%20taking%20off%20the%20pants%20as%20the%20result%20of%20a%20drop%20action:%5D%5Cn%5CnInstead%20of%20Clark%20taking%20off%20the%20pants:%20do%20nothing.%5Cn%5Cn%5BWe%20know%20that%20this%20can%20only%20come%20about%20as%20a%20default%20action,%20because%20we%20have%20arranged%20matters%20so%20that%20he%20cannot%20be%20persuaded%20directly.%5D%5Cn%5CnTest%20me%20with%20%22give%20dress%20to%20clark%20/%20clark,%20take%20off%20pants%20/%20clark,%20eat%20pants%20/%20clark,%20give%20me%20the%20pants%20/%20clark,%20drop%20pants%20/%20clark,%20put%20the%20pants%20in%20the%20briefcase%20/%20again%20/%20g%20/%20g%20/%20g%22%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Under Contract"
</p>
<p class="quoted">
The Sound Stage is a room. The description is "A somewhat creaky and unconvincing reproduction of the docks of San Francisco."
</p>
<p class="quoted">
Clark Gable is a man in the Sound Stage. "Clark is here, carrying [the list of things carried by Clark][if Clark wears anything] and wearing [the list of things worn by Clark][end if]." Clark carries a swagger stick. Clark carries an open openable player's holdall called a briefcase. The briefcase contains a signed contract. Clark wears a fedora and a pair of pants. A handle is part of the briefcase.
</p>
<p class="quoted">
The player carries an open openable player's holdall called a frilly bag. The carrying capacity of the player is 2. The player wears a sparkly scarf and a slinky dress. A strap is part of the bag. The tent is a portable enterable container.
</p>
<p class="quoted">
Instead of taking off the slinky dress: say "Rowr! Not that kind of movie, babe."
</p>
<p class="quoted">
Instead of taking off the pants: say "That's not your job, whatever the society pages might suggest."
</p>
<p class="quoted">
Unsuccessful attempt by Clark doing something:
<br>    repeat through table of Clark Retorts:
<br>        if the reason the action failed is the cause entry:
<br>            say "[response entry][paragraph break]";
<br>            rule succeeds;
<br>    say "'I don't think that's in the script,' says Clark dubiously."
</p>
<p class="quoted">
Table of Clark Retorts
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">cause</p></td>
<td class="quotedtablecell"><p class="quoted">response</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take yourself rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'I'm always self-possessed,' Clark remarks. You've heard that line before, but it sounds so much more convincing from him."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take other people rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'I don't think it would be appreciated if I tried to do that to [the noun],' he rumbles."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take component parts rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'I don't want to rip [the noun] out,' Clark remarks."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take people's possessions rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'I don't cotton to acting like a thief,' Clark replies. 'It ain't proper.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take what you're inside rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'Do you see where I am, babe?' Clark demands."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take what's already taken rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take scenery rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'I'm not the stunt man, darling,' he says with a wry twinkle."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take what's fixed in place rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'I'm not the stunt man, darling,' he says with a wry twinkle."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't exceed carrying capacity rule</p></td>
<td class="quotedtablecell"><p class="quoted">"Clark grins. 'I've only got so many hands, darling,' he says."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't insert into closed containers rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[physical impossibility]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't go that way rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[physical impossibility]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't go through closed doors rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[physical impossibility]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't enter closed containers rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[physical impossibility]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't exit closed containers rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[physical impossibility]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't drop yourself rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'We're inseparable, me and me,' Clark replies, with a smile."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't drop what's already dropped rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't drop what's not held rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'Not under my control, [the noun],' replies Clark."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't drop clothes being worn rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[salacious retort]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't put something on itself rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'I lack the dexterity,' says Clark. Oh, he's so modest."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't put onto what's not a supporter rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'[The second noun] won't support a thing,' says Clark reprovingly."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't put clothes being worn rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[salacious retort]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't insert clothes being worn rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[salacious retort]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't give worn items rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[salacious retort]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't wear what's not clothing rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'Costuming just gets stranger every year,' says Clark. 'In short: no.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't wear what's already worn rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't eat unless edible rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'What're you trying to do, poison me?'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't eat clothing without removing it first rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[salacious retort]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take off what's not worn rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't close what's already closed rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't open what's already open rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't switch off what's already off rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't switch on what's already on rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't unlock what's already unlocked rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't lock what's already locked rule</p></td>
<td class="quotedtablecell"><p class="quoted">"[already done]"</p></td>
</tr>
</table>
<p class="quoted">
To say already done:
<br>    repeat through Table of Clark's Bored Remarks:
<br>        say "[response entry]";
<br>        blank out the whole row;
<br>        rule succeeds;
<br>    say "'Already done.' "
</p>
<p class="quoted">
Table of Clark's Bored Remarks
<br>response
<br>"'I have anticipated your every demand.'"
<br>"'We've been through this part of the script already,' Clark remarks, with just a hint of creeping tedium."
<br>"'Right right, already taken care of...'"
<br>"'I'm a believer in rehearsal,' Clark says, sounding more bored than ever, 'but we really have got all this done already.'"
</p>
<p class="quoted">
To say salacious retort:
<br>    repeat through Table of Clark's Flirtatious Remarks:
<br>        say "[response entry]";
<br>        blank out the whole row;
<br>        rule succeeds;
<br>    say "Clark, driven past the point of endurance, seizes you in his arms and kisses you.";
<br>    end the story finally.
</p>
<p class="quoted">
Table of Clark's Flirtatious Remarks
<br>response
<br>"Clark allows his mustache to quirk at the suggestion."
<br>"Clark wiggles his eyebrows at you."
<br>"'That kind of thing isn't in my contract, sweetie,' says Clark. 'If you're interested you'll have to ask off-camera.'"
<br>"'I'd feel so... bare,' Clark says, with a sidelong look at you."
<br>"'You first,' says Clark."
<br>"Clark's stare is intense. You may be on the verge of breaking him."
</p>
<p class="quoted">
To say physical impossibility:
<br>    repeat through Table of Clark's Frustrated Denials:
<br>        say "[response entry]";
<br>        blank out the whole row;
<br>        rule succeeds;
<br>    say "Clark makes a helpless gesture about his ability to move himself, or parts of himself, through solid objects. "
</p>
<p class="quoted">
Table of Clark's Frustrated Denials
<br>response
<br>"Clark frowns. 'I can't reach through things -- unless you were planning a special effect?'"
<br> "'Look,' says Clark. 'If you want a stage magician, hire one.'"
<br>"Clark just groans."
<br>"Clark says drily, 'Is this in the script, or are we doing improvisation now?'"
</p>
<p class="quoted">
The block giving rule is not listed in the check giving it to rules. The block showing rule is not listed in the check showing it to rules. The report smelling rule is not listed in the report smelling rules. The report listening rule is not listed in the report listening to rules.
</p>
<p class="quoted">
Carry out listening to something:
<br>    do nothing.
</p>
<p class="quoted">
Report listening to something: say "Your attention bears no interesting result."
</p>
<p class="quoted">
Carry out smelling something:
<br>    do nothing.
</p>
<p class="quoted">
Report smelling something:  say "Your attention bears no interesting result."
</p>
<p class="quoted">
Report someone listening to something: say "[The person asked] concentrates, listening."
</p>
<p class="quoted">
Report someone smelling something: say "[The person asked] sniffs at [the noun]."
</p>
<p class="quoted">
Instead of asking someone for something: try asking the noun to try giving the second noun to the player.
</p>
<p class="quoted">
Carry out showing something to someone: say "You reveal [the noun] to [the second noun]."
</p>
<p class="quoted">
Carry out Clark showing something to someone:
<br>    if the second noun is the player:
<br>        say "Clark shows you [the noun]. [run paragraph on]";
<br>        try examining the noun;
<br>    otherwise:
<br>        say "Clark reveals [the noun] to [the second noun]."
</p>
<p class="quoted">
Instead of asking someone to try saying yes: try saying yes. Instead of asking someone to try saying no: try saying no. Instead of asking someone to try saying sorry, try saying sorry.
</p>
</div>
<p>And now we make Clark a very amenable type:</p>

<div class="code"><p class="quoted">
A persuasion rule for asking people to try doing something: persuasion succeeds.
</p></div>
<p>There are quite a few actions for which no automatic other-character behavior is provided at all, because they always end in failure when the player tries them. Currently the response is not very interesting. Let's spice it up a bit:</p>

<div class="code">
<p class="quoted">
Burning something is useless action. Waking up is useless action. Thinking is useless action. Cutting is useless action. Jumping is useless action. Tying something to something is useless action. Drinking something is useless action. Swinging is useless action.  Rubbing is useless action. Setting something to something is useless action. Waving hands is useless action. Buying is useless action. Climbing is useless action. Sleeping is useless action. Kissing is useless action. Throwing something at something is useless action. Attacking is useless action. Asking something about something is useless action. Telling something about something is useless action. Answering something that something is useless action. Waking something is useless action.
</p>
<p class="quoted">
A persuasion rule for asking people to try useless action:
<br>    say "Clark Gable frowns. 'I don't mean to be difficult, but I can't see any point in that.'";
<br>    persuasion fails.
</p>
<p class="quoted">
A persuasion rule for asking Clark to try taking off the pants:
<br>    say "He gives you a look of mocking exasperation. Apparently you'll have to take a (slightly) more subtle approach.";
<br>    persuasion fails.
</p>
<p class="quoted">
    Check someone giving something to someone (this is the can't give worn items rule):
<br>        if the person asked wears the noun, stop the action.
</p>
</div>
<p>And because we do not want Clark automatically taking off the pants as the result of a drop action:</p>

<div class="code"><p class="quoted">
Instead of Clark taking off the pants: do nothing.
</p></div>
<p>We know that this can only come about as a default action, because we have arranged matters so that he cannot be persuaded directly.</p>

<div class="code"><p class="quoted">
Test me with "give dress to clark / clark, take off pants / clark, eat pants / clark, give me the pants / clark, drop pants / clark, put the pants in the briefcase / again / g / g / g"
</p></div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.11">WI §12.11. Making actions work for other people</a><br><a href="rb_7.html#rb-7.14">RB §7.14. Obedient Characters</a>
</div></details>
</div></section>
<section class="section" id="rb-7.15"><div>





<h3>RB §7.15. Goal-Seeking Characters</h3>
<p>Goal-seeking characters are the most advanced IF life-form: they want to achieve specific outcomes, and they are able to work out plans of approach in order to bring these things about. They walk to rooms, open containers to search for things, use keys and tools, and ask leading questions in conversation.</p>
<p>A really advanced implementation of goal-seeking behavior is beyond the scope of our examples (though extensions exist that treat the problem more thoroughly). We can accomplish a surprising amount without heavy customization, though, if we keep in mind three points of technique:</p>
<p>First: it helps to think abstractly and to create broadly-defined actions as a first step to more specific tasks. For instance, a character's goal might be to eat some dinner. He'd be equally satisfied with spaghetti carbonara or with braised lamb shanks, but he needs to figure out which is available. So we might have our every turn rule (or whatever we're using to activate the character) say something like</p>

<div class="code"><p class="quoted">
Every turn when Clark is hungry:
<br>    try Clark dining.
</p></div>
<p>Dining would then be an action we've defined specially, which looks around Clark's environment for suitable food; if it finds food, it issues a</p>

<div class="code"><p class="quoted">
try Clark eating the suitable food;
</p></div>
<p>command; but if not, it sends Clark off to look for something likely. <a href="rb_7.html#example-203" class="example-link" onClick="(function() { document.getElementById('example-203').setAttribute('open','open'); return true; })();">The Man of Steel</a><span class="example-difficulty"> ★★</span> demonstrates the use of this.</p>
<p>Second: though it doesn't actually contribute to the goal-seeking per se, lively reporting brings characters' generated behavior to life.</p>

<div class="code"><p class="quoted">
Clark eats a donut.
</p></div>
<p>doesn't characterize Clark very much, even though the eating may be part of a subtle, intelligent plan to seduce Lois Lane. We'll do better if we replace a lot of the character reporting rules: to that end, see the example <a href="rb_7.html#example-208" class="example-link" onClick="(function() { document.getElementById('example-208').setAttribute('open','open'); return true; })();">The Man of Steel Excuses Himself</a><span class="example-difficulty"> ★★</span>.</p>
<p>Third: goal-seeking characters notice when something is in the way of the action they want to perform. When that happens, they form a plan about how to remove the obstacle. We've already seen this kind of implementation on the player's behalf: the player will pick up items before eating them, say. We can use Before rules to do similar things for other characters, as in</p>

<div class="code"><p class="quoted">
Before Clark eating the wrapped candy:
<br>    try Clark unwrapping the candy;
<br>    if the candy is wrapped, stop the action.
</p></div>
<p>Here we've set things up so that if Clark tries to eat the wrapped candy, he'll be interrupted by this other command; and if his unwrapping-the-candy attempt fails, he won't go on and eat the thing. <a href="rb_7.html#example-189" class="example-link" onClick="(function() { document.getElementById('example-189').setAttribute('open','open'); return true; })();">IQ Test</a><span class="example-difficulty"> ★</span> demonstrates a character who shows this kind of planning intelligence.</p>
<p>Because before-rules chain neatly, we can trigger whole plans of behavior if we have a sensible set, as in</p>

<div class="code"><p class="quoted">
Before someone entering a closed container: try the person asked opening the noun.
<br>Before someone opening a locked container: try the person asked unlocking the noun.
<br>Before someone unlocking a locked container: ...
</p></div>
<p>We must exercise a little bit of care if it is possible for the chain of actions to produce an endless loop - e.g., the character trying to take a key that is inside the transparent, locked box that it opens might repeatedly try to open the box, first unlocking the box, first taking the key, first opening the box, ... <a href="rb_7.html#example-190" class="example-link" onClick="(function() { document.getElementById('example-190').setAttribute('open','open'); return true; })();">Boston Cream</a><span class="example-difficulty"> ★★★★</span> is a fully-worked scenario that deals with such a set of conundra.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_7.html#rb-7.13" class="crossreference_link">Traveling Characters</a> for characters who plan routes to locations and travel towards them</div>
<div class="crossreference">
<a href="rb_4.html#rb-4.3" class="crossreference_link">Event Scheduling</a> for characters who follow a pre-written schedule of activities</div>
<div class="crossreference">
<a href="rb_4.html#rb-4.6" class="crossreference_link">Plot Management</a> for having a central function direct all the characters in order to further the plot</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-189"><summary><span class="example-summary">189. IQ Test</span> <span class="example-difficulty">★</span></summary><div>
<p>We have already seen how Before... rules can generate implicit actions for the player, so that the player will, for instance, open doors before trying to walk through them. The same can be done for characters other than the player; so for instance:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22IQ%20Test%22%5Cn%5CnThe%20Donut%20Shop%20is%20a%20room.%20%22Vibrantly%20decorated%20in%20donut%20colors:%20pink,%20brown,%20and%20cream.%22%5Cn%5CnOgg%20is%20a%20man%20in%20the%20Donut%20Shop.%20%22Ogg%20is%20slumped%20in%20the%20corner%5Bif%20Ogg%20carries%20something%5D%20with%20%5Ba%20list%20of%20things%20carried%20by%20Ogg%5D%5Bend%20if%5D.%20He%20wears%20a%20nametag%20which%20says%20'HELLO%20MY%20NAME%20IS%20OG.'%22%20Understand%20%22og%22%20as%20Ogg.%20Ogg%20wears%20a%20nametag.%20The%20description%20of%20the%20nametag%20is%20%22Sadly%20misspelled.%22%5Cn%5CnThe%20Donut%20Shop%20contains%20a%20transparent%20closed%20openable%20locked%20lockable%20container%20called%20a%20case.%20The%20case%20contains%20some%20cake%20donuts.%20The%20donuts%20are%20edible.%5Cn%5CnThe%20matching%20key%20of%20the%20case%20is%20a%20silver%20key.%20The%20silver%20key%20is%20carried%20by%20Ogg.%5Cn%5CnA%20persuasion%20rule%20for%20asking%20someone%20to%20try%20doing%20something:%5Cn%5Ctpersuasion%20succeeds.%5Cn%5CnBefore%20someone%20opening%20a%20locked%20thing%20(called%20the%20sealed%20chest):%5Cn%5Ctif%20the%20person%20asked%20is%20carrying%20the%20matching%20key%20of%20the%20sealed%20chest,%20try%20the%20person%20asked%20unlocking%20the%20sealed%20chest%20with%20the%20matching%20key%20of%20the%20sealed%20chest;%5Cn%5Ctif%20the%20sealed%20chest%20is%20locked,%20stop%20the%20action.%5Cn%5CnBefore%20someone%20taking%20something%20which%20is%20in%20a%20closed%20container%20(called%20the%20shut%20chest):%5Cn%5Cttry%20the%20person%20asked%20opening%20the%20shut%20chest;%5Cn%5Ctif%20the%20shut%20chest%20is%20closed,%20stop%20the%20action.%5Cn%5CnThe%20block%20giving%20rule%20is%20not%20listed%20in%20the%20check%20giving%20it%20to%20rules.%5Cn%5CnTest%20me%20with%20%22open%20case%20/%20get%20donuts%20/%20og,%20get%20donuts%20/%20og,%20give%20me%20the%20donuts%20/%20eat%20donuts%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "IQ Test"
</p>
<p class="quoted">
The Donut Shop is a room. "Vibrantly decorated in donut colors: pink, brown, and cream."
</p>
<p class="quoted">
Ogg is a man in the Donut Shop. "Ogg is slumped in the corner[if Ogg carries something] with [a list of things carried by Ogg][end if]. He wears a nametag which says 'HELLO MY NAME IS OG.'" Understand "og" as Ogg. Ogg wears a nametag. The description of the nametag is "Sadly misspelled."
</p>
<p class="quoted">
The Donut Shop contains a transparent closed openable locked lockable container called a case. The case contains some cake donuts. The donuts are edible.
</p>
<p class="quoted">
The matching key of the case is a silver key. The silver key is carried by Ogg.
</p>
<p class="quoted">
A persuasion rule for asking someone to try doing something:
<br>    persuasion succeeds.
</p>
<p class="quoted">
Before someone opening a locked thing (called the sealed chest):
<br>    if the person asked is carrying the matching key of the sealed chest, try the person asked unlocking the sealed chest with the matching key of the sealed chest;
<br>    if the sealed chest is locked, stop the action.
</p>
<p class="quoted">
Before someone taking something which is in a closed container (called the shut chest):
<br>    try the person asked opening the shut chest;
<br>    if the shut chest is closed, stop the action.
</p>
<p class="quoted">
The block giving rule is not listed in the check giving it to rules.
</p>
<p class="quoted">
Test me with "open case / get donuts / og, get donuts / og, give me the donuts / eat donuts".
</p>
</div>
<p>(A more detailed set of before rules for people using doors and locks is provided in Emily Short's Locksmith extension.)</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.6">WI §12.6. Spontaneous actions by other people</a><br><a href="rb_7.html#rb-7.15">RB §7.15. Goal-Seeking Characters</a>
</div></details><details class="full-example" id="example-203"><summary><span class="example-summary">203. The Man of Steel</span> <span class="example-difficulty">★★</span></summary><div>
<p>It will sometimes be handy to write actions that are only available to the non-player characters and not to the player. To do this, we just define an action which has no "understand": the player will never be able to specify this command himself, but other characters can try it.</p>
<p>This is particularly useful for creating abstract or general actions for when we want a character to eat something, wear something, or go somewhere, but aren't too particular as to what the object is; as here, where we just want Clark to move away from the kryptonite, regardless of direction:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Man%20of%20Steel%22%5Cn%5CnEscaping%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCarry%20out%20someone%20escaping:%5Cn%5Ctlet%20space%20be%20the%20holder%20of%20the%20person%20asked;%5Cn%5Ctlet%20place%20be%20a%20random%20room%20which%20is%20adjacent%20to%20the%20space;%5Cn%5Ctlet%20way%20be%20the%20best%20route%20from%20the%20space%20to%20the%20place;%5Cn%5Cttry%20the%20person%20asked%20going%20way.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20Clark%20Kent%20can%20see%20kryptonite,%20try%20Clark%20Kent%20escaping.%5Cn%5CnThe%20Daily%20Planet%20Newsroom%20is%20a%20room.%5Cn%5CnPerry%20White's%20Office%20is%20west%20of%20the%20Newsroom.%20In%20Perry%20White's%20Office%20are%20a%20desk%20and%20a%20poster%20of%20Elvis.%20On%20the%20desk%20is%20a%20lead-lined%20box.%20The%20box%20is%20openable.%20In%20the%20box%20is%20the%20green%20kryptonite%20crystal.%5Cn%5CnThe%20Supply%20Closet%20is%20east%20of%20the%20Newsroom.%20The%20Elevator%20Bank%20is%20north%20of%20the%20Newsroom.%5Cn%5CnClark%20Kent%20is%20a%20man%20in%20the%20Newsroom.%20%22Clark%20%5Bif%20Clark%20can%20see%20the%20kryptonite%5Dlooks%20a%20bit%20ill%5Botherwise%5Dis%20here,%20frowning%20as%20he%20revises%20his%20latest%20article%5Bend%20if%5D.%22%5Cn%5CnTest%20me%20with%20%22west%20/%20get%20box%20/%20east%20/%20close%20box%20/%20east%20/%20west%20/%20north%20/%20south%20/%20west%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Man of Steel"
</p>
<p class="quoted">
Escaping is an action applying to nothing.
</p>
<p class="quoted">
Carry out someone escaping:
<br>    let space be the holder of the person asked;
<br>    let place be a random room which is adjacent to the space;
<br>    let way be the best route from the space to the place;
<br>    try the person asked going way.
</p>
<p class="quoted">
Every turn:
<br>    if Clark Kent can see kryptonite, try Clark Kent escaping.
</p>
<p class="quoted">
The Daily Planet Newsroom is a room.
</p>
<p class="quoted">
Perry White's Office is west of the Newsroom. In Perry White's Office are a desk and a poster of Elvis. On the desk is a lead-lined box. The box is openable. In the box is the green kryptonite crystal.
</p>
<p class="quoted">
The Supply Closet is east of the Newsroom. The Elevator Bank is north of the Newsroom.
</p>
<p class="quoted">
Clark Kent is a man in the Newsroom. "Clark [if Clark can see the kryptonite]looks a bit ill[otherwise]is here, frowning as he revises his latest article[end if]."
</p>
<p class="quoted">
Test me with "west / get box / east / close box / east / west / north / south / west".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.11">WI §12.11. Making actions work for other people</a><br><a href="rb_7.html#rb-7.15">RB §7.15. Goal-Seeking Characters</a>
</div></details><details class="full-example" id="example-208"><summary><span class="example-summary">208. The Man of Steel Excuses Himself</span> <span class="example-difficulty">★★</span></summary><div>
<p>Report rules can be a good point at which to add local color: while Inform provides default descriptions of character behavior, these are rather generic and can stand to be customized.</p>
<p>For instance, if we wanted to liven up our previous Clark Kent example:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60Report%20Clark%20Kent%20going%20a%20direction%20(called%20the%20way):%5Cn%5Ctsay%20%22%5Bone%20of%5DWith%20a%20particularly%20weak%20excuse%5Bor%5DMuttering%5Bat%20random%5D%20about%20%5Brandom%20excuse%20subject%5D,%20Clark%20heads%20%5Bway%5D.%22%20instead.%5Cn%5CnTo%20say%20random%20excuse%20subject:%5Cn%5Ctchoose%20a%20random%20row%20in%20the%20Table%20of%20Lame%20Excuses;%20say%20%22%5Breply%20entry%5D%22.%5Cn%5CnTable%20of%20Lame%20Excuses%5Cnreply%5Cn%22needing%20a%20paper-clip%22%5Cn%22wanting%20an%20English-Tuvalu%20dictionary%22%5Cn%22walking%20a%20neighbor's%20dog%22%5Cn%22hearing%20air-raid%20sirens%22%5Cn%22having%20drunk%20too%20much%20coffee%22%5Cn%22thinking%20he%20smells%20smoke%22%5Cn%22wondering%20where%20Lois%20got%20to%22%5Cn%22needing%20to%20speak%20to%20Jimmy%22%5Cn%22noticing%20the%20Good%20Year%20blimp%22%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> Report Clark Kent going a direction (called the way):
<br>    say "[one of]With a particularly weak excuse[or]Muttering[at random] about [random excuse subject], Clark heads [way]." instead.
</p>
<p class="quoted">
To say random excuse subject:
<br>    choose a random row in the Table of Lame Excuses; say "[reply entry]".
</p>
<p class="quoted">
Table of Lame Excuses
<br>reply
<br>"needing a paper-clip"
<br>"wanting an English-Tuvalu dictionary"
<br>"walking a neighbor's dog"
<br>"hearing air-raid sirens"
<br>"having drunk too much coffee"
<br>"thinking he smells smoke"
<br>"wondering where Lois got to"
<br>"needing to speak to Jimmy"
<br>"noticing the Good Year blimp"
</p>
</div>
<p>It's good to be careful, as the library report rules have been designed and tested to describe every contingency (going through doors, going in vehicles, etc.): so when replacing a report rule, we should try to consider all the possible variations of the action that we might want to describe.</p>
<p>However, in this case, our scenario is so simple that there are no doors, vehicles, or pushable objects, so we're safe in giving Clark a very simple reporting scheme.</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.13">WI §12.13. Report rules for actions by other people</a><br><a href="rb_7.html#rb-7.15">RB §7.15. Goal-Seeking Characters</a>
</div></details><details class="full-example" id="example-190"><summary><span class="example-summary">190. Boston Cream</span> <span class="example-difficulty">★★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Boston%20Cream%22%5Cn%5CnUse%20scoring.%5Cn%5CnThe%20Donut%20Shop%20is%20a%20room.%20%22Vibrantly%20decorated%20in%20donut%20colors:%20pink,%20brown,%20and%20cream.%22%5Cn%5CnOgg%20is%20a%20man%20in%20the%20Donut%20Shop.%20%22Ogg%20is%20slumped%20in%20the%20corner%5Bif%20Ogg%20carries%20something%5D%20with%20%5Ba%20list%20of%20things%20carried%20by%20Ogg%5D%5Bend%20if%5D.%20He%20wears%20a%20nametag%20which%20says%20'HELLO%20MY%20NAME%20IS%20OG.'%22%20Understand%20%22og%22%20as%20Ogg.%20Ogg%20wears%20a%20nametag.%20The%20description%20of%20the%20nametag%20is%20%22Very%20neatly%20written.%22%5Cn%5CnThe%20Donut%20Shop%20contains%20a%20transparent%20closed%20openable%20locked%20lockable%20enterable%20container%20called%20a%20case.%20The%20case%20is%20fixed%20in%20place.%20The%20case%20contains%20some%20cake%20donuts,%20some%20jelly%20donuts,%20and%20some%20apple%20fritters.%20%22The%20%5Bif%20unopenable%5Ddamaged%5Botherwise%5Dgleaming%5Bend%20if%5D%20donut%20case%20%5Bif%20something%20is%20in%20the%20case%5Dcontains%20%5Ba%20list%20of%20things%20in%20the%20case%5D%5Botherwise%5Dhas%20been%20stripped%20of%20its%20contents%5Bend%20if%5D.%22%20The%20cake%20donuts,%20the%20jelly%20donuts,%20and%20the%20apple%20fritters%20are%20edible.%5Cn%5CnThe%20matching%20key%20of%20the%20case%20is%20a%20silver%20key.%20The%20silver%20key%20is%20in%20a%20mesh%20basket.%20The%20mesh%20basket%20is%20closed,%20transparent,%20and%20openable.%20It%20is%20in%20the%20Donut%20Shop.%5Cn%5CnBefore%20someone%20taking%20something%20which%20is%20carried%20by%20the%20player:%5Cn%5Ctif%20the%20person%20asked%20cannot%20touch%20the%20player:%5Cn%5Ct%5Ctsay%20%22Ogg%20looks%20with%20a%20fixed%20frown%20at%20%5Bthe%20noun%5D.%22;%5Cn%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ctsay%20%22%5BThe%20person%20asked%5D%20comes%20up%20and%20shakes%20your%20arm%20until%20you%20drop%20%5Bthe%20noun%5D.%22;%5Cn%5Ctsay%20line%20break;%5Cn%5Ctsilently%20try%20dropping%20the%20noun;%5Cn%5Ctstop%20the%20action.%5Cn%5CnBefore%20someone%20unlocking%20a%20locked%20thing%20with%20something%20which%20is%20not%20carried%20by%20the%20person%20asked:%5Cn%5Cttry%20the%20person%20asked%20taking%20the%20second%20noun;%5Cn%5Ctstop%20the%20action.%5Cn%5CnBefore%20someone%20opening%20a%20locked%20thing%20(called%20the%20sealed%20chest):%5Cn%5Ctif%20the%20person%20asked%20can%20see%20the%20matching%20key%20of%20the%20sealed%20chest:%5Cn%5Ct%5Ctif%20the%20matching%20key%20of%20the%20sealed%20chest%20is%20enclosed%20by%20the%20sealed%20chest:%5Cn%5Ct%5Ct%5Ctsay%20%22Seeing%20the%20paradoxical%20location%20of%20%5Bthe%20matching%20key%20of%20the%20sealed%20chest%5D,%20%5Bthe%20person%20asked%5D%20gives%20a%20howl%20of%20rage.%22;%5Cn%5Ct%5Ct%5Ctincrement%20the%20score;%5Cn%5Ct%5Ct%5Ctend%20the%20story%20finally%20saying%20%22You%20have%20thwarted%20Ogg%22;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Cttry%20the%20person%20asked%20unlocking%20the%20sealed%20chest%20with%20the%20matching%20key%20of%20the%20sealed%20chest;%5Cn%5Ct%5Ctstop%20the%20action.%5Cn%5CnBefore%20someone%20taking%20something%20which%20is%20in%20a%20closed%20container%20(called%20the%20shut%20chest):%5Cn%5Cttry%20the%20person%20asked%20opening%20the%20shut%20chest;%5Cn%5Ctstop%20the%20action.%5Cn%5CnOgg%20has%20a%20number%20called%20hunger.%20The%20hunger%20of%20Ogg%20is%200.%5Cn%5CnEvery%20turn:%5Cn%5Ctincrement%20the%20hunger%20of%20Ogg;%5Cn%5Ctif%20the%20hunger%20of%20Ogg%20is%202%20and%20Ogg%20is%20visible,%20say%20%22Ogg's%20stomach%20growls.%22;%5Cn%5Ctif%20the%20hunger%20of%20Ogg%20is%203%20and%20Ogg%20is%20visible:%5Cn%5Ct%5Ctif%20Ogg%20can%20see%20an%20edible%20thing%20(called%20the%20target):%5Cn%5Ct%5Ct%5Ctsay%20%22Ogg%20eyes%20%5Bthe%20target%5D%20with%20obvious%20intent.%22;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctsay%20%22Ogg%20glances%20at%20you%20in%20a%20disturbingly%20shifty%20way.%22;%5Cn%5Ctif%20the%20hunger%20of%20Ogg%20is%20greater%20than%203:%5Cn%5Ct%5Ctif%20Ogg%20carries%20an%20edible%20thing%20(called%20the%20target):%5Cn%5Ct%5Ct%5Cttry%20Ogg%20eating%20the%20target;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctlet%20new%20target%20be%20a%20random%20edible%20thing%20which%20can%20be%20seen%20by%20Ogg;%5Cn%5Ct%5Ct%5Ctif%20the%20new%20target%20is%20a%20thing:%5Cn%5Ct%5Ct%5Ct%5Cttry%20Ogg%20taking%20the%20new%20target;%5Cn%5Ct%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ct%5Ctif%20Ogg%20can%20touch%20the%20player,%20end%20the%20story%20saying%20%22Ogg%20is%20gnawing%20your%20ankle%22;%5Cn%5Ct%5Ct%5Ct%5Ctotherwise%20try%20Ogg%20taking%20the%20player.%5Cn%5CnThe%20crumbs%20are%20a%20thing.%20%22Crumbs%20of%20%5Bthe%20list%20of%20edible%20things%20which%20cannot%20be%20seen%20by%20the%20player%5D%20lie%20scattered%20over%20the%20whole%20floor.%22%5Cn%5CnInstead%20of%20asking%20Ogg%20to%20try%20doing%20something%20when%20Ogg%20cannot%20touch%20the%20player:%5Cn%5Ctsay%20%22Ogg%20tilts%20his%20head%20and%20shrugs,%20unable%20to%20hear%20your%20instruction%20clearly.%22%5Cn%5CnInstead%20of%20asking%20Ogg%20to%20try%20eating%20something:%5Cn%5Ctsay%20%22It's%20not%20as%20though%20Ogg%20really%20needs%20any%20encouragement%20in%20that%20department,%20is%20it?%22%5Cn%5CnDefinition:%20Ogg%20is%20hungry%20if%20the%20hunger%20of%20Ogg%20is%20greater%20than%202.%5Cn%5CnPersuasion%20rule%20for%20asking%20Ogg%20to%20try%20doing%20something:%20if%20Ogg%20is%20hungry,%20persuasion%20fails;%20persuasion%20succeeds.%5Cn%5CnPersuasion%20rule%20for%20asking%20Ogg%20to%20try%20giving%20something%20edible%20to%20the%20player:%5Cn%5Ctpersuasion%20fails.%5Cn%5CnUnsuccessful%20attempt%20by%20Ogg%20doing%20something:%5Cn%5Ctif%20the%20reason%20the%20action%20failed%20is%20a%20failing%20listed%20in%20the%20Table%20of%20Ogg%20Retorts:%5Cn%5Ct%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Ogg%20looks%20adorably%20confused.%22%5Cn%5CnTable%20of%20Ogg%20Retorts%5Cnfailing%5Ctreply%5Cncan't%20take%20people's%20possessions%20rule%5Ct%22'Ogg%20too%20polite.'%22%5Cncan't%20take%20other%20people%20rule%5Ct%22'Ogg%20not%20that%20greedy.'%22%5Cncan't%20take%20scenery%20rule%5Ct%22'%5BThe%20noun%5D%20very%20very%20heavy.'%22%5Cncan't%20take%20what's%20fixed%20in%20place%20rule%5Ct%22'%5BThe%20noun%5D%20very%20heavy.%22%5Cncan't%20drop%20what's%20not%20held%20rule%5Ct%22'Hunh?'%22%5Cn%5CnCarry%20out%20Ogg%20eating%20an%20edible%20thing:%5Cn%5Ctmove%20the%20crumbs%20to%20the%20holder%20of%20Ogg;%5Cn%5Ctnow%20the%20hunger%20of%20Ogg%20is%200.%5Cn%5CnReport%20Ogg%20unlocking%20something%20with%20something:%5Cn%5Ctsay%20%22Ogg%20struggles%20a%20bit%20with%20%5Bthe%20second%20noun%5D%20in%20the%20lock%20of%20%5Bthe%20noun%5D,%20but%20does%20eventually%20succeed.%20'Hunh!'%20says%20Ogg.%22;%5Cn%5Ctstop%20the%20action.%5Cn%5CnCarry%20out%20Ogg%20opening%20the%20case%20when%20the%20case%20has%20been%20open:%5Cn%5Ctnow%20the%20case%20is%20unopenable.%5Cn%5CnInstead%20of%20closing%20the%20unopenable%20case:%5Cn%5Ctsay%20%22The%20glass%20panels%20are%20no%20longer%20properly%20seated%20in%20their%20tracks,%20and%20the%20case%20cannot%20be%20closed%20ever%20again.%22%5Cn%5CnReport%20Ogg%20opening%20the%20unopenable%20case:%5Cn%5Ctsay%20%22Ogg%20forces%20%5Bthe%20case%5D%20so%20hard%20that%20it%20does%20break.%22;%5Cn%5Ctstop%20the%20action.%5Cn%5CnReport%20Ogg%20opening%20the%20case:%5Cn%5Ctsay%20%22Ogg%20yanks%20%5Bthe%20noun%5D%20open%20with%20such%20force%20that%20you%20fear%20for%20its%20structural%20integrity.%22;%5Cn%5Ctstop%20the%20action.%5Cn%5CnReport%20Ogg%20taking%20something%20edible:%5Cn%5Ctsay%20%22Ogg%20acquires%20%5Bthe%20noun%5D%20with%20a%20look%20of%20tender%20affection.%22;%5Cn%5Ctstop%20the%20action.%5Cn%5CnReport%20Ogg%20eating%20something:%5Cn%5Ctsay%20%22Ogg%20chows%20down%20on%20%5Bthe%20noun%5D,%20scattering%20crumbs%20in%20all%20directions.%22;%5Cn%5Ctstop%20the%20action.%5Cn%5CnReport%20Ogg%20eating%20something%20when%20the%20number%20of%20visible%20edible%20things%20is%201:%5Cn%5Ctsay%20%22Ogg%20eats%20%5Bthe%20noun%5D%20in%20his%20trademark%20style.%20You%20can%20no%20longer%20bear%20to%20watch.%22;%5Cn%5Ctstop%20the%20action.%5Cn%5CnAfter%20entering%20the%20case:%5Cn%5Ctsay%20%22You%20climb%20inside%20the%20case,%20folding%20yourself%20up%20uncomfortably.%22%5Cn%5CnAfter%20locking%20the%20case%20with%20something%20when%20the%20player%20is%20in%20the%20case:%5Cn%5Ctsay%20%22You%20turn%20the%20key%20firmly%20in%20the%20lock%20--%20amazing%20it%20locks%20from%20within,%20but%20it%20does%20--%20and%20settle%20yourself%20for%20a%20long%20wait,%20hoping%20this%20thing%20is%20not%20air-tight.%22%5Cn%5CnThe%20maximum%20score%20is%201.%5Cn%5CnTest%20me%20with%20%22open%20mesh%20/%20get%20key%20/%20unlock%20case%20/%20open%20case%20/%20enter%20case%20/%20close%20case%20/%20lock%20case%20/%20wait%20/%20wait%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Boston Cream"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
The Donut Shop is a room. "Vibrantly decorated in donut colors: pink, brown, and cream."
</p>
<p class="quoted">
Ogg is a man in the Donut Shop. "Ogg is slumped in the corner[if Ogg carries something] with [a list of things carried by Ogg][end if]. He wears a nametag which says 'HELLO MY NAME IS OG.'" Understand "og" as Ogg. Ogg wears a nametag. The description of the nametag is "Very neatly written."
</p>
<p class="quoted">
The Donut Shop contains a transparent closed openable locked lockable enterable container called a case. The case is fixed in place. The case contains some cake donuts, some jelly donuts, and some apple fritters. "The [if unopenable]damaged[otherwise]gleaming[end if] donut case [if something is in the case]contains [a list of things in the case][otherwise]has been stripped of its contents[end if]." The cake donuts, the jelly donuts, and the apple fritters are edible.
</p>
<p class="quoted">
The matching key of the case is a silver key. The silver key is in a mesh basket. The mesh basket is closed, transparent, and openable. It is in the Donut Shop.
</p>
<p class="quoted">
Before someone taking something which is carried by the player:
<br>    if the person asked cannot touch the player:
<br>        say "Ogg looks with a fixed frown at [the noun].";
<br>        continue the action;
<br>    say "[The person asked] comes up and shakes your arm until you drop [the noun].";
<br>    say line break;
<br>    silently try dropping the noun;
<br>    stop the action.
</p>
<p class="quoted">
Before someone unlocking a locked thing with something which is not carried by the person asked:
<br>    try the person asked taking the second noun;
<br>    stop the action.
</p>
<p class="quoted">
Before someone opening a locked thing (called the sealed chest):
<br>    if the person asked can see the matching key of the sealed chest:
<br>        if the matching key of the sealed chest is enclosed by the sealed chest:
<br>            say "Seeing the paradoxical location of [the matching key of the sealed chest], [the person asked] gives a howl of rage.";
<br>            increment the score;
<br>            end the story finally saying "You have thwarted Ogg";
<br>        otherwise:
<br>            try the person asked unlocking the sealed chest with the matching key of the sealed chest;
<br>        stop the action.
</p>
<p class="quoted">
Before someone taking something which is in a closed container (called the shut chest):
<br>    try the person asked opening the shut chest;
<br>    stop the action.
</p>
<p class="quoted">
Ogg has a number called hunger. The hunger of Ogg is 0.
</p>
<p class="quoted">
Every turn:
<br>    increment the hunger of Ogg;
<br>    if the hunger of Ogg is 2 and Ogg is visible, say "Ogg's stomach growls.";
<br>    if the hunger of Ogg is 3 and Ogg is visible:
<br>        if Ogg can see an edible thing (called the target):
<br>            say "Ogg eyes [the target] with obvious intent.";
<br>        otherwise:
<br>            say "Ogg glances at you in a disturbingly shifty way.";
<br>    if the hunger of Ogg is greater than 3:
<br>        if Ogg carries an edible thing (called the target):
<br>            try Ogg eating the target;
<br>        otherwise:
<br>            let new target be a random edible thing which can be seen by Ogg;
<br>            if the new target is a thing:
<br>                try Ogg taking the new target;
<br>            otherwise:
<br>                if Ogg can touch the player, end the story saying "Ogg is gnawing your ankle";
<br>                otherwise try Ogg taking the player.
</p>
<p class="quoted">
The crumbs are a thing. "Crumbs of [the list of edible things which cannot be seen by the player] lie scattered over the whole floor."
</p>
<p class="quoted">
Instead of asking Ogg to try doing something when Ogg cannot touch the player:
<br>    say "Ogg tilts his head and shrugs, unable to hear your instruction clearly."
</p>
<p class="quoted">
Instead of asking Ogg to try eating something:
<br>    say "It's not as though Ogg really needs any encouragement in that department, is it?"
</p>
<p class="quoted">
Definition: Ogg is hungry if the hunger of Ogg is greater than 2.
</p>
<p class="quoted">
Persuasion rule for asking Ogg to try doing something: if Ogg is hungry, persuasion fails; persuasion succeeds.
</p>
<p class="quoted">
Persuasion rule for asking Ogg to try giving something edible to the player:
<br>    persuasion fails.
</p>
<p class="quoted">
Unsuccessful attempt by Ogg doing something:
<br>    if the reason the action failed is a failing listed in the Table of Ogg Retorts:
<br>        say "[reply entry][paragraph break]";
<br>    otherwise:
<br>        say "Ogg looks adorably confused."
</p>
<p class="quoted">
Table of Ogg Retorts
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">failing</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take people's possessions rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'Ogg too polite.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take other people rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'Ogg not that greedy.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take scenery rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'[The noun] very very heavy.'"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't take what's fixed in place rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'[The noun] very heavy."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">can't drop what's not held rule</p></td>
<td class="quotedtablecell"><p class="quoted">"'Hunh?'"</p></td>
</tr>
</table>
<p class="quoted">
Carry out Ogg eating an edible thing:
<br>    move the crumbs to the holder of Ogg;
<br>    now the hunger of Ogg is 0.
</p>
<p class="quoted">
Report Ogg unlocking something with something:
<br>    say "Ogg struggles a bit with [the second noun] in the lock of [the noun], but does eventually succeed. 'Hunh!' says Ogg.";
<br>    stop the action.
</p>
<p class="quoted">
Carry out Ogg opening the case when the case has been open:
<br>    now the case is unopenable.
</p>
<p class="quoted">
Instead of closing the unopenable case:
<br>    say "The glass panels are no longer properly seated in their tracks, and the case cannot be closed ever again."
</p>
<p class="quoted">
Report Ogg opening the unopenable case:
<br>    say "Ogg forces [the case] so hard that it does break.";
<br>    stop the action.
</p>
<p class="quoted">
Report Ogg opening the case:
<br>    say "Ogg yanks [the noun] open with such force that you fear for its structural integrity.";
<br>    stop the action.
</p>
<p class="quoted">
Report Ogg taking something edible:
<br>    say "Ogg acquires [the noun] with a look of tender affection.";
<br>    stop the action.
</p>
<p class="quoted">
Report Ogg eating something:
<br>    say "Ogg chows down on [the noun], scattering crumbs in all directions.";
<br>    stop the action.
</p>
<p class="quoted">
Report Ogg eating something when the number of visible edible things is 1:
<br>    say "Ogg eats [the noun] in his trademark style. You can no longer bear to watch.";
<br>    stop the action.
</p>
<p class="quoted">
After entering the case:
<br>    say "You climb inside the case, folding yourself up uncomfortably."
</p>
<p class="quoted">
After locking the case with something when the player is in the case:
<br>    say "You turn the key firmly in the lock -- amazing it locks from within, but it does -- and settle yourself for a long wait, hoping this thing is not air-tight."
</p>
<p class="quoted">
The maximum score is 1.
</p>
<p class="quoted">
Test me with "open mesh / get key / unlock case / open case / enter case / close case / lock case / wait / wait".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.6">WI §12.6. Spontaneous actions by other people</a><br><a href="rb_7.html#rb-7.15">RB §7.15. Goal-Seeking Characters</a>
</div></details>
</div></section>
<section class="section" id="rb-7.16"><div>





<h3>RB §7.16. Social Groups</h3>
<p>Crowds of characters introduce new challenges, because we often want to show them interacting with one another, or to describe individuals in less detail when a whole group is present.</p>
<p><a href="rb_7.html#example-176" class="example-link" onClick="(function() { document.getElementById('example-176').setAttribute('open','open'); return true; })();">Strictly Ballroom</a><span class="example-difficulty"> ★★</span> gives us a set of characters who pair off each turn, making sure to mention each one once, and leaving one unfortunate person behind as a wallflower: this exemplifies how we might use a behavioral rule not to dictate the behavior of each individual separately but rather to model a whole group together. <a href="rb_7.html#example-356" class="example-link" onClick="(function() { document.getElementById('example-356').setAttribute('open','open'); return true; })();">Happy Hour</a><span class="example-difficulty"> ★★</span> does calculate movements for characters individually, but then collates the descriptions, creating a single paragraph to describe whatever group is currently in the room.</p>
<p>Characters can also have complicated attitudes to one another, and it can be helpful to use relations to track these. <a href="rb_7.html#example-229" class="example-link" onClick="(function() { document.getElementById('example-229').setAttribute('open','open'); return true; })();">Unthinkable Alliances</a><span class="example-difficulty"> ★</span> demonstrates the grouping of characters into alliance factions, while <a href="rb_7.html#example-232" class="example-link" onClick="(function() { document.getElementById('example-232').setAttribute('open','open'); return true; })();">The Abolition of Love</a><span class="example-difficulty"> ★</span> provides a host of relations to track love affairs, marriages, memberships in families, and mere mutual respect.</p>
<p><a href="rb_7.html#example-353" class="example-link" onClick="(function() { document.getElementById('example-353').setAttribute('open','open'); return true; })();">Emma</a><span class="example-difficulty"> ★★</span> combines these two effects: its characters move between social groups depending on how they feel about the others in their particular talking circle, and descriptions change depending on who is where in the room.</p>
<p><a href="rb_7.html#example-433" class="example-link" onClick="(function() { document.getElementById('example-433').setAttribute('open','open'); return true; })();">Lugubrious Pete's Delicatessen</a><span class="example-difficulty"> ★</span> simulates a queue at a deli, in which the customers who most impress Pete get served first.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_7.html#rb-7.13" class="crossreference_link">Traveling Characters</a> for groups of characters who move around and have their movements collated into a joint description</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-229"><summary><span class="example-summary">229. Unthinkable Alliances</span> <span class="example-difficulty">★</span></summary><div>
<p>The following is best tested by experimentally kissing and/or attacking, and typing RELATIONS after every change to see the effect.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Unthinkable%20Alliances%22%5Cn%5CnUnthinkable%20Solutions%20is%20a%20room.%20Sophie,%20Daisy,%20Ryan%20and%20Owen%20are%20in%20Unthinkable%20Solutions.%5Cn%5CnAlliance%20relates%20people%20to%20each%20other%20in%20groups.%20The%20verb%20to%20help%20means%20the%20alliance%20relation.%5Cn%5CnSophie%20helps%20Ryan.%20Daisy%20helps%20Ryan.%20Owen%20helps%20the%20player.%5Cn%5CnInstead%20of%20kissing%20someone%20(called%20the%20blessed%20one):%5Cn%5Ctsay%20%22Smack!%22;%5Cn%5Ctnow%20the%20player%20helps%20the%20blessed%20one.%5Cn%5CnInstead%20of%20attacking%20someone%20(called%20the%20vilified%20one):%5Cn%5Ctsay%20%22Smack!%22;%5Cn%5Ctnow%20the%20player%20does%20not%20help%20the%20vilified%20one.%5Cn%5CnTest%20me%20with%20%22relations%20/%20kiss%20sophie%20/%20relations%20/%20hit%20ryan%20/%20relations%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Unthinkable Alliances"
</p>
<p class="quoted">
Unthinkable Solutions is a room. Sophie, Daisy, Ryan and Owen are in Unthinkable Solutions.
</p>
<p class="quoted">
Alliance relates people to each other in groups. The verb to help means the alliance relation.
</p>
<p class="quoted">
Sophie helps Ryan. Daisy helps Ryan. Owen helps the player.
</p>
<p class="quoted">
Instead of kissing someone (called the blessed one):
<br>    say "Smack!";
<br>    now the player helps the blessed one.
</p>
<p class="quoted">
Instead of attacking someone (called the vilified one):
<br>    say "Smack!";
<br>    now the player does not help the vilified one.
</p>
<p class="quoted">
Test me with "relations / kiss sophie / relations / hit ryan / relations".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.9">WI §13.9. Defining new assertion verbs</a><br><a href="rb_7.html#rb-7.16">RB §7.16. Social Groups</a>
</div></details><details class="full-example" id="example-232"><summary><span class="example-summary">232. The Abolition of Love</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we are modeling a complex society seething with interpersonal relations of every kind.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Abolition%20of%20Love%22%5Cn%5CnSection%201%20-%20Relation%20types%5Cn%5CnLoving%20relates%20one%20person%20to%20one%20person.%5Cn%5CnNoticing%20relates%20various%20people%20to%20one%20person.%5Cn%5CnImpressing%20relates%20one%20person%20to%20various%20people.%5Cn%5CnFancying%20relates%20various%20people%20to%20various%20people.%5Cn%5CnAcquaintance%20relates%20people%20to%20each%20other.%5Cn%5CnMarriage%20relates%20one%20person%20to%20another.%5Cn%5CnAlliance%20relates%20people%20to%20each%20other%20in%20groups.%5Cn%5CnThe%20Chapel%20is%20a%20room.%20Elizabeth,%20Wickham%20and%20Darcy%20are%20people%20in%20the%20Chapel.%20Mr%20Bennett%20and%20Mrs%20Bennett%20are%20people%20in%20the%20Chapel.%20Georgiana%20is%20a%20person%20in%20the%20Chapel.%5Cn%5CnThe%20verb%20to%20love%20means%20the%20loving%20relation.%5Cn%5CnThe%20verb%20to%20notice%20means%20the%20noticing%20relation.%5Cn%5CnThe%20verb%20to%20impress%20means%20the%20impressing%20relation.%5Cn%5CnThe%20verb%20to%20fancy%20means%20the%20fancying%20relation.%5Cn%5CnThe%20verb%20to%20know%20means%20the%20acquaintance%20relation.%5Cn%5CnThe%20verb%20to%20be%20married%20to%20means%20the%20marriage%20relation.%5Cn%5CnThe%20verb%20to%20be%20related%20to%20means%20the%20alliance%20relation.%5Cn%5CnElizabeth%20loves%20Darcy.%20Elizabeth%20fancies%20Darcy.%20Elizabeth%20notices%20Darcy.%20Elizabeth%20impresses%20Darcy.%5Cn%5CnMr%20Bennett%20is%20related%20to%20Mrs%20Bennett%20and%20Elizabeth.%20Mr%20Bennett%20is%20married%20to%20Mrs%20Bennett.%5Cn%5CnGeorgiana%20is%20related%20to%20Darcy.%5Cn%5Cn%5BNow%20we%20want%20ways%20to%20set%20and%20unset%20all%20of%20these%20relations.%20(In%20the%20interests%20of%20thoroughness,%20we%20may%20get%20a%20bit%20far-fetched%20here.%20It%20is%20not%20recommended%20in%20practice%20that%20we%20make%20the%20player%20guess%20the%20verb%20%22traduce%22.)%5D%5Cn%5CnSection%202%20-%20Setting%20and%20Unsetting%20Love%20(1-1)%5Cn%5CnUnderstand%20%22infatuate%20%5Bsomeone%5D%20with%20%5Bsomeone%5D%22%20as%20infatuating%20it%20with.%20Infatuating%20it%20with%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20infatuating%20it%20with:%5Cn%5Ctnow%20the%20noun%20loves%20the%20second%20noun.%5Cn%5CnReport%20infatuating%20it%20with:%5Cn%5Ctsay%20%22Now%20%5Bthe%20noun%5D%20loves%20%5Ba%20random%20person%20loved%20by%20the%20noun%5D%5Bif%20the%20second%20noun%20loves%20someone%5D,%20while%20%5Bthe%20second%20noun%5D%20loves%20%5Ba%20random%20person%20loved%20by%20the%20second%20noun%5D%5Bend%20if%5D.%22%5Cn%5CnUnderstand%20%22embitter%20%5Bsomeone%5D%20toward%20%5Bsomeone%5D%22%20as%20embittering%20it%20toward.%20Embittering%20it%20toward%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20embittering%20it%20toward:%5Cn%5Ctnow%20the%20noun%20does%20not%20love%20the%20second%20noun.%5Cn%5CnReport%20embittering%20it%20toward:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20sees%20%5Bthe%20second%20noun%5D%20in%20a%20different%20light%20and%20no%20longer%20feels%20any%20affection.%22%5Cn%5Cn%5BBecause%20love%20is%20a%201-1%20relation,%20a%20person%20cannot%20love%20more%20than%20one%20other%20character%20at%20a%20time.%20Whenever%20we%20set%20a%20character%20to%20love%20a%20new%20person,%20that%20person%20ceases%20to%20love%20the%20character%20loved%20before.%20It%20is%20a%20fickle%20world.%5D%5Cn%5Cn%5BOne%20to%20various%20relations%20are%20a%20bit%20more%20open:%20we%20can%20say%20someone%20impresses%20multiple%20other%20characters,%20and%20our%20additions%20to%20the%20list%20do%20not%20override%20the%20initial%20ones.%5D%5Cn%5CnSection%203%20-%20Setting%20and%20Unsetting%20Impressed%20(1-V)%5Cn%5CnUnderstand%20%22commend%20%5Bsomeone%5D%20to%20%5Bsomeone%5D%22%20as%20commending%20it%20to.%20Commending%20it%20to%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20commending%20it%20to:%5Cn%5Ctnow%20the%20noun%20impresses%20the%20second%20noun.%5Cn%5CnReport%20commending%20it%20to:%5Cn%5Ctsay%20%22%5BThe%20second%20noun%5D%20takes%20a%20very%20decided%20interest%20in%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5CnUnderstand%20%22traduce%20%5Bsomeone%5D%20to%20%5Bsomeone%5D%22%20as%20traducing%20it%20to.%20Traducing%20it%20to%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20traducing%20it%20to:%5Cn%5Ctnow%20the%20noun%20does%20not%20impress%20the%20second%20noun.%5Cn%5CnReport%20traducing%20it%20to:%5Cn%5Ctsay%20%22%5BThe%20second%20noun%5D,%20hearing%20your%20story,%20decides%20not%20to%20be%20at%20all%20impressed%20with%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5BAnd%20because%20this%20is%20a%20one-to-various%20relation,%20we%20can%20also%20make%20statements%20which%20set%20multiple%20relations%20at%20once,%20so:%5D%5Cn%5CnUnderstand%20%22celebrate%20%5Bsomeone%5D%22%20as%20celebrating.%20Celebrating%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20celebrating:%5Cn%5Ctnow%20the%20noun%20impresses%20every%20person.%5Cn%5CnReport%20celebrating:%5Cn%5Ctsay%20%22%5BThe%20list%20of%20people%20who%20are%20impressed%20by%20the%20noun%5D%20take%20a%20very%20decided%20interest%20in%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5CnUnderstand%20%22slander%20%5Bsomeone%5D%22%20as%20slandering%20to.%20Slandering%20to%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20slandering%20to:%5Cn%5Ctnow%20every%20person%20is%20not%20impressed%20by%20the%20noun.%5Cn%5CnReport%20slandering%20to:%5Cn%5Ctsay%20%22Now%20%5Bthe%20noun%5D%20impresses%20%5Bthe%20list%20of%20people%20who%20are%20impressed%20by%20the%20noun%5D.%22%5Cn%5Cn%5BNote%20that%20the%20above%20unsetting%20is%20not%20equivalent%20to%20%22now%20the%20noun%20does%20not%20impress%20every%20person%22%20--%20which%20would%20be%20ambiguous%20in%20spoken%20English,%20as%20well.%20Various-to-one%20relations%20are%20similar:%5D%5Cn%5CnSection%204%20-%20Setting%20and%20Unsetting%20Noticing%20(V-1)%5Cn%5CnUnderstand%20%22draw%20the%20attention%20of%20%5Bsomeone%5D%20to%20%5Bsomeone%5D%22%20as%20drawing%20the%20attention%20of%20it%20to.%20Drawing%20the%20attention%20of%20it%20to%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20drawing%20the%20attention%20of%20it%20to:%5Cn%5Ctnow%20the%20noun%20notices%20the%20second%20noun.%5Cn%5CnReport%20drawing%20the%20attention%20of%20it%20to:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20glances%20thoughtfully%20in%20the%20direction%20of%20%5Bthe%20second%20noun%5D.%22%5Cn%5CnUnderstand%20%22distract%20%5Bsomeone%5D%20from%20%5Bsomeone%5D%22%20as%20distracting%20it%20from.%20Distracting%20it%20from%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20distracting%20it%20from:%5Cn%5Ctnow%20the%20noun%20does%20not%20notice%20the%20second%20noun.%5Cn%5CnReport%20distracting%20it%20from:%5Cn%5Ctsay%20%22You%20distract%20%5Bthe%20noun%5D%20from%20%5Bthe%20second%20noun%5D.%22%5Cn%5Cn%5CnUnderstand%20%22draw%20attention%20to%20%5Bsomeone%5D%22%20as%20drawing%20attention%20to.%20Drawing%20attention%20to%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20drawing%20attention%20to:%5Cn%5Ctnow%20every%20person%20notices%20the%20noun.%5Cn%5CnReport%20drawing%20attention%20to:%5Cn%5Ctsay%20%22You%20quickly%20cause%20everyone%20to%20attend%20to%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5CnUnderstand%20%22outshine%20%5Bsomeone%5D%22%20as%20outshining.%20Outshining%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20outshining:%5Cn%5Ctnow%20every%20person%20does%20not%20notice%20the%20noun.%5Cn%5CnReport%20outshining:%5Cn%5Ctsay%20%22You%20quickly%20distract%20everyone%20from%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5CnSection%205%20-%20Setting%20and%20Unsetting%20Fancying%20(V-V)%5Cn%5CnUnderstand%20%22flatter%20%5Bsomeone%5D%22%20as%20flattering.%20Flattering%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCarry%20out%20flattering:%5Cn%5Ctnow%20every%20person%20fancies%20the%20noun.%5Cn%5CnReport%20flattering:%5Cn%5Ctsay%20%22You%20draw%20down%20universal%20admiration%20for%20%5Bthe%20noun%5D%20by%20casting%20him%20or%20her%20in%20a%20flattering%20light.%22%5Cn%5Cn%5CnUnderstand%20%22unflatter%20%5Bsomeone%5D%22%20as%20unflattering.%20%5BOkay,%20okay,%20but%20it's%20four%20am.%5D%20Unflattering%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCarry%20out%20unflattering:%5Cn%5Ctnow%20every%20person%20does%20not%20fancy%20the%20noun.%5Cn%5CnReport%20unflattering:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20gives%20everyone%20a%20universal%20disgust.%22%5Cn%5Cn%5CnUnderstand%20%22admire%20%5Bsomeone%5D%22%20as%20admiring.%20Admiring%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCarry%20out%20admiring:%20now%20the%20player%20fancies%20the%20noun.%5Cn%5CnReport%20admiring:%20say%20%22You%20find%20you%20rather%20fancy%20%5Bthe%20noun%5D.%22%5Cn%5CnUnderstand%20%22loathe%20%5Bsomeone%5D%22%20as%20loathing.%20Loathing%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCarry%20out%20loathing:%20now%20the%20player%20does%20not%20fancy%20the%20noun.%5Cn%5CnReport%20loathing:%20say%20%22You%20take%20%5Bthe%20noun%5D%20in%20disgust.%22%5Cn%5CnUnderstand%20%22cause%20chaos%22%20as%20causing%20chaos.%20Causing%20chaos%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCarry%20out%20causing%20chaos:%5Cn%5Ctnow%20every%20person%20fancies%20every%20person.%5Cn%5CnReport%20causing%20chaos:%20say%20%22Now%20everyone%20fancies%20everyone%20else,%20which%20is%20quite%20an%20inconvenient%20state%20of%20affairs.%22%5Cn%5CnUnderstand%20%22relieve%20chaos%22%20as%20relieving%20chaos.%20Relieving%20chaos%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCarry%20out%20relieving%20chaos:%5Cn%5Ctnow%20every%20person%20is%20fancied%20by%20no%20one.%5Cn%5CnReport%20relieving%20chaos:%20say%20%22Now%20no%20one%20fancies%20anyone,%20which%20is%20safe%20but%20tedious.%22%5Cn%5Cn%5BOur%20options%20for%20setting%20and%20unsetting%20symmetrical%20relations%20are%20more%20limited%20again:%5D%5Cn%5CnSection%206%20-%20Setting%20and%20Unsetting%20Marriage%20(1-1%20Symmetrical)%5Cn%5CnUnderstand%20%22marry%20%5Bsomeone%5D%20to%20%5Bsomeone%5D%22%20as%20uniting%20it%20in%20matrimony%20with.%20Uniting%20it%20in%20matrimony%20with%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20uniting%20it%20in%20matrimony%20with:%5Cn%5Ctnow%20the%20noun%20is%20married%20to%20the%20second%20noun.%5Cn%5CnReport%20uniting%20it%20in%20matrimony%20with:%5Cn%5Ctsay%20%22You%20perform%20the%20marriage%20of%20%5Bthe%20noun%5D%20to%20%5Bthe%20second%20noun%5D,%20joining%20them%20to%20the%20family%20of%20%5Ba%20list%20of%20people%20related%20to%20the%20noun%5D.%22%5Cn%5CnUnderstand%20%22divorce%20%5Bsomeone%5D%20from%20%5Bsomeone%5D%22%20as%20divorcing%20it%20from.%20Divorcing%20it%20from%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCheck%20divorcing%20it%20from:%5Cn%5Ctif%20the%20noun%20is%20not%20married%20to%20the%20second%20noun,%20say%20%22%5BThe%20noun%5D%20is%20not%20married%20to%20%5Bthe%20second%20noun%5D%20anyway.%22%20instead.%5Cn%5CnCarry%20out%20divorcing%20it%20from:%5Cn%5Ctnow%20the%20noun%20is%20not%20married%20to%20the%20second%20noun.%5Cn%5CnReport%20divorcing%20it%20from:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20is%20now%20not%20married%20to%20%5Bthe%20second%20noun%5D.%22%5Cn%5Cn%5BWhen%20we%20unset%20the%20symmetrical%20relation%20on%20one%20side,%20it%20is%20automatically%20set%20or%20unset%20on%20the%20other.%20It%20is%20not%20necessary%20to%20say%20%22the%20second%20noun%20is%20married%20to%20the%20noun%22%20or%20%22the%20second%20noun%20is%20not%20married%20to%20the%20noun%22,%20even%20though%20that%20is%20the%20case.%5D%5Cn%5CnSection%207%20-%20Setting%20and%20Unsetting%20Acquaintance%20(V-V%20Symmetrical)%5Cn%5CnUnderstand%20%22introduce%20%5Bsomeone%5D%20to%20%5Bsomeone%5D%22%20as%20introducing%20it%20to.%20Introducing%20it%20to%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20introducing%20it%20to:%5Cn%5Ctnow%20the%20noun%20knows%20the%20second%20noun.%5Cn%5CnReport%20introducing%20it%20to:%5Cn%5Ctsay%20%22You%20introduce%20%5Bthe%20noun%5D%20to%20%5Bthe%20second%20noun%5D.%20Now%20%5Bthe%20noun%5D%20is%20acquainted%20with%20%5Bthe%20list%20of%20people%20who%20are%20known%20by%20the%20noun%5D,%20and%20%5Bthe%20second%20noun%5D%20is%20acquainted%20with%20%5Bthe%20list%20of%20people%20who%20are%20known%20by%20the%20second%20noun%5D.%22%5Cn%5Cn%5CnUnderstand%20%22announce%20%5Bsomeone%5D%22%20as%20announcing.%20Announcing%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20announcing:%5Cn%5Ctnow%20every%20person%20knows%20the%20noun.%5Cn%5CnReport%20announcing:%5Cn%5Ctsay%20%22You%20announce%20%5Bthe%20noun%5D%20to%20the%20whole%20assembled%20company.%22%5Cn%5Cn%5CnUnderstand%20%22ostracise%20%5Bsomeone%5D%22%20as%20ostracising.%20Ostracising%20is%20an%20action%20applying%20to%20one%20visible%20thing.%5Cn%5CnCarry%20out%20ostracising:%5Cn%5Ctnow%20every%20person%20does%20not%20know%20the%20noun.%5Cn%5CnReport%20ostracising:%5Cn%5Ctsay%20%22You%20cause%20everyone%20present%20to%20forget%20and%20pretend%20not%20to%20be%20acquainted%20at%20all%20with%20%5Bthe%20noun%5D.%22%5Cn%5Cn%5BAnd%20finally,%20setting%20groups:%5D%5Cn%5CnSection%208%20-%20Setting%20and%20Unsetting%20Familial%20Relations%20(Groups)%5Cn%5CnUnderstand%20%22make%20%5Bsomeone%5D%20adopt%20%5Bsomeone%5D%22%20as%20forcing%20it%20to%20adopt.%20Forcing%20it%20to%20adopt%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20forcing%20it%20to%20adopt:%5Cn%5Ctnow%20the%20noun%20is%20related%20to%20the%20second%20noun.%5Cn%5CnReport%20forcing%20it%20to%20adopt:%5Cn%5Ctsay%20%22Now%20%5Bthe%20second%20noun%5D%20is%20related%20to%20%5Bthe%20list%20of%20people%20related%20to%20the%20second%20noun%5D.%22%5Cn%5CnUnderstand%20%22make%20%5Bsomeone%5D%20disown%20%5Bsomeone%5D%22%20as%20forcing%20it%20to%20disown.%20Forcing%20it%20to%20disown%20is%20an%20action%20applying%20to%20two%20visible%20things.%5Cn%5CnCarry%20out%20forcing%20it%20to%20disown:%5Cn%5Ctnow%20the%20second%20noun%20is%20not%20related%20to%20the%20noun.%5Cn%5CnReport%20forcing%20it%20to%20disown:%5Cn%5Ctsay%20%22Now%20%5Bthe%20second%20noun%5D%20is%20related%20to%20%5Bthe%20list%20of%20people%20who%20are%20related%20to%20the%20second%20noun%5D,%20and%20%5Bthe%20noun%5D%20is%20related%20to%20%5Bthe%20list%20of%20people%20who%20are%20related%20to%20the%20noun%5D.%22%5Cn%5Cn%5BNotice%20that%20when%20we%20say%20%22the%20second%20noun%20is%20not%20related%22,%20we%20remove%20that%20person%20from%20the%20group:%20they%20are%20now%20in%20a%20separate%20group%20of%20their%20own,%20while%20the%20rest%20of%20the%20group's%20members%20remain%20related%20to%20one%20another.%5D%5Cn%5Cn%5BAnd%20finally,%20a%20long%20litany%20of%20test%20cases,%20complete%20with%20the%20relations%20lists:%5D%5Cn%5CnTest%20acquaintance%20with%20%22relations%20/%20introduce%20darcy%20to%20elizabeth%20/%20introduce%20darcy%20to%20wickham%20/%20announce%20mr%20bennett%20/%20relations%20/%20ostracise%20wickham%20/%20introduce%20georgiana%20to%20wickham%20/%20relations%22.%5Cn%5CnTest%20impression%20with%20%22commend%20georgiana%20to%20elizabeth%20/%20relations%20/%20celebrate%20Mrs%20bennett%20/%20relations%20/%20traduce%20mrs%20bennett%20to%20darcy%20/%20relations%20/%20slander%20mrs%20bennett%20/%20relations%22.%5Cn%5CnTest%20notice%20with%20%22draw%20the%20attention%20of%20darcy%20to%20elizabeth%20/%20relations%20/%20draw%20attention%20to%20mr%20bennett%20/%20relations%20/%20distract%20darcy%20from%20mr%20bennett%20/%20relations%20/%20outshine%20mr%20bennett%20/%20relations%22.%5Cn%5CnTest%20love%20with%20%22embitter%20elizabeth%20toward%20darcy%20/%20relations%20/%20infatuate%20elizabeth%20with%20wickham%20/%20relations%22.%5Cn%5CnTest%20marriage%20with%20%22marry%20elizabeth%20to%20darcy%20/%20relations%20/%20divorce%20elizabeth%20from%20darcy%20/%20relations%22.%5Cn%5CnTest%20alliance%20with%20%22make%20mr%20bennett%20adopt%20georgiana%20/%20relations%20/%20make%20mrs%20bennett%20disown%20georgiana%20/%20relations%22.%5Cn%5CnTest%20fancying%20with%20%22admire%20elizabeth%20/%20relations%20/%20loathe%20elizabeth%20/%20relations%20/%20flatter%20elizabeth%20/%20relations%20/%20unflatter%20elizabeth%20/%20relations%20/%20cause%20chaos%20/%20relations%20/%20relieve%20chaos%20/%20relations%22.%5Cn%5CnTest%20me%20with%20%22test%20acquaintance%20/%20test%20impression%20/%20test%20notice%20/%20test%20love%20/%20test%20alliance%20/%20test%20fancying%20/%20test%20marriage%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Abolition of Love"
</p>
<p class="quoted">
Section 1 - Relation types
</p>
<p class="quoted">
Loving relates one person to one person.
</p>
<p class="quoted">
Noticing relates various people to one person.
</p>
<p class="quoted">
Impressing relates one person to various people.
</p>
<p class="quoted">
Fancying relates various people to various people.
</p>
<p class="quoted">
Acquaintance relates people to each other.
</p>
<p class="quoted">
Marriage relates one person to another.
</p>
<p class="quoted">
Alliance relates people to each other in groups.
</p>
<p class="quoted">
The Chapel is a room. Elizabeth, Wickham and Darcy are people in the Chapel. Mr Bennett and Mrs Bennett are people in the Chapel. Georgiana is a person in the Chapel.
</p>
<p class="quoted">
The verb to love means the loving relation.
</p>
<p class="quoted">
The verb to notice means the noticing relation.
</p>
<p class="quoted">
The verb to impress means the impressing relation.
</p>
<p class="quoted">
The verb to fancy means the fancying relation.
</p>
<p class="quoted">
The verb to know means the acquaintance relation.
</p>
<p class="quoted">
The verb to be married to means the marriage relation.
</p>
<p class="quoted">
The verb to be related to means the alliance relation.
</p>
<p class="quoted">
Elizabeth loves Darcy. Elizabeth fancies Darcy. Elizabeth notices Darcy. Elizabeth impresses Darcy.
</p>
<p class="quoted">
Mr Bennett is related to Mrs Bennett and Elizabeth. Mr Bennett is married to Mrs Bennett.
</p>
<p class="quoted">
Georgiana is related to Darcy.
</p>
</div>
<p>Now we want ways to set and unset all of these relations. (In the interests of thoroughness, we may get a bit far-fetched here. It is not recommended in practice that we make the player guess the verb "traduce".)</p>

<div class="code">
<p class="quoted">
Section 2 - Setting and Unsetting Love (1-1)
</p>
<p class="quoted">
Understand "infatuate [someone] with [someone]" as infatuating it with. Infatuating it with is an action applying to two visible things.
</p>
<p class="quoted">
Carry out infatuating it with:
<br>    now the noun loves the second noun.
</p>
<p class="quoted">
Report infatuating it with:
<br>    say "Now [the noun] loves [a random person loved by the noun][if the second noun loves someone], while [the second noun] loves [a random person loved by the second noun][end if]."
</p>
<p class="quoted">
Understand "embitter [someone] toward [someone]" as embittering it toward. Embittering it toward is an action applying to two visible things.
</p>
<p class="quoted">
Carry out embittering it toward:
<br>    now the noun does not love the second noun.
</p>
<p class="quoted">
Report embittering it toward:
<br>    say "[The noun] sees [the second noun] in a different light and no longer feels any affection."
</p>
</div>
<p>Because love is a 1-1 relation, a person cannot love more than one other character at a time. Whenever we set a character to love a new person, that person ceases to love the character loved before. It is a fickle world.</p>
<p>One to various relations are a bit more open: we can say someone impresses multiple other characters, and our additions to the list do not override the initial ones.</p>

<div class="code">
<p class="quoted">
Section 3 - Setting and Unsetting Impressed (1-V)
</p>
<p class="quoted">
Understand "commend [someone] to [someone]" as commending it to. Commending it to is an action applying to two visible things.
</p>
<p class="quoted">
Carry out commending it to:
<br>    now the noun impresses the second noun.
</p>
<p class="quoted">
Report commending it to:
<br>    say "[The second noun] takes a very decided interest in [the noun]."
</p>
<p class="quoted">
Understand "traduce [someone] to [someone]" as traducing it to. Traducing it to is an action applying to two visible things.
</p>
<p class="quoted">
Carry out traducing it to:
<br>    now the noun does not impress the second noun.
</p>
<p class="quoted">
Report traducing it to:
<br>    say "[The second noun], hearing your story, decides not to be at all impressed with [the noun]."
</p>
</div>
<p>And because this is a one-to-various relation, we can also make statements which set multiple relations at once, so:</p>

<div class="code">
<p class="quoted">
Understand "celebrate [someone]" as celebrating. Celebrating is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out celebrating:
<br>    now the noun impresses every person.
</p>
<p class="quoted">
Report celebrating:
<br>    say "[The list of people who are impressed by the noun] take a very decided interest in [the noun]."
</p>
<p class="quoted">
Understand "slander [someone]" as slandering to. Slandering to is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out slandering to:
<br>    now every person is not impressed by the noun.
</p>
<p class="quoted">
Report slandering to:
<br>    say "Now [the noun] impresses [the list of people who are impressed by the noun]."
</p>
</div>
<p>Note that the above unsetting is not equivalent to "now the noun does not impress every person" -- which would be ambiguous in spoken English, as well. Various-to-one relations are similar:</p>

<div class="code">
<p class="quoted">
Section 4 - Setting and Unsetting Noticing (V-1)
</p>
<p class="quoted">
Understand "draw the attention of [someone] to [someone]" as drawing the attention of it to. Drawing the attention of it to is an action applying to two visible things.
</p>
<p class="quoted">
Carry out drawing the attention of it to:
<br>    now the noun notices the second noun.
</p>
<p class="quoted">
Report drawing the attention of it to:
<br>    say "[The noun] glances thoughtfully in the direction of [the second noun]."
</p>
<p class="quoted">
Understand "distract [someone] from [someone]" as distracting it from. Distracting it from is an action applying to two visible things.
</p>
<p class="quoted">
Carry out distracting it from:
<br>    now the noun does not notice the second noun.
</p>
<p class="quoted">
Report distracting it from:
<br>    say "You distract [the noun] from [the second noun]."
</p>
<p class="quoted">
Understand "draw attention to [someone]" as drawing attention to. Drawing attention to is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out drawing attention to:
<br>    now every person notices the noun.
</p>
<p class="quoted">
Report drawing attention to:
<br>    say "You quickly cause everyone to attend to [the noun]."
</p>
<p class="quoted">
Understand "outshine [someone]" as outshining. Outshining is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out outshining:
<br>    now every person does not notice the noun.
</p>
<p class="quoted">
Report outshining:
<br>    say "You quickly distract everyone from [the noun]."
</p>
<p class="quoted">
Section 5 - Setting and Unsetting Fancying (V-V)
</p>
<p class="quoted">
Understand "flatter [someone]" as flattering. Flattering is an action applying to one thing.
</p>
<p class="quoted">
Carry out flattering:
<br>    now every person fancies the noun.
</p>
<p class="quoted">
Report flattering:
<br>    say "You draw down universal admiration for [the noun] by casting him or her in a flattering light."
</p>
<p class="quoted">
Understand "unflatter [someone]" as unflattering. [Okay, okay, but it's four am.] Unflattering is an action applying to one thing.
</p>
<p class="quoted">
Carry out unflattering:
<br>    now every person does not fancy the noun.
</p>
<p class="quoted">
Report unflattering:
<br>    say "[The noun] gives everyone a universal disgust."
</p>
<p class="quoted">
Understand "admire [someone]" as admiring. Admiring is an action applying to one thing.
</p>
<p class="quoted">
Carry out admiring: now the player fancies the noun.
</p>
<p class="quoted">
Report admiring: say "You find you rather fancy [the noun]."
</p>
<p class="quoted">
Understand "loathe [someone]" as loathing. Loathing is an action applying to one thing.
</p>
<p class="quoted">
Carry out loathing: now the player does not fancy the noun.
</p>
<p class="quoted">
Report loathing: say "You take [the noun] in disgust."
</p>
<p class="quoted">
Understand "cause chaos" as causing chaos. Causing chaos is an action applying to nothing.
</p>
<p class="quoted">
Carry out causing chaos:
<br>    now every person fancies every person.
</p>
<p class="quoted">
Report causing chaos: say "Now everyone fancies everyone else, which is quite an inconvenient state of affairs."
</p>
<p class="quoted">
Understand "relieve chaos" as relieving chaos. Relieving chaos is an action applying to nothing.
</p>
<p class="quoted">
Carry out relieving chaos:
<br>    now every person is fancied by no one.
</p>
<p class="quoted">
Report relieving chaos: say "Now no one fancies anyone, which is safe but tedious."
</p>
</div>
<p>Our options for setting and unsetting symmetrical relations are more limited again:</p>

<div class="code">
<p class="quoted">
Section 6 - Setting and Unsetting Marriage (1-1 Symmetrical)
</p>
<p class="quoted">
Understand "marry [someone] to [someone]" as uniting it in matrimony with. Uniting it in matrimony with is an action applying to two visible things.
</p>
<p class="quoted">
Carry out uniting it in matrimony with:
<br>    now the noun is married to the second noun.
</p>
<p class="quoted">
Report uniting it in matrimony with:
<br>    say "You perform the marriage of [the noun] to [the second noun], joining them to the family of [a list of people related to the noun]."
</p>
<p class="quoted">
Understand "divorce [someone] from [someone]" as divorcing it from. Divorcing it from is an action applying to two visible things.
</p>
<p class="quoted">
Check divorcing it from:
<br>    if the noun is not married to the second noun, say "[The noun] is not married to [the second noun] anyway." instead.
</p>
<p class="quoted">
Carry out divorcing it from:
<br>    now the noun is not married to the second noun.
</p>
<p class="quoted">
Report divorcing it from:
<br>    say "[The noun] is now not married to [the second noun]."
</p>
</div>
<p>When we unset the symmetrical relation on one side, it is automatically set or unset on the other. It is not necessary to say "the second noun is married to the noun" or "the second noun is not married to the noun", even though that is the case.</p>

<div class="code">
<p class="quoted">
Section 7 - Setting and Unsetting Acquaintance (V-V Symmetrical)
</p>
<p class="quoted">
Understand "introduce [someone] to [someone]" as introducing it to. Introducing it to is an action applying to two visible things.
</p>
<p class="quoted">
Carry out introducing it to:
<br>    now the noun knows the second noun.
</p>
<p class="quoted">
Report introducing it to:
<br>    say "You introduce [the noun] to [the second noun]. Now [the noun] is acquainted with [the list of people who are known by the noun], and [the second noun] is acquainted with [the list of people who are known by the second noun]."
</p>
<p class="quoted">
Understand "announce [someone]" as announcing. Announcing is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out announcing:
<br>    now every person knows the noun.
</p>
<p class="quoted">
Report announcing:
<br>    say "You announce [the noun] to the whole assembled company."
</p>
<p class="quoted">
Understand "ostracise [someone]" as ostracising. Ostracising is an action applying to one visible thing.
</p>
<p class="quoted">
Carry out ostracising:
<br>    now every person does not know the noun.
</p>
<p class="quoted">
Report ostracising:
<br>    say "You cause everyone present to forget and pretend not to be acquainted at all with [the noun]."
</p>
</div>
<p>And finally, setting groups:</p>

<div class="code">
<p class="quoted">
Section 8 - Setting and Unsetting Familial Relations (Groups)
</p>
<p class="quoted">
Understand "make [someone] adopt [someone]" as forcing it to adopt. Forcing it to adopt is an action applying to two visible things.
</p>
<p class="quoted">
Carry out forcing it to adopt:
<br>    now the noun is related to the second noun.
</p>
<p class="quoted">
Report forcing it to adopt:
<br>    say "Now [the second noun] is related to [the list of people related to the second noun]."
</p>
<p class="quoted">
Understand "make [someone] disown [someone]" as forcing it to disown. Forcing it to disown is an action applying to two visible things.
</p>
<p class="quoted">
Carry out forcing it to disown:
<br>    now the second noun is not related to the noun.
</p>
<p class="quoted">
Report forcing it to disown:
<br>    say "Now [the second noun] is related to [the list of people who are related to the second noun], and [the noun] is related to [the list of people who are related to the noun]."
</p>
</div>
<p>Notice that when we say "the second noun is not related", we remove that person from the group: they are now in a separate group of their own, while the rest of the group's members remain related to one another.</p>
<p>And finally, a long litany of test cases, complete with the relations lists:</p>

<div class="code">
<p class="quoted">
Test acquaintance with "relations / introduce darcy to elizabeth / introduce darcy to wickham / announce mr bennett / relations / ostracise wickham / introduce georgiana to wickham / relations".
</p>
<p class="quoted">
Test impression with "commend georgiana to elizabeth / relations / celebrate Mrs bennett / relations / traduce mrs bennett to darcy / relations / slander mrs bennett / relations".
</p>
<p class="quoted">
Test notice with "draw the attention of darcy to elizabeth / relations / draw attention to mr bennett / relations / distract darcy from mr bennett / relations / outshine mr bennett / relations".
</p>
<p class="quoted">
Test love with "embitter elizabeth toward darcy / relations / infatuate elizabeth with wickham / relations".
</p>
<p class="quoted">
Test marriage with "marry elizabeth to darcy / relations / divorce elizabeth from darcy / relations".
</p>
<p class="quoted">
Test alliance with "make mr bennett adopt georgiana / relations / make mrs bennett disown georgiana / relations".
</p>
<p class="quoted">
Test fancying with "admire elizabeth / relations / loathe elizabeth / relations / flatter elizabeth / relations / unflatter elizabeth / relations / cause chaos / relations / relieve chaos / relations".
</p>
<p class="quoted">
Test me with "test acquaintance / test impression / test notice / test love / test alliance / test fancying / test marriage".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.10">WI §13.10. Defining new prepositions</a><br><a href="rb_7.html#rb-7.16">RB §7.16. Social Groups</a>
</div></details><details class="full-example" id="example-433"><summary><span class="example-summary">433. Lugubrious Pete's Delicatessen</span> <span class="example-difficulty">★</span></summary><div>
<p>First, to set the scene:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Lugubrious%20Pete's%20Delicatessen%22%5Cn%5CnThe%20Supermarket%20is%20west%20of%20the%20Delicatessen%20Counter.%20Lugubrious%20Pete%20is%20in%20the%20Delicatessen.%20%22Lugubrious%20Pete,%20dolefully%20slicing%20meats%20and%20cheeses,%20serves%20at%20the%20counter.%22%20Alice,%20Beth,%20Gemma,%20Delia,%20and%20Eliza%20are%20women%20in%20the%20Supermarket.%5Cn%5CnThe%20deli%20queue%20is%20a%20list%20of%20objects%20that%20varies.%5Cn%5Cn%5BTwo%20processes%20compete%20here:%20one%20that%20fills%20the%20queue,%20the%20other%20which%20will%20empty%20it.%20The%20first%20process%20is%20the%20one%20which%20brings%20shoppers%20in%20to%20the%20counter,%20joining%20the%20back%20of%20the%20queue,%20which%20is%20where%20%22add%20...%20to%20...%22%20puts%20new%20entries%20by%20default:%5D%5Cn%5CnEvery%20turn%20when%20a%20woman%20is%20in%20the%20Supermarket%20and%20a%20random%20chance%20of%202%20in%203%20succeeds%20(this%20is%20the%20customer%20arriving%20rule):%5Cn%5Ctlet%20the%20customer%20be%20a%20random%20woman%20in%20the%20Supermarket;%5Cn%5Ctnow%20the%20customer%20is%20in%20the%20Delicatessen;%5Cn%5Ctif%20the%20player%20is%20in%20the%20Supermarket,%20say%20%22%5BThe%20customer%5D%20walks%20into%20the%20Delicatessen.%22;%5Cn%5Ctif%20the%20player%20is%20in%20the%20Delicatessen,%20say%20%22%5BThe%20customer%5D%20comes%20in%20from%20the%20Supermarket,%20and%20%5Bif%20the%20number%20of%20entries%20in%20the%20deli%20queue%20is%200%5Dcan't%20believe%20her%20luck.%20The%20counter%20is%20free!%5Botherwise%5Dresignedly%20queues%20behind%20%5Bthe%20deli%20queue%5D.%22;%5Cn%5Ctadd%20the%20customer%20to%20the%20deli%20queue.%5Cn%5Cn%5BThe%20competing%20process%20is%20the%20one%20which%20serves%20shoppers%20and%20thus%20gets%20rid%20of%20them%20again:%20unfortunately,%20it%20is%20slower.%20But%20Pete%20is%20fair%20if%20inefficient,%20and%20serves%20the%20customers%20in%20strict%20order%20of%20arrival.%20Each%20served%20customer%20is%20removed%20from%20the%20front%20of%20the%20list,%20and%20the%20others%20therefore%20all%20move%20up%20a%20place.%5D%5Cn%5CnEvery%20turn%20when%20the%20number%20of%20entries%20in%20the%20deli%20queue%20is%20not%200%20and%20a%20random%20chance%20of%201%20in%203%20succeeds%20(this%20is%20the%20customer%20being%20served%20rule):%5Cn%5Ctlet%20the%20customer%20be%20entry%201%20of%20the%20deli%20queue;%5Cn%5Ctif%20the%20player%20is%20in%20the%20Delicatessen,%20say%20%22Pete%20gives%20a%20droopy%20expression%20as%20he%20serves%20%5Bcustomer%5D,%20who%20nevertheless%20brightens%20and%20leaves.%22;%5Cn%5Ctif%20the%20player%20is%20in%20the%20Supermarket,%20say%20%22%5Bcustomer%5D%20emerges%20cheerfully%20from%20the%20Delicatessen%20Counter,%20and%20goes%20about%20her%20regular%20shopping.%22;%5Cn%5Ctnow%20the%20customer%20is%20in%20the%20Supermarket;%5Cn%5Ctremove%20entry%201%20from%20the%20deli%20queue.%5Cn%5CnInstead%20of%20waiting%20in%20the%20Delicatessen%20when%20the%20number%20of%20entries%20in%20the%20deli%20queue%20is%20not%200,%20say%20%22Time%20passes,%20for%20%5Bdeli%20queue%5D%20quite%20as%20much%20as%20for%20yourself.%22%5Cn%5CnTest%20me%20with%20%22wait%20/%20wait%20/%20wait%20/%20east%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Lugubrious Pete's Delicatessen"
</p>
<p class="quoted">
The Supermarket is west of the Delicatessen Counter. Lugubrious Pete is in the Delicatessen. "Lugubrious Pete, dolefully slicing meats and cheeses, serves at the counter." Alice, Beth, Gemma, Delia, and Eliza are women in the Supermarket.
</p>
<p class="quoted">
The deli queue is a list of objects that varies.
</p>
</div>
<p>Two processes compete here: one that fills the queue, the other which will empty it. The first process is the one which brings shoppers in to the counter, joining the back of the queue, which is where "add ... to ..." puts new entries by default:</p>

<div class="code"><p class="quoted">
Every turn when a woman is in the Supermarket and a random chance of 2 in 3 succeeds (this is the customer arriving rule):
<br>    let the customer be a random woman in the Supermarket;
<br>    now the customer is in the Delicatessen;
<br>    if the player is in the Supermarket, say "[The customer] walks into the Delicatessen.";
<br>    if the player is in the Delicatessen, say "[The customer] comes in from the Supermarket, and [if the number of entries in the deli queue is 0]can't believe her luck. The counter is free![otherwise]resignedly queues behind [the deli queue].";
<br>    add the customer to the deli queue.
</p></div>
<p>The competing process is the one which serves shoppers and thus gets rid of them again: unfortunately, it is slower. But Pete is fair if inefficient, and serves the customers in strict order of arrival. Each served customer is removed from the front of the list, and the others therefore all move up a place.</p>

<div class="code">
<p class="quoted">
Every turn when the number of entries in the deli queue is not 0 and a random chance of 1 in 3 succeeds (this is the customer being served rule):
<br>    let the customer be entry 1 of the deli queue;
<br>    if the player is in the Delicatessen, say "Pete gives a droopy expression as he serves [customer], who nevertheless brightens and leaves.";
<br>    if the player is in the Supermarket, say "[customer] emerges cheerfully from the Delicatessen Counter, and goes about her regular shopping.";
<br>    now the customer is in the Supermarket;
<br>    remove entry 1 from the deli queue.
</p>
<p class="quoted">
Instead of waiting in the Delicatessen when the number of entries in the deli queue is not 0, say "Time passes, for [deli queue] quite as much as for yourself."
</p>
<p class="quoted">
Test me with "wait / wait / wait / east / wait / wait / wait / wait / wait".
</p>
</div>
<p>That completes the example, but here is a variation to show that queues need not empty from the front. The Deli already looks a pretty sexist establishment, with the customers all being women, but it is about to get a whole lot worse:</p>

<div class="code"><p class="quoted">
Modesty is a kind of value. The modesties are positively prim, buttoned up, modest, flirty, revealing and downright immodest. Every woman has a modesty. Alice is positively prim. Beth is downright immodest. Gemma is modest. Delia is flirty. Eliza is revealing.
</p></div>
<p>We could then rewrite the service rule like so:</p>

<div class="code"><p class="quoted">
Every turn when the number of entries in the deli queue is not 0 and a random chance of 1 in 3 succeeds (this is the customer being served rule):
<br>    let Pete's preference be the deli queue;
<br>    sort Pete's preference in reverse modesty order;
<br>    let the customer be entry 1 of Pete's preference;
<br>    let the first in line be entry 1 of the deli queue;
<br>    if the player is in the Delicatessen, say "[if the customer is the first in line]Pete gives a droopy expression as he serves [the customer], who nevertheless brightens and leaves.[otherwise]Outrageously, Pete scans the queue, notices [the customer] in her [modesty of the customer] clothes, and serves her next, while [the first in line] glares at him.";
<br>    if the player is in the Supermarket, say "[The customer] emerges cheerfully from the Delicatessen Counter, and goes about her regular shopping.";
<br>    now the customer is in the Supermarket;
<br>    remove the customer from the deli queue.
</p></div>
<p>It is now heartbreakingly difficult for Alice to obtain her sliced chorizo sausage.</p>
</div>
<div class="linkback">
<a href="wi_21.html#wi-21.11">WI §21.11. Variations: arrays, logs, queues, stacks, sets, sieves and rings</a><br><a href="rb_7.html#rb-7.16">RB §7.16. Social Groups</a>
</div></details><details class="full-example" id="example-176"><summary><span class="example-summary">176. Strictly Ballroom</span> <span class="example-difficulty">★★</span></summary><div>
<p>Many simple repetitions can effectively be done with a "now..." instruction: it is quicker to say</p>

<div class="code"><p class="quoted">
now every person is angry
</p></div>
<p>than</p>

<div class="code"><p class="quoted">
repeat with offended party running through people:
<br>    now the offended party is angry.
</p></div>
<p>Repeat comes in handy when we have something a bit more complicated to do with each item:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Strictly%20Ballroom%22%5Cn%5CnA%20person%20can%20be%20alert%20or%20occupied.%20A%20person%20is%20usually%20alert.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20player%20is%20occupied.%5Cn%5CnDance%20is%20a%20kind%20of%20value.%20The%20dances%20are%20waltzes,%20polkas,%20cha-chas,%20charlestons,%20fox-trots,%20tangos,%20lambadas,%20and%20two-steps.%5Cn%5CnThe%20current%20round%20is%20a%20dance%20that%20varies.%5Cn%5CnManner%20is%20a%20kind%20of%20value.%20The%20manners%20are%20swiftly,%20primly,%20energetically,%20suavely,%20seductively,%20elegantly,%20and%20badly.%5Cn%5CnEvery%20turn:%20now%20the%20current%20round%20is%20a%20random%20dance.%5Cn%5CnEvery%20turn:%5Cn%5Ctrepeat%20with%20dancer%20running%20through%20people%20who%20are%20not%20the%20player:%5Cn%5Ct%5Ctif%20dancer%20is%20alert:%5Cn%5Ct%5Ct%5Ctnow%20dancer%20is%20occupied;%5Cn%5Ct%5Ct%5Ctlet%20partner%20be%20a%20random%20alert%20person%20who%20is%20not%20the%20dancer;%5Cn%5Ct%5Ct%5Ctif%20partner%20is%20a%20person:%5Cn%5Ct%5Ct%5Ct%5Ctnow%20partner%20is%20occupied;%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22%5BThe%20dancer%5D%20%5Bthe%20current%20round%5D%5Bif%20a%20random%20chance%20of%201%20in%205%20succeeds%5D%20%5Ba%20random%20manner%5D%5Bend%20if%5D%20with%20%5Bpartner%5D.%20%22;%5Cn%5Ct%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ct%5Ctsay%20%22%5Bparagraph%20break%5D%5BThe%20dancer%5D%20is%20forced%20to%20be%20a%20wallflower.%20Poor%20%5Bdancer%5D.%20%22;%5Cn%5Ctsay%20paragraph%20break.%5Cn%5Cn%5BNotice%20we%20did%20not%20say%20%22repeat%20with%20dancer%20running%20through%20alert%20people%20who%20are%20not%20the%20player...%22.%20This%20is%20because%20Inform%20would%20draw%20up%20a%20list%20of%20alert%20people%20at%20the%20beginning%20of%20the%20repeat,%20and%20not%20take%20into%20account%20which%20people%20became%20occupied%20partway%20through%20the%20repetition.%20If%20we%20want%20to%20make%20sure%20that%20each%20person%20dances%20only%20with%20one%20other%20person,%20we%20have%20to%20continue%20checking%20alertness%20each%20time%20we%20run%20through%20the%20repetition.%5D%5Cn%5Cn%5BAfter%20all%20the%20partners%20are%20assigned,%20we%20can%20set%20up%20for%20the%20next%20turn%20by%20making%20everyone%20alert%20again,%20and%20for%20this%20we%20do%20not%20need%20%22repeat%22:%5D%5Cn%5CnEvery%20turn:%20now%20every%20person%20is%20alert;%20now%20the%20player%20is%20occupied.%5Cn%5CnBefore%20doing%20something%20to%20someone:%20now%20the%20noun%20is%20occupied.%5Cn%5CnBefore%20doing%20something%20when%20the%20second%20noun%20is%20a%20person:%20now%20the%20second%20noun%20is%20occupied.%5Cn%5CnInstead%20of%20doing%20something%20to%20someone:%20say%20%22You%20successfully%20distract%20%5Bthe%20noun%5D.%22%5Cn%5CnThe%20Pacific%20Ballroom%20is%20a%20room.%20%22A%20rather%20utilitarian%20space%20at%20the%20moment,%20since%20this%20is%20a%20class%20and%20not%20a%20party.%22%20Timmy,%20Tommy,%20Joey,%20George,%20Mary,%20Martha,%20Yvette,%20McQueen,%20Linus,%20and%20Patricia%20are%20people%20in%20the%20Pacific%20Ballroom.%5Cn%5CnTest%20me%20with%20%22z%20/%20ask%20linus%20about%20blanket%20/%20z%20/%20z%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Strictly Ballroom"
</p>
<p class="quoted">
A person can be alert or occupied. A person is usually alert.
</p>
<p class="quoted">
When play begins:
<br>    now the player is occupied.
</p>
<p class="quoted">
Dance is a kind of value. The dances are waltzes, polkas, cha-chas, charlestons, fox-trots, tangos, lambadas, and two-steps.
</p>
<p class="quoted">
The current round is a dance that varies.
</p>
<p class="quoted">
Manner is a kind of value. The manners are swiftly, primly, energetically, suavely, seductively, elegantly, and badly.
</p>
<p class="quoted">
Every turn: now the current round is a random dance.
</p>
<p class="quoted">
Every turn:
<br>    repeat with dancer running through people who are not the player:
<br>        if dancer is alert:
<br>            now dancer is occupied;
<br>            let partner be a random alert person who is not the dancer;
<br>            if partner is a person:
<br>                now partner is occupied;
<br>                say "[The dancer] [the current round][if a random chance of 1 in 5 succeeds] [a random manner][end if] with [partner]. ";
<br>            otherwise:
<br>                say "[paragraph break][The dancer] is forced to be a wallflower. Poor [dancer]. ";
<br>    say paragraph break.
</p>
</div>
<p>Notice we did not say "repeat with dancer running through alert people who are not the player...". This is because Inform would draw up a list of alert people at the beginning of the repeat, and not take into account which people became occupied partway through the repetition. If we want to make sure that each person dances only with one other person, we have to continue checking alertness each time we run through the repetition.</p>
<p>After all the partners are assigned, we can set up for the next turn by making everyone alert again, and for this we do not need "repeat":</p>

<div class="code">
<p class="quoted">
Every turn: now every person is alert; now the player is occupied.
</p>
<p class="quoted">
Before doing something to someone: now the noun is occupied.
</p>
<p class="quoted">
Before doing something when the second noun is a person: now the second noun is occupied.
</p>
<p class="quoted">
Instead of doing something to someone: say "You successfully distract [the noun]."
</p>
<p class="quoted">
The Pacific Ballroom is a room. "A rather utilitarian space at the moment, since this is a class and not a party." Timmy, Tommy, Joey, George, Mary, Martha, Yvette, McQueen, Linus, and Patricia are people in the Pacific Ballroom.
</p>
<p class="quoted">
Test me with "z / ask linus about blanket / z / z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_11.html#wi-11.11">WI §11.11. Repeat running through</a><br><a href="rb_7.html#rb-7.16">RB §7.16. Social Groups</a>
</div></details><details class="full-example" id="example-353"><summary><span class="example-summary">353. Emma</span> <span class="example-difficulty">★★</span></summary><div>
<p>To start with, let's understand "room" to mean "a group of people talking". These groups can grow and shrink as people come and go, so we'll want to name and rename them; and we're also going to need some rules to motivate people moving around, and a description to narrate how they behave when we're with them.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Emma%22%5Cn%5Cnby%20the%20banquet%20table%20is%20a%20room.%20at%20the%20corner%20is%20a%20room.%20next%20to%20the%20doorway%20is%20a%20room.%20by%20the%20window%20is%20a%20room.%5Cn%5CnSocial%20clump%20is%20a%20kind%20of%20value.%20The%20social%20clumps%20are%20vacancy,%20lone%20person,%20couple,%20cluster,%20group.%5Cn%5CnA%20room%20has%20a%20social%20clump.%20Understand%20the%20social%20clump%20property%20as%20describing%20a%20room.%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20room:%5Cn%5Ctsay%20%22a%20%5Bsocial%20clump%5D%20%22.%5Cn%5CnAfter%20looking:%5Cn%5Ctassign%20clumping;%5Cn%5Ctsay%20%22Elsewhere%20in%20the%20room,%20you%20can%20see%20%5Bthe%20list%20of%20rooms%20which%20are%20not%20the%20location%5D.%22%5Cn%5CnUnderstand%20%22go%20to%20%5Bany%20room%5D%22%20as%20joining.%20Joining%20is%20an%20action%20applying%20to%20one%20visible%20thing.%20Carry%20out%20joining:%20move%20player%20to%20the%20noun.%20Report%20joining:%20do%20nothing.%5Cn%5CnUnderstand%20%22examine%20%5Bany%20room%5D%22%20as%20looking%20toward.%20Looking%20toward%20is%20an%20action%20applying%20to%20one%20visible%20thing.%20Carry%20out%20looking%20toward%20a%20room:%20say%20%22In%20that%20direction%20you%20see%20%5Ba%20list%20of%20other%20people%20in%20the%20noun%5D.%22%5Cn%5CnWhen%20play%20begins:%20assign%20clumping.%20Every%20turn:%20assign%20clumping.%5Cn%5CnTo%20assign%20clumping:%5Cn%5Ctrepeat%20with%20space%20running%20through%20rooms:%5Cn%5Ct%5Ctnow%20the%20social%20clump%20of%20the%20space%20is%20vacancy;%5Cn%5Ct%5Ctif%20the%20space%20contains%20exactly%201%20person,%20now%20the%20social%20clump%20of%20the%20space%20is%20Lone%20person;%5Cn%5Ct%5Ctif%20the%20space%20contains%20exactly%202%20people,%20now%20the%20social%20clump%20of%20the%20space%20is%20Couple;%5Cn%5Ct%5Ctif%20the%20space%20contains%20more%20than%202%20people%20and%20the%20space%20contains%20fewer%20than%205%20people,%20now%20the%20social%20clump%20of%20the%20space%20is%20cluster;%5Cn%5Ct%5Ctif%20the%20space%20contains%20more%20than%204%20people,%20now%20the%20social%20clump%20of%20the%20space%20is%20group.%5Cn%5CnThe%20room%20description%20heading%20rule%20is%20not%20listed%20in%20the%20carry%20out%20looking%20rules.%5Cn%5CnA%20person%20has%20a%20number%20called%20longevity.%20The%20longevity%20of%20a%20person%20is%20usually%200.%20A%20person%20can%20be%20active%20or%20passive.%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20it%20is%20not%20the%20player.%5Cn%5CnEvery%20turn:%5Cn%5Ctrepeat%20with%20mover%20running%20through%20other%20people:%5Cn%5Ct%5Ctnow%20the%20mover%20is%20active;%5Cn%5Ct%5Ctincrement%20the%20longevity%20of%20mover;%5Cn%5Ct%5Ctif%20longevity%20of%20mover%20is%20greater%20than%203%20or%20the%20mover%20is%20bored:%5Cn%5Ct%5Ct%5Ctassign%20value%20of%20spaces%20for%20the%20mover;%5Cn%5Ct%5Ct%5Ctlet%20destination%20be%20the%20nicest%20room;%5Cn%5Ct%5Ct%5Ctif%20the%20destination%20is%20not%20the%20location%20of%20the%20mover:%5Cn%5Ct%5Ct%5Ct%5Ctif%20the%20player%20can%20see%20the%20mover,%20say%20%22%5BThe%20mover%5D%20makes%20excuses%20and%20drifts%20off%20to%20join%20%5Bthe%20destination%5D.%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ct%5Ctmove%20the%20mover%20to%20the%20destination;%5Cn%5Ct%5Ct%5Ct%5Ctnow%20the%20mover%20is%20complacent;%5Cn%5Ct%5Ct%5Ct%5Ctnow%20the%20longevity%20of%20the%20mover%20is%200;%5Cn%5Ct%5Ct%5Ct%5Ctif%20the%20player%20can%20see%20the%20mover,%20say%20%22%5BThe%20mover%5D%20wanders%20over.%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ct%5Ctassign%20clumping;%5Cn%5Ct%5Ct%5Ct%5Ctnow%20mover%20is%20passive.%5Cn%5CnA%20room%20has%20a%20number%20called%20attractiveness.%5Cn%5CnDefinition:%20a%20room%20is%20nice%20if%20its%20attractiveness%20is%201%20or%20more.%5Cn%5CnTo%20assign%20value%20of%20spaces%20for%20(mover%20-%20a%20person):%5Cn%5Ctrepeat%20with%20space%20running%20through%20rooms:%5Cn%5Ct%5Ctnow%20attractiveness%20of%20the%20space%20is%200;%5Cn%5Ct%5Ctrepeat%20with%20figure%20running%20through%20people%20in%20the%20space:%5Cn%5Ct%5Ct%5Ctif%20the%20mover%20is%20bored,%20decrease%20attractiveness%20of%20the%20space%20by%202;%5Cn%5Ct%5Ct%5Ctif%20the%20mover%20likes%20the%20figure,%20increment%20attractiveness%20of%20the%20space;%5Cn%5Ct%5Ct%5Ctif%20the%20mover%20dislikes%20the%20figure,%20decrement%20attractiveness%20of%20the%20space;%5Cn%5Ct%5Ct%5Ctif%20the%20mover%20desires%20the%20figure,%20increase%20attractiveness%20of%20the%20space%20by%202.%5Cn%5CnLiking%20relates%20various%20people%20to%20various%20people.%20The%20verb%20to%20like%20means%20the%20liking%20relation.%5Cn%5CnDisliking%20relates%20various%20people%20to%20various%20people.%20The%20verb%20to%20dislike%20means%20the%20disliking%20relation.%5Cn%5CnAttraction%20relates%20various%20people%20to%20various%20people.%20The%20verb%20to%20desire%20means%20the%20attraction%20relation.%5Cn%5CnMr%20Weston,%20Mr%20Woodhouse,%20Mr%20Elton,%20Mr%20Knightley,%20and%20Frank%20Churchill%20are%20men.%20Mrs%20Weston,%20Mrs%20Bates,%20Miss%20Bates,%20Harriet%20Smith,%20Emma%20Woodhouse,%20and%20Jane%20Fairfax%20are%20women.%5Cn%5CnHarriet%20Smith%20likes%20Mr%20Elton.%20Harriet%20Smith%20desires%20Mr%20Elton.%20Harriet%20Smith%20likes%20Emma%20Woodhouse.%5Cn%5CnMr%20Elton%20desires%20Emma%20Woodhouse.%5Cn%5CnEmma%20Woodhouse%20likes%20Harriet%20Smith%20and%20Mr%20Knightley.%20Emma%20Woodhouse%20dislikes%20Jane%20Fairfax.%5Cn%5CnMr%20Knightley%20likes%20Emma%20Woodhouse,%20Mr%20Weston,%20and%20Mrs%20Weston.%20Mr%20Knightley%20desires%20Emma%20Woodhouse.%5Cn%5CnJane%20Fairfax%20desires%20Frank%20Churchill.%20Jane%20Fairfax%20likes%20Frank%20Churchill.%5Cn%5CnFrank%20Churchill%20desires%20Jane%20Fairfax%20and%20Emma%20Woodhouse.%20Frank%20Churchill%20likes%20Jane%20Fairfax.%5Cn%5CnMiss%20Bates%20likes%20Jane%20Fairfax,%20Emma%20Woodhouse,%20and%20Mrs%20Bates.%5Cn%5CnMr%20Weston%20likes%20Frank%20Churchill,%20Emma,%20Knightley,%20and%20Mrs%20Weston.%5Cn%5CnMrs%20Weston%20likes%20Frank%20Churchill,%20Emma,%20Knightley,%20and%20Mr%20Weston.%5Cn%5CnMrs%20Bates%20likes%20Miss%20Bates.%5Cn%5CnA%20person%20can%20be%20complacent%20or%20bored.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctrepeat%20with%20character%20running%20through%20other%20people:%5Cn%5Ct%5Ctlet%20space%20be%20a%20random%20room;%5Cn%5Ct%5Ctmove%20character%20to%20space.%5Cn%5Cn%5BAnd%20now%20we%20use%20writing%20a%20paragraph%20about...%20to%20describe%20character%20behavior%20in%20groups,%20when%20we%20join%20them:%5D%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20Frank%20Churchill:%5Cn%5Ctif%20the%20location%20contains%20a%20woman%20(called%20flirt)%20who%20is%20desired%20by%20Frank:%5Cn%5Ct%5Ctsay%20%22%5BFrank%20Churchill%5D%20is%20talking%20with%20great%20animation%20and%20slightly%20more%20than%20becoming%20warmth%20to%20%5Bthe%20flirt%5D%5Bif%20an%20unmentioned%20other%20person%20is%20in%20the%20location%5D,%20while%20%5Bthe%20list%20of%20unmentioned%20other%20people%20in%20the%20location%5D%20look%20on%20with%20varying%20degrees%20of%20amusement%20or%20irritation%5Bend%20if%5D.%22;%5Cn%5Ct%5Ctrepeat%20with%20character%20running%20through%20people%20in%20the%20location:%5Cn%5Ct%5Ct%5Ctif%20the%20character%20is%20not%20Churchill%20and%20the%20character%20is%20not%20the%20flirt,%20now%20the%20character%20is%20bored.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20Mr%20Elton:%5Cn%5Ctif%20the%20location%20contains%20an%20unmentioned%20woman%20(called%20flirt)%20who%20is%20desired%20by%20Elton:%5Cn%5Ct%5Ctsay%20%22%5BMr%20Elton%5D%20hangs%20on%20the%20sleeve%20of%20%5Bthe%20flirt%5D,%20offering%20an%20assortment%20of%20studied%20gallantries%20that%20make%20you%20wonder%20about%20his%20good%20sense.%22;%5Cn%5Ct%5Ctrepeat%20with%20character%20running%20through%20people%20in%20the%20location:%5Cn%5Ct%5Ct%5Ctif%20the%20character%20is%20not%20Elton%20and%20the%20character%20is%20not%20the%20flirt,%20now%20the%20character%20is%20bored.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20Harriet%20Smith:%5Cn%5Ctif%20the%20location%20contains%20Emma%20and%20Emma%20is%20unmentioned:%5Cn%5Ct%5Ctsay%20%22%5BHarriet%5D%20and%20%5BEmma%5D%20are%20conversing%20in%20low%20tones%20--%20Harriet,%20apparently,%20being%20too%20shy%20to%20speak%20so%20that%20everyone%20can%20hear%20her.%22%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20Mr%20Knightley:%5Cn%5Ctif%20the%20location%20contains%20an%20unmentioned%20man%20(called%20the%20listener)%20who%20is%20not%20Mr%20Knightley:%5Cn%5Ct%5Ctsay%20%22%5BMr%20Knightley%5D%20is%20speaking%20with%20%5Bthe%20listener%5D%20about%20agricultural%20matters.%22;%5Cn%5Ct%5Ctnow%20the%20listener%20is%20complacent.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20Miss%20Bates:%5Cn%5Ctsay%20%22%5BMiss%20Bates%5D%20is%20giggling%20about%20the%20weather%5Bif%20an%20unmentioned%20other%20person%20is%20in%20the%20location%5D.%20This%20does%20not%20seem%20to%20compel%20the%20interest%20of%20%5Bthe%20list%20of%20unmentioned%20other%20people%20in%20the%20location%5D%5Bend%20if%5D.%22;%5Cn%5Ctrepeat%20with%20character%20running%20through%20people%20in%20the%20location:%5Cn%5Ct%5Ctif%20the%20character%20is%20not%20Miss%20Bates%20and%20character%20is%20not%20Mrs%20Bates,%20now%20the%20character%20is%20bored.%5Cn%5Cn%5BSince%20this%20is%20just%20an%20example,%20we'll%20stop%20here,%20but%20there's%20no%20reason%20we%20couldn't%20write%20such%20paragraphs%20for%20everyone.%5D%5Cn%5CnTest%20me%20with%20%22z%20/%20z%20/%20z%20/%20look%20/%20x%20corner%20/%20x%20doorway%20/%20x%20window%20/%20x%20table%20/%20go%20to%20the%20table%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Emma"
</p>
<p class="quoted">
by the banquet table is a room. at the corner is a room. next to the doorway is a room. by the window is a room.
</p>
<p class="quoted">
Social clump is a kind of value. The social clumps are vacancy, lone person, couple, cluster, group.
</p>
<p class="quoted">
A room has a social clump. Understand the social clump property as describing a room.
</p>
<p class="quoted">
Before printing the name of a room:
<br>    say "a [social clump] ".
</p>
<p class="quoted">
After looking:
<br>    assign clumping;
<br>    say "Elsewhere in the room, you can see [the list of rooms which are not the location]."
</p>
<p class="quoted">
Understand "go to [any room]" as joining. Joining is an action applying to one visible thing. Carry out joining: move player to the noun. Report joining: do nothing.
</p>
<p class="quoted">
Understand "examine [any room]" as looking toward. Looking toward is an action applying to one visible thing. Carry out looking toward a room: say "In that direction you see [a list of other people in the noun]."
</p>
<p class="quoted">
When play begins: assign clumping. Every turn: assign clumping.
</p>
<p class="quoted">
To assign clumping:
<br>    repeat with space running through rooms:
<br>        now the social clump of the space is vacancy;
<br>        if the space contains exactly 1 person, now the social clump of the space is Lone person;
<br>        if the space contains exactly 2 people, now the social clump of the space is Couple;
<br>        if the space contains more than 2 people and the space contains fewer than 5 people, now the social clump of the space is cluster;
<br>        if the space contains more than 4 people, now the social clump of the space is group.
</p>
<p class="quoted">
The room description heading rule is not listed in the carry out looking rules.
</p>
<p class="quoted">
A person has a number called longevity. The longevity of a person is usually 0. A person can be active or passive.
</p>
<p class="quoted">
Definition: a person is other if it is not the player.
</p>
<p class="quoted">
Every turn:
<br>    repeat with mover running through other people:
<br>        now the mover is active;
<br>        increment the longevity of mover;
<br>        if longevity of mover is greater than 3 or the mover is bored:
<br>            assign value of spaces for the mover;
<br>            let destination be the nicest room;
<br>            if the destination is not the location of the mover:
<br>                if the player can see the mover, say "[The mover] makes excuses and drifts off to join [the destination].[paragraph break]";
<br>                move the mover to the destination;
<br>                now the mover is complacent;
<br>                now the longevity of the mover is 0;
<br>                if the player can see the mover, say "[The mover] wanders over.[paragraph break]";
<br>                assign clumping;
<br>                now mover is passive.
</p>
<p class="quoted">
A room has a number called attractiveness.
</p>
<p class="quoted">
Definition: a room is nice if its attractiveness is 1 or more.
</p>
<p class="quoted">
To assign value of spaces for (mover - a person):
<br>    repeat with space running through rooms:
<br>        now attractiveness of the space is 0;
<br>        repeat with figure running through people in the space:
<br>            if the mover is bored, decrease attractiveness of the space by 2;
<br>            if the mover likes the figure, increment attractiveness of the space;
<br>            if the mover dislikes the figure, decrement attractiveness of the space;
<br>            if the mover desires the figure, increase attractiveness of the space by 2.
</p>
<p class="quoted">
Liking relates various people to various people. The verb to like means the liking relation.
</p>
<p class="quoted">
Disliking relates various people to various people. The verb to dislike means the disliking relation.
</p>
<p class="quoted">
Attraction relates various people to various people. The verb to desire means the attraction relation.
</p>
<p class="quoted">
Mr Weston, Mr Woodhouse, Mr Elton, Mr Knightley, and Frank Churchill are men. Mrs Weston, Mrs Bates, Miss Bates, Harriet Smith, Emma Woodhouse, and Jane Fairfax are women.
</p>
<p class="quoted">
Harriet Smith likes Mr Elton. Harriet Smith desires Mr Elton. Harriet Smith likes Emma Woodhouse.
</p>
<p class="quoted">
Mr Elton desires Emma Woodhouse.
</p>
<p class="quoted">
Emma Woodhouse likes Harriet Smith and Mr Knightley. Emma Woodhouse dislikes Jane Fairfax.
</p>
<p class="quoted">
Mr Knightley likes Emma Woodhouse, Mr Weston, and Mrs Weston. Mr Knightley desires Emma Woodhouse.
</p>
<p class="quoted">
Jane Fairfax desires Frank Churchill. Jane Fairfax likes Frank Churchill.
</p>
<p class="quoted">
Frank Churchill desires Jane Fairfax and Emma Woodhouse. Frank Churchill likes Jane Fairfax.
</p>
<p class="quoted">
Miss Bates likes Jane Fairfax, Emma Woodhouse, and Mrs Bates.
</p>
<p class="quoted">
Mr Weston likes Frank Churchill, Emma, Knightley, and Mrs Weston.
</p>
<p class="quoted">
Mrs Weston likes Frank Churchill, Emma, Knightley, and Mr Weston.
</p>
<p class="quoted">
Mrs Bates likes Miss Bates.
</p>
<p class="quoted">
A person can be complacent or bored.
</p>
<p class="quoted">
When play begins:
<br>    repeat with character running through other people:
<br>        let space be a random room;
<br>        move character to space.
</p>
</div>
<p>And now we use writing a paragraph about... to describe character behavior in groups, when we join them:</p>

<div class="code">
<p class="quoted">
Rule for writing a paragraph about Frank Churchill:
<br>    if the location contains a woman (called flirt) who is desired by Frank:
<br>        say "[Frank Churchill] is talking with great animation and slightly more than becoming warmth to [the flirt][if an unmentioned other person is in the location], while [the list of unmentioned other people in the location] look on with varying degrees of amusement or irritation[end if].";
<br>        repeat with character running through people in the location:
<br>            if the character is not Churchill and the character is not the flirt, now the character is bored.
</p>
<p class="quoted">
Rule for writing a paragraph about Mr Elton:
<br>    if the location contains an unmentioned woman (called flirt) who is desired by Elton:
<br>        say "[Mr Elton] hangs on the sleeve of [the flirt], offering an assortment of studied gallantries that make you wonder about his good sense.";
<br>        repeat with character running through people in the location:
<br>            if the character is not Elton and the character is not the flirt, now the character is bored.
</p>
<p class="quoted">
Rule for writing a paragraph about Harriet Smith:
<br>    if the location contains Emma and Emma is unmentioned:
<br>        say "[Harriet] and [Emma] are conversing in low tones -- Harriet, apparently, being too shy to speak so that everyone can hear her."
</p>
<p class="quoted">
Rule for writing a paragraph about Mr Knightley:
<br>    if the location contains an unmentioned man (called the listener) who is not Mr Knightley:
<br>        say "[Mr Knightley] is speaking with [the listener] about agricultural matters.";
<br>        now the listener is complacent.
</p>
<p class="quoted">
Rule for writing a paragraph about Miss Bates:
<br>    say "[Miss Bates] is giggling about the weather[if an unmentioned other person is in the location]. This does not seem to compel the interest of [the list of unmentioned other people in the location][end if].";
<br>    repeat with character running through people in the location:
<br>        if the character is not Miss Bates and character is not Mrs Bates, now the character is bored.
</p>
</div>
<p>Since this is just an example, we'll stop here, but there's no reason we couldn't write such paragraphs for everyone.</p>

<div class="code"><p class="quoted">
Test me with "z / z / z / look / x corner / x doorway / x window / x table / go to the table".
</p></div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.24">WI §18.24. Writing a paragraph about</a><br><a href="rb_7.html#rb-7.16">RB §7.16. Social Groups</a>
</div></details><details class="full-example" id="example-356"><summary><span class="example-summary">356. Happy Hour</span> <span class="example-difficulty">★★</span></summary><div>
<p>Often it is best to have an entire paragraph about the characters present in a room, but suppose we're narrating a large party with a lot of people moving around. In that case, it might be better to list everyone together, then add a few salient details by way of follow-up, like this:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Happy%20Hour%22%5Cn%5CnBefore%20listing%20nondescript%20items:%5Cn%5Ctsay%20%22You%20can%20see%20%5Ba%20list%20of%20people%20who%20are%20marked%20for%20listing%5D%20here.%20%22;%5Cn%5Ctrepeat%20with%20named%20party%20running%20through%20people:%5Cn%5Ct%5Ctnow%20the%20named%20party%20is%20not%20marked%20for%20listing;%5Cn%5Ctlet%20count%20be%20the%20number%20of%20visible%20other%20people%20who%20are%20carrying%20something;%5Cn%5Ctif%20count%20is%200:%5Cn%5Ct%5Ctsay%20paragraph%20break;%5Cn%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ctlet%20index%20be%20count;%5Cn%5Ctrepeat%20with%20holder%20running%20through%20visible%20other%20people%20who%20are%20carrying%20something:%5Cn%5Ct%5Ctif%20index%20is%20count,%20say%20%22%5BThe%20holder%5D%22;%5Cn%5Ct%5Ctotherwise%20say%20%22%5Bthe%20holder%5D%22;%5Cn%5Ct%5Ctsay%20%22%20has%20%5Ba%20list%20of%20things%20carried%20by%20the%20holder%5D%22;%5Cn%5Ct%5Ctdecrement%20index;%5Cn%5Ct%5Ctmake%20delimiter%20index%20of%20count.%5Cn%5Cn%5BThe%20next%20part%20could%20be%20simpler,%20but%20for%20rigor%20we%20will%20write%20it%20in%20such%20a%20way%20that%20it%20will%20work%20whether%20or%20not%20the%20serial%20comma%20is%20in%20use.%20This%20requires%20some%20extra%20work.%5D%5Cn%5CnTo%20make%20delimiter%20(index%20-%20a%20number)%20of%20(count%20-%20a%20number),%20continuing%20or%20halting:%5Cn%5Ctif%20index%20is%200:%5Cn%5Ct%5Ctif%20continuing,%20say%20%22.%20%5Brun%20paragraph%20on%5D%22;%5Cn%5Ct%5Ctotherwise%20say%20%22.%22;%5Cn%5Ctotherwise%20if%20index%20is%201:%5Cn%5Ct%5Ctif%20count%20is%202,%20say%20%22%20and%20%22;%5Cn%5Ct%5Ctotherwise%20say%20%22%5Boptional%20comma%5D%20and%20%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22,%20%22.%5Cn%5CnTo%20say%20optional%20comma:%5Cn%5Ctif%20the%20serial%20comma%20option%20is%20active:%5Cn%5Ct%5Ctsay%20%22,%22.%5Cn%5Cn%5BAnd%20now%20the%20scene:%5D%5Cn%5CnThe%20Banquet%20Hall%20is%20a%20room.%20%22A%20large%20cheery%20banner%20over%20the%20door%20(which,%20incidentally,%20vanishes%20when%20you%20approach%20it)%20reads:%20HELLO%20NEW%20INDUCTEES!%20WELCOME%20TO%20THE%20AFTERLIFE!%22%5Cn%5CnFred,%20George,%20and%20Larry%20are%20men%20in%20the%20Banquet%20Hall.%20Fred%20carries%20a%20dry%20martini.%20Larry%20carries%20a%20cream%20puff.%20Matilda%20and%20Louise%20are%20women%20in%20the%20Banquet%20Hall.%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20it%20is%20not%20the%20player.%5Cn%5CnEvery%20turn:%5Cn%5Ctlet%20wanderer%20be%20a%20random%20other%20person;%5Cn%5Ctlet%20place%20be%20the%20holder%20of%20the%20wanderer;%5Cn%5Ctlet%20next%20place%20be%20a%20random%20room%20adjacent%20to%20the%20place;%5Cn%5Ctlet%20the%20way%20be%20the%20best%20route%20from%20the%20place%20to%20the%20next%20place;%5Cn%5Cttry%20the%20wanderer%20going%20the%20way.%5Cn%5CnThe%20Kitchen%20is%20west%20of%20the%20Banquet%20Hall.%20%22Dominated%20by%20a%20pile%20of%20dirty%20plates%20which%20you%20imagine%20it%20will%20be%20someone's%20privilege%20to%20wash,%20later.%22%20Vanessa%20is%20a%20woman%20in%20the%20Kitchen.%20Vanessa%20carries%20a%20tray.%20On%20the%20tray%20is%20a%20salmon%20roll.%20The%20roll%20is%20edible.%5Cn%5CnTest%20me%20with%20%22z%20/%20look%20/%20g%20/%20g%20/%20g%20%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Happy Hour"
</p>
<p class="quoted">
Before listing nondescript items:
<br>    say "You can see [a list of people who are marked for listing] here. ";
<br>    repeat with named party running through people:
<br>        now the named party is not marked for listing;
<br>    let count be the number of visible other people who are carrying something;
<br>    if count is 0:
<br>        say paragraph break;
<br>        continue the action;
<br>    let index be count;
<br>    repeat with holder running through visible other people who are carrying something:
<br>        if index is count, say "[The holder]";
<br>        otherwise say "[the holder]";
<br>        say " has [a list of things carried by the holder]";
<br>        decrement index;
<br>        make delimiter index of count.
</p>
</div>
<p>The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.</p>

<div class="code">
<p class="quoted">
To make delimiter (index - a number) of (count - a number), continuing or halting:
<br>    if index is 0:
<br>        if continuing, say ". [run paragraph on]";
<br>        otherwise say ".";
<br>    otherwise if index is 1:
<br>        if count is 2, say " and ";
<br>        otherwise say "[optional comma] and ";
<br>    otherwise:
<br>        say ", ".
</p>
<p class="quoted">
To say optional comma:
<br>    if the serial comma option is active:
<br>        say ",".
</p>
</div>
<p>And now the scene:</p>

<div class="code">
<p class="quoted">
The Banquet Hall is a room. "A large cheery banner over the door (which, incidentally, vanishes when you approach it) reads: HELLO NEW INDUCTEES! WELCOME TO THE AFTERLIFE!"
</p>
<p class="quoted">
Fred, George, and Larry are men in the Banquet Hall. Fred carries a dry martini. Larry carries a cream puff. Matilda and Louise are women in the Banquet Hall.
</p>
<p class="quoted">
Definition: a person is other if it is not the player.
</p>
<p class="quoted">
Every turn:
<br>    let wanderer be a random other person;
<br>    let place be the holder of the wanderer;
<br>    let next place be a random room adjacent to the place;
<br>    let the way be the best route from the place to the next place;
<br>    try the wanderer going the way.
</p>
<p class="quoted">
The Kitchen is west of the Banquet Hall. "Dominated by a pile of dirty plates which you imagine it will be someone's privilege to wash, later." Vanessa is a woman in the Kitchen. Vanessa carries a tray. On the tray is a salmon roll. The roll is edible.
</p>
<p class="quoted">
Test me with "z / look / g / g / g ".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.25">WI §18.25. Listing nondescript items of something</a><br><a href="rb_7.html#rb-7.16">RB §7.16. Social Groups</a>
</div></details>
</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/RB_7_1.html">RB Chapter 7 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_6.html#rb-chapter-6-commands">6. Commands</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_8.html#rb-chapter-8-vehicles-animals-and-furniture">8. Vehicles, Animals and Furniture</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

