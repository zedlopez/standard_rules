<!doctype html>
<html><head>
<link rel="stylesheet" href="../style.css">
<script>function toggle_details() {
   var openness, toggle_link;
   toggle_link = document.getElementById("toggle");
   openness = toggle_link.classList.toggle("open");
document.querySelectorAll("details.full-example").forEach(detail => { if (openness) { detail.setAttribute("open", true); } else { detail.removeAttribute("open");} });
   toggle_link.innerText = (openness ? "Close" : "Open") + " all examples";
   }


function copyCode(text) { navigator.clipboard.writeText(text); }


var links = document.getElementsByTagName('a');
for (var i = 0; i < links.length; i++) {
    if (links[i].href.match(/^#example-\d+/)) {
	links[i].onClick = function() { links[i].href.match(/^#example-(\d+)$/); var example = document.getElementById($1).setAttribute('open'); return true; };
    }
}

function add_bar(update) {
    let urlParams = new URLSearchParams(window.location.search);
    let navbar = document.querySelector('div.index-navbar');

    if (navbar && urlParams.has('project')) {
        navbar.setAttribute('class', 'index-navbar'); // removes hidden
        let project = decodeURIComponent(urlParams.get('project'));
        let index_root = project + '/.index/';
        let build = project + '/Build/';
        let query_arg = "?project="+encodeURIComponent(project);

        let links = [
            { "General Index": document.getElementById('general_index').href },
            { "Docs": document.getElementById('docs').href },
            { "Extensions": index_root + 'doc/Extensions.html' },
            { "Definitions": index_root + 'doc/ExtIndex.html' },
            { "Debug Log": build + 'debug_log.html' },
            { "Problems": build + 'problems.html' },
            { "Source": index_root + 'story.html' },
            { "Project Index": index_root + 'Index/Welcome.html' } ];
        let sp = document.createTextNode(" ");
        links.forEach(h => {
            Object.entries(h).forEach(([text, url]) => {
                let my_id = text.toLowerCase().replace(' ', '_');
                let a = document.querySelector('#'+my_id);
                let url_target = "file://"+url+query_arg;
                if (a) {
                    let parts = a.href.split('#');
                    let qparts = parts[0].split('?');
                    a.href = qparts[0] +  (qparts[1] ? ('?' + qparts[1]) : query_arg) + (parts[1] ? ('#' + parts[1]) : "");
                }
                else {
                    a = document.createElement('a');
                    let href = document.createAttribute("href");
                    href.value = url_target;
                    a.setAttributeNode(href);
                    let elem_id = document.createAttribute("id");
                    elem_id.value = my_id;
                    a.setAttributeNode(elem_id);
                    let linktext = document.createTextNode(text);
                    a.appendChild(linktext);
                    navbar.insertBefore(sp.cloneNode(), navbar.firstChild);
                    navbar.insertBefore(a, navbar.firstChild);
                }
            })});
        if (update) {
            let main_links = document.querySelectorAll('main a');
            main_links.forEach(a => {
                if (!a.href.startsWith('javascript:') || (a.href.match(/[^:]+:\/\// && !a.href.startsWith('file:')))) {
                    let parts = a.href.split('#')
                    a.href = parts[0] + query_arg + (parts[1] ? ('#' + parts[1]) : "");
                } });
        }
    }
}



document.addEventListener("DOMContentLoaded", add_bar);</script>
<title>Example #297</title></head>
<body class="inform7-source">

<div class="inform7-source"><div class="pseudo">
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7sx">&quot;Nameless&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The Black Chamber is a room. <span class="i7sx">&quot;Despite its menacing name, it is quite an ordinary room, underlying the post office above. Here letters are brought each day, unsealed, transcribed, resealed, and sent again on their way; their contents then analyzed and recorded.&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The Nameless Advisor is a woman in the Black Chamber. <span class="i7sx">&quot;A woman whose name has never been disclosed to you sits at the window, writing numbers on a sheet of paper.&quot;</span> The Advisor carries a sheet of paper. Understand <span class="i7sx">&quot;woman&quot;</span> as the nameless advisor.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The player carries a letter from the emperor. The description of the letter is <span class="i7sx">&quot;Though its origin is obvious, its meaning is secret: the letters are an inexplicable jumble.&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[Now we create our new action, &quot;interrogating it about&quot;. We write the grammar lines so that we can show any object in sight to someone, but also ask someone about any object that we have ever interacted with in the game, whether it is currently visible or not.]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">A thing can be known or unknown. The Nameless Advisor is known.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Understand <span class="i7sx">&quot;ask </span><span class="i7si">[someone]</span><span class="i7sx"> about </span><span class="i7si">[any known thing]</span><span class="i7sx">&quot;</span> as interrogating it about. interrogating it about is an action applying to two visible things.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[Now we replace and redirect the showing action. This gets rid of the requirement in the default library that the player be holding anything he shows to another character:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Understand the commands <span class="i7sx">&quot;show&quot;</span> and <span class="i7sx">&quot;display&quot;</span> and <span class="i7sx">&quot;present&quot;</span> as something new.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Understand <span class="i7sx">&quot;show </span><span class="i7si">[something]</span><span class="i7sx"> to </span><span class="i7si">[someone]</span><span class="i7sx">&quot;</span> or <span class="i7sx">&quot;display </span><span class="i7si">[something]</span><span class="i7sx"> to </span><span class="i7si">[someone]</span><span class="i7sx">&quot;</span> or <span class="i7sx">&quot;present </span><span class="i7si">[something]</span><span class="i7sx"> to </span><span class="i7si">[someone]</span><span class="i7sx">&quot;</span> as interrogating it about (with nouns reversed). Understand <span class="i7sx">&quot;show </span><span class="i7si">[someone]</span><span class="i7sx"> </span><span class="i7si">[something]</span><span class="i7sx">&quot;</span> as interrogating it about.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[This bit keeps track of what the player has seen, for the purposes of &quot;any known thing&quot;:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Before printing the name of something (called the target): now the target is known.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[Here we define what happens by default when we interrogate someone about something; we use the same response we get to asking someone about something that isn&#39;t otherwise interesting:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Carry out interrogating someone about something:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	say <span class="i7sx">&quot;There is no reply.&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[Now redirect all asking to a topic table, and all interrogating to an object table:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Instead of asking Nameless Advisor about a topic listed in the Table of Nameless Advisor Topics:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	say <span class="i7sx">&quot;</span><span class="i7si">[reply entry][paragraph break]</span><span class="i7sx">&quot;</span>.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Instead of interrogating Nameless Advisor about an item listed in the Table of Nameless Advisor Items:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	say <span class="i7sx">&quot;</span><span class="i7si">[reply entry][paragraph break]</span><span class="i7sx">&quot;</span>.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr tablehead"><span class="th"></span><span class="td line">Table of Nameless Advisor Items</span><br></span></div><div class="pseudo tabletable">
      <span class="tr"><span class="th"></span><span class="td line"><span class="td">item</span><span class="td">reply</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="td">letter</span><span class="td"><span class="i7sx">&quot;&#39;It is enciphered,&#39; she remarks</span></span><span class="td"><span class="i7si">[if the advisor can see the letter]</span></span><span class="td"><span class="i7sx">, glancing over the contents</span></span><span class="td"><span class="i7si">[otherwise]</span></span><span class="td"><span class="i7sx">, after you have offered a detailed description</span></span><span class="td"><span class="i7si">[end if]</span></span><span class="td"><span class="i7sx">. &#39;A substitution cipher of some complexity, I believe.&#39;&quot;</span></span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="td">Advisor</span><span class="td"><span class="i7sx">&quot;She listens to your inquiries about her identity and parentage with a placid smile, but does not answer.&quot;</span></span></span><br></span>
      </div><div class="pseudo"><span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr tablehead"><span class="th"></span><span class="td line">Table of Nameless Advisor Topics</span><br></span></div><div class="pseudo tabletable">
      <span class="tr"><span class="th"></span><span class="td line">topic</span><span class="td">reply</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7sx">&quot;cipher&quot;</span></span><span class="td"><span class="i7sx">&quot;&#39;I know many dozens of ciphers,&#39; she replies, smiling in a disquieting way.&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7sx">&quot;substitution cipher&quot;</span></span><span class="td"><span class="i7sx">&quot;&#39;One letter is allowed to stand for another,&#39; she explains, folding her hands together patiently. The backs of both hands are tattooed with silvery stars.&quot;</span></span><br></span>
      </div><div class="pseudo"><span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[And just so that we can test what happens when asking someone about something out of sight:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The safe box is a container in the Chamber. It is fixed in place. It is openable and closed.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[...and something unknown:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The poisonous apple is a thing.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Test me with <span class="i7sx">&quot;test sight / test knowledge&quot;</span>.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Test sight with <span class="i7sx">&quot;i / x letter / ask Nameless Advisor about cipher / show cipher to Nameless Advisor / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / show Nameless Advisor the letter&quot;</span>.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Test knowledge with <span class="i7sx">&quot;open safe box / put letter in safe box / close safe box / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / ask Nameless Advisor about the apple&quot;</span>.</span><br></span>

</div>
</div>
<footer></footer>
</body></html>
