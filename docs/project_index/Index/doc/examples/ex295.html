<!doctype html>
<html><head>
<link rel="stylesheet" href="../style.css">
<script>function toggle_details() {
   var openness, toggle_link;
   toggle_link = document.getElementById("toggle");
   openness = toggle_link.classList.toggle("open");
document.querySelectorAll("details.full-example").forEach(detail => { if (openness) { detail.setAttribute("open", true); } else { detail.removeAttribute("open");} });
   toggle_link.innerText = (openness ? "Close" : "Open") + " all examples";
   }


function copyCode(text) { navigator.clipboard.writeText(text); }


var links = document.getElementsByTagName('a');
for (var i = 0; i < links.length; i++) {
    if (links[i].href.match(/^#example-\d+/)) {
	links[i].onClick = function() { links[i].href.match(/^#example-(\d+)$/); var example = document.getElementById($1).setAttribute('open'); return true; };
    }
}

function add_bar(update) {
    let urlParams = new URLSearchParams(window.location.search);
    let navbar = document.querySelector('div.index-navbar');

    if (navbar && urlParams.has('project')) {
        navbar.setAttribute('class', 'index-navbar'); // removes hidden
        let project = decodeURIComponent(urlParams.get('project'));
        let index_root = project + '/.index/';
        let build = project + '/Build/';
        let query_arg = "?project="+encodeURIComponent(project);

        let links = [
            { "General Index": document.getElementById('general_index').href },
            { "Docs": document.getElementById('docs').href },
            { "Extensions": index_root + 'doc/Extensions.html' },
            { "Definitions": index_root + 'doc/ExtIndex.html' },
            { "Debug Log": build + 'debug_log.html' },
            { "Problems": build + 'problems.html' },
            { "Source": index_root + 'story.html' },
            { "Project Index": index_root + 'Index/Welcome.html' } ];
        let sp = document.createTextNode(" ");
        links.forEach(h => {
            Object.entries(h).forEach(([text, url]) => {
                let my_id = text.toLowerCase().replace(' ', '_');
                let a = document.querySelector('#'+my_id);
                let url_target = "file://"+url+query_arg;
                if (a) {
                    let parts = a.href.split('#');
                    let qparts = parts[0].split('?');
                    a.href = qparts[0] +  (qparts[1] ? ('?' + qparts[1]) : query_arg) + (parts[1] ? ('#' + parts[1]) : "");
                }
                else {
                    a = document.createElement('a');
                    let href = document.createAttribute("href");
                    href.value = url_target;
                    a.setAttributeNode(href);
                    let elem_id = document.createAttribute("id");
                    elem_id.value = my_id;
                    a.setAttributeNode(elem_id);
                    let linktext = document.createTextNode(text);
                    a.appendChild(linktext);
                    navbar.insertBefore(sp.cloneNode(), navbar.firstChild);
                    navbar.insertBefore(a, navbar.firstChild);
                }
            })});
        if (update) {
            let main_links = document.querySelectorAll('main a');
            main_links.forEach(a => {
                if (!a.href.startsWith('javascript:') || (a.href.match(/[^:]+:\/\// && !a.href.startsWith('file:')))) {
                    let parts = a.href.split('#')
                    a.href = parts[0] + query_arg + (parts[1] ? ('#' + parts[1]) : "");
                } });
        }
    }
}



document.addEventListener("DOMContentLoaded", add_bar);</script>
<title>Example #295</title></head>
<body class="inform7-source">

<div class="inform7-source"><div class="pseudo">
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7sx">&quot;The Left Hand of Autumn&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7gh">Section 1 - Procedure</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Understand <span class="i7sx">&quot;examine </span><span class="i7si">[things]</span><span class="i7sx">&quot;</span> or <span class="i7sx">&quot;look at </span><span class="i7si">[things]</span><span class="i7sx">&quot;</span> as multiply-examining. Multiply-examining is an action applying to one thing.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Understand <span class="i7sx">&quot;examine </span><span class="i7si">[things inside]</span><span class="i7sx"> in/on </span><span class="i7si">[something]</span><span class="i7sx">&quot;</span> or <span class="i7sx">&quot;look at </span><span class="i7si">[things inside]</span><span class="i7sx"> in/on </span><span class="i7si">[something]</span><span class="i7sx">&quot;</span> as multiply-examining it from. Multiply-examining it from is an action applying to two things.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Group-description-complete is a truth state that varies.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Carry out multiply-examining it from:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	try multiply-examining the noun instead.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Check multiply-examining when group-description-complete is true:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	stop the action.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Carry out multiply-examining:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	let L be the list of matched things;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	if the number of entries in L is 0, try examining the noun instead;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	if the number of entries in L is 1, try examining entry 1 of L instead;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	describe L;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	say line break;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	now group-description-complete is true.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Before reading a command:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	now group-description-complete is false.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[Now for step 2, overriding Inform&#39;s usual output of names of objects:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The silently announce items from multiple object lists rule is listed instead of the announce items from multiple object lists rule in the action-processing rules.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">This is the silently announce items from multiple object lists rule:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	unless multiply-examining or multiply-examining something from something:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	if the current item from the multiple object list is not nothing, say <span class="i7sx">&quot;</span><span class="i7si">[current item from the multiple object list]</span><span class="i7sx">: </span><span class="i7si">[run paragraph on]</span><span class="i7sx">&quot;</span>.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Definition: a thing is matched if it is listed in the multiple object list.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[We&#39;ll save our &quot;to describe&quot; phrase until Section 2, when we can give the game specific instructions about how to report different lists of objects.]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[Now, the player might also want to be able to refer to a group of item by some kind of group name, so let&#39;s add the option of creating a Table of Collective Names which will interpret these:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">After reading a command:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	repeat through the Table of Collective Names:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	let N be <span class="i7sx">&quot;</span><span class="i7si">[the player&#39;s command]</span><span class="i7sx">&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	let Y be relevant list entry;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	while N matches the regular expression <span class="i7sx">&quot;</span><span class="i7si">[name-text entry]</span><span class="i7sx">&quot;</span>:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;	replace the regular expression <span class="i7sx">&quot;(.*)</span><span class="i7si">[name-text entry]</span><span class="i7sx">(.*)&quot;</span> in N with <span class="i7sx">&quot;\1</span><span class="i7si">[Y]</span><span class="i7sx">\2&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	change the text of the player&#39;s command to N.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Report taking something:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	say <span class="i7sx">&quot;You pick up </span><span class="i7si">[the noun]</span><span class="i7sx">.&quot;</span> instead.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[And as a bit of polish, because we&#39;d like SEARCH TABLE to have the same effect as EXAMINE ALL ON TABLE:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Understand <span class="i7sx">&quot;look on </span><span class="i7si">[something]</span><span class="i7sx">&quot;</span> as searching.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Instead of searching something which supports at least two things:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	let L be the list of things supported by the noun;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	describe L.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Instead of searching something which contains at least two things:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	let L be the list of things contained by the noun;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	describe L.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7gh">Section 2 - Scenario</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Eight-Walled Chamber is a room. <span class="i7sx">&quot;A perfectly octagonal room whose walls are tinted in various hues.&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The display table is a supporter in the Chamber. A twig of rowan wood is on the table.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The player carries an apple and a pear.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">A glove is a kind of thing. A glove is always wearable. Understand <span class="i7sx">&quot;glove&quot;</span> as a glove. The player carries a left glove and a right glove. The left glove and the right glove are gloves.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[Now we define a few actual lists of items:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Fruit list is a list of objects which varies. Fruit list is { apple, pear }.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Glove list is a list of objects which varies. Glove list is { right glove, left glove }.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Arcane list is a list of objects which varies. Arcane list is { left glove, twig, pear }.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">To describe (L - a list of objects):</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	sort L;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	if L is fruit list:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	say <span class="i7sx">&quot;Just a couple of fruits.&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	otherwise if L is glove list:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	say <span class="i7sx">&quot;It&#39;s a matched pair of fuzzy blue gloves.&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	otherwise if L is arcane list:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	say <span class="i7sx">&quot;To anyone else it might look like a random collection of objects, but these three things -- </span><span class="i7si">[L with definite articles]</span><span class="i7sx"> -- constitute a mystic key known as the Left Hand of Autumn. They practically hum with power.&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	otherwise:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;&ensp;&ensp;	say <span class="i7sx">&quot;You see </span><span class="i7si">[L with indefinite articles]</span><span class="i7sx">.&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">When play begins:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	sort fruit list;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	sort glove list;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	sort the arcane list.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[We sort the lists so that regardless of how we change the rest of the code (and the order in which objects are coded), the resulting list will always be in sorted order and ready to compare with the list of items the player wants to look at. And thanks to the &quot;Reading a command&quot; code we wrote earlier, we can also teach the game to understand the player&#39;s references to &quot;the left hand of autumn&quot; as a specific collection of items.]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr tablehead"><span class="th"></span><span class="td line">Table of Collective Names</span><br></span></div><div class="pseudo tabletable">
      <span class="tr"><span class="th"></span><span class="td line"><span class="td">name-text</span><span class="td">relevant list</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="td"><span class="i7sx">&quot;left hand of autumn&quot;</span></span><span class="td"><span class="i7sx">&quot;</span></span><span class="td"><span class="i7si">[arcane list]</span></span><span class="td"><span class="i7sx">&quot;</span></span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="td"><span class="i7sx">&quot;gloves&quot;</span></span><span class="td"><span class="i7sx">&quot;</span></span><span class="td"><span class="i7si">[glove list]</span></span><span class="td"><span class="i7sx">&quot;</span></span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="td"><span class="i7sx">&quot;pair of gloves&quot;</span></span><span class="td"><span class="i7sx">&quot;</span></span><span class="td"><span class="i7si">[glove list]</span></span><span class="td"><span class="i7sx">&quot;</span></span></span><br></span>
      </div><div class="pseudo"><span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Test me with <span class="i7sx">&quot;x apple and pear / x left and right / put pear on table / put left glove on table / x all on table / put all on table / examine all on table / get apple, twig, pear / x all on table / search table&quot;</span>.</span><br></span>

</div>
</div>
<footer></footer>
</body></html>
