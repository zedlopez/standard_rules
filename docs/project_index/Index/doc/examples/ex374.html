<!doctype html>
<html><head>
<link rel="stylesheet" href="../style.css">
<script>function toggle_details() {
   var openness, toggle_link;
   toggle_link = document.getElementById("toggle");
   openness = toggle_link.classList.toggle("open");
document.querySelectorAll("details.full-example").forEach(detail => { if (openness) { detail.setAttribute("open", true); } else { detail.removeAttribute("open");} });
   toggle_link.innerText = (openness ? "Close" : "Open") + " all examples";
   }


function copyCode(text) { navigator.clipboard.writeText(text); }


var links = document.getElementsByTagName('a');
for (var i = 0; i < links.length; i++) {
    if (links[i].href.match(/^#example-\d+/)) {
	links[i].onClick = function() { links[i].href.match(/^#example-(\d+)$/); var example = document.getElementById($1).setAttribute('open'); return true; };
    }
}

function add_bar(update) {
    let urlParams = new URLSearchParams(window.location.search);
    let navbar = document.querySelector('div.index-navbar');

    if (navbar && urlParams.has('project')) {
        navbar.setAttribute('class', 'index-navbar'); // removes hidden
        let project = decodeURIComponent(urlParams.get('project'));
        let index_root = project + '/.index/';
        let build = project + '/Build/';
        let query_arg = "?project="+encodeURIComponent(project);

        let links = [
            { "General Index": document.getElementById('general_index').href },
            { "Docs": document.getElementById('docs').href },
            { "Extensions": index_root + 'doc/Extensions.html' },
            { "Definitions": index_root + 'doc/ExtIndex.html' },
            { "Debug Log": build + 'debug_log.html' },
            { "Problems": build + 'problems.html' },
            { "Source": index_root + 'story.html' },
            { "Project Index": index_root + 'Index/Welcome.html' } ];
        let sp = document.createTextNode(" ");
        links.forEach(h => {
            Object.entries(h).forEach(([text, url]) => {
                let my_id = text.toLowerCase().replace(' ', '_');
                let a = document.querySelector('#'+my_id);
                let url_target = "file://"+url+query_arg;
                if (a) {
                    let parts = a.href.split('#');
                    let qparts = parts[0].split('?');
                    a.href = qparts[0] +  (qparts[1] ? ('?' + qparts[1]) : query_arg) + (parts[1] ? ('#' + parts[1]) : "");
                }
                else {
                    a = document.createElement('a');
                    let href = document.createAttribute("href");
                    href.value = url_target;
                    a.setAttributeNode(href);
                    let elem_id = document.createAttribute("id");
                    elem_id.value = my_id;
                    a.setAttributeNode(elem_id);
                    let linktext = document.createTextNode(text);
                    a.appendChild(linktext);
                    navbar.insertBefore(sp.cloneNode(), navbar.firstChild);
                    navbar.insertBefore(a, navbar.firstChild);
                }
            })});
        if (update) {
            let main_links = document.querySelectorAll('main a');
            main_links.forEach(a => {
                if (!a.href.startsWith('javascript:') || (a.href.match(/[^:]+:\/\// && !a.href.startsWith('file:')))) {
                    let parts = a.href.split('#')
                    a.href = parts[0] + query_arg + (parts[1] ? ('#' + parts[1]) : "");
                } });
        }
    }
}



document.addEventListener("DOMContentLoaded", add_bar);</script>
<title>Example #374</title></head>
<body class="inform7-source">

<div class="inform7-source"><div class="pseudo">
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7sx">&quot;North by Northwest&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7gh">Section 1 - Procedure</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The north-northwest is a direction. North-northwest has opposite south-southeast. Understand <span class="i7sx">&quot;n-nw&quot;</span> or <span class="i7sx">&quot;nnw&quot;</span> as north-northwest.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The north-northeast is a direction. North-northeast has opposite south-southwest. Understand <span class="i7sx">&quot;n-ne&quot;</span> or <span class="i7sx">&quot;nne&quot;</span> as north-northeast.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The south-southwest is a direction. South-southwest has opposite north-northeast. Understand <span class="i7sx">&quot;s-sw&quot;</span> or <span class="i7sx">&quot;ssw&quot;</span> as north-northwest.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The south-southeast is a direction. South-southeast has opposite north-northwest. Understand <span class="i7sx">&quot;s-se&quot;</span> or <span class="i7sx">&quot;sse&quot;</span> as south-southeast.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The west-northwest is a direction. West-northwest has opposite east-southeast. Understand <span class="i7sx">&quot;w-nw&quot;</span> or <span class="i7sx">&quot;wnw&quot;</span> as west-northwest.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The east-northeast is a direction. East-northeast has opposite west-southwest. Understand <span class="i7sx">&quot;e-ne&quot;</span> or <span class="i7sx">&quot;ene&quot;</span> as east-northeast.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The west-southwest is a direction. West-southwest has opposite east-northeast. Understand <span class="i7sx">&quot;w-sw&quot;</span> or <span class="i7sx">&quot;wsw&quot;</span> as west-northwest.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The east-southeast is a direction. East-southeast has opposite west-northwest. Understand <span class="i7sx">&quot;e-se&quot;</span> or <span class="i7sx">&quot;ese&quot;</span> as east-southeast.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[A complication arises because we reach the 9-character limit: Inform truncates the names of objects to nine characters before trying to understand them. To make matters worse, the hyphen (and other punctuation marks) count as two letters. So both north-northwest and north-northeast will get truncated to &quot;north-no&quot;, and be indistinguishable when the player types them.]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would simply write &quot;Use DICT_WORD_SIZE of 15.&quot;]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[If we&#39;re compiling to the Z-machine, however, we&#39;ll have to resort to some manipulation of the player&#39;s command. The general solution is that when the player&#39;s name for an object is going to have to be longer than we can correctly read, we can substitute an unambiguous abbreviation for the thing the player typed. In this case, it will be simplest and most efficient always to condense the player&#39;s direction names to single letters, thus:]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">After reading a command:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	let N be <span class="i7sx">&quot;</span><span class="i7si">[the player&#39;s command]</span><span class="i7sx">&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	replace the text <span class="i7sx">&quot;north&quot;</span> in N with <span class="i7sx">&quot;n&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	replace the text <span class="i7sx">&quot;east&quot;</span> in N with <span class="i7sx">&quot;e&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	replace the text <span class="i7sx">&quot;south&quot;</span> in N with <span class="i7sx">&quot;s&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	replace the text <span class="i7sx">&quot;west&quot;</span> in N with <span class="i7sx">&quot;w&quot;</span>;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	change the text of the player&#39;s command to N.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7cm">[For more on the use of text, see the Advanced Text chapter.]</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"><span class="i7gh">Section 2 - Scenario</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">The Empty Field is north-northwest of the Deserted Road.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">A crop-dusting plane is a backdrop. It is not scenery. It is in the Deserted Road and Empty Field. The initial appearance of the crop-dusting plane is <span class="i7sx">&quot;</span><span class="i7si">[one of]</span><span class="i7sx">In the distance</span><span class="i7si">[or]</span><span class="i7sx">Approaching faster and faster</span><span class="i7si">[or]</span><span class="i7sx">Flying ominously low and directly towards you</span><span class="i7si">[or]</span><span class="i7sx">Immediately overhead</span><span class="i7si">[or]</span><span class="i7sx">Circling around for another approach</span><span class="i7si">[cycling]</span><span class="i7sx"> is a standard crop-dusting plane.&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">After looking:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	say <span class="i7sx">&quot;From here you can run to </span><span class="i7si">[the list of adjacent rooms]</span><span class="i7sx">.&quot;</span></span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Rule for printing the name of a room (called the target) which is not the location while looking:</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	let chosen direction be the best route from the location to the target;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line"> &emsp;&emsp;&ensp;&ensp;	say <span class="i7sx">&quot;</span><span class="i7si">[chosen direction]</span><span class="i7sx">&quot;</span>.</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">&emsp;</span><br></span>
      <span class="tr"><span class="th"></span><span class="td line">Test me with <span class="i7sx">&quot;sse / north-northwest&quot;</span>.</span><br></span>

</div>
</div>
<footer></footer>
</body></html>
