<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Writing in Inform 2. The Source Text</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Writing in Inform</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="wi_1.html#wi-chapter-1-welcome-to-inform">1. Welcome to Inform</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="wi_3.html#wi-chapter-3-things">3. Things</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>2. The Source Text</h2>
<div class="toc-section">2.1 <a href="wi_2.html#wi-2.1">Creating the world</a></div>
<div class="toc-section">2.2 <a href="wi_2.html#wi-2.2">Making rules</a></div>
<div class="toc-section">2.3 <a href="wi_2.html#wi-2.3">Punctuation</a></div>
<div class="toc-section">2.4 <a href="wi_2.html#wi-2.4">Problems</a></div>
<div class="toc-section">2.5 <a href="wi_2.html#wi-2.5">Headings</a></div>
<div class="toc-section">2.6 <a href="wi_2.html#wi-2.6">Why using headings is a good idea</a></div>
<div class="toc-section">2.7 <a href="wi_2.html#wi-2.7">The SHOWME command</a></div>
<div class="toc-section">2.8 <a href="wi_2.html#wi-2.8">The TEST command</a></div>
<div class="toc-section">2.9 <a href="wi_2.html#wi-2.9">Material not for release</a></div>
<div class="toc-section">2.10 <a href="wi_2.html#wi-2.10">Installing extensions</a></div>
<div class="toc-section">2.11 <a href="wi_2.html#wi-2.11">Including extensions</a></div>
<div class="toc-section">2.12 <a href="wi_2.html#wi-2.12">Use options</a></div>
<div class="toc-section">2.13 <a href="wi_2.html#wi-2.13">Administering classroom use</a></div>
<div class="toc-section">2.14 <a href="wi_2.html#wi-2.14">Limits and the Settings panel</a></div>
<div class="toc-section">2.15 <a href="wi_2.html#wi-2.15">What to do about a bug</a></div>
<div class="toc-section">2.16 <a href="wi_2.html#wi-2.16">Does Inform really understand English?</a></div>
</header>
<main>
<section class="chapter" id="wi-chapter-2-the-source-text">
<section class="section" id="wi-2.1"><div>



<h3>WI §2.1. Creating the world</h3>
<p>Designing an interactive fiction can be divided into two related activities. One is the creation of the world as it appears at the start of play: where and what everything is. The other is to specify the rules of play, which shape how the player interacts with that initially created world. A new Inform project is void and without form, so to speak, with nothing created: but it starts with hundreds of standard rules already in place.</p>
<p>The same division between creating things, and laying down rules, is visible in Inform source text. The creation of the world is done by making unconditional factual statements about it. For example,</p>

<div class="code"><p class="quoted">
The wood-slatted crate is in the Gazebo. The crate is a container.
</p></div>
<p>Inform calls sentences like these "assertions". The verb is always written in the present tense (thus the crate "is", not "will be"). Further examples are:</p>

<div class="code"><p class="quoted">
Mr Jones wears a top hat. The crate contains a croquet mallet.
</p></div>
<p>The words "is", "wears" and "contains" are forms of three of the basic verbs built in to Inform. There are only a few built-in assertion verbs, of which the most important are <em>to be</em>, <em>to have</em>, <em>to carry</em>, <em>to wear</em>, <em>to contain</em> and <em>to support</em>. (As we shall see, further assertion verbs can be created if needed.)</p>
<p>The world described by these assertions is the starting condition of the story: what happens when play begins is another matter. If somebody picks up the crate and walks off with it, then it will no longer be in the Gazebo. Mr Jones may remove his hat.</p>


</div></section>
<section class="section" id="wi-2.2"><div>





<h3>WI §2.2. Making rules</h3>
<p>The other kind of sentence tells Inform what should happen in certain circumstances, and reads like an instruction issued to someone:</p>

<div class="code"><p class="quoted">
Instead of taking the crate, say "It's far too heavy to lift."
</p></div>
<p>This is a "rule", and it changes the crate's behaviour. The player who tries typing "take crate", "pick up the crate" or similar will be met only with the unhelpful reply "It's far too heavy to lift." The many different kinds of thing which the player can do are called "actions", and are always written as participles: "taking ...", for instance, or "putting ... on ...".</p>
<p>Inform is built on a mass of several hundred rules, some quite complex, and it could even be said that Inform <em>is</em> that mass of rules. We never see the complexity behind the scenes because the whole aim is to provide a basic, penny-plain, vanilla flavoured sort of realism. It would be surprising if one could put the crate inside itself, so a rule exists to forbid this. It would be surprising if one could drop something which was already on the ground, and so on. These basic rules of realism are the ones which every new Inform project starts with.</p>
<p>A rule always starts with a situation which it applies to, and then follows with one or more things to do. Here's an example where the situation is "Before taking the crate" - the player is just starting to try to pick the box up - and there's a three-step process to follow, but steps 2 and 3 happen only if step 1 comes out in a particular way:</p>

<div class="code"><p class="quoted">
Before taking the crate:
<br>    if the player is wearing the hat:
<br>        now the hat is in the crate;
<br>        say "As you stoop down, your hat falls into the crate."
</p></div>
<p>The steps to follow here are called "phrases". Inform knows about 400 built-in phrases, but most of them are needed only occasionally. These three are used over and over again:</p>

<div class="code"><p class="quoted">
<strong>if</strong> tells Inform to do something only if some "condition" holds, here "the player is wearing the hat";
<br><strong>now</strong> tells Inform to change the situation, here so that the hat moves to the crate; and
<br><strong>say</strong> tells Inform to say something, that is, to write some text for the player to read.
</p></div>
<p>Every one of the built-in phrases has a definition somewhere in this book. The full definition of "say" will come later, but in the simple form above it writes out the given text for the player to read. (Normally this text is simply shown on screen, not spoken aloud, unless software adapted for partially sighted people is being used.) Phrase definitions are all linked to in the Phrases page of a project's Index.</p>


</div></section>
<section class="section" id="wi-2.3"><div>





<h3>WI §2.3. Punctuation</h3>
<p>An example rule from the previous section demonstrates one of Inform's conventions about punctuation, and is worth pausing to look at again.</p>

<div class="code"><p class="quoted">
Instead of taking the crate, say "It's far too heavy to lift."
</p></div>
<p>In English grammar, it's usual to regard a full stop as closing its sentence even when it occurs inside quotation marks, provided there is no indication to the contrary, and this is also the rule used by Inform. Thus:</p>

<div class="code"><p class="quoted">
The description is "Shiny." It is valuable.
</p></div>
<p>is read as equivalent to</p>

<div class="code"><p class="quoted">
The description is "Shiny.". It is valuable.
</p></div>
<p>Sentence breaks like this occur only when the final character of the quoted text is a full stop, question mark or exclamation mark (or one of these three followed by a close bracket) and the next word begins, in the source code, with a capital letter. A paragraph break also divides sentences, behaving as if it were a full stop.</p>
<p>Material in square brackets [like so] is "comment", in computing jargon: it is considered as being an aside, a private note by the author, and not read in by Inform. This allows us to make notes to ourselves like so:</p>

<div class="code"><p class="quoted">
The China Shop is a room. [Remember to work out what happens if the bull gets in here!]
</p></div>
<p>Inform is all about text, so pieces of text are often quoted in Inform source. This example is typical:</p>

<div class="code"><p class="quoted">
The description is "Shiny." It is valuable.
</p></div>
<p>Quotations always use double-quotation marks, which aren't part of the text. So the description here is just the five letters and full stop in between the marks:</p>

<div class="code"><p class="quoted">
Shiny.
</p></div>
<p>That seems straightforward, but there are three conventions to watch out for.</p>
<p>1. Square brackets [ and ] inside quoted text don't literally mean [ and ]. They're used to describe what Inform should say, but in a non-literal way. For example,</p>

<div class="code"><p class="quoted">
"Your watch reads [time of day]."
</p></div>
<p>might produce</p>

<div class="code"><p class="quoted">
Your watch reads 9:02 AM.
</p></div>
<p>These are called "text substitutions". They're highly flexible, and they can take many different forms.</p>
<p>2. Single quotation marks at the edges of words are printed as double. So:</p>

<div class="code"><p class="quoted">
"Simon says, 'It's far too heavy to lift.'"
</p></div>
<p>produces</p>

<div class="code"><p class="quoted">
Simon says, "It's far too heavy to lift."
</p></div>
<p>3. Texts which end with sentence-ending punctuation - full stop, question mark, exclamation mark - are printed with a line break after them. So:</p>

<div class="code"><p class="quoted">
say "i don't know how this ends";
<br>say "I know just how this ends!";
</p></div>
<p>would come out quite differently - this doesn't affect the appearance of the text, but only the position where the next text will appear. Something to be careful about is that this only applies when the punctuation occurs at the end of a "say", as in these examples. (It doesn't apply when a varying textual value is printed, using some text substitution, because then the pattern of where line breaks occur would be unpredictable - sometimes the value might end in a punctuation mark, sometimes not.)</p>
<p>These three punctuation rules for texts feel very natural with practice, and Inform users sometimes don't realise the third rule is even there, because it just seems the right thing to happen. But occasionally the rules get in the way of what we want to do. (For instance, how do we get a literal [ or ]? What if we want a single quote mark where Inform thinks we want a double, or vice versa?) So we'll come back to these rules in more detail in the <a href="wi_5.html#wi-chapter-5-text">chapter on Text</a>.</p>
<p>Inform also reads other punctuation marks. Colon ":" and semicolon ";" turned up in the previous section, in the writing of rules. It also has the more exotic "|" (not a capital I, a vertical stroke) for paragraph breaks outside of quoted text, but people hardly ever need this.</p>
<p>As these examples begin to show, Inform source imitates the conventions of printed books and newspapers whenever there is a question of how to write something not easily fitting into words. The first example of this is how Inform handles headings, but to see why these are so useful we first look at Problems.</p>


</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="wi_5.html#wi-5.2" class="crossreference_link">How Inform reads quoted text</a> for a fuller exploration of the punctuation rules for text</div>
</div></section>
<section class="section" id="wi-2.4"><div>





<h3>WI §2.4. Problems</h3>
<p>The language used in the source reads as if it were English aimed at a human reader (and this is intentional: the designer, after all, is a human reader and needs to be able to understand his or her own source), but in reality Inform can only understand a very modest range of sentences and will complain if its limits are passed. Subtler problems arise if the source contains contradictions. For instance, the following "Problem" might be produced:</p>

<div class="code"><p class="quoted">
<strong>Problem.</strong> You wrote 'A starting pistol is in the cup' <img alt="Reveal.png" src="doc_images/Reveal.png">, but in another sentence 'A Panama hat is on the cup' <img alt="Reveal.png" src="doc_images/Reveal.png">: the trophy cup cannot both contain things and support things, which is what you're implying here. If you need both, the easiest way is to make it either a supporter with a container attached or vice versa. For instance: 'A desk is here. On the desk is a newspaper. An openable container called the drawer is part of the desk. In the drawer is a stapler.'
</p></div>
<p>This is a rather discursive error message, and if a similar problem were to occur in the same run through, it would be curtailed to:</p>

<div class="code"><p class="quoted">
<strong>Problem.</strong> You wrote 'A firing pistol is in the box' <img alt="Reveal.png" src="doc_images/Reveal.png">, but in another sentence 'A fedora hat is on the box' <img alt="Reveal.png" src="doc_images/Reveal.png">: again, the croquet box cannot both contain things and support things.
</p></div>
</div></section>
<section class="section" id="wi-2.5"><div>





<h3>WI §2.5. Headings</h3>
<p>Inform provides for us to organise the source code in just the way that a printed book would be organised: with headings and subheadings. Firstly, we can put the title at the top. If the first paragraph consists only of a single quoted piece of text, then that's the title; and an author can also be given, as follows:</p>

<div class="code"><p class="quoted">
"Spellbreaker" by Dave Lebling
</p></div>
<p>We will later see that more bibliographic information can also be placed here, in the same way that the imprint page of a novel comes before the text gets going. The author's name can normally be given without quotation marks, so long as it contains no punctuation. For instance:</p>

<div class="code"><p class="quoted">
"Three Men in a Boat" by "Jerome K. Jerome"
</p></div>
<p>needs quotes as otherwise the full stop after the K will be mistaken for the end of a sentence.</p>
<p>A sentence which is the only one in its paragraph and which begins with any of the words "volume", "book", "part", "chapter" or "section" is considered to be a heading or a sub-heading. It must not contain a typed line break, and in order to stand alone in its paragraph there should be a skipped line both before and after it. For instance:</p>

<div class="code"><p class="quoted">
Section 2 - Flamsteed's Balloon
</p></div>
<p>Headings can be written in any format, provided they start with one of the five indicator words, and they are hierarchical: a "Part ..." heading is considered more significant than a "Chapter ..." heading but not so significant as a "Book ..." heading, and so on. (We do not need to use all five kinds of heading.)</p>


</div></section>
<section class="section" id="wi-2.6"><div>





<h3>WI §2.6. Why using headings is a good idea</h3>
<p>Reports of problems, as we have seen, often quote back the source to justify themselves. Rather than quoting line numbers ("Midsummer Day, line 2017" or something similar) Inform uses the <img alt="Reveal.png" src="doc_images/Reveal.png"> icon. The down side of this is that a glance at the list of problems might give little hint of whereabouts in the source the difficulties lie. Inform therefore makes use of headings to give a general indication:</p>

<div class="code">
<p class="quoted">
In Part the First, Chapter 1 - Attic Area:
</p>
<p class="quoted">
<strong>Problem.</strong> You wrote 'South of the Attic is the Winery' <img alt="Reveal.png" src="doc_images/Reveal.png">, but in another sentence 'South of the Attic is the Old Furniture' <img alt="Reveal.png" src="doc_images/Reveal.png">: this looks like a contradiction, which might be because I have misunderstood what was meant to be the subject of one or both of those sentences.
</p>
<p class="quoted">
In Chapter 2 - Deeper In:
</p>
<p class="quoted">
<strong>Problem.</strong> You wrote 'The Disused Observatory is south of the Dark Room' <img alt="Reveal.png" src="doc_images/Reveal.png">, but in another sentence 'South of the Dark Room is the Cupboard' <img alt="Reveal.png" src="doc_images/Reveal.png">: again, this looks like a contradiction.
</p>
</div>
<p>Secondly, headings are used in the Contents page of the Index, and they allow rapid navigation through the source, by jumping to any heading or subheading with a single click.</p>
<p>Finally, headings are used when working out what a name refers to. Suppose the source contains both a "four-poster bed" and also a "camp bed", and we write something like "The pillow is on the bed." Inform decides which bed is meant by giving priority to whichever is defined in the current section (so far), or failing that the current chapter, or current part, or current book, or finally the current volume. This allows us to write, for instance,</p>

<div class="code"><p class="quoted">
The four-poster bed is in the Boudoir. The pillow is on the bed.
</p></div>
<p>and not have the pillow mysteriously turn up on the camp bed, which hasn't been mentioned since way back in <a href="wi_2.html#wi-chapter-2-the-source-text">Chapter 2.</a></p>


</div></section>
<section class="section" id="wi-2.7"><div>





<h3>WI §2.7. The SHOWME command</h3>
<p>Problem messages are generated when the source text does not make sense to Inform. Even if it does make sense, though, there is no guarantee that it does what the author intends, and the only way to find out is to test the result by playing through it (or asking others to). For the most part one plays as if one were the eventual reader of the work, but sometimes it is highly convenient to have the god-like powers which are an author's prerogative. These are provided by the testing commands, which are present at every stage until the final release version (generated by the Release button). They will be introduced in this manual as they become relevant: here is the first.</p>
<p>The testing command SHOWME prints out a brief summary about a room or thing, and any contents or parts it may have. Typing SHOWME on its own shows the current room, but any item or room in the story, however distant, can be named instead. For instance:</p>

<div class="code">
<p class="quoted">
&gt;showme
<br>Boudoir - room
<br>    four-poster bed - supporter
<br>    yourself - person
<br>    pillow
</p>
<p class="quoted">
&gt;showme diamonds
<br>diamonds - thing
<br>location: in the strongbox on the dresser in the Drawing Room
<br>unlit; inedible; opaque; portable; singular-named; improper-named
<br>description: The diamonds glitter dangerously.
<br>printed name: diamonds
</p>
</div>
<p>Much of this can be seen, and seen more easily, in the World tab of the Index panel: but that only shows the initial state of play, whereas the SHOWME command reveals the situation in mid-story. ("Room", "supporter" and so on are kinds, of which more in <a href="wi_3.html#wi-chapter-3-things">Chapter 3.</a>)</p>


</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="wi_24.html#wi-24.3" class="crossreference_link">High-level debugging commands</a> for more convenient testing commands like this one</div>
</div></section>
<section class="section" id="wi-2.8"><div>





<h3>WI §2.8. The TEST command</h3>
<p>The only way to thoroughly test a work of IF is to run a complete solution through it, and carefully check the resulting transcript of dialogue. The Skein and Transcript tools of the Inform application are provided for exactly this purpose.</p>
<p>All the same, most works of interactive fiction contain occasional vignettes, either in terms of short scenes of narrative, or in the behaviour of particular things or rooms, which we would like to test without the fuss of using the full story-level Skein tool. The examples in the documentation are like this: in almost every example, typing TEST ME puts the story through its paces.</p>
<p>Solutions or sequences for testing ("scripts") can be defined with sentences like so:</p>

<div class="code"><p class="quoted">
Test balloon with "get balloon / blow balloon / drop balloon".
</p></div>
<p>This has no effect on the design itself, but ensures that when the story is played, typing "test balloon" will run through the given three commands in sequence, as if we had typed "get balloon" and then "blow balloon" and then "drop balloon".</p>
<p>The name for the test (balloon in this example) has to be a single word. Typing just "test" at the story prompt gives a list of all the test scripts known to the story. Test scripts can make use of each other, for instance:</p>

<div class="code"><p class="quoted">
Test all with "test balloon / test door".
</p></div>
<p>One convenient way to keep track of the solution for a work being written is to include a test script at the end of each section, and to place a master test script (like "test all") at the top of the source. But different designers will prefer different approaches, and this testing system is no more than an optional convenience.</p>
<p>Many tests will only be sensible in given places, which may be hard to reach from the initial position; or with the aid of given things, which may be difficult to obtain. We are therefore allowed to add stipulations to test scripts:</p>

<div class="code"><p class="quoted">
Test balloon with "get balloon / blow balloon / drop balloon" holding the balloon.
</p></div>
<p>The "... holding the balloon" means that the balloon will be transferred to the player's ownership immediately before the test script is run, unless it is already held. Similarly:</p>

<div class="code"><p class="quoted">
Test jam with "get jam / taste jam / eat jam" in the Kitchen.
</p></div>
<p>Or we might want to say both:</p>

<div class="code"><p class="quoted">
Test jam with "get jam / taste jam / eat jam" in the Kitchen holding the jam.
</p></div>
<p>(Single quotation marks in test scripts are interpreted the same way in test scripts as they are in other text: that is, they are sometimes read as double-quotes unless they appear to be present as apostrophes. The notation ['] forces a single quotation mark if necessary. Similarly, [/] forces a literal forward slash, and prevents the / from being read as dividing up two commands.)</p>
<p>Sometimes when testing it's convenient to get hold of something not easily available at the moment. The testing command "PURLOIN" does this:</p>

<div class="code">
<p class="quoted">
The jewelled Turkish clockwork hat is in the sealed glass box.
</p>
<p class="quoted">
&gt; PURLOIN HAT
<br>[Purloined.]
</p>
</div>
<p>This can also make test scripts shorter, but of course it's important to make sure that people without PURLOIN powers can still play through.</p>


</div></section>
<section class="section" id="wi-2.9"><div>





<h3>WI §2.9. Material not for release</h3>
<p>Special testing commands, like "TEST" and "SHOWME", are automatically excluded from the story if it is exported from the Inform application using the Release button. We sometimes want to write our own for-testing-purposes-only code, though, and for this purpose we are allowed to designate whole headings as being "not for release":</p>

<div class="code">
<p class="quoted">
 Section 10 - Open sesame - Not for release
</p>
<p class="quoted">
Universal opening is an action applying to nothing.
<br>Understand "open sesame" as universal opening.
<br>Carry out universal opening: now all doors are open.
<br>Report universal opening: say "Open Sesame!"
</p>
</div>
<p>Clearly we do not wish the final reader to be able to type "OPEN SESAME", so this whole heading will be disregarded in the Release version, as will any heading whose name includes "not for release".</p>
<p>Note that if a chapter, say, is marked as "not for release", then its subheadings (mere sections) will also not be for release. If in doubt, check the "Contents" index: if any section is "not for release" then so are all of its subheadings.</p>
<p>The reverse effect is produced by:</p>

<div class="code"><p class="quoted">
Section 10 - Open sesame - For release only
</p></div>
<p>That is, it marks material included only in a Release version.</p>


</div></section>
<section class="section" id="wi-2.10"><div>





<h3>WI §2.10. Installing extensions</h3>
<p>The original Inform of 1993 provided no special facilities for "extensions" - in effect, additional packets of rules providing extra features - but the creation and circulation of these extensions soon became a flourishing part of Inform culture. Today's Inform actively promotes sharing of such extensions, both to bring writers together and to support good practice. For the user of an extension, the advantage is clear: why go to great trouble to (say) work out how to make doors open automatically as needed, when somebody else has already perfected this? For the writer of an extension, there is the satisfaction of producing a good solution to a ticklish problem, and contributing to the public good.</p>
<p>Newcomers will probably not need extensions for quite some while, but there is nothing difficult about using them, so a few brief notes are worth giving here. (The <a href="wi_27.html#wi-chapter-27-extensions">final chapter of the documentation</a> covers the writing of new extensions.)</p>
<p>Extensions are identified by name (say "Following People") and also by author (say "Mary Brown"). They need to be installed before they can be used, which means downloading them from the Internet. By far the easiest way to do this is to use the Public Library feature of Inform: then the application can do everything, letting us either choose individual extensions or download them en masse. But it's also possible to install extensions by hand.</p>
<p>When using Inform on Linux, this means storing them in the folder</p>

<div class="code"><p class="quoted">
~/Inform/Extensions/
</p></div>
<p>where "~" signifies your home folder. (This will have been created for you the first time you ran i7.)  Each author has a subfolder of this folder, and his or her extensions live inside it. Our example extension should therefore be placed as:</p>

<div class="code"><p class="quoted">
~/Inform/Extensions/Mary Brown/Following People.i7x
</p></div>
<p>In fact, though, Inform can automatically install extensions for us: we need only select the "Install Extension..." item on the File menu.</p>
<p>The actual extension file should always be named with a ".i7x" suffix, meaning "I7 extension" - for instance, "Following People.i7x".</p>
<p>To provide an example, Emily Short's useful extension "Locksmith" is one of a small number of extensions which come ready-installed as part of the basic Inform package, and need not be downloaded and installed.</p>
<p>Each time that Inform translates any source text, it performs a quick check of the extensions available, and updates its own internal records. A directory of the extensions currently installed can be found by clicking on "Installed Extensions" from the Extensions panel. This is also worth visiting in order to browse the Public Library, a selection of extensions contributed by Inform users.</p>


</div></section>
<section class="section" id="wi-2.11"><div>





<h3>WI §2.11. Including extensions</h3>
<p>We talk about "including" such an extension into a work of IF because the process merges rules and behaviours from the extension with those we have described ourselves. It's not uncommon for contributions by five or six different people to be pooled together this way.</p>
<p>Including an extension is only a matter of writing a single sentence in the source. For instance:</p>

<div class="code"><p class="quoted">
Include Locksmith by Emily Short.
</p></div>
<p>Note that it is compulsory to name both extension and author.</p>
<p>Many extensions come with their own documentation. Again, follow the "Installed Extensions" link to see what's available from them.</p>


</div></section>
<section class="section" id="wi-2.12"><div>





<h3>WI §2.12. Use options</h3>
<p>One more preliminary. Inform has a small number of optional settings which affect the result of translating the source. The sentence:</p>

<div class="code"><p class="quoted">
Use American dialect.
</p></div>
<p>makes the resulting work of IF use American spellings (except where the designer spells otherwise) and the American convention for spelling out numbers (thus, "one hundred seventeen" not "one hundred and seventeen"). Similarly:</p>

<div class="code"><p class="quoted">
Use the serial comma.
</p></div>
<p>uses a comma when printing lists: thus "Julian, Dick, George, and Anne" rather than "Julian, Dick, George and Anne". A more profound change is made by</p>

<div class="code"><p class="quoted">
Use scoring.
</p></div>
<p>which introduces the concept of a numerical score - something which modern authors of interactive fiction often feel is inappropriate, which is why Inform only provides it on request. Two alternative options:</p>

<div class="code"><p class="quoted">
Use full-length room descriptions.
<br>Use abbreviated room descriptions.
</p></div>
<p>change the normal way room descriptions are shown: normally they are given in full, but in abbreviated mode, they're never given. (The latter is a bad idea in any publicly released story, but is provided for completeness and in case it may help testing.) Alternatively, we can set the traditional Infocom-style of room description to any of VERBOSE, BRIEF and SUPERBRIEF:</p>

<div class="code"><p class="quoted">
Use VERBOSE room descriptions.
<br>Use BRIEF room descriptions.
<br>Use SUPERBRIEF room descriptions.
</p></div>
<p>The default is now VERBOSE, but until 2010 it was BRIEF.</p>
<p>Next we have:</p>

<div class="code"><p class="quoted">
Use undo prevention.
</p></div>
<p>which disables the UNDO verb, both in play and after death, for the benefit of stories which are heavily randomised and where we do not want players to keep on UNDOing until they get a random outcome which is to their taste. (Many players consider UNDO to be their birthright, and that any work using this option is an abomination: indeed, it has even been suggested that this section of the Inform documentation be censored. To use the option is to court controversy if not outright hostility.)</p>
<p>We can combine any number of options in a single "Use" sentence, so for example:</p>

<div class="code"><p class="quoted">
Use American dialect and the serial comma.
</p></div>
<p>brings about both of these changes.</p>


</div></section>
<section class="section" id="wi-2.13"><div>





<h3>WI §2.13. Administering classroom use</h3>
<p>Inform is increasingly used in education, where teachers sometimes need to install it on a whole room of computers at once, and want to monitor their students' progress. There is no special "classroom" version of Inform, but a couple of small administration features in the standard Inform - usually never needed - might be helpful to teachers.</p>
<p>When Inform starts up, it now looks for a file called Options.txt inside the user's home folder for Inform. (On Mac OS X, this is "~/Library/Inform"; on Windows, "My Documents\Inform", and so on.) If the file is present, then the text in it is added to the source text of everything Inform translates.</p>
<p>This must be used only to set use options, specify test commands, and give release instructions. For example, the following is a valid "Options.txt":</p>

<div class="code"><p class="quoted">
Use American dialect.
<br>Test fish with "fish/fish with pole/angle".
<br>Release along with source text.
</p></div>
<p>The idea is that this file can be used for setting up a standard configuration on multiple machines in a classroom setting. Here the instructor can make sure the Release button will do what she would like, and can arrange for each student's copy of Inform to respond to given Test commands: for instance, if the class has an assignment to create a simulation of a camera, the instructor could set up "Options.txt" so that TEST CAMERA would run through some commands the camera ought to respond to.</p>
<p>A new use option, "Use telemetry recordings.", causes Inform to copy its outcome and problem messages to files in its home folder (see above) as they occur. These files are dated, so that for instance</p>

<div class="code"><p class="quoted">
Telemetry 2009-03-25.txt
</p></div>
<p>contains all of the recorded activity on 25 March 2009. Telemetry only records the contents of the "Problems" panel - notes of success or failure, and problem messages - and nothing is transmitted via any network, so it isn't really surveillance. The user can deliberately add a note to the current telemetry file by writing something like this in source text:</p>

<div class="code"><p class="quoted">
* "I don't get it! What's a kind? Why can't the lamp be lighted?"
</p></div>
<p>(This is a way to make a note for the benefit of someone who will read the telemetry file - for instance, to comment on a problem message that has just appeared. Note the double-quotes. Otherwise, it's meant to look like the standard way that beta-testers mark up IF transcripts.)</p>
<p>These two features have been added in response to requests from education users. Let's suppose that Mr Lebling, who teaches 5th grade in Minnesota, wants to set things up just right for his class. He installs Inform on the ten computers they will use, and also copies an Options.txt file from his memory stick onto each one. The Options.txt file reads:</p>

<div class="code"><p class="quoted">
Use serial comma.
<br>Use American dialect.
<br>Use telemetry recordings.
</p></div>
<p>Now Mr Lebling's class won't be confronted with English spellings, and so on. And most of the kids are happy, but Mr Lebling gets the feeling that young Marc wasn't really paying attention, so after class he checks that day's Telemetry file for that computer to see what Marc was up to, and whether he was stuck on something.</p>


</div></section>
<section class="section" id="wi-2.14"><div>





<h3>WI §2.14. Limits and the Settings panel</h3>
<p>No computer has unlimited capacity, and a large, complex project may eventually bump its head against the ceiling.</p>
<p>Inform is a system for translating textual descriptions of interactive fiction into "story files". No single format of story file is standard to the IF community. The formats developed over the history of IF differ in three key respects:</p>

<div class="code"><p class="quoted">
- the range of computers or devices capable of playing them;
<br>- how large they are, that is, how much play they can express;
<br>- what extra-textual effects they can bring off.
</p></div>
<p>Inform can write to two different formats. Neither of these is proprietary, and neither was created by the authors of Inform: each format is a community property, defined by published standards documents. An individual Inform project can make its own choice of story file format, using that project's Settings panel.</p>
<p>Newly created projects are set up with the Glulx format. This has largely taken over from an earlier format called the Z-machine, but Inform can still generate a version 8 Z-machine file (a so-called "z8") if required. The Z-machine is of historic importance, and may continue to be useful for certain tasks where Glulx support is not yet available, but most users will want to keep the Glulx format set all of the time.</p>
<p>Internally, the Inform application uses a tool called Inform 6 (which was once the entire Inform system) to manufacture the story file. There are therefore two ways that large projects can run out of space:</p>

<div class="code"><p class="quoted">
(a) By exceeding some maximum in Inform 6, or
<br>(b) By exceeding some fundamental limitation of the current story file format.
</p></div>
<p>In both cases, the Inform application will display a Problems page explaining that the Inform 6 tool has failed to work as intended, and refer us to the "console output" - the text produced by Inform 6 - which is normally ignored, but can be found on the Console tab of the Results panel.</p>
<p>In case (a), Inform 6 will say that a memory setting has been exceeded: it will say what this setting is called (for instance "MAX_ZCODE_SIZE") and what its current value is (for instance 50000). We can then avoid the problem by adding the following use option into the source text:</p>

<div class="code"><p class="quoted">
Use MAX_ZCODE_SIZE of 60000.
</p></div>
<p>And similarly for every other Inform 6 memory setting. (If the source tries to specify the same setting more than once - which is quite possible if extensions are included, with rival ideas - then the highest value is used.)</p>
<p>Case (b) is only likely to happen with the Z-machine format, since Glulx has a huge capacity; so the cure here is to switch to Glulx in the Settings. But if that's not possible for some reason - say, if we want a story file playable on a tiny handheld computer unable to manage Glulx - we still have a few options. Unless the story is very large (in which case there is little we can do), the "z8" format is most likely to be exhausted for lack of what is called "readable memory", with a message like so:</p>

<div class="code"><p class="quoted">
This program has overflowed the maximum readable-memory size of the Z-machine format. See the memory map below: the start of the area marked "above readable memory" must be brought down to $10000 or less.
</p></div>
<p>followed by a tabulation of how the Z-machine's storage has been used, a large but not very useful diagram. The first time one runs into the problem on a large project, it can be postponed, by adding the following to the source:</p>

<div class="code"><p class="quoted">
Use memory economy.
</p></div>
<p>(Economy cuts down the verbosity of some of the testing commands, but otherwise subtracts no performance.) Writing this into the source is the equivalent of a diver switching to an emergency oxygen tank: it gives us a generous safety margin, but also tells us that now is the time to wrap things up.</p>
<p>If we hit the problem again, genuine cuts must be made. As a general rule, the most memory-expensive ingredients of an Inform design are various-to-various relations between large kinds such as "thing" or, if there are many rooms, "room". Other than that, if a kind has been festooned with new properties and we have created dozens of items of that kind, then we can get a fairly large saving simply by doing without one of those properties; and so on.</p>
<p>The ultimate memory-saving device, of course, is the one used by book publishers when there are too many pages to bind: to cut the design into two stories, Part I and Part II.</p>


</div></section>
<section class="section" id="wi-2.15"><div>





<h3>WI §2.15. What to do about a bug</h3>
<p>In its present guise, Inform is a young piece of software, and bugs are to be expected from time to time. The most obvious bugs are the ones which Inform catches itself, when it confesses that it has halted in failure, or translated the source text into a program which cannot be compiled further. But sometimes it will also happen that Inform will issue a misleading Problem message, or appear to work normally but to produce a story which does not do what it should have done.</p>
<p>It is very helpful for users to report faults, so that the program can be improved for everyone else. To report a fault, please first check with the Inform home page to make sure that the version of Inform you have used to detect the fault is the latest version available. You can find the latest versions at</p>

<div class="code"><p class="quoted">
http://inform7.com/download/
</p></div>
<p>If the bug is still present in the latest version, please report the bug using Inform's bug tracking database, found at</p>

<div class="code"><p class="quoted">
http://inform7.com/mantis/
</p></div>
<p>We can search existing bug reports using the search box at</p>

<div class="code"><p class="quoted">
http://inform7.com/mantis/view_all_bug_page.php
</p></div>
<p>It may be that someone else has already identified the bug and even that a workaround for users is suggested. If not, please make an account at the bug tracking system and submit the requested information to help Inform's maintainers track and fix the fault.</p>


</div></section>
<section class="section" id="wi-2.16"><div>





<h3>WI §2.16. Does Inform really understand English?</h3>
<p>No. No computer does, and Inform does not even try to read the whole wide range of text: it is a practical tool for a particular purpose, and it deals only with certain forms of sentence useful to that purpose. Inform source text may look like "natural language", the language we find natural among ourselves, but in the end it is a computer programming language. Many things which seem reasonable to the human reader are not understood by Inform. For instance, Inform understands</p>

<div class="code"><p class="quoted">
something which is carried by the player
</p></div>
<p>but not (at present, anyway)</p>

<div class="code"><p class="quoted">
something which the player carries
</p></div>
<p>even though both are perfectly good English. So it is not always safe to assume that Inform will understand any reasonable instruction it is given: when in doubt, we must go back to the manual.</p>
<p>More philosophically, to "understand" involves contextual knowledge. Just because Inform recognises and acts on a sentence, does it really understand what we meant? It will turn out that Inform is both good and bad at this. For instance, from</p>

<div class="code"><p class="quoted">
Mr Darcy wears a top hat.
</p></div>
<p>Inform will correctly deduce that Darcy is a person, because inanimate objects do not ordinarily wear clothes, and that the top hat is clothing. But it will not automatically know that Darcy is a man rather than a woman because it does not know the social convention implied by "Mr". Moreover, if instead we had written</p>

<div class="code"><p class="quoted">
Mr Darcy carries a top hat.
</p></div>
<p>then Inform would not guess that the top hat is clothing. This is because it does not have the vast vocabulary and experience of a human reader: it is probably discovering the word "hat" for the first time.</p>
<p>Finally, it is best to avoid ambiguities rather than rely on Inform to know which meaning is patently absurd. For instance, in</p>

<div class="code"><p class="quoted">
Heatwave bone breaks clog hospital.
</p></div>
<p>(a headline once printed by the <em>Oxford Mail</em> newspaper) a human reader quickly realises that there is no clog hospital being broken. But if Inform had been taught the verbs <em>to break</em> and <em>to clog</em> then that is exactly the conclusion it would have drawn. Or an example which genuinely arose in beta-testing:</p>

<div class="code"><p class="quoted">
The life support unit fits the egg.
</p></div>
<p>in which Inform construed the verb as <em>support</em> and not <em>fits</em>, and then created items called "the life" (plural) and "unit fits the egg".</p>
<p>That disclaimer completes the groundwork, and we are ready to begin on simulating a world to explore.</p>


</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/WI_2_1.html">WI Chapter 2 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="wi_1.html#wi-chapter-1-welcome-to-inform">1. Welcome to Inform</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="wi_3.html#wi-chapter-3-things">3. Things</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

