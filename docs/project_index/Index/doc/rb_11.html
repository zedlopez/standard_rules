<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Recipe Book 11. Out Of World Actions and Effects</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Recipe Book</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_10.html#rb-chapter-10-physics-substances-ropes-energy-and-weight">10. Physics: Substances, Ropes, Energy and Weight</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_12.html#rb-chapter-12-typography-layout-and-multimedia-effects">12. Typography, Layout, and Multimedia Effects</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>11. Out Of World Actions and Effects</h2>
<div class="toc-section">11.1 <a href="rb_11.html#rb-11.1">Start-Up Features</a></div>
<div class="toc-section">11.2 <a href="rb_11.html#rb-11.2">Saving and Undoing</a></div>
<div class="toc-section">11.3 <a href="rb_11.html#rb-11.3">Helping and Hinting</a></div>
<div class="toc-section">11.4 <a href="rb_11.html#rb-11.4">Scoring</a></div>
<div class="toc-section">11.5 <a href="rb_11.html#rb-11.5">Settings and Status Checks During Play</a></div>
<div class="toc-section">11.6 <a href="rb_11.html#rb-11.6">Ending The Story</a></div>
</header>
<main>
<section class="chapter" id="rb-chapter-11-out-of-world-actions-and-effects">
<section class="section" id="rb-11.1"><div>



<h3>RB §11.1. Start-Up Features</h3>
<p>When the story file starts up, it often prints a short introductory passage of text (the "overture") and then a heading describing itself, together with some version numbering (the "banner"). It is traditional that the banner must appear eventually (and one of the few requirements of the Inform licence is that the author acknowledge Inform somewhere, for which the banner is sufficient) but some designs call for a multi-turn prologue before the banner finally appears, and marks the start of play in earnest. <a href="rb_11.html#example-382" class="example-link" onClick="(function() { document.getElementById('example-382').setAttribute('open','open'); return true; })();">Bikini Atoll</a><span class="example-difficulty"> ★</span> demonstrates this.</p>
<p>If a story file represents the latest in a sequence of story files representing chapters in some larger narrative, it will need some way to pick up where its predecessor left off. This can be done with the aid of external files (in the Glulx format, at least). <a href="rb_11.html#example-440" class="example-link" onClick="(function() { document.getElementById('example-440').setAttribute('open','open'); return true; })();">Alien Invasion Part 23</a><span class="example-difficulty"> ★</span> shows how.</p>
<p>Another task we might want to perform a the beginning of play is to arrange any randomized features that are supposed to change from one playing to the next. We can add such instructions with "When play begins" rule, as in:</p>

<div class="code"><p class="quoted">
When play begins:
<br>    now the priceless treasure is in a random room.
</p></div>
<p>Since we may want to do something a bit more complicated than this, <a href="rb_11.html#example-126" class="example-link" onClick="(function() { document.getElementById('example-126').setAttribute('open','open'); return true; })();">Hatless</a><span class="example-difficulty"> ★★</span> demonstrates effective and ineffective methods of distributing multiple objects (in this case, one randomly-selected hat per person).</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_3.html#rb-3.2" class="crossreference_link">Map</a> for a way to generate a randomized maze at the start of play</div>
<div class="crossreference">
<a href="rb_9.html#rb-9.1" class="crossreference_link">Food</a> for a way to choose a random piece of candy to be poisonous</div>
<div class="crossreference">
<a href="rb_7.html#rb-7.1" class="crossreference_link">Getting Acquainted</a> for a way to choose a murderer from among the characters at the start of each story</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-382"><summary><span class="example-summary">382. Bikini Atoll</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Bikini%20Atoll%22%20by%20Edward%20Teller%5Cn%5CnThe%20Hut%20and%20the%20Tropical%20Beach%20are%20rooms.%5Cn%5CnThe%20conch%20shell%20is%20in%20the%20Hut.%20After%20taking%20the%20shell%20for%20the%20first%20time:%20say%20%22As%20you%20gather%20the%20oddly-warm%20conch%20shell%20into%20your%20arms,%20you%20experience%20a%20sudden%20flash%20of%20deja-vu...%5Bbanner%20text%5D%22;%20move%20the%20player%20to%20the%20Tropical%20Beach.%5Cn%5CnRule%20for%20printing%20the%20banner%20text%20when%20the%20player%20is%20not%20carrying%20the%20shell:%20do%20nothing.%5Cn%5CnTest%20me%20with%20%22look%20/%20examine%20shell%20/%20get%20shell%20/%20look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Bikini Atoll" by Edward Teller
</p>
<p class="quoted">
The Hut and the Tropical Beach are rooms.
</p>
<p class="quoted">
The conch shell is in the Hut. After taking the shell for the first time: say "As you gather the oddly-warm conch shell into your arms, you experience a sudden flash of deja-vu...[banner text]"; move the player to the Tropical Beach.
</p>
<p class="quoted">
Rule for printing the banner text when the player is not carrying the shell: do nothing.
</p>
<p class="quoted">
Test me with "look / examine shell / get shell / look".
</p>
</div>
<p>(By tradition, and as a courtesy to all the people who have worked on Inform, authors ensure that the banner is printed some time near the beginning of each game played. So please only defer it, rather than suppress it altogether.)</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.37">WI §18.37. Printing the banner text</a><br><a href="rb_11.html#rb-11.1">RB §11.1. Start-Up Features</a>
</div></details><details class="full-example" id="example-440"><summary><span class="example-summary">440. Alien Invasion Part 23</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose that we have a series of games each of which allows the player to select a puzzle difficulty level. When the player plays a new game in the series, we want him to start out by default with the same difficulty level he faced earlier on, so we store this information in a small preferences file, as follows:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Alien%20Invasion%20Part%2023%22%5Cn%5CnA%20difficulty%20is%20a%20kind%20of%20value.%20The%20difficulties%20are%20easy,%20moderate,%20hard,%20and%20fiendish.%5Cn%5CnUnderstand%20%22use%20%5Bdifficulty%5D%20puzzles%22%20as%20selecting%20difficulty.%20Selecting%20difficulty%20is%20an%20action%20out%20of%20world,%20applying%20to%20one%20difficulty.%5Cn%5CnCarry%20out%20selecting%20difficulty:%5Cn%5Ctchoose%20row%201%20in%20the%20Table%20of%20Preference%20Settings;%5Cn%5Ctnow%20challenge%20level%20entry%20is%20difficulty%20understood;%5Cn%5Ctsay%20%22Puzzles%20will%20be%20%5Bchallenge%20level%20entry%5D%20from%20now%20on.%22%5Cn%5CnThe%20File%20of%20Preferences%20is%20called%20%22prefs%22.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctif%20File%20of%20Preferences%20exists:%5Cn%5Ct%5Ctread%20File%20of%20Preferences%20into%20the%20Table%20of%20Preference%20Settings;%5Cn%5Ct%5Ctchoose%20row%201%20in%20the%20Table%20of%20Preference%20Settings;%5Cn%5Ct%5Ctsay%20%22(The%20current%20puzzle%20difficulty%20is%20set%20to%20%5Bchallenge%20level%20entry%5D.)%22%5Cn%5CnCheck%20quitting%20the%20game:%5Cn%5Ctwrite%20File%20of%20Preferences%20from%20the%20Table%20of%20Preference%20Settings.%5Cn%5CnTable%20of%20Preference%20Settings%5Cnchallenge%20level%5Cneasy%5Cn%5CnThe%20Sewer%20Junction%20is%20a%20room.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Alien Invasion Part 23"
</p>
<p class="quoted">
A difficulty is a kind of value. The difficulties are easy, moderate, hard, and fiendish.
</p>
<p class="quoted">
Understand "use [difficulty] puzzles" as selecting difficulty. Selecting difficulty is an action out of world, applying to one difficulty.
</p>
<p class="quoted">
Carry out selecting difficulty:
<br>    choose row 1 in the Table of Preference Settings;
<br>    now challenge level entry is difficulty understood;
<br>    say "Puzzles will be [challenge level entry] from now on."
</p>
<p class="quoted">
The File of Preferences is called "prefs".
</p>
<p class="quoted">
When play begins:
<br>    if File of Preferences exists:
<br>        read File of Preferences into the Table of Preference Settings;
<br>        choose row 1 in the Table of Preference Settings;
<br>        say "(The current puzzle difficulty is set to [challenge level entry].)"
</p>
<p class="quoted">
Check quitting the game:
<br>    write File of Preferences from the Table of Preference Settings.
</p>
<p class="quoted">
Table of Preference Settings
<br>challenge level
<br>easy
</p>
<p class="quoted">
The Sewer Junction is a room.
</p>
</div>
<p>Our preference file is restricted to a single option here for simplicity's sake, but we could keep track of more information -- whether the player preferred verbose or brief room descriptions, screen configurations, and so on.</p>
<p>If we were disposed to be somewhat crueler, we could use a similar method to make the player finish each episode of the series in order to "unlock" the next. All we would need to do is store a numerical password in our preferences file when the player finished a given level; the next level would check, say, the Table of Completed Levels for that password, and refuse to play unless the right number were present.</p>
</div>
<div class="linkback">
<a href="wi_23.html#wi-23.13">WI §23.13. Writing and reading tables to external files</a><br><a href="rb_11.html#rb-11.1">RB §11.1. Start-Up Features</a>
</div></details><details class="full-example" id="example-126"><summary><span class="example-summary">126. Hatless</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want a game in which each scenario starts with the characters wearing hats -- randomly passed out. We might be tempted to write our scenario like this:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hatless%22%5Cn%5CnThe%20Costumery%20is%20a%20room.%20Larry,%20Curly,%20and%20Moe%20are%20men%20in%20the%20Costumery.%20Janine%20is%20a%20woman%20in%20the%20Costumery.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20a%20person%20(called%20the%20target)%20who%20wears%20a%20hat%20(called%20attire):%5Cn%5Ctsay%20%22%5BThe%20target%5D%20is%20here,%20looking%20stylish%20in%20%5Ban%20attire%5D.%22%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20a%20hatless%20person%20(called%20the%20target):%5Cn%5Ctsay%20%22%5BThe%20target%5D%20mopes%20about,%20hatless.%22%5Cn%5CnA%20hat%20is%20a%20kind%20of%20thing.%20A%20hat%20is%20always%20wearable.%20Definition:%20a%20person%20is%20hatless%20if%20he%20is%20not%20the%20player%20and%20he%20does%20not%20wear%20a%20hat.%5Cn%5CnThe%20indigo%20bowler,%20the%20polka-dotted%20fedora,%20the%20pink%20beret,%20and%20the%20scarlet%20cloche%20are%20hats.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20every%20hat%20is%20worn%20by%20a%20random%20hatless%20person.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hatless"
</p>
<p class="quoted">
The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
</p>
<p class="quoted">
Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
<br>    say "[The target] is here, looking stylish in [an attire]."
</p>
<p class="quoted">
Rule for writing a paragraph about a hatless person (called the target):
<br>    say "[The target] mopes about, hatless."
</p>
<p class="quoted">
A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
</p>
<p class="quoted">
The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
</p>
<p class="quoted">
When play begins:
<br>    now every hat is worn by a random hatless person.
</p>
</div>
<p>And we might hope that this would choose a new hatless person for each hat, but we would be wrong. It will instead choose one hatless person and put all the hats on him -- and everyone else has to go bare-headed. That's clearly no good. Let's try again:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hatless%202%22%5Cn%5CnThe%20Costumery%20is%20a%20room.%20Larry,%20Curly,%20and%20Moe%20are%20men%20in%20the%20Costumery.%20Janine%20is%20a%20woman%20in%20the%20Costumery.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20a%20person%20(called%20the%20target)%20who%20wears%20a%20hat%20(called%20attire):%5Cn%5Ctsay%20%22%5BThe%20target%5D%20is%20here,%20looking%20stylish%20in%20%5Ban%20attire%5D.%22%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20a%20hatless%20person%20(called%20the%20target):%5Cn%5Ctsay%20%22%5BThe%20target%5D%20mopes%20about,%20hatless.%22%5Cn%5CnA%20hat%20is%20a%20kind%20of%20thing.%20A%20hat%20is%20always%20wearable.%20Definition:%20a%20person%20is%20hatless%20if%20he%20is%20not%20the%20player%20and%20he%20does%20not%20wear%20a%20hat.%5Cn%5CnThe%20indigo%20bowler,%20the%20polka-dotted%20fedora,%20the%20pink%20beret,%20and%20the%20scarlet%20cloche%20are%20hats.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20every%20hatless%20person%20wears%20a%20random%20hat.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hatless 2"
</p>
<p class="quoted">
The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
</p>
<p class="quoted">
Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
<br>    say "[The target] is here, looking stylish in [an attire]."
</p>
<p class="quoted">
Rule for writing a paragraph about a hatless person (called the target):
<br>    say "[The target] mopes about, hatless."
</p>
<p class="quoted">
A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
</p>
<p class="quoted">
The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
</p>
<p class="quoted">
When play begins:
<br>    now every hatless person wears a random hat.
</p>
</div>
<p>But this selects one random hat and assigns it to each hatless person in turn -- so it will only wind up being worn by the last of them (since Inform knows that only one person can wear a hat at a time).</p>
<p>In this case, we do have to expand out our loop so that the game makes an explicit distribution:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Hatless%203%22%5Cn%5CnThe%20Costumery%20is%20a%20room.%20Larry,%20Curly,%20and%20Moe%20are%20men%20in%20the%20Costumery.%20Janine%20is%20a%20woman%20in%20the%20Costumery.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20a%20person%20(called%20the%20target)%20who%20wears%20a%20hat%20(called%20attire):%5Cn%5Ctsay%20%22%5BThe%20target%5D%20is%20here,%20looking%20stylish%20in%20%5Ban%20attire%5D.%22%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20a%20hatless%20person%20(called%20the%20target):%5Cn%5Ctsay%20%22%5BThe%20target%5D%20mopes%20about,%20hatless.%22%5Cn%5CnA%20hat%20is%20a%20kind%20of%20thing.%20A%20hat%20is%20always%20wearable.%20Definition:%20a%20person%20is%20hatless%20if%20he%20is%20not%20the%20player%20and%20he%20does%20not%20wear%20a%20hat.%5Cn%5CnThe%20indigo%20bowler,%20the%20polka-dotted%20fedora,%20the%20pink%20beret,%20and%20the%20scarlet%20cloche%20are%20hats.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctrepeat%20with%20item%20running%20through%20hats:%5Cn%5Ct%5Ctnow%20the%20item%20is%20worn%20by%20a%20random%20hatless%20person.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Hatless 3"
</p>
<p class="quoted">
The Costumery is a room. Larry, Curly, and Moe are men in the Costumery. Janine is a woman in the Costumery.
</p>
<p class="quoted">
Rule for writing a paragraph about a person (called the target) who wears a hat (called attire):
<br>    say "[The target] is here, looking stylish in [an attire]."
</p>
<p class="quoted">
Rule for writing a paragraph about a hatless person (called the target):
<br>    say "[The target] mopes about, hatless."
</p>
<p class="quoted">
A hat is a kind of thing. A hat is always wearable. Definition: a person is hatless if he is not the player and he does not wear a hat.
</p>
<p class="quoted">
The indigo bowler, the polka-dotted fedora, the pink beret, and the scarlet cloche are hats.
</p>
<p class="quoted">
When play begins:
<br>    repeat with item running through hats:
<br>        now the item is worn by a random hatless person.
</p>
</div>
<p>Each time Inform considers the instruction "now the item is worn by a random hatless person", there is one fewer such person to choose from -- so we can guarantee that the hats are distributed one per customer and that all hats are distributed.</p>
<p>Hatless 3 is only guaranteed to work because the number of hats is less than or equal to the number of people; otherwise the final use of random will return "nothing" and then a problem message will appear during play.</p>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.11">WI §8.11. Now...</a><br><a href="rb_11.html#rb-11.1">RB §11.1. Start-Up Features</a>
</div></details>
</div></section>
<section class="section" id="rb-11.2"><div>





<h3>RB §11.2. Saving and Undoing</h3>
<p>A very few titles in the IF literature - very few being still too many, some would say - restrict the player's ability to save the story.</p>
<p>Removing the player's ability to UNDO is also a risky choice. Inform does provide the facility with the use option</p>

<div class="code"><p class="quoted">
Use undo prevention.
</p></div>
<p>which makes it impossible to UNDO at any time (unless, that is, the player is playing on an interpreter that itself has a built-in UNDO feature -- these do exist). When it works, undo prevention safeguards a randomized story or combat session against brute-force solutions, but it also means that the player who makes even a minor mistake of typing will be stuck with the undesired results.</p>
<p>In many cases it may be preferable to use some subtler method to enforce random effects in a story. Several extensions exist for Inform that either allow selective manipulation of the UNDO command or rig randomization to prevent UNDO and replay attempts.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-210"><summary><span class="example-summary">210. Spellbreaker</span> <span class="example-difficulty">★</span></summary><div>
<p>The answer is easy, but there is a trap:</p>

<div class="code"><p class="quoted">
Check saving the game when the location is the Vault: say "That spell does not work here." instead.
</p></div>
<p>The trap is that "Before saving the game...", which might have been our first guess, does not work: because out of world actions are exempt from Before, Instead and After rules.</p>
<p>"Spellbreaker" pulls this unpleasant, but in context witty, stunt as part of a situation which is engineered to force the player to reason through a weighing-objects puzzle using the perfect strategy rather than by guesswork. The illusion that the situation is fair - not rigged against the player, that is - would collapse if the player could save the game and keep retrying possibilities in the light of knowledge gained from earlier attempts. The moral of this story is that any attempt to use in-world situations to influence out-of-world commands should be <span class="italic">extremely uncommon</span>.</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.15">WI §12.15. Out of world actions</a><br><a href="rb_11.html#rb-11.2">RB §11.2. Saving and Undoing</a>
</div></details><details class="full-example" id="example-211"><summary><span class="example-summary">211. A point for never saving the game</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Here is one way to score this point with Inform:</p>

<div class="code"><p class="quoted">
Check saving the game for the first time: decrement the score.
</p></div>
<p>That has the right effect, but it just isn't sneaky enough. Instead let us quietly keep track of how many times the player saves:</p>

<div class="code"><p class="quoted">
Check saving the game: increment the number of saves.
<br>When play ends: if the number of saves is 0, increment the score.
</p></div>
<p>Sneakier, certainly, but now we could get the bonus even if the game ends earlier on, so finally:</p>

<div class="code"><p class="quoted">
When play ends: if the number of saves is 0 and the score is 349, increment the score.
</p></div>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.15">WI §12.15. Out of world actions</a><br><a href="rb_11.html#rb-11.2">RB §11.2. Saving and Undoing</a>
</div></details>
</div></section>
<section class="section" id="rb-11.3"><div>





<h3>RB §11.3. Helping and Hinting</h3>
<p>IF is difficult to play: often harder than the writer ever suspects. Players are held up by what is "obvious", and they stumble into unforeseen combinations, or spend inordinate amounts of time working on the "wrong" problems. Too much of this and they give up, or post questions on online forums. Against this, many IF authors like to include in-story hints.</p>
<p>There are many approaches, which differ on two main issues.</p>
<p>First: do we spontaneously offer help to the player? The difficulty here is detecting the player's need: <a href="rb_11.html#example-111" class="example-link" onClick="(function() { document.getElementById('example-111').setAttribute('open','open'); return true; })();">Y ask Y?</a><span class="example-difficulty"> ★</span> tries to spot aimlessness, while <a href="rb_11.html#example-400" class="example-link" onClick="(function() { document.getElementById('example-400').setAttribute('open','open'); return true; })();">Solitude</a><span class="example-difficulty"> ★★</span> has a novice mode where it is reasonable to assume that help is almost always needed. On the other hand, suppose we require that the initiative come from the player. Will a novice know to type HELP? <a href="rb_11.html#example-329" class="example-link" onClick="(function() { document.getElementById('example-329').setAttribute('open','open'); return true; })();">Query</a><span class="example-difficulty"> ★</span> shows how to redirect any attempt to ask a direct question into a HELP request. At the other end of the scale, wearily experienced players may type HELP all the time, out of habit, cheating themselves of the fun of frustration: if so, <a href="rb_11.html#example-54" class="example-link" onClick="(function() { document.getElementById('example-54').setAttribute('open','open'); return true; })();">Real Adventurers Need No Help</a><span class="example-difficulty"> ★★★</span> provides the nicotine patch against this addiction.</p>
<p>Second: how do we decide what help is needed? Normally the player only types HELP, which is unspecific. The simplest approach offers a menu, diagnosing the player's problem by obliging him to make choices: see <a href="rb_11.html#example-284" class="example-link" onClick="(function() { document.getElementById('example-284').setAttribute('open','open'); return true; })();">Food Network Interactive</a><span class="example-difficulty"> ★</span>. Listing all the possible problems in the story may give away too much, though, since players may not have reached the puzzles in question yet; so some authors prefer to create menus that adapt to the current state of the story (commonly called "adaptive hints").</p>
<p>Failing this, we can also try to parse commands like HELP ABOUT MICRODOT, as in <a href="rb_11.html#example-296" class="example-link" onClick="(function() { document.getElementById('example-296').setAttribute('open','open'); return true; })();">Ish.</a><span class="example-difficulty"> ★</span> <a href="rb_11.html#example-285" class="example-link" onClick="(function() { document.getElementById('example-285').setAttribute('open','open'); return true; })();">Trieste</a><span class="example-difficulty"> ★★</span> takes a similar tack, except that instead of offering hints about puzzles, it offers help on story features (such as how to save), and lists all the available topics if the player types simply HELP.</p>
<p>Finally, and perhaps most stylishly, we can try to deduce what the player is stuck on from his immediate circumstances and from what is not yet solved: this needs a powerful adaptive hints system like the one in <a href="rb_11.html#example-230" class="example-link" onClick="(function() { document.getElementById('example-230').setAttribute('open','open'); return true; })();">The Unexamined Life</a><span class="example-difficulty"> ★★★</span>.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_7.html#rb-7.6" class="crossreference_link">Getting Started with Conversation</a> for a way to redirect a player using the wrong conversation commands</div>
<div class="crossreference">
<a href="rb_12.html#rb-12.3" class="crossreference_link">Footnotes</a> for another medium by which hints could perhaps be transmitted</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-111"><summary><span class="example-summary">111. Y ask Y?</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we'd like to watch for signs that the player is floundering, and if we see them, recommend that he try the hints. There are probably more sophisticated diagnostics, but as a first cut, let's assume that a player who repeatedly reviews descriptions of objects he's already seen, looks around the room, and takes inventory, is at a loss for more productive activities. So then...</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Y%20ask%20Y?%22%5Cn%5CnA%20thing%20can%20be%20examined%20or%20unexamined.%20A%20thing%20is%20usually%20unexamined.%20Carry%20out%20examining%20something:%20now%20the%20noun%20is%20examined.%5Cn%5CnTaking%20inventory%20is%20acting%20confused.%20Looking%20is%20acting%20confused.%20Examining%20an%20examined%20thing%20is%20acting%20confused.%5Cn%5CnAfter%20acting%20confused%20for%20the%20sixth%20turn:%5Cn%5Ctsay%20%22(If%20you%20are%20feeling%20lost,%20try%20typing%20HELP%20for%20suggestions.)%22%5Cn%5Cn%5BAnd%20now%20we%20write%20a%20scenario%20which%20will,%20alas,%20rather%20encourage%20even%20a%20deft%20and%20clueful%20player%20to%20play%20as%20though%20he%20were%20hopelessly%20confused:%5D%5Cn%5CnThe%20story%20headline%20is%20%22or:%20Bad%20Author,%20No%20Biscuit%22.%5Cn%5CnThe%20description%20of%20a%20thing%20is%20usually%20%22Hm.%20%5BThe%20item%20described%5D%20reminds%20you%20quite%20a%20lot%20of%20%5Ba%20random%20visible%20thing%20which%20is%20not%20the%20item%20described%5D.%22%5Cn%5CnThe%20Yurt%20is%20a%20room.%5Cn%5CnFood%20is%20a%20kind%20of%20thing.%20Food%20is%20always%20edible.%20In%20the%20Yurt%20are%20a%20yam%20and%20a%20dish%20of%20yakitori.%20The%20yam%20and%20the%20yakitori%20are%20food.%20The%20description%20of%20food%20is%20%22Well,%20at%20least%20it's%20not%20%5Ba%20random%20edible%20thing%20which%20is%20not%20the%20item%20described%5D.%22%5Cn%5CnIn%20the%20Yurt%20is%20an%20animal%20called%20a%20yapok.%5Cn%5CnThe%20player%20wears%20a%20yukata.%20The%20player%20carries%20a%20yataghan.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20a%20random%20chance%20of%201%20in%202%20succeeds%20and%20something%20is%20examined:%5Cn%5Ct%5Ctsay%20%22Your%20eye%20is%20attracted%20by%20some%20kind%20of%20surreptitious%20movement%20from%20%5Bthe%20random%20examined%20thing%5D.%22;%5Cn%5Ctotherwise%20if%20the%20player%20carries%20something%20and%20a%20random%20chance%20of%201%20in%203%20succeeds:%5Cn%5Ct%5Ctsay%20%22%5BThe%20random%20thing%20carried%20by%20the%20player%5D%20tries%20to%20slip%20from%20your%20grasp.%22%5Cn%5CnTest%20me%20with%20%22x%20yam%20/%20x%20yam%20/%20look%20/%20x%20yam%20/%20i%20/%20look%20/%20i%20/%20help%20/%20quit%22.%5Cn%5Cn%5BAnd%20finally%20a%20little%20dollop%20of%20perversity%20from%20a%20later%20chapter:%5D%5Cn%5CnCheck%20quitting%20the%20game:%5Cn%5Ctsay%20%22You're%20sure?%20%22;%5Cn%5Ctif%20player%20consents,%20say%20%22%5Bline%20break%5DYou%20were%20getting%20close%20to%20a%20breakthrough,%20you%20know.%5Bline%20break%5D%22;%5Cn%5Ctotherwise%20stop%20the%20action.%5Cn%5CnUnderstand%20%22help%22%20as%20a%20mistake%20(%22You're%20doing%20fine!%20Just%20keep%20at%20what%20you're%20doing%20now.%22).%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Y ask Y?"
</p>
<p class="quoted">
A thing can be examined or unexamined. A thing is usually unexamined. Carry out examining something: now the noun is examined.
</p>
<p class="quoted">
Taking inventory is acting confused. Looking is acting confused. Examining an examined thing is acting confused.
</p>
<p class="quoted">
After acting confused for the sixth turn:
<br>    say "(If you are feeling lost, try typing HELP for suggestions.)"
</p>
</div>
<p>And now we write a scenario which will, alas, rather encourage even a deft and clueful player to play as though he were hopelessly confused:</p>

<div class="code">
<p class="quoted">
The story headline is "or: Bad Author, No Biscuit".
</p>
<p class="quoted">
The description of a thing is usually "Hm. [The item described] reminds you quite a lot of [a random visible thing which is not the item described]."
</p>
<p class="quoted">
The Yurt is a room.
</p>
<p class="quoted">
Food is a kind of thing. Food is always edible. In the Yurt are a yam and a dish of yakitori. The yam and the yakitori are food. The description of food is "Well, at least it's not [a random edible thing which is not the item described]."
</p>
<p class="quoted">
In the Yurt is an animal called a yapok.
</p>
<p class="quoted">
The player wears a yukata. The player carries a yataghan.
</p>
<p class="quoted">
Every turn:
<br>    if a random chance of 1 in 2 succeeds and something is examined:
<br>        say "Your eye is attracted by some kind of surreptitious movement from [the random examined thing].";
<br>    otherwise if the player carries something and a random chance of 1 in 3 succeeds:
<br>        say "[The random thing carried by the player] tries to slip from your grasp."
</p>
<p class="quoted">
Test me with "x yam / x yam / look / x yam / i / look / i / help / quit".
</p>
</div>
<p>And finally a little dollop of perversity from a later chapter:</p>

<div class="code">
<p class="quoted">
Check quitting the game:
<br>    say "You're sure? ";
<br>    if player consents, say "[line break]You were getting close to a breakthrough, you know.[line break]";
<br>    otherwise stop the action.
</p>
<p class="quoted">
Understand "help" as a mistake ("You're doing fine! Just keep at what you're doing now.").
</p>
</div>
</div>
<div class="linkback">
<a href="wi_7.html#wi-7.16">WI §7.16. Repeated actions</a><br><a href="rb_11.html#rb-11.3">RB §11.3. Helping and Hinting</a>
</div></details><details class="full-example" id="example-284"><summary><span class="example-summary">284. Food Network Interactive</span> <span class="example-difficulty">★</span></summary><div>
<p>"Basic Help Menu" is an extension that uses tables to provide a menu of instructions. Suppose we wanted to include this menu in our own game, but add a few custom menu items of our own:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Food%20Network%20Interactive%22%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%20Include%20Menus%20by%20Emily%20Short.%20Include%20Basic%20Help%20Menu%20by%20Emily%20Short.%5Cn%5CnTable%20of%20Basic%20Help%20Options%20(continued)%5Cntitle%5Ctsubtable%5Ctdescription%5Cttoggle%5Cn%22Recipes%20in%20This%20Game%22%5CtTable%20of%20Recipes%5Ct--%5Ct--%5Cn%22Contacting%20the%20Author%22%5Ct--%5Ct%22If%20you%20have%20any%20difficulties%20with%20%5Bstory%20title%5D,%20please%20contact%20me%20at%20fakeaddress@gmail.com.%22%5Ct--%5Cn%5Cn%5BThis%20table%20is%20one%20that%20is%20pre-defined%20by%20the%20extension.%20By%20continuing%20it,%20we%20add%20a%20few%20additional%20items%20to%20the%20list.%5D%5Cn%5Cn%5BAnd%20since%20we've%20promised%20a%20sub-menu%20of%20recipes:%5D%5Cn%5CnTable%20of%20Recipes%5Cntitle%5Ctsubtable%5Ctdescription%5Cttoggle%5Cn%22Salmon%20Tartare%22%5Ct--%5Ct%22First,%20be%20sure%20to%20buy%20extremely%20fresh%20salmon.%20Raw%20fish%20should%20be%20served%20on%20the%20day%20it%20was%20caught,%20if%20possible.%20To%20guarantee%20this,%20visit%20an%20Asian%20supermarket%20or%20specialty%20store,%20and%20buy%20salmon%20marked%20'sashimi%20grade'...%22%5Ct--%5Cn%22Pecan%20Brownies%22%5Ct--%5Ct%22Begin%20by%20shelling%20half%20a%20pound%20of%20pecans...%22%5Ct--%5Cn%5CnWhole%20Foods%20is%20a%20room.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Food Network Interactive"
</p>
<p class="quoted">
Include Basic Screen Effects by Emily Short. Include Menus by Emily Short. Include Basic Help Menu by Emily Short.
</p>
<p class="quoted">
Table of Basic Help Options (continued)
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">title</p></td>
<td class="quotedtablecell"><p class="quoted">subtable</p></td>
<td class="quotedtablecell"><p class="quoted">description</p></td>
<td class="quotedtablecell"><p class="quoted">toggle</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Recipes in This Game"</p></td>
<td class="quotedtablecell"><p class="quoted">Table of Recipes</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Contacting the Author"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">"If you have any difficulties with [story title], please contact me at fakeaddress@gmail.com."</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
</table>
</div>
<p>This table is one that is pre-defined by the extension. By continuing it, we add a few additional items to the list.</p>
<p>And since we've promised a sub-menu of recipes:</p>

<div class="code">
<p class="quoted">
Table of Recipes
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">title</p></td>
<td class="quotedtablecell"><p class="quoted">subtable</p></td>
<td class="quotedtablecell"><p class="quoted">description</p></td>
<td class="quotedtablecell"><p class="quoted">toggle</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Salmon Tartare"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">"First, be sure to buy extremely fresh salmon. Raw fish should be served on the day it was caught, if possible. To guarantee this, visit an Asian supermarket or specialty store, and buy salmon marked 'sashimi grade'..."</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Pecan Brownies"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">"Begin by shelling half a pound of pecans..."</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
</table>
<p class="quoted">
Whole Foods is a room.
</p>
</div>
<p>To test it, type HELP and then experiment.</p>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.18">WI §16.18. Table continuations</a><br><a href="rb_11.html#rb-11.3">RB §11.3. Helping and Hinting</a>
</div></details><details class="full-example" id="example-296"><summary><span class="example-summary">296. Ish.</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Ish.%22%5Cn%5CnIchiro's%20Dubious%20Sushi%20Hut%20is%20a%20room.%20%20%22Despite%20the%20allure%20of%20the%20dusty%20plastic%20sushi%20models%20in%20the%20window,%20you're%20beginning%20to%20have%20second%20thoughts%20about%20the%20selection%20of%20this%20particular%20restaurant%20for%20your%20rendezvous%20with%20Agent%20Fowler.%20%20There%20are%20no%20other%20patrons,%20for%20one%20thing.%20Afternoon%20sunlight%20filters%20lazily%20through%20the%20window%20and%20illuminates%20a%20number%20of%20empty%20glass-topped%20tables,%20at%20each%20of%20which%20is%20a%20chopstick%20dispenser%20(in%20form%20of%20cute%20ceramic%20cat)%20and%20a%20pitcher%20of%20soy%20sauce%20(sticky).%5Cn%5CnThe%20sushi%20bar%20itself%20is%20what%20gives%20the%20most%20pause,%20however.%20Behind%20it%20sits%20an%20angry-looking%20Japanese%20woman,%20aggressively%20eating%20a%20Quarter%20Pounder%20with%20Cheese.%22%5Cn%5Cn%5BWe%20can,%20when%20necessary,%20accept%20any%20text%20at%20all%20as%20a%20token:%5D%5Cn%5CnUnderstand%20%22help%20%5Btext%5D%22%20or%20%22help%20about%20%5Btext%5D%22%20as%20getting%20help%20about.%20Understand%20the%20commands%20%22instructions%22%20or%20%22hint%22%20or%20%22hints%22%20or%20%22menu%22%20or%20%22info%22%20or%20%22about%22%20as%20%22help%22.%5Cn%5CnGetting%20help%20about%20is%20an%20action%20applying%20to%20one%20topic.%5Cn%5Cn%5BAfter%20that,%20we%20can%20use%20%22the%20topic%20understood%22%20to%20refer%20to%20the%20text%20we%20read:%5D%5Cn%5CnCarry%20out%20getting%20help%20about:%5Cn%5Ctif%20the%20topic%20understood%20is%20a%20topic%20listed%20in%20the%20Table%20of%20Standard%20Help:%5Cn%5Ct%5Ctsay%20%22%5Bexplanation%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22You're%20out%20of%20ideas.%22%5Cn%5CnTable%20of%20Standard%20Help%5Cntopic%5Cttitle%5Ctsummary%5Ctexplanation%5Cn%22sushi%22%5Ct%22sushi%22%5Ct%22Really%20it's%20just%20vinegary%20rice%22%5Ct%22Popular%20misconception%20says%20that%20sushi%20inevitably%20entails%20raw%20fish,%20but%20it%20is%20in%20fact%20just%20rice%20with%20rice%20vinegar%20on%20it.%20%20It's%20just%20that%20the%20really%20good%20kinds%20have%20raw%20fish%20in.%22%5Cn%22cucumber%20roll%22%20or%20%22cucumber%22%5Ct%22Cucumber%20roll%22%5Ct%22Sushi%20for%20people%20who%20are%20afraid%20of%20sushi%22%5Ct%22It%20is%20just%20rice%20and%20slivers%20of%20cucumber%20in%20the%20middle,%20and%20as%20long%20as%20you%20don't%20go%20too%20crazy%20with%20the%20wasabi,%20all%20should%20be%20well.%22%5Cn%22california%20roll%22%20or%20%22california%22%5Ct%22California%20roll%22%5Ct%22Travesty%20of%20the%20sushi%20concept%22%5Ct%22It's.%20Fake.%20Crab.%22%5Cn%22monkfish%20liver%22%5Ct%22monkfish%20liver%22%5Ct%22Expert%20eaters%20only%22%5Ct%22The%20odds%20of%20Ichiro's%20having%20this%20unusual%20delicacy%20is%20near%20zero.%22%5Cn%22microdot%22%5Ct%22microdot%22%5Ct%22What%20you%20came%20here%20to%20deliver%22%5Ct%22There'll%20be%20time%20enough%20for%20that%20later.%20If%20Fowler%20ever%20turns%20up.%20Where%20is%20she,%20anyway?%22%5Cn%5Cn%5BSince%20the%20player%20may%20not%20know%20what%20all%20the%20help%20options%20are,%20we%20might%20as%20well%20let%20him%20get%20an%20overview,%20as%20well.%5D%5Cn%5CnUnderstand%20%22help%22%20as%20summoning%20help.%20%20Summoning%20help%20is%20an%20action%20applying%20to%20nothing.%5Cn%5CnCarry%20out%20summoning%20help:%5Cn%5Ctsay%20%22Help%20is%20available%20about%20the%20following%20topics.%20%20Typing%20HELP%20followed%20by%20the%20name%20of%20a%20topic%20will%20give%20further%20information.%5Bparagraph%20break%5D%22;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Standard%20Help:%5Cn%5Ct%5Ctsay%20%22%20%20%5Btitle%20entry%5D:%20%5Bsummary%20entry%5D%5Bline%20break%5D%22.%5Cn%5CnTest%20me%20with%20%22help%20/%20help%20about%20microdot%20/%20help%20cucumber%20/%20help%20california%20roll%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Ish."
</p>
<p class="quoted">
Ichiro's Dubious Sushi Hut is a room.  "Despite the allure of the dusty plastic sushi models in the window, you're beginning to have second thoughts about the selection of this particular restaurant for your rendezvous with Agent Fowler.  There are no other patrons, for one thing. Afternoon sunlight filters lazily through the window and illuminates a number of empty glass-topped tables, at each of which is a chopstick dispenser (in form of cute ceramic cat) and a pitcher of soy sauce (sticky).
</p>
<p class="quoted">
The sushi bar itself is what gives the most pause, however. Behind it sits an angry-looking Japanese woman, aggressively eating a Quarter Pounder with Cheese."
</p>
</div>
<p>We can, when necessary, accept any text at all as a token:</p>

<div class="code">
<p class="quoted">
Understand "help [text]" or "help about [text]" as getting help about. Understand the commands "instructions" or "hint" or "hints" or "menu" or "info" or "about" as "help".
</p>
<p class="quoted">
Getting help about is an action applying to one topic.
</p>
</div>
<p>After that, we can use "the topic understood" to refer to the text we read:</p>

<div class="code">
<p class="quoted">
Carry out getting help about:
<br>    if the topic understood is a topic listed in the Table of Standard Help:
<br>        say "[explanation entry][paragraph break]";
<br>    otherwise:
<br>        say "You're out of ideas."
</p>
<p class="quoted">
Table of Standard Help
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">title</p></td>
<td class="quotedtablecell"><p class="quoted">summary</p></td>
<td class="quotedtablecell"><p class="quoted">explanation</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"sushi"</p></td>
<td class="quotedtablecell"><p class="quoted">"sushi"</p></td>
<td class="quotedtablecell"><p class="quoted">"Really it's just vinegary rice"</p></td>
<td class="quotedtablecell"><p class="quoted">"Popular misconception says that sushi inevitably entails raw fish, but it is in fact just rice with rice vinegar on it.  It's just that the really good kinds have raw fish in."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"cucumber roll" or "cucumber"</p></td>
<td class="quotedtablecell"><p class="quoted">"Cucumber roll"</p></td>
<td class="quotedtablecell"><p class="quoted">"Sushi for people who are afraid of sushi"</p></td>
<td class="quotedtablecell"><p class="quoted">"It is just rice and slivers of cucumber in the middle, and as long as you don't go too crazy with the wasabi, all should be well."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"california roll" or "california"</p></td>
<td class="quotedtablecell"><p class="quoted">"California roll"</p></td>
<td class="quotedtablecell"><p class="quoted">"Travesty of the sushi concept"</p></td>
<td class="quotedtablecell"><p class="quoted">"It's. Fake. Crab."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"monkfish liver"</p></td>
<td class="quotedtablecell"><p class="quoted">"monkfish liver"</p></td>
<td class="quotedtablecell"><p class="quoted">"Expert eaters only"</p></td>
<td class="quotedtablecell"><p class="quoted">"The odds of Ichiro's having this unusual delicacy is near zero."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"microdot"</p></td>
<td class="quotedtablecell"><p class="quoted">"microdot"</p></td>
<td class="quotedtablecell"><p class="quoted">"What you came here to deliver"</p></td>
<td class="quotedtablecell"><p class="quoted">"There'll be time enough for that later. If Fowler ever turns up. Where is she, anyway?"</p></td>
</tr>
</table>
</div>
<p>Since the player may not know what all the help options are, we might as well let him get an overview, as well.</p>

<div class="code">
<p class="quoted">
Understand "help" as summoning help.  Summoning help is an action applying to nothing.
</p>
<p class="quoted">
Carry out summoning help:
<br>    say "Help is available about the following topics.  Typing HELP followed by the name of a topic will give further information.[paragraph break]";
<br>    repeat through the Table of Standard Help:
<br>        say "  [title entry]: [summary entry][line break]".
</p>
<p class="quoted">
Test me with "help / help about microdot / help cucumber / help california roll".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.5">WI §17.5. The text token</a><br><a href="rb_11.html#rb-11.3">RB §11.3. Helping and Hinting</a>
</div></details><details class="full-example" id="example-329"><summary><span class="example-summary">329. Query</span> <span class="example-difficulty">★</span></summary><div>
<p>First, we create a single "[query]" token so that we can capture all instances of such sentences in a single line:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Query%22%5Cn%5CnBlank%20Room%20is%20a%20room.%5Cn%5CnUnderstand%20%22who%22%20or%20%22what%22%20or%20%22when%22%20or%20%22where%22%20or%20%22why%22%20or%20%22how%22%20or%20%22who's%22%20or%20%22what's%22%20or%20%22when's%22%20or%20%22where's%22%20or%20%22why's%22%20or%20%22how's%22%20as%20%22%5Bquery%5D%22.%5Cn%5CnUnderstand%20%22%5Bquery%5D%20%5Btext%5D%22%20as%20a%20mistake%20(%22%5Bstory%20title%5D%20understands%20commands,%20such%20as%20'%5Bcommand%20prompt%5Dexamine%20%5Ba%20random%20thing%20that%20can%20be%20seen%20by%20the%20player%5D',%20but%20not%20questions.%20For%20more%20instructions,%20type%20HELP.%22).%5Cn%5CnTest%20me%20with%20%22who%20am%20I?%20/%20who%20are%20you?%20/%20where%20is%20this%20place?%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Query"
</p>
<p class="quoted">
Blank Room is a room.
</p>
<p class="quoted">
Understand "who" or "what" or "when" or "where" or "why" or "how" or "who's" or "what's" or "when's" or "where's" or "why's" or "how's" as "[query]".
</p>
<p class="quoted">
Understand "[query] [text]" as a mistake ("[story title] understands commands, such as '[command prompt]examine [a random thing that can be seen by the player]', but not questions. For more instructions, type HELP.").
</p>
<p class="quoted">
Test me with "who am I? / who are you? / where is this place?".
</p>
</div>
<p>Now the game will respond to all questions novice players might type with this reminder to look for help information.</p>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.21">WI §17.21. Understanding mistakes</a><br><a href="rb_11.html#rb-11.3">RB §11.3. Helping and Hinting</a>
</div></details><details class="full-example" id="example-285"><summary><span class="example-summary">285. Trieste</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we are using an extension in which another author has defined some help topics for the player, and we want to amend them for our game.</p>
<p>We'll start with the portion of the text that we have inherited from the extension:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Trieste%22%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnA%20help-topic%20is%20a%20kind%20of%20value.%20Some%20help-topics%20are%20defined%20by%20the%20Table%20of%20Standard%20Instructions.%5Cn%5CnTable%20of%20Standard%20Instructions%5Cnhelp-topic%5Ctreply%5Cncommands%5Ct%22This%20game%20recognizes%20150%20common%20commands%20for%20forms%20of%20military%20attack.%20These%20include...%22%5Cnsaving%5Ct%22To%20save%20the%20game,%20type%20SAVE.%20You%20will%20be%20prompted%20to%20supply%20a%20file-name%20for%20your%20saved%20game.%20If%20you'd%20like%20to%20return%20to%20play%20at%20that%20point%20again%20later,%20RESTORE%20the%20saved%20game.%22%5Cn%5CnUnderstand%20%22help%20%5Bhelp-topic%5D%22%20as%20asking%20for%20help%20about.%20Asking%20for%20help%20about%20is%20an%20action%20out%20of%20world,%20applying%20to%20one%20help-topic.%5CnUnderstand%20%22help%22%20or%20%22help%20%5Btext%5D%22%20as%20a%20mistake%20(%22Help%20is%20available%20on%20the%20following%20topics:%20%5Bhelp-topics%20list%5D%22).%5Cn%5CnTo%20say%20help-topics%20list:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Standard%20Instructions:%5Cn%5Ct%5Ctsay%20%22%5Bline%20break%5D%20%20%5Bhelp-topic%20entry%5D%22;%5Cn%5CnCarry%20out%20asking%20for%20help%20about:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Standard%20Instructions:%5Cn%5Ct%5Ctif%20the%20help-topic%20understood%20is%20the%20help-topic%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Breply%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ctbreak.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5Cn%5BNow,%20let's%20imagine%20our%20game%20is%20a%20special%20one%20in%20which%20only%20a%20very%20limited%20supply%20of%20moves%20are%20allowed.%20In%20that%20case,%20we'll%20want%20to%20replace%20the%20information%20on%20commands:%5D%5Cn%5CnTable%20of%20Standard%20Instructions%20(amended)%5Cnhelp-topic%5Ctreply%5Cncommands%5Ct%22The%20only%20commands%20this%20game%20recognizes%20are%20HOLD,%20MOVE,%20CONVOY,%20SUPPORT%20MOVE,%20and%20SUPPORT%20HOLD.%20No%20others%20are%20necessary.%22%5Cn%5CnBoard%20Room%20is%20a%20room.%20Mark%20is%20a%20man%20in%20the%20Board%20Room.%20%22Russia%20(played%20by%20Mark)%20is%20also%20hovering%20over%20the%20board.%22%5Cn%5CnGuest%20Bathroom%20is%20south%20of%20Board%20Room.%20Lena%20and%20Rob%20are%20in%20the%20Guest%20Bathroom.%20Lena%20is%20a%20woman.%20Rob%20is%20a%20man.%5Cn%5CnRule%20for%20writing%20a%20paragraph%20about%20Lena%20when%20Lena%20is%20in%20the%20Guest%20Bathroom%20and%20Rob%20is%20in%20the%20Guest%20Bathroom:%5Cn%5Ctsay%20%22%5BLena%5D%20(Italy)%20and%20%5BRob%5D%20(Great%20Britain)%20are%20having%20a%20hushed%20conversation%20while%20leaning%20against%20your%20good%20towels.%20They%20stop%20and%20stare%20at%20you%20when%20you%20come%20in.%22%5Cn%5CnTest%20me%20with%20%22help%20/%20help%20commands%20/%20help%20saving%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Trieste"
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
A help-topic is a kind of value. Some help-topics are defined by the Table of Standard Instructions.
</p>
<p class="quoted">
Table of Standard Instructions
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">help-topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">commands</p></td>
<td class="quotedtablecell"><p class="quoted">"This game recognizes 150 common commands for forms of military attack. These include..."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">saving</p></td>
<td class="quotedtablecell"><p class="quoted">"To save the game, type SAVE. You will be prompted to supply a file-name for your saved game. If you'd like to return to play at that point again later, RESTORE the saved game."</p></td>
</tr>
</table>
<p class="quoted">
Understand "help [help-topic]" as asking for help about. Asking for help about is an action out of world, applying to one help-topic.
<br>Understand "help" or "help [text]" as a mistake ("Help is available on the following topics: [help-topics list]").
</p>
<p class="quoted">
To say help-topics list:
<br>    repeat through the Table of Standard Instructions:
<br>        say "[line break]  [help-topic entry]";
</p>
<p class="quoted">
Carry out asking for help about:
<br>    repeat through the Table of Standard Instructions:
<br>        if the help-topic understood is the help-topic entry:
<br>            say "[reply entry][paragraph break]";
<br>            break.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
</div>
<p>Now, let's imagine our game is a special one in which only a very limited supply of moves are allowed. In that case, we'll want to replace the information on commands:</p>

<div class="code">
<p class="quoted">
Table of Standard Instructions (amended)
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">help-topic</p></td>
<td class="quotedtablecell"><p class="quoted">reply</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">commands</p></td>
<td class="quotedtablecell"><p class="quoted">"The only commands this game recognizes are HOLD, MOVE, CONVOY, SUPPORT MOVE, and SUPPORT HOLD. No others are necessary."</p></td>
</tr>
</table>
<p class="quoted">
Board Room is a room. Mark is a man in the Board Room. "Russia (played by Mark) is also hovering over the board."
</p>
<p class="quoted">
Guest Bathroom is south of Board Room. Lena and Rob are in the Guest Bathroom. Lena is a woman. Rob is a man.
</p>
<p class="quoted">
Rule for writing a paragraph about Lena when Lena is in the Guest Bathroom and Rob is in the Guest Bathroom:
<br>    say "[Lena] (Italy) and [Rob] (Great Britain) are having a hushed conversation while leaning against your good towels. They stop and stare at you when you come in."
</p>
<p class="quoted">
Test me with "help / help commands / help saving".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.19">WI §16.19. Table amendments</a><br><a href="rb_11.html#rb-11.3">RB §11.3. Helping and Hinting</a>
</div></details><details class="full-example" id="example-400"><summary><span class="example-summary">400. Solitude</span> <span class="example-difficulty">★★</span></summary><div>
<p>Observation of novice IF players suggests that they often have a hard time figuring out how to get started, especially if they are encountering the game in a context where they don't have time to settle in and read instructions. Here we provide some training wheels to help them learn to communicate.</p>
<p>This is divided into several parts. The first part is the system of rules for general guidance, which could be excerpted and used anywhere. The second part is a scenario using these rules.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Solitude%22%5Cn%5CnPart%201%20-%20General%20Rules%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22Have%20you%20played%20interactive%20fiction%20before?%20&gt;%22;%5Cn%5Ctnow%20novice%20mode%20is%20whether%20or%20not%20the%20player%20consents.%5Cn%5Cn%5BThe%20rationale%20for%20asking%20the%20question%20this%20way,%20and%20not%20another,%20is%20that%20novices%20asked%20whether%20they%20would%20like%20instructions%20very%20often%20say%20no,%20even%20if%20they%20need%20them.%5D%5Cn%5CnNovice%20mode%20is%20a%20truth%20state%20that%20varies.%20Novice%20mode%20is%20true.%5Cn%5CnStopping%20novice%20mode%20is%20an%20action%20out%20of%20world.%5CnStarting%20novice%20mode%20is%20an%20action%20out%20of%20world.%5Cn%5CnUnderstand%20%22novice%20mode%20off%22%20or%20%22novice%20off%22%20as%20stopping%20novice%20mode.%5CnUnderstand%20%22novice%20mode%20on%22%20or%20%22novice%20on%22%20as%20starting%20novice%20mode.%5Cn%5CnCarry%20out%20stopping%20novice%20mode:%20now%20novice%20mode%20is%20false.%5CnCarry%20out%20starting%20novice%20mode:%20now%20novice%20mode%20is%20true.%5Cn%5CnReport%20stopping%20novice%20mode:%20say%20%22Novice%20mode%20is%20now%20off.%22%5CnReport%20starting%20novice%20mode:%20say%20%22Novice%20mode%20is%20now%20on.%22%5Cn%5CnBefore%20reading%20a%20command%20when%20novice%20mode%20is%20true:%5Cn%5Ctsay%20%22%5Bline%20break%5DSome%20options%20to%20try:%5Bline%20break%5D%22;%5Cn%5Ctfollow%20the%20novice%20suggestion%20rules.%5Cn%5CnThe%20novice%20suggestion%20rules%20is%20a%20rulebook.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20look%20rule):%5Cn%5Ctif%20not%20looking%20and%20not%20going,%20say%20%22%20%20%5Bbold%20type%5Dlook%5Broman%20type%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20check%20inventory%20rule):%5Cn%5Ctif%20the%20player%20carries%20something%20and%20we%20are%20not%20taking%20inventory,%20say%20%22%20%20%5Bbold%20type%5Dinventory%5Broman%20type%5D%20(I)%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20put%20things%20on%20rule):%5Cn%5Ctif%20the%20player%20carries%20something%20and%20a%20free-standing%20supporter%20is%20relevant,%20say%20%22%20%20%5Bbold%20type%5Dput%5Broman%20type%5D%20something%20%5Bbold%20type%5Don%5Broman%20type%5D%20%5Bthe%20list%20of%20relevant%20supporters%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20take%20things%20rule):%5Cn%5Ctif%20a%20gettable%20thing%20is%20relevant,%20say%20%22%20%20%5Bbold%20type%5Dtake%5Broman%20type%5D%20%5Bthe%20list%20of%20gettable%20relevant%20things%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20examine%20things%20rule):%5Cn%5Ctif%20an%20unexamined%20thing%20is%20relevant,%20say%20%22%20%20%5Bbold%20type%5Dexamine%5Broman%20type%5D%20(X)%20%5Bthe%20list%20of%20unexamined%20relevant%20things%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20enter%20things%20rule):%5Cn%5Ctif%20a%20relevant%20thing%20is%20worth%20entering,%20say%20%22%20%20%5Bbold%20type%5Denter%5Broman%20type%5D%20%5Bthe%20list%20of%20worth%20entering%20relevant%20things%5D,%20or%20%5Bbold%20type%5Dget%20out%5Broman%20type%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20open%20things%20rule):%5Cn%5Ctif%20an%20unlocked%20openable%20thing%20is%20relevant,%20say%20%22%20%20%5Bbold%20type%5Dopen%5Broman%20type%5D%20or%20%5Bbold%20type%5Dclose%5Broman%20type%5D%20%5Bthe%20list%20of%20unlocked%20openable%20relevant%20things%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20lock%20things%20rule):%5Cn%5Ctif%20a%20closed%20lockable%20thing%20is%20relevant,%20say%20%22%20%20%5Bbold%20type%5Dlock%5Broman%20type%5D%20or%20%5Bbold%20type%5Dunlock%5Broman%20type%5D%20%5Bthe%20list%20of%20closed%20lockable%20relevant%20things%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20eat%20things%20rule):%5Cn%5Ctif%20the%20player%20carries%20an%20edible%20relevant%20thing,%20say%20%22%20%20%5Bbold%20type%5Deat%5Broman%20type%5D%20%5Bthe%20list%20of%20edible%20relevant%20things%20carried%20by%20the%20player%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20wear%20things%20rule):%5Cn%5Ctif%20the%20player%20carries%20a%20wearable%20relevant%20thing,%20say%20%22%20%20%5Bbold%20type%5Dwear%5Broman%20type%5D%20%5Bthe%20list%20of%20wearable%20relevant%20things%20carried%20by%20the%20player%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20turn%20things%20on%20rule):%5Cn%5Ctif%20a%20device%20is%20relevant,%20say%20%22%20%20%5Bbold%20type%5Dturn%20on%5Broman%20type%5D%20or%20%5Bbold%20type%5Dturn%20off%5Broman%20type%5D%20%5Bthe%20list%20of%20relevant%20devices%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20go%20places%20rule):%5Cn%5Ctif%20a%20room%20is%20adjacent,%20say%20%22%20%20%5Bbold%20type%5Dgo%5Broman%20type%5D%5Bexit%20list%5D%5Bif%20in%20darkness%5D%20or%20try%20other%20directions%20in%20the%20dark%5Botherwise%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20enter%20doors%20rule):%5Cn%5Ctif%20an%20open%20door%20is%20relevant,%20say%20%22%20%20%5Bbold%20type%5Dgo%20through%5Broman%20type%5D%20%5Bthe%20list%20of%20relevant%20open%20doors%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20interact%20with%20people%20rule):%5Cn%5Ctif%20another%20person%20is%20relevant,%20say%20%22%20%20%5Bbold%20type%5Dkiss%5Broman%20type%5D%20or%20%5Bbold%20type%5Dwake%5Broman%20type%5D%20%5Bthe%20list%20of%20relevant%20other%20people%5D%5Bif%20the%20player%20carries%20something%5D,%20or%20%5Bbold%20type%5Dgive%5Broman%20type%5D%20things%20%5Bbold%20type%5Dto%5Broman%20type%5D%20someone%5Bend%20if%5D%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20ask%20for%20help%20rule):%5Cn%5Ctsay%20%22%20%20%5Bbold%20type%5Dhelp%5Broman%20type%5D%20to%20see%20a%20more%20complete%20set%20of%20instructions%22.%5Cn%5CnA%20novice%20suggestion%20rule%20(this%20is%20the%20suggestion%20that%20he%20turn%20off%20help%20rule):%5Cn%5Ctsay%20%22%20%20%5Bbold%20type%5Dnovice%20mode%20off%5Broman%20type%5D%20to%20turn%20off%20this%20guidance%22.%5Cn%5CnLast%20novice%20suggestion%20rule:%5Cn%5Ctsay%20%22%5Bline%20break%5D%22.%5Cn%5Cn%5BThe%20suggestion%20about%20asking%20for%20help%20is%20no%20good%20unless%20we%20provide%20some.%20This%20might%20take%20any%20of%20a%20number%20of%20forms,%20but%20for%20the%20sake%20of%20example%20we'll%20use%20an%20easy%20way%20out:%5D%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%20Include%20Menus%20by%20Emily%20Short.%20Include%20Basic%20Help%20Menu%20by%20Emily%20Short.%5Cn%5CnAfter%20taking%20inventory%20when%20novice%20mode%20is%20true:%20say%20%22To%20get%20rid%20of%20any%20of%20these%20objects,%20%5Bbold%20type%5Ddrop%5Broman%20type%5D%20it.%22%5Cn%5CnA%20thing%20can%20be%20examined%20or%20unexamined.%20Carry%20out%20examining%20something:%20now%20the%20noun%20is%20examined.%5Cn%5CnA%20thing%20can%20be%20seen%20or%20unseen.%20A%20thing%20is%20usually%20unseen.%5Cn%5CnDefinition:%20a%20thing%20is%20relevant%20if%20it%20is%20seen%20and%20it%20is%20visible.%20Before%20printing%20the%20name%20of%20something%20(called%20the%20target):%20now%20the%20target%20is%20seen;%20if%20novice%20mode%20is%20true,%20say%20%22%5Bbold%20type%5D%22.%20After%20printing%20the%20name%20of%20something:%20say%20%22%5Broman%20type%5D%22.%5Cn%5CnDefinition:%20a%20supporter%20is%20worth%20entering:%5Cn%5Ctif%20the%20player%20carries%20it,%20no;%5Cn%5Ctif%20it%20is%20enterable,%20yes.%5Cn%5CnDefinition:%20a%20container%20is%20worth%20entering:%5Cn%5Ctif%20the%20player%20carries%20it,%20no;%5Cn%5Ctif%20it%20is%20enterable%20and%20it%20is%20open,%20yes.%5Cn%5CnDefinition:%20a%20person%20is%20other%20if%20it%20is%20not%20the%20player.%20Definition:%20a%20person%20is%20another%20if%20it%20is%20other.%5Cn%5CnDefinition:%20a%20thing%20is%20free-standing%20if%20it%20is%20in%20a%20room.%5Cn%5CnTo%20say%20exit%20list:%5Cn%5Ctlet%20place%20be%20location;%5Cn%5Ctlet%20count%20be%200;%5Cn%5Ctrepeat%20with%20way%20running%20through%20directions:%5Cn%5Ct%5Ctlet%20place%20be%20the%20room%20way%20from%20the%20location;%5Cn%5Ct%5Ctif%20place%20is%20a%20room:%5Cn%5Ct%5Ct%5Ctincrement%20count;%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bif%20count%20is%20greater%20than%201%5D%20or%5Bend%20if%5D%20%5Bbold%20type%5D%5Bway%5D%5Broman%20type%5D%22.%5Cn%5CnDefinition:%20a%20thing%20is%20gettable:%5Cn%5Ctif%20it%20is%20scenery,%20no;%5Cn%5Ctif%20it%20is%20fixed%20in%20place,%20no;%5Cn%5Ctif%20it%20is%20a%20person,%20no;%5Cn%5Ctif%20the%20player%20is%20carrying%20it,%20no;%5Cn%5Ctif%20the%20player%20is%20wearing%20it,%20no;%5Cn%5Ctyes.%5Cn%5CnPart%202%20-%20On%20the%20Ground%5Cn%5CnAntarctic%20Research%20Station%20is%20a%20room.%20%22Though%20not%20always%20the%20most%20stimulating%20of%20environments,%20the%20station%20is%20far%20from%20your%20ex-wife%20and%20most%20of%20the%20things%20in%20the%20world%20that%20annoy%20you,%20namely%20the%20other%206%20%20billion%20people.%20There%20is%20a%20second%20room%20to%20the%20south.%22%20The%20station%20contains%20a%20radio.%20The%20radio%20is%20a%20device.%20It%20is%20fixed%20in%20place.%5Cn%5CnSouth%20of%20the%20Station%20is%20Sitting%20Room.%20The%20description%20of%20the%20Sitting%20Room%20is%20%22Just%20big%20enough%20for%20a%20very%20%5Bcomfortable%20chair%5D.%22%20The%20Sitting%20Room%20contains%20an%20enterable%20supporter%20called%20a%20comfortable%20chair.%20The%20chair%20is%20scenery.%20A%20monograph%20about%20penguins%20is%20in%20the%20Sitting%20Room.%5Cn%5CnBlistering%20Cold%20is%20a%20room.%20%22It%20is%20white%20out%20here%20and%20very%20very%20very%20cold.%22%20The%20white%20door%20is%20a%20door.%20%22%5BThe%20white%20door%5D%20leads%20to%20%5Bthe%20other%20side%20of%20the%20white%20door%5D.%22%20%20It%20is%20west%20of%20the%20Blistering%20Cold%20and%20east%20of%20the%20Antarctic%20Research%20Station.%5Cn%5CnTest%20me%20with%20%22i%20/%20x%20radio%20/%20x%20door%20/%20s%20/%20i%20/%20x%20chair%20/%20x%20monograph%20/%20sit%20in%20chair%20/%20get%20up%20/%20n%20/%20open%20door%20/%20enter%20door%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Solitude"
</p>
<p class="quoted">
Part 1 - General Rules
</p>
<p class="quoted">
When play begins:
<br>    say "Have you played interactive fiction before? &gt;";
<br>    now novice mode is whether or not the player consents.
</p>
</div>
<p>The rationale for asking the question this way, and not another, is that novices asked whether they would like instructions very often say no, even if they need them.</p>

<div class="code">
<p class="quoted">
Novice mode is a truth state that varies. Novice mode is true.
</p>
<p class="quoted">
Stopping novice mode is an action out of world.
<br>Starting novice mode is an action out of world.
</p>
<p class="quoted">
Understand "novice mode off" or "novice off" as stopping novice mode.
<br>Understand "novice mode on" or "novice on" as starting novice mode.
</p>
<p class="quoted">
Carry out stopping novice mode: now novice mode is false.
<br>Carry out starting novice mode: now novice mode is true.
</p>
<p class="quoted">
Report stopping novice mode: say "Novice mode is now off."
<br>Report starting novice mode: say "Novice mode is now on."
</p>
<p class="quoted">
Before reading a command when novice mode is true:
<br>    say "[line break]Some options to try:[line break]";
<br>    follow the novice suggestion rules.
</p>
<p class="quoted">
The novice suggestion rules is a rulebook.
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he look rule):
<br>    if not looking and not going, say "  [bold type]look[roman type]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he check inventory rule):
<br>    if the player carries something and we are not taking inventory, say "  [bold type]inventory[roman type] (I)".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he put things on rule):
<br>    if the player carries something and a free-standing supporter is relevant, say "  [bold type]put[roman type] something [bold type]on[roman type] [the list of relevant supporters]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he take things rule):
<br>    if a gettable thing is relevant, say "  [bold type]take[roman type] [the list of gettable relevant things]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he examine things rule):
<br>    if an unexamined thing is relevant, say "  [bold type]examine[roman type] (X) [the list of unexamined relevant things]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he enter things rule):
<br>    if a relevant thing is worth entering, say "  [bold type]enter[roman type] [the list of worth entering relevant things], or [bold type]get out[roman type]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he open things rule):
<br>    if an unlocked openable thing is relevant, say "  [bold type]open[roman type] or [bold type]close[roman type] [the list of unlocked openable relevant things]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he lock things rule):
<br>    if a closed lockable thing is relevant, say "  [bold type]lock[roman type] or [bold type]unlock[roman type] [the list of closed lockable relevant things]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he eat things rule):
<br>    if the player carries an edible relevant thing, say "  [bold type]eat[roman type] [the list of edible relevant things carried by the player]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he wear things rule):
<br>    if the player carries a wearable relevant thing, say "  [bold type]wear[roman type] [the list of wearable relevant things carried by the player]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he turn things on rule):
<br>    if a device is relevant, say "  [bold type]turn on[roman type] or [bold type]turn off[roman type] [the list of relevant devices]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he go places rule):
<br>    if a room is adjacent, say "  [bold type]go[roman type][exit list][if in darkness] or try other directions in the dark[otherwise]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he enter doors rule):
<br>    if an open door is relevant, say "  [bold type]go through[roman type] [the list of relevant open doors]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he interact with people rule):
<br>    if another person is relevant, say "  [bold type]kiss[roman type] or [bold type]wake[roman type] [the list of relevant other people][if the player carries something], or [bold type]give[roman type] things [bold type]to[roman type] someone[end if]".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he ask for help rule):
<br>    say "  [bold type]help[roman type] to see a more complete set of instructions".
</p>
<p class="quoted">
A novice suggestion rule (this is the suggestion that he turn off help rule):
<br>    say "  [bold type]novice mode off[roman type] to turn off this guidance".
</p>
<p class="quoted">
Last novice suggestion rule:
<br>    say "[line break]".
</p>
</div>
<p>The suggestion about asking for help is no good unless we provide some. This might take any of a number of forms, but for the sake of example we'll use an easy way out:</p>

<div class="code">
<p class="quoted">
Include Basic Screen Effects by Emily Short. Include Menus by Emily Short. Include Basic Help Menu by Emily Short.
</p>
<p class="quoted">
After taking inventory when novice mode is true: say "To get rid of any of these objects, [bold type]drop[roman type] it."
</p>
<p class="quoted">
A thing can be examined or unexamined. Carry out examining something: now the noun is examined.
</p>
<p class="quoted">
A thing can be seen or unseen. A thing is usually unseen.
</p>
<p class="quoted">
Definition: a thing is relevant if it is seen and it is visible. Before printing the name of something (called the target): now the target is seen; if novice mode is true, say "[bold type]". After printing the name of something: say "[roman type]".
</p>
<p class="quoted">
Definition: a supporter is worth entering:
<br>    if the player carries it, no;
<br>    if it is enterable, yes.
</p>
<p class="quoted">
Definition: a container is worth entering:
<br>    if the player carries it, no;
<br>    if it is enterable and it is open, yes.
</p>
<p class="quoted">
Definition: a person is other if it is not the player. Definition: a person is another if it is other.
</p>
<p class="quoted">
Definition: a thing is free-standing if it is in a room.
</p>
<p class="quoted">
To say exit list:
<br>    let place be location;
<br>    let count be 0;
<br>    repeat with way running through directions:
<br>        let place be the room way from the location;
<br>        if place is a room:
<br>            increment count;
<br>            say "[if count is greater than 1] or[end if] [bold type][way][roman type]".
</p>
<p class="quoted">
Definition: a thing is gettable:
<br>    if it is scenery, no;
<br>    if it is fixed in place, no;
<br>    if it is a person, no;
<br>    if the player is carrying it, no;
<br>    if the player is wearing it, no;
<br>    yes.
</p>
<p class="quoted">
Part 2 - On the Ground
</p>
<p class="quoted">
Antarctic Research Station is a room. "Though not always the most stimulating of environments, the station is far from your ex-wife and most of the things in the world that annoy you, namely the other 6+ billion people. There is a second room to the south." The station contains a radio. The radio is a device. It is fixed in place.
</p>
<p class="quoted">
South of the Station is Sitting Room. The description of the Sitting Room is "Just big enough for a very [comfortable chair]." The Sitting Room contains an enterable supporter called a comfortable chair. The chair is scenery. A monograph about penguins is in the Sitting Room.
</p>
<p class="quoted">
Blistering Cold is a room. "It is white out here and very very very cold." The white door is a door. "[The white door] leads to [the other side of the white door]."  It is west of the Blistering Cold and east of the Antarctic Research Station.
</p>
<p class="quoted">
Test me with "i / x radio / x door / s / i / x chair / x monograph / sit in chair / get up / n / open door / enter door".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_19.html#wi-19.8">WI §19.8. New rulebooks</a><br><a href="rb_11.html#rb-11.3">RB §11.3. Helping and Hinting</a>
</div></details><details class="full-example" id="example-54"><summary><span class="example-summary">54. Real Adventurers Need No Help</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we have an action called "asking for help" that gives the player some hints on request. We've also made it possible to turn this feature off, if the player would like to discourage himself from using the hints too much. Now we need a value that varies to keep track of whether hints are currently permitted or currently not permitted. So we might write:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Real%20Adventurers%20Need%20No%20Help%22%5Cn%5CnA%20permission%20is%20a%20kind%20of%20value.%20The%20permissions%20are%20allowed%20and%20denied.%5Cn%5CnHint%20usage%20is%20a%20permission%20that%20varies.%20Hint%20usage%20is%20allowed.%5Cn%5Cn%5BAnd%20under%20the%20right%20circumstances,%20we%20change%20hint%20usage%20to%20denied:%5D%5Cn%5CnCheck%20asking%20for%20help%20for%20the%20first%20time:%5Cn%5Ctsay%20%22Sometimes%20the%20temptation%20to%20rely%20on%20hints%20becomes%20overwhelming,%20and%20you%20may%20prefer%20to%20turn%20off%20hints%20now.%20If%20you%20do%20so,%20your%20further%20requests%20for%20guidance%20will%20be%20unavailing.%20Turn%20off%20hints?%20&gt;%22;%5Cn%5Ctif%20player%20consents:%5Cn%5Ct%5Ctnow%20hint%20usage%20is%20denied;%5Cn%5Ct%5Ctsay%20%22%5Bline%20break%5DTruly,%20a%20real%20adventurer%20does%20not%20need%20hints.%22%20instead.%5Cn%5Cn%5BThen%20we%20can%20refer%20back%20to%20this%20value%20later%20to%20decide%20whether%20we%20want%20to%20display%20the%20hint%20menu%20or%20not:%5D%5Cn%5CnCheck%20asking%20for%20help:%5Cn%5Ctif%20hint%20usage%20is%20denied,%20say%20%22You%20have%20chosen%20to%20eschew%20hints%20in%20this%20game.%20Be%20strong!%20Persevere!%22%20instead.%5Cn%5CnAsking%20for%20help%20is%20an%20action%20out%20of%20world.%20Understand%20%22help%22%20or%20%22hint%22%20or%20%22hints%22%20as%20asking%20for%20help.%5Cn%5CnThe%20Realm%20of%20Terribly%20Unjust%20Puzzles%20is%20a%20room.%5Cn%5CnCarry%20out%20asking%20for%20help:%5Cn%5Ctsay%20%22Fine,%20since%20you're%20weak%20enough%20to%20ask:%20here%20is%20a%20complete%20walkthrough:%20GET%20EGG.%20PEEL%20EGG.%20SMELL%20EGG.%20DIVIDE%20YOLK%20INTO%20THREE%20PORTIONS.%20GIVE%20THE%20SMALLEST%20PORTION%20OF%20YOLK%20TO%20THE%20GOLDEN%20GOOSE.%20ASK%20THE%20GOOSE%20ABOUT%20WHETHER%20THE%20SWAN%20IS%20TO%20BE%20TRUSTED.%20GIVE%20THE%20LARGEST%20PORTION%20OF%20YOLK%20TO%20THE%20SWAN.%20DANCE%20CONGA.%20EAT%20MEDIUM%20PORTION.%20STAND%20ON%20HEAD.%20WEST.%22%5Cn%5CnTest%20me%20with%20%22hint%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Real Adventurers Need No Help"
</p>
<p class="quoted">
A permission is a kind of value. The permissions are allowed and denied.
</p>
<p class="quoted">
Hint usage is a permission that varies. Hint usage is allowed.
</p>
</div>
<p>And under the right circumstances, we change hint usage to denied:</p>

<div class="code"><p class="quoted">
Check asking for help for the first time:
<br>    say "Sometimes the temptation to rely on hints becomes overwhelming, and you may prefer to turn off hints now. If you do so, your further requests for guidance will be unavailing. Turn off hints? &gt;";
<br>    if player consents:
<br>        now hint usage is denied;
<br>        say "[line break]Truly, a real adventurer does not need hints." instead.
</p></div>
<p>Then we can refer back to this value later to decide whether we want to display the hint menu or not:</p>

<div class="code">
<p class="quoted">
Check asking for help:
<br>    if hint usage is denied, say "You have chosen to eschew hints in this game. Be strong! Persevere!" instead.
</p>
<p class="quoted">
Asking for help is an action out of world. Understand "help" or "hint" or "hints" as asking for help.
</p>
<p class="quoted">
The Realm of Terribly Unjust Puzzles is a room.
</p>
<p class="quoted">
Carry out asking for help:
<br>    say "Fine, since you're weak enough to ask: here is a complete walkthrough: GET EGG. PEEL EGG. SMELL EGG. DIVIDE YOLK INTO THREE PORTIONS. GIVE THE SMALLEST PORTION OF YOLK TO THE GOLDEN GOOSE. ASK THE GOOSE ABOUT WHETHER THE SWAN IS TO BE TRUSTED. GIVE THE LARGEST PORTION OF YOLK TO THE SWAN. DANCE CONGA. EAT MEDIUM PORTION. STAND ON HEAD. WEST."
</p>
<p class="quoted">
Test me with "hint".
</p>
</div>
<p>Note that it would probably be kinder to offer the player some intermediate level of help, in the actual event.</p>
</div>
<div class="linkback">
<a href="wi_4.html#wi-4.12">WI §4.12. Values that vary</a><br><a href="rb_11.html#rb-11.3">RB §11.3. Helping and Hinting</a>
</div></details><details class="full-example" id="example-230"><summary><span class="example-summary">230. The Unexamined Life</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Hint systems in IF come in a variety of flavors: some are a static, prewritten set of guidelines (which might exist in a menu or outside the game entirely); others are built in as part of the program, and attempt to adapt to the situation the player currently faces. Adaptive hints have the advantage that they are less likely to reveal information for which the player is not ready, and the disadvantage that they are more work for the author.</p>
<p>The exercise here is to write an adaptive hint system that will both respond in agile ways to the state of the world model and require a minimum of authorial fussing. We also want the player to be able to ask for a hint about any object he encounters in the game world: this will let him be specific and avoid accidentally receiving hints about the wrong puzzles.</p>
<p>Our baseline assumption is that a player may find a puzzle unsolvable for one of two reasons: he either hasn't seen the relevant clue, or he hasn't got the relevant equipment. If these are true, then he should be given hints about how to find this information, and then once he has it, more specific hints about the puzzle itself -- ending, as a last resort, with the exact command(s) he will need to use in order to bring about the solution.</p>
<p>In practice, there are other possibilities, but this will do for an example.</p>
<p>We begin by defining our relations:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20Unexamined%20Life%22%5Cn%5CnUse%20scoring.%5Cn%5CnExplaining%20relates%20one%20thing%20to%20various%20things.%20The%20verb%20to%20explain%20means%20the%20explaining%20relation.%5Cn%5CnInstead%20of%20hinting%20about%20something%20when%20something%20unexamined%20(called%20the%20clue)%20explains%20the%20noun:%5Cn%5Ctsay%20%22You're%20still%20missing%20some%20information%20that%20might%20be%20useful%20to%20understanding%20the%20problem.%20%5BMore%5D%22;%5Cn%5Ctif%20player%20consents,%20try%20hinting%20about%20the%20clue.%5Cn%5CnRequiring%20relates%20one%20thing%20to%20various%20things.%20The%20verb%20to%20require%20means%20the%20requiring%20relation.%5Cn%5CnInstead%20of%20hinting%20about%20something%20when%20the%20noun%20requires%20something%20(called%20the%20implement)%20which%20is%20not%20carried%20by%20the%20player:%5Cn%5Ctsay%20%22You're%20missing%20an%20object%20that%20might%20be%20useful%20to%20resolving%20this%20problem.%20%5BMore%5D%22;%5Cn%5Ctif%20player%20consents,%20try%20hinting%20about%20the%20implement.%5Cn%5CnHinting%20about%20is%20an%20action%20applying%20to%20one%20visible%20thing.%20Understand%20%22hint%20about%20%5Bany%20thing%5D%22%20as%20hinting%20about.%5Cn%5Cn%5BThis%20allows%20us%20to%20create%20the%20most%20absolutely%20generic%20sort%20of%20hint%20--%20boring,%20perhaps,%20but%20in%20practice%20the%20player%20often%20just%20needs%20a%20nudge%20about%20what%20part%20of%20the%20game%20world%20he%20should%20be%20examining%20for%20a%20solution:%5D%5Cn%5CnCarry%20out%20hinting%20about:%5Cn%5Ctif%20something%20explains%20the%20noun,%20say%20%22You%20might%20want%20to%20review%20%5Bthe%20list%20of%20things%20which%20explain%20the%20noun%5D.%20%22;%5Cn%5Ctif%20the%20noun%20requires%20something:%5Cn%5Ct%5Ctsay%20%22You%20should%20be%20sure%20that%20you%20have%20%5Bthe%20list%20of%20things%20required%20by%20the%20noun%5D.%20%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22Sorry,%20I%20can't%20advise%20you%20further%20on%20that.%22.%5Cn%5Cn%5BThese%20things%20cover%20hinting%20about%20objects%20that%20are%20themselves%20puzzles.%20But%20what%20if%20the%20player%20asks%20for%20hints%20about%20a%20tool%20or%20piece%20of%20information%20because%20he%20doesn't%20know%20how%20to%20apply%20it%20yet?%20We%20might%20want%20to%20give%20some%20guidance%20there,%20as%20well.%5D%5Cn%5CnCarry%20out%20hinting%20about%20something%20which%20explains%20something%20(called%20target):%5Cn%5Ctif%20target%20is%20unseen,%20say%20%22%5BThe%20noun%5D%20might%20prove%20useful%20information,%20sooner%20or%20later.%22%20instead;%5Cn%5Ctotherwise%20say%20%22You%20could%20examine%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20hinting%20about%20something%20which%20is%20required%20by%20something:%5Cn%5Ctsay%20%22%5BThe%20noun%5D%20might%20be%20useful%20to%20have.%20%5BMore%5D%22;%5Cn%5Ctif%20player%20consents:%5Cn%5Ct%5Ctif%20a%20seen%20thing%20requires%20the%20noun,%20say%20%22%5BThe%20noun%5D%20may%20help%20with%20%5Bthe%20list%20of%20seen%20things%20which%20require%20the%20noun%5D.%22%20instead;%5Cn%5Ct%5Ctotherwise%20say%20%22There%20are%20%5Bnumber%20of%20things%20which%20require%20the%20noun%20in%20words%5D%20problems%20for%20which%20%5Bthe%20noun%5D%20might%20come%20in%20handy.%22%20instead.%5Cn%5Cn%5BNow%20we%20have%20these%20general%20hints%20written,%20but%20we%20want%20to%20pre-empt%20them%20if%20the%20player%20has%20not%20yet%20fulfilled%20all%20the%20prerequisites.%5D%5Cn%5CnInstead%20of%20hinting%20about%20something%20unseen:%5Cn%5Ctif%20the%20noun%20is%20visible:%5Cn%5Ct%5Ctnow%20the%20noun%20is%20seen;%5Cn%5Ct%5Ctcontinue%20the%20action;%5Cn%5Ctsay%20%22Perhaps%20you%20should%20explore%20further.%20%22;%5Cn%5Ctif%20the%20ultimate%20location%20of%20the%20noun%20is%20an%20unvisited%20room:%5Cn%5Ct%5Cttry%20hinting%20about%20the%20ultimate%20location%20of%20the%20noun;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctif%20the%20ultimate%20location%20of%20the%20noun%20is%20the%20location:%5Cn%5Ct%5Ct%5Ctsay%20%22You're%20in%20the%20correct%20room%20right%20now%5Bif%20the%20visible%20shell%20of%20the%20noun%20is%20a%20thing%5D.%20Try%20further%20exploring%20%5Bthe%20visible%20shell%20of%20the%20noun%5D%5Bend%20if%5D.%22;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Cttry%20hinting%20about%20the%20ultimate%20location%20of%20the%20noun.%5Cn%5CnInstead%20of%20hinting%20about%20a%20visited%20room:%5Cn%5Ctsay%20%22There's%20a%20room%20you've%20visited,%20but%20you%20haven't%20exhausted%20all%20there%20is%20to%20see%20there.%20%5BMore%5D%22;%5Cn%5Ctif%20player%20consents:%5Cn%5Ct%5Ctsay%20%22Try%20going%20back%20to%20%5Bthe%20noun%5D.%20%5BMore%5D%22;%5Cn%5Ct%5Ctif%20player%20consents,%20direct%20player%20to%20the%20noun.%5Cn%5CnInstead%20of%20hinting%20about%20an%20unvisited%20room:%5Cn%5Ctsay%20%22There's%20a%20room%20you%20haven't%20yet%20visited.%20%20%5BMore%5D%22;%5Cn%5Ctif%20player%20consents,%20direct%20player%20to%20the%20noun.%5Cn%5CnTo%20direct%20player%20to%20(goal%20-%20a%20room):%5Cn%5Ctlet%20way%20be%20the%20best%20route%20from%20location%20to%20the%20goal,%20using%20even%20locked%20doors;%5Cn%5Ctif%20way%20is%20a%20direction,%20say%20%22Try%20going%20%5Bway%5D%20to%20start%20your%20explorations.%22;%5Cn%5Ctotherwise%20say%20%22Sorry,%20the%20route%20is%20an%20indirect%20one.%22.%5Cn%5CnInstead%20of%20hinting%20about%20a%20portable%20seen%20thing%20which%20is%20not%20visible:%5Cn%5Ctif%20the%20noun%20is%20scenery,%20continue%20the%20action;%5Cn%5Ctsay%20%22You%20have%20seen%20the%20item%20you%20need%20to%20solve%20this%20problem,%20but%20it's%20not%20in%20sight%20at%20the%20moment.%20%20%5BMore%5D%22;%5Cn%5Ctif%20player%20consents:%5Cn%5Ct%5Cttry%20hinting%20about%20the%20ultimate%20location%20of%20the%20noun.%5Cn%5Cn%5BAnd%20this%20business%20of%20%22seen%22%20things%20requires,%20of%20course,%20that%20we%20keep%20track:%5D%5Cn%5CnA%20thing%20can%20be%20seen%20or%20unseen.%20A%20thing%20is%20usually%20unseen.%20The%20player%20is%20seen.%20After%20printing%20the%20name%20of%20something%20(called%20target):%20now%20the%20target%20is%20seen.%5Cn%5Cn%5BThat%20%22After%20printing...%22%20rule%20means%20that%20as%20soon%20as%20the%20game%20automatically%20prints%20the%20name%20of%20an%20object,%20it%20tags%20that%20object%20as%20having%20been%20%22seen%22%20by%20the%20player.%20This%20requires%20just%20a%20little%20care%20on%20our%20part,%20that%20we%20never%20mention%20an%20object%20without%20using%20the%20game's%20printing%20rules.%20Still,%20it%20is%20much%20easier%20than%20most%20other%20possible%20forms%20of%20bookkeeping.%5D%5Cn%5Cn%5BWe%20also%20need%20to%20deal%20with%20the%20question%20of%20whether%20the%20player%20has%20examined%20an%20object,%20for%20those%20objects%20whose%20descriptions%20carry%20vital%20information:%5D%5Cn%5CnA%20thing%20can%20be%20examined%20or%20unexamined.%20A%20thing%20is%20usually%20unexamined.%20Carry%20out%20examining%20something:%20now%20the%20noun%20is%20examined.%5Cn%5Cn%5BIn%20practice,%20there%20might%20be%20other%20ways%20of%20getting%20vital%20facts,%20and%20in%20a%20more%20sophisticated%20puzzle%20game%20we%20might%20need%20a%20more%20sophisticated%20model%20to%20track%20this.%20But%20examined%20or%20unexamined%20will%20do%20for%20now.%5D%5Cn%5CnTo%20decide%20what%20room%20is%20the%20ultimate%20location%20of%20(item%20-%20a%20thing):%5Cn%5Ctlet%20place%20be%20the%20holder%20of%20the%20item;%5Cn%5Ctwhile%20the%20place%20is%20a%20thing:%5Cn%5Ct%5Ctlet%20the%20place%20be%20the%20holder%20of%20the%20place;%5Cn%5Ctif%20the%20place%20is%20a%20room,%20decide%20on%20the%20place.%5Cn%5CnTo%20decide%20what%20thing%20is%20the%20visible%20shell%20of%20(item%20-%20a%20thing):%5Cn%5Ctif%20item%20is%20visible,%20decide%20on%20the%20item;%5Cn%5Ctlet%20place%20be%20the%20holder%20of%20the%20item;%5Cn%5Ctwhile%20place%20is%20a%20thing%20and%20place%20is%20not%20visible:%5Cn%5Ct%5Ctlet%20place%20be%20the%20holder%20of%20the%20place;%5Cn%5Ctif%20the%20place%20is%20visible,%20decide%20on%20the%20place.%5Cn%5CnTo%20say%20more:%5Cn%5Ctsay%20%22%5Bparagraph%20break%5DShall%20I%20go%20on?%20&gt;%20%22.%5Cn%5Cn%5BThat%20covers%20most%20of%20the%20generic%20hints,%20but%20let's%20also%20add%20some%20slightly%20more%20precise%20hints%20about%20a%20few%20kinds%20of%20objects%20that%20are%20especially%20important%20in%20the%20model%20world.%20These%20hints%20will%20probably%20not%20be%20very%20interesting%20to%20a%20seasoned%20IF%20veteran,%20but%20a%20novice%20player%20who%20does%20not%20know%20the%20wording%20or%20cannot%20guess%20what%20something%20might%20be%20for%20may%20still%20find%20them%20useful:%5D%5Cn%5CnCarry%20out%20hinting%20about%20a%20locked%20lockable%20thing:%5Cn%5Ctsay%20%22You%20could%20unlock%20%5Bthe%20noun%5D%20with%20%5Bthe%20matching%20key%20of%20the%20noun%5D.%22%20instead.%5Cn%5CnInstead%20of%20hinting%20about%20a%20locked%20thing%20when%20the%20matching%20key%20of%20the%20noun%20is%20not%20carried%20by%20the%20player:%5Cn%5Ctif%20the%20player%20can%20see%20the%20matching%20key%20of%20the%20noun:%5Cn%5Ct%5Ctsay%20%22Perhaps%20%5Bthe%20matching%20key%20of%20the%20noun%5D%20would%20help.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5BThe%20noun%5D%20is%20locked.%20There%20must%20be%20a%20key%20around%20somewhere.%20%5BMore%5D%22;%5Cn%5Ct%5Ctif%20player%20consents,%20try%20hinting%20about%20the%20matching%20key%20of%20the%20noun.%5Cn%5CnCarry%20out%20hinting%20about%20a%20closed%20openable%20unlocked%20thing:%5Cn%5Ctsay%20%22You%20could%20open%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20hinting%20about%20an%20open%20door:%5Cn%5Ctsay%20%22You%20could%20enter%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20hinting%20about%20an%20unexamined%20thing:%5Cn%5Ctsay%20%22You%20might%20find%20out%20something%20if%20you%20examine%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20hinting%20about%20an%20edible%20thing:%5Cn%5Ctsay%20%22You%20could%20eat%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20hinting%20about%20a%20wearable%20thing:%5Cn%5Ctsay%20%22You%20could%20wear%20%5Bthe%20noun%5D.%22%20instead.%5Cn%5CnCarry%20out%20hinting%20about%20a%20pushable%20between%20rooms%20thing:%5Cn%5Ctsay%20%22You%20could%20push%20%5Bthe%20noun%5D%20some%20direction.%22%20instead.%5Cn%5Cn%5BNow%20to%20the%20actual%20objects%20in%20the%20game:%5D%5Cn%5CnThe%20Crypt%20is%20a%20room.%20%22This%20squat,%20barrel-vaulted%20chamber%20runs%20roughly%20north-south.%20Along%20either%20side%20are%20the%20graves%20of%20Saxon%20kings%20and%20early%20bishops%20of%20the%20church%20long%20since%20gone%20to%20dust%20--%20one%20%5Btomb%5D%20in%20particular%20looks%20undisturbed.%22%5Cn%5Cn%5BNotice%20that%20we%20used%20the%20bracketed%20tomb%20here:%20the%20tomb%20is%20scenery,%20and%20if%20we%20do%20not%20use%20the%20name-printing%20function,%20Inform%20will%20not%20register%20that%20we%20have%20mentioned%20it%20to%20the%20player.%5D%5Cn%5CnThe%20tomb%20is%20scenery%20in%20the%20Crypt.%20The%20tomb%20is%20openable%20and%20closed.%20The%20silver%20dagger%20is%20a%20thing%20in%20the%20tomb.%20Understand%20%22tombs%22%20as%20the%20tomb.%20The%20description%20of%20the%20silver%20dagger%20is%20%22Gleaming%20in%20a%20soft%20light%20all%20its%20own.%20Its%20blade%20is%20figured%20with%20running%20deer%20and%20its%20hilt%20is%20made%20of%20horn.%22%20The%20wight%20requires%20the%20silver%20dagger.%20The%20tomb%20requires%20the%20pry%20bar.%5Cn%5CnInstead%20of%20opening%20the%20tomb%20when%20the%20player%20does%20not%20carry%20the%20pry%20bar:%5Cn%5Ctsay%20%22The%20lids%20are%20stone,%20too%20heavy%20for%20you%20to%20raise%20without%20some%20implement.%22%5Cn%5Cn%5BNow%20we%20can%20add%20specific%20hints%20to%20replace%20the%20generic%20ones:%5D%5Cn%5CnCarry%20out%20hinting%20about%20the%20tomb:%5Cn%5Ctsay%20%22The%20lids%20are%20heavy,%20but%20you%20can%20open%20them%20when%20you%20carry%20the%20pry%20bar.%22%5Cn%5Cn%5BThe%20rest%20of%20the%20hint%20system%20ensures%20that%20the%20player%20will%20not%20see%20this%20final%20suggestion%20until%20he%20has%20the%20pry%20bar,%20since%20the%20tomb%20%22requires%22%20the%20pry%20bar.%20Having%20the%20hint%20there%20doesn't%20excuse%20us%20from%20providing%20some%20alternate%20wording%20in%20case%20the%20player%20solves%20this%20not-very-difficult%20conundrum%20on%20his%20own,%20though:%5D%5Cn%5CnUnderstand%20%22pry%20%5Bsomething%5D%20with%20%5Bsomething%20preferably%20held%5D%22%20as%20unlocking%20it%20with.%20Understand%20the%20commands%20%22lever%22%20or%20%22prise%22%20as%20%22pry%22.%5Cn%5CnInstead%20of%20unlocking%20something%20with%20the%20pry%20bar,%20try%20opening%20the%20noun.%5Cn%5CnThe%20wight%20is%20a%20man%20in%20the%20Crypt.%20%22%5BThe%20wight%5D%20lurks%20near%20the%20south%20exit.%22%20The%20description%20of%20wight%20is%20%22Old%20English%20%5Bitalic%20type%5Dwiht%5Broman%20type%5D:%20a%20thing,%20a%20creature.%20It%20is%20little%20more%20than%20the%20memory%20of%20a%20life%20ill-lived,%20but%20it%20lingers%20here.%22%20Understand%20%22wiht%22%20or%20%22creature%22%20or%20%22ghost%22%20as%20the%20wight.%5Cn%5CnInstead%20of%20going%20south%20in%20the%20presence%20of%20wight:%5Cn%5Ctsay%20%22The%20wight%20breathes%20chill%20into%20your%20face.%5Cn%5CnYour%20head%20swims,%20and%20you%20are%20aware%20that%20you%20no%20longer%20have%20the%20willpower%20to%20go%20in%20that%20direction.%22%5Cn%5CnFresh%20Air%20is%20south%20from%20the%20Crypt.%5Cn%5CnAfter%20going%20to%20Fresh%20Air:%5Cn%5Ctincrement%20the%20score;%5Cn%5Ctsay%20%22Congratulations,%20you%20have%20escaped!%22;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5CnThe%20inscription%20is%20fixed%20in%20place%20in%20the%20Crypt.%20%22Someone%20has%20painstakingly%20carved%20%5Ban%20inscription%5D%20into%20the%20wall%20above%20the%20door.%22%20The%20description%20is%20%22Squinting,%20you%20decipher%20the%20Latin%20text:%20%5Bitalic%20type%5DSilver%20causes%20harm%20to%20those%20that%20live%20though%20dead%5Broman%20type%5D.%22%20The%20inscription%20explains%20wight.%5Cn%5CnThe%20Treasure%20Chamber%20is%20north%20of%20the%20Crypt.%20%22The%20walls%20are%20thick,%20the%20high%20windows%20promisingly%20barred%20with%20iron.%20But%20for%20all%20this%20there%20is%20no%20hint%20of%20any%20valuable%20stores%20remaining.%22%5Cn%5CnThe%20pry%20bar%20is%20in%20the%20Treasure%20Chamber.%20%22One%20of%20the%20window%20bars,%20rusted%20from%20its%20place,%20lies%20in%20a%20puddle%20of%20water.%22%20Understand%20%22window%22%20or%20%22bars%22%20as%20the%20pry%20bar.%20The%20description%20of%20the%20pry%20bar%20is%20%22A%20few%20feet%20long,%20and%20not%20entirely%20rusted%20into%20uselessness%20yet.%22%5Cn%5CnInstead%20of%20giving%20the%20dagger%20to%20wight:%5Cn%5Ctsay%20%22The%20wight%20recoils,%20appalled.%22%5Cn%5CnCarry%20out%20hinting%20about%20wight:%5Cn%5Ctsay%20%22You%20will%20have%20to%20find%20some%20way%20to%20get%20wight%20to%20come%20in%20physical%20contact%20with%20the%20silver%20dagger,%20which%20he%20will%20certainly%20not%20do%20willingly.%20%5BMore%5D%22;%5Cn%5Ctif%20player%20consents,%20say%20%22You%20could,%20for%20instance,%20throw%20it%20at%20him.%22%20instead;%5Cn%5Ctotherwise%20stop%20the%20action.%5Cn%5CnUnderstand%20%22touch%20%5Bsomething%5D%20with%20%5Bsomething%5D%22%20as%20putting%20it%20on%20(with%20nouns%20reversed).%20Understand%20%22hit%20%5Bsomeone%5D%20with%20%5Bsomething%5D%22%20as%20putting%20it%20on%20(with%20nouns%20reversed).%5Cn%5CnInstead%20of%20attacking%20the%20wight:%5Cn%5Ctsay%20%22You%20can't%20force%20yourself%20to%20approach%20close%20enough%20for%20hand%20to%20hand%20combat:%20if,%20indeed,%20the%20wight%20has%20hands.%22%5Cn%5CnInstead%20of%20putting%20the%20dagger%20on%20wight:%5Cn%5Ctsay%20%22The%20wight%20fades%20out%20of%20your%20way%20without%20ever%20coming%20into%20contact%20with%20the%20dagger.%20Perhaps%20a%20more%20projectile%20method%20would%20work%20better.%22%5Cn%5CnInstead%20of%20putting%20something%20on%20wight:%5Cn%5Ctsay%20%22The%20wight%20dodges%20you.%22%5Cn%5CnInstead%20of%20throwing%20the%20dagger%20at%20wight:%5Cn%5Ctnow%20the%20wight%20is%20nowhere;%5Cn%5Ctmove%20the%20dagger%20to%20the%20location;%5Cn%5Ctincrement%20the%20score;%5Cn%5Ctsay%20%22The%20dagger%20passes%20through%20its%20airy%20form%20with%20a%20rending%20like%20the%20rip%20of%20silk.%20The%20fragments%20dissipate%20at%20once.%22%5Cn%5CnThe%20maximum%20score%20is%202.%5Cn%5CnTest%20me%20with%20%22hint%20about%20wight%20/%20north%20/%20get%20bar%20/%20south%20/%20open%20tomb%20/%20get%20dagger%20/%20south%20/%20hint%20about%20wight%20/%20read%20inscription%20/%20hint%20about%20wight%20/%20attack%20wight%20/%20throw%20dagger%20at%20wight%20/%20south%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Unexamined Life"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
Explaining relates one thing to various things. The verb to explain means the explaining relation.
</p>
<p class="quoted">
Instead of hinting about something when something unexamined (called the clue) explains the noun:
<br>    say "You're still missing some information that might be useful to understanding the problem. [More]";
<br>    if player consents, try hinting about the clue.
</p>
<p class="quoted">
Requiring relates one thing to various things. The verb to require means the requiring relation.
</p>
<p class="quoted">
Instead of hinting about something when the noun requires something (called the implement) which is not carried by the player:
<br>    say "You're missing an object that might be useful to resolving this problem. [More]";
<br>    if player consents, try hinting about the implement.
</p>
<p class="quoted">
Hinting about is an action applying to one visible thing. Understand "hint about [any thing]" as hinting about.
</p>
</div>
<p>This allows us to create the most absolutely generic sort of hint -- boring, perhaps, but in practice the player often just needs a nudge about what part of the game world he should be examining for a solution:</p>

<div class="code"><p class="quoted">
Carry out hinting about:
<br>    if something explains the noun, say "You might want to review [the list of things which explain the noun]. ";
<br>    if the noun requires something:
<br>        say "You should be sure that you have [the list of things required by the noun]. ";
<br>    otherwise:
<br>        say "Sorry, I can't advise you further on that.".
</p></div>
<p>These things cover hinting about objects that are themselves puzzles. But what if the player asks for hints about a tool or piece of information because he doesn't know how to apply it yet? We might want to give some guidance there, as well.</p>

<div class="code">
<p class="quoted">
Carry out hinting about something which explains something (called target):
<br>    if target is unseen, say "[The noun] might prove useful information, sooner or later." instead;
<br>    otherwise say "You could examine [the noun]." instead.
</p>
<p class="quoted">
Carry out hinting about something which is required by something:
<br>    say "[The noun] might be useful to have. [More]";
<br>    if player consents:
<br>        if a seen thing requires the noun, say "[The noun] may help with [the list of seen things which require the noun]." instead;
<br>        otherwise say "There are [number of things which require the noun in words] problems for which [the noun] might come in handy." instead.
</p>
</div>
<p>Now we have these general hints written, but we want to pre-empt them if the player has not yet fulfilled all the prerequisites.</p>

<div class="code">
<p class="quoted">
Instead of hinting about something unseen:
<br>    if the noun is visible:
<br>        now the noun is seen;
<br>        continue the action;
<br>    say "Perhaps you should explore further. ";
<br>    if the ultimate location of the noun is an unvisited room:
<br>        try hinting about the ultimate location of the noun;
<br>    otherwise:
<br>        if the ultimate location of the noun is the location:
<br>            say "You're in the correct room right now[if the visible shell of the noun is a thing]. Try further exploring [the visible shell of the noun][end if].";
<br>        otherwise:
<br>            try hinting about the ultimate location of the noun.
</p>
<p class="quoted">
Instead of hinting about a visited room:
<br>    say "There's a room you've visited, but you haven't exhausted all there is to see there. [More]";
<br>    if player consents:
<br>        say "Try going back to [the noun]. [More]";
<br>        if player consents, direct player to the noun.
</p>
<p class="quoted">
Instead of hinting about an unvisited room:
<br>    say "There's a room you haven't yet visited.  [More]";
<br>    if player consents, direct player to the noun.
</p>
<p class="quoted">
To direct player to (goal - a room):
<br>    let way be the best route from location to the goal, using even locked doors;
<br>    if way is a direction, say "Try going [way] to start your explorations.";
<br>    otherwise say "Sorry, the route is an indirect one.".
</p>
<p class="quoted">
Instead of hinting about a portable seen thing which is not visible:
<br>    if the noun is scenery, continue the action;
<br>    say "You have seen the item you need to solve this problem, but it's not in sight at the moment.  [More]";
<br>    if player consents:
<br>        try hinting about the ultimate location of the noun.
</p>
</div>
<p>And this business of "seen" things requires, of course, that we keep track:</p>

<div class="code"><p class="quoted">
A thing can be seen or unseen. A thing is usually unseen. The player is seen. After printing the name of something (called target): now the target is seen.
</p></div>
<p>That "After printing..." rule means that as soon as the game automatically prints the name of an object, it tags that object as having been "seen" by the player. This requires just a little care on our part, that we never mention an object without using the game's printing rules. Still, it is much easier than most other possible forms of bookkeeping.</p>
<p>We also need to deal with the question of whether the player has examined an object, for those objects whose descriptions carry vital information:</p>

<div class="code"><p class="quoted">
A thing can be examined or unexamined. A thing is usually unexamined. Carry out examining something: now the noun is examined.
</p></div>
<p>In practice, there might be other ways of getting vital facts, and in a more sophisticated puzzle game we might need a more sophisticated model to track this. But examined or unexamined will do for now.</p>

<div class="code">
<p class="quoted">
To decide what room is the ultimate location of (item - a thing):
<br>    let place be the holder of the item;
<br>    while the place is a thing:
<br>        let the place be the holder of the place;
<br>    if the place is a room, decide on the place.
</p>
<p class="quoted">
To decide what thing is the visible shell of (item - a thing):
<br>    if item is visible, decide on the item;
<br>    let place be the holder of the item;
<br>    while place is a thing and place is not visible:
<br>        let place be the holder of the place;
<br>    if the place is visible, decide on the place.
</p>
<p class="quoted">
To say more:
<br>    say "[paragraph break]Shall I go on? &gt; ".
</p>
</div>
<p>That covers most of the generic hints, but let's also add some slightly more precise hints about a few kinds of objects that are especially important in the model world. These hints will probably not be very interesting to a seasoned IF veteran, but a novice player who does not know the wording or cannot guess what something might be for may still find them useful:</p>

<div class="code">
<p class="quoted">
Carry out hinting about a locked lockable thing:
<br>    say "You could unlock [the noun] with [the matching key of the noun]." instead.
</p>
<p class="quoted">
Instead of hinting about a locked thing when the matching key of the noun is not carried by the player:
<br>    if the player can see the matching key of the noun:
<br>        say "Perhaps [the matching key of the noun] would help.";
<br>    otherwise:
<br>        say "[The noun] is locked. There must be a key around somewhere. [More]";
<br>        if player consents, try hinting about the matching key of the noun.
</p>
<p class="quoted">
Carry out hinting about a closed openable unlocked thing:
<br>    say "You could open [the noun]." instead.
</p>
<p class="quoted">
Carry out hinting about an open door:
<br>    say "You could enter [the noun]." instead.
</p>
<p class="quoted">
Carry out hinting about an unexamined thing:
<br>    say "You might find out something if you examine [the noun]." instead.
</p>
<p class="quoted">
Carry out hinting about an edible thing:
<br>    say "You could eat [the noun]." instead.
</p>
<p class="quoted">
Carry out hinting about a wearable thing:
<br>    say "You could wear [the noun]." instead.
</p>
<p class="quoted">
Carry out hinting about a pushable between rooms thing:
<br>    say "You could push [the noun] some direction." instead.
</p>
</div>
<p>Now to the actual objects in the game:</p>

<div class="code"><p class="quoted">
The Crypt is a room. "This squat, barrel-vaulted chamber runs roughly north-south. Along either side are the graves of Saxon kings and early bishops of the church long since gone to dust -- one [tomb] in particular looks undisturbed."
</p></div>
<p>Notice that we used the bracketed tomb here: the tomb is scenery, and if we do not use the name-printing function, Inform will not register that we have mentioned it to the player.</p>

<div class="code">
<p class="quoted">
The tomb is scenery in the Crypt. The tomb is openable and closed. The silver dagger is a thing in the tomb. Understand "tombs" as the tomb. The description of the silver dagger is "Gleaming in a soft light all its own. Its blade is figured with running deer and its hilt is made of horn." The wight requires the silver dagger. The tomb requires the pry bar.
</p>
<p class="quoted">
Instead of opening the tomb when the player does not carry the pry bar:
<br>    say "The lids are stone, too heavy for you to raise without some implement."
</p>
</div>
<p>Now we can add specific hints to replace the generic ones:</p>

<div class="code"><p class="quoted">
Carry out hinting about the tomb:
<br>    say "The lids are heavy, but you can open them when you carry the pry bar."
</p></div>
<p>The rest of the hint system ensures that the player will not see this final suggestion until he has the pry bar, since the tomb "requires" the pry bar. Having the hint there doesn't excuse us from providing some alternate wording in case the player solves this not-very-difficult conundrum on his own, though:</p>

<div class="code">
<p class="quoted">
Understand "pry [something] with [something preferably held]" as unlocking it with. Understand the commands "lever" or "prise" as "pry".
</p>
<p class="quoted">
Instead of unlocking something with the pry bar, try opening the noun.
</p>
<p class="quoted">
The wight is a man in the Crypt. "[The wight] lurks near the south exit." The description of wight is "Old English [italic type]wiht[roman type]: a thing, a creature. It is little more than the memory of a life ill-lived, but it lingers here." Understand "wiht" or "creature" or "ghost" as the wight.
</p>
<p class="quoted">
Instead of going south in the presence of wight:
<br>    say "The wight breathes chill into your face.
</p>
<p class="quoted">
Your head swims, and you are aware that you no longer have the willpower to go in that direction."
</p>
<p class="quoted">
Fresh Air is south from the Crypt.
</p>
<p class="quoted">
After going to Fresh Air:
<br>    increment the score;
<br>    say "Congratulations, you have escaped!";
<br>    end the story finally.
</p>
<p class="quoted">
The inscription is fixed in place in the Crypt. "Someone has painstakingly carved [an inscription] into the wall above the door." The description is "Squinting, you decipher the Latin text: [italic type]Silver causes harm to those that live though dead[roman type]." The inscription explains wight.
</p>
<p class="quoted">
The Treasure Chamber is north of the Crypt. "The walls are thick, the high windows promisingly barred with iron. But for all this there is no hint of any valuable stores remaining."
</p>
<p class="quoted">
The pry bar is in the Treasure Chamber. "One of the window bars, rusted from its place, lies in a puddle of water." Understand "window" or "bars" as the pry bar. The description of the pry bar is "A few feet long, and not entirely rusted into uselessness yet."
</p>
<p class="quoted">
Instead of giving the dagger to wight:
<br>    say "The wight recoils, appalled."
</p>
<p class="quoted">
Carry out hinting about wight:
<br>    say "You will have to find some way to get wight to come in physical contact with the silver dagger, which he will certainly not do willingly. [More]";
<br>    if player consents, say "You could, for instance, throw it at him." instead;
<br>    otherwise stop the action.
</p>
<p class="quoted">
Understand "touch [something] with [something]" as putting it on (with nouns reversed). Understand "hit [someone] with [something]" as putting it on (with nouns reversed).
</p>
<p class="quoted">
Instead of attacking the wight:
<br>    say "You can't force yourself to approach close enough for hand to hand combat: if, indeed, the wight has hands."
</p>
<p class="quoted">
Instead of putting the dagger on wight:
<br>    say "The wight fades out of your way without ever coming into contact with the dagger. Perhaps a more projectile method would work better."
</p>
<p class="quoted">
Instead of putting something on wight:
<br>    say "The wight dodges you."
</p>
<p class="quoted">
Instead of throwing the dagger at wight:
<br>    now the wight is nowhere;
<br>    move the dagger to the location;
<br>    increment the score;
<br>    say "The dagger passes through its airy form with a rending like the rip of silk. The fragments dissipate at once."
</p>
<p class="quoted">
The maximum score is 2.
</p>
<p class="quoted">
Test me with "hint about wight / north / get bar / south / open tomb / get dagger / south / hint about wight / read inscription / hint about wight / attack wight / throw dagger at wight / south".
</p>
</div>
<p>Note that, if using TEST ME to run through the solution on the Z-machine, we will have to answer a few yes/no questions along the way.</p>
<p>For Glulx, the code should instead read something like</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60%20Test%20me%20with%20%22hint%20about%20wight%20/%20y%20/%20north%20/%20get%20bar%20/%20south%20/%20open%20tomb%20/%20get%20dagger%20/%20south%20/%20hint%20about%20wight%20/%20y%20/%20read%20inscription%20/%20hint%20about%20wight%20/%20y%20/%20attack%20wight%20/%20throw%20dagger%20at%20wight%20/%20south%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  Test me with "hint about wight / y / north / get bar / south / open tomb / get dagger / south / hint about wight / y / read inscription / hint about wight / y / attack wight / throw dagger at wight / south".
</p></div>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.9">WI §13.9. Defining new assertion verbs</a><br><a href="rb_11.html#rb-11.3">RB §11.3. Helping and Hinting</a>
</div></details>
</div></section>
<section class="section" id="rb-11.4"><div>





<h3>RB §11.4. Scoring</h3>
<p>Not every work of IF allots a numerical score to the player: for some authors, this emphasises the idea of a story rather than a narrative. The simple sentence</p>

<div class="code"><p class="quoted">
Use scoring.
</p></div>
<p>introduces the concept. Once this is included, Inform will provide built-in support for a single number measuring progress ("score"), and will expect to measure this against a maximum possible ("maximum score", which can either be set by hand or worked out automatically from a table of ranks).</p>
<p>In a story in which scoring exists, the player may choose to turn score notifications (such as "[Your score has just gone up by one point.]") on or off. The commands to do this are NOTIFY ON and NOTIFY OFF; the actions are called switching score notification on and switching score notification off. In the event that we need to amend the behavior of notification, we could do so by adding, removing, or modifying the elements of the check and carry out rulebooks for these commands; as in</p>

<div class="code"><p class="quoted">
Check switching score notification off:
<br>    if the turn count is less than 10:
<br>        say "You are still a novice, grasshopper. Allow your teacher to give you advice until such time as you are ready to go on alone."
</p></div>
<p>If we wish to change the wording of the default message ("[Your score has..."), we may want to use the Responses system.</p>
<p>An especially insidious style of bug allows the player to type the same sequence of commands over and over, earning score endlessly for the same insight, and to avoid this it is usually safest to write source like:</p>

<div class="code"><p class="quoted">
After taking the Picasso miniature when the Picasso miniature is not handled:
<br>    increase the score by 10;
<br>    say "As they say in Montmartre: dude!"
</p></div>
<p>We might also write our condition with "for the first time", like so:</p>

<div class="code"><p class="quoted">
After jumping for the first time:
<br>    increase the score by 5;
<br>    say "Boing! That was certainly entertaining."
</p></div>
<p>But we should be careful not to use "for the first time" in scoring situations where it's possible for the player to try the action but fail. Inform counts even unsuccessful attempts towards the number of times an action is understood to have occurred, so if the player tries to jump and fails, his "for the first time" will be used up and he will never receive the score points.</p>
<p>If there are many "treasure" items like the Picasso miniature, it is best to be systematic, as in <a href="rb_11.html#example-137" class="example-link" onClick="(function() { document.getElementById('example-137').setAttribute('open','open'); return true; })();">No Place Like Home</a><span class="example-difficulty"> ★★★</span>. <a href="rb_11.html#example-220" class="example-link" onClick="(function() { document.getElementById('example-220').setAttribute('open','open'); return true; })();">Bosch</a><span class="example-difficulty"> ★</span> takes another approach to the same idea, by creating a table of point-earning actions that the player will be rewarded for doing; the FULL SCORE command will then play these back.</p>
<p><a href="rb_11.html#example-136" class="example-link" onClick="(function() { document.getElementById('example-136').setAttribute('open','open'); return true; })();">Mutt's Adventure</a><span class="example-difficulty"> ★★</span> demonstrates how we might add a scored room feature, such that the player earns a point when he first arrives at a special room.</p>
<p>A single number does not really sum up a life, or even an afternoon, and <a href="rb_11.html#example-280" class="example-link" onClick="(function() { document.getElementById('example-280').setAttribute('open','open'); return true; })();">Goat-Cheese and Sage Chicken</a><span class="example-difficulty"> ★★★</span> and <a href="rb_11.html#example-166" class="example-link" onClick="(function() { document.getElementById('example-166').setAttribute('open','open'); return true; })();">Panache</a><span class="example-difficulty"> ★★★</span> offer more detailed citations. Works that are more story than story may prefer to offer a plot summary of the player's experience to date in lieu of more conventional scoring.</p>
<p>Finally, <a href="rb_11.html#example-442" class="example-link" onClick="(function() { document.getElementById('example-442').setAttribute('open','open'); return true; })();">Rubies</a><span class="example-difficulty"> ★★★</span> provides a scoreboard that keeps track of the ten highest-scoring players from one playthrough to the next.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-220"><summary><span class="example-summary">220. Bosch</span> <span class="example-difficulty">★</span></summary><div>
<p>We could, if we wanted, make a table of stored actions all of which represent things that will earn points for the player. For instance:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Bosch%22%5Cn%5CnUse%20scoring.%5Cn%5CnThe%20Garden%20of%20Excess%20is%20a%20room.%20The%20gilded%20lily%20is%20an%20edible%20thing%20in%20the%20Garden%20of%20Excess.%5Cn%5CnThe%20Pathway%20to%20Desire%20is%20west%20of%20the%20Garden%20of%20Excess.%20The%20emerald%20leaf%20is%20in%20the%20Pathway.%5Cn%5CnTable%20of%20Valuable%20Actions%5Cnrelevant%20action%5Ctpoint%20value%5Ctturn%20stamp%5Cntaking%20the%20emerald%20leaf%5Ct15%5Ct-1%5Cneating%20the%20gilded%20lily%5Ct5%5Ct-1%5Cn%5Cn%5B(And%20our%20list%20would%20presumably%20continue%20from%20there,%20in%20the%20full%20game.)%5D%5Cn%5CnThe%20maximum%20score%20is%2025.%5Cn%5CnAfter%20doing%20something:%5Cn%5Ctrepeat%20through%20Table%20of%20Valuable%20Actions:%5Cn%5Ct%5Ctif%20the%20current%20action%20is%20the%20relevant%20action%20entry%20and%20turn%20stamp%20entry%20is%20less%20than%200:%5Cn%5Ct%5Ct%5Ctnow%20the%20turn%20stamp%20entry%20is%20the%20turn%20count;%5Cn%5Ct%5Ct%5Ctincrease%20the%20score%20by%20the%20point%20value%20entry;%5Cn%5Ctcontinue%20the%20action.%5Cn%5CnUnderstand%20%22full%20score%22%20or%20%22full%22%20as%20requesting%20the%20complete%20score.%20Requesting%20the%20complete%20score%20is%20an%20action%20out%20of%20world.%5Cn%5CnCheck%20requesting%20the%20complete%20score:%5Cn%5Ctif%20the%20score%20is%200,%20say%20%22You%20have%20not%20yet%20achieved%20anything%20of%20note.%22%20instead.%5Cn%5CnCarry%20out%20requesting%20the%20complete%20score:%5Cn%5Ctsay%20%22So%20far%20you%20have%20received%20points%20for%20the%20following:%20%5Bline%20break%5D%22;%5Cn%5Ctsort%20the%20Table%20of%20Valuable%20Actions%20in%20turn%20stamp%20order;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Valuable%20Actions:%5Cn%5Ct%5Ctif%20the%20turn%20stamp%20entry%20is%20greater%20than%200:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bline%20break%5D%20%20%5Brelevant%20action%20entry%5D:%20%5Bpoint%20value%20entry%5D%20points%22;%5Cn%5Ctsay%20line%20break.%5Cn%5CnTest%20me%20with%20%22eat%20lily%20/%20w%20/%20full%20score%20/%20get%20leaf%20/%20full%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Bosch"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
The Garden of Excess is a room. The gilded lily is an edible thing in the Garden of Excess.
</p>
<p class="quoted">
The Pathway to Desire is west of the Garden of Excess. The emerald leaf is in the Pathway.
</p>
<p class="quoted">
Table of Valuable Actions
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">relevant action</p></td>
<td class="quotedtablecell"><p class="quoted">point value</p></td>
<td class="quotedtablecell"><p class="quoted">turn stamp</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">taking the emerald leaf</p></td>
<td class="quotedtablecell"><p class="quoted">15</p></td>
<td class="quotedtablecell"><p class="quoted">-1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">eating the gilded lily</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
<td class="quotedtablecell"><p class="quoted">-1</p></td>
</tr>
</table>
</div>
<p>(And our list would presumably continue from there, in the full game.)</p>

<div class="code">
<p class="quoted">
The maximum score is 25.
</p>
<p class="quoted">
After doing something:
<br>    repeat through Table of Valuable Actions:
<br>        if the current action is the relevant action entry and turn stamp entry is less than 0:
<br>            now the turn stamp entry is the turn count;
<br>            increase the score by the point value entry;
<br>    continue the action.
</p>
<p class="quoted">
Understand "full score" or "full" as requesting the complete score. Requesting the complete score is an action out of world.
</p>
<p class="quoted">
Check requesting the complete score:
<br>    if the score is 0, say "You have not yet achieved anything of note." instead.
</p>
<p class="quoted">
Carry out requesting the complete score:
<br>    say "So far you have received points for the following: [line break]";
<br>    sort the Table of Valuable Actions in turn stamp order;
<br>    repeat through the Table of Valuable Actions:
<br>        if the turn stamp entry is greater than 0:
<br>            say "[line break]  [relevant action entry]: [point value entry] points";
<br>    say line break.
</p>
<p class="quoted">
Test me with "eat lily / w / full score / get leaf / full".
</p>
</div>
<p>This system is tidy, but limited: we cannot give actions interesting names in the score list, like "seducing the pirate's daughter" or "collecting a valuable artifact". So it will not be ideal in all situations, but it has the virtue of being easy to extend, and of listing all of the player's successes in the order in which they occurred in his play-through.</p>
</div>
<div class="linkback">
<a href="wi_12.html#wi-12.20">WI §12.20. Stored actions</a><br><a href="rb_11.html#rb-11.4">RB §11.4. Scoring</a>
</div></details><details class="full-example" id="example-136"><summary><span class="example-summary">136. Mutt's Adventure</span> <span class="example-difficulty">★★</span></summary><div>
<p>Suppose we want to reward the player the first time he reaches a given room. The "unvisited" attribute is useful for this: unlike such constructions as "going to a room for the first time", it doesn't develop false positives when the player has merely tried to go to the room in question. "Every turn when the player is in a room for the first time" is also unhelpful, because it continues to be true as long as the player is in a room on his first visit there.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Mutt's%20Adventure%22%5Cn%5CnUse%20scoring.%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnA%20room%20can%20be%20scored%20or%20unscored.%5Cn%5CnCarry%20out%20going%20to%20a%20unvisited%20scored%20room:%5Cn%5Ctincrement%20the%20score.%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Incan%20Palace%20Compound%20is%20a%20room.%20%22After%20numerous%20false%20leads%20through%20the%20jungles%20of%20Peru,%20and%20an%20arduous%20trek%20along%20the%20Amazon,%20you%20have%20arrived,%20at%20last,%20here:%20at%20Atagon,%20the%20lost%20city%20of%20untold%20treasure.%22%5Cn%5CnThe%20startlingly%20intricate%20door%20is%20a%20door.%20It%20is%20inside%20from%20Incan%20Palace%20Compound%20and%20outside%20from%20the%20Treasure%20Room.%20%22A%20door%20carved%20all%20over%20with%20figures%20of%20ancient%20gods,%20and%20protected%20by%20an%20assortment%20of%20gears%20and%20latches,%20%5Bif%20open%5Dstands%20open%5Botherwise%5Dblocks%20progress%5Bend%20if%5D%20towards%20%5Bthe%20other%20side%20of%20the%20intricate%20door%5D.%22%5Cn%5CnThe%20description%20of%20the%20Treasure%20Room%20is%20%22To%20your%20considerable%20surprise,%20the%20treasure%20room%20is%20stocked%20with%20art%20objects%20from%20a%20vast%20range%20of%20eras%20and%20geographical%20locations:%20beside%20the%20expected%20pre-Columbian%20gold%20there%20are%20Cycladic%20figurines,%20Chinese%20Tang-dynasty%20pottery,%20purses%20that%20might%20have%20been%20stolen%20from%20Sutton%20Hoo.%20%5Bone%20of%5DIf%20the%20British%20Museum%20developed%20a%20nasty%20expectorant%20cough,%20this%20is%20what%20you'd%20find%20in%20its%20hanky.%5Bor%5D%5Bstopping%5D%22.%5Cn%5CnThe%20Treasure%20Room%20is%20scored.%5Cn%5CnTest%20me%20with%20%22in%20/%20out%20/%20in%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Mutt's Adventure"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
A room can be scored or unscored.
</p>
<p class="quoted">
Carry out going to a unvisited scored room:
<br>    increment the score.
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Incan Palace Compound is a room. "After numerous false leads through the jungles of Peru, and an arduous trek along the Amazon, you have arrived, at last, here: at Atagon, the lost city of untold treasure."
</p>
<p class="quoted">
The startlingly intricate door is a door. It is inside from Incan Palace Compound and outside from the Treasure Room. "A door carved all over with figures of ancient gods, and protected by an assortment of gears and latches, [if open]stands open[otherwise]blocks progress[end if] towards [the other side of the intricate door]."
</p>
<p class="quoted">
The description of the Treasure Room is "To your considerable surprise, the treasure room is stocked with art objects from a vast range of eras and geographical locations: beside the expected pre-Columbian gold there are Cycladic figurines, Chinese Tang-dynasty pottery, purses that might have been stolen from Sutton Hoo. [one of]If the British Museum developed a nasty expectorant cough, this is what you'd find in its hanky.[or][stopping]".
</p>
<p class="quoted">
The Treasure Room is scored.
</p>
<p class="quoted">
Test me with "in / out / in".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.2">WI §9.2. Awarding points</a><br><a href="rb_11.html#rb-11.4">RB §11.4. Scoring</a>
</div></details><details class="full-example" id="example-137"><summary><span class="example-summary">137. No Place Like Home</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Suppose we want to assign scores for a whole range of objects the player might pick up. One systematic way to do this would be with a table of point values for things:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22No%20Place%20Like%20Home%22%5Cn%5CnUse%20scoring.%5Cn%5CnThe%20Hall%20of%20the%20Gnome%20King%20is%20a%20room.%20The%20emerald%20cow%20is%20a%20thing%20in%20the%20Hall%20of%20the%20Gnome%20King.%20The%20ivory%20chessman%20is%20a%20thing%20in%20the%20Hall%20of%20the%20Gnome%20King.%20The%20book%20of%20incantations%20is%20a%20thing%20in%20the%20Hall%20of%20the%20Gnome%20King.%5Cn%5CnTable%20of%20Point%20Values%5Cnitem%5Ctscore%5Cncow%5Ct10%5Cnincantations%5Ct4%5Cnchessman%5Ct1%5Cn%5CnReport%20taking%20an%20item%20listed%20in%20the%20Table%20of%20Point%20Values:%5Cn%5Ctincrease%20the%20score%20by%20the%20score%20entry;%5Cn%5Ctblank%20out%20the%20whole%20row.%5Cn%5CnTest%20me%20with%20%22take%20all%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "No Place Like Home"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
The Hall of the Gnome King is a room. The emerald cow is a thing in the Hall of the Gnome King. The ivory chessman is a thing in the Hall of the Gnome King. The book of incantations is a thing in the Hall of the Gnome King.
</p>
<p class="quoted">
Table of Point Values
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">item</p></td>
<td class="quotedtablecell"><p class="quoted">score</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">cow</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">incantations</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">chessman</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
</table>
<p class="quoted">
Report taking an item listed in the Table of Point Values:
<br>    increase the score by the score entry;
<br>    blank out the whole row.
</p>
<p class="quoted">
Test me with "take all".
</p>
</div>
<p>"Blank out the whole row" removes the line from the table, so that each award will occur only once. The player will not be able to earn more and more points by dropping and taking the same item again.</p>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.2">WI §9.2. Awarding points</a><br><a href="rb_11.html#rb-11.4">RB §11.4. Scoring</a>
</div></details><details class="full-example" id="example-166"><summary><span class="example-summary">166. Panache</span> <span class="example-difficulty">★★★</span></summary><div>
<p>If we have a plot that branches and has multiple kinds of outcome, we might well want to assemble these into a plot summary in place of the more traditional score. One way to approach this is to build the scene information into a table, adding information when each scene ends.</p>
<p>We begin with a bit of setup:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Panache%22%5Cn%5CnThe%20player%20is%20in%20a%20room%20called%20Beneath%20Roxane's%20Balcony.%20Christian%20is%20a%20man%20in%20the%20Balcony.%20%22Christian%20stands%20in%20a%20spot%20of%20moonlight%20and%20tries%20to%20avoid%20too%20obviously%20glancing%20at%20the%20shadows%20that%20conceal%20you.%22%20The%20description%20of%20Christian%20is%20%22Like%20you,%20Christian%20loves%20Roxane.%20Unlike%20you,%20he%20is%20handsome%20enough%20to%20receive%20her%20favor%20in%20return.%20He%20is%20the%20beauty%20to%20your%20brain.%22%5Cn%5CnRoxane%20is%20a%20woman%20in%20the%20Balcony.%20%22Above%20you%20in%20the%20night%20is%20Roxane.%22%20Roxane%20can%20be%20wooed,%20skeptical,%20confused,%20or%20annoyed.%20Roxane%20is%20skeptical.%20The%20description%20of%20Roxane%20is%20%22The%20brightest,%20the%20most%20radiant%20of%20women%20--%20and%20in%20love%20with%20an%20utter%20fool.%22%5Cn%5CnEmpty%20Street%20is%20a%20room.%20%22No%20one%20is%20about%20at%20this%20hour,%20all%20alone%20under%20a%20pale%20moon.%22%5Cn%5CnTelling%20someone%20about%20something%20is%20speech.%20Asking%20someone%20about%20something%20is%20speech.%20Answering%20someone%20that%20something%20is%20speech.%5Cn%5Cn%5BThis%20next%20portion%20borrows%20from%20the%20Advanced%20Actions%20chapter%20to%20allow%20us%20to%20command%20Christian%20to%20do%20things:%5D%5Cn%5CnA%20persuasion%20rule%20for%20asking%20Christian%20to%20try%20speech:%20persuasion%20succeeds.%5Cn%5CnCarry%20out%20Christian%20answering%20someone%20that%20something:%5Cn%5Ctnow%20Roxane%20is%20wooed;%5Cn%5Ctsay%20%22'%5Bnoun%5D,%20%5Bthe%20topic%20understood%5D.'%22%5Cn%5CnCarry%20out%20Christian%20answering%20the%20player%20that%20something:%5Cn%5Ctsay%20%22Christian%20parrots%20your%20words%20back%20to%20you.%22%20instead.%5Cn%5CnCarry%20out%20Christian%20telling%20a%20skeptical%20Roxane%20about%20something:%5Cn%5Ctnow%20Roxane%20is%20confused;%5Cn%5Ctsay%20%22Christian%20turns%20to%20%5Bthe%20noun%5D.%20'I%20must%20tell%20you%20about%20%5Bthe%20topic%20understood%5D,'%20he%20says,%20and%20comes%20to%20a%20halt,%20looking%20at%20you%20for%20further%20direction.%5Cn%5Cn%5CtPerhaps%20you'd%20better%20give%20him%20exact%20lines%20to%20say.%20Surely%20he%20can't%20mess%20up%20an%20instruction%20like%20'say%20hello%20to%20Roxane.'%22%20instead.%5Cn%5CnCarry%20out%20Christian%20asking%20a%20skeptical%20Roxane%20about%20something:%5Cn%5Ctnow%20Roxane%20is%20confused;%5Cn%5Ctsay%20%22'So,'%20says%20Christian%20nervously%20to%20%5Bthe%20noun%5D.%20'Did%20you%20know%20about%20%5Bthe%20topic%20understood%5D?'%20But%20Roxane%20merely%20seems%20puzzled.%22%20instead.%5Cn%5CnCarry%20out%20Christian%20telling%20a%20confused%20Roxane%20about%20something:%5Cn%5Ctnow%20Roxane%20is%20annoyed;%5Cn%5Ctsay%20%22Christian%20begins%20rambling%20on%20witlessly%20about%20%5Bthe%20topic%20understood%5D.%22%20instead.%5Cn%5CnCarry%20out%20Christian%20asking%20a%20confused%20Roxane%20about%20something:%5Cn%5Ctnow%20Roxane%20is%20annoyed;%5Cn%5Ctsay%20%22Christian%20puts%20another%20confused%20question%20about%20%5Bthe%20topic%20understood%5D.%22%20instead.%5Cn%5Cn%5BAnd%20now%20we%20have%20enough%20material%20to%20begin%20writing%20the%20scenes:%5D%5Cn%5CnCourting%20Roxane%20is%20a%20scene.%20Courting%20Roxane%20begins%20when%20play%20begins.%20Courting%20Roxane%20ends%20in%20success%20when%20Roxane%20is%20wooed.%20Courting%20Roxane%20ends%20in%20failure%20when%20Roxane%20is%20annoyed.%5Cn%5CnWhen%20Courting%20Roxane%20ends%20in%20success:%5Cn%5Ctrecord%20%22Seduction%20by%20Proxy%22%20in%20the%20Table%20of%20Events;%5Cn%5Ctsay%20%22Roxane,%20deeply%20moved%20by%20this%20sentiment,%20invites%20Christian%20up%20to%20her%20balcony.%20He%20scrambles%20up%20the%20ivy%20and%20disappears%20into%20her%20bedroom;%20the%20last%20thing%20you%20hear%20is%20a%20girlish%20giggle%20from%20above.%22;%5Cn%5Ctnow%20Roxane%20is%20nowhere;%20now%20Christian%20is%20nowhere;%5Cn%5Ctmove%20the%20player%20to%20Empty%20Street.%5Cn%5CnWhen%20Courting%20Roxane%20ends%20in%20failure:%5Cn%5Ctrecord%20%22Ruining%20Christian's%20Chances%22%20in%20the%20Table%20of%20Events;%5Cn%5Ctsay%20%22Roxane%20sighs%20heavily%20and%20goes%20back%20into%20her%20room,%20slamming%20the%20door%20behind%20her.%5Cn%5Cn'Thanks%20very%20much,'%20says%20Christian%20to%20you,%20striding%20off%20down%20the%20street.%22;%5Cn%5Ctnow%20Roxane%20is%20nowhere;%20now%20Christian%20is%20nowhere;%5Cn%5Ctmove%20the%20player%20to%20Empty%20Street.%5Cn%5CnSulky%20Ramble%20is%20a%20scene.%20Sulky%20Ramble%20begins%20when%20Courting%20Roxane%20ends%20in%20success.%20Sulky%20Ramble%20ends%20when%20the%20time%20since%20Sulky%20Ramble%20began%20is%202%20minutes.%20When%20Sulky%20Ramble%20ends:%20record%20%22Wandering%20the%20Streets,%20Sulking%22%20in%20the%20Table%20of%20Events.%5Cn%5CnEvery%20turn%20during%20Sulky%20Ramble:%5Cn%5Ctsay%20%22You%20find%20yourself%20kicking%20fenceposts%20quite%20without%20thinking%20about%20it.%22%5Cn%5CnSmug%20Ramble%20is%20a%20scene.%20Smug%20Ramble%20begins%20when%20Courting%20Roxane%20ends%20in%20failure.%20Smug%20Ramble%20ends%20when%20the%20time%20since%20Smug%20Ramble%20began%20is%202%20minutes.%20When%20Smug%20Ramble%20ends:%20record%20%22Wandering%20the%20Streets,%20Exultant%22%20in%20the%20Table%20of%20Events;%20say%20%22Of%20course,%20you%20will%20regret%20this%20soon%20enough.%22%5Cn%5CnEvery%20turn%20during%20Smug%20Ramble:%5Cn%5Ctsay%20%22You%20find%20yourself%20smiling%20fiercely%20at%20the%20moon.%22%5Cn%5CnTo%20record%20(occurrence%20-%20text)%20in%20(target%20table%20-%20a%20table%20name):%5Cn%5Ctchoose%20a%20blank%20row%20in%20the%20target%20table;%5Cn%5Ctnow%20the%20event%20entry%20is%20the%20occurrence.%5Cn%5CnTable%20of%20Events%5Cnevent%5Cn%22A%20Duel%20of%20Insults%22%5Cnwith%2030%20blank%20rows.%5Cn%5CnThe%20plot%20summary%20rule%20is%20listed%20instead%20of%20the%20announce%20the%20score%20rule%20in%20the%20carry%20out%20requesting%20the%20score%20rules.%5Cn%5CnThis%20is%20the%20plot%20summary%20rule:%5Cn%5Ctsay%20%22The%20Plot%20So%20Far:%20%5Bparagraph%20break%5D%22;%5Cn%5Ctlet%20act%20number%20be%200;%5Cn%5Ctrepeat%20through%20the%20table%20of%20Events:%5Cn%5Ct%5Ctincrement%20act%20number;%5Cn%5Ct%5Ctsay%20%22%20%20Act%20%5Bact%20number%5D:%20%5Bevent%20entry%5D%5Bline%20break%5D%22.%5Cn%5CnTest%20me%20with%20%22christian,%20ask%20roxane%20about%20love%20/%20christian,%20say%20your%20breath%20smells%20like%20ripe%20taleggio%20to%20roxane%20/%20score%20/%20z%20/%20z%20/%20score%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Panache"
</p>
<p class="quoted">
The player is in a room called Beneath Roxane's Balcony. Christian is a man in the Balcony. "Christian stands in a spot of moonlight and tries to avoid too obviously glancing at the shadows that conceal you." The description of Christian is "Like you, Christian loves Roxane. Unlike you, he is handsome enough to receive her favor in return. He is the beauty to your brain."
</p>
<p class="quoted">
Roxane is a woman in the Balcony. "Above you in the night is Roxane." Roxane can be wooed, skeptical, confused, or annoyed. Roxane is skeptical. The description of Roxane is "The brightest, the most radiant of women -- and in love with an utter fool."
</p>
<p class="quoted">
Empty Street is a room. "No one is about at this hour, all alone under a pale moon."
</p>
<p class="quoted">
Telling someone about something is speech. Asking someone about something is speech. Answering someone that something is speech.
</p>
</div>
<p>This next portion borrows from the Advanced Actions chapter to allow us to command Christian to do things:</p>

<div class="code">
<p class="quoted">
A persuasion rule for asking Christian to try speech: persuasion succeeds.
</p>
<p class="quoted">
Carry out Christian answering someone that something:
<br>    now Roxane is wooed;
<br>    say "'[noun], [the topic understood].'"
</p>
<p class="quoted">
Carry out Christian answering the player that something:
<br>    say "Christian parrots your words back to you." instead.
</p>
<p class="quoted">
Carry out Christian telling a skeptical Roxane about something:
<br>    now Roxane is confused;
<br>    say "Christian turns to [the noun]. 'I must tell you about [the topic understood],' he says, and comes to a halt, looking at you for further direction.
</p>
<p class="quoted">
    Perhaps you'd better give him exact lines to say. Surely he can't mess up an instruction like 'say hello to Roxane.'" instead.
</p>
<p class="quoted">
Carry out Christian asking a skeptical Roxane about something:
<br>    now Roxane is confused;
<br>    say "'So,' says Christian nervously to [the noun]. 'Did you know about [the topic understood]?' But Roxane merely seems puzzled." instead.
</p>
<p class="quoted">
Carry out Christian telling a confused Roxane about something:
<br>    now Roxane is annoyed;
<br>    say "Christian begins rambling on witlessly about [the topic understood]." instead.
</p>
<p class="quoted">
Carry out Christian asking a confused Roxane about something:
<br>    now Roxane is annoyed;
<br>    say "Christian puts another confused question about [the topic understood]." instead.
</p>
</div>
<p>And now we have enough material to begin writing the scenes:</p>

<div class="code">
<p class="quoted">
Courting Roxane is a scene. Courting Roxane begins when play begins. Courting Roxane ends in success when Roxane is wooed. Courting Roxane ends in failure when Roxane is annoyed.
</p>
<p class="quoted">
When Courting Roxane ends in success:
<br>    record "Seduction by Proxy" in the Table of Events;
<br>    say "Roxane, deeply moved by this sentiment, invites Christian up to her balcony. He scrambles up the ivy and disappears into her bedroom; the last thing you hear is a girlish giggle from above.";
<br>    now Roxane is nowhere; now Christian is nowhere;
<br>    move the player to Empty Street.
</p>
<p class="quoted">
When Courting Roxane ends in failure:
<br>    record "Ruining Christian's Chances" in the Table of Events;
<br>    say "Roxane sighs heavily and goes back into her room, slamming the door behind her.
</p>
<p class="quoted">
'Thanks very much,' says Christian to you, striding off down the street.";
<br>    now Roxane is nowhere; now Christian is nowhere;
<br>    move the player to Empty Street.
</p>
<p class="quoted">
Sulky Ramble is a scene. Sulky Ramble begins when Courting Roxane ends in success. Sulky Ramble ends when the time since Sulky Ramble began is 2 minutes. When Sulky Ramble ends: record "Wandering the Streets, Sulking" in the Table of Events.
</p>
<p class="quoted">
Every turn during Sulky Ramble:
<br>    say "You find yourself kicking fenceposts quite without thinking about it."
</p>
<p class="quoted">
Smug Ramble is a scene. Smug Ramble begins when Courting Roxane ends in failure. Smug Ramble ends when the time since Smug Ramble began is 2 minutes. When Smug Ramble ends: record "Wandering the Streets, Exultant" in the Table of Events; say "Of course, you will regret this soon enough."
</p>
<p class="quoted">
Every turn during Smug Ramble:
<br>    say "You find yourself smiling fiercely at the moon."
</p>
<p class="quoted">
To record (occurrence - text) in (target table - a table name):
<br>    choose a blank row in the target table;
<br>    now the event entry is the occurrence.
</p>
<p class="quoted">
Table of Events
<br>event
<br>"A Duel of Insults"
<br>with 30 blank rows.
</p>
<p class="quoted">
The plot summary rule is listed instead of the announce the score rule in the carry out requesting the score rules.
</p>
<p class="quoted">
This is the plot summary rule:
<br>    say "The Plot So Far: [paragraph break]";
<br>    let act number be 0;
<br>    repeat through the table of Events:
<br>        increment act number;
<br>        say "  Act [act number]: [event entry][line break]".
</p>
<p class="quoted">
Test me with "christian, ask roxane about love / christian, say your breath smells like ripe taleggio to roxane / score / z / z / score".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_10.html#wi-10.8">WI §10.8. Multiple endings</a><br><a href="rb_11.html#rb-11.4">RB §11.4. Scoring</a>
</div></details><details class="full-example" id="example-280"><summary><span class="example-summary">280. Goat-Cheese and Sage Chicken</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Some games provide a FULL SCORE command that gives more information about the player's achievements than SCORE alone. Supposing we wanted to include a FULL SCORE in our game that gave the kind of score reading described in this chapter:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Goat-Cheese%20and%20Sage%20Chicken%22%5Cn%5CnUse%20scoring.%5Cn%5CnThe%20story%20headline%20is%20%22An%20interactive%20recipe%22%5Cn%5CnTable%20of%20Tasks%20Achieved%5CnPoints%5CtCitation%5CtTime%5Cn3%5Ct%22sauteeing%20onions%22%5Cta%20time%5Cn3%5Ct%22reconstituting%20apricots%22%5Cn1%5Ct%22flattening%20chicken%22%5Cn1%5Ct%22unwrapping%20goat%20cheese%22%5Cn%5CnTo%20record%20(T%20-%20text)%20as%20achieved:%5Cn%5Ctchoose%20row%20with%20a%20citation%20of%20T%20in%20the%20Table%20of%20Tasks%20Achieved;%5Cn%5Ctif%20there%20is%20no%20time%20entry:%5Cn%5Ct%5Ctnow%20time%20entry%20is%20the%20time%20of%20day;%5Cn%5Ct%5Ctincrease%20the%20score%20by%20the%20points%20entry.%5Cn%5CnRequesting%20the%20full%20score%20is%20an%20action%20out%20of%20world.%20Understand%20%22full%22%20or%20%22full%20score%22%20as%20requesting%20the%20full%20score.%5Cn%5CnCarry%20out%20requesting%20the%20full%20score:%5Cn%5Ctif%20the%20score%20is%200,%20say%20%22You%20have%20achieved%20nothing%20towards%20supper.%22%20instead;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Tasks%20Achieved%20in%20reverse%20time%20order:%5Cn%5Ct%5Ctsay%20%22%5Btime%20entry%5D:%20%5Bcitation%20entry%5D%20(%5Bpoints%20entry%5D).%22%5Cn%5CnTable%20of%20Rankings%5CnScore%5CtRank%5Cn0%5Ct%22Rank%20Amateur%22%5Cn2%5Ct%22would-be%20Bobby%20Flay%22%5Cn5%5Ct%22Alton%20Brown%22%5Cn8%5Ct%22Julia%20Child%22%5Cn%5CnThe%20Kitchen%20is%20a%20room.%20The%20description%20of%20the%20Kitchen%20is%20%22Equipped%20with%20many%20familiar%20friends:%20refrigerator,%20stove,%20oven;%20countertop;%20cabinet%20for%20pans%20and%20bowls,%20and%20a%20drawer%20for%20your%20tools.%22%5Cn%5CnThe%20stove%20is%20scenery%20in%20the%20kitchen.%20It%20is%20a%20supporter.%20The%20oven%20is%20a%20container.%20It%20is%20part%20of%20the%20stove.%20It%20is%20closed%20and%20openable.%20The%20stove's%20switch%20is%20a%20device.%20It%20is%20switched%20on.%20It%20is%20part%20of%20the%20stove.%20The%20%20oven's%20dial%20is%20a%20device.%20It%20is%20switched%20off.%20It%20is%20part%20of%20the%20oven.%5Cn%5CnA%20thing%20can%20be%20heatproof.%5Cn%5CnInstead%20of%20putting%20something%20which%20is%20not%20heatproof%20on%20the%20stove%20when%20the%20stove's%20switch%20is%20switched%20on:%5Cn%5Ctsay%20%22You%20catch%20yourself%20just%20at%20the%20last%20minute:%20not%20a%20good%20idea%20to%20put%20%5Bthe%20noun%5D%20directly%20on%20the%20stove%20while%20it's%20turned%20on.%22%5Cn%5CnInstead%20of%20switching%20on%20the%20stove,%20try%20switching%20on%20the%20stove's%20switch.%20Instead%20of%20switching%20off%20the%20stove,%20try%20switching%20off%20the%20stove's%20switch.%20Instead%20of%20switching%20on%20the%20oven,%20try%20switching%20on%20the%20oven's%20dial.%20Instead%20of%20switching%20off%20the%20oven,%20try%20switching%20off%20the%20oven's%20dial.%5Cn%5CnBefore%20switching%20on%20the%20oven's%20dial%20when%20the%20oven%20is%20open:%5Cn%5Ctsay%20%22(closing%20the%20oven%20so%20that%20it%20will%20heat%20properly)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Cttry%20closing%20the%20oven.%5Cn%5CnThe%20frying%20pan%20is%20a%20heatproof%20unopenable%20open%20container%20on%20the%20stove.%5Cn%5CnThe%20cabinet%20is%20a%20closed%20openable%20container%20in%20the%20kitchen.%20It%20is%20scenery.%20It%20contains%20an%20open%20unopenable%20container%20called%20a%20mixing%20bowl.%20It%20contains%20a%20portable%20supporter%20called%20a%20platter.%20An%20open%20unopenable%20heatproof%20container%20called%20a%20Calphalon%20baking%20dish%20is%20in%20the%20cabinet.%20The%20baking%20dish%20has%20the%20description%20%22One%20of%20those%20marvelous%20pieces%20of%20kitchen%20equipment%20which%20goes%20on%20the%20stove%20or%20in%20the%20oven,%20as%20you%20will.%20The%20chief%20thing%20is%20never%20ever%20to%20touch%20it%20when%20it%20is%20hot,%20since%20the%20handles%20are%20metal%20and%20the%20heat%20retention%20excellent.%22%5Cn%5CnThe%20counter%20is%20a%20supporter%20in%20the%20kitchen.%20It%20is%20scenery.%20The%20kettle%20is%20a%20heatproof%20openable%20closed%20container%20on%20the%20counter.%20Some%20water%20is%20in%20the%20kettle.%5Cn%5CnThe%20water%20can%20be%20cool,%20warm,%20or%20boiling.%20The%20printed%20name%20of%20the%20water%20is%20%22%5Bwater%20condition%5D%20water%22.%5Cn%5CnThe%20refrigerator%20is%20a%20closed%20openable%20container%20in%20the%20kitchen.%20It%20is%20scenery.%20Understand%20%22fridge%22%20as%20the%20refrigerator.%5Cn%5CnAn%20ingredient%20is%20a%20kind%20of%20thing.%5Cn%5CnSome%20onions,%20some%20apricots,%20and%20some%20sage%20are%20ingredients%20on%20the%20counter.%20A%20chicken%20breast,%20an%20egg,%20and%20goat%20cheese%20are%20ingredients%20in%20the%20refrigerator.%5Cn%5CnThe%20goat%20cheese%20can%20be%20wrapped,%20snipped%20open,%20or%20unwrapped.%20The%20printed%20name%20of%20the%20goat%20cheese%20is%20%22%5Bgoat%20cheese%20condition%5D%20goat%20cheese%22.%5Cn%5CnThe%20sage%20can%20be%20unwashed,%20clean,%20or%20julienned.%20The%20sage%20is%20unwashed.%20The%20printed%20name%20of%20the%20sage%20is%20%22%5Bsage%20condition%5D%20sage%22.%5Cn%5CnThe%20apricots%20can%20be%20dried,%20reconstituted,%20or%20chopped.%20The%20apricots%20are%20dried.%20The%20printed%20name%20of%20the%20apricots%20is%20%22%5Bapricots%20condition%5D%20apricots%22.%5Cn%5CnThe%20chicken%20breast%20can%20be%20whole,%20flattened,%20stuffed,%20rolled,%20coated,%20browned,%20or%20baked.%20The%20printed%20name%20of%20the%20chicken%20breast%20is%20%22%5Bchicken%20breast%20condition%5D%20chicken%20breast%22.%5Cn%5CnThe%20onions%20can%20be%20unpeeled,%20peeled,%20diced,%20sauteed,%20or%20burnt.%20%5BThe%20printed%20name%20of%20the%20onions%20is%20%22%5Bonions%20condition%5D%20onions%22.%5D%5Cn%5CnThe%20can%20of%20chicken%20broth%20is%20a%20closed%20container%20on%20the%20counter.%20The%20bottle%20of%20white%20cooking%20wine%20and%20the%20bottle%20of%20Thurston%20Wolfe%20PGV%20are%20a%20closed%20containers%20in%20the%20refrigerator.%5Cn%5CnThe%20description%20of%20the%20Thurston%20Wolfe%20is%20%22A%20Washington%20State%20Pinot%20Gris-Viognier,%202003.%20It%20is%20said%20to%20have%20'peach%20aromas',%20and,%20startlingly,%20the%20untutored%20person%20can%20detect%20these%20without%20resorting%20to%20fantasy.%5Cn%5Cn(It%20is%20also%20supposed%20to%20possess%20a%20delicate%20perfume%20and%20a%20moderate%20body;%20the%20label%20author%20at%20least%20stopped%20short%20of%20'good%20sense%20of%20humor%20and%20likes%20long%20walks%20on%20the%20beach').%22%5Cn%5CnUnderstand%20the%20commands%20%22wash%22%20and%20%22rinse%22%20as%20%22clean%22.%5Cn%5CnInstead%20of%20rubbing%20the%20unwashed%20sage:%5Cn%5Ctnow%20the%20sage%20is%20clean;%5Cn%5Ctsay%20%22You%20rinse%20off%20the%20sage.%20There%20--%20ready%20to%20slice.%22%5Cn%5CnInstead%20of%20cutting%20the%20sage:%5Cn%5Ctsay%20%22You'd%20need%20to%20have%20a%20knife%20in%20hand,%20first.%22%5Cn%5CnInstead%20of%20cutting%20the%20clean%20sage%20when%20the%20player%20is%20carrying%20the%20butcher%20knife:%5Cn%5Ctnow%20the%20sage%20is%20julienned;%5Cn%5Ctsay%20%22You%20slice%20the%20sage%20into%20thin%20strips.%22%5Cn%5CnInstead%20of%20cutting%20the%20unwashed%20sage:%5Cn%5Ctsay%20%22It%20came%20from%20the%20garden,%20so%20it%20won't%20have%20any%20strange%20chemicals%20on%20it,%20but%20you%20should%20still%20give%20it%20a%20rinse%20for%20dirt%20and%20bugs%20and%20so%20on%20before%20using%20it.%22%5Cn%5CnInstead%20of%20doing%20something%20other%20than%20examining%20or%20rubbing%20with%20the%20unwashed%20sage:%5Cn%5Ctsay%20%22It%20needs%20to%20be%20washed%20off.%22%5Cn%5CnUnderstand%20%22peel%20%5Bsomething%5D%22%20as%20peeling.%5Cn%5CnPeeling%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnInstead%20of%20peeling%20the%20unpeeled%20onions:%5Cn%5Ctnow%20the%20onions%20are%20peeled;%5Cn%5Ctsay%20%22You%20tear%20away%20the%20shining%20outer%20skin%20of%20the%20onions,%20leaving%20them%20pale%20and%20nekkid.%20Poor%20things.%22%5Cn%5CnInstead%20of%20cutting%20the%20diced%20onions:%5Cn%5Ctsay%20%22That%20seems%20unnecessary%20now.%22%5Cn%5CnInstead%20of%20cutting%20the%20sauteed%20onions:%5Cn%5Ctsay%20%22Too%20late;%20you're%20well%20past%20that%20stage.%22%5Cn%5CnInstead%20of%20cutting%20the%20burnt%20onions:%5Cn%5Ctsay%20%22There's%20no%20rescuing%20'em%20--%20the%20carbon%20isn't%20going%20to%20flake%20off,%20you%20know.%22%5Cn%5CnInstead%20of%20cutting%20the%20unpeeled%20onions:%5Cn%5Ctsay%20%22It%20would%20help%20to%20peel%20them%20first.%22%5Cn%5CnInstead%20of%20cutting%20the%20peeled%20onions:%5Cn%5Ctsay%20%22You'd%20need%20to%20have%20a%20knife%20in%20hand,%20first.%22%5Cn%5CnInstead%20of%20cutting%20the%20peeled%20onions%20when%20the%20player%20is%20carrying%20the%20butcher%20knife:%5Cn%5Ctnow%20the%20onions%20are%20diced;%5Cn%5Ctsay%20%22You%20dice%20the%20onions%20neatly.%20Your%20own%20skill%20brings%20tears%20to%20your%20eyes.%22%5Cn%5CnInstead%20of%20opening%20the%20goat%20cheese:%5Cn%5Cttry%20peeling%20the%20goat%20cheese%20instead.%5Cn%5CnInstead%20of%20peeling%20the%20unwrapped%20goat%20cheese:%5Cn%5Ctsay%20%22The%20goat%20cheese%20is%20already%20unwrapped.%20(Stay%20focused,%20stay%20focused...)%22%5Cn%5CnBefore%20peeling%20the%20wrapped%20goat%20cheese%20when%20the%20shears%20are%20held%20by%20the%20player:%5Cn%5Cttry%20cutting%20the%20goat%20cheese.%5Cn%5CnInstead%20of%20peeling%20the%20snipped%20open%20goat%20cheese:%5Cn%5Ctnow%20the%20goat%20cheese%20is%20unwrapped;%5Cn%5Ctrecord%20%22unwrapping%20goat%20cheese%22%20as%20achieved;%5Cn%5Ctsay%20%22Ah,%20success.%20The%20goat%20cheese%20is%20now%20free%20of%20its%20packet.%22%5Cn%5CnInstead%20of%20peeling%20the%20wrapped%20goat%20cheese:%5Cn%5Ctsay%20%22It%20would%20help%20to%20have%20a%20pair%20of%20scissors%20or%20something%20--%20the%20packet%20resists%20being%20torn.%22%5Cn%5CnInstead%20of%20cutting%20the%20goat%20cheese:%5Cn%5Ctsay%20%22No%20need,%20at%20this%20point.%22%5Cn%5CnBefore%20cutting%20the%20wrapped%20goat%20cheese%20when%20the%20shears%20are%20not%20held%20by%20the%20player%20and%20the%20shears%20are%20visible:%5Cn%5Ctsay%20%22(first%20picking%20up%20the%20shears)%5Bcommand%20clarification%20break%5D%22;%5Cn%5Cttry%20taking%20the%20shears.%5Cn%5CnInstead%20of%20cutting%20the%20wrapped%20goat%20cheese:%5Cn%5Ctsay%20%22Something%20to%20cut%20with%20would%20be%20useful.%22%5Cn%5CnInstead%20of%20cutting%20the%20wrapped%20goat%20cheese%20when%20the%20shears%20are%20held%20by%20the%20player:%5Cn%5Ctnow%20the%20goat%20cheese%20is%20snipped%20open;%5Cn%5Ctsay%20%22You%20neatly%20snip%20through%20the%20packaging%20with%20the%20shears.%22%5Cn%5CnInstead%20of%20examining%20the%20whole%20chicken%20breast:%5Cn%5Ctsay%20%22It%20is%20still%20entire%20and%20has%20yet%20to%20be%20pounded%20flat.%22%5Cn%5CnInstead%20of%20examining%20the%20flattened%20chicken%20breast:%5Cn%5Ctsay%20%22It%20has%20been%20hammered%20to%20a%20thickness%20of%20about%20a%20half%20inch.%20(The%20recipe%20said%20a%20quarter%20inch%20but%20you're%20pretty%20sure%20it%20was%20joking.%20You%20have%20never%20been%20able%20to%20achieve%20a%20quarter%20inch.)%22%5Cn%5CnInstead%20of%20attacking%20the%20whole%20chicken%20breast:%5Cn%5Ctsay%20%22You%20need%20something%20heavy%20enough%20to%20flatten%20it%20with.%22%5Cn%5CnInstead%20of%20attacking%20the%20whole%20chicken%20breast%20when%20the%20player%20is%20holding%20the%20wooden%20mallet:%5Cn%5Ctnow%20the%20chicken%20breast%20is%20flattened;%5Cn%5Ctrecord%20%22flattening%20chicken%22%20as%20achieved;%5Cn%5Ctsay%20%22You%20hammer%20away%20at%20the%20chicken%20breast,%20turning%20all%20your%20aggressions%20into%20culinary%20goodness.%20Several%20minutes%20pass.%20When%20you%20are%20done%20you%20have%20a%20broad%20flat%20chickeny%20pancake%20suitable%20for%20wrapping%20about%20a%20stuffing.%22%5Cn%5CnBefore%20printing%20the%20name%20of%20onions:%5Cn%5Ctsay%20%22%5Bonions%20condition%5D%20%22.%5Cn%5Cn%5CnThe%20drawer%20is%20an%20openable%20closed%20container.%20It%20is%20part%20of%20the%20counter.%5Cn%5CnA%20tool%20is%20a%20kind%20of%20thing.%20A%20spatula,%20a%20spoon,%20a%20wooden%20mallet,%20some%20shears,%20and%20a%20ball%20of%20twine%20are%20tools%20in%20the%20drawer.%20A%20butcher%20knife%20is%20a%20tool%20carried%20by%20the%20player.%20Understand%20%22scissors%22%20as%20the%20shears.%5Cn%5CnInstead%20of%20burning%20something:%5Cn%5Ctsay%20%22You'll%20have%20to%20do%20that%20the%20hard%20way.%22%5Cn%5CnSome%20steam%20is%20fixed%20in%20place.%20%22Dense%20clouds%20of%20steam%20fill%20the%20room.%22%5Cn%5CnSome%20smoke%20is%20fixed%20in%20place.%20%22Smoke%20is%20beginning%20to%20collect%20near%20the%20ceiling.%22%5Cn%5CnSauteeing%20Onions%20is%20a%20scene.%20Sauteeing%20Onions%20begins%20when%20the%20diced%20onions%20are%20in%20a%20hot%20container.%5Cn%5CnDefinition:%20a%20container%20is%20hot%20if%20it%20is%20on%20the%20stove%20and%20the%20stove's%20switch%20is%20switched%20on.%5Cn%5CnInstead%20of%20touching%20the%20hot%20pan:%5Cn%5Ctsay%20%22Ow!%22%5Cn%5CnScorching%20Onions%20is%20a%20scene.%5Cn%5CnPreheating%20the%20Oven%20is%20a%20scene.%20Preheating%20the%20Oven%20begins%20when%20the%20oven's%20dial%20is%20heating.%5Cn%5CnDefinition:%20a%20oven's%20dial%20is%20heating%20if%20the%20oven's%20dial%20has%20been%20switched%20on%20for%20exactly%20one%20turn.%5Cn%5CnPreheating%20the%20Oven%20ends%20when%20the%20time%20since%20Preheating%20the%20Oven%20began%20is%20five%20minutes.%5Cn%5CnWhen%20Preheating%20the%20Oven%20begins:%5Cn%5Ctsay%20%22The%20oven%20begins%20to%20warm%20up.%22%5Cn%5CnWhen%20Preheating%20the%20Oven%20ends:%5Cn%5Ctsay%20%22The%20oven%20beeps%20to%20inform%20you%20that%20it%20has%20reached%20the%20desired%20hotness.%22%5Cn%5CnEvery%20turn%20during%20Sauteeing%20Onions:%5Cn%5Ctsay%20%22The%20onions%20sizzle%20in%20the%20pan.%22%5Cn%5CnEvery%20turn%20during%20Scorching%20Onions:%5Cn%5Ctsay%20%22The%20onions%20are%20past%20their%20prime%20and%20are%20getting%20blacker%20by%20the%20moment.%22%5Cn%5CnEvery%20turn%20during%20Hearing%20the%20Kettle%20Whistle:%5Cn%5Ctsay%20%22The%20kettle%20continues%20to%20whistle.%22%5Cn%5CnInstead%20of%20listening%20to%20during%20Hearing%20the%20Kettle%20Whistle:%5Cn%5Ctsay%20%22The%20only%20thing%20you%20can%20really%20hear%20just%20at%20the%20moment%20is%20the%20kettle.%22%5Cn%5CnInstead%20of%20smelling%20the%20Kitchen%20during%20Sauteeing%20Onions:%5Cn%5Cttry%20smelling%20the%20onions.%5Cn%5CnInstead%20of%20smelling%20the%20onions%20during%20Sauteeing%20Onions:%5Cn%5Ctsay%20%22The%20onions%20smell%20marvelous.%22%5Cn%5CnInstead%20of%20opening%20the%20oven%20during%20Preheating%20the%20Oven:%5Cn%5Ctsay%20%22It'll%20never%20heat%20if%20you%20open%20it%20up%20while%20it's%20warming.%22%5Cn%5CnHeating%20Kettle%20is%20a%20scene.%20Heating%20Kettle%20begins%20when%20the%20hot%20kettle%20contains%20cool%20water.%5Cn%5CnBefore%20printing%20the%20name%20of%20the%20kettle%20when%20the%20kettle%20is%20hot:%5Cn%5Ctsay%20%22hot%20%22%5Cn%5CnWhen%20Heating%20Kettle%20begins:%5Cn%5Ctsay%20%22The%20kettle%20begins%20to%20heat%20up.%22%5Cn%5CnHeating%20Kettle%20ends%20when%20the%20time%20since%20Heating%20Kettle%20began%20is%207%20minutes.%5Cn%5CnHearing%20the%20Kettle%20Whistle%20is%20a%20scene.%20Hearing%20the%20Kettle%20Whistle%20begins%20when%20Heating%20Kettle%20ends.%20Hearing%20the%20Kettle%20Whistle%20ends%20when%20the%20kettle%20is%20not%20hot.%5Cn%5CnWhen%20Hearing%20the%20Kettle%20Whistle%20begins:%5Cn%5Ctnow%20the%20water%20is%20boiling;%5Cn%5Ctsay%20%22The%20kettle%20begins%20to%20burble%20and%20whistle%20shrilly.%22%5Cn%5CnWhen%20Hearing%20the%20Kettle%20Whistle%20ends:%5Cn%5Ctsay%20%22The%20kettle's%20screaming%20dies%20off.%22%5Cn%5CnIdling%20is%20a%20scene.%20Idling%20begins%20when%20play%20begins.%20Idling%20ends%20when%20Sauteeing%20Onions%20begins.%5Cn%5CnSauteeing%20Onions%20ends%20in%20disaster%20when%20Scorching%20Onions%20begins.%5Cn%5CnSauteeing%20Onions%20ends%20in%20success%20when%20the%20onions%20are%20sauteed%20and%20onions%20are%20not%20in%20a%20hot%20container.%5Cn%5CnDefinition:%20a%20thing%20is%20alone%20if%20it%20is%20in%20a%20container%20which%20contains%20exactly%20one%20thing.%5Cn%5CnSauteeing%20Onions%20ends%20in%20mixture%20when%20the%20sauteed%20onions%20are%20not%20alone.%5Cn%5CnWhen%20Sauteeing%20Onions%20ends%20in%20mixture:%5Cn%5Ctsay%20%22The%20mixture%20of%20things%20in%20%5Bthe%20holder%20of%20the%20onions%5D%20stops%20them%20cooking%20quite%20so%20fast.%22%5Cn%5CnWhen%20Sauteeing%20Onions%20ends%20in%20success:%5Cn%5Ctsay%20%22Nice%20work%20with%20the%20onions.%22%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20diced%20onions%20have%20been%20in%20a%20hot%20pan%20for%20ten%20turns:%5Cn%5Ct%5Ctsay%20%22The%20onions%20are%20starting%20to%20look%20ready.%22;%5Cn%5Ct%5Ctnow%20the%20onions%20are%20sauteed.%5Cn%5CnScorching%20Onions%20begins%20when%20Sauteeing%20Onions%20ends%20in%20disaster.%20Scorching%20Onions%20begins%20when%20the%20alone%20sauteed%20onions%20are%20in%20a%20hot%20container.%5Cn%5CnScorching%20Onions%20ends%20horribly%20when%20the%20time%20since%20Scorching%20Onions%20began%20is%20three%20minutes.%20Scorching%20Onions%20ends%20in%20reprieve%20when%20the%20sauteed%20onions%20are%20not%20in%20a%20hot%20container.%20%20Scorching%20Onions%20ends%20in%20mixture%20when%20the%20sauteed%20onions%20are%20not%20alone.%5Cn%5CnWhen%20Scorching%20Onions%20ends%20in%20mixture:%5Cn%5Ctrecord%20%22sauteeing%20onions%22%20as%20achieved;%5Cn%5Ctsay%20%22The%20mixture%20of%20things%20in%20%5Bthe%20holder%20of%20the%20onions%5D%20stops%20them%20cooking%20quite%20so%20fast.%22%5Cn%5CnWhen%20Scorching%20Onions%20ends%20horribly:%5Cn%5Ctmove%20smoke%20to%20Kitchen;%5Cn%5Ctnow%20the%20onions%20are%20burnt.%5Cn%5CnWhen%20Scorching%20Onions%20ends%20in%20reprieve:%5Cn%5Ctrecord%20%22sauteeing%20onions%22%20as%20achieved;%5Cn%5Ctsay%20%22You've%20got%20the%20onions%20off%20heat%20before%20they%20can%20scorch%20--%20a%20good%20sign.%22%5Cn%5CnInstead%20of%20taking%20the%20onions%20when%20the%20onions%20are%20in%20the%20pan:%20try%20taking%20the%20pan.%5Cn%5CnInstead%20of%20smelling%20in%20the%20presence%20of%20the%20smoke:%5Cn%5Ctsay%20%22The%20scent%20of%20the%20late%20disaster%20lingers%20in%20the%20air.%22%5Cn%5CnReconstituting%20the%20Apricots%20is%20a%20scene.%5Cn%5CnReconstituting%20the%20Apricots%20begins%20when%20the%20dried%20apricots%20are%20in%20a%20container%20which%20contains%20boiling%20water.%5Cn%5CnWhen%20Reconstituting%20the%20Apricots%20begins:%5Cn%5Ctsay%20%22The%20apricots%20slowly%20begin%20to%20plump%20up%20again.%22%5Cn%5CnReconstituting%20the%20Apricots%20ends%20when%20the%20dried%20apricots%20are%20not%20in%20a%20container%20which%20contains%20boiling%20water.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20dried%20apricots%20have%20been%20in%20a%20container%20which%20contains%20boiling%20water%20for%20ten%20turns:%5Cn%5Ct%5Ctsay%20%22The%20apricots%20have%20turned%20plump(ish).%22;%5Cn%5Ct%5Ctnow%20the%20apricots%20are%20reconstituted;%5Cn%5Ct%5Ctrecord%20%22reconstituting%20apricots%22%20as%20achieved.%5Cn%5CnTest%20sautee%20with%20%22peel%20onions%20/%20cut%20onions%20/%20get%20onions%20/%20put%20onions%20in%20pan%20/%20get%20sage%20/%20wash%20sage%20/%20cut%20sage%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20get%20pan%22.%5Cn%5CnTest%20apricots%20with%20%22get%20kettle%20/%20open%20kettle%20/%20get%20apricots%20/%20put%20apricots%20in%20kettle%20/%20put%20kettle%20on%20stove%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%20/%20wait%22.%5Cn%5CnTest%20chicken%20with%20%22open%20refrigerator%20/%20get%20chicken%20/%20open%20drawer%20/%20get%20mallet%20/%20hit%20breast%22.%5Cn%5CnTest%20cheese%20with%20%22get%20scissors%20/%20get%20cheese%20/%20unwrap%20cheese%22.%5Cn%5CnTest%20me%20with%20%22full%20score%20/%20test%20sautee%20/%20full%20score%20/%20test%20apricots%20/%20full%20score%20/%20test%20chicken%20/%20full%20score%20/%20test%20cheese%20/%20full%20score%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Goat-Cheese and Sage Chicken"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
The story headline is "An interactive recipe"
</p>
<p class="quoted">
Table of Tasks Achieved
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">Points</p></td>
<td class="quotedtablecell"><p class="quoted">Citation</p></td>
<td class="quotedtablecell"><p class="quoted">Time</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">3</p></td>
<td class="quotedtablecell"><p class="quoted">"sauteeing onions"</p></td>
<td class="quotedtablecell"><p class="quoted">a time</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">3</p></td>
<td class="quotedtablecell"><p class="quoted">"reconstituting apricots"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">"flattening chicken"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">"unwrapping goat cheese"</p></td>
</tr>
</table>
<p class="quoted">
To record (T - text) as achieved:
<br>    choose row with a citation of T in the Table of Tasks Achieved;
<br>    if there is no time entry:
<br>        now time entry is the time of day;
<br>        increase the score by the points entry.
</p>
<p class="quoted">
Requesting the full score is an action out of world. Understand "full" or "full score" as requesting the full score.
</p>
<p class="quoted">
Carry out requesting the full score:
<br>    if the score is 0, say "You have achieved nothing towards supper." instead;
<br>    repeat through the Table of Tasks Achieved in reverse time order:
<br>        say "[time entry]: [citation entry] ([points entry])."
</p>
<p class="quoted">
Table of Rankings
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">Score</p></td>
<td class="quotedtablecell"><p class="quoted">Rank</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Rank Amateur"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">"would-be Bobby Flay"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">5</p></td>
<td class="quotedtablecell"><p class="quoted">"Alton Brown"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">8</p></td>
<td class="quotedtablecell"><p class="quoted">"Julia Child"</p></td>
</tr>
</table>
<p class="quoted">
The Kitchen is a room. The description of the Kitchen is "Equipped with many familiar friends: refrigerator, stove, oven; countertop; cabinet for pans and bowls, and a drawer for your tools."
</p>
<p class="quoted">
The stove is scenery in the kitchen. It is a supporter. The oven is a container. It is part of the stove. It is closed and openable. The stove's switch is a device. It is switched on. It is part of the stove. The  oven's dial is a device. It is switched off. It is part of the oven.
</p>
<p class="quoted">
A thing can be heatproof.
</p>
<p class="quoted">
Instead of putting something which is not heatproof on the stove when the stove's switch is switched on:
<br>    say "You catch yourself just at the last minute: not a good idea to put [the noun] directly on the stove while it's turned on."
</p>
<p class="quoted">
Instead of switching on the stove, try switching on the stove's switch. Instead of switching off the stove, try switching off the stove's switch. Instead of switching on the oven, try switching on the oven's dial. Instead of switching off the oven, try switching off the oven's dial.
</p>
<p class="quoted">
Before switching on the oven's dial when the oven is open:
<br>    say "(closing the oven so that it will heat properly)[command clarification break]";
<br>    try closing the oven.
</p>
<p class="quoted">
The frying pan is a heatproof unopenable open container on the stove.
</p>
<p class="quoted">
The cabinet is a closed openable container in the kitchen. It is scenery. It contains an open unopenable container called a mixing bowl. It contains a portable supporter called a platter. An open unopenable heatproof container called a Calphalon baking dish is in the cabinet. The baking dish has the description "One of those marvelous pieces of kitchen equipment which goes on the stove or in the oven, as you will. The chief thing is never ever to touch it when it is hot, since the handles are metal and the heat retention excellent."
</p>
<p class="quoted">
The counter is a supporter in the kitchen. It is scenery. The kettle is a heatproof openable closed container on the counter. Some water is in the kettle.
</p>
<p class="quoted">
The water can be cool, warm, or boiling. The printed name of the water is "[water condition] water".
</p>
<p class="quoted">
The refrigerator is a closed openable container in the kitchen. It is scenery. Understand "fridge" as the refrigerator.
</p>
<p class="quoted">
An ingredient is a kind of thing.
</p>
<p class="quoted">
Some onions, some apricots, and some sage are ingredients on the counter. A chicken breast, an egg, and goat cheese are ingredients in the refrigerator.
</p>
<p class="quoted">
The goat cheese can be wrapped, snipped open, or unwrapped. The printed name of the goat cheese is "[goat cheese condition] goat cheese".
</p>
<p class="quoted">
The sage can be unwashed, clean, or julienned. The sage is unwashed. The printed name of the sage is "[sage condition] sage".
</p>
<p class="quoted">
The apricots can be dried, reconstituted, or chopped. The apricots are dried. The printed name of the apricots is "[apricots condition] apricots".
</p>
<p class="quoted">
The chicken breast can be whole, flattened, stuffed, rolled, coated, browned, or baked. The printed name of the chicken breast is "[chicken breast condition] chicken breast".
</p>
<p class="quoted">
The onions can be unpeeled, peeled, diced, sauteed, or burnt. [The printed name of the onions is "[onions condition] onions".]
</p>
<p class="quoted">
The can of chicken broth is a closed container on the counter. The bottle of white cooking wine and the bottle of Thurston Wolfe PGV are a closed containers in the refrigerator.
</p>
<p class="quoted">
The description of the Thurston Wolfe is "A Washington State Pinot Gris-Viognier, 2003. It is said to have 'peach aromas', and, startlingly, the untutored person can detect these without resorting to fantasy.
</p>
<p class="quoted">
(It is also supposed to possess a delicate perfume and a moderate body; the label author at least stopped short of 'good sense of humor and likes long walks on the beach')."
</p>
<p class="quoted">
Understand the commands "wash" and "rinse" as "clean".
</p>
<p class="quoted">
Instead of rubbing the unwashed sage:
<br>    now the sage is clean;
<br>    say "You rinse off the sage. There -- ready to slice."
</p>
<p class="quoted">
Instead of cutting the sage:
<br>    say "You'd need to have a knife in hand, first."
</p>
<p class="quoted">
Instead of cutting the clean sage when the player is carrying the butcher knife:
<br>    now the sage is julienned;
<br>    say "You slice the sage into thin strips."
</p>
<p class="quoted">
Instead of cutting the unwashed sage:
<br>    say "It came from the garden, so it won't have any strange chemicals on it, but you should still give it a rinse for dirt and bugs and so on before using it."
</p>
<p class="quoted">
Instead of doing something other than examining or rubbing with the unwashed sage:
<br>    say "It needs to be washed off."
</p>
<p class="quoted">
Understand "peel [something]" as peeling.
</p>
<p class="quoted">
Peeling is an action applying to one thing.
</p>
<p class="quoted">
Instead of peeling the unpeeled onions:
<br>    now the onions are peeled;
<br>    say "You tear away the shining outer skin of the onions, leaving them pale and nekkid. Poor things."
</p>
<p class="quoted">
Instead of cutting the diced onions:
<br>    say "That seems unnecessary now."
</p>
<p class="quoted">
Instead of cutting the sauteed onions:
<br>    say "Too late; you're well past that stage."
</p>
<p class="quoted">
Instead of cutting the burnt onions:
<br>    say "There's no rescuing 'em -- the carbon isn't going to flake off, you know."
</p>
<p class="quoted">
Instead of cutting the unpeeled onions:
<br>    say "It would help to peel them first."
</p>
<p class="quoted">
Instead of cutting the peeled onions:
<br>    say "You'd need to have a knife in hand, first."
</p>
<p class="quoted">
Instead of cutting the peeled onions when the player is carrying the butcher knife:
<br>    now the onions are diced;
<br>    say "You dice the onions neatly. Your own skill brings tears to your eyes."
</p>
<p class="quoted">
Instead of opening the goat cheese:
<br>    try peeling the goat cheese instead.
</p>
<p class="quoted">
Instead of peeling the unwrapped goat cheese:
<br>    say "The goat cheese is already unwrapped. (Stay focused, stay focused...)"
</p>
<p class="quoted">
Before peeling the wrapped goat cheese when the shears are held by the player:
<br>    try cutting the goat cheese.
</p>
<p class="quoted">
Instead of peeling the snipped open goat cheese:
<br>    now the goat cheese is unwrapped;
<br>    record "unwrapping goat cheese" as achieved;
<br>    say "Ah, success. The goat cheese is now free of its packet."
</p>
<p class="quoted">
Instead of peeling the wrapped goat cheese:
<br>    say "It would help to have a pair of scissors or something -- the packet resists being torn."
</p>
<p class="quoted">
Instead of cutting the goat cheese:
<br>    say "No need, at this point."
</p>
<p class="quoted">
Before cutting the wrapped goat cheese when the shears are not held by the player and the shears are visible:
<br>    say "(first picking up the shears)[command clarification break]";
<br>    try taking the shears.
</p>
<p class="quoted">
Instead of cutting the wrapped goat cheese:
<br>    say "Something to cut with would be useful."
</p>
<p class="quoted">
Instead of cutting the wrapped goat cheese when the shears are held by the player:
<br>    now the goat cheese is snipped open;
<br>    say "You neatly snip through the packaging with the shears."
</p>
<p class="quoted">
Instead of examining the whole chicken breast:
<br>    say "It is still entire and has yet to be pounded flat."
</p>
<p class="quoted">
Instead of examining the flattened chicken breast:
<br>    say "It has been hammered to a thickness of about a half inch. (The recipe said a quarter inch but you're pretty sure it was joking. You have never been able to achieve a quarter inch.)"
</p>
<p class="quoted">
Instead of attacking the whole chicken breast:
<br>    say "You need something heavy enough to flatten it with."
</p>
<p class="quoted">
Instead of attacking the whole chicken breast when the player is holding the wooden mallet:
<br>    now the chicken breast is flattened;
<br>    record "flattening chicken" as achieved;
<br>    say "You hammer away at the chicken breast, turning all your aggressions into culinary goodness. Several minutes pass. When you are done you have a broad flat chickeny pancake suitable for wrapping about a stuffing."
</p>
<p class="quoted">
Before printing the name of onions:
<br>    say "[onions condition] ".
</p>
<p class="quoted">
The drawer is an openable closed container. It is part of the counter.
</p>
<p class="quoted">
A tool is a kind of thing. A spatula, a spoon, a wooden mallet, some shears, and a ball of twine are tools in the drawer. A butcher knife is a tool carried by the player. Understand "scissors" as the shears.
</p>
<p class="quoted">
Instead of burning something:
<br>    say "You'll have to do that the hard way."
</p>
<p class="quoted">
Some steam is fixed in place. "Dense clouds of steam fill the room."
</p>
<p class="quoted">
Some smoke is fixed in place. "Smoke is beginning to collect near the ceiling."
</p>
<p class="quoted">
Sauteeing Onions is a scene. Sauteeing Onions begins when the diced onions are in a hot container.
</p>
<p class="quoted">
Definition: a container is hot if it is on the stove and the stove's switch is switched on.
</p>
<p class="quoted">
Instead of touching the hot pan:
<br>    say "Ow!"
</p>
<p class="quoted">
Scorching Onions is a scene.
</p>
<p class="quoted">
Preheating the Oven is a scene. Preheating the Oven begins when the oven's dial is heating.
</p>
<p class="quoted">
Definition: a oven's dial is heating if the oven's dial has been switched on for exactly one turn.
</p>
<p class="quoted">
Preheating the Oven ends when the time since Preheating the Oven began is five minutes.
</p>
<p class="quoted">
When Preheating the Oven begins:
<br>    say "The oven begins to warm up."
</p>
<p class="quoted">
When Preheating the Oven ends:
<br>    say "The oven beeps to inform you that it has reached the desired hotness."
</p>
<p class="quoted">
Every turn during Sauteeing Onions:
<br>    say "The onions sizzle in the pan."
</p>
<p class="quoted">
Every turn during Scorching Onions:
<br>    say "The onions are past their prime and are getting blacker by the moment."
</p>
<p class="quoted">
Every turn during Hearing the Kettle Whistle:
<br>    say "The kettle continues to whistle."
</p>
<p class="quoted">
Instead of listening to during Hearing the Kettle Whistle:
<br>    say "The only thing you can really hear just at the moment is the kettle."
</p>
<p class="quoted">
Instead of smelling the Kitchen during Sauteeing Onions:
<br>    try smelling the onions.
</p>
<p class="quoted">
Instead of smelling the onions during Sauteeing Onions:
<br>    say "The onions smell marvelous."
</p>
<p class="quoted">
Instead of opening the oven during Preheating the Oven:
<br>    say "It'll never heat if you open it up while it's warming."
</p>
<p class="quoted">
Heating Kettle is a scene. Heating Kettle begins when the hot kettle contains cool water.
</p>
<p class="quoted">
Before printing the name of the kettle when the kettle is hot:
<br>    say "hot "
</p>
<p class="quoted">
When Heating Kettle begins:
<br>    say "The kettle begins to heat up."
</p>
<p class="quoted">
Heating Kettle ends when the time since Heating Kettle began is 7 minutes.
</p>
<p class="quoted">
Hearing the Kettle Whistle is a scene. Hearing the Kettle Whistle begins when Heating Kettle ends. Hearing the Kettle Whistle ends when the kettle is not hot.
</p>
<p class="quoted">
When Hearing the Kettle Whistle begins:
<br>    now the water is boiling;
<br>    say "The kettle begins to burble and whistle shrilly."
</p>
<p class="quoted">
When Hearing the Kettle Whistle ends:
<br>    say "The kettle's screaming dies off."
</p>
<p class="quoted">
Idling is a scene. Idling begins when play begins. Idling ends when Sauteeing Onions begins.
</p>
<p class="quoted">
Sauteeing Onions ends in disaster when Scorching Onions begins.
</p>
<p class="quoted">
Sauteeing Onions ends in success when the onions are sauteed and onions are not in a hot container.
</p>
<p class="quoted">
Definition: a thing is alone if it is in a container which contains exactly one thing.
</p>
<p class="quoted">
Sauteeing Onions ends in mixture when the sauteed onions are not alone.
</p>
<p class="quoted">
When Sauteeing Onions ends in mixture:
<br>    say "The mixture of things in [the holder of the onions] stops them cooking quite so fast."
</p>
<p class="quoted">
When Sauteeing Onions ends in success:
<br>    say "Nice work with the onions."
</p>
<p class="quoted">
Every turn:
<br>    if diced onions have been in a hot pan for ten turns:
<br>        say "The onions are starting to look ready.";
<br>        now the onions are sauteed.
</p>
<p class="quoted">
Scorching Onions begins when Sauteeing Onions ends in disaster. Scorching Onions begins when the alone sauteed onions are in a hot container.
</p>
<p class="quoted">
Scorching Onions ends horribly when the time since Scorching Onions began is three minutes. Scorching Onions ends in reprieve when the sauteed onions are not in a hot container.  Scorching Onions ends in mixture when the sauteed onions are not alone.
</p>
<p class="quoted">
When Scorching Onions ends in mixture:
<br>    record "sauteeing onions" as achieved;
<br>    say "The mixture of things in [the holder of the onions] stops them cooking quite so fast."
</p>
<p class="quoted">
When Scorching Onions ends horribly:
<br>    move smoke to Kitchen;
<br>    now the onions are burnt.
</p>
<p class="quoted">
When Scorching Onions ends in reprieve:
<br>    record "sauteeing onions" as achieved;
<br>    say "You've got the onions off heat before they can scorch -- a good sign."
</p>
<p class="quoted">
Instead of taking the onions when the onions are in the pan: try taking the pan.
</p>
<p class="quoted">
Instead of smelling in the presence of the smoke:
<br>    say "The scent of the late disaster lingers in the air."
</p>
<p class="quoted">
Reconstituting the Apricots is a scene.
</p>
<p class="quoted">
Reconstituting the Apricots begins when the dried apricots are in a container which contains boiling water.
</p>
<p class="quoted">
When Reconstituting the Apricots begins:
<br>    say "The apricots slowly begin to plump up again."
</p>
<p class="quoted">
Reconstituting the Apricots ends when the dried apricots are not in a container which contains boiling water.
</p>
<p class="quoted">
Every turn:
<br>    if dried apricots have been in a container which contains boiling water for ten turns:
<br>        say "The apricots have turned plump(ish).";
<br>        now the apricots are reconstituted;
<br>        record "reconstituting apricots" as achieved.
</p>
<p class="quoted">
Test sautee with "peel onions / cut onions / get onions / put onions in pan / get sage / wash sage / cut sage / wait / wait / wait / wait / wait / wait / wait / get pan".
</p>
<p class="quoted">
Test apricots with "get kettle / open kettle / get apricots / put apricots in kettle / put kettle on stove / wait / wait / wait / wait / wait / wait / wait / wait / wait / wait / wait / wait / wait / wait / wait / wait / wait".
</p>
<p class="quoted">
Test chicken with "open refrigerator / get chicken / open drawer / get mallet / hit breast".
</p>
<p class="quoted">
Test cheese with "get scissors / get cheese / unwrap cheese".
</p>
<p class="quoted">
Test me with "full score / test sautee / full score / test apricots / full score / test chicken / full score / test cheese / full score".
</p>
</div>
<p>And... at that point you're a lot less close to being done than you think. The filling -- onions, sage, apricot, and cheese -- must be assembled and put in the chicken breasts; these tied up in string; each roll dipped in egg yolk and rolled in panko crumbs; these arranged in the Calphalon pan and baked. Then later, the whole retrieved from the oven, and the breasts transferred to a plate while we deglaze the pan and concoct the sauce with the chicken broth, wine, butter, etc. Then the chicken is sliced and plated, and the sauce poured over top. Usually one also wants a side dish or two. A number of things can go interestingly wrong in this process, of course, and implementing it would require, among other things, an intelligent management of all the possible mixtures that result.</p>
</div>
<div class="linkback">
<a href="wi_16.html#wi-16.14">WI §16.14. Another scoring example</a><br><a href="rb_11.html#rb-11.4">RB §11.4. Scoring</a>
</div></details><details class="full-example" id="example-442"><summary><span class="example-summary">442. Rubies</span> <span class="example-difficulty">★★★</span></summary><div>
<p>The trick here is that we need a table with text in order to keep track of the players' names.</p>
<p>Part 1 largely replicates the source from "Identity Theft"; new material starts at Part 2.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%20%22Rubies%22%5Cn%5CnUse%20scoring.%5Cn%5CnPart%201%20-%20Collecting%20Names%5Cn%5CnThe%20player's%20forename%20is%20a%20text%20that%20varies.%20The%20player's%20full%20name%20is%20a%20text%20that%20varies.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20command%20prompt%20is%20%22What%20is%20your%20name?%20&gt;%20%22.%5Cn%5CnTo%20decide%20whether%20collecting%20names:%5Cn%5Ctif%20the%20command%20prompt%20is%20%22What%20is%20your%20name?%20&gt;%20%22,%20yes;%5Cn%5Ctno.%5Cn%5CnAfter%20reading%20a%20command%20when%20collecting%20names:%5Cn%5Ctif%20the%20number%20of%20words%20in%20the%20player's%20command%20is%20greater%20than%205:%5Cn%5Ct%5Ctsay%20%22%5Bparagraph%20break%5DWho%20are%20you,%20a%20member%20of%20the%20British%20royal%20family?%20No%20one%20has%20that%20many%20names.%20Let's%20try%20this%20again.%22;%5Cn%5Ct%5Ctreject%20the%20player's%20command;%5Cn%5Ctnow%20the%20player's%20full%20name%20is%20the%20player's%20command;%5Cn%5Ctnow%20the%20player's%20forename%20is%20word%20number%201%20in%20the%20player's%20command;%5Cn%5Ctnow%20the%20command%20prompt%20is%20%22&gt;%22;%5Cn%5Ctsay%20%22Hi,%20%5Bplayer's%20forename%5D!%22;%5Cn%5Ctsay%20%22%5Bbanner%20text%5D%22;%5Cn%5Ctmove%20the%20player%20to%20the%20location;%5Cn%5Ctreject%20the%20player's%20command.%5Cn%5CnInstead%20of%20looking%20when%20collecting%20names:%20do%20nothing.%5Cn%5CnRule%20for%20printing%20the%20banner%20text%20when%20collecting%20names:%20do%20nothing.%5Cn%5CnRule%20for%20constructing%20the%20status%20line%20when%20collecting%20names:%20do%20nothing.%5Cn%5CnPart%202%20-%20Adding%20the%20Leaderboard%5Cn%5CnFile%20of%20Leaderboard%20is%20called%20%22leaderboard%22.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctif%20the%20File%20of%20Leaderboard%20exists:%5Cn%5Ct%5Ctread%20File%20of%20Leaderboard%20into%20the%20Table%20of%20Leaders;%5Cn%5Ct%5Ctsort%20the%20Table%20of%20Leaders%20in%20reverse%20scored%20amount%20order.%5Cn%5CnWhen%20play%20ends:%5Cn%5Ctchoose%20row%2010%20in%20the%20Table%20of%20Leaders;%20%5Bwe've%20sorted%20the%20table,%20so%20the%20lowest%20score%20will%20be%20the%20one%20at%20the%20bottom%5D%5Cn%5Ctif%20the%20score%20is%20greater%20than%20scored%20amount%20entry:%5Cn%5Ct%5Ctnow%20name%20entry%20is%20the%20player's%20forename;%5Cn%5Ct%5Ctnow%20the%20scored%20amount%20entry%20is%20the%20score;%5Cn%5Ctshow%20leaderboard;%5Cn%5Ctwrite%20the%20File%20of%20Leaderboard%20from%20the%20Table%20of%20Leaders.%5Cn%5CnTo%20show%20leaderboard:%5Cn%5Ctsort%20the%20Table%20of%20Leaders%20in%20reverse%20scored%20amount%20order;%5Cn%5Ctsay%20%22Current%20leading%20scores:%20%5Bparagraph%20break%5D%22;%5Cn%5Ctsay%20fixed%20letter%20spacing;%5Cn%5Ctrepeat%20through%20Table%20of%20Leaders:%5Cn%5Ct%5Ctif%20scored%20amount%20entry%20is%20greater%20than%200:%5Cn%5Ct%5Ct%5Ctsay%20%22%20%20%5Bname%20entry%5D%22;%5Cn%5Ct%5Ct%5Ctlet%20N%20be%2025%20minus%20the%20number%20of%20characters%20in%20name%20entry;%20%5Bhere%20we%20want%20to%20space%20out%20the%20scores%20so%20they%20make%20a%20neat%20column%5D%5Cn%5Ct%5Ct%5Ctif%20N%20is%20less%20than%201,%20now%20N%20is%201;%5Cn%5Ct%5Ct%5Ctsay%20N%20spaces;%5Cn%5Ct%5Ct%5Ctsay%20%22%5Bscored%20amount%20entry%5D%5Bline%20break%5D%22;%5Cn%5Ctsay%20variable%20letter%20spacing.%5Cn%5CnTo%20say%20(N%20-%20a%20number)%20spaces:%5Cn%5Ctrepeat%20with%20index%20running%20from%201%20to%20N:%5Cn%5Ct%5Ctsay%20%22%20%22.%5Cn%5CnTable%20of%20Leaders%5Cnscored%20amount%5Ctname%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn0%5Ct%22Smithee%22%5Cn%5Cn%5BAnd%20now%20we%20introduce%20a%20scenario%20that%20allows%20different%20players%20to%20come%20up%20with%20different%20scores%20--%20admittedly%20not%20a%20very%20interesting%20scenario,%20but%20it%20will%20do%20for%20now:%5D%5Cn%5CnPart%203%20-%20Scenario%5Cn%5CnCarry%20out%20taking%20something%20which%20is%20not%20handled:%5Cn%5Ctincrement%20score.%5Cn%5CnThe%20Big%20Treasure%20Chamber%20is%20a%20room.%20It%20contains%20a%20ruby,%20an%20emerald,%20a%20gold%20tooth,%20an%20antique%20katana,%20and%20a%20silver%20coin.%5Cn%5CnInstead%20of%20waiting,%20end%20the%20story%20finally.%5Cn%5CnTest%20me%20with%20%22get%20ruby%20/%20z%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a>  "Rubies"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
Part 1 - Collecting Names
</p>
<p class="quoted">
The player's forename is a text that varies. The player's full name is a text that varies.
</p>
<p class="quoted">
When play begins:
<br>    now the command prompt is "What is your name? &gt; ".
</p>
<p class="quoted">
To decide whether collecting names:
<br>    if the command prompt is "What is your name? &gt; ", yes;
<br>    no.
</p>
<p class="quoted">
After reading a command when collecting names:
<br>    if the number of words in the player's command is greater than 5:
<br>        say "[paragraph break]Who are you, a member of the British royal family? No one has that many names. Let's try this again.";
<br>        reject the player's command;
<br>    now the player's full name is the player's command;
<br>    now the player's forename is word number 1 in the player's command;
<br>    now the command prompt is "&gt;";
<br>    say "Hi, [player's forename]!";
<br>    say "[banner text]";
<br>    move the player to the location;
<br>    reject the player's command.
</p>
<p class="quoted">
Instead of looking when collecting names: do nothing.
</p>
<p class="quoted">
Rule for printing the banner text when collecting names: do nothing.
</p>
<p class="quoted">
Rule for constructing the status line when collecting names: do nothing.
</p>
<p class="quoted">
Part 2 - Adding the Leaderboard
</p>
<p class="quoted">
File of Leaderboard is called "leaderboard".
</p>
<p class="quoted">
When play begins:
<br>    if the File of Leaderboard exists:
<br>        read File of Leaderboard into the Table of Leaders;
<br>        sort the Table of Leaders in reverse scored amount order.
</p>
<p class="quoted">
When play ends:
<br>    choose row 10 in the Table of Leaders; [we've sorted the table, so the lowest score will be the one at the bottom]
<br>    if the score is greater than scored amount entry:
<br>        now name entry is the player's forename;
<br>        now the scored amount entry is the score;
<br>    show leaderboard;
<br>    write the File of Leaderboard from the Table of Leaders.
</p>
<p class="quoted">
To show leaderboard:
<br>    sort the Table of Leaders in reverse scored amount order;
<br>    say "Current leading scores: [paragraph break]";
<br>    say fixed letter spacing;
<br>    repeat through Table of Leaders:
<br>        if scored amount entry is greater than 0:
<br>            say "  [name entry]";
<br>            let N be 25 minus the number of characters in name entry; [here we want to space out the scores so they make a neat column]
<br>            if N is less than 1, now N is 1;
<br>            say N spaces;
<br>            say "[scored amount entry][line break]";
<br>    say variable letter spacing.
</p>
<p class="quoted">
To say (N - a number) spaces:
<br>    repeat with index running from 1 to N:
<br>        say " ".
</p>
<p class="quoted">
Table of Leaders
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">scored amount</p></td>
<td class="quotedtablecell"><p class="quoted">name</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">0</p></td>
<td class="quotedtablecell"><p class="quoted">"Smithee"</p></td>
</tr>
</table>
</div>
<p>And now we introduce a scenario that allows different players to come up with different scores -- admittedly not a very interesting scenario, but it will do for now:</p>

<div class="code">
<p class="quoted">
Part 3 - Scenario
</p>
<p class="quoted">
Carry out taking something which is not handled:
<br>    increment score.
</p>
<p class="quoted">
The Big Treasure Chamber is a room. It contains a ruby, an emerald, a gold tooth, an antique katana, and a silver coin.
</p>
<p class="quoted">
Instead of waiting, end the story finally.
</p>
<p class="quoted">
Test me with "get ruby / z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_23.html#wi-23.13">WI §23.13. Writing and reading tables to external files</a><br><a href="rb_11.html#rb-11.4">RB §11.4. Scoring</a>
</div></details>
</div></section>
<section class="section" id="rb-11.5"><div>





<h3>RB §11.5. Settings and Status Checks During Play</h3>
<p>Several default actions allow the player some control over the presentation of the story, or permit the player to request information about what is going on. In addition to the standard commands described elsewhere in this section (SCORE, SAVE, UNDO, QUIT, RESTART, and RESTORE), Inform has the following actions that control the player's experience:</p>

<div class="code"><p class="quoted">
Preferring abbreviated room descriptions (SUPERBRIEF)
<br>Preferring unabbreviated room descriptions (VERBOSE)
<br>Preferring sometimes abbreviated room descriptions (BRIEF)
<br>Switching score notification on (NOTIFY ON)
<br>Switching score notification off (NOTIFY OFF)
</p></div>
<p>The first three of these allow the player to change the way rooms are described on first and subsequent versions; the last two, when used in a story that provides a score feature, toggle on and off reports such as "[Your score has just gone up by three points.]" These are discussed elsewhere in the Recipe Book (see cross-references below).</p>
<p>These provide immediate feedback about the status of the story file being played:</p>

<div class="code"><p class="quoted">
Verifying the story file (VERIFY)
<br>Requesting the story file version (VERSION)
<br>Requesting the pronoun meanings (PRONOUNS)
</p></div>
<p>VERIFY examines checksums to make sure that the story file being run is intact and correct. This is less often an issue now than it was in the days when story files were distributed by highly corruptible floppy disk, but the command persists and is very occasionally useful. VERSION gives the full banner text associated with the story, including title, author, release number, IFID, and other bibliographical data; it follows this with a list of the included extensions.</p>
<p>PRONOUNS announces to the player what the story is currently understanding as the antecedents of "him", "her", "it", and "them". This is often useful during testing, but sometimes also during play.</p>
<p>The following allow the player (when supported by his interpreter) to create a log of play:</p>

<div class="code"><p class="quoted">
Switching the story transcript on (TRANSCRIPT ON)
<br>Switching the story transcript off (TRANSCRIPT OFF)
</p></div>
<p>It is rarely a good idea to change the default performance of such commands: they are often finicky and closely tied to the interpreter in which the story runs. Moreover, disabling the "version" command means that the story file is not able to display attribution information for Inform and any included extensions, in violation of their respective licenses.</p>


</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_6.html#rb-6.4" class="crossreference_link">Looking</a> for a way to set the story's verbosity level for the player</div>
<div class="crossreference">
<a href="rb_11.html#rb-11.4" class="crossreference_link">Scoring</a> for a discussion of score notification</div>
<div class="crossreference">
<a href="rb_13.html#rb-13.1" class="crossreference_link">Testing</a> for some examples of status-check commands created for alpha- or beta-testing of a story</div>
</div></section>
<section class="section" id="rb-11.6"><div>





<h3>RB §11.6. Ending The Story</h3>
<p>Play can end in many ways, at the writer's discretion:</p>

<div class="code"><p class="quoted">
end the story;
<br>end the story finally;
<br>end the story saying "You have reached an impasse, a stalemate";
<br>end the story finally saying "You have succeeded.";
</p></div>
<p>The phrase "end the story" by itself will finish play, printing "*** The End ***". Using one of the phrases with "saying..." allows us to specify some other text with which to conclude. Including "finally" means that the player has earned access to AMUSING text and other notes, if any of these are provided.</p>
<p>We can eliminate the asterisked headline entirely by removing the rule that prints it, thus:</p>

<div class="code"><p class="quoted">
The print obituary headline rule is not listed in any rulebook.
</p></div>
<p>The next step is to print the player's score and, if applicable, the rank he achieved. By default a story doesn't feature scoring, but the following use option will incorporate it:</p>

<div class="code"><p class="quoted">
Use scoring.
</p></div>
<p>Then, if we want to allow a score but alter the way it is reported, we may remove or modify the print final score rule, as in</p>

<div class="code"><p class="quoted">
The print final score rule is not listed in any rulebook.
</p></div>
<p>or perhaps something like</p>

<div class="code">
<p class="quoted">
The chatty final score rule is listed instead of the print final score rule in for printing the player's obituary.
</p>
<p class="quoted">
This is the chatty final score rule: say "Wow, you achieved a whole [score in words] point[s] out of a possible [maximum score in words]! I'm very proud of you. This was a triumph. I'm being so sincere right now."
</p>
</div>
<p>What happens next is normally that the player is invited to RESTART, RESTORE (from a saved story), QUIT or UNDO the last command. The presence of the question can somewhat undercut a tragedy, and <a href="rb_11.html#example-385" class="example-link" onClick="(function() { document.getElementById('example-385').setAttribute('open','open'); return true; })();">Battle of Ridgefield</a><span class="example-difficulty"> ★</span> shows another way to go out.</p>
<p>If we do leave the question in, the text is formed by the Table of Final Question Options, which by default looks like this:</p>

<div class="code">
<p class="quoted">
Table of Final Question Options
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">final question wording</p></td>
<td class="quotedtablecell"><p class="quoted">only if victorious</p></td>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">final response rule</p></td>
<td class="quotedtablecell"><p class="quoted">final response activity</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"RESTART"</p></td>
<td class="quotedtablecell"><p class="quoted">false</p></td>
<td class="quotedtablecell"><p class="quoted">"restart"</p></td>
<td class="quotedtablecell"><p class="quoted">immediately restart the VM rule</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"RESTORE a saved story"</p></td>
<td class="quotedtablecell"><p class="quoted">false</p></td>
<td class="quotedtablecell"><p class="quoted">"restore"</p></td>
<td class="quotedtablecell"><p class="quoted">immediately restore saved story rule</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"see some suggestions for AMUSING things to do"</p></td>
<td class="quotedtablecell"><p class="quoted">true</p></td>
<td class="quotedtablecell"><p class="quoted">"amusing"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">amusing a victorious player</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"QUIT"</p></td>
<td class="quotedtablecell"><p class="quoted">false</p></td>
<td class="quotedtablecell"><p class="quoted">"quit"</p></td>
<td class="quotedtablecell"><p class="quoted">immediately quit rule</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"UNDO the last command"</p></td>
<td class="quotedtablecell"><p class="quoted">false</p></td>
<td class="quotedtablecell"><p class="quoted">"undo"</p></td>
<td class="quotedtablecell"><p class="quoted">immediately undo rule</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
</table>
</div>
<p>Because this is a table, we may alter the behavior by changing entries or continuing the table. <a href="rb_11.html#example-384" class="example-link" onClick="(function() { document.getElementById('example-384').setAttribute('open','open'); return true; })();">Finality</a><span class="example-difficulty"> ★</span> shows how we might take out the option to UNDO the last command, for instance.</p>
<p>Using an ending phrase that includes "finally" tells Inform to include the options that are marked "only if victorious". One common use is to let the player read some special bit of additional text, perhaps describing easter eggs he might have missed in the story or presenting some authorial notes. <a href="rb_11.html#example-386" class="example-link" onClick="(function() { document.getElementById('example-386').setAttribute('open','open'); return true; })();">Xerxes</a><span class="example-difficulty"> ★★</span> demonstrates a simple AMUSING command to read final information, while <a href="rb_11.html#example-383" class="example-link" onClick="(function() { document.getElementById('example-383').setAttribute('open','open'); return true; })();">Jamaica 1688</a><span class="example-difficulty"> ★</span> shows how to add completely new elements to the list of options.</p>
<p>Old-school adventures expected their adventurers to die early and die often. <a href="rb_11.html#example-441" class="example-link" onClick="(function() { document.getElementById('example-441').setAttribute('open','open'); return true; })();">Labyrinth of Ghosts</a><span class="example-difficulty"> ★★</span> shows how the residue of such past attempts can be preserved into subsequent attempts, using an external file. <a href="rb_11.html#example-138" class="example-link" onClick="(function() { document.getElementById('example-138').setAttribute('open','open'); return true; })();">Big Sky Country</a><span class="example-difficulty"> ★★★</span> shows how a player can be resurrected by, let us say, some beneficent god, so that a player can even die more than once in the same attempt.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-383"><summary><span class="example-summary">383. Jamaica 1688</span> <span class="example-difficulty">★</span></summary><div>
<p>The options offered to the player at the end of the game are listed in the Table of Final Question Options, which means that we can add to them simply by continuing the table; what's more, the table gives us the opportunity to create a "final response rule", a rule that the game should follow in order to parse the player's input at this point.</p>
<p>So, for instance, if we wanted the player to be allowed to ask for notes about any of the rooms, characters, or objects in a historical game:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Jamaica%201688%22%5Cn%5CnUse%20scoring.%5Cn%5CnSection%201%20-%20Procedure%5Cn%5CnTable%20of%20Final%20Question%20Options%20(continued)%5Cnfinal%20question%20wording%5Ctonly%20if%20victorious%5Cttopic%5Ctfinal%20response%20rule%5Ctfinal%20response%20activity%5Cn%22REVEAL%20the%20inspiration%20for%20something%20or%20somewhere%22%5Cttrue%5Ct%22reveal%20%5Bany%20thing%5D%22%5Ctinvestigate%20something%20rule%5Ct--%5Cn--%5Cttrue%5Ct%22reveal%20%5Bany%20room%5D%22%5Ctinvestigate%20something%20rule%5Ct--%5Cn%5CnThis%20is%20the%20investigate%20something%20rule:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Footnotey%20Stuff:%5Cn%5Ct%5Ctif%20the%20player's%20command%20matches%20the%20topic%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22%5Brevelation%20entry%5D%5Bparagraph%20break%5D%22;%5Cn%5Ct%5Ct%5Ctrule%20succeeds;%5Cn%5Ctsay%20%22I'm%20afraid%20I%20have%20no%20revelation%20to%20vouchsafe%20there.%22%5Cn%5CnSection%202%20-%20Scenario%5Cn%5CnThe%20Upper%20Deck%20is%20a%20room.%20Lucius%20is%20a%20man%20in%20the%20Upper%20Deck.%5Cn%5CnThe%20maximum%20score%20is%20501.%5Cn%5CnWhen%20play%20begins:%20now%20the%20score%20is%20501;%20end%20the%20story%20finally.%5Cn%5CnTable%20of%20Footnotey%20Stuff%5Cntopic%5Ctrevelation%5Cn%22reveal%20%5BLucius%5D%22%5Ct%22Lucius%20is%20based%20on%20a%20historical%20buccaneer%20who%20sailed%20with%20William%20Dampier.%20The%20original%20did%20carry%20a%20Greek%20New%20Testament,%20from%20which%20he%20read%20aloud%20when%20the%20men%20were%20stranded%20in%20the%20jungles%20near%20Panama.%22%5Cn%22reveal%20%5BUpper%20Deck%5D%22%5Ct%22The%20Callisto%20is%20a%20simplified%20and%20tidied%20representation%20of%20a%20pirate%20sloop%20ca.%201688.%22%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Jamaica 1688"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
Section 1 - Procedure
</p>
<p class="quoted">
Table of Final Question Options (continued)
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">final question wording</p></td>
<td class="quotedtablecell"><p class="quoted">only if victorious</p></td>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">final response rule</p></td>
<td class="quotedtablecell"><p class="quoted">final response activity</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"REVEAL the inspiration for something or somewhere"</p></td>
<td class="quotedtablecell"><p class="quoted">true</p></td>
<td class="quotedtablecell"><p class="quoted">"reveal [any thing]"</p></td>
<td class="quotedtablecell"><p class="quoted">investigate something rule</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">true</p></td>
<td class="quotedtablecell"><p class="quoted">"reveal [any room]"</p></td>
<td class="quotedtablecell"><p class="quoted">investigate something rule</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
</table>
<p class="quoted">
This is the investigate something rule:
<br>    repeat through the Table of Footnotey Stuff:
<br>        if the player's command matches the topic entry:
<br>            say "[revelation entry][paragraph break]";
<br>            rule succeeds;
<br>    say "I'm afraid I have no revelation to vouchsafe there."
</p>
<p class="quoted">
Section 2 - Scenario
</p>
<p class="quoted">
The Upper Deck is a room. Lucius is a man in the Upper Deck.
</p>
<p class="quoted">
The maximum score is 501.
</p>
<p class="quoted">
When play begins: now the score is 501; end the story finally.
</p>
<p class="quoted">
Table of Footnotey Stuff
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
<td class="quotedtablecell"><p class="quoted">revelation</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"reveal [Lucius]"</p></td>
<td class="quotedtablecell"><p class="quoted">"Lucius is based on a historical buccaneer who sailed with William Dampier. The original did carry a Greek New Testament, from which he read aloud when the men were stranded in the jungles near Panama."</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"reveal [Upper Deck]"</p></td>
<td class="quotedtablecell"><p class="quoted">"The Callisto is a simplified and tidied representation of a pirate sloop ca. 1688."</p></td>
</tr>
</table>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.38">WI §18.38. Printing the player's obituary</a><br><a href="rb_11.html#rb-11.6">RB §11.6. Ending The Story</a>
</div></details><details class="full-example" id="example-384"><summary><span class="example-summary">384. Finality</span> <span class="example-difficulty">★</span></summary><div>
<p>By default, Inform reminds the player that he has the option of typing UNDO after a story-ending action. This is generally good practice, especially for the sake of novice players who might not be aware of this possibility otherwise, and might be frustrated by a loss they could easily step back from.</p>
<p>Just occasionally, though, we may decide that the player does not deserve any such notification:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Finality%22%5Cn%5CnCliff%20Edge%20is%20a%20room.%20%22This%20narrow%20strip%20overlooks%20a%20gorge%20many%20hundreds%20of%20feet%20deep,%20at%20whose%20bottom%20is%20a%20river%20of%20molten%20lava.%20The%20walls%20of%20the%20gorge%20are%20lined%20with%20poison-tipped%20spikes.%20Furthermore,%20the%20birds%20that%20inhabit%20this%20valley%20spit%20balls%20of%20fire.%20Good%20thing%20you're%20safe%20up%20here.%22%5Cn%5Cn%5BThe%20Table%20of%20Final%20Question%20Options%20determines%20what%20options%20are%20to%20be%20given%20to%20the%20player%20after%20the%20story%20ends.%20We%20can%20change%20what%20is%20mentioned%20there%20by%20altering%20the%20entries.%20(The%20example%20Jamaica%201688%20explains%20this%20table%20in%20more%20detail,%20and%20demonstrates%20some%20other%20things%20that%20we%20might%20do%20with%20it.)%5D%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctchoose%20row%20with%20a%20final%20response%20rule%20of%20immediately%20undo%20rule%20in%20the%20Table%20of%20Final%20Question%20Options;%5Cn%5Ctblank%20out%20the%20final%20question%20wording%20entry.%5Cn%5CnInstead%20of%20jumping:%5Cn%5Ctsay%20%22If%20you%20insist.%22;%5Cn%5Ctend%20the%20story.%5Cn%5Cn%5BAnd%20if%20we%20decided%20that%20we%20didn't%20want%20the%20player%20to%20be%20able%20to%20undo%20the%20command%20at%20all,%20we%20should%20add%20the%20use%20option%5D%5Cn%5CnUse%20undo%20prevention.%5Cn%5CnTest%20me%20with%20%22jump%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Finality"
</p>
<p class="quoted">
Cliff Edge is a room. "This narrow strip overlooks a gorge many hundreds of feet deep, at whose bottom is a river of molten lava. The walls of the gorge are lined with poison-tipped spikes. Furthermore, the birds that inhabit this valley spit balls of fire. Good thing you're safe up here."
</p>
</div>
<p>The Table of Final Question Options determines what options are to be given to the player after the story ends. We can change what is mentioned there by altering the entries. (The example Jamaica 1688 explains this table in more detail, and demonstrates some other things that we might do with it.)</p>

<div class="code">
<p class="quoted">
When play begins:
<br>    choose row with a final response rule of immediately undo rule in the Table of Final Question Options;
<br>    blank out the final question wording entry.
</p>
<p class="quoted">
Instead of jumping:
<br>    say "If you insist.";
<br>    end the story.
</p>
</div>
<p>And if we decided that we didn't want the player to be able to undo the command at all, we should add the use option</p>

<div class="code">
<p class="quoted">
Use undo prevention.
</p>
<p class="quoted">
Test me with "jump".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.38">WI §18.38. Printing the player's obituary</a><br><a href="rb_11.html#rb-11.6">RB §11.6. Ending The Story</a>
</div></details><details class="full-example" id="example-385"><summary><span class="example-summary">385. Battle of Ridgefield</span> <span class="example-difficulty">★</span></summary><div>
<p>Occasionally, a piece of IF is sufficiently serious that it feels bathetic to offer the player the usual restore-restart-undo-quit options at the end. The following would replace "*** You have died ***" with a centered epitaph, then quit the game when the player hits a key.</p>
<p>This example relies on a standard extension to avoid any fancy programming:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Battle%20of%20Ridgefield%22%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%5Cn%5CnRidgefield%20is%20a%20room.%5Cn%5CnInstead%20of%20doing%20something%20when%20the%20turn%20count%20is%20greater%20than%201:%20say%20%22Alas,%20you%20no%20longer%20have%20the%20strength.%22;%20end%20the%20story.%5Cn%5CnRule%20for%20printing%20the%20player's%20obituary:%5Cn%5Ctsay%20paragraph%20break;%5Cn%5Ctcenter%20%22In%20defense%20of%20American%20Independence%22;%5Cn%5Ctcenter%20%22at%20the%20Battle%20of%20Ridgefield,%20April%2027,%201777,%22;%5Cn%5Ctcenter%20%22died%20Eight%20Patriots%20who%20were%20laid%20in%20this%20ground,%22;%5Cn%5Ctcenter%20%22Companioned%20by%20Sixteen%20British%20Soldiers,%22;%5Cn%5Ctcenter%20%22Living,%20their%20enemies,%22;%5Cn%5Ctcenter%20%22Dying,%20their%20guests%22;%5Cn%5Ctsay%20paragraph%20break;%5Cn%5Ctwait%20for%20any%20key;%5Cn%5Ctstop%20game%20abruptly;%5Cn%5Ctrule%20succeeds.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Battle of Ridgefield"
</p>
<p class="quoted">
Include Basic Screen Effects by Emily Short.
</p>
<p class="quoted">
Ridgefield is a room.
</p>
<p class="quoted">
Instead of doing something when the turn count is greater than 1: say "Alas, you no longer have the strength."; end the story.
</p>
<p class="quoted">
Rule for printing the player's obituary:
<br>    say paragraph break;
<br>    center "In defense of American Independence";
<br>    center "at the Battle of Ridgefield, April 27, 1777,";
<br>    center "died Eight Patriots who were laid in this ground,";
<br>    center "Companioned by Sixteen British Soldiers,";
<br>    center "Living, their enemies,";
<br>    center "Dying, their guests";
<br>    say paragraph break;
<br>    wait for any key;
<br>    stop game abruptly;
<br>    rule succeeds.
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.38">WI §18.38. Printing the player's obituary</a><br><a href="rb_11.html#rb-11.6">RB §11.6. Ending The Story</a>
</div></details><details class="full-example" id="example-386"><summary><span class="example-summary">386. Xerxes</span> <span class="example-difficulty">★★</span></summary><div>
<p>Building a menu is moderately tedious, so we will rely on the standard menu extensions provided. Thus:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Xerxes%22%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%20Include%20Menus%20by%20Emily%20Short.%5Cn%5CnTable%20of%20Amusing%20Matter%5Cntitle%5Ctsubtable%5Ctdescription%5Cttoggle%5Cn%22Cult%20Revisions%22%5Ct--%5Ct%22Did%20you%20try...%20%5Bparagraph%20break%5D%20%20banning%20the%20worship%20of%20Seth?%20%5Bline%20break%5D%20%20of%20Dionysus?%20%5Bline%20break%5D%20%20assigning%20all%20your%20priests%20to%20Re?%20%5Bline%20break%5D%20%20assigning%20male%20priests%20to%20Cybele?%20%5Bline%20break%5D%20%20assigning%20married%20priestesses%20to%20Hestia?%20%5Bline%20break%5D%20%20identifying%20one%20god%20as%20another%20(e.g.,%20Isis%20and%20Hecate)?%20%5Bline%20break%5D%20%20identifying%20a%20mortal%20as%20a%20god%20(e.g.,%20Alexander%20as%20Helios-Apollo)?%22%5Ct--%5Cn%22Military%20Revisions%22%5Ct--%5Ct%22Did%20you%20try...%20%5Bparagraph%20break%5D%20%20allying%20a%20Greek%20city-state%20with%20the%20Persians?%20(try%20&gt;MEDIZE)%20%5Bline%20break%5D%20%20playing%20Athens%20as%20a%20land-based%20power?%22%5Ct--%5Cn%5CnRule%20for%20amusing%20a%20victorious%20player:%5Cn%5Ctnow%20the%20current%20menu%20is%20the%20Table%20of%20Amusing%20Matter;%5Cn%5Ctnow%20the%20current%20menu%20title%20is%20%22Things%20to%20Try%22;%5Cn%5Ctcarry%20out%20the%20displaying%20activity;%5Cn%5Ctclear%20the%20screen.%5Cn%5Cn%5BOmitting%20about%20a%20half%20million%20words%20from%20this%20rigorous%20and%20educational%20but%20nonetheless%20enthralling%20simulation%20of%20centuries%20of%20history,%20culture,%20and%20religion,%20we%20will%20skip%20directly%20to:%5D%5Cn%5CnAthens%20is%20a%20room.%5Cn%5CnUse%20scoring.%5Cn%5CnEvery%20turn:%5Cn%5Ctif%20the%20score%20is%20greater%20than%2010000,%20end%20the%20story%20finally.%5Cn%5CnWhen%20play%20begins:%20now%20the%20score%20is%2010001.%5Cn%5CnTest%20me%20with%20%22z%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Xerxes"
</p>
<p class="quoted">
Include Basic Screen Effects by Emily Short. Include Menus by Emily Short.
</p>
<p class="quoted">
Table of Amusing Matter
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">title</p></td>
<td class="quotedtablecell"><p class="quoted">subtable</p></td>
<td class="quotedtablecell"><p class="quoted">description</p></td>
<td class="quotedtablecell"><p class="quoted">toggle</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Cult Revisions"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">"Did you try... [paragraph break]  banning the worship of Seth? [line break]  of Dionysus? [line break]  assigning all your priests to Re? [line break]  assigning male priests to Cybele? [line break]  assigning married priestesses to Hestia? [line break]  identifying one god as another (e.g., Isis and Hecate)? [line break]  identifying a mortal as a god (e.g., Alexander as Helios-Apollo)?"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"Military Revisions"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">"Did you try... [paragraph break]  allying a Greek city-state with the Persians? (try &gt;MEDIZE) [line break]  playing Athens as a land-based power?"</p></td>
<td class="quotedtablecell"><p class="quoted">--</p></td>
</tr>
</table>
<p class="quoted">
Rule for amusing a victorious player:
<br>    now the current menu is the Table of Amusing Matter;
<br>    now the current menu title is "Things to Try";
<br>    carry out the displaying activity;
<br>    clear the screen.
</p>
</div>
<p>Omitting about a half million words from this rigorous and educational but nonetheless enthralling simulation of centuries of history, culture, and religion, we will skip directly to:</p>

<div class="code">
<p class="quoted">
Athens is a room.
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
Every turn:
<br>    if the score is greater than 10000, end the story finally.
</p>
<p class="quoted">
When play begins: now the score is 10001.
</p>
<p class="quoted">
Test me with "z".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.39">WI §18.39. Amusing a victorious player</a><br><a href="rb_11.html#rb-11.6">RB §11.6. Ending The Story</a>
</div></details><details class="full-example" id="example-441"><summary><span class="example-summary">441. Labyrinth of Ghosts</span> <span class="example-difficulty">★★</span></summary><div>
<p>A tradition among Nethack-like computer games of the old school is that a player's death in a given place leaves a ghost behind to haunt subsequent players. Information about past lives is sometimes stored in a "bones file", and in this example we do exactly that, for a grievously unfair little dungeon.</p>
<p>To begin with, the labyrinth itself. We create a kind of value to remember possible means of death in these tunnels, and we assign a coordinate position in some grid to each location. (We do this because grid positions can safely be stored in tables saved out to external files, whereas room names cannot - they represent data which changes each time we amend the source.)</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Labyrinth%20of%20Ghosts%22%5Cn%5CnUse%20scoring.%5Cn%5CnA%20demise%20is%20a%20kind%20of%20value.%20The%20demises%20are%20drowned,%20buried%20by%20a%20rockfall,%20pierced%20by%20an%20arrow%20and%20slain.%20The%20latest%20demise%20is%20a%20demise%20that%20varies.%5Cn%5CnA%20grid%20location%20is%20a%20kind%20of%20value.%20(1,19)%20specifies%20a%20grid%20location.%20A%20room%20has%20a%20grid%20location%20called%20coordinates.%5Cn%5CnThe%20Gateway%20is%20a%20room.%20%22For%20the%20foolhardy%20adventurer,%20the%20perilous%20labyrinth%20lies%20north,%20east%20or%20south.%22%20The%20coordinates%20are%20(6,6).%20The%20Tomb%20is%20east%20of%20the%20Gateway.%20The%20coordinates%20are%20(7,6).%20The%20Rockfall%20Cave%20is%20north%20of%20the%20Gateway.%20%22This%20partly%20fallen%20cave%20may%20perhaps%20extend%20further%20north.%22%20The%20coordinates%20are%20(6,5).%20Instead%20of%20going%20north%20in%20the%20Rockfall%20Cave,%20have%20the%20player%20buried%20by%20a%20rockfall.%20The%20Archery%20Canyon%20is%20south%20of%20the%20Gateway.%20%22No%20telling%20why%20this%20canyon%20is%20named%20after%20archery,%20but%20perhaps%20if%20you%20wait%20around%20you'll%20find%20out.%22%20The%20coordinates%20are%20(6,7).%20Instead%20of%20waiting%20in%20the%20Archery%20Canyon,%20have%20the%20player%20pierced%20by%20an%20arrow.%20The%20Rock%20Pool%20is%20east%20of%20the%20Tomb.%20The%20coordinates%20are%20(8,6).%20The%20cold%20mountain%20pool%20is%20in%20the%20Rock%20Pool.%20The%20cold%20pool%20is%20fixed%20in%20place.%20Instead%20of%20entering%20the%20cold%20mountain%20pool,%20have%20the%20player%20drowned.%5Cn%5CnEvery%20turn%20when%20a%20random%20chance%20of%201%20in%2010%20succeeds:%5Cn%5Ctsay%20%22A%20dwarf%20appears%20out%20of%20nowhere,%20and%20throws%20a%20nasty%20little%20knife.%22;%5Cn%5Cthave%20the%20player%20slain.%5Cn%5Cn%5BAnd%20as%20compensation%20for%20these%20hazards:%5D%5Cn%5CnSome%20silver%20bars%20are%20in%20the%20Tomb.%20The%20emerald%20is%20in%20the%20Rock%20Pool.%20The%20platinum%20pyramid%20is%20in%20the%20Canyon.%5Cn%5CnTable%20of%20Point%20Values%5Cnitem%20%5Ct%20%20%5Ctscore%5Cnsilver%20bars%5Ct3%5Cnplatinum%20pyramid%5Ct10%5Cnemerald%5Ct4%5Cn%5CnReport%20taking%20an%20item%20listed%20in%20the%20Table%20of%20Point%20Values:%5Cn%5Ctincrease%20the%20score%20by%20the%20score%20entry;%5Cn%5Ctblank%20out%20the%20whole%20row.%5Cn%5Cn%5BWe%20are%20now%20ready%20for%20the%20actual%20undertaking.%20The%20Table%20of%20Ghostly%20Presences%20holds%20up%20to%20twenty%20death%20notices,%20and%20is%20initially%20blank.%20Deaths%20are%20sequentially%20numbered,%20and%20this%20number%20is%20stored%20in%20the%20sequence%20column.%5D%5Cn%5CnTable%20of%20Ghostly%20Presences%5Cnhaunted%20position%5Ctscore%20at%20death%5Ctturns%20at%20death%5Ctmanner%20of%20death%5Ctsequence%5Cna%20grid%20location%5Cta%20number%5Cta%20number%5Cta%20demise%5Cta%20number%5Cnwith%2019%20blank%20rows.%5Cn%5Cn%5BAs%20the%20story%20file%20starts%20up,%20we%20look%20to%20see%20if%20a%20ghosts%20file%20already%20exists.%20If%20one%20does,%20we%20load%20up%20the%20Table%20of%20Ghostly%20Presences%20with%20it:%20and%20if%20not,%20as%20will%20be%20the%20case%20the%20first%20time%20the%20player%20explores,%20we%20leave%20the%20table%20blank.%20We%20sort%20the%20table%20so%20that%20it%20has%20earlier%20deaths%20(lower%20sequence%20numbers)%20first.%5D%5Cn%5CnThe%20File%20of%20Ghosts%20is%20called%20%22ghosts%22.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctif%20the%20File%20of%20Ghosts%20exists,%20read%20File%20of%20Ghosts%20into%20the%20Table%20of%20Ghostly%20Presences;%5Cn%5Ctsort%20the%20Table%20of%20Ghostly%20Presences%20in%20sequence%20order.%5Cn%5Cn%5BHow%20will%20ghosts%20manifest%20themselves?%20Because%20this%20is%20only%20a%20small%20example,%20we%20will%20simply%20tell%20the%20player%20that%20he%20senses%20something.%20If%20several%20ghosts%20are%20present%20in%20the%20same%20place,%20the%20most%20aggrieved%20(that%20is,%20the%20most%20recent)%20is%20sensed%20first...%5D%5Cn%5CnAfter%20looking:%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Ghostly%20Presences%20in%20reverse%20sequence%20order:%5Cn%5Ct%5Ctif%20the%20haunted%20position%20entry%20is%20the%20coordinates%20of%20the%20location,%20say%20%22You%20sense%20the%20ghostly%20presence%20of%20an%20adventurer,%20%5Bmanner%20of%20death%20entry%5D%20with%20a%20score%20of%20%5Bscore%20at%20death%20entry%5D%20in%20%5Bturns%20at%20death%20entry%5D%20turns.%22%5Cn%5Cn%5B(For%20instance,%20%22You%20sense%20the%20ghostly%20presence%20of%20an%20adventurer,%20buried%20by%20a%20rockfall%20with%20a%20score%20of%2010%20in%205%20turns.%22)%20That%20just%20leaves%20the%20rule%20for%20bumping%20off%20the%20player.%20When%20the%20Table%20is%20full,%20and%20there%20are%20already%2020%20ghosts,%20the%20one%20who%20died%20longest%20ago%20(with%20the%20lowest%20sequence%20count)%20is%20eliminated,%20and%20his%20row%20blanked%20out.%20(This%20will%20always%20be%20row%201%20since%20we%20sorted%20the%20table%20in%20sequence%20order%20on%20reading%20it%20in.)%5D%5Cn%5CnTo%20have%20the%20player%20(sticky%20end%20-%20a%20demise):%5Cn%5Ctlet%20the%20new%20sequence%20number%20be%200;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Ghostly%20Presences:%5Cn%5Ct%5Ctlet%20S%20be%20the%20sequence%20entry;%5Cn%5Ct%5Ctif%20S%20is%20greater%20than%20the%20new%20sequence%20number,%20let%20the%20new%20sequence%20number%20be%20S;%5Cn%5Ctincrement%20the%20new%20sequence%20number;%5Cn%5Ctif%20the%20number%20of%20blank%20rows%20in%20the%20Table%20of%20Ghostly%20Presences%20is%200:%5Cn%5Ct%5Ctchoose%20row%201%20in%20the%20Table%20of%20Ghostly%20Presences;%5Cn%5Ct%5Ctblank%20out%20the%20whole%20row;%5Cn%5Ctchoose%20a%20blank%20row%20in%20the%20Table%20of%20Ghostly%20Presences;%5Cn%5Ctnow%20the%20sequence%20entry%20is%20the%20new%20sequence%20number;%5Cn%5Ctnow%20the%20manner%20of%20death%20entry%20is%20the%20sticky%20end;%5Cn%5Ctnow%20the%20turns%20at%20death%20entry%20is%20the%20turn%20count;%5Cn%5Ctnow%20the%20score%20at%20death%20entry%20is%20the%20score;%5Cn%5Ctnow%20the%20haunted%20position%20entry%20is%20the%20coordinates%20of%20the%20location;%5Cn%5Ctwrite%20the%20File%20of%20Ghosts%20from%20the%20Table%20of%20Ghostly%20Presences;%5Cn%5Ctnow%20the%20latest%20demise%20is%20the%20sticky%20end;%5Cn%5Ctend%20the%20story%20saying%20%22You%20have%20been%20%5Blatest%20demise%5D%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Labyrinth of Ghosts"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
A demise is a kind of value. The demises are drowned, buried by a rockfall, pierced by an arrow and slain. The latest demise is a demise that varies.
</p>
<p class="quoted">
A grid location is a kind of value. (1,19) specifies a grid location. A room has a grid location called coordinates.
</p>
<p class="quoted">
The Gateway is a room. "For the foolhardy adventurer, the perilous labyrinth lies north, east or south." The coordinates are (6,6). The Tomb is east of the Gateway. The coordinates are (7,6). The Rockfall Cave is north of the Gateway. "This partly fallen cave may perhaps extend further north." The coordinates are (6,5). Instead of going north in the Rockfall Cave, have the player buried by a rockfall. The Archery Canyon is south of the Gateway. "No telling why this canyon is named after archery, but perhaps if you wait around you'll find out." The coordinates are (6,7). Instead of waiting in the Archery Canyon, have the player pierced by an arrow. The Rock Pool is east of the Tomb. The coordinates are (8,6). The cold mountain pool is in the Rock Pool. The cold pool is fixed in place. Instead of entering the cold mountain pool, have the player drowned.
</p>
<p class="quoted">
Every turn when a random chance of 1 in 10 succeeds:
<br>    say "A dwarf appears out of nowhere, and throws a nasty little knife.";
<br>    have the player slain.
</p>
</div>
<p>And as compensation for these hazards:</p>

<div class="code">
<p class="quoted">
Some silver bars are in the Tomb. The emerald is in the Rock Pool. The platinum pyramid is in the Canyon.
</p>
<p class="quoted">
Table of Point Values
<br>item 	  	score
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">silver bars</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">platinum pyramid</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">emerald</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
</table>
<p class="quoted">
Report taking an item listed in the Table of Point Values:
<br>    increase the score by the score entry;
<br>    blank out the whole row.
</p>
</div>
<p>We are now ready for the actual undertaking. The Table of Ghostly Presences holds up to twenty death notices, and is initially blank. Deaths are sequentially numbered, and this number is stored in the sequence column.</p>

<div class="code">
<p class="quoted">
Table of Ghostly Presences
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">haunted position</p></td>
<td class="quotedtablecell"><p class="quoted">score at death</p></td>
<td class="quotedtablecell"><p class="quoted">turns at death</p></td>
<td class="quotedtablecell"><p class="quoted">manner of death</p></td>
<td class="quotedtablecell"><p class="quoted">sequence</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a grid location</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
<td class="quotedtablecell"><p class="quoted">a demise</p></td>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
</tr>
<tr><td class="quotedtablecell"><p class="quoted">with 19 blank rows.</p></td></tr>
</table>
</div>
<p>As the story file starts up, we look to see if a ghosts file already exists. If one does, we load up the Table of Ghostly Presences with it: and if not, as will be the case the first time the player explores, we leave the table blank. We sort the table so that it has earlier deaths (lower sequence numbers) first.</p>

<div class="code">
<p class="quoted">
The File of Ghosts is called "ghosts".
</p>
<p class="quoted">
When play begins:
<br>    if the File of Ghosts exists, read File of Ghosts into the Table of Ghostly Presences;
<br>    sort the Table of Ghostly Presences in sequence order.
</p>
</div>
<p>How will ghosts manifest themselves? Because this is only a small example, we will simply tell the player that he senses something. If several ghosts are present in the same place, the most aggrieved (that is, the most recent) is sensed first...</p>

<div class="code"><p class="quoted">
After looking:
<br>    repeat through the Table of Ghostly Presences in reverse sequence order:
<br>        if the haunted position entry is the coordinates of the location, say "You sense the ghostly presence of an adventurer, [manner of death entry] with a score of [score at death entry] in [turns at death entry] turns."
</p></div>
<p>(For instance, "You sense the ghostly presence of an adventurer, buried by a rockfall with a score of 10 in 5 turns.") That just leaves the rule for bumping off the player. When the Table is full, and there are already 20 ghosts, the one who died longest ago (with the lowest sequence count) is eliminated, and his row blanked out. (This will always be row 1 since we sorted the table in sequence order on reading it in.)</p>

<div class="code"><p class="quoted">
To have the player (sticky end - a demise):
<br>    let the new sequence number be 0;
<br>    repeat through the Table of Ghostly Presences:
<br>        let S be the sequence entry;
<br>        if S is greater than the new sequence number, let the new sequence number be S;
<br>    increment the new sequence number;
<br>    if the number of blank rows in the Table of Ghostly Presences is 0:
<br>        choose row 1 in the Table of Ghostly Presences;
<br>        blank out the whole row;
<br>    choose a blank row in the Table of Ghostly Presences;
<br>    now the sequence entry is the new sequence number;
<br>    now the manner of death entry is the sticky end;
<br>    now the turns at death entry is the turn count;
<br>    now the score at death entry is the score;
<br>    now the haunted position entry is the coordinates of the location;
<br>    write the File of Ghosts from the Table of Ghostly Presences;
<br>    now the latest demise is the sticky end;
<br>    end the story saying "You have been [latest demise]".
</p></div>
<p>Strictly speaking we ought to worry that after 2,147,483,647 deaths, the sequence numbers would grow too large to store in a single value, and then the sequence of ghosts will be erratic. But it seems unlikely that anyone will play this example 2.1 billion times.</p>
</div>
<div class="linkback">
<a href="wi_23.html#wi-23.13">WI §23.13. Writing and reading tables to external files</a><br><a href="rb_11.html#rb-11.6">RB §11.6. Ending The Story</a>
</div></details><details class="full-example" id="example-138"><summary><span class="example-summary">138. Big Sky Country</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Some older games allowed the player to be resurrected after a death, but punished him by distributing his possessions far and wide. Here we emulate that effect.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Big%20Sky%20Country%22%5Cn%5CnUse%20scoring.%5Cn%5CnWhen%20play%20begins:%20say%20%22There's%20a%20bit%20of%20a%20drive%20over%20from%20Anaconda,%20Montana,%20and%20then%20through%20a%20couple%20or%20three%20ghost%20towns,%20but%20finally%20you%20find%20what%20you're%20looking%20for,%20and%20strike%20out%20on%20foot...%22%5Cn%5CnEntrance%20to%20Devil's%20Canyon%20is%20a%20room.%20%22You%20are%20at%20the%20top%20of%20a%20steep%20road,%20which%20proceeds%20down%20into%20the%20canyon%20proper.%22%20A%20sign%20is%20in%20Devil's%20Canyon.%20It%20is%20fixed%20in%20place.%20%22An%20ominous%20sign%20has%20been%20put%20up%20by%20the%20local%20sheriff's%20office.%22%20The%20description%20is%20%22PROCEED%20AT%20OWN%20RISK%20-%20NO%20RESCUES!%22%5Cn%5CnInstead%20of%20going%20down%20when%20a%20random%20chance%20of%201%20in%203%20succeeds:%5Cn%5Ctsay%20%22Whoooops,%20your%20footing%20is%20not%20as%20secure%20as%20you%20thought...%22;%5Cn%5Ctend%20the%20story.%5Cn%5CnDusty%20Path%20is%20below%20Entrance.%20%22A%20dusty%20path,%20with%20grey-brown%20thorny%20bushes%20on%20either%20side.%20Immediately%20to%20your%20right%20is%20a%20sheer%20drop;%20far%20below%20you%20can%20see%20the%20rusting%20remains%20of%20a%20Model%20T%20that%20some%20fool%20tried%20to%20drive%20by%20here.%22%5Cn%5CnHairpin%20is%20below%20Dusty%20Path.%20%22A%20sharp%20bend%20in%20the%20road,%20doubling%20back%20down%20towards%20the%20bottom%20of%20the%20canyon.%20Just%20north%20of%20here%20there%20is%20also%20a%20small%20cavern%20of%20some%20kind%5Bif%20the%20stick%20pin%20is%20in%20the%20cavern%5D,%20which%20attracts%20your%20eye%20with%20some%20glittery%20thing%5Bend%20if%5D.%22%5Cn%5CnThe%20Cavern%20is%20north%20of%20Hairpin.%20%22Really%20not%20much%20more%20than%20a%20little%20hollow%20in%20the%20side%20of%20the%20canyon.%22%20In%20the%20cavern%20are%20a%20snake%20and%20a%20diamond%20stick%20pin.%20The%20snake%20is%20an%20animal.%20The%20description%20of%20the%20snake%20is%20%22You're%20no%20expert,%20but%20it%20looks%20like%20a%20rattler.%22%5Cn%5CnInstead%20of%20taking%20the%20diamond%20stick%20pin%20in%20the%20presence%20of%20the%20snake:%20say%20%22Turns%20out%20the%20snake%20is%20partial%20to%20that%20there%20pin,%20and%20takes%20exception%20to%20your%20intending%20to%20make%20off%20with%20it.%22;%20end%20the%20story.%5Cn%5Cn%5BIn%20a%20fuller%20implementation%20of%20this%20game,%20we%20might%20make%20it%20possible%20to%20get%20by%20the%20snake,%20but%20in%20this%20version,%20it's%20just%20going%20to%20remain%20troublesome.%5D%5Cn%5CnCrooked%20Path%20is%20below%20Hairpin.%20%22You're%20about%20two%20thirds%20of%20the%20way%20down%20to%20the%20bottom%20of%20the%20cavern%20at%20this%20point.%22%5Cn%5CnAt%20the%20Spot%20is%20below%20Crooked%20Path.%20%22This'll%20be%20it:%20a%20bare%20patch%20of%20ground%20that%20might%20as%20well%20have%20an%20X%20painted%20right%20on%20it.%22%5Cn%5CnRule%20for%20supplying%20a%20missing%20noun%20while%20digging:%5Cn%5Ctnow%20noun%20is%20the%20location.%5Cn%5CnUnderstand%20%22dig%22%20or%20%22dig%20hole/here%22%20or%20%22dig%20in%20ground/dirt/earth%22%20as%20digging.%20Digging%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnInstead%20of%20digging%20at%20the%20spot:%5Cn%5Ctsay%20%22You%20dig%20and%20dig,%20and%20after%20a%20half%20hour%20or%20so,%20sure%20enough,%20you%20do%20turn%20up%20a%20big%20box%20of%20gold!%20You're%20going%20to%20be%20richer%20than%20God%20and%20Bill%20Gates%20put%20together.%22;%5Cn%5Ctincrease%20the%20score%20by%205;%5Cn%5Ctend%20the%20story%20finally.%5Cn%5CnInstead%20of%20digging%20at%20the%20spot%20when%20the%20player%20does%20not%20carry%20the%20shovel:%5Cn%5Ctsay%20%22What,%20without%20your%20shovel?%20That%20won't%20work%20too%20well.%22%5Cn%5CnThe%20player%20carries%20a%20walking%20stick.%20The%20player%20wears%20a%20hat,%20a%20whistle,%20and%20a%20daypack.%20The%20daypack%20contains%20a%20mylar%20blanket,%20a%20granola%20bar,%20a%20cellular%20phone,%20a%20water%20bottle,%20a%20folding%20shovel,%20and%20a%20photocopied%20map.%20The%20granola%20bar%20is%20edible.%20Instead%20of%20drinking%20the%20water,%20say%20%22You%20quench%20your%20thirst,%20for%20the%20time%20being.%22%20The%20description%20of%20the%20map%20is%20%22The%20map%20shows%20the%20winding%20path%20of%20Devil's%20Canyon,%20with%20a%20large%20X%20down%20by%20the%20south%20end.%20That%20would%20be%20where%20your%20uncle%20Jesse%20buried%20the%20gold%20from%20the%20train%20robbery.%22%5Cn%5CnThe%20maximum%20score%20is%205.%5Cn%5CnWhen%20play%20ends%20when%20the%20story%20has%20not%20ended%20finally:%5Cn%5Ctsay%20%22Oh%20dear,%20that%20ought%20to%20be%20fatal!%20However,%20if%20you%20like%20I%20can%20get%20you%20out%20of%20it...%5Cn%5Cn%5CtShall%20I?%20&gt;%22;%5Cn%5Ctif%20the%20player%20consents:%5Cn%5Ct%5Ctrepeat%20with%20item%20running%20through%20things%20had%20by%20the%20player:%5Cn%5Ct%5Ct%5Ctmove%20the%20item%20to%20a%20random%20visited%20room;%5Cn%5Ct%5Ctsay%20%22A%20strong%20wind%20picks%20you%20up%20and%20sets%20you%20back%20at%20%5Bthe%20location%5D,%20though%20perhaps%20minus%20a%20few%20of%20your%20things.%22;%5Cn%5Ct%5Ctresume%20the%20story;%5Cn%5Ct%5Cttry%20looking.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Big Sky Country"
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
When play begins: say "There's a bit of a drive over from Anaconda, Montana, and then through a couple or three ghost towns, but finally you find what you're looking for, and strike out on foot..."
</p>
<p class="quoted">
Entrance to Devil's Canyon is a room. "You are at the top of a steep road, which proceeds down into the canyon proper." A sign is in Devil's Canyon. It is fixed in place. "An ominous sign has been put up by the local sheriff's office." The description is "PROCEED AT OWN RISK - NO RESCUES!"
</p>
<p class="quoted">
Instead of going down when a random chance of 1 in 3 succeeds:
<br>    say "Whoooops, your footing is not as secure as you thought...";
<br>    end the story.
</p>
<p class="quoted">
Dusty Path is below Entrance. "A dusty path, with grey-brown thorny bushes on either side. Immediately to your right is a sheer drop; far below you can see the rusting remains of a Model T that some fool tried to drive by here."
</p>
<p class="quoted">
Hairpin is below Dusty Path. "A sharp bend in the road, doubling back down towards the bottom of the canyon. Just north of here there is also a small cavern of some kind[if the stick pin is in the cavern], which attracts your eye with some glittery thing[end if]."
</p>
<p class="quoted">
The Cavern is north of Hairpin. "Really not much more than a little hollow in the side of the canyon." In the cavern are a snake and a diamond stick pin. The snake is an animal. The description of the snake is "You're no expert, but it looks like a rattler."
</p>
<p class="quoted">
Instead of taking the diamond stick pin in the presence of the snake: say "Turns out the snake is partial to that there pin, and takes exception to your intending to make off with it."; end the story.
</p>
</div>
<p>In a fuller implementation of this game, we might make it possible to get by the snake, but in this version, it's just going to remain troublesome.</p>

<div class="code">
<p class="quoted">
Crooked Path is below Hairpin. "You're about two thirds of the way down to the bottom of the cavern at this point."
</p>
<p class="quoted">
At the Spot is below Crooked Path. "This'll be it: a bare patch of ground that might as well have an X painted right on it."
</p>
<p class="quoted">
Rule for supplying a missing noun while digging:
<br>    now noun is the location.
</p>
<p class="quoted">
Understand "dig" or "dig hole/here" or "dig in ground/dirt/earth" as digging. Digging is an action applying to one thing.
</p>
<p class="quoted">
Instead of digging at the spot:
<br>    say "You dig and dig, and after a half hour or so, sure enough, you do turn up a big box of gold! You're going to be richer than God and Bill Gates put together.";
<br>    increase the score by 5;
<br>    end the story finally.
</p>
<p class="quoted">
Instead of digging at the spot when the player does not carry the shovel:
<br>    say "What, without your shovel? That won't work too well."
</p>
<p class="quoted">
The player carries a walking stick. The player wears a hat, a whistle, and a daypack. The daypack contains a mylar blanket, a granola bar, a cellular phone, a water bottle, a folding shovel, and a photocopied map. The granola bar is edible. Instead of drinking the water, say "You quench your thirst, for the time being." The description of the map is "The map shows the winding path of Devil's Canyon, with a large X down by the south end. That would be where your uncle Jesse buried the gold from the train robbery."
</p>
<p class="quoted">
The maximum score is 5.
</p>
<p class="quoted">
When play ends when the story has not ended finally:
<br>    say "Oh dear, that ought to be fatal! However, if you like I can get you out of it...
</p>
<p class="quoted">
    Shall I? &gt;";
<br>    if the player consents:
<br>        repeat with item running through things had by the player:
<br>            move the item to a random visited room;
<br>        say "A strong wind picks you up and sets you back at [the location], though perhaps minus a few of your things.";
<br>        resume the story;
<br>        try looking.
</p>
</div>
<p>"If the player consents" is just a convenient way to ask a yes/no question that the player must answer before going on with the game.</p>
</div>
<div class="linkback">
<a href="wi_9.html#wi-9.4">WI §9.4. When play ends</a><br><a href="rb_11.html#rb-11.6">RB §11.6. Ending The Story</a>
</div></details>
</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/RB_11_1.html">RB Chapter 11 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_10.html#rb-chapter-10-physics-substances-ropes-energy-and-weight">10. Physics: Substances, Ropes, Energy and Weight</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_12.html#rb-chapter-12-typography-layout-and-multimedia-effects">12. Typography, Layout, and Multimedia Effects</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

