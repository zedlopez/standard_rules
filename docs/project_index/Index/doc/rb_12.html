<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Recipe Book 12. Typography, Layout, and Multimedia Effects</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Recipe Book</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_11.html#rb-chapter-11-out-of-world-actions-and-effects">11. Out Of World Actions and Effects</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_13.html#rb-chapter-13-testing-and-publishing">13. Testing and Publishing</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>12. Typography, Layout, and Multimedia Effects</h2>
<div class="toc-section">12.1 <a href="rb_12.html#rb-12.1">Typography</a></div>
<div class="toc-section">12.2 <a href="rb_12.html#rb-12.2">The Status Line</a></div>
<div class="toc-section">12.3 <a href="rb_12.html#rb-12.3">Footnotes</a></div>
<div class="toc-section">12.4 <a href="rb_12.html#rb-12.4">Timed Input</a></div>
<div class="toc-section">12.5 <a href="rb_12.html#rb-12.5">Glulx Multimedia Effects</a></div>
</header>
<main>
<section class="chapter" id="rb-chapter-12-typography-layout-and-multimedia-effects">
<section class="section" id="rb-12.1"><div>



<h3>RB §12.1. Typography</h3>
<p>Story files produced by Inform tend not to contain elaborate typographical effects. They would only distract. Like a novel, a classic work of IF is best presented in an elegant but unobtrusive font. Inform does, however, provide for italic and bold-face, and also for a typewriter-style fixed pitch of lettering:</p>

<div class="code"><p class="quoted">
"This is an [italic type]italicised[roman type] word."
<br>"This is an [bold type]emboldened[roman type] word."
<br>"This is a [fixed letter spacing]typewritten[variable letter spacing] word."
</p></div>
<p>Authors making very frequent use of these might like to borrow the briefer definitions in <a href="rb_12.html#example-453" class="example-link" onClick="(function() { document.getElementById('example-453').setAttribute('open','open'); return true; })();">Chanel Version 1</a><span class="example-difficulty"> ★</span>.</p>
<p>A very wide range of letter-forms is normally available (and even more in quoted text), so that the writer seldom needs to not worry whether, say, a sentence like</p>

<div class="code"><p class="quoted">
A ticket to Tromsø via Østfold is in the Íslendingabók.
</p></div>
<p>will work. <a href="rb_12.html#example-70" class="example-link" onClick="(function() { document.getElementById('example-70').setAttribute('open','open'); return true; })();">The Über-complète clavier</a><span class="example-difficulty"> ★★★</span> is an exhaustive test of such exotica.</p>
<p>Coloured type is trickier, and its availability depends on the story file format. For a Z-machine story, <a href="rb_12.html#example-69" class="example-link" onClick="(function() { document.getElementById('example-69').setAttribute('open','open'); return true; })();">Garibaldi 2</a><span class="example-difficulty"> ★</span> demonstrates this.</p>
<p>Finally, <a href="rb_12.html#example-450" class="example-link" onClick="(function() { document.getElementById('example-450').setAttribute('open','open'); return true; })();">Tilt 3</a><span class="example-difficulty"> ★★</span> combines unusual letterforms (suit symbols) with red and black colours to render hands of cards typographically.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-69"><summary><span class="example-summary">69. Garibaldi 2</span> <span class="example-difficulty">★</span></summary><div>
<p>The extension "Basic Screen Effects" provides a few more type styles, in the form of coloured lettering. The colours available are red, yellow, green, blue, white, magenta, and cyan, as well as the usual black; and to restore the player's default screen colour, we say "default letters".</p>
<p>Thus if we wanted to highlight locked and unlocked doors in our security readout example:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Garibaldi%22%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%5Cn%5CnThe%20security%20readout%20is%20a%20device.%20The%20description%20of%20the%20readout%20is%20%22The%20screen%20is%20blank.%22%5Cn%5CnInstead%20of%20examining%20the%20switched%20on%20security%20readout:%5Cn%5Ctsay%20%22The%20screen%20reads:%20%5Bfixed%20letter%20spacing%5D%22;%5Cn%5Ctsay%20line%20break;%5Cn%5Ctrepeat%20with%20item%20running%20through%20doors:%5Cn%5Ct%5Ctsay%20line%20break;%5Cn%5Ct%5Ctsay%20%22%20%20%5Bitem%5D%20(%5Bfront%20side%20of%20the%20item%5D/%5Bback%20side%20of%20the%20item%5D):%20%5Bif%20the%20item%20is%20locked%5D%5Bgreen%20letters%5DLOCKED%5Bdefault%20letters%5D%5Botherwise%5D%5Bred%20letters%5DUNLOCKED%5Bdefault%20letters%5D%5Bend%20if%5D%22;%5Cn%5Ctsay%20variable%20letter%20spacing;%5Cn%5Ctsay%20paragraph%20break.%5Cn%5CnThe%20player%20carries%20the%20security%20readout.%5Cn%5CnThe%20Docking%20Bay%20is%20a%20room.%20The%20inner%20airlock%20is%20a%20door.%20It%20is%20north%20of%20the%20Docking%20Bay%20and%20south%20of%20the%20Zocalo.%20The%20inner%20airlock%20is%20lockable%20and%20unlocked.%20%20The%20outer%20airlock%20is%20lockable%20and%20locked.%20It%20is%20a%20door.%20It%20is%20south%20of%20the%20Docking%20Bay%20and%20north%20of%20Space.%5Cn%5CnThe%20quarantine%20seal%20is%20a%20door.%20It%20is%20west%20of%20the%20Zocalo%20and%20east%20of%20Medlab.%20Quarantine%20seal%20is%20locked.%5Cn%5CnThe%20security%20pass%20unlocks%20the%20inner%20airlock.%20The%20player%20carries%20the%20security%20pass.%5Cn%5CnTest%20me%20with%20%22x%20readout%20/%20turn%20on%20readout%20/%20x%20readout%20/%20lock%20inner%20airlock%20with%20security%20pass%20/%20x%20readout%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Garibaldi"
</p>
<p class="quoted">
Include Basic Screen Effects by Emily Short.
</p>
<p class="quoted">
The security readout is a device. The description of the readout is "The screen is blank."
</p>
<p class="quoted">
Instead of examining the switched on security readout:
<br>    say "The screen reads: [fixed letter spacing]";
<br>    say line break;
<br>    repeat with item running through doors:
<br>        say line break;
<br>        say "  [item] ([front side of the item]/[back side of the item]): [if the item is locked][green letters]LOCKED[default letters][otherwise][red letters]UNLOCKED[default letters][end if]";
<br>    say variable letter spacing;
<br>    say paragraph break.
</p>
<p class="quoted">
The player carries the security readout.
</p>
<p class="quoted">
The Docking Bay is a room. The inner airlock is a door. It is north of the Docking Bay and south of the Zocalo. The inner airlock is lockable and unlocked.  The outer airlock is lockable and locked. It is a door. It is south of the Docking Bay and north of Space.
</p>
<p class="quoted">
The quarantine seal is a door. It is west of the Zocalo and east of Medlab. Quarantine seal is locked.
</p>
<p class="quoted">
The security pass unlocks the inner airlock. The player carries the security pass.
</p>
<p class="quoted">
Test me with "x readout / turn on readout / x readout / lock inner airlock with security pass / x readout".
</p>
</div>
<p>Note that this extension does not currently produce the desired effects when compiling with the Glulx setting; to see it working, make sure that the settings tab is set to compile to the Z-machine.</p>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.9">WI §5.9. Text with type styles</a><br><a href="rb_12.html#rb-12.1">RB §12.1. Typography</a>
</div></details><details class="full-example" id="example-453"><summary><span class="example-summary">453. Chanel Version 1</span> <span class="example-difficulty">★</span></summary><div>
<p>HTML uses angled brackets to achieve effects, and places italicised text between &lt;i&gt; and &lt;/i&gt; tags; and similarly boldface between &lt;b&gt; and &lt;/b&gt;. We can mimic this very easily by setting each up as a segmented substitution:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Chanel%20Version%201%22%5Cn%5CnTo%20say%20i%20%20--%20beginning%20say_i%20--%20running%20on:%20(-%20style%20underline;%20-).%5CnTo%20say%20/i%20%20--%20ending%20say_i%20--%20running%20on:%20(-%20style%20roman;%20-).%5CnTo%20say%20b%20--%20beginning%20say_b%20--%20running%20on:%20(-%20style%20bold;%20-).%5CnTo%20say%20/b%20--%20ending%20say_b%20--%20running%20on:%20(-%20style%20roman;%20-).%5Cn%5CnPlace%20Vend%C3%B4me%20is%20a%20room.%20%22%5Bi%5DFashion%20fades,%20only%20style%20remains%20the%20same%5B/i%5D%20(%5Bb%5DCoco%20Chanel%5B/b%5D).%20And%20this%20elegant%20drawing-room,%20once%20a%20milliner's%20shop,%20is%20a%20case%20in%20point.%22%5Cn%5CnInstead%20of%20going%20nowhere,%20say%20%22%5Bi%5DDon't%20spend%20time%20beating%20on%20a%20wall,%20hoping%20to%20transform%20it%20into%20a%20door.%5B/i%5D%20(%5Bb%5DCoco%20Chanel%5B/b%5D)%20This%20one%20is%20a%20wall.%22.%5Cn%5CnTest%20me%20with%20%22look%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Chanel Version 1"
</p>
<p class="quoted">
To say i  -- beginning say_i -- running on: (- style underline; -).
<br>To say /i  -- ending say_i -- running on: (- style roman; -).
<br>To say b -- beginning say_b -- running on: (- style bold; -).
<br>To say /b -- ending say_b -- running on: (- style roman; -).
</p>
<p class="quoted">
Place Vendôme is a room. "[i]Fashion fades, only style remains the same[/i] ([b]Coco Chanel[/b]). And this elegant drawing-room, once a milliner's shop, is a case in point."
</p>
<p class="quoted">
Instead of going nowhere, say "[i]Don't spend time beating on a wall, hoping to transform it into a door.[/i] ([b]Coco Chanel[/b]) This one is a wall.".
</p>
<p class="quoted">
Test me with "look / e".
</p>
</div>
<p>We have had to use square instead of angle brackets, but then, "in order to be irreplaceable one must always be different" (Coco Chanel).</p>
<p>(Marking these as substitutions which run on prevents unexpected paragraph breaks if they should appear immediately after the end of a sentence.)</p>
</div>
<div class="linkback">
<a href="wi_27.html#wi-27.28">WI §27.28. Segmented substitutions</a><br><a href="rb_12.html#rb-12.1">RB §12.1. Typography</a>
</div></details><details class="full-example" id="example-450"><summary><span class="example-summary">450. Tilt 3</span> <span class="example-difficulty">★★</span></summary><div>
<p>Books and articles about card-playing traditionally abbreviate card names into a simple two-symbol notation: a number or letter representing the card rank, followed by a symbol indicating the card suit. Suppose that we want to emulate this notation when taking inventory in our poker game.</p>
<p>The trick here is that colored output is done in different ways by the Z-Machine and by Glulx, so we'll need two different versions of the same section in order to produce this output. The relevant source is right at the beginning:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Tilt%22%5Cn%5CnSection%200%20-%20Colored%20Output%20in%20Two%20Forms%5Cn%5Cn%5BFor%20the%20suit%20symbols,%20we'll%20want%20the%20Unicode%20extension%20included%20with%20Inform:%5D%5Cn%5CnInclude%20Unicode%20Character%20Names%20by%20Graham%20Nelson.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20card%20(called%20target)%20while%20grouping%20together:%5Cn%5Ctsay%20%22%5Brank%20of%20the%20target%20as%20abbreviated%20value%5D%5Bsuit%20of%20the%20target%20as%20symbol%5D%22.%5Cn%5CnTo%20say%20(current%20suit%20-%20a%20suit)%20as%20symbol:%5Cn%5Ctif%20current%20suit%20is%20diamonds,%20say%20%22%5Bred%20letters%5D%5Bunicode%20black%20diamond%20suit%5D%5Bdefault%20letters%5D%22;%5Cn%5Ctif%20current%20suit%20is%20spades,%20say%20%22%5Bunicode%20black%20spade%20suit%5D%22;%5Cn%5Ctif%20current%20suit%20is%20clubs,%20say%20%22%5Bunicode%20black%20club%20suit%5D%22;%5Cn%5Ctif%20current%20suit%20is%20hearts,%20say%20%22%5Bred%20letters%5D%5Bunicode%20black%20heart%20suit%5D%5Bdefault%20letters%5D%22.%5Cn%5CnSection%200Z%20(for%20Z-machine%20only)%5Cn%5Cn%5BThe%20Basic%20Screen%20Effects%20extension%20bundled%20with%20Inform%20includes%20mechanisms%20to%20change%20the%20text%20color,%20so%20for%20the%20Z-machine,%20we%20need%20only%20include%20this:%5D%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%5Cn%5CnSection%200G%20(for%20Glulx%20only)%5Cn%5Cn%5BUnder%20Glulx,%20we%20need%20slightly%20more%20set-up:%20Glulx%20requires%20that%20we%20define%20special%20user%20font%20styles%20when%20we%20plan%20to%20make%20display%20changes.%20A%20fuller%20discussion%20of%20this%20(and%20of%20how%20to%20define%20new%20colors)%20appears%20in%20the%20documentation%20of%20%22Glulx%20Text%20Effects%22,%20but%20an%20implementation%20sufficient%20to%20our%20purposes%20would%20be%5D%5Cn%5CnInclude%20Glulx%20Text%20Effects%20by%20Emily%20Short.%5Cn%5CnTable%20of%20User%20Styles%20(continued)%5Cnstyle%20name%5Ctglulx%20color%5Cnspecial-style-1%5Ctg-pure-red%5Cn%5CnTable%20of%20Common%20Color%20Values%20(continued)%5Cnglulx%20color%20value%5Ctassigned%20number%5Cng-pure-red%5Ct16711680%5Cn%5CnTo%20say%20red%20letters:%20say%20first%20custom%20style.%5Cn%5CnTo%20say%20default%20letters:%20say%20roman%20type.%5Cn%5Cn%5BFrom%20here,%20the%20rest%20of%20the%20source%20is%20mostly%20as%20we've%20seen%20in%20previous%20examples:%5D%5Cn%5CnSection%201%20-%20Cards%5Cn%5CnSuit%20is%20a%20kind%20of%20value.%20The%20suits%20are%20hearts,%20clubs,%20diamonds,%20and%20spades.%20Understand%20%22heart%22%20as%20hearts.%20Understand%20%22club%22%20as%20clubs.%20Understand%20%22diamond%22%20as%20diamonds.%20Understand%20%22spade%22%20as%20spades.%5Cn%5CnA%20card%20is%20a%20kind%20of%20thing.%20%20A%20card%20has%20a%20suit.%20A%20card%20has%20a%20number%20called%20rank.%20Understand%20the%20suit%20property%20as%20describing%20a%20card.%20Understand%20the%20rank%20property%20as%20describing%20a%20card.%5Cn%5Cn52%20cards%20are%20in%20the%20card%20repository.%5Cn%5CnTo%20say%20(count%20-%20a%20number)%20as%20a%20card%20value:%5Cn%5Ctchoose%20row%20count%20in%20the%20Table%20of%20Value%20Names;%5Cn%5Ctsay%20%22%5Bterm%20entry%5D%22.%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20card%20(called%20target):%5Cn%5Ctsay%20%22%5Brank%20of%20the%20target%20as%20a%20card%20value%5D%20of%20%5Bsuit%20of%20the%20target%5D%22%5Cn%5CnTo%20say%20(count%20-%20a%20number)%20as%20abbreviated%20value:%5Cn%5Ctchoose%20row%20count%20in%20the%20Table%20of%20Value%20Names;%5Cn%5Ctsay%20%22%5Babbrev%20entry%5D%22.%5Cn%5CnTable%20of%20Value%20Names%5Cnterm%5Ctvalue%5Ctabbrev%5Cttopic%5Cn%22ace%22%5Ct%221%22%5Ct%22A%22%5Ct%22ace/A%22%5Cn%22deuce%22%5Ct%222%22%5Ct%222%22%5Ct%22deuce/two%22%5Cn%22three%22%5Ct%223%22%5Ct%223%22%5Ct%22three%22%5Cn%22four%22%5Ct%224%22%5Ct%224%22%5Ct%22four%22%5Cn%22five%22%5Ct%225%22%5Ct%225%22%5Ct%22five%22%5Cn%22six%22%5Ct%226%22%5Ct%226%22%5Ct%22six%22%5Cn%22seven%22%5Ct%227%22%5Ct%227%22%5Ct%22seven%22%5Cn%22eight%22%5Ct%228%22%5Ct%228%22%5Ct%22eight%22%5Cn%22nine%22%5Ct%229%22%5Ct%229%22%5Ct%22nine%22%5Cn%22ten%22%5Ct%2210%22%5Ct%2210%22%5Ct%22ten%22%5Cn%22jack%22%5Ct%2211%22%5Ct%22J%22%5Ct%22jack/knave/J%22%5Cn%22queen%22%5Ct%2212%22%5Ct%22Q%22%5Ct%22queen/Q%22%5Cn%22king%22%5Ct%2213%22%5Ct%22K%22%5Ct%22king/K%22%5Cn%5CnAfter%20reading%20a%20command:%5Cn%5Ctif%20the%20player's%20command%20includes%20%22of%20%5Bsuit%5D%22:%5Cn%5Ct%5Ctwhile%20the%20player's%20command%20includes%20%22of%22:%5Cn%5Ct%5Ct%5Ctcut%20the%20matched%20text;%5Cn%5Ctrepeat%20through%20the%20Table%20of%20Value%20Names:%5Cn%5Ct%5Ctwhile%20the%20player's%20command%20includes%20topic%20entry:%5Cn%5Ct%5Ct%5Ctreplace%20the%20matched%20text%20with%20value%20entry.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctreconstitute%20deck.%5Cn%5CnTo%20reconstitute%20deck:%5Cn%5Ctlet%20current%20suit%20be%20hearts;%5Cn%5Ctnow%20every%20card%20is%20in%20the%20card%20repository;%5Cn%5Ctwhile%20a%20card%20is%20in%20the%20card%20repository:%5Cn%5Ct%5Ctrepeat%20with%20current%20rank%20running%20from%201%20to%2013:%5Cn%5Ct%5Ct%5Ctlet%20item%20be%20a%20random%20card%20in%20card%20repository;%5Cn%5Ct%5Ct%5Ctnow%20rank%20of%20item%20is%20current%20rank;%5Cn%5Ct%5Ct%5Ctnow%20suit%20of%20item%20is%20current%20suit;%5Cn%5Ct%5Ct%5Ctnow%20item%20is%20in%20the%20deck%20of%20cards;%5Cn%5Ct%5Ctnow%20current%20suit%20is%20the%20suit%20after%20the%20current%20suit.%5Cn%5CnSection%202%20-%20The%20Deck%20and%20the%20Discard%20Pile%5Cn%5CnThe%20Empty%20Room%20is%20a%20room.%20%22Nothing%20to%20see%20here.%22%5Cn%5CnThe%20deck%20of%20cards%20is%20in%20the%20Empty%20Room.%20It%20is%20a%20closed%20unopenable%20container.%20The%20description%20is%20%22A%20standard%20poker%20deck.%22%5Cn%5CnThe%20discard%20pile%20is%20a%20closed%20unopenable%20container.%20The%20description%20is%20%22Cards%20in%20this%20game%20are%20discarded%20face-down,%20so%20the%20discard%20pile%20is%20not%20very%20interesting%20to%20see.%20All%20you%20can%20observe%20is%20that%20it%20currently%20contains%20%5Bif%20the%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20is%20less%20than%20ten%5D%5Bthe%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20in%20words%5D%5Botherwise%5Dabout%20%5Bthe%20rounded%20number%20of%20cards%20which%20are%20in%20the%20discard%20pile%20in%20words%5D%5Bend%20if%5D%20card%5Bs%5D.%22%5Cn%5CnTo%20decide%20what%20number%20is%20the%20rounded%20number%20of%20(described%20set%20-%20a%20description%20of%20objects):%5Cn%5Ctlet%20N%20be%20the%20number%20of%20members%20of%20the%20described%20set;%5Cn%5Ctlet%20R%20be%20N%20divided%20by%205;%5Cn%5Ctlet%20total%20be%20R%20times%205;%5Cn%5Ctdecide%20on%20total.%5Cn%5CnRule%20for%20printing%20room%20description%20details%20of%20something:%20do%20nothing%20instead.%5Cn%5CnSection%203%20-%20Drawing%20and%20Discarding%20Actions%5Cn%5CnUnderstand%20the%20commands%20%22take%22%20and%20%22carry%22%20and%20%22hold%22%20and%20%22get%22%20and%20%22drop%22%20and%20%22throw%22%20and%20%22discard%22%20as%20something%20new.%5Cn%5CnUnderstand%20%22take%20%5Btext%5D%22%20or%20%22get%20%5Btext%5D%22%20or%20%22drop%20%5Btext%5D%22%20as%20a%20mistake%20(%22Here,%20you%20only%20draw%20and%20discard.%20Nothing%20else%20matters%20at%20the%20moment.%22).%5Cn%5CnUnderstand%20%22draw%22%20or%20%22draw%20card%22%20or%20%22draw%20a%20card%22%20as%20drawing.%20Drawing%20is%20an%20action%20applying%20to%20nothing.%20The%20drawing%20action%20has%20an%20object%20called%20the%20card%20drawn.%5Cn%5CnSetting%20action%20variables%20for%20drawing:%5Cn%5Ctnow%20the%20card%20drawn%20is%20a%20random%20card%20which%20is%20in%20the%20deck%20of%20cards.%5Cn%5CnCheck%20drawing:%5Cn%5Ctif%20the%20card%20drawn%20is%20nothing,%20say%20%22The%20deck%20is%20completely%20depleted.%22%20instead.%5Cn%5CnCheck%20drawing:%5Cn%5Ctif%20the%20number%20of%20cards%20carried%20by%20the%20player%20is%20greater%20than%20four,%5Cn%5Ct%5Ctsay%20%22This%20is%20a%20five-card%20game;%20you%20must%20discard%20something%20before%20drawing%20anything%20further.%22%20instead.%5Cn%5CnCarry%20out%20drawing:%5Cn%5Ctmove%20the%20card%20drawn%20to%20the%20player.%5Cn%5CnReport%20drawing:%5Cn%5Ctsay%20%22You%20draw%20%5Ba%20card%20drawn%5D.%22%5Cn%5Cn%5CnUnderstand%20%22discard%20%5Bcard%5D%22%20as%20discarding.%20Discarding%20is%20an%20action%20applying%20to%20one%20thing.%5Cn%5CnCheck%20discarding:%5Cn%5Ctif%20the%20player%20does%20not%20carry%20the%20noun,%20say%20%22You%20can%20only%20discard%20cards%20from%20your%20own%20hand.%22%20instead.%5Cn%5CnCarry%20out%20discarding:%5Cn%5Ctnow%20the%20noun%20is%20in%20the%20discard%20pile;%5Cn%5Ctif%20the%20discard%20pile%20is%20not%20visible,%20move%20the%20discard%20pile%20to%20the%20location.%5Cn%5CnReport%20discarding:%5Cn%5Ctsay%20%22You%20toss%20%5Bthe%20noun%5D%20nonchalantly%20onto%20the%20discard%20pile.%22%5Cn%5CnSection%204%20-%20Assessing%20Hands%5Cn%5CnBefore%20listing%20contents%20while%20taking%20inventory:%20group%20cards%20together.%5Cn%5CnBefore%20grouping%20together%20cards:%5Cn%5Ctif%20the%20number%20of%20cards%20carried%20by%20the%20player%20is%205:%5Cn%5Ct%5Ctsay%20%22%5Brun%20paragraph%20on%5D%22;%5Cn%5Ct%5Ctfollow%20the%20hand-ranking%20rules;%5Cn%5Ct%5Ctif%20the%20rule%20succeeded,%20say%20%22%5Bthe%20outcome%20of%20the%20rulebook%5D%22;%5Cn%5Ct%5Ctotherwise%20say%20%22some%20random%20cards%22;%5Cn%5Ct%5Ctif%20the%20outcome%20of%20the%20rulebook%20is%20pair%20outcome,%20say%20%22%20of%20%5Brank%20of%20the%20first%20thing%20held%20by%20the%20player%20as%20a%20card%20value%5Ds%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctsay%20%22%5Bnumber%20of%20cards%20carried%20by%20the%20player%20in%20words%5D%20assorted%20cards%22;%5Cn%5Ctsay%20%22%20(%22.%5Cn%5CnRule%20for%20grouping%20together%20cards:%5Cn%5Ctsay%20%22%5Blist%20hand%5D%22.%5Cn%5CnTo%20say%20list%20hand:%5Cn%5Ctlet%20chosen%20card%20be%20the%20first%20thing%20held%20by%20the%20player;%5Cn%5Ctwhile%20chosen%20card%20is%20a%20card:%5Cn%5Ct%5Ctsay%20%22%5Bchosen%20card%5D%22;%5Cn%5Ct%5Ctnow%20chosen%20card%20is%20the%20next%20thing%20held%20after%20chosen%20card;%5Cn%5Ct%5Ctif%20chosen%20card%20is%20a%20card,%20say%20%22-%22.%5Cn%5CnAfter%20grouping%20together%20cards:%5Cn%5Ctsay%20%22)%22.%5Cn%5CnThe%20hand-ranking%20rules%20is%20a%20rulebook.%20The%20hand-ranking%20rules%20have%20outcomes%20royal%20flush,%20straight%20flush,%20four%20of%20a%20kind,%20full%20house,%20flush,%20straight,%20three%20of%20a%20kind,%20two%20pairs,%20pair,%20high%20card.%5Cn%5CnThe%20hand-ranking%20rulebook%20has%20a%20truth%20state%20called%20the%20flushness.%5CnThe%20hand-ranking%20rulebook%20has%20a%20truth%20state%20called%20the%20straightness.%5Cn%5CnThe%20hand-ranking%20rulebook%20has%20a%20number%20called%20the%20pair%20count.%5CnThe%20hand-ranking%20rulebook%20has%20a%20number%20called%20the%20triple%20count.%5CnThe%20hand-ranking%20rulebook%20has%20a%20number%20called%20the%20quadruple%20count.%5Cn%5CnA%20card%20can%20be%20sorted%20or%20unsorted.%20A%20card%20is%20usually%20unsorted.%5Cn%5CnDefinition:%20a%20card%20is%20high%20if%20its%20rank%20is%2011%20or%20more.%5CnDefinition:%20a%20card%20is%20low%20if%20its%20rank%20is%204%20or%20less.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20initial%20sort%20rule):%5Cn%5Ctnow%20every%20card%20is%20unsorted;%5Cn%5Ctwhile%20the%20player%20carries%20an%20unsorted%20card:%5Cn%5Ct%5Ctlet%20item%20be%20the%20lowest%20unsorted%20card%20held%20by%20the%20player;%5Cn%5Ct%5Ctmove%20item%20to%20the%20player;%5Cn%5Ct%5Ctnow%20the%20item%20is%20sorted;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20initial%20sort:%20%5Blist%20hand%5D%22.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20finding%20flushness%20rule):%5Cn%5Ctlet%20called%20suit%20be%20the%20suit%20of%20a%20random%20card%20carried%20by%20the%20player;%5Cn%5Ctif%20every%20card%20carried%20by%20the%20player%20is%20called%20suit,%20now%20flushness%20is%20true.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20finding%20straightness%20rule):%5Cn%5Ctnow%20straightness%20is%20true;%5Cn%5Ctlet%20N%20be%20the%20rank%20of%20the%20highest%20card%20which%20is%20carried%20by%20the%20player;%5Cn%5Ctrepeat%20with%20current%20rank%20running%20from%20N%20-%204%20to%20N:%5Cn%5Ct%5Ctnow%20the%20test%20rank%20is%20the%20current%20rank;%5Cn%5Ct%5Ctunless%20the%20player%20carries%20a%20matching%20card:%5Cn%5Ct%5Ct%5Ctif%20the%20current%20rank%20is%20N%20-%204%20and%20the%20current%20rank%20is%209%20and%20the%20player%20carries%20an%20ace%20card,%20do%20nothing;%5Cn%5Ct%5Ct%5Ctotherwise%20now%20straightness%20is%20false.%5Cn%5CnA%20card%20can%20be%20quadrupled,%20tripled,%20paired%20or%20uncombined.%5Cn%5CnTest%20rank%20is%20a%20number%20that%20varies.%20Definition:%20a%20card%20is%20matching%20if%20its%20rank%20is%20the%20test%20rank.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20counting%20multiples%20rule):%5Cn%5Ctnow%20every%20card%20is%20uncombined;%5Cn%5Ctrepeat%20with%20current%20rank%20running%20from%201%20to%2013:%5Cn%5Ct%5Ctnow%20test%20rank%20is%20current%20rank;%5Cn%5Ct%5Ctlet%20N%20be%20the%20number%20of%20matching%20cards%20held%20by%20the%20player;%5Cn%5Ct%5Ctif%20N%20is%204:%5Cn%5Ct%5Ct%5Ctincrement%20the%20quadruple%20count;%5Cn%5Ct%5Ct%5Ctnow%20every%20matching%20card%20held%20by%20the%20player%20is%20quadrupled;%5Cn%5Ct%5Ctif%20N%20is%203:%5Cn%5Ct%5Ct%5Ctincrement%20the%20triple%20count;%5Cn%5Ct%5Ct%5Ctnow%20every%20matching%20card%20held%20by%20the%20player%20is%20tripled;%5Cn%5Ct%5Ctif%20N%20is%202:%5Cn%5Ct%5Ct%5Ctincrement%20the%20pair%20count;%5Cn%5Ct%5Ct%5Ctnow%20every%20matching%20card%20held%20by%20the%20player%20is%20paired.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20move%20aces%20up%20unless%20there's%20a%20low%20straight%20rule):%5Cn%5Ctunless%20the%20straightness%20is%20true%20and%20the%20lowest%20card%20carried%20by%20the%20player%20is%20an%20ace%20card%20and%20the%20rank%20of%20the%20highest%20card%20carried%20by%20the%20player%20is%205,%5Cn%5Ct%5Ctnow%20every%20ace%20card%20which%20is%20carried%20by%20the%20player%20is%20carried%20by%20the%20player;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20ace%20movement%20rule:%20%5Blist%20hand%5D%22.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20move%20pairs%20forward%20rule):%5Cn%5Ctwhile%20the%20player%20carries%20a%20paired%20card:%5Cn%5Ct%5Ctlet%20selection%20be%20the%20lowest%20paired%20card%20which%20is%20carried%20by%20the%20player;%5Cn%5Ct%5Ctmove%20the%20selection%20to%20the%20player;%5Cn%5Ct%5Ctnow%20the%20selection%20is%20uncombined;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20pairs%20movement:%20%5Blist%20hand%5D%22.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20raise%20ace%20pairs%20rule):%5Cn%5Ctif%20the%20player%20carries%20exactly%20two%20ace%20cards:%5Cn%5Ct%5Ctrepeat%20with%20item%20running%20through%20ace%20cards%20which%20are%20carried%20by%20the%20player:%5Cn%5Ct%5Ct%5Ctmove%20item%20to%20the%20player;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20paired-ace%20movement:%20%5Blist%20hand%5D%22.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20move%20multiples%20forward%20rule):%5Cn%5Ctwhile%20the%20player%20carries%20a%20tripled%20card:%5Cn%5Ct%5Ctlet%20selection%20be%20the%20lowest%20tripled%20card%20which%20is%20carried%20by%20the%20player;%5Cn%5Ct%5Ctmove%20the%20selection%20to%20the%20player;%5Cn%5Ct%5Ctnow%20the%20selection%20is%20uncombined;%5Cn%5Ctwhile%20the%20player%20carries%20a%20quadrupled%20card:%5Cn%5Ct%5Ctlet%20selection%20be%20the%20lowest%20quadrupled%20card%20which%20is%20carried%20by%20the%20player;%5Cn%5Ct%5Ctmove%20the%20selection%20to%20the%20player;%5Cn%5Ct%5Ctnow%20the%20selection%20is%20uncombined;%5Cn%5Ctif%20sort-debugging%20is%20true,%20say%20%22--%20after%20multiples%20movement%20rule:%20%5Blist%20hand%5D%22.%5Cn%5CnDefinition:%20a%20card%20is%20ace%20if%20its%20rank%20is%201.%5CnDefinition:%20a%20card%20is%20king%20if%20its%20rank%20is%2013.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20royal-flush%20rule):%5Cn%5Ctif%20flushness%20is%20true%20and%20straightness%20is%20true%20and%20the%20highest%20card%20carried%20by%20the%20player%20is%20king%20and%20the%20lowest%20card%20carried%20by%20the%20player%20is%20ace,%20royal%20flush.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20straight-flushes%20rule):%5Cn%5Ctif%20flushness%20is%20true%20and%20straightness%20is%20true,%20straight%20flush.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20four-of-a-kind%20rule):%5Cn%5Ctif%20the%20quadruple%20count%20is%201,%20four%20of%20a%20kind.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20full-house%20rule):%5Cn%5Ctif%20the%20pair%20count%20is%201%20and%20the%20triple%20count%20is%201,%20full%20house.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20flushes%20rule):%5Cn%5Ctif%20flushness%20is%20true,%20flush.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20straights%20rule):%5Cn%5Ctif%20straightness%20is%20true,%20straight.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20three-of-a-kind%20rule):%5Cn%5Ctif%20triple%20count%20is%201,%20three%20of%20a%20kind.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20two-pair%20rule):%5Cn%5Ctif%20the%20pair%20count%20is%202,%20two%20pairs.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20pair%20rule):%5Cn%5Ctif%20the%20pair%20count%20is%201,%20pair.%5Cn%5CnA%20hand-ranking%20rule%20(this%20is%20the%20default%20rule):%5Cn%5Cthigh%20card.%5Cn%5CnSort-debugging%20is%20a%20truth%20state%20that%20varies.%5Cn%5CnSection%205%20-%20Testing%20hand%20identification%20-%20Not%20for%20release%5Cn%5CnUnderstand%20%22debug%20sorting%22%20as%20debugging%20hand%20sorting.%20Debugging%20hand%20sorting%20is%20an%20action%20out%20of%20world.%5Cn%5CnCarry%20out%20debugging%20hand%20sorting:%5Cn%5Ctif%20sort-debugging%20is%20false,%20now%20sort-debugging%20is%20true;%5Cn%5Ctotherwise%20now%20sort-debugging%20is%20false.%5Cn%5CnReport%20debugging%20hand%20sorting:%5Cn%5Ctsay%20%22Sort%20debugging%20is%20now%20%5Bif%20sort-debugging%20is%20true%5Don%5Botherwise%5Doff%5Bend%20if%5D.%22%5Cn%5CnTest%20me%20with%20%22draw%20/%20g%20/%20g%20/%20g%20/%20g%20/%20force%20hand%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%20/%20g%22.%5Cn%5CnTable%20of%20Testing%20Hands%5Cnset%20suit%5Ctset%20rank%5Cnspades%5Ct1%5Ct%5Broyal%20flush%5D%5Cnspades%5Ct13%5Cnspades%5Ct12%5Cnspades%5Ct11%5Cnspades%5Ct10%5Cnclubs%5Ct12%5Ct%5Bstraight%20flush%5D%5Cnclubs%5Ct11%5Cnclubs%5Ct10%5Cnclubs%5Ct9%5Cnclubs%5Ct8%5Cndiamonds%5Ct8%5Ct%5Bfour%20of%20a%20kind%5D%5Cnhearts%5Ct8%5Cnspades%5Ct8%5Cnclubs%5Ct8%5Cnclubs%5Ct3%5Cnclubs%5Ct1%5Ct%5Bfull%20house%5D%5Cnspades%5Ct1%5Cnhearts%5Ct10%5Cnspades%5Ct10%5Cnclubs%5Ct10%5Cnhearts%5Ct2%5Ct%5Bflush%5D%5Cnhearts%5Ct5%5Cnhearts%5Ct7%5Cnhearts%5Ct11%5Cnhearts%5Ct12%5Cnhearts%5Ct1%5Ct%5Bstraight%5D%5Cnspades%5Ct13%5Cndiamonds%5Ct12%5Cnclubs%5Ct11%5Cnhearts%5Ct10%5Cnhearts%5Ct2%5Ct%5Bthree%20of%20a%20kind%5D%5Cnspades%5Ct2%5Cnclubs%5Ct2%5Cnclubs%5Ct4%5Cnspades%5Ct3%5Cndiamonds%5Ct6%5Ct%5Btwo%20pairs%5D%5Cnspades%5Ct6%5Cnclubs%5Ct7%5Cndiamonds%5Ct7%5Cnhearts%5Ct9%5Cndiamonds%5Ct6%5Ct%5Btwo%20pairs,%20ace%20high%5D%5Cnspades%5Ct6%5Cnclubs%5Ct1%5Cndiamonds%5Ct7%5Cnhearts%5Ct1%5Cnhearts%5Ct12%5Ct%5Bpair%5D%5Cnspades%5Ct12%5Cndiamonds%5Ct10%5Cnspades%5Ct7%5Cnclubs%5Ct4%5Cndiamonds%5Ct13%5Ct%5Bhigh%5D%5Cnhearts%5Ct11%5Cnspades%5Ct9%5Cnclubs%5Ct7%5Cndiamonds%5Ct5%5Cnhearts%5Ct1%5Ct%5Btricky%20sorting:%20low%20straight%5D%5Cndiamonds%5Ct2%5Cnspades%5Ct3%5Cndiamonds%5Ct4%5Cndiamonds%5Ct5%5Cn%5CnUnderstand%20%22force%20hand%22%20as%20forcing%20a%20hand.%20Forcing%20a%20hand%20is%20an%20action%20out%20of%20world.%5Cn%5CnCurrent%20marker%20is%20a%20number%20that%20varies.%5Cn%5CnCarry%20out%20forcing%20a%20hand:%5Cn%5Ctrepeat%20with%20item%20running%20through%20cards%20which%20are%20carried%20by%20the%20player:%5Cn%5Ct%5Ctincrement%20current%20marker;%5Cn%5Ct%5Ctif%20current%20marker%20is%20greater%20than%20the%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Testing%20Hands,%20now%20current%20marker%20is%201;%5Cn%5Ct%5Ctchoose%20row%20current%20marker%20in%20the%20Table%20of%20Testing%20Hands;%5Cn%5Ct%5Ctnow%20the%20suit%20of%20item%20is%20the%20set%20suit%20entry;%5Cn%5Ct%5Ctnow%20the%20rank%20of%20item%20is%20the%20set%20rank%20entry.%5Cn%5CnReport%20forcing%20a%20hand:%5Cn%5Cttry%20taking%20inventory.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Tilt"
</p>
<p class="quoted">
Section 0 - Colored Output in Two Forms
</p>
</div>
<p>For the suit symbols, we'll want the Unicode extension included with Inform:</p>

<div class="code">
<p class="quoted">
Include Unicode Character Names by Graham Nelson.
</p>
<p class="quoted">
Rule for printing the name of a card (called target) while grouping together:
<br>    say "[rank of the target as abbreviated value][suit of the target as symbol]".
</p>
<p class="quoted">
To say (current suit - a suit) as symbol:
<br>    if current suit is diamonds, say "[red letters][unicode black diamond suit][default letters]";
<br>    if current suit is spades, say "[unicode black spade suit]";
<br>    if current suit is clubs, say "[unicode black club suit]";
<br>    if current suit is hearts, say "[red letters][unicode black heart suit][default letters]".
</p>
<p class="quoted">
Section 0Z (for Z-machine only)
</p>
</div>
<p>The Basic Screen Effects extension bundled with Inform includes mechanisms to change the text color, so for the Z-machine, we need only include this:</p>

<div class="code">
<p class="quoted">
Include Basic Screen Effects by Emily Short.
</p>
<p class="quoted">
Section 0G (for Glulx only)
</p>
</div>
<p>Under Glulx, we need slightly more set-up: Glulx requires that we define special user font styles when we plan to make display changes. A fuller discussion of this (and of how to define new colors) appears in the documentation of "Glulx Text Effects", but an implementation sufficient to our purposes would be</p>

<div class="code">
<p class="quoted">
Include Glulx Text Effects by Emily Short.
</p>
<p class="quoted">
Table of User Styles (continued)
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">style name</p></td>
<td class="quotedtablecell"><p class="quoted">glulx color</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">special-style-1</p></td>
<td class="quotedtablecell"><p class="quoted">g-pure-red</p></td>
</tr>
</table>
<p class="quoted">
Table of Common Color Values (continued)
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">glulx color value</p></td>
<td class="quotedtablecell"><p class="quoted">assigned number</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">g-pure-red</p></td>
<td class="quotedtablecell"><p class="quoted">16711680</p></td>
</tr>
</table>
<p class="quoted">
To say red letters: say first custom style.
</p>
<p class="quoted">
To say default letters: say roman type.
</p>
</div>
<p>From here, the rest of the source is mostly as we've seen in previous examples:</p>

<div class="code">
<p class="quoted">
Section 1 - Cards
</p>
<p class="quoted">
Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand "heart" as hearts. Understand "club" as clubs. Understand "diamond" as diamonds. Understand "spade" as spades.
</p>
<p class="quoted">
A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</p>
<p class="quoted">
52 cards are in the card repository.
</p>
<p class="quoted">
To say (count - a number) as a card value:
<br>    choose row count in the Table of Value Names;
<br>    say "[term entry]".
</p>
<p class="quoted">
Rule for printing the name of a card (called target):
<br>    say "[rank of the target as a card value] of [suit of the target]"
</p>
<p class="quoted">
To say (count - a number) as abbreviated value:
<br>    choose row count in the Table of Value Names;
<br>    say "[abbrev entry]".
</p>
<p class="quoted">
Table of Value Names
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">term</p></td>
<td class="quotedtablecell"><p class="quoted">value</p></td>
<td class="quotedtablecell"><p class="quoted">abbrev</p></td>
<td class="quotedtablecell"><p class="quoted">topic</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"ace"</p></td>
<td class="quotedtablecell"><p class="quoted">"1"</p></td>
<td class="quotedtablecell"><p class="quoted">"A"</p></td>
<td class="quotedtablecell"><p class="quoted">"ace/A"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"deuce"</p></td>
<td class="quotedtablecell"><p class="quoted">"2"</p></td>
<td class="quotedtablecell"><p class="quoted">"2"</p></td>
<td class="quotedtablecell"><p class="quoted">"deuce/two"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"three"</p></td>
<td class="quotedtablecell"><p class="quoted">"3"</p></td>
<td class="quotedtablecell"><p class="quoted">"3"</p></td>
<td class="quotedtablecell"><p class="quoted">"three"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"four"</p></td>
<td class="quotedtablecell"><p class="quoted">"4"</p></td>
<td class="quotedtablecell"><p class="quoted">"4"</p></td>
<td class="quotedtablecell"><p class="quoted">"four"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"five"</p></td>
<td class="quotedtablecell"><p class="quoted">"5"</p></td>
<td class="quotedtablecell"><p class="quoted">"5"</p></td>
<td class="quotedtablecell"><p class="quoted">"five"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"six"</p></td>
<td class="quotedtablecell"><p class="quoted">"6"</p></td>
<td class="quotedtablecell"><p class="quoted">"6"</p></td>
<td class="quotedtablecell"><p class="quoted">"six"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"seven"</p></td>
<td class="quotedtablecell"><p class="quoted">"7"</p></td>
<td class="quotedtablecell"><p class="quoted">"7"</p></td>
<td class="quotedtablecell"><p class="quoted">"seven"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"eight"</p></td>
<td class="quotedtablecell"><p class="quoted">"8"</p></td>
<td class="quotedtablecell"><p class="quoted">"8"</p></td>
<td class="quotedtablecell"><p class="quoted">"eight"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"nine"</p></td>
<td class="quotedtablecell"><p class="quoted">"9"</p></td>
<td class="quotedtablecell"><p class="quoted">"9"</p></td>
<td class="quotedtablecell"><p class="quoted">"nine"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"ten"</p></td>
<td class="quotedtablecell"><p class="quoted">"10"</p></td>
<td class="quotedtablecell"><p class="quoted">"10"</p></td>
<td class="quotedtablecell"><p class="quoted">"ten"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"jack"</p></td>
<td class="quotedtablecell"><p class="quoted">"11"</p></td>
<td class="quotedtablecell"><p class="quoted">"J"</p></td>
<td class="quotedtablecell"><p class="quoted">"jack/knave/J"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"queen"</p></td>
<td class="quotedtablecell"><p class="quoted">"12"</p></td>
<td class="quotedtablecell"><p class="quoted">"Q"</p></td>
<td class="quotedtablecell"><p class="quoted">"queen/Q"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">"king"</p></td>
<td class="quotedtablecell"><p class="quoted">"13"</p></td>
<td class="quotedtablecell"><p class="quoted">"K"</p></td>
<td class="quotedtablecell"><p class="quoted">"king/K"</p></td>
</tr>
</table>
<p class="quoted">
After reading a command:
<br>    if the player's command includes "of [suit]":
<br>        while the player's command includes "of":
<br>            cut the matched text;
<br>    repeat through the Table of Value Names:
<br>        while the player's command includes topic entry:
<br>            replace the matched text with value entry.
</p>
<p class="quoted">
When play begins:
<br>    reconstitute deck.
</p>
<p class="quoted">
To reconstitute deck:
<br>    let current suit be hearts;
<br>    now every card is in the card repository;
<br>    while a card is in the card repository:
<br>        repeat with current rank running from 1 to 13:
<br>            let item be a random card in card repository;
<br>            now rank of item is current rank;
<br>            now suit of item is current suit;
<br>            now item is in the deck of cards;
<br>        now current suit is the suit after the current suit.
</p>
<p class="quoted">
Section 2 - The Deck and the Discard Pile
</p>
<p class="quoted">
The Empty Room is a room. "Nothing to see here."
</p>
<p class="quoted">
The deck of cards is in the Empty Room. It is a closed unopenable container. The description is "A standard poker deck."
</p>
<p class="quoted">
The discard pile is a closed unopenable container. The description is "Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s]."
</p>
<p class="quoted">
To decide what number is the rounded number of (described set - a description of objects):
<br>    let N be the number of members of the described set;
<br>    let R be N divided by 5;
<br>    let total be R times 5;
<br>    decide on total.
</p>
<p class="quoted">
Rule for printing room description details of something: do nothing instead.
</p>
<p class="quoted">
Section 3 - Drawing and Discarding Actions
</p>
<p class="quoted">
Understand the commands "take" and "carry" and "hold" and "get" and "drop" and "throw" and "discard" as something new.
</p>
<p class="quoted">
Understand "take [text]" or "get [text]" or "drop [text]" as a mistake ("Here, you only draw and discard. Nothing else matters at the moment.").
</p>
<p class="quoted">
Understand "draw" or "draw card" or "draw a card" as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</p>
<p class="quoted">
Setting action variables for drawing:
<br>    now the card drawn is a random card which is in the deck of cards.
</p>
<p class="quoted">
Check drawing:
<br>    if the card drawn is nothing, say "The deck is completely depleted." instead.
</p>
<p class="quoted">
Check drawing:
<br>    if the number of cards carried by the player is greater than four,
<br>        say "This is a five-card game; you must discard something before drawing anything further." instead.
</p>
<p class="quoted">
Carry out drawing:
<br>    move the card drawn to the player.
</p>
<p class="quoted">
Report drawing:
<br>    say "You draw [a card drawn]."
</p>
<p class="quoted">
Understand "discard [card]" as discarding. Discarding is an action applying to one thing.
</p>
<p class="quoted">
Check discarding:
<br>    if the player does not carry the noun, say "You can only discard cards from your own hand." instead.
</p>
<p class="quoted">
Carry out discarding:
<br>    now the noun is in the discard pile;
<br>    if the discard pile is not visible, move the discard pile to the location.
</p>
<p class="quoted">
Report discarding:
<br>    say "You toss [the noun] nonchalantly onto the discard pile."
</p>
<p class="quoted">
Section 4 - Assessing Hands
</p>
<p class="quoted">
Before listing contents while taking inventory: group cards together.
</p>
<p class="quoted">
Before grouping together cards:
<br>    if the number of cards carried by the player is 5:
<br>        say "[run paragraph on]";
<br>        follow the hand-ranking rules;
<br>        if the rule succeeded, say "[the outcome of the rulebook]";
<br>        otherwise say "some random cards";
<br>        if the outcome of the rulebook is pair outcome, say " of [rank of the first thing held by the player as a card value]s";
<br>    otherwise:
<br>        say "[number of cards carried by the player in words] assorted cards";
<br>    say " (".
</p>
<p class="quoted">
Rule for grouping together cards:
<br>    say "[list hand]".
</p>
<p class="quoted">
To say list hand:
<br>    let chosen card be the first thing held by the player;
<br>    while chosen card is a card:
<br>        say "[chosen card]";
<br>        now chosen card is the next thing held after chosen card;
<br>        if chosen card is a card, say "-".
</p>
<p class="quoted">
After grouping together cards:
<br>    say ")".
</p>
<p class="quoted">
The hand-ranking rules is a rulebook. The hand-ranking rules have outcomes royal flush, straight flush, four of a kind, full house, flush, straight, three of a kind, two pairs, pair, high card.
</p>
<p class="quoted">
The hand-ranking rulebook has a truth state called the flushness.
<br>The hand-ranking rulebook has a truth state called the straightness.
</p>
<p class="quoted">
The hand-ranking rulebook has a number called the pair count.
<br>The hand-ranking rulebook has a number called the triple count.
<br>The hand-ranking rulebook has a number called the quadruple count.
</p>
<p class="quoted">
A card can be sorted or unsorted. A card is usually unsorted.
</p>
<p class="quoted">
Definition: a card is high if its rank is 11 or more.
<br>Definition: a card is low if its rank is 4 or less.
</p>
<p class="quoted">
A hand-ranking rule (this is the initial sort rule):
<br>    now every card is unsorted;
<br>    while the player carries an unsorted card:
<br>        let item be the lowest unsorted card held by the player;
<br>        move item to the player;
<br>        now the item is sorted;
<br>    if sort-debugging is true, say "-- after initial sort: [list hand]".
</p>
<p class="quoted">
A hand-ranking rule (this is the finding flushness rule):
<br>    let called suit be the suit of a random card carried by the player;
<br>    if every card carried by the player is called suit, now flushness is true.
</p>
<p class="quoted">
A hand-ranking rule (this is the finding straightness rule):
<br>    now straightness is true;
<br>    let N be the rank of the highest card which is carried by the player;
<br>    repeat with current rank running from N - 4 to N:
<br>        now the test rank is the current rank;
<br>        unless the player carries a matching card:
<br>            if the current rank is N - 4 and the current rank is 9 and the player carries an ace card, do nothing;
<br>            otherwise now straightness is false.
</p>
<p class="quoted">
A card can be quadrupled, tripled, paired or uncombined.
</p>
<p class="quoted">
Test rank is a number that varies. Definition: a card is matching if its rank is the test rank.
</p>
<p class="quoted">
A hand-ranking rule (this is the counting multiples rule):
<br>    now every card is uncombined;
<br>    repeat with current rank running from 1 to 13:
<br>        now test rank is current rank;
<br>        let N be the number of matching cards held by the player;
<br>        if N is 4:
<br>            increment the quadruple count;
<br>            now every matching card held by the player is quadrupled;
<br>        if N is 3:
<br>            increment the triple count;
<br>            now every matching card held by the player is tripled;
<br>        if N is 2:
<br>            increment the pair count;
<br>            now every matching card held by the player is paired.
</p>
<p class="quoted">
A hand-ranking rule (this is the move aces up unless there's a low straight rule):
<br>    unless the straightness is true and the lowest card carried by the player is an ace card and the rank of the highest card carried by the player is 5,
<br>        now every ace card which is carried by the player is carried by the player;
<br>    if sort-debugging is true, say "-- after ace movement rule: [list hand]".
</p>
<p class="quoted">
A hand-ranking rule (this is the move pairs forward rule):
<br>    while the player carries a paired card:
<br>        let selection be the lowest paired card which is carried by the player;
<br>        move the selection to the player;
<br>        now the selection is uncombined;
<br>    if sort-debugging is true, say "-- after pairs movement: [list hand]".
</p>
<p class="quoted">
A hand-ranking rule (this is the raise ace pairs rule):
<br>    if the player carries exactly two ace cards:
<br>        repeat with item running through ace cards which are carried by the player:
<br>            move item to the player;
<br>    if sort-debugging is true, say "-- after paired-ace movement: [list hand]".
</p>
<p class="quoted">
A hand-ranking rule (this is the move multiples forward rule):
<br>    while the player carries a tripled card:
<br>        let selection be the lowest tripled card which is carried by the player;
<br>        move the selection to the player;
<br>        now the selection is uncombined;
<br>    while the player carries a quadrupled card:
<br>        let selection be the lowest quadrupled card which is carried by the player;
<br>        move the selection to the player;
<br>        now the selection is uncombined;
<br>    if sort-debugging is true, say "-- after multiples movement rule: [list hand]".
</p>
<p class="quoted">
Definition: a card is ace if its rank is 1.
<br>Definition: a card is king if its rank is 13.
</p>
<p class="quoted">
A hand-ranking rule (this is the royal-flush rule):
<br>    if flushness is true and straightness is true and the highest card carried by the player is king and the lowest card carried by the player is ace, royal flush.
</p>
<p class="quoted">
A hand-ranking rule (this is the straight-flushes rule):
<br>    if flushness is true and straightness is true, straight flush.
</p>
<p class="quoted">
A hand-ranking rule (this is the four-of-a-kind rule):
<br>    if the quadruple count is 1, four of a kind.
</p>
<p class="quoted">
A hand-ranking rule (this is the full-house rule):
<br>    if the pair count is 1 and the triple count is 1, full house.
</p>
<p class="quoted">
A hand-ranking rule (this is the flushes rule):
<br>    if flushness is true, flush.
</p>
<p class="quoted">
A hand-ranking rule (this is the straights rule):
<br>    if straightness is true, straight.
</p>
<p class="quoted">
A hand-ranking rule (this is the three-of-a-kind rule):
<br>    if triple count is 1, three of a kind.
</p>
<p class="quoted">
A hand-ranking rule (this is the two-pair rule):
<br>    if the pair count is 2, two pairs.
</p>
<p class="quoted">
A hand-ranking rule (this is the pair rule):
<br>    if the pair count is 1, pair.
</p>
<p class="quoted">
A hand-ranking rule (this is the default rule):
<br>    high card.
</p>
<p class="quoted">
Sort-debugging is a truth state that varies.
</p>
<p class="quoted">
Section 5 - Testing hand identification - Not for release
</p>
<p class="quoted">
Understand "debug sorting" as debugging hand sorting. Debugging hand sorting is an action out of world.
</p>
<p class="quoted">
Carry out debugging hand sorting:
<br>    if sort-debugging is false, now sort-debugging is true;
<br>    otherwise now sort-debugging is false.
</p>
<p class="quoted">
Report debugging hand sorting:
<br>    say "Sort debugging is now [if sort-debugging is true]on[otherwise]off[end if]."
</p>
<p class="quoted">
Test me with "draw / g / g / g / g / force hand / g / g / g / g / g / g / g / g / g / g / g / g".
</p>
<p class="quoted">
Table of Testing Hands
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">set suit</p></td>
<td class="quotedtablecell"><p class="quoted">set rank</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">[royal flush]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
<td class="quotedtablecell"><p class="quoted">[straight flush]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
<td class="quotedtablecell"><p class="quoted">[four of a kind]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">8</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">[full house]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">[flush]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">[straight]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
<td class="quotedtablecell"><p class="quoted">[three of a kind]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
<td class="quotedtablecell"><p class="quoted">[two pairs]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
<td class="quotedtablecell"><p class="quoted">[two pairs, ace high]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">6</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
<td class="quotedtablecell"><p class="quoted">[pair]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">12</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">10</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">13</p></td>
<td class="quotedtablecell"><p class="quoted">[high]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">11</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">9</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">clubs</p></td>
<td class="quotedtablecell"><p class="quoted">7</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">hearts</p></td>
<td class="quotedtablecell"><p class="quoted">1</p></td>
<td class="quotedtablecell"><p class="quoted">[tricky sorting: low straight]</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">2</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">spades</p></td>
<td class="quotedtablecell"><p class="quoted">3</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">4</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">diamonds</p></td>
<td class="quotedtablecell"><p class="quoted">5</p></td>
</tr>
</table>
<p class="quoted">
Understand "force hand" as forcing a hand. Forcing a hand is an action out of world.
</p>
<p class="quoted">
Current marker is a number that varies.
</p>
<p class="quoted">
Carry out forcing a hand:
<br>    repeat with item running through cards which are carried by the player:
<br>        increment current marker;
<br>        if current marker is greater than the number of filled rows in the Table of Testing Hands, now current marker is 1;
<br>        choose row current marker in the Table of Testing Hands;
<br>        now the suit of item is the set suit entry;
<br>        now the rank of item is the set rank entry.
</p>
<p class="quoted">
Report forcing a hand:
<br>    try taking inventory.
</p>
</div>
</div>
<div class="linkback">
<a href="wi_27.html#wi-27.7">WI §27.7. Extensions and story file formats</a><br><a href="rb_12.html#rb-12.1">RB §12.1. Typography</a>
</div></details><details class="full-example" id="example-70"><summary><span class="example-summary">70. The Über-complète clavier</span> <span class="example-difficulty">★★★</span></summary><div>
<p>The following example puts Inform's support for exotic lettering through its paces. It was useful in testing Inform but is not a very instructive read: still, it does provide a test story file for interpreters, so we are including the source here as an example.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22The%20%C3%9Cber-compl%C3%A8te%20clavier%22%5Cn%5CnThe%20story%20headline%20is%20%22Pushing%20the%20Limits%20of%20Unicode%20in%20IF%22.%20The%20story%20description%20is%20%22This%20is%20a%20demanding%20test%20for%20Unicode%20compliance%20by%20Z-machine%20interpreters.%22%5Cn%5CnInclude%20Unicode%20Character%20Names%20by%20Graham%20Nelson.%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%5Cn%5CnThe%20Ch%C3%A2teau%20Biblioth%C3%A8que%20Fran%C3%A7ais%20is%20east%20of%20the%20Deutsche%20Universit%C3%A4t%20B%C3%BCcherei.%20%22From%20this%20Borgesian%20construction,%20doorways%20lead%20into%20anterooms%20in%20each%20of%20the%20four%20cardinal%20directions.%22%20South%20of%20the%20Biblioth%C3%A8que%20is%20the%20Miscellany%20Ma%C3%B1ana.%20North%20of%20the%20Biblioth%C3%A8que%20is%20the%20%C3%8Dslendingab%C3%B3k.%20East%20of%20the%20Biblioth%C3%A8que%20is%20Alphabet%20Soup.%5Cn%5CnA%20framed%20photograph%20of%20Icelandic%20Prime%20Minister%20Halld%C3%B3r%20%C3%81sgr%C3%ADmsson,%20a%20ruler%20measuring%20%C3%85ngstr%C3%B6ms,%20a%20Bokm%C3%A5l-L%C3%ABtzebuergesch%20L%C3%ABtzebuergesch-Bokm%C3%A5l%20dictionary%20and%20a%20ticket%20to%20Troms%C3%B8%20via%20%C3%98stfold%20are%20in%20the%20%C3%8Dslendingab%C3%B3k.%5Cn%5CnA%20paper%20by%20Karl%20Weierstra%C3%9F,%20a%20general%20feeling%20of%20%C3%84rger,%20an%20old%20%C3%96sterreich%20passport%20and%20the%20Bach%20Clavier-%C3%9Cbung%20open%20at%20the%20fugue%20%C3%A0%204%20are%20in%20the%20B%C3%BCcherei.%5Cn%5CnThe%20painting%20of%20%C3%89cole%20normale%20superi%C3%A9ure%20students%20singing%20%C3%87a%20ira,%20the%20frankly%20lesser-known%20journal%20of%20Niccol%C3%B2%20Polo,%20Cos%C3%AC%20fan%20tutte%20on%20CD,%20an%20extract%20of%20Herodotus%20concerning%20Arta%C3%BFctes%20and%20the%20exit%20sign%20reading%20%C3%80%20BIENT%C3%94T%20are%20in%20the%20Biblioth%C3%A8que.%5Cn%5CnA%20wicker%20basket%20marked%20CHLO%C3%8B%20is%20in%20the%20Biblioth%C3%A8que.%20A%20ginger%20cat%20is%20in%20the%20basket.%5Cn%5CnA%20guide%20to%20%C3%86sop%20for%20na%C3%AFve%20%C3%A6sthetes,%20L%C3%B6nnrot's%20Kalevala,%20a%20creed%20according%20to%20the%20Bah%C3%A1'%C3%ADs,%20FALAR%C3%83O%20magazine,%20an%20Estonian%20poem%20by%20T%C3%B5nu%20Trubetsky,%20a%20Portuguese-Italian%20recipe%20for%20macarr%C3%A3o,%20a%20stripy%20hanging%20CANDY%20PI%C3%91ATA%20bag,%20a%20%C2%BF%C2%A1Punctuation%20Turned%20Upside%20Down%C2%BF%C2%A1%20pamphlet,%20an%20Italian%20brewers'%20anti-violence%20poster%20declaring%20%20B%C3%93TTE%20NON%20B%C3%92TTE,%20a%20map%20of%20%C3%88%20and%20a%20dusty%20book%20titled%20The%20Parnasum%20of%20Lu%C3%ADs%20Vaz%20bearing%20CAM%C3%95ES%20on%20its%20spine%20are%20in%20Miscellany%20Ma%C3%B1ana.%5Cn%5CnThe%20description%20of%20the%20map%20is%20%22%C3%88%20is%20a%20province%20in%20the%20People's%20Republic%20of%20China.%22%5Cn%5CnIn%20Ma%C3%B1ana%20is%20something%20called%20%C3%82%C3%8A%C3%8E%C3%94%C3%9B%20-%20The%20Official%20Journal%20of%20the%20Society%20for%20Vowels%20bearing%20Circumflexes.%5Cn%5CnIn%20Ma%C3%B1ana%20is%20something%20called%20%C3%A2%C3%AA%C3%AE%C3%B4%C3%BB%20comic%20-%20the%20youth%20edition.%5Cn%5CnThe%20description%20of%20Alphabet%20Soup%20is%20%22A%20bewildering%20place%20of%20glyphs,%20sigils%20and%20signs.%20The%20Library%20proper%20leads%20back%20west:%20steps%20lead%20upwards%20to%20an%20Observatory,%20or%20downwards%20into%20what%20seems%20to%20be%20a%20dangerous%20area.%20A%20gaming%20lounge%20lies%20to%20the%20south.%22%5Cn%5CnThe%20Greek%20Alphabet,%20the%20Cyrillic%20Alphabet,%20the%20Hebrew%20alphabet,%20and%20the%20embossed%20plaque%20are%20in%20Alphabet%20Soup.%20The%20description%20of%20the%20Greek%20alphabet%20is%20%22%CE%B1%CE%B2%CE%B3%CE%B4%CE%B5%CE%B6%CE%B7%CE%B8%CE%B9%CE%BA%CE%BB%CE%BC%CE%BD%CE%BE%CE%BF%CF%80%CF%81%CF%82%CF%83%CF%84%CF%85%CF%86%CF%87%CF%88%CF%89.%22.%20The%20description%20of%20the%20Hebrew%20alphabet%20is%20%22%D7%90%D7%91%D7%92%D7%93%D7%94%D7%95%D7%96%D7%97%D7%98%D7%99%D7%9A%D7%9B%D7%9C%D7%9D%D7%9E%D7%9F%D7%A0%D7%A1%D7%A2%D7%A3%D7%A4%D7%A5%D7%A6%D7%A7%D7%A8%D7%A9%D7%AA.%22.%20The%20description%20of%20the%20Cyrillic%20alphabet%20is%20%22%D0%B0%D0%B1%D0%B2%D0%B3%D0%B4%D0%B5%D0%B6%D0%B7%D0%B8%D0%B9%D0%BA%D0%BB%D0%BC%D0%BD%D0%BE%D0%BF%D1%80%D1%81%D1%82%D1%83%D1%84%D1%85%D1%86%D1%87%D1%88%D1%89%D1%8A%D1%8B%D1%8C%D1%8D%D1%8E%D1%8F.%22.%5Cn%5CnInstead%20of%20examining%20the%20plaque:%5Cn%5Ctsay%20%22It%20seems%20to%20be%20a%20sign%20in%20Braille:%20%22;%5Cn%5Ctsay%20unicode%20Braille%20pattern%20dots-24,%20%22%20(I),%20%22,%5Cn%5Ct%5Ctunicode%20Braille%20pattern%20dots-1345,%20%22%20(N),%20%22,%5Cn%5Ct%5Ctunicode%20Braille%20pattern%20dots-124,%20%22%20(F),%20%22,%5Cn%5Ct%5Ctunicode%20Braille%20pattern%20dots-135,%20%22%20(O),%20%22,%5Cn%5Ct%5Ctunicode%20Braille%20pattern%20dots-1235,%20%22%20(R),%20%22,%5Cn%5Ct%5Ctunicode%20Braille%20pattern%20dots-134,%20%22%20(M).%22%5Cn%5CnThe%20Gaming%20Lounge%20is%20south%20of%20Alphabet%20Soup.%20The%20chess%20position%20and%20the%20book%20of%20puzzle%20canons%20are%20in%20the%20Gaming%20Lounge.%5Cn%5CnThe%20Georges%20de%20la%20Tour%20painting%20Le%20Tricheur%20is%20in%20the%20Gaming%20Lounge.%20%22Hanging%20on%20one%20wall%20is%20Georges%20de%20la%20Tour's%20masterpiece%20Le%20Tricheur%20(the%20card-sharp).%20Visible%20are%208%5Bunicode%20black%20diamond%20suit%5D,%209%5Bunicode%20black%20diamond%20suit%5D,%20A%5Bunicode%20black%20diamond%20suit%5D,%20A%5Bunicode%20black%20spade%20suit%5D,%206%5Bunicode%20black%20club%20suit%5D%20but%20not%20one%20of%20them%20has%20a%20%5Bunicode%20black%20heart%20suit%5D.%22%5Cn%5CnThe%20description%20of%20Le%20Tricheur%20is%20%22If%20they'd%20been%20dice-players%20instead,%20they%20might%20have%20thrown%20%5Bunicode%20die%20face-1%5D,%20%5Bunicode%20die%20face-2%5D,%20%5Bunicode%20die%20face-3%5D,%20%5Bunicode%20die%20face-4%5D,%20%5Bunicode%20die%20face-5%5D%20or%20%5Bunicode%20die%20face-6%5D,%20but%20as%20it%20is%20they%20stick%20to%20cards.%22%5Cn%5CnThe%20description%20of%20the%20book%20of%20canons%20is%20%22A%20typical%20fugue%20is%20no.%2013%20(Tovey:%20%5Bunicode%20eighth%20note%5D%20=%20110)%20in%20F%5Bunicode%20music%20sharp%20sign%5D%20minor,%20but%20you%20can%20also%20make%20out%20keys%20like%20A%5Bunicode%20music%20flat%20sign%5D%20and%20G%5Bunicode%20music%20natural%20sign%5D.%22%5Cn%5CnThe%20empty%20square%20text%20is%20text%20that%20varies.%20To%20say%20empty:%20say%20the%20empty%20square%20text.%5Cn%5CnTo%20display%20the%20board:%5Cn%5Ctsay%20empty,%20empty,%20empty,%20empty,%20empty,%20empty,%20unicode%20black%20chess%20king,%20empty,%20line%20break;%5Cn%5Ctsay%20empty,%20empty,%20empty,%20unicode%20black%20chess%20queen,%20empty,%20empty,%20unicode%20black%20chess%20pawn,%20empty,%20line%20break;%5Cn%5Ctsay%20unicode%20black%20chess%20pawn,%20empty,%20empty,%20unicode%20black%20chess%20bishop,%20unicode%20black%20chess%20pawn,%20empty,%20empty,%20unicode%20black%20chess%20pawn,%20line%20break;%5Cn%5Ctsay%20empty,%20empty,%20empty,%20unicode%20black%20chess%20pawn,%20empty,%20unicode%20black%20chess%20rook,%20empty,%20empty,%20line%20break;%5Cn%5Ctsay%20empty,%20unicode%20black%20chess%20pawn,%20empty,%20unicode%20white%20chess%20pawn,%20unicode%20black%20chess%20pawn,%20empty,%20empty,%20empty,%20line%20break;%5Cn%5Ctsay%20empty,%20empty,%20empty,%20unicode%20black%20chess%20bishop,%20unicode%20white%20chess%20queen,%20empty,%20unicode%20white%20chess%20pawn,%20unicode%20white%20chess%20pawn,%20line%20break;%5Cn%5Ctsay%20unicode%20white%20chess%20pawn,%20unicode%20white%20chess%20pawn,%20empty,%20unicode%20white%20chess%20bishop,%20empty,%20unicode%20black%20chess%20rook,%20unicode%20white%20chess%20bishop,%20empty,%20line%20break;%5Cn%5Ctsay%20empty,%20unicode%20white%20chess%20knight,%20empty,%20empty,%20unicode%20white%20chess%20rook,%20empty,%20unicode%20white%20chess%20rook,%20unicode%20white%20chess%20king,%20line%20break.%5Cn%5CnInstead%20of%20examining%20the%20chess%20position:%5Cn%5Ctsay%20%22Fritz%20Saemisch%20-%20Aron%20Nimzowitsch,%20Copenhagen%201923:%20the%20Immortal%20Zugzwang%20Game.%20Nimzowitsch%20(black),%20observing%20that%20white%20will%20very%20soon%20have%20to%20play%20a%20terrible%20move,%20has%20just%20advanced%20his%20h%20pawn%20for%20no%20reason%20other%20than%20to%20wait.%20So%20it%20is%20white%20to%20play...%22;%5Cn%5Ctsay%20%22%5Bfixed%20letter%20spacing%5D......k.%20%5Bline%20break%5D...q..p.%20%5Bline%20break%5Dp..bp..p%20%5Bline%20break%5D...p.r..%20%5Bline%20break%5D.p.Pp...%20%5Bline%20break%5D...bQ.PP%20%5Bline%20break%5DPP.B.rB.%20%5Bline%20break%5D.N..R.RK%20%5Bvariable%20letter%20spacing%5D%5Bline%20break%5D%22;%5Cn%5Ctsay%20%22'White%20must,%20willy-nilly,%20eventually%20throw%20himself%20upon%20the%20sword',%20in%20Nimzowitsch's%20commentary.%20%22;%5Cn%5Ctsay%20%22We%20will%20now%20try%20to%20display%20the%20same%20position%20using%20chess-piece%20symbols%20in%20a%20Unicode%20font.%22;%5Cn%5Ctsay%20fixed%20letter%20spacing;%5Cn%5Ctnow%20the%20empty%20square%20text%20is%20%22%20%22;%5Cn%5Ctdisplay%20the%20board;%5Cn%5Ctsay%20variable%20letter%20spacing.%5Cn%5CnThe%20Astrological%20Observatory%20is%20above%20Alphabet%20Soup.%5Cn%5CnThe%20planets%20are%20in%20the%20Observatory.%20%22Diagrams%20of%20the%20planets%20are%20scattered%20across%20the%20dome:%20Sun%20%5Bunicode%20Sun%5D,%20Mercury%20%5Bunicode%20Mercury%5D,%20Venus%20%5Bunicode%20Female%20Sign%5D,%20Earth%20%5Bunicode%20Earth%5D,%20Moon%20%5Bunicode%20First%20Quarter%20Moon%5D%20and%20%5Bunicode%20Last%20Quarter%20Moon%5D,%20Mars%20%5Bunicode%20Male%20Sign%5D,%20Jupiter%20%5Bunicode%20Jupiter%5D,%20Saturn%20%5Bunicode%20Saturn%5D,%20Uranus%20%5Bunicode%20Uranus%5D,%20Neptune%20%5Bunicode%20Neptune%5D,%20Pluto%20%5Bunicode%20Pluto%5D%20and%20one%20or%20two%20comets%20%5Bunicode%20Comet%5D.%20Fainter,%20but%20all%20around,%20you%20see%20stars%20black%20%5Bunicode%20black%20star%5D%20and%20white%20%5Bunicode%20white%20star%5D.%22%5Cn%5CnThe%20constellations%20are%20in%20the%20Observatory.%20%22Ringing%20the%20dome%20are%20the%20constellations:%20Aries%20%5Bunicode%20Aries%5D,%20Taurus%20%5Bunicode%20Taurus%5D,%20Gemini%20%5Bunicode%20Gemini%5D,%20Cancer%20%5Bunicode%20Cancer%5D,%20Leo%20%5Bunicode%20Leo%5D,%20Virgo%20%5Bunicode%20Virgo%5D,%20Libra%20%5Bunicode%20Libra%5D,%20Scorpius%20%5Bunicode%20Scorpius%5D,%20Sagittarius%20%5Bunicode%20Sagittarius%5D,%20Capricorn%20%5Bunicode%20Capricorn%5D,%20Aquarius%20%5Bunicode%20Aquarius%5D,%20Pisces%20%5Bunicode%20Pisces%5D.%22%5Cn%5CnThe%20weather%20almanac%20is%20in%20the%20Observatory.%20The%20description%20of%20the%20almanac%20is%20%22Here%20nightly%20observers%20scrawl%20in%20hasty%20abbreviations%20for%20the%20current%20weather%20conditions:%20clear%20weather%20%5Bunicode%20Black%20Sun%20with%20Rays%5D,%20cloudy%20%5Bunicode%20cloud%5D,%20rain%20%5Bunicode%20umbrella%5D,%20snow%20%5Bunicode%20snowman%5D,%20lightning%20%5Bunicode%20lightning%5D,%20thunderstorm%20%5Bunicode%20thunderstorm%5D.%22%5Cn%5CnThe%20Danger%20Zone%20is%20below%20Alphabet%20Soup.%20The%20printed%20name%20of%20the%20Danger%20Zone%20is%20%22%5Bunicode%20skull%20and%20crossbones%5D%20Danger%20Zone%20%5Bunicode%20skull%20and%20crossbones%5D%22.%5Cn%5CnThe%20warning%20signs%20are%20in%20the%20Danger%20Zone.%20%22A%20variety%20of%20international-standard%20warning%20standards%20suggest%20that%20this%20may%20not%20be%20the%20safest%20place:%20%5Bunicode%20skull%20and%20crossbones%5D,%20%5Bunicode%20caution%20sign%5D,%20%5Bunicode%20radioactive%20sign%5D,%20%5Bunicode%20biohazard%20sign%5D.%22%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "The Über-complète clavier"
</p>
<p class="quoted">
The story headline is "Pushing the Limits of Unicode in IF". The story description is "This is a demanding test for Unicode compliance by Z-machine interpreters."
</p>
<p class="quoted">
Include Unicode Character Names by Graham Nelson.
</p>
<p class="quoted">
Include Basic Screen Effects by Emily Short.
</p>
<p class="quoted">
The Château Bibliothèque Français is east of the Deutsche Universität Bücherei. "From this Borgesian construction, doorways lead into anterooms in each of the four cardinal directions." South of the Bibliothèque is the Miscellany Mañana. North of the Bibliothèque is the Íslendingabók. East of the Bibliothèque is Alphabet Soup.
</p>
<p class="quoted">
A framed photograph of Icelandic Prime Minister Halldór Ásgrímsson, a ruler measuring Ångströms, a Bokmål-Lëtzebuergesch Lëtzebuergesch-Bokmål dictionary and a ticket to Tromsø via Østfold are in the Íslendingabók.
</p>
<p class="quoted">
A paper by Karl Weierstraß, a general feeling of Ärger, an old Österreich passport and the Bach Clavier-Übung open at the fugue à 4 are in the Bücherei.
</p>
<p class="quoted">
The painting of École normale superiéure students singing Ça ira, the frankly lesser-known journal of Niccolò Polo, Così fan tutte on CD, an extract of Herodotus concerning Artaÿctes and the exit sign reading À BIENTÔT are in the Bibliothèque.
</p>
<p class="quoted">
A wicker basket marked CHLOË is in the Bibliothèque. A ginger cat is in the basket.
</p>
<p class="quoted">
A guide to Æsop for naïve æsthetes, Lönnrot's Kalevala, a creed according to the Bahá'ís, FALARÃO magazine, an Estonian poem by Tõnu Trubetsky, a Portuguese-Italian recipe for macarrão, a stripy hanging CANDY PIÑATA bag, a ¿¡Punctuation Turned Upside Down¿¡ pamphlet, an Italian brewers' anti-violence poster declaring  BÓTTE NON BÒTTE, a map of È and a dusty book titled The Parnasum of Luís Vaz bearing CAMÕES on its spine are in Miscellany Mañana.
</p>
<p class="quoted">
The description of the map is "È is a province in the People's Republic of China."
</p>
<p class="quoted">
In Mañana is something called ÂÊÎÔÛ - The Official Journal of the Society for Vowels bearing Circumflexes.
</p>
<p class="quoted">
In Mañana is something called âêîôû comic - the youth edition.
</p>
<p class="quoted">
The description of Alphabet Soup is "A bewildering place of glyphs, sigils and signs. The Library proper leads back west: steps lead upwards to an Observatory, or downwards into what seems to be a dangerous area. A gaming lounge lies to the south."
</p>
<p class="quoted">
The Greek Alphabet, the Cyrillic Alphabet, the Hebrew alphabet, and the embossed plaque are in Alphabet Soup. The description of the Greek alphabet is "αβγδεζηθικλμνξοπρςστυφχψω.". The description of the Hebrew alphabet is "אבגדהוזחטיךכלםמןנסעףפץצקרשת.". The description of the Cyrillic alphabet is "абвгдежзийклмнопрстуфхцчшщъыьэюя.".
</p>
<p class="quoted">
Instead of examining the plaque:
<br>    say "It seems to be a sign in Braille: ";
<br>    say unicode Braille pattern dots-24, " (I), ",
<br>        unicode Braille pattern dots-1345, " (N), ",
<br>        unicode Braille pattern dots-124, " (F), ",
<br>        unicode Braille pattern dots-135, " (O), ",
<br>        unicode Braille pattern dots-1235, " (R), ",
<br>        unicode Braille pattern dots-134, " (M)."
</p>
<p class="quoted">
The Gaming Lounge is south of Alphabet Soup. The chess position and the book of puzzle canons are in the Gaming Lounge.
</p>
<p class="quoted">
The Georges de la Tour painting Le Tricheur is in the Gaming Lounge. "Hanging on one wall is Georges de la Tour's masterpiece Le Tricheur (the card-sharp). Visible are 8[unicode black diamond suit], 9[unicode black diamond suit], A[unicode black diamond suit], A[unicode black spade suit], 6[unicode black club suit] but not one of them has a [unicode black heart suit]."
</p>
<p class="quoted">
The description of Le Tricheur is "If they'd been dice-players instead, they might have thrown [unicode die face-1], [unicode die face-2], [unicode die face-3], [unicode die face-4], [unicode die face-5] or [unicode die face-6], but as it is they stick to cards."
</p>
<p class="quoted">
The description of the book of canons is "A typical fugue is no. 13 (Tovey: [unicode eighth note] = 110) in F[unicode music sharp sign] minor, but you can also make out keys like A[unicode music flat sign] and G[unicode music natural sign]."
</p>
<p class="quoted">
The empty square text is text that varies. To say empty: say the empty square text.
</p>
<p class="quoted">
To display the board:
<br>    say empty, empty, empty, empty, empty, empty, unicode black chess king, empty, line break;
<br>    say empty, empty, empty, unicode black chess queen, empty, empty, unicode black chess pawn, empty, line break;
<br>    say unicode black chess pawn, empty, empty, unicode black chess bishop, unicode black chess pawn, empty, empty, unicode black chess pawn, line break;
<br>    say empty, empty, empty, unicode black chess pawn, empty, unicode black chess rook, empty, empty, line break;
<br>    say empty, unicode black chess pawn, empty, unicode white chess pawn, unicode black chess pawn, empty, empty, empty, line break;
<br>    say empty, empty, empty, unicode black chess bishop, unicode white chess queen, empty, unicode white chess pawn, unicode white chess pawn, line break;
<br>    say unicode white chess pawn, unicode white chess pawn, empty, unicode white chess bishop, empty, unicode black chess rook, unicode white chess bishop, empty, line break;
<br>    say empty, unicode white chess knight, empty, empty, unicode white chess rook, empty, unicode white chess rook, unicode white chess king, line break.
</p>
<p class="quoted">
Instead of examining the chess position:
<br>    say "Fritz Saemisch - Aron Nimzowitsch, Copenhagen 1923: the Immortal Zugzwang Game. Nimzowitsch (black), observing that white will very soon have to play a terrible move, has just advanced his h pawn for no reason other than to wait. So it is white to play...";
<br>    say "[fixed letter spacing]......k. [line break]...q..p. [line break]p..bp..p [line break]...p.r.. [line break].p.Pp... [line break]...bQ.PP [line break]PP.B.rB. [line break].N..R.RK [variable letter spacing][line break]";
<br>    say "'White must, willy-nilly, eventually throw himself upon the sword', in Nimzowitsch's commentary. ";
<br>    say "We will now try to display the same position using chess-piece symbols in a Unicode font.";
<br>    say fixed letter spacing;
<br>    now the empty square text is " ";
<br>    display the board;
<br>    say variable letter spacing.
</p>
<p class="quoted">
The Astrological Observatory is above Alphabet Soup.
</p>
<p class="quoted">
The planets are in the Observatory. "Diagrams of the planets are scattered across the dome: Sun [unicode Sun], Mercury [unicode Mercury], Venus [unicode Female Sign], Earth [unicode Earth], Moon [unicode First Quarter Moon] and [unicode Last Quarter Moon], Mars [unicode Male Sign], Jupiter [unicode Jupiter], Saturn [unicode Saturn], Uranus [unicode Uranus], Neptune [unicode Neptune], Pluto [unicode Pluto] and one or two comets [unicode Comet]. Fainter, but all around, you see stars black [unicode black star] and white [unicode white star]."
</p>
<p class="quoted">
The constellations are in the Observatory. "Ringing the dome are the constellations: Aries [unicode Aries], Taurus [unicode Taurus], Gemini [unicode Gemini], Cancer [unicode Cancer], Leo [unicode Leo], Virgo [unicode Virgo], Libra [unicode Libra], Scorpius [unicode Scorpius], Sagittarius [unicode Sagittarius], Capricorn [unicode Capricorn], Aquarius [unicode Aquarius], Pisces [unicode Pisces]."
</p>
<p class="quoted">
The weather almanac is in the Observatory. The description of the almanac is "Here nightly observers scrawl in hasty abbreviations for the current weather conditions: clear weather [unicode Black Sun with Rays], cloudy [unicode cloud], rain [unicode umbrella], snow [unicode snowman], lightning [unicode lightning], thunderstorm [unicode thunderstorm]."
</p>
<p class="quoted">
The Danger Zone is below Alphabet Soup. The printed name of the Danger Zone is "[unicode skull and crossbones] Danger Zone [unicode skull and crossbones]".
</p>
<p class="quoted">
The warning signs are in the Danger Zone. "A variety of international-standard warning standards suggest that this may not be the safest place: [unicode skull and crossbones], [unicode caution sign], [unicode radioactive sign], [unicode biohazard sign]."
</p>
</div>
<p>This example text was used to produce a story file which has been tried against both Zoom for Mac OS X and Windows Frotz. The Latin, Greek, Cyrillic and Hebrew text all functioned perfectly on both, but a point of difference showed when writing the Hebrew alphabet: Zoom wrote this right-to-left, Windows Frotz left-to-right. The exotic symbols displayed on Zoom (though others not mentioned above, such as "[unicode staff of hermes]", did not): but most appeared only as black squares on Windows Frotz, exceptions being the astrological signs for Venus and Mars and the musical note.</p>
</div>
<div class="linkback">
<a href="wi_5.html#wi-5.11">WI §5.11. Unicode characters</a><br><a href="rb_12.html#rb-12.1">RB §12.1. Typography</a>
</div></details>
</div></section>
<section class="section" id="rb-12.2"><div>





<h3>RB §12.2. The Status Line</h3>
<p>The status line is the reverse-coloured bar along the top of the window during play, which conventionally, but not necessarily, shows the current location, the score (or sometimes the time of day) and the number of turns so far. It has been highly traditional since the early 1980s (Infocom's customer newsletter was for many years called "The Status Line"): it has become the visual identifier of IF. It plays the same role for IF that a header with chapter name and page number plays in a printed book.</p>
<p>The status line is ordinarily printed from two named pieces of text, the "left hand status line" and the "right hand status line". These can be changed during play, so for instance,</p>

<div class="code"><p class="quoted">
When play begins, change the right hand status line to "Time: [time of day]".
</p></div>
<p>The examples below offer miscellaneous alternatives, and are fairly self-descriptive.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_5.html#rb-5.6" class="crossreference_link">Viewpoint</a> for a way to make the status line list the player's current identity</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-114"><summary><span class="example-summary">114. Politics as Usual</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose a game with a large map entirely subdivided into regions. We could define:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Politics%20as%20Usual%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20right%20hand%20status%20line%20is%20%22%5Bmap%20region%20of%20the%20location%5D%22.%5Cn%5CnWashington%20is%20west%20of%20Idaho.%5Cn%5CnRed%20is%20a%20region.%20Blue%20is%20a%20region.%20Idaho%20is%20in%20red.%20Washington%20is%20in%20blue.%5Cn%5CnTest%20me%20with%20%22e%20/%20w%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Politics as Usual"
</p>
<p class="quoted">
When play begins:
<br>    now the right hand status line is "[map region of the location]".
</p>
<p class="quoted">
Washington is west of Idaho.
</p>
<p class="quoted">
Red is a region. Blue is a region. Idaho is in red. Washington is in blue.
</p>
<p class="quoted">
Test me with "e / w".
</p>
</div>
<p>Note that, since regions can be stacked, we technically can be within more than one region at once. In the Port Royal example, for instance, the Tavern region is inside the Inland region. If there is any ambiguity, "the map region of the location" will be construed as "the smallest region that the location belongs to": so we would see "Tavern" rather than "Inland" in the status bar, when the player was in the Feathers or the Feathers Bedroom.</p>
<p>Some extra finesse would be necessary if the names of map regions were very long or if there were some rooms that were not considered to belong to any region at all.</p>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.3">WI §8.3. Changing the status line</a><br><a href="rb_12.html#rb-12.2">RB §12.2. The Status Line</a>
</div></details><details class="full-example" id="example-350"><summary><span class="example-summary">350. Ways Out</span> <span class="example-difficulty">★</span></summary><div>
<p>A not-uncommon device in games with large maps is a list of available exits printed in the status bar. We might do this so:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Ways%20Out%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20left%20hand%20status%20line%20is%20%22Exits:%20%5Bexit%20list%5D%22;%5Cn%5Ctnow%20right%20hand%20status%20line%20is%20%22%5Blocation%5D%22.%5Cn%5CnTo%20say%20exit%20list:%5Cn%5Ctlet%20place%20be%20location;%5Cn%5Ctrepeat%20with%20way%20running%20through%20directions:%5Cn%5Ct%5Ctlet%20place%20be%20the%20room%20way%20from%20the%20location;%5Cn%5Ct%5Ctif%20place%20is%20a%20room,%20say%20%22%20%5Bway%5D%22.%5Cn%5Cn%5Cn%5BWe%20may%20find%20that%20printing%20out%20full%20directions%20makes%20the%20status%20line%20unpleasantly%20crowded.%20Fortunately,%20it%20isn't%20hard%20to%20provide%20a%20set%20of%20abbreviations%20to%20use%20in%20this%20context:%5D%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20direction%20(called%20the%20way)%20while%20constructing%20the%20status%20line:%5Cn%5Ctchoose%20row%20with%20a%20heading%20of%20the%20way%20in%20the%20Table%20of%20Abbreviation;%5Cn%5Ctsay%20%22%5Bshortcut%20entry%5D%22.%5Cn%5CnTable%20of%20Abbreviation%5Cnheading%5Ctshortcut%5Cnnorth%5Ct%22N%22%5Cnnortheast%5Ct%22NE%22%5Cnnorthwest%5Ct%22NW%22%5Cneast%5Ct%22E%22%5Cnsoutheast%5Ct%22SE%22%5Cnsouth%5Ct%22S%22%5Cnsouthwest%5Ct%22SW%22%5Cnwest%5Ct%22W%22%5Cnup%5Ct%22U%22%5Cndown%5Ct%22D%22%5Cninside%5Ct%22IN%22%5Cnoutside%5Ct%22OUT%22%5Cn%5CnDome%20is%20a%20room.%20North%20of%20Dome%20is%20North%20Chapel.%20South%20of%20the%20Dome%20is%20South%20Chapel.%20West%20of%20the%20Dome%20is%20Western%20End.%20Quiet%20Corner%20is%20northwest%20of%20the%20Dome,%20north%20of%20Western%20End,%20and%20west%20of%20North%20Chapel.%20Loud%20Corner%20is%20east%20of%20North%20Chapel,%20northeast%20of%20Dome,%20and%20north%20of%20Eastern%20End.%20Eastern%20End%20is%20north%20of%20Dim%20Corner%20and%20east%20of%20Dome.%20Dim%20Corner%20is%20southeast%20of%20Dome%20and%20east%20of%20South%20Chapel.%20Ruined%20Corner%20is%20southwest%20of%20Dome,%20west%20of%20South%20Chapel,%20and%20south%20of%20Western%20End.%5Cn%5CnThe%20church%20door%20is%20east%20of%20Eastern%20End%20and%20west%20of%20the%20Courtyard.%20The%20church%20door%20is%20a%20door.%5Cn%5CnTest%20me%20with%20%22w%20/%20n%20/%20e%20/%20e%20/%20s%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Ways Out"
</p>
<p class="quoted">
When play begins:
<br>    now left hand status line is "Exits: [exit list]";
<br>    now right hand status line is "[location]".
</p>
<p class="quoted">
To say exit list:
<br>    let place be location;
<br>    repeat with way running through directions:
<br>        let place be the room way from the location;
<br>        if place is a room, say " [way]".
</p>
</div>
<p>We may find that printing out full directions makes the status line unpleasantly crowded. Fortunately, it isn't hard to provide a set of abbreviations to use in this context:</p>

<div class="code">
<p class="quoted">
Rule for printing the name of a direction (called the way) while constructing the status line:
<br>    choose row with a heading of the way in the Table of Abbreviation;
<br>    say "[shortcut entry]".
</p>
<p class="quoted">
Table of Abbreviation
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">heading</p></td>
<td class="quotedtablecell"><p class="quoted">shortcut</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">north</p></td>
<td class="quotedtablecell"><p class="quoted">"N"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">northeast</p></td>
<td class="quotedtablecell"><p class="quoted">"NE"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">northwest</p></td>
<td class="quotedtablecell"><p class="quoted">"NW"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">east</p></td>
<td class="quotedtablecell"><p class="quoted">"E"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">southeast</p></td>
<td class="quotedtablecell"><p class="quoted">"SE"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">south</p></td>
<td class="quotedtablecell"><p class="quoted">"S"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">southwest</p></td>
<td class="quotedtablecell"><p class="quoted">"SW"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">west</p></td>
<td class="quotedtablecell"><p class="quoted">"W"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">up</p></td>
<td class="quotedtablecell"><p class="quoted">"U"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">down</p></td>
<td class="quotedtablecell"><p class="quoted">"D"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">inside</p></td>
<td class="quotedtablecell"><p class="quoted">"IN"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">outside</p></td>
<td class="quotedtablecell"><p class="quoted">"OUT"</p></td>
</tr>
</table>
<p class="quoted">
Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.
</p>
<p class="quoted">
The church door is east of Eastern End and west of the Courtyard. The church door is a door.
</p>
<p class="quoted">
Test me with "w / n / e / e / s / e".
</p>
</div>
<p>Everywhere else, the names of directions will still be printed out in full in the usual way.</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.23">WI §18.23. Constructing the status line</a><br><a href="rb_12.html#rb-12.2">RB §12.2. The Status Line</a>
</div></details><details class="full-example" id="example-387"><summary><span class="example-summary">387. Blankness</span> <span class="example-difficulty">★</span></summary><div>
<p>Occasionally we want to print something as our first screen and then pause the game. By default, Inform will print a rather odd status line, with "You" on the left side and "0" on the right. This is because the left hand status line is set to display the location, but (because we're not done with the when-play-begins rules) the player has not yet even been moved to a room.</p>
<p>We can tidy this up in the "starting the virtual machine" activity, by temporarily changing the status line content. We will not provide game-pausing code here, because that is easily done by extension; so:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Blankness%22%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22take%20me%20home%22;%5Cn%5Ctwait%20for%20any%20key;%5Cn%5Ctsay%20%22%20yeah%22;%5Cn%5Ctwait%20for%20any%20key;%5Cn%5Ctsay%20%22%20yeah%22;%5Cn%5Ctpause%20the%20game;%5Cn%5Ctnow%20the%20left%20hand%20status%20line%20is%20%22%5Blocation%5D%22;%5Cn%5Ctnow%20the%20right%20hand%20status%20line%20is%20%22%5Bturn%20count%5D%22.%5Cn%5CnBefore%20starting%20the%20virtual%20machine:%5Cn%5Ctnow%20the%20left%20hand%20status%20line%20is%20%22%22;%5Cn%5Ctnow%20the%20right%20hand%20status%20line%20is%20%22%22.%5Cn%5CnParadise%20City%20is%20a%20room.%20The%20description%20of%20Paradise%20City%20is%20%22The%20grass%20is%20green%20and%20the%20girls%20are%20pretty.%22%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Blankness"
</p>
<p class="quoted">
Include Basic Screen Effects by Emily Short.
</p>
<p class="quoted">
When play begins:
<br>    say "take me home";
<br>    wait for any key;
<br>    say " yeah";
<br>    wait for any key;
<br>    say " yeah";
<br>    pause the game;
<br>    now the left hand status line is "[location]";
<br>    now the right hand status line is "[turn count]".
</p>
<p class="quoted">
Before starting the virtual machine:
<br>    now the left hand status line is "";
<br>    now the right hand status line is "".
</p>
<p class="quoted">
Paradise City is a room. The description of Paradise City is "The grass is green and the girls are pretty."
</p>
</div>
<p>Quite a modest effect, but occasionally useful.</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.40">WI §18.40. Starting the virtual machine</a><br><a href="rb_12.html#rb-12.2">RB §12.2. The Status Line</a>
</div></details><details class="full-example" id="example-412"><summary><span class="example-summary">412. Capital City</span> <span class="example-difficulty">★</span></summary><div>
<p>Not much is needed for this. The only noteworthy point is that it doesn't work by changing the LHSL to "[the player's surroundings in upper case]": it cannot do this because "the player's surroundings" is not a value. Instead, "[the player's surroundings]" is a text substitution sometimes printing the name of a room, sometimes printing "Darkness", and so on. We must therefore load it into a text first, and then apply "...in upper case".</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Capital%20City%22%5Cn%5CnCapital%20City%20is%20a%20room.%20East%20is%20Lower%20Caissons.%20South%20of%20Lower%20Caissons%5Cnis%20San%20Seriffe.%20East%20of%20San%20Seriffe%20is%20a%20dark%20room.%5Cn%5CnTo%20say%20the%20player's%20capitalised%20surroundings:%5Cn%5Ctlet%20the%20masthead%20be%20%22%5Bthe%20player's%20surroundings%5D%22%20in%20upper%20case;%5Cn%5Ctsay%20the%20masthead.%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20the%20left%20hand%20status%20line%20is%20%22%5Bthe%20player's%20capitalised%20surroundings%5D%22.%5Cn%5CnTest%20me%20with%20%22e%20/%20s%20/%20e%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Capital City"
</p>
<p class="quoted">
Capital City is a room. East is Lower Caissons. South of Lower Caissons
<br>is San Seriffe. East of San Seriffe is a dark room.
</p>
<p class="quoted">
To say the player's capitalised surroundings:
<br>    let the masthead be "[the player's surroundings]" in upper case;
<br>    say the masthead.
</p>
<p class="quoted">
When play begins:
<br>    now the left hand status line is "[the player's capitalised surroundings]".
</p>
<p class="quoted">
Test me with "e / s / e".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_20.html#wi-20.4">WI §20.4. Upper and lower case letters</a><br><a href="rb_12.html#rb-12.2">RB §12.2. The Status Line</a>
</div></details><details class="full-example" id="example-452"><summary><span class="example-summary">452. Status line with centered text, the hard way</span> <span class="example-difficulty">★</span></summary><div>
<p>Making major changes to display features, such as the construction of the status line, sometimes requires that we rely on Inform 6 in bulk; here is how we might produce the Trinity-style status line, with the location centered at the top center of the screen.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Corner%20of%20No%20and%20Where%22%5Cn%5CnNo%20is%20a%20room.%20Where%20is%20west%20of%20No.%5Cn%5CnRule%20for%20constructing%20the%20status%20line:%5Cn%5Ctprint%20the%20location%20in%20the%20center%20of%20the%20status%20line;%5Cn%5Ctrule%20succeeds.%5Cn%5CnTo%20print%20the%20location%20in%20the%20center%20of%20the%20status%20line:%5Cn%5Ct(-%20PrintCenteredStatus();%20-).%5Cn%5CnInclude%20(-%5Cn%5CnArray%20printed_text%20--&gt;%2064;%5Cn%5Cn%5B%20PrintCenteredStatus%20i%20j;%5Cn%5Ct@set_cursor%201%200;%5Cn%5Cti%20=%200-&gt;33;%5Cn%5Ctspaces(i);%5Cn%5Ct@output_stream%203%20printed_text;%5Cn%5Ctprint%20(name)%20location;%5Cn%5Ct@output_stream%20-3;%5Cn%5Ctj%20=%20(i%20-%20(printed_text--&gt;0))/2;%5Cn%5Ct@set_cursor%201%20j;%5Cn%5Ctprint%20(name)%20location;%5Cn%5Ctspaces%20j-1;%5Cn%5D;%5Cn%5Cn-)%5Cn%5CnTest%20me%20with%20%22w%20/%20e%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Corner of No and Where"
</p>
<p class="quoted">
No is a room. Where is west of No.
</p>
<p class="quoted">
Rule for constructing the status line:
<br>    print the location in the center of the status line;
<br>    rule succeeds.
</p>
<p class="quoted">
To print the location in the center of the status line:
<br>    (- PrintCenteredStatus(); -).
</p>
<p class="quoted">
Include (-
</p>
<p class="quoted">
Array printed_text --&gt; 64;
</p>
<p class="quoted">
[ PrintCenteredStatus i j;
<br>    @set_cursor 1 0;
<br>    i = 0-&gt;33;
<br>    spaces(i);
<br>    @output_stream 3 printed_text;
<br>    print (name) location;
<br>    @output_stream -3;
<br>    j = (i - (printed_text--&gt;0))/2;
<br>    @set_cursor 1 j;
<br>    print (name) location;
<br>    spaces j-1;
<br>];
</p>
<p class="quoted">
-)
</p>
<p class="quoted">
Test me with "w / e".
</p>
</div>
<p>In fact, as we've already seen, many extra modifications to the display behavior are possible using Basic Screen Effects.</p>
</div>
<div class="linkback">
<a href="wi_27.html#wi-27.19">WI §27.19. Longer extracts of Inform 6 code</a><br><a href="rb_12.html#rb-12.2">RB §12.2. The Status Line</a>
</div></details><details class="full-example" id="example-351"><summary><span class="example-summary">351. Guided Tour</span> <span class="example-difficulty">★★</span></summary><div>
<p>It may sometimes be helpful to prompt the player with a list of exits printed up in the status line. For instance, here is a status line that will print the names of nearby rooms, as well as all the doors the player can see:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Guided%20Tour%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctnow%20left%20hand%20status%20line%20is%20%22Nearby:%20%5Bif%20a%20room%20is%20adjacent%5D%5Bthe%20list%20of%20adjacent%20rooms%5D%5Bend%20if%5D%5Bif%20a%20room%20is%20adjacent%20and%20a%20door%20is%20visible%5D%20and%20%5Bend%20if%5D%5Bif%20a%20door%20is%20visible%5D%5Bthe%20list%20of%20visible%20doors%5D%5Bend%20if%5D%22;%5Cn%5Ctnow%20right%20hand%20status%20line%20is%20%22%22.%5Cn%5Cn%5BOf%20course,%20we%20may%20not%20want%20to%20tell%20the%20player%20what%20glories%20are%20to%20be%20found%20in%20locations%20he%20hasn't%20yet%20explored.%5D%5Cn%5CnRule%20for%20printing%20the%20name%20of%20an%20unvisited%20room%20(called%20the%20target)%20while%20constructing%20the%20status%20line:%5Cn%5Ctlet%20aim%20be%20the%20best%20route%20from%20the%20location%20to%20the%20target;%5Cn%5Ctsay%20%22something%20%5Baim%5D%22.%5Cn%5Cn%5BEven%20when%20we%20have%20seen%20a%20room,%20we%20might%20still%20want%20a%20reminder%20about%20how%20to%20get%20there:%5D%5Cn%5CnAfter%20printing%20the%20name%20of%20a%20visited%20room%20(called%20the%20target)%20while%20constructing%20the%20status%20line:%5Cn%5Ctlet%20aim%20be%20the%20best%20route%20from%20the%20location%20to%20the%20target;%5Cn%5Ctsay%20%22%20(%5Baim%5D)%22.%5Cn%5Cn%5BWe%20may%20also%20find%20that%20printing%20out%20full%20directions%20makes%20the%20status%20line%20unpleasantly%20crowded.%20Fortunately,%20it%20isn't%20hard%20to%20provide%20a%20set%20of%20abbreviations%20to%20use%20in%20this%20context:%5D%5Cn%5CnRule%20for%20printing%20the%20name%20of%20a%20direction%20(called%20the%20aim)%20while%20constructing%20the%20status%20line:%5Cn%5Ctchoose%20row%20with%20a%20heading%20of%20the%20aim%20in%20the%20Table%20of%20Abbreviation;%5Cn%5Ctsay%20%22%5Bshortcut%20entry%5D%22.%5Cn%5CnTable%20of%20Abbreviation%5Cnheading%5Ctshortcut%5Cnnorth%5Ct%22N%22%5Cnnortheast%5Ct%22NE%22%5Cnnorthwest%5Ct%22NW%22%5Cneast%5Ct%22E%22%5Cnsoutheast%5Ct%22SE%22%5Cnsouth%5Ct%22S%22%5Cnsouthwest%5Ct%22SW%22%5Cnwest%5Ct%22W%22%5Cnup%5Ct%22U%22%5Cndown%5Ct%22D%22%5Cninside%5Ct%22in%22%5Cnoutside%5Ct%22out%22%5Cn%5Cn%5BEverywhere%20else,%20the%20names%20of%20directions%20will%20still%20be%20printed%20out%20in%20full%20in%20the%20usual%20way.%20And%20now%20we%20give%20it%20a%20little%20map%20to%20work%20with:%5D%5Cn%5CnDome%20is%20a%20room.%20North%20of%20Dome%20is%20North%20Chapel.%20South%20of%20the%20Dome%20is%20South%20Chapel.%20West%20of%20the%20Dome%20is%20Western%20End.%20Quiet%20Corner%20is%20northwest%20of%20the%20Dome,%20north%20of%20Western%20End,%20and%20west%20of%20North%20Chapel.%20Loud%20Corner%20is%20east%20of%20North%20Chapel,%20northeast%20of%20Dome,%20and%20north%20of%20Eastern%20End.%20Eastern%20End%20is%20north%20of%20Dim%20Corner%20and%20east%20of%20Dome.%20Dim%20Corner%20is%20southeast%20of%20Dome%20and%20east%20of%20South%20Chapel.%20Ruined%20Corner%20is%20southwest%20of%20Dome,%20west%20of%20South%20Chapel,%20and%20south%20of%20Western%20End.%5Cn%5CnThe%20church%20door%20is%20east%20of%20Eastern%20End%20and%20west%20of%20the%20Courtyard.%20The%20church%20door%20is%20a%20door.%5Cn%5CnTest%20me%20with%20%22n%20/%20w%20/%20s%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Guided Tour"
</p>
<p class="quoted">
When play begins:
<br>    now left hand status line is "Nearby: [if a room is adjacent][the list of adjacent rooms][end if][if a room is adjacent and a door is visible] and [end if][if a door is visible][the list of visible doors][end if]";
<br>    now right hand status line is "".
</p>
</div>
<p>Of course, we may not want to tell the player what glories are to be found in locations he hasn't yet explored.</p>

<div class="code"><p class="quoted">
Rule for printing the name of an unvisited room (called the target) while constructing the status line:
<br>    let aim be the best route from the location to the target;
<br>    say "something [aim]".
</p></div>
<p>Even when we have seen a room, we might still want a reminder about how to get there:</p>

<div class="code"><p class="quoted">
After printing the name of a visited room (called the target) while constructing the status line:
<br>    let aim be the best route from the location to the target;
<br>    say " ([aim])".
</p></div>
<p>We may also find that printing out full directions makes the status line unpleasantly crowded. Fortunately, it isn't hard to provide a set of abbreviations to use in this context:</p>

<div class="code">
<p class="quoted">
Rule for printing the name of a direction (called the aim) while constructing the status line:
<br>    choose row with a heading of the aim in the Table of Abbreviation;
<br>    say "[shortcut entry]".
</p>
<p class="quoted">
Table of Abbreviation
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">heading</p></td>
<td class="quotedtablecell"><p class="quoted">shortcut</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">north</p></td>
<td class="quotedtablecell"><p class="quoted">"N"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">northeast</p></td>
<td class="quotedtablecell"><p class="quoted">"NE"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">northwest</p></td>
<td class="quotedtablecell"><p class="quoted">"NW"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">east</p></td>
<td class="quotedtablecell"><p class="quoted">"E"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">southeast</p></td>
<td class="quotedtablecell"><p class="quoted">"SE"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">south</p></td>
<td class="quotedtablecell"><p class="quoted">"S"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">southwest</p></td>
<td class="quotedtablecell"><p class="quoted">"SW"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">west</p></td>
<td class="quotedtablecell"><p class="quoted">"W"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">up</p></td>
<td class="quotedtablecell"><p class="quoted">"U"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">down</p></td>
<td class="quotedtablecell"><p class="quoted">"D"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">inside</p></td>
<td class="quotedtablecell"><p class="quoted">"in"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">outside</p></td>
<td class="quotedtablecell"><p class="quoted">"out"</p></td>
</tr>
</table>
</div>
<p>Everywhere else, the names of directions will still be printed out in full in the usual way. And now we give it a little map to work with:</p>

<div class="code">
<p class="quoted">
Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.
</p>
<p class="quoted">
The church door is east of Eastern End and west of the Courtyard. The church door is a door.
</p>
<p class="quoted">
Test me with "n / w / s".
</p>
</div>
<p>Note that while this looks fine in some places, other locations exceed the limits of what the status-line can hold: if any given room is going to have a large number of exits, this kind of listing will almost certainly not fit. So apply cautiously.</p>
</div>
<div class="linkback">
<a href="wi_18.html#wi-18.23">WI §18.23. Constructing the status line</a><br><a href="rb_12.html#rb-12.2">RB §12.2. The Status Line</a>
</div></details><details class="full-example" id="example-115"><summary><span class="example-summary">115. Centered</span> <span class="example-difficulty">★★★</span></summary><div>
<p>If we want to lay out the status line in some other way than with left-hand and right-hand entries, it is possible to do this as well. Later we will learn about the "rule for constructing the status line", but here is a basic effect using this rule and an Inform extension included as part of the standard distribution, called Basic Screen Effects.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Centered%22%5Cn%5CnWhen%20play%20begins:%5Cn%5Ctsay%20%22After%20months%20of%20boring%20through%20the%20Earth's%20crust%20in%20this%20metal-jawed%20vehicle,%20you%20break%20through...%22%5Cn%5CnThe%20Hollow%20Core%20is%20a%20room.%20%22Truly%20a%20magnificent%20sight:%20the%20land%20curves%20up%20away%20from%20you%20in%20every%20direction,%20covered%20with%20the%20cities%20and%20fields%20of%20the%20Core%20People.%20Molten%20rock%20runs%20in%20the%20canals,%20bringing%20heat%20and%20light%20to%20every%20home.%5Cn%5CnAt%20the%20center%20of%20the%20Earth%20hangs%20a%20dense%20black%20sun.%22%5Cn%5CnInclude%20Basic%20Screen%20Effects%20by%20Emily%20Short.%5Cn%5CnRule%20for%20constructing%20the%20status%20line:%5Cn%5Ctcenter%20%22%5Blocation%5D%22%20at%20row%201;%5Cn%5Ctrule%20succeeds.%5Cn%5CnTest%20me%20with%20%22look%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Centered"
</p>
<p class="quoted">
When play begins:
<br>    say "After months of boring through the Earth's crust in this metal-jawed vehicle, you break through..."
</p>
<p class="quoted">
The Hollow Core is a room. "Truly a magnificent sight: the land curves up away from you in every direction, covered with the cities and fields of the Core People. Molten rock runs in the canals, bringing heat and light to every home.
</p>
<p class="quoted">
At the center of the Earth hangs a dense black sun."
</p>
<p class="quoted">
Include Basic Screen Effects by Emily Short.
</p>
<p class="quoted">
Rule for constructing the status line:
<br>    center "[location]" at row 1;
<br>    rule succeeds.
</p>
<p class="quoted">
Test me with "look".
</p>
</div>
<p>Basic Screen Effects also provides a mechanism for building complicated status lines of more than one row. To read its documentation, we include the extension, press Go!, and then consult the contents index that results.</p>
</div>
<div class="linkback">
<a href="wi_8.html#wi-8.3">WI §8.3. Changing the status line</a><br><a href="rb_12.html#rb-12.2">RB §12.2. The Status Line</a>
</div></details>
</div></section>
<section class="section" id="rb-12.3"><div>





<h3>RB §12.3. Footnotes</h3>
<p><a href="rb_12.html#example-300" class="example-link" onClick="(function() { document.getElementById('example-300').setAttribute('open','open'); return true; })();">Ibid.</a><span class="example-difficulty"> ★★</span> provides a version of the traditional Infocom-style approach to footnotes, which number off in the order encountered.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-300"><summary><span class="example-summary">300. Ibid.</span> <span class="example-difficulty">★★</span></summary><div>
<p>"Hitchhiker's Guide to the Galaxy" introduced the idea of footnoted descriptions, and various IF games since have toyed with the idea. The recommended implementation in Inform 6 involved keeping an assortment of footnote objects around, but in Inform 7 the table is a much tidier way of handling the same problem.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Ibid.%22%5Cn%5CnThe%20Ship%20Inn%20is%20a%20room.%20%22Here%20you%20are%20in%20a%20lovely%20pub%20which%20your%20guidebook%20assures%20you%20is%20extremely%20authentic.%20%5B1%20as%20a%20footnote%5D.%5Cn%5CnTo%20your%20left%20sits%20a%20party%20of%20Italians,%20with%20their%20guidebook.%5Cn%5CnTo%20your%20right%20is%20a%20silent,%20but%20not%20unappealing,%20young%20man.%22.%5Cn%5CnA%20party%20of%20Italians%20and%20a%20silent%20young%20man%20are%20people%20in%20the%20Ship%20Inn.%20The%20Italians%20and%20the%20young%20man%20are%20scenery.%5Cn%5CnThe%20table%20is%20a%20supporter%20in%20the%20Ship%20Inn.%20On%20the%20table%20is%20a%20mysterious%20pie.%20The%20description%20of%20the%20pie%20is%20%22Your%20waitress%20told%20you%20it%20was%20the%20specialty%20of%20the%20day,%20Steak%20and%20Owl%20Pie.%20%5B2%20as%20a%20footnote%5D.%22%20The%20pie%20is%20edible.%5Cn%5CnTable%20of%20Footnotes%5Cnassignment%5Ctnote%5Cna%20number%5Ct%22Francis%20Drake%20ate%20here,%20if%20the%20sign%20on%20the%20door%20is%20to%20be%20believed%22%5Cn--%5Ct%22this%20is%20unlikely,%20considering%20that%20owls%20are%20protected%20animals%20in%20England%20these%20days%20%5B3%20as%20a%20footnote%5D%22%5Cn--%5Ct%22moreover,%20you%20can't%20imagine%20that%20owl%20would%20be%20very%20tasty%22%5Cn%5CnFootnotes%20mentioned%20is%20a%20number%20that%20varies.%5Cn%5Cn%5BWhenever%20we%20mention%20a%20footnote%20for%20the%20first%20time,%20we%20need%20to%20assign%20it%20a%20number,%20which%20we%20will%20use%20consistently%20thereafter.%20And%20it's%20probably%20a%20good%20idea%20to%20protect%20ourselves%20against%20the%20author%20accidentally%20using%20a%20number%20too%20large%20for%20the%20footnote%20table,%20too.%20So:%5D%5Cn%5CnTo%20say%20(footnote%20-%20a%20number)%20as%20a%20footnote:%5Cn%5Ctif%20footnote%20&gt;%20number%20of%20filled%20rows%20in%20the%20Table%20of%20Footnotes:%5Cn%5Ct%5Ctsay%20%22Programming%20error:%20footnote%20assignment%20out%20of%20range.%22;%5Cn%5Ctotherwise:%5Cn%5Ct%5Ctchoose%20row%20footnote%20in%20the%20Table%20of%20Footnotes;%5Cn%5Ct%5Ctif%20there%20is%20an%20assignment%20entry:%5Cn%5Ct%5Ct%5Ctsay%20%22(%5Bassignment%20entry%5D)%22;%5Cn%5Ct%5Ctotherwise:%5Cn%5Ct%5Ct%5Ctincrement%20footnotes%20mentioned;%5Cn%5Ct%5Ct%5Ctchoose%20row%20footnote%20in%20the%20Table%20of%20Footnotes;%5Cn%5Ct%5Ct%5Ctnow%20assignment%20entry%20is%20footnotes%20mentioned;%5Cn%5Ct%5Ct%5Ctsay%20%22(%5Bassignment%20entry%5D)%22.%5Cn%5Cn%5BNow,%20in%20order%20to%20let%20the%20player%20view%20these%20footnotes,%20we'll%20need%20to%20parse%20numbers.%5D%5Cn%5CnUnderstand%20%22footnote%20%5Bnumber%5D%22%20as%20looking%20up%20a%20footnote.%5Cn%5CnLooking%20up%20a%20footnote%20is%20an%20action%20applying%20to%20one%20number.%5Cn%5CnCheck%20looking%20up%20a%20footnote:%5Cn%5Ctif%20the%20number%20understood%20&gt;%20footnotes%20mentioned,%20say%20%22You%20haven't%20seen%20any%20such%20footnote.%22%20instead;%5Cn%5Ctif%20the%20number%20understood%20&lt;%201,%20say%20%22Footnotes%20are%20numbered%20from%201.%22%5Cn%5CnCarry%20out%20looking%20up%20a%20footnote:%5Cn%5Ctchoose%20row%20with%20assignment%20of%20number%20understood%20in%20the%20Table%20of%20Footnotes;%5Cn%5Ctsay%20%22(%5Bassignment%20entry%5D):%20%5Bnote%20entry%5D.%22%5Cn%5CnTest%20me%20with%20%22footnote%201%20/%20examine%20pie%20/%20footnote%202%20/%20footnote%203%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Ibid."
</p>
<p class="quoted">
The Ship Inn is a room. "Here you are in a lovely pub which your guidebook assures you is extremely authentic. [1 as a footnote].
</p>
<p class="quoted">
To your left sits a party of Italians, with their guidebook.
</p>
<p class="quoted">
To your right is a silent, but not unappealing, young man.".
</p>
<p class="quoted">
A party of Italians and a silent young man are people in the Ship Inn. The Italians and the young man are scenery.
</p>
<p class="quoted">
The table is a supporter in the Ship Inn. On the table is a mysterious pie. The description of the pie is "Your waitress told you it was the specialty of the day, Steak and Owl Pie. [2 as a footnote]." The pie is edible.
</p>
<p class="quoted">
Table of Footnotes
<br></p>
<table class="codetable">
<tr>
<td class="quotedtablecell"><p class="quoted">assignment</p></td>
<td class="quotedtablecell"><p class="quoted">note</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">a number</p></td>
<td class="quotedtablecell"><p class="quoted">"Francis Drake ate here, if the sign on the door is to be believed"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">"this is unlikely, considering that owls are protected animals in England these days [3 as a footnote]"</p></td>
</tr>
<tr>
<td class="quotedtablecell"><p class="quoted">--</p></td>
<td class="quotedtablecell"><p class="quoted">"moreover, you can't imagine that owl would be very tasty"</p></td>
</tr>
</table>
<p class="quoted">
Footnotes mentioned is a number that varies.
</p>
</div>
<p>Whenever we mention a footnote for the first time, we need to assign it a number, which we will use consistently thereafter. And it's probably a good idea to protect ourselves against the author accidentally using a number too large for the footnote table, too. So:</p>

<div class="code"><p class="quoted">
To say (footnote - a number) as a footnote:
<br>    if footnote &gt; number of filled rows in the Table of Footnotes:
<br>        say "Programming error: footnote assignment out of range.";
<br>    otherwise:
<br>        choose row footnote in the Table of Footnotes;
<br>        if there is an assignment entry:
<br>            say "([assignment entry])";
<br>        otherwise:
<br>            increment footnotes mentioned;
<br>            choose row footnote in the Table of Footnotes;
<br>            now assignment entry is footnotes mentioned;
<br>            say "([assignment entry])".
</p></div>
<p>Now, in order to let the player view these footnotes, we'll need to parse numbers.</p>

<div class="code">
<p class="quoted">
Understand "footnote [number]" as looking up a footnote.
</p>
<p class="quoted">
Looking up a footnote is an action applying to one number.
</p>
<p class="quoted">
Check looking up a footnote:
<br>    if the number understood &gt; footnotes mentioned, say "You haven't seen any such footnote." instead;
<br>    if the number understood &lt; 1, say "Footnotes are numbered from 1."
</p>
<p class="quoted">
Carry out looking up a footnote:
<br>    choose row with assignment of number understood in the Table of Footnotes;
<br>    say "([assignment entry]): [note entry]."
</p>
<p class="quoted">
Test me with "footnote 1 / examine pie / footnote 2 / footnote 3".
</p>
</div>
<p>This method does require us to keep track of where a footnote appears in the table. If we found this inconvenient, we could add a column to the footnote table so that we could invoke it with tags like "[appearance quip as a footnote]".</p>
</div>
<div class="linkback">
<a href="wi_17.html#wi-17.6">WI §17.6. Actions applying to kinds of value</a><br><a href="rb_12.html#rb-12.3">RB §12.3. Footnotes</a>
</div></details>
</div></section>
<section class="section" id="rb-12.4"><div>





<h3>RB §12.4. Timed Input</h3>
<p>Inform normally expects a purely turn-based story: the player acts, the story responds and waits for the player to act again.</p>
<p>Occasionally, however, we may want to offer a different mode of interaction, for instance with turns in which the player has limited time to come up with his next act. Likewise, we might want to have text that printed itself to the screen gradually, to represent dialogue with pauses, or the speed of a typewriter placing letters on a page.</p>
<p>It's best to be careful with these effects: overdone, they can be very annoying to players who prefer to read at a faster speed. Nonetheless, they do have their uses.</p>
<p>Inform does not have standard syntax to handle real-time delays and output, but there are several extensions that provide this capacity. Erik Temple's extension Real Time Delays, for instance, allows us to specify a delay in milliseconds before continuing with whatever aspect of the story is currently in progress.</p>


</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_4.html#rb-4.1" class="crossreference_link">The Passage Of Time</a> for ways to keep track of clock-time within the story</div>
</div></section>
<section class="section" id="rb-12.5"><div>





<h3>RB §12.5. Glulx Multimedia Effects</h3>
<p>Glulx is one of the two basic story file formats to which Inform can work. It is the more powerful of the two, and modern-day Inform uses it by default. At one time it was a less universally playable format, but today players rarely have any trouble getting it to work.</p>
<p>Among its powers are the ability to display images, play back sound effects, and read and write external files to the disc. With care and a certain amount of fuss, this can even give a playing story file limited Internet connectivity, although it should be stressed that this can only be done if the player sets up his computer just right and runs an auxiliary program beside the story itself. That will mostly be too much to ask, if the player is playing offline, but when the story file is being run on an interpreter running at a server - so that the player simply sends commands to it and sees responses back on a web page - one could easily imagine setting up the server to provide these auxiliary programs, without any extra difficulty for the player.</p>
<p>Many of the more advanced multimedia abilities of Glulx are best unlocked using extensions available from the Inform website or the Public Library. As of this writing, extensions exist to help authors create complex multi-windowed displays (including per-location pictures, visual status bars, and even limited animations and gradually-revealed maps).</p>
<p>There is also work in progress on sound-management to allow the author to play sounds in multiple channels at once, to change sound volumes, and to create fade-in and fade-out effects.</p>
<p>Without extensions, all these abilities are within reach for an author who is willing to do some fairly advanced programming.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-445"><summary><span class="example-summary">445. Flathead News Network</span> <span class="example-difficulty">★★★</span></summary><div>
<p>This example can only work if we have a separate program running in the background while the story file is being played, and as such it will only work if we set things up in a special way. Exactly how to do this will vary from platform to platform.</p>
<p>First, the source text for the Inform end of the communication line:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Flathead%20News%20Network%22%5Cn%5CnThe%20file%20of%20RSS%20Requests%20is%20called%20%22rssrequest%22.%5Cn%5CnThe%20file%20of%20RSS%20Responses%20(owned%20by%20project%20%22RSS-SCRIPT%22)%20is%20called%20%22rssreply%22.%5Cn%5CnTo%20request%20(RSS%20feed%20address%20-%20text):%5Cn%5Ctmark%20the%20file%20of%20RSS%20Responses%20as%20not%20ready%20to%20read;%5Cn%5Ctwrite%20the%20RSS%20feed%20address%20to%20the%20file%20of%20RSS%20Requests.%5Cn%5CnNewsroom%20is%20a%20room.%20%22This%20is%20the%20secret%20nerve-centre%20of%20FNN,%20the%20Flathead%20News%20Network.%22%5Cn%5CnThe%20BBC%20button%20is%20in%20the%20Newsroom.%20Instead%20of%20pushing%20the%20BBC%20button:%20say%20%22Bong!%22;%20request%20%22newsrss.bbc.co.uk/rss/newsonline_uk_edition/front_page/rss.xml%22.%5Cn%5CnThe%20NASA%20button%20is%20in%20the%20Newsroom.%20Instead%20of%20pushing%20the%20NASA%20button:%20say%20%22Bang!%22;%20request%20%22www.nasa.gov/rss/breaking_news.rss%22.%5Cn%5CnThe%20WHO%20button%20is%20in%20the%20Newsroom.%20Instead%20of%20pushing%20the%20WHO%20button:%20say%20%22Bing!%22;%20request%20%22http://www.doctorwhonews.net%22.%5Cn%5CnA%20screen%20is%20in%20the%20Newsroom.%5Cn%5CnInstead%20of%20examining%20the%20screen:%5Cn%5Ctif%20ready%20to%20read%20the%20file%20of%20RSS%20Responses,%20say%20%22From%20the%20screen%20you%20read:%5Bline%20break%5D%5Btext%20of%20the%20file%20of%20RSS%20Responses%5D%22;%5Cn%5Ctotherwise%20say%20%22The%20screen%20remains%20blank%20for%20now.%22%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Flathead News Network"
</p>
<p class="quoted">
The file of RSS Requests is called "rssrequest".
</p>
<p class="quoted">
The file of RSS Responses (owned by project "RSS-SCRIPT") is called "rssreply".
</p>
<p class="quoted">
To request (RSS feed address - text):
<br>    mark the file of RSS Responses as not ready to read;
<br>    write the RSS feed address to the file of RSS Requests.
</p>
<p class="quoted">
Newsroom is a room. "This is the secret nerve-centre of FNN, the Flathead News Network."
</p>
<p class="quoted">
The BBC button is in the Newsroom. Instead of pushing the BBC button: say "Bong!"; request "newsrss.bbc.co.uk/rss/newsonline_uk_edition/front_page/rss.xml".
</p>
<p class="quoted">
The NASA button is in the Newsroom. Instead of pushing the NASA button: say "Bang!"; request "www.nasa.gov/rss/breaking_news.rss".
</p>
<p class="quoted">
The WHO button is in the Newsroom. Instead of pushing the WHO button: say "Bing!"; request "http://www.doctorwhonews.net".
</p>
<p class="quoted">
A screen is in the Newsroom.
</p>
<p class="quoted">
Instead of examining the screen:
<br>    if ready to read the file of RSS Responses, say "From the screen you read:[line break][text of the file of RSS Responses]";
<br>    otherwise say "The screen remains blank for now."
</p>
</div>
<p>As far as the story file is concerned, then, it sends a request down the communication line by writing the chosen RSS feed to the file named "rssrequest", and expects a reply to come back down the line by being written to the file "rssreply". However, the story file needs to expect that this might take some time. (Maybe forever, if there is no program responding, or if the Internet connection is not working.) The story file marks the "rssreply" file as not ready before it makes a request; if it subsequently finds that the file is now ready, that must mean that the other program has done the honours, and that all is well. In the mean time, "The screen remains blank for now."</p>
<p>Now for the RSS-SCRIPT program. The following provides a crude but workable program suitable for running as a Perl script on a system which provides the standard Internet fetching program "curl": Mac OS X, for instance. (If you have OS X, you can paste the following into a (Unix-format) text file called "rss-script.pl", place it in your home folder, open the Terminal utility, type "perl rss-script.pl", and then hide the Terminal window again.)</p>

<div class="code"><p class="quoted">
for (;;) { # repeat forever:
<br>    system("sleep 1"); # wait 1 second
<br>    open REQUEST, "rssrequest.glkdata" or next;
<br>    # the request file has been detected:
<br>    $header_line = &lt;REQUEST&gt;; # the header line
<br>    $rss_feed = &lt;REQUEST&gt;; # the actual content - the RSS feed URL
<br>    close REQUEST;
<br>    if ($header_line =~ m/^\*/) { # if the request file is marked ready
<br>        $rss = system("curl $rss_feed &gt;rawrss.txt"); # download the RSS feed
<br>        # read the RSS XML into a single Perl string:
<br>        open RAWRSS, "rawrss.txt" or next;
<br>        $raw = "";
<br>        while ($nl = &lt;RAWRSS&gt;) {
<br>            $raw = $raw." ".$nl;
<br>        }
<br>        close RAWRSS;
<br>        # look for the title and description of the first item:
<br>        if ($raw =~ m/\&lt;item\&gt;\&lt;title.*?\&gt;(.*?)\&lt;\/title\&gt;.*?\&lt;description.*?\&gt;(.*?)\&lt;\/description\&gt;/) {
<br>            # write the reply:
<br>            open REPLY, "&gt;rssreply.glkdata" or next;
<br>            print REPLY "* //RSS-SCRIPT// rssreply\n", $1, "\n", $2, "\n";
<br>            close REPLY;
<br>            # request safely dealt with, so we can remove it:
<br>            system("rm 'rssrequest.glkdata'");
<br>        }
<br>    }
<br>}
</p></div>
</div>
<div class="linkback">
<a href="wi_23.html#wi-23.15">WI §23.15. Exchanging files with other programs</a><br><a href="rb_12.html#rb-12.5">RB §12.5. Glulx Multimedia Effects</a>
</div></details>
</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/RB_12_1.html">RB Chapter 12 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left"><a class="nav-left" href="rb_11.html#rb-chapter-11-out-of-world-actions-and-effects">11. Out Of World Actions and Effects</a></div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_13.html#rb-chapter-13-testing-and-publishing">13. Testing and Publishing</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

