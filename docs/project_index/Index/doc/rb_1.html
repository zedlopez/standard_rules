<!doctype html>
<meta charset="utf-8"><html lang="en"><head><title>Recipe Book 1. How to Use The Recipe Book</title><link rel="stylesheet" href="style.css"><script src="chapter.js"></script></head><body>
<nav><div class="index-navbar hidden">
<a id="project_index" href="../Welcome.html"> Project Index</a><a id="source" href="../../story.html"> Source</a><a id="problems" href="../../Build/problems.html"> Problems</a><a id="debug_log" href="../../Build/debug_log.html"> Debug Log</a><a id="definitions" href="./ExtIndex.html"> Definitions</a><a id="extensions" href="./Extensions.html"> Extensions</a><a id="docs" href="./index.html"> Docs</a><a id="general_index" href="./index.html#general-index"> General Index</a>

</div>
</nav>
<main>
<header>

<div class="toc">
<h1>Recipe Book</h1>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left">&nbsp;</div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_2.html#rb-chapter-2-adaptive-prose">2. Adaptive Prose</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

<div><a id="toggle" href="javascript:toggle_details('examples')">Open all examples</a></div>
<h2>1. How to Use The Recipe Book</h2>
<div class="toc-section">1.1 <a href="rb_1.html#rb-1.1">Preface</a></div>
<div class="toc-section">1.2 <a href="rb_1.html#rb-1.2">Acknowledgements</a></div>
<div class="toc-section">1.3 <a href="rb_1.html#rb-1.3">Disenchantment Bay</a></div>
<div class="toc-section">1.4 <a href="rb_1.html#rb-1.4">Information Only</a></div>
</header>
<main>
<section class="chapter" id="rb-chapter-1-how-to-use-the-recipe-book">
<section class="section" id="rb-1.1"><div>



<h3>RB §1.1. Preface</h3>
<p><strong>The Inform Recipe Book</strong> is one of two interlinked books included with Inform 7: a comprehensive collection of examples, showing the practical use of Inform. The other book is <strong>Writing with Inform</strong>, a systematic manual for the software. If you are reading this within the Inform application, you will see that the Recipe Book pages are on "yellow paper", while the manual is on "white paper".</p>
<p>The Recipe Book assumes that the reader already knows the basics covered in Chapters 1 and 2 of <em>Writing with Inform</em>: enough to get simple projects working in the Inform application. It's helpful, but not necessary, to have some familiarity with the main ingredients of Inform. For instance, the reader who can play and test the following source text, and who can take a guess at what it ought to do, should be fine:</p>

<div class="code">
<p class="quoted">
 "The Power of the Keys"
</p>
<p class="quoted">
Afterlife is a room. "Fluffy white clouds gather round you here in the afterlife." The Pearly Gates are a door in Afterlife. "The Pearly Gates - large, white, wrought-iron and splendidly monumental - stand above you." Heaven is a room. The Gates are above the Afterlife and below Heaven.
</p>
<p class="quoted">
St Peter is a man in the Afterlife. "St Peter, cheery if absent-minded, studies his celestial clipboard."
</p>
<p class="quoted">
Before going through the Pearly Gates:
<br>    say "St Peter coughs disarmingly. 'If you'd read your Bible,' he says, 'you might recall Revelation 21:21 saying that the twelve gates were twelve pearls, each gate being made from a single pearl. I really don't know why people keep imagining it like the entrance to some sort of public park - oh, well. In you go.'";
<br>    end the story.
</p>
<p class="quoted">
Test me with "enter gates".
</p>
</div>
<p>The <em>Recipe Book</em> is not a tutorial - it offers advice and examples to crib from, not theory or systematic teaching. The examples here are provided with the express intention that authors cut and paste useful passages into their own works, modifying as they go. This is an excellent way to get things working quickly.</p>
<p>In the traditional saying: good programmers write good code, but great programmers steal it. (Appropriately enough, nobody seems to know who said this first.) For the avoidance of any doubt - the example text is here to be taken, and this infringes no copyright, and requires no acknowledgement. So steal at will. The examples are a part of Inform itself, and as such, they are available to anyone who accepts the Inform licence.</p>
<p>Many programming languages for conventional computing, such as C, come with elaborate libraries of ready-written code - so elaborate, in fact, that they often need much larger manuals than the language itself, and can be hard to learn. Even expert programmers typically use only a small part of what is available in such libraries, giving up on the rest as too complex to use, or too difficult to find out about, or not quite what they need.</p>
<p>The designers of Inform chose not to go down this road. Rather than providing a general system for liquids (say), which would have to be a quite complicated and opaque program, Inform provides a choice of examples showing how to get different effects. The writer can read the text which achieves these effects, and can simply cut and paste whatever might be useful, and rewrite whatever is not quite wanted.</p>
<p>The wider community of Inform writers has made a great wealth of material available in the form of Extensions, too, and under a Creative Commons Attribution licence requiring only a namecheck: we don't cover the Extensions in this book, because it would grow far too long and be a constant labour to maintain, but it's well worth seeing what is out there.</p>



</div>
<div class="crossreferences">
<h4>See also</h4>
<div class="crossreference">
<a href="rb_1.html#rb-1.2" class="crossreference_link">Acknowledgements</a> for a chance to try out the cross-referencing links in the Recipe Book - click on the red asterisk or the name of the destination to go there</div>
</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-1"><summary><span class="example-summary">1. About the examples</span> <span class="example-difficulty">★</span></summary><div>
<p>This is the first of about 400 numbered examples. In a few cases, such as this one, they provide a little background information, but almost all demonstrate Inform source text. The techniques demonstrated tend to be included either because they are frequently asked for, or because they show how to achieve some interesting effect.</p>
<p>The same examples are included in <span class="boldface">both</span> of the books of documentation, but in a different order: in <span class="italic">Writing with Inform</span>, they appear near the techniques used to make them work; in <span class="italic">The Inform Recipe Book</span>, they are grouped by the effects they provide. For instance, an example called "Do Pass Go", about the throwing of a pair of dice, appears in the "Randomness" section of <span class="italic">Writing with Inform</span> and also in the "Dice and Playing Cards" section of <span class="italic">The Inform Recipe Book</span>. Clicking the italicised WI and RB buttons at the right-hand side of an example's heading switches between its position in each book.</p>
<p>Many computing books quote excerpts from programs, but readers have grown wary of them: they are tiresome to type in, and may only be fragments, or may not ever have been tested. The authors of Inform have tried to avoid this. All but two dozen examples contain entire source texts. A single click on the paste icon <img alt="paste.png" src="doc_images/paste.png"> (always placed just left of the double-quoted title) will write the complete source text into the Source panel. All that is then required is to click the Go button, and the example should translate into a working game.</p>
<p>In most cases, typing the single command TEST ME will play through a few moves to show off the effect being demonstrated. (You may find it convenient to create a "scratch" project file for temporary trials like this, clearing all its text and starting again with each new test.)</p>
<p>As part of the testing process which verifies a new build of Inform, each example in turn is extracted from this documentation, translated, played through, and the resulting transcript mechanically checked. So the examples may even work as claimed. But the flesh is weak, and there are bound to be glitches. We would welcome reports, so that future editions can be corrected.</p>
<p>Each example is loosely graded by difficulty: if they were exercises in a textbook, the asterisks would indicate how many marks each question scores. As a general rule:</p>

<div class="code"><p class="quoted">
<img alt="asterisk.png" src="doc_images/asterisk.png"> - A simple example, fairly easily guessed.
<br><img alt="asterisk.png" src="doc_images/asterisk.png"> <img alt="asterisk.png" src="doc_images/asterisk.png"> - A complicated or surprising example.
<br><img alt="asterisk.png" src="doc_images/asterisk.png"> <img alt="asterisk.png" src="doc_images/asterisk.png"> <img alt="asterisk.png" src="doc_images/asterisk.png"> - An example needing detailed knowledge of many aspects of the system.
<br><img alt="asterisk.png" src="doc_images/asterisk.png"> <img alt="asterisk.png" src="doc_images/asterisk.png"> <img alt="asterisk.png" src="doc_images/asterisk.png"> <img alt="asterisk.png" src="doc_images/asterisk.png"> - A complete scenario, containing material not necessarily relevant to the topic being demonstrated.
</p></div>
<p>In general, the main text of <span class="italic">Writing with Inform</span> tries never to assume knowledge of material which has not yet appeared, but the trickier examples almost always need to break this rule.</p>
</div>
<div class="linkback">
<a href="wi_1.html#wi-1.1">WI §1.1. Preface</a><br><a href="rb_1.html#rb-1.1">RB §1.1. Preface</a>
</div></details><details class="full-example" id="example-12"><summary><span class="example-summary">12. Midsummer Day</span> <span class="example-difficulty">★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Midsummer%20Day%22%5Cn%5CnEast%20of%20the%20Garden%20is%20the%20Gazebo.%20Above%20is%20the%20Treehouse.%20A%20billiards%20table%20is%20in%20the%20Gazebo.%20On%20it%20is%20a%20trophy%20cup.%20A%20starting%20pistol%20is%20in%20the%20cup.%20In%20the%20Treehouse%20is%20a%20container%20called%20a%20cardboard%20box.%5Cn%5CnTest%20me%20with%20%22up%20/%20x%20box%20/%20d%20/%20e%20/%20x%20table%20/%20x%20cup%20/%20x%20pistol%20/%20get%20cup%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Midsummer Day"
</p>
<p class="quoted">
East of the Garden is the Gazebo. Above is the Treehouse. A billiards table is in the Gazebo. On it is a trophy cup. A starting pistol is in the cup. In the Treehouse is a container called a cardboard box.
</p>
<p class="quoted">
Test me with "up / x box / d / e / x table / x cup / x pistol / get cup".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.5">WI §3.5. Kinds</a><br><a href="rb_1.html#rb-1.1">RB §1.1. Preface</a>
</div></details>
</div></section>
<section class="section" id="rb-1.2"><div>





<h3>RB §1.2. Acknowledgements</h3>
<p>David Fisher's "Past raif topics" pages on the Interactive Fiction Wiki were an invaluable tool during the early design of these examples, as they catalog an enormous assortment of implementation problems encountered by IF authors over the past fifteen years.</p>
<p>Thanks also go to Nick Montfort for several conversations during the development of Inform: these inspired a number of ideas about how the author should be able to control the textual output of a story, and suggested specific problem areas to work on.</p>
<p>Jeff Nyman provided extensive feedback about using <em>Writing with Inform</em> in workshops of aspiring IF authors from both programming and conventional fiction writing backgrounds. His observations about the concerns of conventional writers first encountering IF were especially useful, and had a great influence on the  organization of the <em>Recipe Book</em>. While the results may not meet all the needs he identified, we hope to have taken a step in the right direction.</p>
<p>A few examples were contributed by denizens of rec.arts.int-fiction: Jesse McGrew, Jon Ingold, Mike Tarbert, Eric Rossing, and Kate McKee offered such elegant implementations of various tasks that we have folded their contributions (with permission) into the <em>Recipe Book</em>.</p>
<p>Finally, these pages owe much to the questions and suggestions of Inform users on rec.arts.int-fiction and ifMUD.</p>


</div></section>
<section class="section" id="rb-1.3"><div>





<h3>RB §1.3. Disenchantment Bay</h3>
<p>"Disenchantment Bay" is a simple work of IF used as a running example in <a href="wi_3.html#wi-chapter-3-things">Chapter 3 </a>of <em>Writing with Inform</em> - not so much a tutorial as a convenient hook on which to hang some demonstrations of the basics. Because the resulting examples only use basic features and in the most straightforward way, they make for uninteresting "recipes" - so they are not included in the <em>Recipe Book</em> proper. But some readers might like to have all twelve stages of the example gathered on a single page: this is that page.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-14"><summary><span class="example-summary">14. Disenchantment Bay 1</span> <span class="example-difficulty">★</span></summary><div>
<p>To begin with the title:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60%22Disenchantment%20Bay%22%5Cn%5Cn%5BThere%20are%20many%20Disenchantment%20Bays%20across%20the%20world,%20named%20by%20eighteenth-century%20ships'%20captains%20-%20one%20in%20Antarctica,%20another%20in%20Tasmania,%20for%20instance.%20The%20most%20famous%20is%20probably%20the%20one%20where%20Lewis%20and%20Clark's%20expedition%20broke%20through%20to%20the%20Pacific.%20But%20ours%20is%20the%20one%20in%20Alaska,%20named%20in%201791%20by%20a%20Spanish%20navigator%20who%20had%20hoped%20it%20might%20lead%20to%20the%20fabled%20Northwest%20Passage,%20and%20all%20of%20this%20history%20is%20beside%20the%20point%20since%20the%20game%20is%20set%20in%20the%20present%20day.%5D%5Cn%5CnThe%20Cabin%20is%20a%20room.%20%20%22The%20front%20of%20the%20small%20cabin%20is%20entirely%20occupied%20with%20navigational%20instruments,%20a%20radar%20display,%20and%20radios%20for%20calling%20back%20to%20shore.%20Along%20each%20side%20runs%20a%20bench%20with%20faded%20blue%20vinyl%20cushions,%20which%20can%20be%20lifted%20to%20reveal%20the%20storage%20space%20underneath.%20A%20glass%20case%20against%20the%20wall%20contains%20several%20fishing%20rods.%5Cn%5CnScratched%20windows%20offer%20a%20view%20of%20the%20surrounding%20bay,%20and%20there%20is%20a%20door%20south%20to%20the%20deck.%20A%20sign%20taped%20to%20one%20wall%20announces%20the%20menu%20of%20tours%20offered%20by%20the%20Yakutat%20Charter%20Boat%20Company.%22%5Cn%5Cn%5BWe%20might%20want%20to%20start%20with%20the%20glass%20case.%5D%5Cn%5CnThe%20Cabin%20contains%20a%20glass%20case.%20In%20the%20glass%20case%20is%20a%20collection%20of%20fishing%20rods.%5Cn%5Cn%5BNow%20Inform%20will%20have%20guessed%20that%20the%20case%20is%20a%20container,%20but%20its%20default%20idea%20of%20a%20container%20is%20something%20like%20a%20bucket:%20permanently%20open%20and%20not%20able%20to%20be%20opened%20and%20shut.%20We%20can%20change%20that:%5D%5Cn%5CnThe%20case%20is%20closed,%20transparent,%20and%20openable.%5Cn%5Cn%5BWe%20get%20a%20similar%20set%20of%20guesses%20if%20we%20write%5D%5Cn%5CnThe%20bench%20is%20in%20the%20cabin.%20On%20the%20bench%20are%20some%20blue%20vinyl%20cushions.%5Cn%5Cn%5BUsing%20%22some%22%20rather%20than%20%22a%22%20or%20%22the%22%20tells%20Inform%20that%20the%20cushions%20are%20to%20be%20referred%20to%20as%20a%20plural%20object%20in%20the%20future.%20And%20because%20of%20the%20%22on%20the%20bench...%22%20phrase,%20Inform%20will%20guess%20that%20the%20bench%20is%20a%20supporter%20and%20that%20it%20is%20fixed%20in%20place%20and%20cannot%20be%20moved%20from%20room%20to%20room.%20We%20do%20have%20to%20tell%20it%20that%20the%20bench%20can%20be%20sat%20on,%20though:%5D%5Cn%5CnThe%20bench%20is%20enterable.%5Cn%5Cn%5BAnd%20now%20a%20short%20script,%20so%20that%20if%20we%20type%20TEST%20ME,%20we%20experiment%20with%20the%20case%20and%20bench:%5D%5Cn%5CnTest%20me%20with%20%22examine%20case%20/%20get%20rods%20/%20open%20case%20/%20get%20rods%20/%20sit%20on%20bench%20/%20take%20cushions%20/%20get%20up%22%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Disenchantment Bay"
</p></div>
<p>There are many Disenchantment Bays across the world, named by eighteenth-century ships' captains - one in Antarctica, another in Tasmania, for instance. The most famous is probably the one where Lewis and Clark's expedition broke through to the Pacific. But ours is the one in Alaska, named in 1791 by a Spanish navigator who had hoped it might lead to the fabled Northwest Passage, and all of this history is beside the point since the game is set in the present day.</p>

<div class="code">
<p class="quoted">
The Cabin is a room.  "The front of the small cabin is entirely occupied with navigational instruments, a radar display, and radios for calling back to shore. Along each side runs a bench with faded blue vinyl cushions, which can be lifted to reveal the storage space underneath. A glass case against the wall contains several fishing rods.
</p>
<p class="quoted">
Scratched windows offer a view of the surrounding bay, and there is a door south to the deck. A sign taped to one wall announces the menu of tours offered by the Yakutat Charter Boat Company."
</p>
</div>
<p>We might want to start with the glass case.</p>

<div class="code"><p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods.
</p></div>
<p>Now Inform will have guessed that the case is a container, but its default idea of a container is something like a bucket: permanently open and not able to be opened and shut. We can change that:</p>

<div class="code"><p class="quoted">
The case is closed, transparent, and openable.
</p></div>
<p>We get a similar set of guesses if we write</p>

<div class="code"><p class="quoted">
The bench is in the cabin. On the bench are some blue vinyl cushions.
</p></div>
<p>Using "some" rather than "a" or "the" tells Inform that the cushions are to be referred to as a plural object in the future. And because of the "on the bench..." phrase, Inform will guess that the bench is a supporter and that it is fixed in place and cannot be moved from room to room. We do have to tell it that the bench can be sat on, though:</p>

<div class="code"><p class="quoted">
The bench is enterable.
</p></div>
<p>And now a short script, so that if we type TEST ME, we experiment with the case and bench:</p>

<div class="code"><p class="quoted">
Test me with "examine case / get rods / open case / get rods / sit on bench / take cushions / get up"
</p></div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.7">WI §3.7. Properties depend on kind</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-15"><summary><span class="example-summary">15. Disenchantment Bay 2</span> <span class="example-difficulty">★</span></summary><div>
<p>If we compile our last version of the cabin, we get a room where the glass case and the bench are listed separately from the room description, even though they have already been mentioned once. We can prevent this by making the already-mentioned things scenery:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Disenchantment%20Bay%22%5Cn%5CnThe%20Cabin%20is%20a%20room.%20%20%22The%20front%20of%20the%20small%20cabin%20is%20entirely%20occupied%20with%20navigational%20instruments,%20a%20radar%20display,%20and%20radios%20for%20calling%20back%20to%20shore.%20Along%20each%20side%20runs%20a%20bench%20with%20faded%20blue%20vinyl%20cushions,%20which%20can%20be%20lifted%20to%20reveal%20the%20storage%20space%20underneath.%20A%20glass%20case%20against%20the%20wall%20contains%20several%20fishing%20rods.%5Cn%5CnScratched%20windows%20offer%20a%20view%20of%20the%20surrounding%20bay,%20and%20there%20is%20a%20door%20south%20to%20the%20deck.%20A%20sign%20taped%20to%20one%20wall%20announces%20the%20menu%20of%20tours%20offered%20by%20the%20Yakutat%20Charter%20Boat%20Company.%22%5Cn%5CnThe%20Cabin%20contains%20a%20glass%20case.%20In%20the%20glass%20case%20is%20a%20collection%20of%20fishing%20rods.%20The%20case%20is%20closed,%20transparent,%20and%20openable.%20The%20case%20is%20scenery.%5Cn%5CnThe%20bench%20is%20in%20the%20cabin.%20On%20the%20bench%20are%20some%20blue%20vinyl%20cushions.%20The%20bench%20is%20enterable%20and%20scenery.%20The%20cushions%20are%20scenery.%5Cn%5Cn%5BGenerally%20speaking,%20it%20is%20a%20good%20idea%20to%20recognize%20the%20player's%20attempts%20to%20interact%20with%20any%20objects%20mentioned%20in%20the%20room%20description,%20so%20we%20should%20also%20provide%5D%5Cn%5CnSome%20navigational%20instruments,%20some%20scratched%20windows,%20a%20sign,%20a%20radar%20display,%20and%20some%20radios%20are%20scenery%20in%20the%20cabin.%5Cn%5CnTest%20me%20with%20%22examine%20instruments%20/%20x%20windows%20/%20x%20sign%20/%20x%20display%20/%20x%20radios%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Disenchantment Bay"
</p>
<p class="quoted">
The Cabin is a room.  "The front of the small cabin is entirely occupied with navigational instruments, a radar display, and radios for calling back to shore. Along each side runs a bench with faded blue vinyl cushions, which can be lifted to reveal the storage space underneath. A glass case against the wall contains several fishing rods.
</p>
<p class="quoted">
Scratched windows offer a view of the surrounding bay, and there is a door south to the deck. A sign taped to one wall announces the menu of tours offered by the Yakutat Charter Boat Company."
</p>
<p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods. The case is closed, transparent, and openable. The case is scenery.
</p>
<p class="quoted">
The bench is in the cabin. On the bench are some blue vinyl cushions. The bench is enterable and scenery. The cushions are scenery.
</p>
</div>
<p>Generally speaking, it is a good idea to recognize the player's attempts to interact with any objects mentioned in the room description, so we should also provide</p>

<div class="code">
<p class="quoted">
Some navigational instruments, some scratched windows, a sign, a radar display, and some radios are scenery in the cabin.
</p>
<p class="quoted">
Test me with "examine instruments / x windows / x sign / x display / x radios".
</p>
</div>
<p>The door and the view will need to be done as well, but they are special cases which we will get to shortly.</p>
<p>As noted, making something scenery also means that the player will be prevented from picking it up and carrying it away. This is sensible, though: if an object can be removed from the room where it first appears, we should be careful about mentioning it in the main room description; otherwise, it will continue to be described as present even when someone has carried it off.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.8">WI §3.8. Scenery</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-17"><summary><span class="example-summary">17. Disenchantment Bay 3</span> <span class="example-difficulty">★</span></summary><div>
<p>Suppose we wanted to have the glacier visible from the Cabin of our boat, and anywhere else we might add to the game:</p>

<div class="code"><p class="quoted">
The view of the Malaspina glacier is a backdrop. It is everywhere. The description is "The Malaspina glacier covers much of the nearby slope, and -- beyond it -- an area as large as Rhode Island."
</p></div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.9">WI §3.9. Backdrops</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-18"><summary><span class="example-summary">18. Disenchantment Bay 4</span> <span class="example-difficulty">★</span></summary><div>
<p>Currently we have provided objects for most of what is on the boat, but it's not very interesting to look at. We might want to give some more description to these things.</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Disenchantment%20Bay%22%5Cn%5CnThe%20Cabin%20is%20a%20room.%20%20%22The%20front%20of%20the%20small%20cabin%20is%20entirely%20occupied%20with%20navigational%20instruments,%20a%20radar%20display,%20and%20radios%20for%20calling%20back%20to%20shore.%20Along%20each%20side%20runs%20a%20bench%20with%20faded%20blue%20vinyl%20cushions,%20which%20can%20be%20lifted%20to%20reveal%20the%20storage%20space%20underneath.%20A%20glass%20case%20against%20the%20wall%20contains%20several%20fishing%20rods.%5Cn%5CnScratched%20windows%20offer%20a%20view%20of%20the%20surrounding%20bay,%20and%20there%20is%20a%20door%20south%20to%20the%20deck.%20A%20sign%20taped%20to%20one%20wall%20announces%20the%20menu%20of%20tours%20offered%20by%20the%20Yakutat%20Charter%20Boat%20Company.%22%5Cn%5CnThe%20Cabin%20contains%20a%20glass%20case.%20In%20the%20glass%20case%20is%20a%20collection%20of%20fishing%20rods.%20The%20case%20is%20closed,%20transparent,%20and%20openable.%20The%20case%20is%20scenery.%5Cn%5CnThe%20bench%20is%20in%20the%20cabin.%20On%20the%20bench%20are%20some%20blue%20vinyl%20cushions.%20The%20bench%20is%20enterable%20and%20scenery.%20The%20cushions%20are%20scenery.%5Cn%5CnSome%20navigational%20instruments,%20some%20scratched%20windows,%20a%20radar%20display,%20and%20some%20radios%20are%20scenery%20in%20the%20cabin.%5Cn%5CnThe%20description%20of%20the%20instruments%20is%20%22Knowing%20what%20they%20do%20is%20the%20Captain's%20job.%22%5Cn%5CnThe%20description%20of%20the%20windows%20is%20%22They're%20a%20bit%20the%20worse%20for%20wear,%20but%20you%20can%20still%20get%20an%20impressive%20view%20of%20the%20glacier%20through%20them.%20There%20were%20whales%20earlier,%20but%20they're%20gone%20now.%22%5Cn%5CnThe%20description%20of%20the%20radar%20is%20%22Apparently%20necessary%20to%20avoid%20the%20larger%20icebergs.%22%5Cn%5CnThe%20description%20of%20the%20radios%20is%20%22With%20any%20luck%20you%20will%20not%20need%20to%20radio%20for%20help,%20but%20it%20is%20reassuring%20that%20these%20things%20are%20here.%22%5Cn%5Cn%5BThe%20order%20in%20which%20we%20define%20these%20things%20is%20fairly%20open.%20We%20could%20also%20define%20an%20object%20so:%5D%5Cn%5CnA%20sign%20is%20scenery%20in%20the%20Cabin.%20The%20description%20is%20%22You%20can%20get%20half-day%20and%20full-day%20sight-seeing%20tours,%20and%20half-day%20and%20full-day%20fishing%20trips.%22%5Cn%5Cn%5BWhere%20%22the%20description%22%20is%20assumed%20to%20refer%20to%20the%20thing%20most%20recently%20defined,%20if%20no%20object%20is%20specified.%5D%5Cn%5CnThe%20view%20of%20the%20Malaspina%20glacier%20is%20a%20backdrop.%20It%20is%20everywhere.%20The%20description%20is%20%22The%20Malaspina%20glacier%20covers%20much%20of%20the%20nearby%20slope,%20and%20--%20beyond%20it%20--%20an%20area%20as%20large%20as%20Rhode%20Island.%22%5Cn%5CnTest%20me%20with%20%22examine%20sign%20/%20examine%20glacier%20/%20examine%20instruments%20/%20examine%20windows%20/%20examine%20radar%20/%20examine%20radios%20/%20take%20the%20cushions%20/%20take%20the%20glacier%22.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Disenchantment Bay"
</p>
<p class="quoted">
The Cabin is a room.  "The front of the small cabin is entirely occupied with navigational instruments, a radar display, and radios for calling back to shore. Along each side runs a bench with faded blue vinyl cushions, which can be lifted to reveal the storage space underneath. A glass case against the wall contains several fishing rods.
</p>
<p class="quoted">
Scratched windows offer a view of the surrounding bay, and there is a door south to the deck. A sign taped to one wall announces the menu of tours offered by the Yakutat Charter Boat Company."
</p>
<p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods. The case is closed, transparent, and openable. The case is scenery.
</p>
<p class="quoted">
The bench is in the cabin. On the bench are some blue vinyl cushions. The bench is enterable and scenery. The cushions are scenery.
</p>
<p class="quoted">
Some navigational instruments, some scratched windows, a radar display, and some radios are scenery in the cabin.
</p>
<p class="quoted">
The description of the instruments is "Knowing what they do is the Captain's job."
</p>
<p class="quoted">
The description of the windows is "They're a bit the worse for wear, but you can still get an impressive view of the glacier through them. There were whales earlier, but they're gone now."
</p>
<p class="quoted">
The description of the radar is "Apparently necessary to avoid the larger icebergs."
</p>
<p class="quoted">
The description of the radios is "With any luck you will not need to radio for help, but it is reassuring that these things are here."
</p>
</div>
<p>The order in which we define these things is fairly open. We could also define an object so:</p>

<div class="code"><p class="quoted">
A sign is scenery in the Cabin. The description is "You can get half-day and full-day sight-seeing tours, and half-day and full-day fishing trips."
</p></div>
<p>Where "the description" is assumed to refer to the thing most recently defined, if no object is specified.</p>

<div class="code">
<p class="quoted">
The view of the Malaspina glacier is a backdrop. It is everywhere. The description is "The Malaspina glacier covers much of the nearby slope, and -- beyond it -- an area as large as Rhode Island."
</p>
<p class="quoted">
Test me with "examine sign / examine glacier / examine instruments / examine windows / examine radar / examine radios / take the cushions / take the glacier".
</p>
</div>
<p>These last two commands show how scenery and backdrops are automatically impossible for the player to take.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.11">WI §3.11. Two descriptions of things</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-20"><summary><span class="example-summary">20. Disenchantment Bay 5</span> <span class="example-difficulty">★</span></summary><div>
<p>We mentioned that there is a door out to the deck in our example. The following two sentences will create both the door and the other room:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60The%20cabin%20door%20is%20south%20of%20the%20Cabin%20and%20north%20of%20the%20Deck.%20It%20is%20a%20door%20and%20scenery.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The cabin door is south of the Cabin and north of the Deck. It is a door and scenery.
</p></div>
<p>Now Inform has constructed a generic room called "Deck" to the south. It has neither a description nor any contents yet, but we could fix that in time. It does have a view of the glacier, though, since we defined the glacier view to be everywhere.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.12">WI §3.12. Doors</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-23"><summary><span class="example-summary">23. Disenchantment Bay 6</span> <span class="example-difficulty">★</span></summary><div>
<p>It stands to reason that the captain wouldn't let just anyone meddle with his fishing equipment; maybe he keeps that case locked. We could replace the case description with this one, instead:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60The%20Cabin%20contains%20a%20glass%20case.%20In%20the%20glass%20case%20is%20a%20collection%20of%20fishing%20rods.%20The%20case%20is%20closed,%20transparent,%20openable,%20lockable,%20and%20locked.%20The%20case%20is%20scenery.%20The%20small%20silver%20key%20unlocks%20the%20case.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The Cabin contains a glass case. In the glass case is a collection of fishing rods. The case is closed, transparent, openable, lockable, and locked. The case is scenery. The small silver key unlocks the case.
</p></div>
<p>Now there's a silver key that will unlock it -- though since we haven't said where the key is, the player will never be able to find it in the game. (If we look at the World index, we find "small silver key" right at the bottom, not inside any of the rooms. That is as good as not existing at all -- though we usually use the term "out of play" -- but as we will later see, it is possible to have things initially out of play but brought into existence later on.)</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.13">WI §3.13. Locks and keys</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-25"><summary><span class="example-summary">25. Disenchantment Bay 7</span> <span class="example-difficulty">★</span></summary><div>
<p>If we would like the player to be able to turn instrumentation on and off, we could add a line to this effect:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60The%20radar,%20the%20instruments,%20and%20the%20radios%20are%20devices.%5Cn%5Cn%5BAnd%20since%20the%20captain%20is%20probably%20not%20navigating%20blind,%20we%20might%20also%20want%20to%20say%5D%5Cn%5CnThe%20radar%20and%20the%20instruments%20are%20switched%20on.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The radar, the instruments, and the radios are devices.
</p></div>
<p>And since the captain is probably not navigating blind, we might also want to say</p>

<div class="code"><p class="quoted">
The radar and the instruments are switched on.
</p></div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.14">WI §3.14. Devices and descriptions</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-30"><summary><span class="example-summary">30. Disenchantment Bay 9</span> <span class="example-difficulty">★</span></summary><div>
<p>Now finally we can put a Captain in the boat:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60The%20Captain%20is%20a%20man%20in%20the%20Cabin.%20%22The%20captain%20sits%20at%20the%20wheel,%20steering%20the%20boat%20and%20occasionally%20checking%20the%20radar%20readout.%22%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The Captain is a man in the Cabin. "The captain sits at the wheel, steering the boat and occasionally checking the radar readout."
</p></div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.17">WI §3.17. Men, women and animals</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-33"><summary><span class="example-summary">33. Disenchantment Bay 10</span> <span class="example-difficulty">★</span></summary><div>
<p>At this point we can dress both the Captain and the player with some appropriate props:</p>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60The%20captain%20wears%20a%20baseball%20cap.%20The%20description%20of%20the%20cap%20is%20%22It%20says,%20THE%20WORST%20DAY%20FISHING%20IS%20BETTER%20THAN%20THE%20BEST%20DAY%20WORKING.%22%5Cn%5CnThe%20player%20is%20carrying%20a%20backpack%20and%20a%20bottle%20of%20water.%20The%20player%20is%20wearing%20a%20pair%20of%20sunglasses.%20The%20description%20of%20the%20sunglasses%20is%20%22The%20light%20off%20the%20water%20and%20the%20ice%20does%20get%20pretty%20bright%20sometimes.%22%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The captain wears a baseball cap. The description of the cap is "It says, THE WORST DAY FISHING IS BETTER THAN THE BEST DAY WORKING."
</p>
<p class="quoted">
The player is carrying a backpack and a bottle of water. The player is wearing a pair of sunglasses. The description of the sunglasses is "The light off the water and the ice does get pretty bright sometimes."
</p>
</div>
<p>(At present the backpack can't be worn, but see the next version.)</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.20">WI §3.20. Possessions and clothing</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-34"><summary><span class="example-summary">34. Disenchantment Bay 11</span> <span class="example-difficulty">★</span></summary><div>
<p>If we wanted, we could make the player's backpack infinitely capacious, so:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60The%20backpack%20is%20a%20player's%20holdall.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The backpack is a player's holdall.
</p></div>
<p>...And now whenever the player character is unable to hold everything, he will automatically stow some of his possessions therein.</p>
<p>This is only useful if the player doesn't have infinite carrying capacity himself, so perhaps we also need</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60The%20carrying%20capacity%20of%20the%20player%20is%203.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The carrying capacity of the player is 3.
</p></div>
<p>Perhaps mercifully, items which are worn are not counted against the player's carrying capacity. We might want to let him take advantage of that, too:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60The%20backpack%20is%20wearable.%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The backpack is wearable.
</p></div>
<p>This capacity system makes a compromise between the realistic and the absurd: on the one hand, it acknowledges that people can't carry an infinite number of items in their hands, while at the same time providing a sack that can.</p>
<p>Many games will have no use for object-juggling of this kind at all; others will want to be much more rigorous about questions of capacity and volume. Fortunately, it is easy to leave the whole business out by assigning no carrying capacity to anything.</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.21">WI §3.21. The player's holdall</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-28"><summary><span class="example-summary">28. Disenchantment Bay 8</span> <span class="example-difficulty">★★</span></summary><div>
<p>We probably do not need a vehicle to ride around our boat, but there might be a heavy ice chest that can only be pushed from room to room:</p>

<div class="code"><p class="quoted">
<a href="javascript:copyCode(%60The%20ice%20chest%20is%20a%20closed%20openable%20container%20in%20the%20Deck.%20%22A%20very%20heavy%20ice%20chest%20sits%20on%20the%20ground.%22%20It%20is%20fixed%20in%20place%20and%20pushable%20between%20rooms.%20A%20quantity%20of%20ice%20is%20in%20the%20chest.%20The%20description%20is%20%22Ready%20and%20waiting%20just%20in%20case%20there's%20any%20fish%20needing%20to%20be%20kept%20cool.%22%5Cn%5Cn%5BThis%20anticipates%20a%20later%20chapter,%20but%20it%20would%20probably%20be%20a%20good%20idea%20to%20hint%20to%20the%20player,%20if%20he%20tries%20to%20take%20the%20ice%20chest,%20that%20there%20is%20another%20way%20to%20move%20it:%5D%5Cn%5CnInstead%20of%20taking%20the%20chest:%20say%20%22It's%20too%20heavy%20to%20lift,%20but%20you%20might%20be%20able%20to%20push%20it,%20and%20just%20inch%20it%20over%20the%20frame%20of%20the%20door.%22%5Cn%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> The ice chest is a closed openable container in the Deck. "A very heavy ice chest sits on the ground." It is fixed in place and pushable between rooms. A quantity of ice is in the chest. The description is "Ready and waiting just in case there's any fish needing to be kept cool."
</p></div>
<p>This anticipates a later chapter, but it would probably be a good idea to hint to the player, if he tries to take the ice chest, that there is another way to move it:</p>

<div class="code"><p class="quoted">
Instead of taking the chest: say "It's too heavy to lift, but you might be able to push it, and just inch it over the frame of the door."
</p></div>
<p>Otherwise, attempts to pick it up will just reply with "That's fixed in place."</p>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.16">WI §3.16. Vehicles and pushable things</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details><details class="full-example" id="example-37"><summary><span class="example-summary">37. Disenchantment Bay 12</span> <span class="example-difficulty">★★★★</span></summary><div>

<div class="code">
<p class="quoted">
<a href="javascript:copyCode(%60%22Disenchantment%20Bay%22%5Cn%5CnInclude%20Locksmith%20by%20Emily%20Short.%5Cn%5CnUse%20scoring.%5Cn%5CnThe%20Cabin%20is%20a%20room.%20%20%22The%20front%20of%20the%20small%20cabin%20is%20entirely%20occupied%20with%20navigational%20instruments,%20a%20radar%20display,%20and%20radios%20for%20calling%20back%20to%20shore.%20Along%20each%20side%20runs%20a%20bench%20with%20faded%20blue%20vinyl%20cushions%5Bif%20the%20compartment%20is%20closed%5D,%20which%20can%20be%20lifted%20to%20reveal%20the%20storage%20space%20underneath%5Botherwise%5D,%20one%20of%20which%20is%20currently%20lifted%20to%20allow%20access%20to%20the%20storage%20compartment%20within%5Bend%20if%5D.%20A%20glass%20case%20against%20the%20wall%20contains%20several%20fishing%20rods.%5Cn%5CnScratched%20windows%20offer%20a%20view%20of%20the%20surrounding%20bay,%20and%20there%20is%20a%20door%20south%20to%20the%20deck.%20A%20sign%20taped%20to%20one%20wall%20announces%20the%20menu%20of%20tours%20offered%20by%20the%20Yakutat%20Charter%20Boat%20Company.%22%5Cn%5CnThe%20Cabin%20contains%20a%20glass%20case.%20In%20the%20glass%20case%20is%20a%20collection%20of%20fishing%20rods.%20Understand%20%22rod%22%20as%20the%20collection.%20The%20case%20is%20closed,%20transparent,%20openable,%20lockable,%20and%20locked.%20The%20case%20is%20scenery.%20The%20small%20silver%20key%20unlocks%20the%20case.%5Cn%5CnThe%20bench%20is%20in%20the%20cabin.%20On%20the%20bench%20are%20some%20blue%20vinyl%20cushions.%20The%20bench%20is%20enterable%20and%20scenery.%20The%20cushions%20are%20scenery.%5Cn%5CnA%20storage%20compartment%20is%20an%20openable%20closed%20container.%20It%20is%20part%20of%20the%20bench.%20Instead%20of%20opening%20the%20bench,%20try%20opening%20the%20storage%20compartment.%20Instead%20of%20closing%20the%20bench,%20try%20closing%20the%20storage%20compartment.%20Instead%20of%20pushing%20or%20pulling%20or%20turning%20the%20cushions,%20try%20opening%20the%20storage%20compartment.%20Understand%20%22space%22%20as%20the%20storage%20compartment.%5Cn%5CnSome%20nets%20and%20a%20Coke%20are%20in%20the%20compartment.%20Understand%20%22net%22%20as%20the%20nets.%20The%20description%20of%20the%20nets%20is%20%22They%20must%20have%20something%20to%20do%20with%20fish%20as%20well.%20Really,%20you're%20just%20here%20for%20the%20sights.%22%20The%20nets%20are%20a%20container.%5Cn%5CnSome%20navigational%20instruments,%20some%20scratched%20windows,%20a%20radar%20display,%20and%20some%20radios%20are%20scenery%20in%20the%20cabin.%20The%20radar,%20the%20instruments,%20and%20the%20radios%20are%20devices.%20The%20radar%20and%20the%20instruments%20are%20switched%20on.%5Cn%5CnA%20screen%20is%20part%20of%20the%20radar.%20The%20description%20of%20the%20screen%20is%20%22%5Bif%20the%20radar%20is%20switched%20on%5DPhantom%20lights%20move%20across%20the%20screen.%5Botherwise%5DThe%20screen%20is%20dark.%5Bend%20if%5D%22.%20Instead%20of%20doing%20something%20other%20than%20examining%20to%20the%20screen,%20say%20%22It's%20not%20good%20for%20much%20but%20looking%20at.%22%5Cn%5CnThe%20Captain%20is%20a%20man%20in%20the%20Cabin.%20%22The%20captain%20sits%20at%20the%20wheel,%20steering%20the%20boat%20and%20occasionally%20checking%20the%20radar%20readout.%22%20The%20captain%20wears%20a%20baseball%20cap.%20The%20description%20of%20the%20cap%20is%20%22It%20says,%20THE%20WORST%20DAY%20FISHING%20IS%20BETTER%20THAN%20THE%20BEST%20DAY%20WORKING.%22%20The%20captain%20carries%20the%20silver%20key.%20The%20description%20of%20the%20captain%20is%20%22%5BThe%20captain%5D%20is%20wearing%20%5Ba%20list%20of%20things%20worn%20by%20the%20captain%5D%5Bif%20the%20captain%20carries%20something%5D%20and%20carrying%20%5Ba%20list%20of%20things%20carried%20by%20the%20captain%5D%5Bend%20if%5D.%22%5Cn%5CnThe%20description%20of%20the%20instruments%20is%20%22Knowing%20what%20they%20do%20is%20the%20Captain's%20job.%22%20Instead%20of%20doing%20something%20other%20than%20examining%20to%20the%20instruments%20in%20the%20presence%20of%20the%20Captain:%20say%20%22The%20Captain%20glares%20at%20you.%20Clearly%20you%20are%20not%20welcome%20to%20do%20that.%22%5Cn%5CnThe%20description%20of%20the%20windows%20is%20%22They're%20a%20bit%20the%20worse%20for%20wear,%20but%20you%20can%20still%20get%20an%20impressive%20view%20of%20the%20glacier%20through%20them.%20There%20were%20whales%20earlier,%20but%20they're%20gone%20now.%22%20Understand%20%22window%22%20as%20the%20windows.%5Cn%5CnThe%20description%20of%20the%20radar%20is%20%22Apparently%20necessary%20to%20avoid%20the%20larger%20icebergs.%22%5Cn%5CnThe%20description%20of%20the%20radios%20is%20%22With%20any%20luck%20you%20will%20not%20need%20to%20radio%20for%20help,%20but%20it%20is%20reassuring%20that%20these%20things%20are%20here.%22%5Cn%5CnA%20sign%20is%20scenery%20in%20the%20Cabin.%20The%20description%20is%20%22You%20can%20get%20half-day%20and%20full-day%20sight-seeing%20tours,%20and%20half-day%20and%20full-day%20fishing%20trips.%22%5Cn%5CnThe%20view%20of%20the%20Malaspina%20glacier%20is%20a%20backdrop.%20It%20is%20everywhere.%20The%20description%20is%20%22The%20Malaspina%20glacier%20covers%20much%20of%20the%20nearby%20slope,%20and%20--%20beyond%20it%20--%20an%20area%20as%20large%20as%20Rhode%20Island.%22%20Understand%20%22view%20of%20the%20surrounding%20bay%22%20or%20%22surrounding%20bay%22%20as%20the%20view.%5Cn%5CnThe%20cabin%20door%20is%20south%20of%20the%20Cabin%20and%20north%20of%20the%20Deck.%20It%20is%20a%20door%20and%20scenery.%20The%20description%20of%20the%20Deck%20is%20%22The%20whole%20back%20half%20of%20the%20boat%20is%20open,%20allowing%20you%20to%20view%20the%20surroundings%20without%20intervening%20windows%20--%20if%20you%20can%20stand%20the%20cold.%22%5Cn%5CnThe%20ice%20chest%20is%20a%20closed%20openable%20container%20in%20the%20Deck.%20%22A%20very%20heavy%20ice%20chest%20sits%20on%20the%20ground.%22%20It%20is%20fixed%20in%20place%20and%20pushable%20between%20rooms.%5Cn%5CnA%20quantity%20of%20ice%20is%20in%20the%20Deck.%20%22All%20around%20the%20boat%20bob%20chunks%20of%20glacier%20ice.%22%20Understand%20%22glacier%20ice%22%20as%20the%20quantity.%20The%20description%20is%20%22Curiously%20cooled%20into%20funny-shaped%20chunks.%22%20The%20printed%20name%20of%20the%20quantity%20is%20%22glacier%20ice%22.%5Cn%5CnInstead%20of%20taking%20the%20quantity%20of%20ice%20when%20the%20player%20is%20not%20carrying%20the%20nets:%5Cn%5Ctif%20the%20quantity%20of%20ice%20is%20handled,%20continue%20the%20action;%5Cn%5Ctsay%20%22You%20are%20having%20a%20hard%20time%20fishing%20out%20the%20ice%20with%20your%20bare%20hands.%22%5Cn%5CnInstead%20of%20taking%20the%20quantity%20of%20ice%20when%20the%20player%20is%20carrying%20the%20nets:%5Cn%5Ctif%20the%20quantity%20of%20ice%20is%20handled%20or%20the%20quantity%20of%20ice%20is%20in%20the%20nets,%20continue%20the%20action;%5Cn%5Ctnow%20the%20quantity%20of%20ice%20is%20in%20the%20nets;%5Cn%5Ctsay%20%22You%20scoop%20up%20the%20ice%20with%20the%20net.%22%5Cn%5CnInstead%20of%20taking%20the%20chest:%20say%20%22It's%20too%20heavy%20to%20lift,%20but%20you%20might%20be%20able%20to%20push%20it,%20and%20just%20inch%20it%20over%20the%20frame%20of%20the%20door.%22%5Cn%5CnThe%20player%20is%20carrying%20a%20backpack.%20The%20player%20is%20wearing%20a%20pair%20of%20sunglasses.%20The%20description%20of%20the%20sunglasses%20is%20%22The%20light%20off%20the%20water%20and%20the%20ice%20does%20get%20pretty%20bright%20sometimes.%22%5Cn%5CnThe%20backpack%20is%20a%20player's%20holdall.%20The%20carrying%20capacity%20of%20the%20player%20is%203.%20The%20backpack%20is%20wearable.%5Cn%5CnInstead%20of%20asking%20the%20Captain%20for%20the%20key:%5Cn%5Ctsay%20%22'Sure,%20you%20can%20--%20well,%20get%20me%20a%20drink%20first,%20would%20you?'%22%5Cn%5CnInstead%20of%20asking%20the%20Captain%20for%20the%20key%20when%20the%20Captain%20is%20carrying%20a%20cold%20Coke%20and%20the%20Captain%20is%20carrying%20the%20key:%5Cn%5Ctmove%20the%20key%20to%20the%20player;%5Cn%5Ctsay%20%22'Here,%20knock%20yourself%20out.'%22%5Cn%5CnInstead%20of%20asking%20the%20Captain%20for%20the%20key%20when%20the%20Captain%20is%20not%20carrying%20the%20key:%20say%20%22'I%20already%20gave%20it%20to%20you.%20You%20didn't%20lose%20it,%20did%20you?'%22%5Cn%5CnHeat%20is%20a%20kind%20of%20value.%20The%20heats%20are%20cold,%20cool,%20room%20temperature,%20and%20warm.%5Cn%5CnA%20beverage%20is%20a%20kind%20of%20thing.%20A%20beverage%20can%20be%20open%20or%20closed.%20A%20beverage%20can%20be%20openable%20or%20unopenable.%20A%20beverage%20is%20always%20edible%20and%20openable.%20A%20beverage%20has%20a%20heat.%20A%20beverage%20is%20usually%20warm.%20The%20Coke%20is%20a%20beverage.%20The%20beer%20is%20a%20beverage.%20The%20beer%20is%20in%20the%20backpack.%5Cn%5CnInstead%20of%20giving%20or%20showing%20a%20beer%20to%20the%20Captain:%5Cn%5Ctsay%20%22'I%20don't%20drink%20on%20the%20job,%20thanks,'%20he%20says.%20'You%20can%20help%20yourself%20if%20you%20want%20it,%20though.'%22%5Cn%5CnInstead%20of%20giving%20or%20showing%20a%20Coke%20to%20the%20Captain:%5Cn%5Ctsay%20%22'It%20needs%20chilling,'%20the%20Captain%20remarks,%20disgruntled.%22%5Cn%5CnInstead%20of%20giving%20or%20showing%20a%20cold%20Coke%20to%20the%20Captain:%5Cn%5Ctmove%20the%20Coke%20to%20the%20Captain;%5Cn%5Ctincrease%20the%20score%20by%202;%5Cn%5Ctsay%20%22'Ah,%20thank%20you,'%20he%20says.%20How%20he%20can%20drink%20an%20iced%20soda%20on%20a%20day%20like%20today%20is%20an%20open%20question,%20but%20Alaskans%20are%20special.%22%5Cn%5CnEvery%20turn%20when%20the%20quantity%20of%20ice%20is%20in%20the%20ice%20chest:%5Cn%5Ctrepeat%20with%20item%20running%20through%20beverages%20in%20the%20ice%20chest:%5Cn%5Ct%5Ctlet%20the%20current%20heat%20be%20the%20heat%20of%20the%20item;%5Cn%5Ct%5Ctif%20the%20current%20heat%20is%20not%20cold,%20now%20the%20heat%20of%20the%20item%20is%20the%20heat%20before%20the%20current%20heat.%5Cn%5CnBefore%20printing%20the%20name%20of%20a%20beverage%20(called%20the%20drink):%5Cn%5Ctsay%20%22%5Bheat%20of%20the%20drink%5D%20%22.%5Cn%5CnUnderstand%20the%20heat%20property%20as%20describing%20a%20beverage.%5Cn%5CnThe%20maximum%20score%20is%205.%5Cn%5CnAfter%20taking%20the%20fishing%20rods:%5Cn%5Ctend%20the%20story%20finally;%5Cn%5Ctincrease%20the%20score%20by%203;%5Cn%5Ctsay%20%22Success%20is%20yours!%20(Now%20if%20only%20you%20knew%20anything%20about%20fishing.)%22%5Cn%5CnTest%20me%20with%20%22test%20first%20/%20test%20second%20/%20test%20third%22.%5Cn%5CnTest%20first%20with%20%22x%20captain%20/%20open%20case%20/%20i%20/%20ask%20captain%20for%20the%20key%20/%20give%20beer%20to%20captain%20/%20open%20bench%20/%20x%20nets%20/%20get%20nets%20/%20get%20coke%20/%20give%20coke%20to%20captain%22.%5Cn%5CnTest%20second%20with%20%22s%20/%20open%20chest%20/%20drop%20nets%20/%20get%20glacier%20ice%20/%20get%20nets%20/%20get%20glacier%20ice%20/%20g%20/%20put%20glacier%20ice%20in%20chest%20/%20get%20coke%20/%20put%20coke%20in%20chest%22.%5Cn%5CnTest%20third%20with%20%22x%20coke%20/%20g%20/%20g%20/%20g%20/%20get%20coke%20/%20n%20/%20give%20coke%20to%20captain%20/%20ask%20captain%20for%20key%20/%20open%20case%20/%20get%20rods%22.%5Cn%5Cn%60)"><img alt="paste.png" src="doc_images/paste.png"></a> "Disenchantment Bay"
</p>
<p class="quoted">
Include Locksmith by Emily Short.
</p>
<p class="quoted">
Use scoring.
</p>
<p class="quoted">
The Cabin is a room.  "The front of the small cabin is entirely occupied with navigational instruments, a radar display, and radios for calling back to shore. Along each side runs a bench with faded blue vinyl cushions[if the compartment is closed], which can be lifted to reveal the storage space underneath[otherwise], one of which is currently lifted to allow access to the storage compartment within[end if]. A glass case against the wall contains several fishing rods.
</p>
<p class="quoted">
Scratched windows offer a view of the surrounding bay, and there is a door south to the deck. A sign taped to one wall announces the menu of tours offered by the Yakutat Charter Boat Company."
</p>
<p class="quoted">
The Cabin contains a glass case. In the glass case is a collection of fishing rods. Understand "rod" as the collection. The case is closed, transparent, openable, lockable, and locked. The case is scenery. The small silver key unlocks the case.
</p>
<p class="quoted">
The bench is in the cabin. On the bench are some blue vinyl cushions. The bench is enterable and scenery. The cushions are scenery.
</p>
<p class="quoted">
A storage compartment is an openable closed container. It is part of the bench. Instead of opening the bench, try opening the storage compartment. Instead of closing the bench, try closing the storage compartment. Instead of pushing or pulling or turning the cushions, try opening the storage compartment. Understand "space" as the storage compartment.
</p>
<p class="quoted">
Some nets and a Coke are in the compartment. Understand "net" as the nets. The description of the nets is "They must have something to do with fish as well. Really, you're just here for the sights." The nets are a container.
</p>
<p class="quoted">
Some navigational instruments, some scratched windows, a radar display, and some radios are scenery in the cabin. The radar, the instruments, and the radios are devices. The radar and the instruments are switched on.
</p>
<p class="quoted">
A screen is part of the radar. The description of the screen is "[if the radar is switched on]Phantom lights move across the screen.[otherwise]The screen is dark.[end if]". Instead of doing something other than examining to the screen, say "It's not good for much but looking at."
</p>
<p class="quoted">
The Captain is a man in the Cabin. "The captain sits at the wheel, steering the boat and occasionally checking the radar readout." The captain wears a baseball cap. The description of the cap is "It says, THE WORST DAY FISHING IS BETTER THAN THE BEST DAY WORKING." The captain carries the silver key. The description of the captain is "[The captain] is wearing [a list of things worn by the captain][if the captain carries something] and carrying [a list of things carried by the captain][end if]."
</p>
<p class="quoted">
The description of the instruments is "Knowing what they do is the Captain's job." Instead of doing something other than examining to the instruments in the presence of the Captain: say "The Captain glares at you. Clearly you are not welcome to do that."
</p>
<p class="quoted">
The description of the windows is "They're a bit the worse for wear, but you can still get an impressive view of the glacier through them. There were whales earlier, but they're gone now." Understand "window" as the windows.
</p>
<p class="quoted">
The description of the radar is "Apparently necessary to avoid the larger icebergs."
</p>
<p class="quoted">
The description of the radios is "With any luck you will not need to radio for help, but it is reassuring that these things are here."
</p>
<p class="quoted">
A sign is scenery in the Cabin. The description is "You can get half-day and full-day sight-seeing tours, and half-day and full-day fishing trips."
</p>
<p class="quoted">
The view of the Malaspina glacier is a backdrop. It is everywhere. The description is "The Malaspina glacier covers much of the nearby slope, and -- beyond it -- an area as large as Rhode Island." Understand "view of the surrounding bay" or "surrounding bay" as the view.
</p>
<p class="quoted">
The cabin door is south of the Cabin and north of the Deck. It is a door and scenery. The description of the Deck is "The whole back half of the boat is open, allowing you to view the surroundings without intervening windows -- if you can stand the cold."
</p>
<p class="quoted">
The ice chest is a closed openable container in the Deck. "A very heavy ice chest sits on the ground." It is fixed in place and pushable between rooms.
</p>
<p class="quoted">
A quantity of ice is in the Deck. "All around the boat bob chunks of glacier ice." Understand "glacier ice" as the quantity. The description is "Curiously cooled into funny-shaped chunks." The printed name of the quantity is "glacier ice".
</p>
<p class="quoted">
Instead of taking the quantity of ice when the player is not carrying the nets:
<br>    if the quantity of ice is handled, continue the action;
<br>    say "You are having a hard time fishing out the ice with your bare hands."
</p>
<p class="quoted">
Instead of taking the quantity of ice when the player is carrying the nets:
<br>    if the quantity of ice is handled or the quantity of ice is in the nets, continue the action;
<br>    now the quantity of ice is in the nets;
<br>    say "You scoop up the ice with the net."
</p>
<p class="quoted">
Instead of taking the chest: say "It's too heavy to lift, but you might be able to push it, and just inch it over the frame of the door."
</p>
<p class="quoted">
The player is carrying a backpack. The player is wearing a pair of sunglasses. The description of the sunglasses is "The light off the water and the ice does get pretty bright sometimes."
</p>
<p class="quoted">
The backpack is a player's holdall. The carrying capacity of the player is 3. The backpack is wearable.
</p>
<p class="quoted">
Instead of asking the Captain for the key:
<br>    say "'Sure, you can -- well, get me a drink first, would you?'"
</p>
<p class="quoted">
Instead of asking the Captain for the key when the Captain is carrying a cold Coke and the Captain is carrying the key:
<br>    move the key to the player;
<br>    say "'Here, knock yourself out.'"
</p>
<p class="quoted">
Instead of asking the Captain for the key when the Captain is not carrying the key: say "'I already gave it to you. You didn't lose it, did you?'"
</p>
<p class="quoted">
Heat is a kind of value. The heats are cold, cool, room temperature, and warm.
</p>
<p class="quoted">
A beverage is a kind of thing. A beverage can be open or closed. A beverage can be openable or unopenable. A beverage is always edible and openable. A beverage has a heat. A beverage is usually warm. The Coke is a beverage. The beer is a beverage. The beer is in the backpack.
</p>
<p class="quoted">
Instead of giving or showing a beer to the Captain:
<br>    say "'I don't drink on the job, thanks,' he says. 'You can help yourself if you want it, though.'"
</p>
<p class="quoted">
Instead of giving or showing a Coke to the Captain:
<br>    say "'It needs chilling,' the Captain remarks, disgruntled."
</p>
<p class="quoted">
Instead of giving or showing a cold Coke to the Captain:
<br>    move the Coke to the Captain;
<br>    increase the score by 2;
<br>    say "'Ah, thank you,' he says. How he can drink an iced soda on a day like today is an open question, but Alaskans are special."
</p>
<p class="quoted">
Every turn when the quantity of ice is in the ice chest:
<br>    repeat with item running through beverages in the ice chest:
<br>        let the current heat be the heat of the item;
<br>        if the current heat is not cold, now the heat of the item is the heat before the current heat.
</p>
<p class="quoted">
Before printing the name of a beverage (called the drink):
<br>    say "[heat of the drink] ".
</p>
<p class="quoted">
Understand the heat property as describing a beverage.
</p>
<p class="quoted">
The maximum score is 5.
</p>
<p class="quoted">
After taking the fishing rods:
<br>    end the story finally;
<br>    increase the score by 3;
<br>    say "Success is yours! (Now if only you knew anything about fishing.)"
</p>
<p class="quoted">
Test me with "test first / test second / test third".
</p>
<p class="quoted">
Test first with "x captain / open case / i / ask captain for the key / give beer to captain / open bench / x nets / get nets / get coke / give coke to captain".
</p>
<p class="quoted">
Test second with "s / open chest / drop nets / get glacier ice / get nets / get glacier ice / g / put glacier ice in chest / get coke / put coke in chest".
</p>
<p class="quoted">
Test third with "x coke / g / g / g / get coke / n / give coke to captain / ask captain for key / open case / get rods".
</p>
</div>
</div>
<div class="linkback">
<a href="wi_3.html#wi-3.23">WI §3.23. Parts of things</a><br><a href="rb_1.html#rb-1.3">RB §1.3. Disenchantment Bay</a>
</div></details>
</div></section>
<section class="section" id="rb-1.4"><div>





<h3>RB §1.4. Information Only</h3>
<p>One last preliminary: a handful of the examples do not show how to do anything at all, but are really sidebars of information. Those examples are gathered below, since they contribute nothing by way of recipes.</p>



</div>
<div class="section-example-block">
<h4>Examples</h4>
<details class="full-example" id="example-415"><summary><span class="example-summary">415. About Inform's regular expression support</span> <span class="example-difficulty">★</span></summary><div>
<p>There is not really any unanimity about what regular expression language is. The unix tools sed and grep extend on Kleene's original grammar. Henry Spencer's regex library extended on this again, and was a foundation for Perl, but Perl once again went further. Philip Hazel's PCRE, despite the name Perl Compatible Regular Expressions, makes further extensions still, and so on.</p>
<p>Inform's regular expressions are modelled on those of Perl, as the best de facto standard we have, but a few omissions have been inevitable. Inform's regex matcher must occupy source code less than one hundredth the size of PCRE, and it has very little memory. Inform aims to behave exactly like Perl except as follows:</p>

<div class="code">
<p class="quoted">
(i) Inform allows angle brackets as synonymous with square brackets, for reasons explained above. This means literal angle brackets have to be escaped as "\&lt;" and "\&gt;" in Inform regular expressions, which is unnecessary in Perl.
</p>
<p class="quoted">
(ii) Inform only has single-line mode, not multiline mode: this removes need for the mode-switches "(?m)" and "(?s)" and the positional markers "\A" and "\Z". Multiline mode is idiosyncratic to Perl and is a messy compromise to do with holding long files of text as single strings, yet treating them as lists of lines at the same time: this would not be sensible for Inform. Similarly, because there is no ambiguity about how line breaks are represented in Inform strings (by a single "\n"), initial newline convention markers such as "(*ANYCRLF)" are unsupported.
</p>
<p class="quoted">
(iii) The codes "\a", "\r", "\f", "\e", "\0" for alarm, carriage return, form feed, escape and the zero character are unsupported: none of these can occur in an Inform string.
</p>
<p class="quoted">
(iv) Inform does not allow characters to be referred to by character code (whereas Perl allows "\036" for an octal character code, "\x7e" for a hexadecimal one, "\cD" for a control character). This is because we do not want the user to know whether text is internally stored as ZSCII or Unicode.
</p>
<p class="quoted">
(v) Inform's character class "\p" (and its negation "\P") have no equivalent in Perl, and Inform's understanding of "\w" is different. Perl defines this as an upper or lower case English letter, underscore or digit, which is good for programming-language identifiers, but bad for natural language - for instance, "é" is not matched by "\w" in Perl, but unquestionably it appears in words. Inform therefore defines "\w" as the negation of "\s" union "\p".
</p>
<p class="quoted">
(vi) Inform supports only single-digit grouping numbers "\1" to "\9", whereas Perl allows "\10", "\11", ...
</p>
<p class="quoted">
(vii) POSIX named character ranges are not supported. These are only abbreviations in any case, and are not very useful. (Note that the POSIX range "[:punct:]", which is supposedly for punctuation, includes many things we do not want to think of that way - percentage signs, for instance - and so "\p" has a more natural-language-based definition.)
</p>
<p class="quoted">
(viii) Character classes can be used inside ranges, so that "&lt;\da-f&gt;" is legal, but not as ends of contiguous runs, so that "&lt;\d-X&gt;" is not legal. (As reckless as this is, it is legal in Perl.)
</p>
<p class="quoted">
(ix) For obvious reasons, escapes to Perl code using the notation "(?{...})" are unsupported, and so is the Perl iteration operator "\G".
</p>
<p class="quoted">
(x) Perl's extended mode "(?x)", a lexical arrangement which allows expressions to be expanded out as little computer programs with comments, is unsupported. It would look awful syntax-coloured in the Inform interface and is not a style of coding to be encouraged.
</p>
</div>
<p>Inform further does not support the Python extension of named subexpression groups, nor the Java extension of the possessive quantifier "++". There was only so much functionality we could squeeze in.</p>
<p>As verification of Inform's matching algorithm, we took the Perl 5 source code's notorious "re-test.txt" set of 961 test cases, removed the 316 using features unsupported by Inform (220 tested multiline mode, for instance), and ran the remaining 645 cases through Inform. It agrees with Perl on 643 of these: the two outstanding are -</p>

<div class="code">
<p class="quoted">
(i) Perl is able to match "^(a\1?){4}$" against "aaaaaa" but Inform is not - Inform's backtracking is not as good when it comes to repetitions of groupings which are recursively defined. (Note that the optional "\1" match refers to the value of the bracketed expression which contains it, so that the interpretation is different on each repetition. Here to match we have to interpret "?" as 0, 0, 1, 0 repeats respectively as we work through the "{4}".)
</p>
<p class="quoted">
(ii) Perl matches "((&lt;a-c&gt;)b*?\2)*" against "ababbbcbc" finding the match "ababb", whereas Inform finds the match "ababbbcbc". This is really a difference of opinion about whether the outer asterisk, which is greedy, should be allowed three matches rather than two if to do so requires the inner asterisk, which is not greedy, to eat more than it needs on one of those three matches.
</p>
</div>
<p>Case (i) is a sacrifice to enable Inform's back-tracking to use less memory. Case (ii) simply seems unimportant.</p>
</div>
<div class="linkback">
<a href="wi_20.html#wi-20.6">WI §20.6. Regular expression matching</a><br><a href="rb_1.html#rb-1.4">RB §1.4. Information Only</a>
</div></details><details class="full-example" id="example-223"><summary><span class="example-summary">223. Formal syntax of sentences</span> <span class="example-difficulty">★★★</span></summary><div>
<p>An entire grammar for the whole mass of Inform would not be linguistically interesting: it contains many convenient wordings which are not really part of a grand pattern. Inform does, however, have a formal notion of a Sentence, a grammatical structure which we shall call S. It is almost true that conditions ("if the flowerpot is on the wall") have the same grammar as assertions ("The flowerpot is on the wall") and "now" phrases ("now the flowerpot is on the wall"). All three use the S grammar, so we could define an assertion as "S.", say that "if S", "while S", "when S" and so on are conditions, and say that "now S" defines the "now" declaration.</p>
<p>Grammatical sentences do not necessarily make sense, of course. Many perfectly grammatical assertions in fact give rise to problem messages:</p>

<div class="code"><p class="quoted">
The wicker basket is not in the kitchen. (<span class="italic">Unhelpfully negative.</span>)
<br>The wicker basket has been in the kitchen. (<span class="italic">Talks about a time which never existed.</span>)
<br>The wicker basket is full. (<span class="italic">Full of what? Too vague.</span>)
<br>The wicker basket is the ginger cat. (<span class="italic">Demonstrably false.</span>)
</p></div>
<p>Whereas the first three, at least, would be sensible as conditions. So saying that assertions are "just like" conditions is a little misleading: what they have in common is S, the underlying grammar they each use as a starting-point.</p>
<p>To define S, we break it up into subsidiary structures. The most important is the Description Phrase (DP), examples of which include "the red basket", "somewhere lighted" and "an empty open container". Clearly sentences include DPs, but they also include other ingredients. The general pattern used in Inform is very simple:</p>

<div class="code"><p class="quoted">
1. S = DP + VP
<br>2. VP = Verb + DP
</p></div>
<p>where VP is another structure, the Verb Phrase. For instance:</p>

<div class="code"><p class="quoted">
S (The horseman wears a riding helmet)
<br>    = DP (The horseman) + VP (wears a riding helmet)
<br>VP (wears a riding helmet)
<br>    = Verb (wears) + DP (a riding helmet)
</p></div>
<p>In that example, the Verb was the single word "wears". More generally, Inform allows a Verb to include adverbs and prepositions, to be negated, and to come in any of four tenses, so the following are all valid examples of Verb in our grammar:</p>

<div class="code"><p class="quoted">
wore
<br>carries
<br>is carried by
<br>had not been inside
</p></div>
<p>Although we are not going through the definition of Description Phrases in detail, it is worth noticing how "which" and "who" behave:</p>

<div class="code"><p class="quoted">
3a. DP = DP + which + VP
<br>3b. DP = DP + who + VP
</p></div>
<p>Thus "an open container which is in the Ballroom" can be broken down as:</p>

<div class="code"><p class="quoted">
DP (an open container) + which + VP (is in the Ballroom)
</p></div>
<p>To understand compounds like "something in a container", we have to invent a new grammatical structure for "in a container" and similar: let's call this a Relative Phrase (RP).</p>

<div class="code"><p class="quoted">
4. DP = DP + RP
</p></div>
<p>Thus "an open container in the Ballroom" is DP (an open container) + RP (in the Ballroom). Relative Phrases have two different forms:</p>

<div class="code"><p class="quoted">
5a. RP = Preposition + DP
<br>5b. RP = Participle + DP
</p></div>
<p>so that "in a container" is an example of 5a. An example of 5b would be</p>

<div class="code"><p class="quoted">
RP (worn by Mr Darcy) = Participle (worn by) + DP (Mr Darcy)
</p></div>
<p>That is nearly it, but not quite: we must go back to the "almost" in the statement above that assertions and conditions "almost" have the same grammar S. The difference arises from a curious irregularity in English called subject-verb inversion (see the <span class="italic">Oxford English Grammar</span> at 3.22F), whereby assertions can be reversed but not conditions. For instance,</p>

<div class="code"><p class="quoted">
In the Garden is a sunflower.
</p></div>
<p>This does not follow the pattern S = DP + VP, because "in the garden" is not a DP: indeed, it is not a noun at all. To make sense of this sentence, Inform reverses it to "A sunflower is in the Garden", which does indeed follow DP + VP. Hence the final rule:</p>

<div class="code"><p class="quoted">
6 (assertions only). S = RP + Verb + DP
</p></div>
<p>So the condition "if in the garden is a sunflower..." fails because rule 6 does not apply to the grammar for conditions: while occasional poetic uses of subject-verb inversion do turn up in conditions ("If On A Winter's Night A Traveller", say), they are rare in ordinary English usage, and illegal in Inform. That completes the S grammar, so to recap:</p>

<div class="code"><p class="quoted">
1. S = DP + VP
<br>2. VP = Verb + DP
<br>3a. DP = DP + which + VP
<br>3b. DP = DP + who + VP
<br>4. DP = DP + RP
<br>5a. RP = Preposition + DP
<br>5b. RP = Participle + DP
<br>6 (assertions only). S = RP + Verb + DP
</p></div>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.2">WI §13.2. What sentences are made up from</a><br><a href="rb_1.html#rb-1.4">RB §1.4. Information Only</a>
</div></details><details class="full-example" id="example-243"><summary><span class="example-summary">243. Mathematical view of relations</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Inform uses the term "relation" in a broader sense than mathematics. Properly speaking, the term "relation" in its mathematical sense only applies to the case where the domain for the left and right objects are the same: for simplicity's sake, let us talk only about the case where they are.</p>
<p>In mathematics, the properties most often looked for in a relation are that it should be:</p>
<p>(a) Reflexive: A &lt;=&gt; A for every A. This is not especially useful for Inform, and seldom appears in practical examples.</p>
<p>(b) Symmetric: A &lt;=&gt; B if and only if B &lt;=&gt; A. Generally, Inform relations are not symmetric, but there are two important cases which are:</p>

<div class="code"><p class="quoted">
Meeting relates people to each other.
<br>Marriage relates one person to another.
</p></div>
<p>These are automatically symmetric, so that to assert one way round is to assert the other as well.</p>
<p>(c) Transitive: A &lt;=&gt; B and B &lt;=&gt; C means that A &lt;=&gt; C as well. Again, Inform relations are not generally transitive. In many relations, there can be long chains of things, each perhaps related to the one in front and the one behind, so that there is some indirect sense in which the two ends of the chain are connected to each other: but they are not related as such. For instance, a journey across the map might pass through ten rooms, each adjacent to the last and next, but the two ends would not themselves be adjacent. The concept we need is the "transitive closure" of the original relation, defined as the smallest transitive relation including the original. If R is a relation between "things", then the following:</p>

<div class="code"><p class="quoted">
TC relates a thing (called A) to a thing (called B) when the number of steps via R from A to B is greater than 0.
</p></div>
<p>is the transitive closure of R. In particular,</p>

<div class="code"><p class="quoted">
Accessibility relates a room (called A) to a room (called B) when the number of moves from B to A is greater than 0. The verb to be accessible from means the accessibility relation.
</p></div>
<p>calculates the transitive closure of adjacency. Here, though, the way we normally understand "accessible from" suggests that it would be better to write:</p>

<div class="code"><p class="quoted">
Accessibility relates a room (called A) to a room (called B) when the number of moves from B to A is at least 0.
</p></div>
<p>which is reflexive as well as transitive. The usefulness of Inform's "next step via R from A to B" construction, in a wide variety of settings, reflects the importance of transitivity as an idea.</p>
<p>A relation which has all three properties of being reflexive, symmetric and transitive is called an "equivalence relation". (If all the map connections are two-way, then the accessibility relation above is symmetric and therefore a full equivalence relation: but if not, it may not be.) Inform has a special construction for making equivalence relations:</p>

<div class="code"><p class="quoted">
Nationality relates people to each other in groups.
</p></div>
<p>This language - "in groups" - relies on the standard theorem that every equivalence relation on a set naturally defines a partition of that set, and vice versa. The "groups" referred to are what are normally called "equivalence classes". (Inform does little with these equivalence classes: it might be interesting to do so, in effect forming quotient kinds.)</p>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.16">WI §13.16. What are relations for?</a><br><a href="rb_1.html#rb-1.4">RB §1.4. Information Only</a>
</div></details><details class="full-example" id="example-244"><summary><span class="example-summary">244. Graph-theory view of relations</span> <span class="example-difficulty">★★★</span></summary><div>
<p>One way to look at a relation is to regard it as a directed graph: that is, a collection of things ("vertices") with arrows drawn between them ("edges"). We write our items A, B, C, ... on a piece of paper: then, if A relates to B, we draw an arrow pointing from A to B, and so on. If we made this drawing for the adjacency relation, we would more or less have reconstructed the map (or at least a simplified one which does not care about precise directions, like the famous diagram of the London Underground). But the drawing can be made for any relation. If we define:</p>

<div class="code"><p class="quoted">
Suspecting relates various people to one person.
</p></div>
<p>then, in the corresponding graph, each "vertex" will have at most one arrow leading away from it - though there could be many (or none) leading towards. Conversely, a one-to-various relation produces a graph where each vertex has at most one arrow coming in. A one-to-one relation means that the picture consists of some vertices on their own, with no arrows, a few perhaps with looped arrows leading from and to themselves, and then a collection of pairs joined by arrows. On the other hand, a various-to-various relation is just a free-for-all, with no restrictions on the arrows. The relations:</p>

<div class="code"><p class="quoted">
Meeting relates people to each other.
<br>Marriage relates one person to another.
</p></div>
<p>always have the property of working both ways round, and these are easiest to visualise by forgetting the direction of the arrows, so that they just become lines joining the vertices.</p>
<p>Inform uses a different algorithm for finding routes ("the next step via R from A to B") in each of these cases, and internally it stores relations in different formats in the different cases, because it makes a big difference to the efficiency of Inform to minimise the storage required for a relation and the time taken to explore it.</p>
<p>All the cases are benign except for "various to various" - the most useful - and for its closely related symmetrical version, "relates... to each other". Inform cannot afford to assume that the relation will be "sparse" (that is: that no vertex will have more than a certain number of arrows, or that the total number of arrows will be small), because it has no idea how the arrows will come and go during play. It therefore uses 1 bit of storage for each pair of objects. This sounds harmless, but if there are 200 rooms, there are 40,000 pairs of rooms, which means a 5000-byte allocation of storage (plus a handful of bytes as overhead). Gratuitous various-to-various relations are therefore not a good idea.</p>
<p>There is a standard algorithm for calculating shortest paths through a directed graph, but Inform does not always use it, because there is not always memory to store the required matrix of partial results. Inform's slow method, likely to be used on the Z-machine, requires a storage overhead which is equal to the number of vertices, not the square of that number, but the worst-case running time can be bad: if there are N vertices, and the diameter of graph (the longest distance between vertices) is D, then the running time is proportional to D times N. The worst case in finding routes from A to B is when almost every vertex can reach B, some across long trails, but A cannot. In the case of finding routes across the game's map, this must be multiplied further by the number of possible directions - usually 16.</p>
<p>This does not sound too awful, but if one is trying to find (say) "the most distant room from A", that means a further loop and now the running time will be D times N squared. Extension writers will need to be careful of this kind of thing: it is easy to write highly cool prototypes which work terribly slowly on larger, more realistic maps.</p>
</div>
<div class="linkback">
<a href="wi_13.html#wi-13.16">WI §13.16. What are relations for?</a><br><a href="rb_1.html#rb-1.4">RB §1.4. Information Only</a>
</div></details><details class="full-example" id="example-399"><summary><span class="example-summary">399. Backus-Naur form for rules</span> <span class="example-difficulty">★★★</span></summary><div>
<p>Backus-Naur form, or BNF, is a standard notation used by computer scientists to specify more or less precisely what the valid programs are for a given programming language. It tends to provide a good description for a language such as C or Pascal, where contextual rules are limited, but the authors of Inform are doubtful that it is such a good tool for a natural-language system. For those who are interested, though, the following gives a formal specification for Inform's rules.</p>

<div class="code">
<p class="quoted">
&lt;rule&gt; ::=
<br>    Definition : A/an &lt;kind&gt; is &lt;new adjectival name&gt; if/unless &lt;definition&gt;
<br>    | &lt;preamble&gt; : &lt;phrases&gt;
<br>    | &lt;preamble&gt; , &lt;phrase&gt;    (* only allowed for a few cases: see below)
</p>
<p class="quoted">
&lt;definition&gt; ::=
<br>    &lt;condition&gt;
<br>    | its/his/her/their &lt;value property name&gt; is/are &lt;value&gt; or less/more
<br>    | : &lt;phrases&gt;
</p>
<p class="quoted">
&lt;preamble&gt; ::=
<br>    To &lt;phrase template&gt;
<br>    | To decide if/whether &lt;phrase template&gt;
<br>    | To decide which/what &lt;kind of value&gt; is &lt;phrase template&gt;
<br>    | This is the &lt;rule name&gt;
<br>    | [[A] Rule for] &lt;circumstances&gt; [(this is the &lt;rule name&gt;)]
</p>
<p class="quoted">
&lt;circumstances&gt; ::=
<br>    At &lt;time&gt;
<br>    | When &lt;event name&gt;
<br>    | [&lt;placement&gt;] &lt;rulebook reference&gt; [while/when &lt;condition&gt;] [during &lt;scene name&gt;]
</p>
<p class="quoted">
&lt;rulebook reference&gt; ::=
<br>    &lt;rulebook name&gt; [about/for/of/on/rule] [&lt;action pattern&gt;]
<br>    | &lt;object-based-rulebook name&gt; [about/for/of/on/rule] [&lt;description&gt;]
</p>
<p class="quoted">
&lt;placement&gt; ::=
<br>    a/an
<br>    | [the] first
<br>    | [the] last
</p>
<p class="quoted">
&lt;phrases&gt; ::=
<br>    &lt;phrase&gt;
<br>    | &lt;phrases&gt; ; &lt;phrase&gt;
</p>
</div>
<p>The following examples show how Inform breaks down some typical rules using the system above:</p>

<div class="code">
<p class="quoted">
&lt;rule&gt; = At 2:09 PM: increase the score by 2; say "Progress!"
<br>    &lt;preamble&gt; = At 2:09 PM
<br>        &lt;circumstances&gt; = At 2:09 PM
<br>            At
<br>            &lt;time&gt; = 2:09 PM
<br>    :
<br>    &lt;phrases&gt; = increase the score by 2; say "Progress!"
<br>        &lt;phrase&gt; = increase the score by 2
<br>        ;
<br>        &lt;phrase&gt; = say "Progress"
</p>
<p class="quoted">
&lt;rule&gt; = Instead of eating the ostrich during Formal Dinner (this is the cuisine rule), say "It's greasy!"
<br>    &lt;preamble&gt; = Instead of eating the ostrich during Formal Dinner (this is the cuisine rule)
<br>        &lt;circumstances&gt; = Instead of eating the ostrich during Formal Dinner
<br>            &lt;rulebook reference&gt; = Instead of eating the ostrich
<br>                &lt;rulebook name&gt; = Instead
<br>                of
<br>                &lt;action pattern&gt; = eating the ostrich
<br>            during
<br>            &lt;scene name&gt; = Formal Dinner
<br>        (
<br>        this
<br>        is
<br>        the
<br>        &lt;rule name&gt; = cuisine rule
<br>        )
<br>    ,
<br>    &lt;phrases&gt; = say "It's greasy!"
<br>        &lt;phrase&gt; = say "It's greasy!"
</p>
<p class="quoted">
&lt;rule&gt; = After printing the name of a container: say "!"
<br>    &lt;preamble&gt; = After printing the name of a container
<br>        &lt;circumstances&gt; = After printing the name of a container
<br>            &lt;rulebook reference&gt; = After printing the name of a container
<br>                &lt;object-based-rulebook name&gt; = After printing the name
<br>                of
<br>                &lt;description&gt; = a container
<br>    :
<br>    &lt;phrases&gt; = say "!"
<br>        &lt;phrase&gt; = say "!"
</p>
</div>
<p>(*) The colon dividing a rule preamble from its definition can be replaced by a comma only if the preamble begins with the words "Instead of", "Before", "After", "Every turn" or "When", and if the definition consists only of a single phrase.</p>
</div>
<div class="linkback">
<a href="wi_19.html#wi-19.7">WI §19.7. The preamble of a rule</a><br><a href="rb_1.html#rb-1.4">RB §1.4. Information Only</a>
</div></details>
</div></section>
</section>

<footer>
<div class="linkback"><a href="http://inform7.com/book/RB_1_1.html">RB Chapter 1 on inform7.com</a></div>
<div class="doc-navbar">
<div>
<div class="doc-navbar-left">&nbsp;</div>
<div class="doc-navbar-right"><a class="nav-right" href="rb_2.html#rb-chapter-2-adaptive-prose">2. Adaptive Prose</a></div>
</div>
<div>
<div class="doc-navbar-left"><a href="index.html">Table of Contents</a></div>
<div class="doc-navbar-right"><a href="index.html#general-index">General Index</a></div>
</div>
</div>

</footer>
</main></body></html>

