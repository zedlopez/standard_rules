<!doctype html>
<html lang="en">
<meta charset="utf-8">
<head><title>RTP</title>
  <style>
span.th, span.td { display: table-cell; }
span.td { padding-left: 2rem; }
span.th { width:4rem; text-align: right; }
span.tr { display: table-row;     counter-increment: linenum; }
span.line_no::before {
    content: counter(linenum);
    text-align: right;
    display: block;
    font-family: monospace;
    font-weight: normal;
}
h1 { margin: 0; }
.fixed { font-family: monospace }
.em { font-style: italic; }
.center { text-align: center; }
    body { font-family: sans-serif; margin: 1.5rem 0 0 3rem; background-color: #fafaf0; width: 80rem; }
    .pre { font-family: monospace; margin: auto; width: 80rem; }
#front_matter,.text { width: 50rem; }
.text { border-bottom: .5px solid black; border-top: .5px solid black; margin-top: 1rem;
padding-bottom: 1rem; margin-bottom: 2rem; }
/*.subtitle { font-weight: bold; font-size: 1.2rem; }*/
    </style>
</head>
<body>
<header>
<h1>I6 Template Layer</h1>
<div class="subtitle"><a href="http://inform7.com/">Inform 7 6M62</a> &bull; <a href="./index.html">Index</a> &bull; <a href="./Introduction.html">Introduction</a></div><hr></header>
<div id="front_matter">
<h2><a href="./RTP.i6t">RTP.i6t</a></h2><h3 id="#rtp-reporting">Reporting.</h3><p><p> All RTPs are produced by calling the following routine, which takes one compulsory argument: <span class="fixed">n</span>, the RTP number. When I7 is being used with the Inform user interface, it&#39;s important that these numbers correspond to the explanatory web pages stored within the interface application: those in turn are created by the <span class="fixed">inrtps</span> utility. The interface knows to display these pages because it parses the printed output during play to look for the text layout produced by the following routine: so do not reformat RTPs without ensuring that corresponding changes have been made to the Inform user interface applications.<p></p><p> The arguments <span class="fixed">par1</span>, <span class="fixed">par2</span> and <span class="fixed">par3</span> are optional parameters clarifying the message; <span class="fixed">ln</span> is an optional parameter specifying a paragraph number in the original source text (though in fact I7 does not use this at present).<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line24">24</span><span class="td">Array&nbsp;RTP_Buffer&nbsp;--&gt;&nbsp;7;</span></span>
<span class="tr"><span class="th" id="line25">25</span><span class="td">[&nbsp;RunTimeProblem&nbsp;n&nbsp;par1&nbsp;par2&nbsp;par3&nbsp;ln&nbsp;file;</span></span>
<span class="tr"><span class="th" id="line26">26</span><span class="td">&nbsp;if&nbsp;(RTP_Buffer--&gt;0&nbsp;==&nbsp;-1)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line27">27</span><span class="td">&nbsp;&nbsp;RTP_Buffer--&gt;0&nbsp;=&nbsp;n;&nbsp;</span></span>
<span class="tr"><span class="th" id="line28">28</span><span class="td">&nbsp;&nbsp;RTP_Buffer--&gt;1&nbsp;=&nbsp;par1;&nbsp;</span></span>
<span class="tr"><span class="th" id="line29">29</span><span class="td">&nbsp;&nbsp;RTP_Buffer--&gt;2&nbsp;=&nbsp;par2;</span></span>
<span class="tr"><span class="th" id="line30">30</span><span class="td">&nbsp;&nbsp;RTP_Buffer--&gt;3&nbsp;=&nbsp;par3;</span></span>
<span class="tr"><span class="th" id="line31">31</span><span class="td">&nbsp;&nbsp;RTP_Buffer--&gt;4&nbsp;=&nbsp;ln;</span></span>
<span class="tr"><span class="th" id="line32">32</span><span class="td">&nbsp;&nbsp;RTP_Buffer--&gt;5&nbsp;=&nbsp;file;</span></span>
<span class="tr"><span class="th" id="line33">33</span><span class="td">&nbsp;}</span></span>
<span class="tr"><span class="th" id="line34">34</span><span class="td">&nbsp;RunTimeProblemShow();</span></span>
<span class="tr"><span class="th" id="line35">35</span><span class="td">];</span></span>
<span class="tr"><span class="th" id="line36">36</span><span class="td">[&nbsp;ClearRTP;</span></span>
<span class="tr"><span class="th" id="line37">37</span><span class="td">&nbsp;RTP_Buffer--&gt;0&nbsp;=&nbsp;-1;</span></span>
<span class="tr"><span class="th" id="line38">38</span><span class="td">&nbsp;RTP_Buffer--&gt;6&nbsp;=&nbsp;false;</span></span>
<span class="tr"><span class="th" id="line39">39</span><span class="td">];</span></span>
<span class="tr"><span class="th" id="line40">40</span><span class="td">[&nbsp;SuspendRTP;</span></span>
<span class="tr"><span class="th" id="line41">41</span><span class="td">&nbsp;RTP_Buffer--&gt;6&nbsp;=&nbsp;true;</span></span>
<span class="tr"><span class="th" id="line42">42</span><span class="td">];</span></span>
<span class="tr"><span class="th" id="line43">43</span><span class="td">[&nbsp;ResumeRTP;</span></span>
<span class="tr"><span class="th" id="line44">44</span><span class="td">&nbsp;RTP_Buffer--&gt;6&nbsp;=&nbsp;false;</span></span>
<span class="tr"><span class="th" id="line45">45</span><span class="td">];</span></span>
<span class="tr"><span class="th" id="line46">46</span><span class="td">[&nbsp;RunTimeProblemShow&nbsp;&nbsp;&nbsp;n&nbsp;par1&nbsp;par2&nbsp;par3&nbsp;ln&nbsp;file&nbsp;i&nbsp;c;</span></span>
<span class="tr"><span class="th" id="line47">47</span><span class="td">&nbsp;if&nbsp;(RTP_Buffer--&gt;0&nbsp;==&nbsp;-1&nbsp;or&nbsp;-2)&nbsp;return;</span></span>
<span class="tr"><span class="th" id="line48">48</span><span class="td">&nbsp;if&nbsp;(RTP_Buffer--&gt;6)&nbsp;return;</span></span>
<span class="tr"><span class="th" id="line49">49</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line50">50</span><span class="td">&nbsp;n&nbsp;=&nbsp;RTP_Buffer--&gt;0;&nbsp;</span></span>
<span class="tr"><span class="th" id="line51">51</span><span class="td">&nbsp;par1&nbsp;=&nbsp;RTP_Buffer--&gt;1;&nbsp;</span></span>
<span class="tr"><span class="th" id="line52">52</span><span class="td">&nbsp;par2&nbsp;=&nbsp;RTP_Buffer--&gt;2;</span></span>
<span class="tr"><span class="th" id="line53">53</span><span class="td">&nbsp;par3&nbsp;=&nbsp;RTP_Buffer--&gt;3;</span></span>
<span class="tr"><span class="th" id="line54">54</span><span class="td">&nbsp;ln&nbsp;=&nbsp;RTP_Buffer--&gt;4;</span></span>
<span class="tr"><span class="th" id="line55">55</span><span class="td">&nbsp;file&nbsp;=&nbsp;RTP_Buffer--&gt;5;</span></span>
<span class="tr"><span class="th" id="line56">56</span><span class="td">&nbsp;RTP_Buffer--&gt;0&nbsp;=&nbsp;-2;</span></span>
<span class="tr"><span class="th" id="line57">57</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line58">58</span><span class="td">&nbsp;print&nbsp;&quot;^***&nbsp;Run-time&nbsp;problem&nbsp;P&quot;,&nbsp;n;</span></span>
<span class="tr"><span class="th" id="line59">59</span><span class="td">&nbsp;if&nbsp;(ln)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line60">60</span><span class="td">&nbsp;&nbsp;print&nbsp;&quot;&nbsp;(at&nbsp;paragraph&nbsp;&quot;,&nbsp;ln,&nbsp;&quot;&nbsp;in&nbsp;&quot;;</span></span>
<span class="tr"><span class="th" id="line61">61</span><span class="td">&nbsp;&nbsp;if&nbsp;(file&nbsp;==&nbsp;0)&nbsp;print&nbsp;&quot;the&nbsp;source&nbsp;text&quot;;</span></span>
<span class="tr"><span class="th" id="line62">62</span><span class="td">&nbsp;&nbsp;else&nbsp;ShowOneExtension(file);</span></span>
<span class="tr"><span class="th" id="line63">63</span><span class="td">&nbsp;&nbsp;print&nbsp;&quot;)&quot;;</span></span>
<span class="tr"><span class="th" id="line64">64</span><span class="td">&nbsp;}</span></span>
<span class="tr"><span class="th" id="line65">65</span><span class="td">&nbsp;print&nbsp;&quot;:&nbsp;&quot;;</span></span>
<span class="tr"><span class="th" id="line66">66</span><span class="td">&nbsp;switch(n)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line67">67</span><span class="td">&nbsp;&nbsp;RTP_BACKDROP:</span></span>
<span class="tr"><span class="th" id="line68">68</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;move&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;&nbsp;(a&nbsp;backdrop)&nbsp;to&nbsp;&quot;,&nbsp;(the)&nbsp;par2,</span></span>
<span class="tr"><span class="th" id="line69">69</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;,&nbsp;which&nbsp;is&nbsp;not&nbsp;a&nbsp;region.^&quot;;</span></span>
<span class="tr"><span class="th" id="line70">70</span><span class="td">&nbsp;&nbsp;RTP_CANTCHANGE:</span></span>
<span class="tr"><span class="th" id="line71">71</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;change&nbsp;player&nbsp;to&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;,&nbsp;which&nbsp;is&nbsp;not&nbsp;a&nbsp;person.^&quot;;</span></span>
<span class="tr"><span class="th" id="line72">72</span><span class="td">&nbsp;&nbsp;RTP_NOEXIT:</span></span>
<span class="tr"><span class="th" id="line73">73</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;change&nbsp;&quot;,&nbsp;(the)&nbsp;par2,&nbsp;&quot;&nbsp;exit&nbsp;of&nbsp;&quot;,&nbsp;(the)&nbsp;par1,</span></span>
<span class="tr"><span class="th" id="line74">74</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;,&nbsp;but&nbsp;it&nbsp;didn&#39;t&nbsp;seem&nbsp;to&nbsp;have&nbsp;such&nbsp;an&nbsp;exit&nbsp;to&nbsp;change.^&quot;;</span></span>
<span class="tr"><span class="th" id="line75">75</span><span class="td">&nbsp;&nbsp;RTP_EXITDOOR:</span></span>
<span class="tr"><span class="th" id="line76">76</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;change&nbsp;&quot;,&nbsp;(the)&nbsp;par2,&nbsp;&quot;&nbsp;exit&nbsp;of&nbsp;&quot;,&nbsp;(the)&nbsp;par1,</span></span>
<span class="tr"><span class="th" id="line77">77</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;,&nbsp;but&nbsp;it&nbsp;led&nbsp;to&nbsp;a&nbsp;door,&nbsp;not&nbsp;a&nbsp;room.^&quot;;</span></span>
<span class="tr"><span class="th" id="line78">78</span><span class="td">&nbsp;&nbsp;RTP_IMPREL:</span></span>
<span class="tr"><span class="th" id="line79">79</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;access&nbsp;an&nbsp;inappropriate&nbsp;relation&nbsp;for&nbsp;&quot;,&nbsp;(the)&nbsp;par1,</span></span>
<span class="tr"><span class="th" id="line80">80</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;,&nbsp;violating&nbsp;&#39;&quot;,&nbsp;(string)&nbsp;RlnGetF(par2,&nbsp;RR_DESCRIPTION),&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line81">81</span><span class="td">&nbsp;&nbsp;RTP_TOOMANYRULEBOOKS:</span></span>
<span class="tr"><span class="th" id="line82">82</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Too&nbsp;many&nbsp;rulebooks&nbsp;in&nbsp;simultaneous&nbsp;use.^&quot;;</span></span>
<span class="tr"><span class="th" id="line83">83</span><span class="td">&nbsp;&nbsp;RTP_TOOMANYEVENTS:</span></span>
<span class="tr"><span class="th" id="line84">84</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Too&nbsp;many&nbsp;timed&nbsp;events&nbsp;are&nbsp;going&nbsp;on&nbsp;at&nbsp;once.^&quot;;</span></span>
<span class="tr"><span class="th" id="line85">85</span><span class="td">&nbsp;&nbsp;RTP_BADPROPERTY:</span></span>
<span class="tr"><span class="th" id="line86">86</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;access&nbsp;non-existent&nbsp;property&nbsp;for&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line87">87</span><span class="td">&nbsp;&nbsp;RTP_UNPROVIDED:</span></span>
<span class="tr"><span class="th" id="line88">88</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Since&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;&nbsp;is&nbsp;not&nbsp;allowed&nbsp;the&nbsp;property&nbsp;~&quot;,</span></span>
<span class="tr"><span class="th" id="line89">89</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;par2,&nbsp;&quot;~,&nbsp;it&nbsp;is&nbsp;against&nbsp;the&nbsp;rules&nbsp;to&nbsp;try&nbsp;to&nbsp;use&nbsp;it.^&quot;;</span></span>
<span class="tr"><span class="th" id="line90">90</span><span class="td">&nbsp;&nbsp;RTP_UNSET:</span></span>
<span class="tr"><span class="th" id="line91">91</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Although&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;&nbsp;is&nbsp;allowed&nbsp;to&nbsp;have&nbsp;the&nbsp;property&nbsp;~&quot;,</span></span>
<span class="tr"><span class="th" id="line92">92</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;par2,&nbsp;&quot;~,&nbsp;no&nbsp;value&nbsp;was&nbsp;ever&nbsp;given,&nbsp;so&nbsp;it&nbsp;can&#39;t&nbsp;now&nbsp;be&nbsp;used.^&quot;;</span></span>
<span class="tr"><span class="th" id="line93">93</span><span class="td">&nbsp;&nbsp;RTP_TOOMANYACTS:</span></span>
<span class="tr"><span class="th" id="line94">94</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Too&nbsp;many&nbsp;activities&nbsp;are&nbsp;going&nbsp;on&nbsp;at&nbsp;once.^&quot;;</span></span>
<span class="tr"><span class="th" id="line95">95</span><span class="td">&nbsp;&nbsp;RTP_CANTABANDON:</span></span>
<span class="tr"><span class="th" id="line96">96</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;abandon&nbsp;an&nbsp;activity&nbsp;which&nbsp;wasn&#39;t&nbsp;going&nbsp;on.^&quot;;</span></span>
<span class="tr"><span class="th" id="line97">97</span><span class="td">&nbsp;&nbsp;RTP_CANTEND:</span></span>
<span class="tr"><span class="th" id="line98">98</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;end&nbsp;an&nbsp;activity&nbsp;which&nbsp;wasn&#39;t&nbsp;going&nbsp;on.^&quot;;</span></span>
<span class="tr"><span class="th" id="line99">99</span><span class="td">&nbsp;&nbsp;RTP_CANTMOVENOTHING:</span></span>
<span class="tr"><span class="th" id="line100">100</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;You&nbsp;can&#39;t&nbsp;move&nbsp;nothing.^&quot;;</span></span>
<span class="tr"><span class="th" id="line101">101</span><span class="td">&nbsp;&nbsp;RTP_CANTREMOVENOTHING:</span></span>
<span class="tr"><span class="th" id="line102">102</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;You&nbsp;can&#39;t&nbsp;remove&nbsp;nothing&nbsp;from&nbsp;play.^&quot;;</span></span>
<span class="tr"><span class="th" id="line103">103</span><span class="td">&nbsp;&nbsp;RTP_DIVZERO:</span></span>
<span class="tr"><span class="th" id="line104">104</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;You&nbsp;can&#39;t&nbsp;divide&nbsp;by&nbsp;zero.^&quot;;</span></span>
<span class="tr"><span class="th" id="line105">105</span><span class="td">&nbsp;&nbsp;RTP_BADVALUEPROPERTY:</span></span>
<span class="tr"><span class="th" id="line106">106</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;access&nbsp;property&nbsp;for&nbsp;a&nbsp;value&nbsp;which&nbsp;didn&#39;t&nbsp;fit:&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line107">107</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;if&nbsp;this&nbsp;were&nbsp;a&nbsp;number&nbsp;it&nbsp;would&nbsp;be&nbsp;&quot;,&nbsp;par1,&nbsp;&quot;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line108">108</span><span class="td">&nbsp;&nbsp;RTP_NOTBACKDROP:</span></span>
<span class="tr"><span class="th" id="line109">109</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;move&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;&nbsp;(not&nbsp;a&nbsp;backdrop)&nbsp;to&nbsp;&quot;,&nbsp;(the)&nbsp;par2,</span></span>
<span class="tr"><span class="th" id="line110">110</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;,&nbsp;which&nbsp;is&nbsp;a&nbsp;region.^&quot;;</span></span>
<span class="tr"><span class="th" id="line111">111</span><span class="td">&nbsp;&nbsp;RTP_TABLE_NOCOL:</span></span>
<span class="tr"><span class="th" id="line112">112</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;look&nbsp;up&nbsp;a&nbsp;non-existent&nbsp;column&nbsp;in&nbsp;the&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line113">113</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line114">114</span><span class="td">&nbsp;&nbsp;RTP_TABLE_NOCORR:</span></span>
<span class="tr"><span class="th" id="line115">115</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;look&nbsp;up&nbsp;a&nbsp;non-existent&nbsp;correspondence&nbsp;in&nbsp;the&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line116">116</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line117">117</span><span class="td">&nbsp;&nbsp;RTP_TABLE_NOROW:</span></span>
<span class="tr"><span class="th" id="line118">118</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;look&nbsp;up&nbsp;a&nbsp;non-existent&nbsp;row&nbsp;in&nbsp;the&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line119">119</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line120">120</span><span class="td">&nbsp;&nbsp;RTP_TABLE_NOENTRY:</span></span>
<span class="tr"><span class="th" id="line121">121</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;look&nbsp;up&nbsp;a&nbsp;non-existent&nbsp;entry&nbsp;at&nbsp;column&nbsp;&quot;,&nbsp;par2,</span></span>
<span class="tr"><span class="th" id="line122">122</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;,&nbsp;row&nbsp;&quot;,&nbsp;par3,&nbsp;&quot;&nbsp;of&nbsp;the&nbsp;table&nbsp;&#39;&quot;,&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line123">123</span><span class="td">&nbsp;&nbsp;RTP_TABLE_NOTABLE:</span></span>
<span class="tr"><span class="th" id="line124">124</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;blank&nbsp;out&nbsp;a&nbsp;row&nbsp;from&nbsp;a&nbsp;non-existent&nbsp;table&nbsp;(value&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line125">125</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;par1,&nbsp;&quot;).^&quot;;</span></span>
<span class="tr"><span class="th" id="line126">126</span><span class="td">&nbsp;&nbsp;RTP_TABLE_NOTABLE2:</span></span>
<span class="tr"><span class="th" id="line127">127</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;access&nbsp;an&nbsp;entry&nbsp;from&nbsp;a&nbsp;non-existent&nbsp;table.^&quot;;</span></span>
<span class="tr"><span class="th" id="line128">128</span><span class="td">&nbsp;&nbsp;RTP_TABLE_NOMOREBLANKS:</span></span>
<span class="tr"><span class="th" id="line129">129</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;choose&nbsp;a&nbsp;blank&nbsp;row&nbsp;in&nbsp;a&nbsp;table&nbsp;with&nbsp;none&nbsp;left:&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line130">130</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line131">131</span><span class="td">&nbsp;&nbsp;RTP_TABLE_NOROWS:</span></span>
<span class="tr"><span class="th" id="line132">132</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;choose&nbsp;a&nbsp;random&nbsp;row&nbsp;in&nbsp;an&nbsp;entirely&nbsp;blank&nbsp;table:&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line133">133</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line134">134</span><span class="td">&nbsp;&nbsp;RTP_TABLE_CANTRUNTHROUGH:</span></span>
<span class="tr"><span class="th" id="line135">135</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;repeat&nbsp;through&nbsp;a&nbsp;table&nbsp;in&nbsp;a&nbsp;tricky&nbsp;column&nbsp;order:&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line136">136</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line137">137</span><span class="td">&nbsp;&nbsp;RTP_TABLE_CANTSORT:</span></span>
<span class="tr"><span class="th" id="line138">138</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;sort&nbsp;a&nbsp;table&nbsp;whose&nbsp;ordering&nbsp;must&nbsp;remain&nbsp;fixed:&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line139">139</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line140">140</span><span class="td">&nbsp;&nbsp;RTP_TABLE_CANTSAVE:</span></span>
<span class="tr"><span class="th" id="line141">141</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;save&nbsp;a&nbsp;table&nbsp;to&nbsp;a&nbsp;file&nbsp;whose&nbsp;data&nbsp;is&nbsp;unstable:&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line142">142</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line143">143</span><span class="td">&nbsp;&nbsp;RTP_TABLE_WONTFIT:</span></span>
<span class="tr"><span class="th" id="line144">144</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;File&nbsp;being&nbsp;read&nbsp;has&nbsp;too&nbsp;many&nbsp;rows&nbsp;or&nbsp;columns&nbsp;to&nbsp;fit&nbsp;into&nbsp;table:&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line145">145</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line146">146</span><span class="td">&nbsp;&nbsp;RTP_TABLE_BADFILE:</span></span>
<span class="tr"><span class="th" id="line147">147</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;File&nbsp;being&nbsp;read&nbsp;is&nbsp;not&nbsp;a&nbsp;previously&nbsp;saved&nbsp;table:&nbsp;table&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line148">148</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintTableName)&nbsp;par1,&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line149">149</span><span class="td">&nbsp;&nbsp;RTP_NOTINAROOM:</span></span>
<span class="tr"><span class="th" id="line150">150</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;test&nbsp;if&nbsp;the&nbsp;current&nbsp;location&nbsp;is&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line151">151</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(the)&nbsp;par1,&nbsp;&quot;&#39;,&nbsp;which&nbsp;is&nbsp;not&nbsp;a&nbsp;room&nbsp;or&nbsp;region.^&quot;;</span></span>
<span class="tr"><span class="th" id="line152">152</span><span class="td">&nbsp;&nbsp;RTP_BADTOPIC:</span></span>
<span class="tr"><span class="th" id="line153">153</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;see&nbsp;if&nbsp;a&nbsp;snippet&nbsp;of&nbsp;text&nbsp;matches&nbsp;something&nbsp;which</span></span>
<span class="tr"><span class="th" id="line154">154</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;not&nbsp;a&nbsp;topic.^&quot;;</span></span>
<span class="tr"><span class="th" id="line155">155</span><span class="td">&nbsp;&nbsp;RTP_ROUTELESS:</span></span>
<span class="tr"><span class="th" id="line156">156</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;find&nbsp;route&nbsp;or&nbsp;count&nbsp;steps&nbsp;through&nbsp;an&nbsp;implicit</span></span>
<span class="tr"><span class="th" id="line157">157</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;relation.^&quot;;</span></span>
<span class="tr"><span class="th" id="line158">158</span><span class="td">&nbsp;&nbsp;RTP_PROPOFNOTHING:</span></span>
<span class="tr"><span class="th" id="line159">159</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;use&nbsp;a&nbsp;property&nbsp;of&nbsp;the&nbsp;&#39;nothing&#39;&nbsp;non-object:&nbsp;property&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line160">160</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(PrintPropertyName)&nbsp;par2,&nbsp;&quot;^&quot;;</span></span>
<span class="tr"><span class="th" id="line161">161</span><span class="td">&nbsp;&nbsp;RTP_DECIDEONWRONGKIND:</span></span>
<span class="tr"><span class="th" id="line162">162</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;&#39;decide&nbsp;on&nbsp;V&#39;&nbsp;where&nbsp;V&nbsp;is&nbsp;the&nbsp;wrong&nbsp;kind&nbsp;of&nbsp;object.^&quot;;</span></span>
<span class="tr"><span class="th" id="line163">163</span><span class="td">&nbsp;&nbsp;RTP_DECIDEONNOTHING:</span></span>
<span class="tr"><span class="th" id="line164">164</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;&#39;decide&nbsp;on&nbsp;nothing&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line165">165</span><span class="td">&nbsp;&nbsp;RTP_LOWLEVELERROR:</span></span>
<span class="tr"><span class="th" id="line166">166</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Low&nbsp;level&nbsp;error.^&quot;;</span></span>
<span class="tr"><span class="th" id="line167">167</span><span class="td">&nbsp;&nbsp;RTP_DONTIGNORETURNSEQUENCE:</span></span>
<span class="tr"><span class="th" id="line168">168</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;ignore&nbsp;the&nbsp;turn&nbsp;sequence&nbsp;rules.^&quot;;</span></span>
<span class="tr"><span class="th" id="line169">169</span><span class="td">&nbsp;&nbsp;RTP_SAYINVALIDSNIPPET:</span></span>
<span class="tr"><span class="th" id="line170">170</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;say&nbsp;a&nbsp;snippet&nbsp;value&nbsp;which&nbsp;is&nbsp;currently&nbsp;invalid:&nbsp;words&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line171">171</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;par1,&nbsp;&quot;&nbsp;to&nbsp;&quot;,&nbsp;par2,&nbsp;&quot;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line172">172</span><span class="td">&nbsp;&nbsp;RTP_SPLICEINVALIDSNIPPET:</span></span>
<span class="tr"><span class="th" id="line173">173</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;splice&nbsp;a&nbsp;snippet&nbsp;value&nbsp;which&nbsp;is&nbsp;currently&nbsp;invalid:&nbsp;words&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line174">174</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;par1,&nbsp;&quot;&nbsp;to&nbsp;&quot;,&nbsp;par2,&nbsp;&quot;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line175">175</span><span class="td">&nbsp;&nbsp;RTP_INCLUDEINVALIDSNIPPET:</span></span>
<span class="tr"><span class="th" id="line176">176</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;match&nbsp;a&nbsp;snippet&nbsp;value&nbsp;which&nbsp;is&nbsp;currently&nbsp;invalid:&nbsp;words&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line177">177</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;par1,&nbsp;&quot;&nbsp;to&nbsp;&quot;,&nbsp;par2,&nbsp;&quot;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line178">178</span><span class="td">&nbsp;&nbsp;RTP_LISTWRITERMEMORY:</span></span>
<span class="tr"><span class="th" id="line179">179</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;The&nbsp;list-writer&nbsp;has&nbsp;run&nbsp;out&nbsp;of&nbsp;memory.^&quot;;</span></span>
<span class="tr"><span class="th" id="line180">180</span><span class="td">&nbsp;&nbsp;RTP_CANTREMOVEPLAYER:</span></span>
<span class="tr"><span class="th" id="line181">181</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;remove&nbsp;the&nbsp;player&nbsp;from&nbsp;play.^&quot;;</span></span>
<span class="tr"><span class="th" id="line182">182</span><span class="td">&nbsp;&nbsp;RTP_CANTBEOFFSTAGE:</span></span>
<span class="tr"><span class="th" id="line183">183</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;move&nbsp;the&nbsp;player&nbsp;off-stage.^&quot;;</span></span>
<span class="tr"><span class="th" id="line184">184</span><span class="td">&nbsp;&nbsp;RTP_CANTREMOVEDOORS:</span></span>
<span class="tr"><span class="th" id="line185">185</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;remove&nbsp;a&nbsp;door&nbsp;from&nbsp;play.^&quot;;</span></span>
<span class="tr"><span class="th" id="line186">186</span><span class="td">&nbsp;&nbsp;RTP_CANTCHANGEOFFSTAGE:</span></span>
<span class="tr"><span class="th" id="line187">187</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;change&nbsp;the&nbsp;player&nbsp;to&nbsp;a&nbsp;person&nbsp;off-stage.^&quot;;</span></span>
<span class="tr"><span class="th" id="line188">188</span><span class="td">&nbsp;&nbsp;RTP_MSTACKMEMORY:</span></span>
<span class="tr"><span class="th" id="line189">189</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;The&nbsp;memory&nbsp;stack&nbsp;is&nbsp;exhausted.^&quot;;</span></span>
<span class="tr"><span class="th" id="line190">190</span><span class="td">&nbsp;&nbsp;RTP_TYPECHECK:</span></span>
<span class="tr"><span class="th" id="line191">191</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Phrase&nbsp;applied&nbsp;to&nbsp;an&nbsp;incompatible&nbsp;kind&nbsp;of&nbsp;value.^&quot;;</span></span>
<span class="tr"><span class="th" id="line192">192</span><span class="td">&nbsp;&nbsp;RTP_FILEIOERROR:</span></span>
<span class="tr"><span class="th" id="line193">193</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Error&nbsp;handling&nbsp;external&nbsp;file.^&quot;;</span></span>
<span class="tr"><span class="th" id="line194">194</span><span class="td">&nbsp;&nbsp;RTP_HEAPERROR:</span></span>
<span class="tr"><span class="th" id="line195">195</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Memory&nbsp;allocation&nbsp;proved&nbsp;impossible.^&quot;;</span></span>
<span class="tr"><span class="th" id="line196">196</span><span class="td">&nbsp;&nbsp;RTP_LISTRANGEERROR:</span></span>
<span class="tr"><span class="th" id="line197">197</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;use&nbsp;list&nbsp;item&nbsp;which&nbsp;does&nbsp;not&nbsp;exist.^&quot;;</span></span>
<span class="tr"><span class="th" id="line198">198</span><span class="td">&nbsp;&nbsp;RTP_LISTSIZENEGATIVE:</span></span>
<span class="tr"><span class="th" id="line199">199</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;resize&nbsp;list&nbsp;to&nbsp;&quot;,&nbsp;par1,&nbsp;&quot;&nbsp;entries&nbsp;-&nbsp;there&nbsp;must&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line200">200</span><span class="td">&nbsp;&nbsp;&nbsp;&quot;always&nbsp;be&nbsp;0&nbsp;or&nbsp;more.^&quot;;&nbsp;</span></span>
<span class="tr"><span class="th" id="line201">201</span><span class="td">&nbsp;&nbsp;RTP_REGEXPSYNTAXERROR:</span></span>
<span class="tr"><span class="th" id="line202">202</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Syntax&nbsp;error&nbsp;in&nbsp;regular&nbsp;expression.^&quot;;</span></span>
<span class="tr"><span class="th" id="line203">203</span><span class="td">&nbsp;&nbsp;RTP_NOGLULXUNICODE:</span></span>
<span class="tr"><span class="th" id="line204">204</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;This&nbsp;interpreter&nbsp;does&nbsp;not&nbsp;support&nbsp;Unicode.^&quot;;</span></span>
<span class="tr"><span class="th" id="line205">205</span><span class="td">&nbsp;&nbsp;RTP_BACKDROPONLY:</span></span>
<span class="tr"><span class="th" id="line206">206</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Only&nbsp;backdrops&nbsp;can&nbsp;be&nbsp;moved&nbsp;to&nbsp;multiple&nbsp;places.^&quot;;</span></span>
<span class="tr"><span class="th" id="line207">207</span><span class="td">&nbsp;&nbsp;RTP_NOTTHING:</span></span>
<span class="tr"><span class="th" id="line208">208</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;move&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;&nbsp;(not&nbsp;a&nbsp;thing)&nbsp;to&nbsp;&quot;,&nbsp;(the)&nbsp;par2,</span></span>
<span class="tr"><span class="th" id="line209">209</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;,&nbsp;but&nbsp;only&nbsp;things&nbsp;can&nbsp;move&nbsp;around.^&quot;;</span></span>
<span class="tr"><span class="th" id="line210">210</span><span class="td">&nbsp;&nbsp;RTP_SCENEHASNTSTARTED:</span></span>
<span class="tr"><span class="th" id="line211">211</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;The&nbsp;scene&nbsp;&quot;,&nbsp;(PrintSceneName)&nbsp;par1,</span></span>
<span class="tr"><span class="th" id="line212">212</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;hasn&#39;t&nbsp;started,&nbsp;so&nbsp;you&nbsp;can&#39;t&nbsp;ask&nbsp;when&nbsp;it&nbsp;did.^&quot;;</span></span>
<span class="tr"><span class="th" id="line213">213</span><span class="td">&nbsp;&nbsp;RTP_SCENEHASNTENDED:</span></span>
<span class="tr"><span class="th" id="line214">214</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;The&nbsp;scene&nbsp;&quot;,&nbsp;(PrintSceneName)&nbsp;par1,</span></span>
<span class="tr"><span class="th" id="line215">215</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;hasn&#39;t&nbsp;ended,&nbsp;so&nbsp;you&nbsp;can&#39;t&nbsp;ask&nbsp;when&nbsp;it&nbsp;did.^&quot;;</span></span>
<span class="tr"><span class="th" id="line216">216</span><span class="td">&nbsp;&nbsp;RTP_NEGATIVEROOT:</span></span>
<span class="tr"><span class="th" id="line217">217</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;You&nbsp;can&#39;t&nbsp;take&nbsp;the&nbsp;square&nbsp;root&nbsp;of&nbsp;a&nbsp;negative&nbsp;number.^&quot;;</span></span>
<span class="tr"><span class="th" id="line218">218</span><span class="td">&nbsp;&nbsp;RTP_CANTITERATE:</span></span>
<span class="tr"><span class="th" id="line219">219</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;You&nbsp;can&#39;t&nbsp;implicitly&nbsp;repeat&nbsp;through&nbsp;the&nbsp;values&nbsp;of&nbsp;this&nbsp;kind:&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line220">220</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;a&nbsp;problem&nbsp;arising&nbsp;from&nbsp;a&nbsp;description&nbsp;which&nbsp;started&nbsp;out&nbsp;here&nbsp;-&nbsp;~&quot;,</span></span>
<span class="tr"><span class="th" id="line221">221</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;par1,&nbsp;&quot;~.^&quot;;</span></span>
<span class="tr"><span class="th" id="line222">222</span><span class="td">&nbsp;&nbsp;RTP_WRONGASSIGNEDKIND:</span></span>
<span class="tr"><span class="th" id="line223">223</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;set&nbsp;a&nbsp;variable&nbsp;to&nbsp;the&nbsp;wrong&nbsp;kind&nbsp;of&nbsp;object:&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line224">224</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;you&nbsp;wrote&nbsp;&#39;&quot;,&nbsp;(string)&nbsp;par2,&nbsp;&quot;&#39;,&nbsp;which&nbsp;sets&nbsp;the&nbsp;value&nbsp;to&nbsp;&quot;,&nbsp;(the)&nbsp;par1,</span></span>
<span class="tr"><span class="th" id="line225">225</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;-&nbsp;but&nbsp;that&nbsp;doesn&#39;t&nbsp;have&nbsp;the&nbsp;kind&nbsp;&#39;&quot;,&nbsp;(string)&nbsp;par3,&nbsp;&quot;&#39;.^&quot;;&nbsp;&nbsp;&nbsp;</span></span>
<span class="tr"><span class="th" id="line226">226</span><span class="td">&nbsp;&nbsp;RTP_RELKINDVIOLATION:</span></span>
<span class="tr"><span class="th" id="line227">227</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;change&nbsp;a&nbsp;relation&nbsp;for&nbsp;objects&nbsp;with&nbsp;the&nbsp;wrong&nbsp;kinds:&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line228">228</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;RlnGetF(par3,&nbsp;RR_DESCRIPTION),&nbsp;&quot;,&nbsp;but&nbsp;you&nbsp;tried&nbsp;to&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line229">229</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;relate&nbsp;(or&nbsp;unrelate)&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;&nbsp;to&nbsp;&quot;,&nbsp;(the)&nbsp;par2,&nbsp;&quot;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line230">230</span><span class="td">&nbsp;&nbsp;RTP_CANTMAKEPART:</span></span>
<span class="tr"><span class="th" id="line231">231</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;make&nbsp;the&nbsp;player&nbsp;part&nbsp;of&nbsp;something:&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line232">232</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(the)&nbsp;par1,&nbsp;&quot;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line233">233</span><span class="td">&nbsp;&nbsp;RTP_TEXTTOKENTOOHARD:</span></span>
<span class="tr"><span class="th" id="line234">234</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;This&nbsp;use&nbsp;of&nbsp;&#39;[text]&#39;&nbsp;is&nbsp;too&nbsp;complicated.^&quot;;</span></span>
<span class="tr"><span class="th" id="line235">235</span><span class="td">&nbsp;&nbsp;RTP_RELATIONCHANGEIMPOSSIBLE:</span></span>
<span class="tr"><span class="th" id="line236">236</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;This&nbsp;change&nbsp;of&nbsp;the&nbsp;relation&#39;s&nbsp;nature&nbsp;is&nbsp;impossible&nbsp;in&nbsp;play.^&quot;;</span></span>
<span class="tr"><span class="th" id="line237">237</span><span class="td">&nbsp;&nbsp;RTP_RELMINIMAL:</span></span>
<span class="tr"><span class="th" id="line238">238</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;This&nbsp;operation&nbsp;can&#39;t&nbsp;be&nbsp;done&nbsp;with&nbsp;the&nbsp;relation&nbsp;&#39;&quot;,</span></span>
<span class="tr"><span class="th" id="line239">239</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;(string)&nbsp;RlnGetF(par3,&nbsp;RR_DESCRIPTION),&nbsp;&quot;&#39;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line240">240</span><span class="td">&nbsp;&nbsp;RTP_REGIONSNOTADJACENT:</span></span>
<span class="tr"><span class="th" id="line241">241</span><span class="td">&nbsp;&nbsp;&nbsp;print&nbsp;&quot;You&nbsp;can&#39;t&nbsp;test&nbsp;whether&nbsp;something&nbsp;is&nbsp;adjacent&nbsp;to&nbsp;a&nbsp;region:&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line242">242</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&quot;such&nbsp;as,&nbsp;in&nbsp;this&nbsp;case,&nbsp;&quot;,&nbsp;(the)&nbsp;par1,&nbsp;&quot;.^&quot;;</span></span>
<span class="tr"><span class="th" id="line243">243</span><span class="td">&nbsp;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line244">244</span><span class="td">&nbsp;print&nbsp;&quot;^&quot;;</span></span>
<span class="tr"><span class="th" id="line245">245</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-low-level-errors">Low-Level Errors.</h3><p><p> The following is a residue from the old I6 library, and most of its possible messages can&#39;t be seen in I7 use &ndash; for instance I7 has no timers or daemons, so error 4 is out of the question. But we retain the routine because the veneer code added by I6 requires it to be present.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line254">254</span><span class="td">Constant&nbsp;MAX_TIMERS&nbsp;=&nbsp;0;</span></span>
<span class="tr"><span class="th" id="line255">255</span><span class="td">[&nbsp;RunTimeError&nbsp;n&nbsp;p1&nbsp;p2;</span></span>
<span class="tr"><span class="th" id="line256">256</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;#Ifdef&nbsp;DEBUG;</span></span>
<span class="tr"><span class="th" id="line257">257</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;**&nbsp;Library&nbsp;error&nbsp;&quot;,&nbsp;n,&nbsp;&quot;&nbsp;(&quot;,&nbsp;p1,&nbsp;&quot;,&quot;,&nbsp;p2,&nbsp;&quot;)&nbsp;**^**&nbsp;&quot;;</span></span>
<span class="tr"><span class="th" id="line258">258</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(n)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line259">259</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;preposition&nbsp;not&nbsp;found&nbsp;(this&nbsp;should&nbsp;not&nbsp;occur)&quot;;</span></span>
<span class="tr"><span class="th" id="line260">260</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Property&nbsp;value&nbsp;not&nbsp;routine&nbsp;or&nbsp;string:&nbsp;~&quot;,&nbsp;(property)&nbsp;p2,&nbsp;&quot;~&nbsp;of&nbsp;~&quot;,&nbsp;(name)&nbsp;p1,</span></span>
<span class="tr"><span class="th" id="line261">261</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;~&nbsp;(&quot;,&nbsp;p1,&nbsp;&quot;)&quot;;</span></span>
<span class="tr"><span class="th" id="line262">262</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3:&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Entry&nbsp;in&nbsp;property&nbsp;list&nbsp;not&nbsp;routine&nbsp;or&nbsp;string:&nbsp;~&quot;,&nbsp;(property)&nbsp;p2,&nbsp;&quot;~&nbsp;list&nbsp;of&nbsp;~&quot;,</span></span>
<span class="tr"><span class="th" id="line263">263</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(name)&nbsp;p1,&nbsp;&quot;~&nbsp;(&quot;,&nbsp;p1,&nbsp;&quot;)&quot;;</span></span>
<span class="tr"><span class="th" id="line264">264</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4:&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Too&nbsp;many&nbsp;timers/daemons&nbsp;are&nbsp;active&nbsp;simultaneously.</span></span>
<span class="tr"><span class="th" id="line265">265</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;limit&nbsp;is&nbsp;the&nbsp;library&nbsp;constant&nbsp;MAX_TIMERS&nbsp;(currently&nbsp;&quot;,</span></span>
<span class="tr"><span class="th" id="line266">266</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MAX_TIMERS,&nbsp;&quot;)&nbsp;and&nbsp;should&nbsp;be&nbsp;increased&quot;;</span></span>
<span class="tr"><span class="th" id="line267">267</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5:&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Object&nbsp;~&quot;,&nbsp;(name)&nbsp;p1,&nbsp;&quot;~&nbsp;has&nbsp;no&nbsp;~time_left~&nbsp;property&quot;;</span></span>
<span class="tr"><span class="th" id="line268">268</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7:&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;The&nbsp;object&nbsp;~&quot;,&nbsp;(name)&nbsp;p1,&nbsp;&quot;~&nbsp;can&nbsp;only&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;player&nbsp;object&nbsp;if&nbsp;it&nbsp;has</span></span>
<span class="tr"><span class="th" id="line269">269</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;~number~&nbsp;property&quot;;</span></span>
<span class="tr"><span class="th" id="line270">270</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8:&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Attempt&nbsp;to&nbsp;take&nbsp;random&nbsp;entry&nbsp;from&nbsp;an&nbsp;empty&nbsp;table&nbsp;array&quot;;</span></span>
<span class="tr"><span class="th" id="line271">271</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9:&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;p1,&nbsp;&quot;&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;direction&nbsp;property&nbsp;number&quot;;</span></span>
<span class="tr"><span class="th" id="line272">272</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10:&nbsp;&nbsp;&nbsp;print&nbsp;&quot;The&nbsp;player-object&nbsp;is&nbsp;outside&nbsp;the&nbsp;object&nbsp;tree&quot;;</span></span>
<span class="tr"><span class="th" id="line273">273</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11:&nbsp;&nbsp;&nbsp;print&nbsp;&quot;The&nbsp;room&nbsp;~&quot;,&nbsp;(name)&nbsp;p1,&nbsp;&quot;~&nbsp;has&nbsp;no&nbsp;~description~&nbsp;property&quot;;</span></span>
<span class="tr"><span class="th" id="line274">274</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12:&nbsp;&nbsp;&nbsp;print&nbsp;&quot;Tried&nbsp;to&nbsp;set&nbsp;a&nbsp;non-existent&nbsp;pronoun&nbsp;using&nbsp;SetPronoun&quot;;</span></span>
<span class="tr"><span class="th" id="line275">275</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13:&nbsp;&nbsp;&nbsp;print&nbsp;&quot;A&nbsp;&#39;topic&#39;&nbsp;token&nbsp;can&nbsp;only&nbsp;be&nbsp;followed&nbsp;by&nbsp;a&nbsp;preposition&quot;;</span></span>
<span class="tr"><span class="th" id="line276">276</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:&nbsp;print&nbsp;&quot;(unexplained)&quot;;</span></span>
<span class="tr"><span class="th" id="line277">277</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line278">278</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;&nbsp;**^&quot;;</span></span>
<span class="tr"><span class="th" id="line279">279</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;#Ifnot;</span></span>
<span class="tr"><span class="th" id="line280">280</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;&quot;**&nbsp;Library&nbsp;error&nbsp;&quot;,&nbsp;n,&nbsp;&quot;&nbsp;(&quot;,&nbsp;p1,&nbsp;&quot;,&quot;,&nbsp;p2,&nbsp;&quot;)&nbsp;**^&quot;;</span></span>
<span class="tr"><span class="th" id="line281">281</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;#Endif;&nbsp;!&nbsp;DEBUG</span></span>
<span class="tr"><span class="th" id="line282">282</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;RunTimeProblem(RTP_LOWLEVELERROR);</span></span>
<span class="tr"><span class="th" id="line283">283</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-argument-type-checking-failed">Argument Type Checking Failed.</h3><p><p> This is called when run-time type checking for the argument of a phrase fails, so that no definition for the phrase can be applied.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line290">290</span><span class="td">[&nbsp;ArgumentTypeFailed&nbsp;line&nbsp;file;</span></span>
<span class="tr"><span class="th" id="line291">291</span><span class="td">&nbsp;RunTimeProblem(RTP_TYPECHECK,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;line,&nbsp;file);</span></span>
<span class="tr"><span class="th" id="line292">292</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-return-type-checking-failed">Return Type Checking Failed.</h3><p><p> Similarly, though in a more restricted set of circumstances. NI can usually prove that the value returned by a phrase matches its supposed kind, but because of the deliberately weak type-checking within the kind of value &quot;object&quot; it will allow a broader kind of object to be returned when the requirement is for a narrower one. In such cases, it checks the result with the following routine. The value <span class="fixed">V</span> is a valid &quot;object&quot;, but that meansit can be <span class="fixed">nothing</span>, and we must check that it matches a given I7 kind <span class="fixed">K</span><br> (where <span class="fixed">nothing</span> is not valid).<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line305">305</span><span class="td">[&nbsp;CheckKindReturned&nbsp;V&nbsp;K;</span></span>
<span class="tr"><span class="th" id="line306">306</span><span class="td">&nbsp;if&nbsp;(V&nbsp;ofclass&nbsp;K)&nbsp;return&nbsp;V;</span></span>
<span class="tr"><span class="th" id="line307">307</span><span class="td">&nbsp;if&nbsp;(v&nbsp;==&nbsp;nothing)&nbsp;RunTimeProblem(RTP_DECIDEONNOTHING);</span></span>
<span class="tr"><span class="th" id="line308">308</span><span class="td">&nbsp;else&nbsp;RunTimeProblem(RTP_DECIDEONWRONGKIND);</span></span>
<span class="tr"><span class="th" id="line309">309</span><span class="td">&nbsp;return&nbsp;V;</span></span>
<span class="tr"><span class="th" id="line310">310</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-whether-provides">Whether Provides.</h3><p><p> This routine defines the phrase &quot;if O provides P&quot;: there are three teststo pass, and if any of the three fail, we return <span class="fixed">false</span>. (The <span class="fixed">issue_rtp</span><br> flag, causing RTPs to be issued depending on which test fails, is never set when the routine is simply testing the condition.)<p></p><p> Firstly, P has to be a property known to I7. Secondly, there has to be permission either for this individual object to have it, or for its kind to have it, or its kind&#39;s kind, and so on. Thirdly, the object has to actually have the property in question at an I6 level &ndash; having permission to have it doesn&#39;t mean it actually does have.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line325">325</span><span class="td">[&nbsp;WhetherProvides&nbsp;obj&nbsp;either_or&nbsp;p&nbsp;issue_rtp&nbsp;&nbsp;off&nbsp;i&nbsp;textual&nbsp;a&nbsp;l;</span></span>
<span class="tr"><span class="th" id="line326">326</span><span class="td">&nbsp;if&nbsp;(metaclass(obj)&nbsp;~=&nbsp;Object)&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line327">327</span><span class="td">&nbsp;if&nbsp;(p&lt;0)&nbsp;p&nbsp;=&nbsp;~p;</span></span>
<span class="tr"><span class="th" id="line328">328</span><span class="td">&nbsp;if&nbsp;(either_or)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line329">329</span><span class="td">&nbsp;&nbsp;if&nbsp;(p&nbsp;&lt;&nbsp;FBNA_PROP_NUMBER)&nbsp;off&nbsp;=&nbsp;attributed_property_offsets--&gt;p;</span></span>
<span class="tr"><span class="th" id="line330">330</span><span class="td">&nbsp;&nbsp;else&nbsp;off&nbsp;=&nbsp;valued_property_offsets--&gt;p;</span></span>
<span class="tr"><span class="th" id="line331">331</span><span class="td">&nbsp;}&nbsp;else&nbsp;off&nbsp;=&nbsp;valued_property_offsets--&gt;p;</span></span>
<span class="tr"><span class="th" id="line332">332</span><span class="td">&nbsp;if&nbsp;(off&lt;0)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line333">333</span><span class="td">&nbsp;&nbsp;if&nbsp;(issue_rtp)&nbsp;RunTimeProblem(RTP_BADPROPERTY,&nbsp;obj);</span></span>
<span class="tr"><span class="th" id="line334">334</span><span class="td">&nbsp;&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line335">335</span><span class="td">&nbsp;}</span></span>
<span class="tr"><span class="th" id="line336">336</span><span class="td">&nbsp;textual&nbsp;=&nbsp;property_metadata--&gt;off;&nbsp;off++;</span></span>
<span class="tr"><span class="th" id="line337">337</span><span class="td">&nbsp;</span></span>
<span class="tr"><span class="th" id="line338">338</span><span class="td">&nbsp;if&nbsp;(ScanPropertyMetadata(obj,&nbsp;off))&nbsp;jump&nbsp;<a href="./RTP.i6t.html#line350">PermissionFound</a>;</span></span>
<span class="tr"><span class="th" id="line339">339</span><span class="td">&nbsp;if&nbsp;(obj&nbsp;provides&nbsp;KD_Count)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line340">340</span><span class="td">&nbsp;&nbsp;l&nbsp;=&nbsp;obj.KD_Count;</span></span>
<span class="tr"><span class="th" id="line341">341</span><span class="td">&nbsp;&nbsp;while&nbsp;(l&nbsp;&gt;&nbsp;0)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line342">342</span><span class="td">&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;l*2;</span></span>
<span class="tr"><span class="th" id="line343">343</span><span class="td">&nbsp;&nbsp;&nbsp;if&nbsp;(ScanPropertyMetadata(KindHierarchy--&gt;a,&nbsp;off))&nbsp;jump&nbsp;<a href="./RTP.i6t.html#line350">PermissionFound</a>;</span></span>
<span class="tr"><span class="th" id="line344">344</span><span class="td">&nbsp;&nbsp;&nbsp;l&nbsp;=&nbsp;KindHierarchy--&gt;(a+1);</span></span>
<span class="tr"><span class="th" id="line345">345</span><span class="td">&nbsp;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line346">346</span><span class="td">&nbsp;}</span></span>
<span class="tr"><span class="th" id="line347">347</span><span class="td">&nbsp;if&nbsp;(issue_rtp)&nbsp;RunTimeProblem(RTP_UNPROVIDED,&nbsp;obj,&nbsp;textual);</span></span>
<span class="tr"><span class="th" id="line348">348</span><span class="td">&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line349">349</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line350">350</span><span class="td">&nbsp;.PermissionFound;</span></span>
<span class="tr"><span class="th" id="line351">351</span><span class="td">&nbsp;&nbsp;if&nbsp;(either_or)&nbsp;rtrue;</span></span>
<span class="tr"><span class="th" id="line352">352</span><span class="td">&nbsp;&nbsp;if&nbsp;(obj&nbsp;provides&nbsp;p)&nbsp;rtrue;</span></span>
<span class="tr"><span class="th" id="line353">353</span><span class="td">&nbsp;&nbsp;if&nbsp;(issue_rtp)&nbsp;RunTimeProblem(RTP_UNSET,&nbsp;obj,&nbsp;textual);</span></span>
<span class="tr"><span class="th" id="line354">354</span><span class="td">&nbsp;&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line355">355</span><span class="td">];</span></span>
<span class="tr"><span class="th" id="line356">356</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line357">357</span><span class="td">[&nbsp;PrintPropertyName&nbsp;&nbsp;p&nbsp;&nbsp;off&nbsp;textual;</span></span>
<span class="tr"><span class="th" id="line358">358</span><span class="td">&nbsp;if&nbsp;(p&lt;0)&nbsp;p&nbsp;=&nbsp;~p;</span></span>
<span class="tr"><span class="th" id="line359">359</span><span class="td">&nbsp;off&nbsp;=&nbsp;valued_property_offsets--&gt;p;</span></span>
<span class="tr"><span class="th" id="line360">360</span><span class="td">&nbsp;textual&nbsp;=&nbsp;property_metadata--&gt;off;</span></span>
<span class="tr"><span class="th" id="line361">361</span><span class="td">&nbsp;print&nbsp;(string)&nbsp;textual;</span></span>
<span class="tr"><span class="th" id="line362">362</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-scan-property-metadata">Scan Property Metadata.</h3><p><p> The <span class="fixed">property_metadata</span> table is a series of zero-terminated lists of objects (or class objects, representing I7 kinds). Each list corresponds to a single property; the position in the table is called the &quot;offset&quot; for the property. The following searches from a given offset.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line371">371</span><span class="td">[&nbsp;ScanPropertyMetadata&nbsp;obj&nbsp;off&nbsp;i;</span></span>
<span class="tr"><span class="th" id="line372">372</span><span class="td">&nbsp;for&nbsp;(i=off:&nbsp;property_metadata--&gt;i&nbsp;&gt;=&nbsp;0:&nbsp;i++)</span></span>
<span class="tr"><span class="th" id="line373">373</span><span class="td">&nbsp;&nbsp;if&nbsp;(obj&nbsp;==&nbsp;property_metadata--&gt;i)&nbsp;rtrue;</span></span>
<span class="tr"><span class="th" id="line374">374</span><span class="td">&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line375">375</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-get-either-or-property">Get Either-Or Property.</h3><p><p> If <span class="fixed">p</span> represents a property, then <span class="fixed">~p</span> (its bitwise negation) represents its logical negation. The bitwise negation will change the sign bit; since all properties are ordinarily positive, we can detect bitwise negation by looking for negative property numbers. (This could fail on Glulx story files above 1GB in size, but that&#39;s about 1000 times the size of the record-sized file created thus far.)<p></p><p> FBNA stands for First Boolean Not to be an Attribute, in the I6 sense. Some either/or (i.e., boolean) properties are stored as I6 attributes, others as I6 properties whose values are always <span class="fixed">true</span> or <span class="fixed">false</span>.<p></p><p> Note that we allow either/or properties to be <em> read</em> for any object, regardless of permissions, returning <span class="fixed">false</span> if the object does not have the property. This is so that a description such as &quot;open things&quot; can be applied against any object without run-time errors, even though it is only normally valid for doors and containers.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line396">396</span><span class="td">[&nbsp;GetEitherOrProperty&nbsp;o&nbsp;p;</span></span>
<span class="tr"><span class="th" id="line397">397</span><span class="td">&nbsp;if&nbsp;(o&nbsp;==&nbsp;nothing)&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line398">398</span><span class="td">&nbsp;if&nbsp;(p&lt;0)&nbsp;p&nbsp;=&nbsp;~p;</span></span>
<span class="tr"><span class="th" id="line399">399</span><span class="td">&nbsp;if&nbsp;(WhetherProvides(o,&nbsp;true,&nbsp;p,&nbsp;false))&nbsp;{</span></span>
<span class="tr"><span class="th" id="line400">400</span><span class="td">&nbsp;&nbsp;if&nbsp;(p&lt;FBNA_PROP_NUMBER)&nbsp;{&nbsp;if&nbsp;(o&nbsp;has&nbsp;p)&nbsp;rtrue;&nbsp;rfalse;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line401">401</span><span class="td">&nbsp;&nbsp;if&nbsp;((o&nbsp;provides&nbsp;p)&nbsp;&amp;&amp;&nbsp;(o.p))&nbsp;rtrue;</span></span>
<span class="tr"><span class="th" id="line402">402</span><span class="td">&nbsp;}</span></span>
<span class="tr"><span class="th" id="line403">403</span><span class="td">&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line404">404</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-set-either-or-property">Set Either-Or Property.</h3><p><p> An attempt to <em> write</em> an either/or property which is not provided will, however, always produce a run-time problem.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line411">411</span><span class="td">[&nbsp;SetEitherOrProperty&nbsp;o&nbsp;p&nbsp;negate&nbsp;adj;</span></span>
<span class="tr"><span class="th" id="line412">412</span><span class="td">&nbsp;if&nbsp;(p&lt;0)&nbsp;{&nbsp;p&nbsp;=&nbsp;~p;&nbsp;negate&nbsp;=&nbsp;~negate;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line413">413</span><span class="td">&nbsp;if&nbsp;(adj)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line414">414</span><span class="td">&nbsp;&nbsp;(adj)(o);</span></span>
<span class="tr"><span class="th" id="line415">415</span><span class="td">&nbsp;}&nbsp;else&nbsp;if&nbsp;(WhetherProvides(o,&nbsp;true,&nbsp;p,&nbsp;true))&nbsp;{</span></span>
<span class="tr"><span class="th" id="line416">416</span><span class="td">&nbsp;&nbsp;if&nbsp;(negate)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line417">417</span><span class="td">&nbsp;&nbsp;&nbsp;if&nbsp;(p&lt;FBNA_PROP_NUMBER)&nbsp;give&nbsp;o&nbsp;~p;&nbsp;else&nbsp;o.p&nbsp;=&nbsp;false;</span></span>
<span class="tr"><span class="th" id="line418">418</span><span class="td">&nbsp;&nbsp;}&nbsp;else&nbsp;{</span></span>
<span class="tr"><span class="th" id="line419">419</span><span class="td">&nbsp;&nbsp;&nbsp;if&nbsp;(p&lt;FBNA_PROP_NUMBER)&nbsp;give&nbsp;o&nbsp;p;&nbsp;else&nbsp;o.p&nbsp;=&nbsp;true;</span></span>
<span class="tr"><span class="th" id="line420">420</span><span class="td">&nbsp;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line421">421</span><span class="td">&nbsp;}</span></span>
<span class="tr"><span class="th" id="line422">422</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-value-property">Value Property.</h3><p><p> Some value properties belong to other values (those created in tables),and these are detected by being properties of the special <span class="fixed">ValuePropertyHolder</span><br> pseudo-object &ndash; an I6 object which is not part of the world model, and not a valid I7 &quot;object&quot; value, but which is used in order that propertiesbelonging to values are still I6 property numbers. <span class="fixed">ValuePropertyHolder.P</span><br> is the table column address for this property; <span class="fixed">obj</span> is then a value for the kind of value created by the table, so it is used as an index into the table column to get the address of the memory location storing the property value.<p></p><p> The <span class="fixed">door_to</span> property, relevant only for doors, is called rather than read: this enables it to be an I6 routine returning the other side of the door from the one which the player is on.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line440">440</span><span class="td">[&nbsp;GProperty&nbsp;K&nbsp;V&nbsp;pr&nbsp;obj;</span></span>
<span class="tr"><span class="th" id="line441">441</span><span class="td">&nbsp;if&nbsp;(K&nbsp;==&nbsp;OBJECT_TY)&nbsp;obj&nbsp;=&nbsp;V;&nbsp;else&nbsp;obj&nbsp;=&nbsp;KOV_representatives--&gt;K;</span></span>
<span class="tr"><span class="th" id="line442">442</span><span class="td">&nbsp;if&nbsp;(obj&nbsp;==&nbsp;0)&nbsp;{&nbsp;RunTimeProblem(RTP_PROPOFNOTHING,&nbsp;obj,&nbsp;pr);&nbsp;rfalse;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line443">443</span><span class="td">&nbsp;if&nbsp;(obj&nbsp;provides&nbsp;pr)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line444">444</span><span class="td">&nbsp;&nbsp;if&nbsp;(K&nbsp;==&nbsp;OBJECT_TY)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line445">445</span><span class="td">&nbsp;&nbsp;&nbsp;if&nbsp;(pr&nbsp;==&nbsp;door_to)&nbsp;return&nbsp;obj.pr();</span></span>
<span class="tr"><span class="th" id="line446">446</span><span class="td">&nbsp;&nbsp;&nbsp;if&nbsp;(WhetherProvides(V,&nbsp;false,&nbsp;pr,&nbsp;true))&nbsp;return&nbsp;obj.pr;</span></span>
<span class="tr"><span class="th" id="line447">447</span><span class="td">&nbsp;&nbsp;&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line448">448</span><span class="td">&nbsp;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line449">449</span><span class="td">&nbsp;&nbsp;if&nbsp;(obj&nbsp;ofclass&nbsp;K0_kind)</span></span>
<span class="tr"><span class="th" id="line450">450</span><span class="td">&nbsp;&nbsp;&nbsp;WhetherProvides(V,&nbsp;false,&nbsp;pr,&nbsp;true);&nbsp;!&nbsp;to&nbsp;force&nbsp;a&nbsp;run-time&nbsp;problem</span></span>
<span class="tr"><span class="th" id="line451">451</span><span class="td">&nbsp;&nbsp;if&nbsp;((V&nbsp;&lt;&nbsp;1)&nbsp;||&nbsp;(V&nbsp;&gt;&nbsp;obj.value_range))&nbsp;{</span></span>
<span class="tr"><span class="th" id="line452">452</span><span class="td">&nbsp;&nbsp;&nbsp;RunTimeProblem(RTP_BADVALUEPROPERTY);&nbsp;return&nbsp;0;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line453">453</span><span class="td">&nbsp;&nbsp;return&nbsp;(obj.pr)--&gt;(V+COL_HSIZE);</span></span>
<span class="tr"><span class="th" id="line454">454</span><span class="td">&nbsp;}&nbsp;else&nbsp;{</span></span>
<span class="tr"><span class="th" id="line455">455</span><span class="td">&nbsp;&nbsp;if&nbsp;(obj&nbsp;ofclass&nbsp;K0_kind)</span></span>
<span class="tr"><span class="th" id="line456">456</span><span class="td">&nbsp;&nbsp;&nbsp;WhetherProvides(V,&nbsp;false,&nbsp;pr,&nbsp;true);&nbsp;!&nbsp;to&nbsp;force&nbsp;a&nbsp;run-time&nbsp;problem</span></span>
<span class="tr"><span class="th" id="line457">457</span><span class="td">&nbsp;}</span></span>
<span class="tr"><span class="th" id="line458">458</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;rfalse;</span></span>
<span class="tr"><span class="th" id="line459">459</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-write-value-property">Write Value Property.</h3><p><p> This routine&#39;s name must consist of the read-value-property routine&#39;s name with the prefix <span class="fixed">Write</span>, as that is how a reference to such a property is converted from an rvalue to an lvalue.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line467">467</span><span class="td">[&nbsp;WriteGProperty&nbsp;K&nbsp;V&nbsp;pr&nbsp;val&nbsp;obj;</span></span>
<span class="tr"><span class="th" id="line468">468</span><span class="td">&nbsp;if&nbsp;(K&nbsp;==&nbsp;OBJECT_TY)&nbsp;obj&nbsp;=&nbsp;V;&nbsp;else&nbsp;obj&nbsp;=&nbsp;KOV_representatives--&gt;K;</span></span>
<span class="tr"><span class="th" id="line469">469</span><span class="td">&nbsp;if&nbsp;(obj&nbsp;==&nbsp;0)&nbsp;{&nbsp;RunTimeProblem(RTP_PROPOFNOTHING,&nbsp;obj,&nbsp;pr);&nbsp;rfalse;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line470">470</span><span class="td">&nbsp;if&nbsp;(K&nbsp;==&nbsp;OBJECT_TY)&nbsp;{</span></span>
<span class="tr"><span class="th" id="line471">471</span><span class="td">&nbsp;&nbsp;if&nbsp;(WhetherProvides(V,&nbsp;false,&nbsp;pr,&nbsp;true))&nbsp;obj.pr&nbsp;=&nbsp;val;</span></span>
<span class="tr"><span class="th" id="line472">472</span><span class="td">&nbsp;}&nbsp;else&nbsp;{</span></span>
<span class="tr"><span class="th" id="line473">473</span><span class="td">&nbsp;&nbsp;if&nbsp;((V&nbsp;&lt;&nbsp;1)&nbsp;||&nbsp;(V&nbsp;&gt;&nbsp;obj.value_range))</span></span>
<span class="tr"><span class="th" id="line474">474</span><span class="td">&nbsp;&nbsp;&nbsp;return&nbsp;RunTimeProblem(RTP_BADVALUEPROPERTY);</span></span>
<span class="tr"><span class="th" id="line475">475</span><span class="td">&nbsp;&nbsp;if&nbsp;(obj&nbsp;provides&nbsp;pr)&nbsp;{&nbsp;(obj.pr)--&gt;(V+COL_HSIZE)&nbsp;=&nbsp;val;&nbsp;}</span></span>
<span class="tr"><span class="th" id="line476">476</span><span class="td">&nbsp;}</span></span>
<span class="tr"><span class="th" id="line477">477</span><span class="td">];</span></span>
</div><div class='text'>
<h3 id="#rtp-printing-property-names">Printing Property Names.</h3><p><p> Inform doesn&#39;t print property names prettily; it more or less prints them  only as decimal numbers.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line484">484</span><span class="td">[&nbsp;PROPERTY_TY_Say&nbsp;v;</span></span>
<span class="tr"><span class="th" id="line485">485</span><span class="td">&nbsp;print&nbsp;&quot;property&nbsp;&quot;,&nbsp;v;</span></span>
<span class="tr"><span class="th" id="line486">486</span><span class="td">];</span></span>
</div><footer><hr><p><em>From I6T lib 6/12N &copy; Graham Nelson and published under the <a href="https://github.com/zedlopez/standard_rules/blob/main/LICENSE.md">Artistic License 2.0</a>. Distributed with <a href="http://inform7.com/">Inform 7 6M62</a>.</em></p></footer></body></html>
