<!doctype html>
<html lang="en">
<meta charset="utf-8">
<head><title>Definitions</title>
  <style>
span.th, span.td { display: table-cell; }
span.td { padding-left: 2rem; }
span.th { width:4rem; text-align: right; }
span.tr { display: table-row;     counter-increment: linenum; }
span.line_no::before {
    content: counter(linenum);
    text-align: right;
    display: block;
    font-family: monospace;
    font-weight: normal;
}
h1 { margin: 0; }
.fixed { font-family: monospace }
.em { font-style: italic; }
.center { text-align: center; }
    body { font-family: sans-serif; margin: 1.5rem 0 0 3rem; background-color: #fafaf0; width: 80rem; }
    .pre { font-family: monospace; margin: auto; width: 80rem; }
#front_matter,.text { width: 50rem; }
.text { border-bottom: .5px solid black; border-top: .5px solid black; margin-top: 1rem;
padding-bottom: 1rem; margin-bottom: 2rem; }
/*.subtitle { font-weight: bold; font-size: 1.2rem; }*/
    </style>
</head>
<body>
<header>
<h1>I6 Template Layer</h1>
<div class="subtitle"><a href="http://inform7.com/">Inform 7 6M62</a> &bull; <a href="./index.html">Index</a> &bull; <a href="./Introduction.i6t.html">Introduction</a></div><hr></header>
<div id="front_matter">
<h2><a href="./Definitions.i6t">Definitions.i6t</a></h2><h3 id="#definitions-vm-target-constants">VM Target Constants.</h3><p><p> Inform can compile story files for four different virtual machines (or VMs): Z-machine versions 5, 6 and 8, and Glulx.<p></p><p> When compiling to Glulx, the I6 compiler predefines the constant <span class="fixed">TARGET_GLULX</span> and also sets <span class="fixed"><a href="./Definitions.i6t.html#line20">WORDSIZE</a></span> to 4; but when compiling to Z, we shouldn&#39;t assume it has this modern habit, so we simulate the same effect.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line18">18</span><span class="td">#Ifndef&nbsp;WORDSIZE;&nbsp;!&nbsp;compiling&nbsp;with&nbsp;Z-code&nbsp;only&nbsp;compiler</span></span>
<span class="tr"><span class="th" id="line19">19</span><span class="td">Constant&nbsp;TARGET_ZCODE;</span></span>
<span class="tr"><span class="th" id="line20">20</span><span class="td">Constant&nbsp;WORDSIZE&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line21">21</span><span class="td">#Endif;</span></span>
</div><div class='text'>
<h3 id="#definitions-wordsize-dependent-definitions">Wordsize-Dependent Definitions.</h3><p><p> The old I6 library used to confuse Z-vs-G with 16-vs-32-bit, but we try to separate these distinctions here, even though at present the Z-machineis our only 16-bit target and Glulx our only 32-bit one. The <span class="fixed"><a href="./Definitions.i6t.html#line20">WORDSIZE</a></span><br> constant is the word size in bytes, so is the multiplier between <span class="fixed">-&gt;</span> and <span class="fixed">--&gt;</span> offsets in I6 pointer syntax.<p></p><p> (1) <span class="fixed"><a href="./Definitions.i6t.html#line71">NULL</a></span> is used, as in C, to represent a null value or pointer. In C, this is conventionally 0, but here it is the maximum unsigned value which can be stored, pointing to the topmost byte in the directly addressable memory map; this means it is also <em>-1</em> when regarded as a signed twos-complement integer, but we write it as an unsigned hexadecimal address for clarity&#39;s sake.<p></p><p> (2) <span class="fixed"><a href="./Definitions.i6t.html#line72">WORD_HIGHBIT</a></span> is the most significant bit in the VM&#39;s data word.<p></p><p> (3) <span class="fixed"><a href="./Definitions.i6t.html#line74">IMPROBABLE_VALUE</a></span> is one which is <strong> unlikely but still possible</strong> to be a genuine I7 value. The efficiency of some algorithms depends on how well chosen this is: they would ran badly if we chose 1, for instance.<p></p><p> (4) <span class="fixed"><a href="./Definitions.i6t.html#line75">MAX_POSITIVE_NUMBER</a></span> is the largest representable positive (signed) integer, in twos-complement form.<p></p><p> (5) <span class="fixed"><a href="./Definitions.i6t.html#line77">REPARSE_CODE</a></span> is a magic value used in the I6 library&#39;s parser to signal that some code which ought to have been parsing a command has in fact rewritten it, so that the whole command must be re-parsed afresh. (Returning this value is like throwing an exception in a language like Java, though we don&#39;t implement it that way.) A comment in the 6/11 library reads: &quot;The parser rather gunkily adds addresses to <span class="fixed"><a href="./Definitions.i6t.html#line77">REPARSE_CODE</a></span> forsome purposes. And expects the result to be greater than <span class="fixed"><a href="./Definitions.i6t.html#line77">REPARSE_CODE</a></span><br> (signed comparison). So Glulx Inform is limited to a single gigabyte of storage, for the moment.&quot; Guilty as charged, but the gigabyte story file is a remote prospect for now: even megabyte story files are off the horizon. Anyway, it&#39;s this comparison issue which means we need a different value for each possible word size.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line60">60</span><span class="td">#Iftrue&nbsp;(WORDSIZE&nbsp;==&nbsp;2);</span></span>
<span class="tr"><span class="th" id="line61">61</span><span class="td">Constant&nbsp;NULL&nbsp;=&nbsp;$ffff;</span></span>
<span class="tr"><span class="th" id="line62">62</span><span class="td">Constant&nbsp;WORD_HIGHBIT&nbsp;=&nbsp;$8000;</span></span>
<span class="tr"><span class="th" id="line63">63</span><span class="td">Constant&nbsp;WORD_NEXTTOHIGHBIT&nbsp;=&nbsp;$4000;</span></span>
<span class="tr"><span class="th" id="line64">64</span><span class="td">Constant&nbsp;IMPROBABLE_VALUE&nbsp;=&nbsp;$7fe3;</span></span>
<span class="tr"><span class="th" id="line65">65</span><span class="td">Constant&nbsp;MAX_POSITIVE_NUMBER&nbsp;32767;</span></span>
<span class="tr"><span class="th" id="line66">66</span><span class="td">Constant&nbsp;MIN_NEGATIVE_NUMBER&nbsp;-32768;</span></span>
<span class="tr"><span class="th" id="line67">67</span><span class="td">Constant&nbsp;REPARSE_CODE&nbsp;=&nbsp;10000;</span></span>
<span class="tr"><span class="th" id="line68">68</span><span class="td">#Endif;</span></span>
<span class="tr"><span class="th" id="line69">69</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line70">70</span><span class="td">#Iftrue&nbsp;(WORDSIZE&nbsp;==&nbsp;4);</span></span>
<span class="tr"><span class="th" id="line71">71</span><span class="td">Constant&nbsp;NULL&nbsp;=&nbsp;$ffffffff;</span></span>
<span class="tr"><span class="th" id="line72">72</span><span class="td">Constant&nbsp;WORD_HIGHBIT&nbsp;=&nbsp;$80000000;</span></span>
<span class="tr"><span class="th" id="line73">73</span><span class="td">Constant&nbsp;WORD_NEXTTOHIGHBIT&nbsp;=&nbsp;$40000000;</span></span>
<span class="tr"><span class="th" id="line74">74</span><span class="td">Constant&nbsp;IMPROBABLE_VALUE&nbsp;=&nbsp;$deadce11;</span></span>
<span class="tr"><span class="th" id="line75">75</span><span class="td">Constant&nbsp;MAX_POSITIVE_NUMBER&nbsp;2147483647;</span></span>
<span class="tr"><span class="th" id="line76">76</span><span class="td">Constant&nbsp;MIN_NEGATIVE_NUMBER&nbsp;-2147483648;</span></span>
<span class="tr"><span class="th" id="line77">77</span><span class="td">Constant&nbsp;REPARSE_CODE&nbsp;=&nbsp;$40000000;</span></span>
<span class="tr"><span class="th" id="line78">78</span><span class="td">#Endif;</span></span>
</div><div class='text'>
<h3 id="#definitions-z-machine-definitions">Z-Machine Definitions.</h3><p><p> The Z-machine contains certain special constants and variables at fixed position in its &quot;header&quot;; the addresses of these are given below. See <strong> The Z-Machine Standards Document</strong>, version 1.0, for details.<p></p><p> <span class="fixed"><a href="./Definitions.i6t.html#line94">INDIV_PROP_START</a></span> is the lowest number of any &quot;individual property&quot;, an I6 internal quantity defined by the compiler when the target is Glulx but not for Z.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line90">90</span><span class="td">#Ifdef&nbsp;TARGET_ZCODE;</span></span>
<span class="tr"><span class="th" id="line91">91</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line92">92</span><span class="td">Global&nbsp;max_z_object;</span></span>
<span class="tr"><span class="th" id="line93">93</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line94">94</span><span class="td">Constant&nbsp;INDIV_PROP_START&nbsp;64;</span></span>
<span class="tr"><span class="th" id="line95">95</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line96">96</span><span class="td">!&nbsp;Offsets&nbsp;into&nbsp;Z-machine&nbsp;header:</span></span>
<span class="tr"><span class="th" id="line97">97</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line98">98</span><span class="td">Constant&nbsp;HDR_ZCODEVERSION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$00;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line99">99</span><span class="td">Constant&nbsp;HDR_TERPFLAGS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$01;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line100">100</span><span class="td">Constant&nbsp;HDR_GAMERELEASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$02;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line101">101</span><span class="td">Constant&nbsp;HDR_HIGHMEMORY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$04;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line102">102</span><span class="td">Constant&nbsp;HDR_INITIALPC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$06;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line103">103</span><span class="td">Constant&nbsp;HDR_DICTIONARY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$08;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line104">104</span><span class="td">Constant&nbsp;HDR_OBJECTS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$0A;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line105">105</span><span class="td">Constant&nbsp;HDR_GLOBALS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$0C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line106">106</span><span class="td">Constant&nbsp;HDR_STATICMEMORY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$0E;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line107">107</span><span class="td">Constant&nbsp;HDR_GAMEFLAGS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line108">108</span><span class="td">Constant&nbsp;HDR_GAMESERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$12;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;six&nbsp;ASCII&nbsp;characters</span></span>
<span class="tr"><span class="th" id="line109">109</span><span class="td">Constant&nbsp;HDR_ABBREVIATIONS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$18;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line110">110</span><span class="td">Constant&nbsp;HDR_FILELENGTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$1A;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line111">111</span><span class="td">Constant&nbsp;HDR_CHECKSUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$1C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line112">112</span><span class="td">Constant&nbsp;HDR_TERPNUMBER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$1E;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line113">113</span><span class="td">Constant&nbsp;HDR_TERPVERSION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$1F;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line114">114</span><span class="td">Constant&nbsp;HDR_SCREENHLINES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$20;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line115">115</span><span class="td">Constant&nbsp;HDR_SCREENWCHARS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$21;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line116">116</span><span class="td">Constant&nbsp;HDR_SCREENWUNITS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$22;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line117">117</span><span class="td">Constant&nbsp;HDR_SCREENHUNITS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$24;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line118">118</span><span class="td">Constant&nbsp;HDR_FONTWUNITS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$26;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line119">119</span><span class="td">Constant&nbsp;HDR_FONTHUNITS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$27;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line120">120</span><span class="td">Constant&nbsp;HDR_ROUTINEOFFSET&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$28;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line121">121</span><span class="td">Constant&nbsp;HDR_STRINGOFFSET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$2A;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line122">122</span><span class="td">Constant&nbsp;HDR_BGCOLOUR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$2C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line123">123</span><span class="td">Constant&nbsp;HDR_FGCOLOUR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$2D;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;byte</span></span>
<span class="tr"><span class="th" id="line124">124</span><span class="td">Constant&nbsp;HDR_TERMCHARS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$2E;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line125">125</span><span class="td">Constant&nbsp;HDR_PIXELSTO3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$30;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line126">126</span><span class="td">Constant&nbsp;HDR_TERPSTANDARD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$32;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;two&nbsp;bytes</span></span>
<span class="tr"><span class="th" id="line127">127</span><span class="td">Constant&nbsp;HDR_ALPHABET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line128">128</span><span class="td">Constant&nbsp;HDR_EXTENSION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$36;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;word</span></span>
<span class="tr"><span class="th" id="line129">129</span><span class="td">Constant&nbsp;HDR_UNUSED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$38;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;two&nbsp;words</span></span>
<span class="tr"><span class="th" id="line130">130</span><span class="td">Constant&nbsp;HDR_INFORMVERSION&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$3C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;four&nbsp;ASCII&nbsp;characters</span></span>
<span class="tr"><span class="th" id="line131">131</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line132">132</span><span class="td">#Endif;</span></span>
</div><div class='text'>
<h3 id="#definitions-glulx-definitions">Glulx Definitions.</h3><p><p> We make similar header definitions for Glulx. Extensive further definitions, of constants needed to handle the Glk I/O layer, can be found in the &quot;Infglk&quot; section of <a href="./Glulx.i6t.html">Glulx.i6t</a>; they are not used in the rest of the template layer, and would only get in the way here.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line141">141</span><span class="td">#IFDEF&nbsp;TARGET_GLULX;</span></span>
<span class="tr"><span class="th" id="line142">142</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line143">143</span><span class="td">Global&nbsp;unicode_gestalt_ok;&nbsp;!&nbsp;Set&nbsp;if&nbsp;interpreter&nbsp;supports&nbsp;Unicode</span></span>
<span class="tr"><span class="th" id="line144">144</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line145">145</span><span class="td">!&nbsp;Offsets&nbsp;into&nbsp;Glulx&nbsp;header&nbsp;and&nbsp;start&nbsp;of&nbsp;ROM:</span></span>
<span class="tr"><span class="th" id="line146">146</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line147">147</span><span class="td">Constant&nbsp;HDR_MAGICNUMBER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$00;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line148">148</span><span class="td">Constant&nbsp;HDR_GLULXVERSION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$04;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line149">149</span><span class="td">Constant&nbsp;HDR_RAMSTART&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$08;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line150">150</span><span class="td">Constant&nbsp;HDR_EXTSTART&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$0C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line151">151</span><span class="td">Constant&nbsp;HDR_ENDMEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line152">152</span><span class="td">Constant&nbsp;HDR_STACKSIZE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$14;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line153">153</span><span class="td">Constant&nbsp;HDR_STARTFUNC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$18;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line154">154</span><span class="td">Constant&nbsp;HDR_DECODINGTBL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$1C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line155">155</span><span class="td">Constant&nbsp;HDR_CHECKSUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$20;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line156">156</span><span class="td">Constant&nbsp;ROM_INFO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$24;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;four&nbsp;ASCII&nbsp;characters</span></span>
<span class="tr"><span class="th" id="line157">157</span><span class="td">Constant&nbsp;ROM_MEMORYLAYOUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$28;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;long&nbsp;word</span></span>
<span class="tr"><span class="th" id="line158">158</span><span class="td">Constant&nbsp;ROM_INFORMVERSION&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$2C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;four&nbsp;ASCII&nbsp;characters</span></span>
<span class="tr"><span class="th" id="line159">159</span><span class="td">Constant&nbsp;ROM_COMPVERSION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$30;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;four&nbsp;ASCII&nbsp;characters</span></span>
<span class="tr"><span class="th" id="line160">160</span><span class="td">Constant&nbsp;ROM_GAMERELEASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;short&nbsp;word</span></span>
<span class="tr"><span class="th" id="line161">161</span><span class="td">Constant&nbsp;ROM_GAMESERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$36;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;six&nbsp;ASCII&nbsp;characters</span></span>
<span class="tr"><span class="th" id="line162">162</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line163">163</span><span class="td">#Endif;</span></span>
</div><div class='text'>
<h3 id="#definitions-powers-of-two">Powers of Two.</h3><p><p> I6 lacks support for logical shifts, and the Z-machine opcodes which bear on this are not always well supported, so the I6 library has traditionally used a lookup table for the values of <em>2^{15-n}</em> where <em>0&lt;= n &lt;= 11</em>.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line171">171</span><span class="td">Array&nbsp;PowersOfTwo_TB</span></span>
<span class="tr"><span class="th" id="line172">172</span><span class="td">&nbsp;&nbsp;--&gt;&nbsp;$$100000000000</span></span>
<span class="tr"><span class="th" id="line173">173</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$010000000000</span></span>
<span class="tr"><span class="th" id="line174">174</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$001000000000</span></span>
<span class="tr"><span class="th" id="line175">175</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000100000000</span></span>
<span class="tr"><span class="th" id="line176">176</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000010000000</span></span>
<span class="tr"><span class="th" id="line177">177</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000001000000</span></span>
<span class="tr"><span class="th" id="line178">178</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000000100000</span></span>
<span class="tr"><span class="th" id="line179">179</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000000010000</span></span>
<span class="tr"><span class="th" id="line180">180</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000000001000</span></span>
<span class="tr"><span class="th" id="line181">181</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000000000100</span></span>
<span class="tr"><span class="th" id="line182">182</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000000000010</span></span>
<span class="tr"><span class="th" id="line183">183</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$000000000001;</span></span>
<span class="tr"><span class="th" id="line184">184</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line185">185</span><span class="td">Array&nbsp;IncreasingPowersOfTwo_TB</span></span>
<span class="tr"><span class="th" id="line186">186</span><span class="td">&nbsp;&nbsp;--&gt;&nbsp;$$0000000000000001</span></span>
<span class="tr"><span class="th" id="line187">187</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000000000000010</span></span>
<span class="tr"><span class="th" id="line188">188</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000000000000100</span></span>
<span class="tr"><span class="th" id="line189">189</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000000000001000</span></span>
<span class="tr"><span class="th" id="line190">190</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000000000010000</span></span>
<span class="tr"><span class="th" id="line191">191</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000000000100000</span></span>
<span class="tr"><span class="th" id="line192">192</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000000001000000</span></span>
<span class="tr"><span class="th" id="line193">193</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000000010000000</span></span>
<span class="tr"><span class="th" id="line194">194</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000000100000000</span></span>
<span class="tr"><span class="th" id="line195">195</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000001000000000</span></span>
<span class="tr"><span class="th" id="line196">196</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$$0000010000000000</span></span>
<span class="tr"><span class="th" id="line197">197</span><span class="td">&nbsp;&nbsp;&nbsp;$$0000100000000000</span></span>
<span class="tr"><span class="th" id="line198">198</span><span class="td">&nbsp;&nbsp;&nbsp;$$0001000000000000</span></span>
<span class="tr"><span class="th" id="line199">199</span><span class="td">&nbsp;&nbsp;&nbsp;$$0010000000000000</span></span>
<span class="tr"><span class="th" id="line200">200</span><span class="td">&nbsp;&nbsp;&nbsp;$$0100000000000000</span></span>
<span class="tr"><span class="th" id="line201">201</span><span class="td">&nbsp;&nbsp;&nbsp;$$1000000000000000;</span></span>
</div><div class='text'>
<h3 id="#definitions-text-styles">Text Styles.</h3><p><p> These are the styles of text distinguished by the template layer, though they are not required to look different from each other on any given VM. The codes are independent of the VM targetted, though in fact they are equal to Glulx style numbers as conventionally used. (The Z-machine renders some as roman, some as bold, but for instance makes <span class="fixed"><a href="./Definitions.i6t.html#line219">HEADER_VMSTY</a></span> and <span class="fixed"><a href="./Definitions.i6t.html#line220">SUBHEADER_VMSTY</a></span> indistinguishable to the eye.) Glulx&#39;s system of styles is one of its weakest points from an IF author&#39;s perspective, since it is all but impossible to achieve the text effects one might want &ndash; boldface, for instance, or red text &ndash; and text rendering is almost the only area in which it is clearly inferior to the Z-machine, which it was designed to replace. Still, using these styles when we can will get the most out of it, and for unornamental works Glulx is fine in practice.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line218">218</span><span class="td">Constant&nbsp;NORMAL_VMSTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0;</span></span>
<span class="tr"><span class="th" id="line219">219</span><span class="td">Constant&nbsp;HEADER_VMSTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;3;</span></span>
<span class="tr"><span class="th" id="line220">220</span><span class="td">Constant&nbsp;SUBHEADER_VMSTY&nbsp;&nbsp;=&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line221">221</span><span class="td">Constant&nbsp;ALERT_VMSTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line222">222</span><span class="td">Constant&nbsp;NOTE_VMSTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;</span></span>
<span class="tr"><span class="th" id="line223">223</span><span class="td">Constant&nbsp;BLOCKQUOTE_VMSTY&nbsp;=&nbsp;7;</span></span>
<span class="tr"><span class="th" id="line224">224</span><span class="td">Constant&nbsp;INPUT_VMSTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;8;</span></span>
</div><div class='text'>
<h3 id="#definitions-colour-numbers">Colour Numbers.</h3><p><p> These are traditional colour names: quite who it was who thought that azure was the same colour as cyan is now unclear. Colour is, again, not easy to arrange on Glulx, but there is some workaround code.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line232">232</span><span class="td">Constant&nbsp;CLR_DEFAULT&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line233">233</span><span class="td">Constant&nbsp;CLR_BLACK&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line234">234</span><span class="td">Constant&nbsp;CLR_RED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;3;</span></span>
<span class="tr"><span class="th" id="line235">235</span><span class="td">Constant&nbsp;CLR_GREEN&nbsp;&nbsp;&nbsp;=&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line236">236</span><span class="td">Constant&nbsp;CLR_YELLOW&nbsp;&nbsp;=&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line237">237</span><span class="td">Constant&nbsp;CLR_BLUE&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;</span></span>
<span class="tr"><span class="th" id="line238">238</span><span class="td">Constant&nbsp;CLR_MAGENTA&nbsp;=&nbsp;7;&nbsp;Constant&nbsp;CLR_PURPLE&nbsp;&nbsp;=&nbsp;7;</span></span>
<span class="tr"><span class="th" id="line239">239</span><span class="td">Constant&nbsp;CLR_CYAN&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;8;&nbsp;Constant&nbsp;CLR_AZURE&nbsp;&nbsp;&nbsp;=&nbsp;8;</span></span>
<span class="tr"><span class="th" id="line240">240</span><span class="td">Constant&nbsp;CLR_WHITE&nbsp;&nbsp;&nbsp;=&nbsp;9;</span></span>
</div><div class='text'>
<h3 id="#definitions-window-numbers">Window Numbers.</h3><p><p> Although Glulx can support elaborate tessalations of windows on screen (if the complexity of handling this can be mastered), the Z-machine has much more limited resources in general, so the template layer assumes a simple screen model: there are just two screen areas, the scrolling main window in which commands are typed and responses printed, and the fixed status line bar at the top of the screen.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line251">251</span><span class="td">Constant&nbsp;WIN_ALL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0;&nbsp;!&nbsp;Both&nbsp;windows&nbsp;at&nbsp;once</span></span>
<span class="tr"><span class="th" id="line252">252</span><span class="td">Constant&nbsp;WIN_STATUS&nbsp;&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line253">253</span><span class="td">Constant&nbsp;WIN_MAIN&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
</div><div class='text'>
<h3 id="#definitions-paragraphing-flags">Paragraphing Flags.</h3><p><p> I am not sure many dictionaries would countenance &quot;to paragraph&quot; as a verb, but never mind: the reference here is to the algorithm used to place paragraph breaks within text, which uses bitmaps composed of the following.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line261">261</span><span class="td">Constant&nbsp;PARA_COMPLETED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line262">262</span><span class="td">Constant&nbsp;PARA_PROMPTSKIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line263">263</span><span class="td">Constant&nbsp;PARA_SUPPRESSPROMPTSKIP&nbsp;=&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line264">264</span><span class="td">Constant&nbsp;PARA_NORULEBOOKBREAKS&nbsp;&nbsp;&nbsp;=&nbsp;8;</span></span>
<span class="tr"><span class="th" id="line265">265</span><span class="td">Constant&nbsp;PARA_CONTENTEXPECTED&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;16;</span></span>
</div><div class='text'>
<h3 id="#definitions-descriptors-in-the-language-of-play">Descriptors in the Language of Play.</h3><p><p> The following constants, which must be different in value from the number of any I6 attribute, are used in the <span class="fixed">LanguageDescriptors</span> table found in the definition of the language of play.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line273">273</span><span class="td">Constant&nbsp;POSSESS_PK&nbsp;&nbsp;=&nbsp;$100;</span></span>
<span class="tr"><span class="th" id="line274">274</span><span class="td">Constant&nbsp;DEFART_PK&nbsp;&nbsp;&nbsp;=&nbsp;$101;</span></span>
<span class="tr"><span class="th" id="line275">275</span><span class="td">Constant&nbsp;INDEFART_PK&nbsp;=&nbsp;$102;</span></span>
</div><div class='text'>
<h3 id="#definitions-run-time-problem-numbers">Run-Time Problem Numbers.</h3><p><p> The enumeration sequence here must correspond to that in the file of RTP texts, which is used to generate the HTML pages displayed by the Inform user interface when a run-time problem has occurred. (For instance, the file of RTP texts includes the heading &quot;P17 - Can&#39;t divide by zero&quot;, equivalent to <span class="fixed"><a href="./Definitions.i6t.html#line303">RTP_DIVZERO</a></span> being 17 below.) There is no significance to the sequence, which is simply the historical order in which they were added to I7.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line287">287</span><span class="td">Constant&nbsp;RTP_BACKDROP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line288">288</span><span class="td">Constant&nbsp;RTP_EXITDOOR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line289">289</span><span class="td">Constant&nbsp;RTP_NOEXIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;3;</span></span>
<span class="tr"><span class="th" id="line290">290</span><span class="td">Constant&nbsp;RTP_CANTCHANGE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line291">291</span><span class="td">Constant&nbsp;RTP_IMPREL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line292">292</span><span class="td">Constant&nbsp;RTP_RULESTACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;&nbsp;!&nbsp;Now&nbsp;out&nbsp;of&nbsp;use</span></span>
<span class="tr"><span class="th" id="line293">293</span><span class="td">Constant&nbsp;RTP_TOOMANYRULEBOOKS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;7;</span></span>
<span class="tr"><span class="th" id="line294">294</span><span class="td">Constant&nbsp;RTP_TOOMANYEVENTS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;8;</span></span>
<span class="tr"><span class="th" id="line295">295</span><span class="td">Constant&nbsp;RTP_BADPROPERTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;9;</span></span>
<span class="tr"><span class="th" id="line296">296</span><span class="td">Constant&nbsp;RTP_UNPROVIDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;10;</span></span>
<span class="tr"><span class="th" id="line297">297</span><span class="td">Constant&nbsp;RTP_UNSET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;11;</span></span>
<span class="tr"><span class="th" id="line298">298</span><span class="td">Constant&nbsp;RTP_TOOMANYACTS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;12;</span></span>
<span class="tr"><span class="th" id="line299">299</span><span class="td">Constant&nbsp;RTP_CANTABANDON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;13;</span></span>
<span class="tr"><span class="th" id="line300">300</span><span class="td">Constant&nbsp;RTP_CANTEND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;14;</span></span>
<span class="tr"><span class="th" id="line301">301</span><span class="td">Constant&nbsp;RTP_CANTMOVENOTHING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;15;</span></span>
<span class="tr"><span class="th" id="line302">302</span><span class="td">Constant&nbsp;RTP_CANTREMOVENOTHING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;16;</span></span>
<span class="tr"><span class="th" id="line303">303</span><span class="td">Constant&nbsp;RTP_DIVZERO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;17;</span></span>
<span class="tr"><span class="th" id="line304">304</span><span class="td">Constant&nbsp;RTP_BADVALUEPROPERTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;18;</span></span>
<span class="tr"><span class="th" id="line305">305</span><span class="td">Constant&nbsp;RTP_NOTBACKDROP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;19;</span></span>
<span class="tr"><span class="th" id="line306">306</span><span class="td">Constant&nbsp;RTP_TABLE_NOCOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;20;</span></span>
<span class="tr"><span class="th" id="line307">307</span><span class="td">Constant&nbsp;RTP_TABLE_NOCORR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;21;</span></span>
<span class="tr"><span class="th" id="line308">308</span><span class="td">Constant&nbsp;RTP_TABLE_NOROW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;22;</span></span>
<span class="tr"><span class="th" id="line309">309</span><span class="td">Constant&nbsp;RTP_TABLE_NOENTRY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;23;</span></span>
<span class="tr"><span class="th" id="line310">310</span><span class="td">Constant&nbsp;RTP_TABLE_NOTABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;24;</span></span>
<span class="tr"><span class="th" id="line311">311</span><span class="td">Constant&nbsp;RTP_TABLE_NOMOREBLANKS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;25;</span></span>
<span class="tr"><span class="th" id="line312">312</span><span class="td">Constant&nbsp;RTP_TABLE_NOROWS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;26;</span></span>
<span class="tr"><span class="th" id="line313">313</span><span class="td">Constant&nbsp;RTP_TABLE_CANTSORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;27;</span></span>
<span class="tr"><span class="th" id="line314">314</span><span class="td">Constant&nbsp;RTP_NOTINAROOM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;28;</span></span>
<span class="tr"><span class="th" id="line315">315</span><span class="td">Constant&nbsp;RTP_BADTOPIC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;29;</span></span>
<span class="tr"><span class="th" id="line316">316</span><span class="td">Constant&nbsp;RTP_ROUTELESS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;30;</span></span>
<span class="tr"><span class="th" id="line317">317</span><span class="td">Constant&nbsp;RTP_PROPOFNOTHING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;31;</span></span>
<span class="tr"><span class="th" id="line318">318</span><span class="td">Constant&nbsp;RTP_DECIDEONWRONGKIND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;32;</span></span>
<span class="tr"><span class="th" id="line319">319</span><span class="td">Constant&nbsp;RTP_DECIDEONNOTHING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;33;</span></span>
<span class="tr"><span class="th" id="line320">320</span><span class="td">Constant&nbsp;RTP_TABLE_CANTSAVE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;34;</span></span>
<span class="tr"><span class="th" id="line321">321</span><span class="td">Constant&nbsp;RTP_TABLE_WONTFIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;35;</span></span>
<span class="tr"><span class="th" id="line322">322</span><span class="td">Constant&nbsp;RTP_TABLE_BADFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;36;</span></span>
<span class="tr"><span class="th" id="line323">323</span><span class="td">Constant&nbsp;RTP_LOWLEVELERROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;37;</span></span>
<span class="tr"><span class="th" id="line324">324</span><span class="td">Constant&nbsp;RTP_DONTIGNORETURNSEQUENCE&nbsp;&nbsp;=&nbsp;38;</span></span>
<span class="tr"><span class="th" id="line325">325</span><span class="td">Constant&nbsp;RTP_SAYINVALIDSNIPPET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;39;</span></span>
<span class="tr"><span class="th" id="line326">326</span><span class="td">Constant&nbsp;RTP_SPLICEINVALIDSNIPPET&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;40;</span></span>
<span class="tr"><span class="th" id="line327">327</span><span class="td">Constant&nbsp;RTP_INCLUDEINVALIDSNIPPET&nbsp;&nbsp;&nbsp;=&nbsp;41;</span></span>
<span class="tr"><span class="th" id="line328">328</span><span class="td">Constant&nbsp;RTP_LISTWRITERMEMORY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;42;</span></span>
<span class="tr"><span class="th" id="line329">329</span><span class="td">Constant&nbsp;RTP_CANTREMOVEPLAYER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;43;</span></span>
<span class="tr"><span class="th" id="line330">330</span><span class="td">Constant&nbsp;RTP_CANTREMOVEDOORS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;44;</span></span>
<span class="tr"><span class="th" id="line331">331</span><span class="td">Constant&nbsp;RTP_CANTCHANGEOFFSTAGE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;45;</span></span>
<span class="tr"><span class="th" id="line332">332</span><span class="td">Constant&nbsp;RTP_MSTACKMEMORY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;46;</span></span>
<span class="tr"><span class="th" id="line333">333</span><span class="td">Constant&nbsp;RTP_TYPECHECK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;47;</span></span>
<span class="tr"><span class="th" id="line334">334</span><span class="td">Constant&nbsp;RTP_FILEIOERROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;48;</span></span>
<span class="tr"><span class="th" id="line335">335</span><span class="td">Constant&nbsp;RTP_HEAPERROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;49;</span></span>
<span class="tr"><span class="th" id="line336">336</span><span class="td">Constant&nbsp;RTP_LISTRANGEERROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;50;</span></span>
<span class="tr"><span class="th" id="line337">337</span><span class="td">Constant&nbsp;RTP_REGEXPSYNTAXERROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;51;</span></span>
<span class="tr"><span class="th" id="line338">338</span><span class="td">Constant&nbsp;RTP_NOGLULXUNICODE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;52;</span></span>
<span class="tr"><span class="th" id="line339">339</span><span class="td">Constant&nbsp;RTP_BACKDROPONLY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;53;</span></span>
<span class="tr"><span class="th" id="line340">340</span><span class="td">Constant&nbsp;RTP_NOTTHING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;54;</span></span>
<span class="tr"><span class="th" id="line341">341</span><span class="td">Constant&nbsp;RTP_SCENEHASNTSTARTED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;55;</span></span>
<span class="tr"><span class="th" id="line342">342</span><span class="td">Constant&nbsp;RTP_SCENEHASNTENDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;56;</span></span>
<span class="tr"><span class="th" id="line343">343</span><span class="td">Constant&nbsp;RTP_NEGATIVEROOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;57;</span></span>
<span class="tr"><span class="th" id="line344">344</span><span class="td">Constant&nbsp;RTP_TABLE_CANTRUNTHROUGH&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;58;</span></span>
<span class="tr"><span class="th" id="line345">345</span><span class="td">Constant&nbsp;RTP_CANTITERATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;59;</span></span>
<span class="tr"><span class="th" id="line346">346</span><span class="td">Constant&nbsp;RTP_WRONGASSIGNEDKIND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;60;</span></span>
<span class="tr"><span class="th" id="line347">347</span><span class="td">Constant&nbsp;RTP_CANTBEOFFSTAGE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;61;</span></span>
<span class="tr"><span class="th" id="line348">348</span><span class="td">Constant&nbsp;RTP_RELKINDVIOLATION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;62;</span></span>
<span class="tr"><span class="th" id="line349">349</span><span class="td">Constant&nbsp;RTP_CANTMAKEPART&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;63;</span></span>
<span class="tr"><span class="th" id="line350">350</span><span class="td">Constant&nbsp;RTP_TEXTTOKENTOOHARD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;64;</span></span>
<span class="tr"><span class="th" id="line351">351</span><span class="td">Constant&nbsp;RTP_TABLE_NOTABLE2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;65;</span></span>
<span class="tr"><span class="th" id="line352">352</span><span class="td">Constant&nbsp;RTP_RELATIONCHANGEIMPOSSIBLE&nbsp;=&nbsp;66;</span></span>
<span class="tr"><span class="th" id="line353">353</span><span class="td">Constant&nbsp;RTP_RELMINIMAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;67;</span></span>
<span class="tr"><span class="th" id="line354">354</span><span class="td">Constant&nbsp;RTP_LISTSIZENEGATIVE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;68;</span></span>
<span class="tr"><span class="th" id="line355">355</span><span class="td">Constant&nbsp;RTP_REGIONSNOTADJACENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;69;</span></span>
<span class="tr"><span class="th" id="line356">356</span><span class="td"></span></span>
</div><div class='text'>
<h3 id="#definitions-template-activities">Template Activities.</h3><p><p> These are the activities defined in the Standard Rules. Most, though not all, are carried out by explicit function calls in the template layer, which is why we need their ID numbers: note that NI assigns each activity a unique ID number on creation, counting upwards from 0, and that it processes the Standard Rules before any other source text. (These numbers must correspond <strong> both</strong> to those in the source of NI, <strong> and</strong> to the creation sequence in the Standard Rules.)<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line368">368</span><span class="td">Constant&nbsp;PRINTING_THE_NAME_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0;</span></span>
<span class="tr"><span class="th" id="line369">369</span><span class="td">Constant&nbsp;PRINTING_THE_PLURAL_NAME_ACT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line370">370</span><span class="td">Constant&nbsp;PRINTING_A_NUMBER_OF_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line371">371</span><span class="td">Constant&nbsp;PRINTING_ROOM_DESC_DETAILS_ACT&nbsp;&nbsp;=&nbsp;3;</span></span>
<span class="tr"><span class="th" id="line372">372</span><span class="td">Constant&nbsp;PRINTING_INVENTORY_DETAILS_ACT&nbsp;&nbsp;=&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line373">373</span><span class="td">Constant&nbsp;LISTING_CONTENTS_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line374">374</span><span class="td">Constant&nbsp;GROUPING_TOGETHER_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;</span></span>
<span class="tr"><span class="th" id="line375">375</span><span class="td">Constant&nbsp;WRITING_A_PARAGRAPH_ABOUT_ACT&nbsp;&nbsp;&nbsp;=&nbsp;7;</span></span>
<span class="tr"><span class="th" id="line376">376</span><span class="td">Constant&nbsp;LISTING_NONDESCRIPT_ITEMS_ACT&nbsp;&nbsp;&nbsp;=&nbsp;8;</span></span>
<span class="tr"><span class="th" id="line377">377</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line378">378</span><span class="td">Constant&nbsp;PRINTING_NAME_OF_DARK_ROOM_ACT&nbsp;&nbsp;=&nbsp;9;</span></span>
<span class="tr"><span class="th" id="line379">379</span><span class="td">Constant&nbsp;PRINTING_DESC_OF_DARK_ROOM_ACT&nbsp;&nbsp;=&nbsp;10;</span></span>
<span class="tr"><span class="th" id="line380">380</span><span class="td">Constant&nbsp;PRINTING_NEWS_OF_DARKNESS_ACT&nbsp;&nbsp;&nbsp;=&nbsp;11;</span></span>
<span class="tr"><span class="th" id="line381">381</span><span class="td">Constant&nbsp;PRINTING_NEWS_OF_LIGHT_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;12;</span></span>
<span class="tr"><span class="th" id="line382">382</span><span class="td">Constant&nbsp;REFUSAL_TO_ACT_IN_DARK_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;13;</span></span>
<span class="tr"><span class="th" id="line383">383</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line384">384</span><span class="td">Constant&nbsp;CONSTRUCTING_STATUS_LINE_ACT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;14;</span></span>
<span class="tr"><span class="th" id="line385">385</span><span class="td">Constant&nbsp;PRINTING_BANNER_TEXT_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;15;</span></span>
<span class="tr"><span class="th" id="line386">386</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line387">387</span><span class="td">Constant&nbsp;READING_A_COMMAND_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;16;</span></span>
<span class="tr"><span class="th" id="line388">388</span><span class="td">Constant&nbsp;DECIDING_SCOPE_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;17;</span></span>
<span class="tr"><span class="th" id="line389">389</span><span class="td">Constant&nbsp;DECIDING_CONCEALED_POSSESS_ACT&nbsp;&nbsp;=&nbsp;18;</span></span>
<span class="tr"><span class="th" id="line390">390</span><span class="td">Constant&nbsp;DECIDING_WHETHER_ALL_INC_ACT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;19;</span></span>
<span class="tr"><span class="th" id="line391">391</span><span class="td">Constant&nbsp;CLARIFYING_PARSERS_CHOICE_ACT&nbsp;&nbsp;&nbsp;=&nbsp;20;</span></span>
<span class="tr"><span class="th" id="line392">392</span><span class="td">Constant&nbsp;ASKING_WHICH_DO_YOU_MEAN_ACT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;21;</span></span>
<span class="tr"><span class="th" id="line393">393</span><span class="td">Constant&nbsp;PRINTING_A_PARSER_ERROR_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;22;</span></span>
<span class="tr"><span class="th" id="line394">394</span><span class="td">Constant&nbsp;SUPPLYING_A_MISSING_NOUN_ACT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;23;</span></span>
<span class="tr"><span class="th" id="line395">395</span><span class="td">Constant&nbsp;SUPPLYING_A_MISSING_SECOND_ACT&nbsp;&nbsp;=&nbsp;24;</span></span>
<span class="tr"><span class="th" id="line396">396</span><span class="td">Constant&nbsp;IMPLICITLY_TAKING_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;25;</span></span>
<span class="tr"><span class="th" id="line397">397</span><span class="td">Constant&nbsp;STARTING_VIRTUAL_MACHINE_ACT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;26;</span></span>
<span class="tr"><span class="th" id="line398">398</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line399">399</span><span class="td">Constant&nbsp;AMUSING_A_VICTORIOUS_PLAYER_ACT&nbsp;=&nbsp;27;</span></span>
<span class="tr"><span class="th" id="line400">400</span><span class="td">Constant&nbsp;PRINTING_PLAYERS_OBITUARY_ACT&nbsp;&nbsp;&nbsp;=&nbsp;28;</span></span>
<span class="tr"><span class="th" id="line401">401</span><span class="td">Constant&nbsp;DEALING_WITH_FINAL_QUESTION_ACT&nbsp;=&nbsp;29;</span></span>
<span class="tr"><span class="th" id="line402">402</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line403">403</span><span class="td">Constant&nbsp;PRINTING_LOCALE_DESCRIPTION_ACT&nbsp;=&nbsp;30;</span></span>
<span class="tr"><span class="th" id="line404">404</span><span class="td">Constant&nbsp;CHOOSING_NOTABLE_LOCALE_OBJ_ACT&nbsp;=&nbsp;31;</span></span>
<span class="tr"><span class="th" id="line405">405</span><span class="td">Constant&nbsp;PRINTING_LOCALE_PARAGRAPH_ACT&nbsp;&nbsp;&nbsp;=&nbsp;32;</span></span>
<span class="tr"><span class="th" id="line406">406</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line407">407</span><span class="td">Constant&nbsp;PRINTING_RESPONSE_ACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;33;</span></span>
</div><div class='text'>
<h3 id="#definitions-template-rulebooks">Template Rulebooks.</h3><p><p> Rulebooks are created in a similar way, and again are numbered upwards from 0 in order of creation. These are the ones used in the template layer. (These numbers must correspond <strong> both</strong> to those in the source of NI, <strong> and</strong> to the creation sequence in the Standard Rules.)<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line416">416</span><span class="td">Constant&nbsp;STARTUP_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0;</span></span>
<span class="tr"><span class="th" id="line417">417</span><span class="td">Constant&nbsp;TURN_SEQUENCE_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line418">418</span><span class="td">Constant&nbsp;SHUTDOWN_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line419">419</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line420">420</span><span class="td">Constant&nbsp;WHEN_PLAY_BEGINS_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line421">421</span><span class="td">Constant&nbsp;WHEN_PLAY_ENDS_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line422">422</span><span class="td">Constant&nbsp;WHEN_SCENE_BEGINS_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;</span></span>
<span class="tr"><span class="th" id="line423">423</span><span class="td">Constant&nbsp;WHEN_SCENE_ENDS_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;7;</span></span>
<span class="tr"><span class="th" id="line424">424</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line425">425</span><span class="td">Constant&nbsp;ACTION_PROCESSING_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;9;</span></span>
<span class="tr"><span class="th" id="line426">426</span><span class="td">Constant&nbsp;SETTING_ACTION_VARIABLES_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;10;</span></span>
<span class="tr"><span class="th" id="line427">427</span><span class="td">Constant&nbsp;SPECIFIC_ACTION_PROCESSING_RB&nbsp;&nbsp;&nbsp;=&nbsp;11;</span></span>
<span class="tr"><span class="th" id="line428">428</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line429">429</span><span class="td">Constant&nbsp;ACCESSIBILITY_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;13;</span></span>
<span class="tr"><span class="th" id="line430">430</span><span class="td">Constant&nbsp;REACHING_INSIDE_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;14;</span></span>
<span class="tr"><span class="th" id="line431">431</span><span class="td">Constant&nbsp;REACHING_OUTSIDE_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;15;</span></span>
<span class="tr"><span class="th" id="line432">432</span><span class="td">Constant&nbsp;VISIBLE_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;16;</span></span>
<span class="tr"><span class="th" id="line433">433</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line434">434</span><span class="td">Constant&nbsp;PERSUADE_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;17;</span></span>
<span class="tr"><span class="th" id="line435">435</span><span class="td">Constant&nbsp;UNSUCCESSFUL_ATTEMPT_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;18;</span></span>
<span class="tr"><span class="th" id="line436">436</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line437">437</span><span class="td">Constant&nbsp;AFTER_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;23;</span></span>
<span class="tr"><span class="th" id="line438">438</span><span class="td">Constant&nbsp;REPORT_RB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;24;</span></span>
<span class="tr"><span class="th" id="line439">439</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line440">440</span><span class="td">Constant&nbsp;MULTIPLE_ACTION_PROCESSING_RB&nbsp;&nbsp;&nbsp;=&nbsp;26;</span></span>
</div><div class='text'>
<h3 id="#definitions-kind-ids">Kind IDs.</h3><p><p> These are filled in automatically by NI, and have the same names as are used in the NI source (and in the Load-.i6t sections): for instance <span class="fixed">NUMBER_TY</span>.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line447">447</span><span class="td">{-call:Kinds::Constructors::compile_I6_constants}</span></span>
</div><div class='text'>
<h3 id="#definitions-parser-error-numbers">Parser Error Numbers.</h3><p><p> The traditional ways in which the I6 library&#39;s parser, which we adopt here more or less intact, can give up on a player&#39;s command. See the <strong> Inform Designer&#39;s Manual</strong>, 4th edition, for details.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line455">455</span><span class="td">Constant&nbsp;STUCK_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line456">456</span><span class="td">Constant&nbsp;UPTO_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line457">457</span><span class="td">Constant&nbsp;NUMBER_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;3;</span></span>
<span class="tr"><span class="th" id="line458">458</span><span class="td">Constant&nbsp;ANIMA_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line459">459</span><span class="td">Constant&nbsp;CANTSEE_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line460">460</span><span class="td">Constant&nbsp;TOOLIT_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;</span></span>
<span class="tr"><span class="th" id="line461">461</span><span class="td">Constant&nbsp;NOTHELD_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;7;</span></span>
<span class="tr"><span class="th" id="line462">462</span><span class="td">Constant&nbsp;MULTI_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;8;</span></span>
<span class="tr"><span class="th" id="line463">463</span><span class="td">Constant&nbsp;MMULTI_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;9;</span></span>
<span class="tr"><span class="th" id="line464">464</span><span class="td">Constant&nbsp;VAGUE_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;10;</span></span>
<span class="tr"><span class="th" id="line465">465</span><span class="td">Constant&nbsp;EXCEPT_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;11;</span></span>
<span class="tr"><span class="th" id="line466">466</span><span class="td">Constant&nbsp;VERB_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;12;</span></span>
<span class="tr"><span class="th" id="line467">467</span><span class="td">Constant&nbsp;SCENERY_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;13;</span></span>
<span class="tr"><span class="th" id="line468">468</span><span class="td">Constant&nbsp;ITGONE_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;14;</span></span>
<span class="tr"><span class="th" id="line469">469</span><span class="td">Constant&nbsp;JUNKAFTER_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;15;</span></span>
<span class="tr"><span class="th" id="line470">470</span><span class="td">Constant&nbsp;TOOFEW_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;16;</span></span>
<span class="tr"><span class="th" id="line471">471</span><span class="td">Constant&nbsp;NOTHING_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;17;</span></span>
<span class="tr"><span class="th" id="line472">472</span><span class="td">Constant&nbsp;ASKSCOPE_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;18;</span></span>
<span class="tr"><span class="th" id="line473">473</span><span class="td">Constant&nbsp;NOTINCONTEXT_PE&nbsp;&nbsp;=&nbsp;19;</span></span>
<span class="tr"><span class="th" id="line474">474</span><span class="td">Constant&nbsp;BLANKLINE_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;20;&nbsp;!&nbsp;Not&nbsp;formally&nbsp;a&nbsp;parser&nbsp;error,&nbsp;but&nbsp;used&nbsp;by&nbsp;I7&nbsp;as&nbsp;if</span></span>
<span class="tr"><span class="th" id="line475">475</span><span class="td">Constant&nbsp;ANIMAAGAIN_PE&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;21;</span></span>
<span class="tr"><span class="th" id="line476">476</span><span class="td">Constant&nbsp;COMMABEGIN_PE&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;22;</span></span>
<span class="tr"><span class="th" id="line477">477</span><span class="td">Constant&nbsp;MISSINGPERSON_PE&nbsp;=&nbsp;23;</span></span>
<span class="tr"><span class="th" id="line478">478</span><span class="td">Constant&nbsp;ANIMALISTEN_PE&nbsp;&nbsp;&nbsp;=&nbsp;24;</span></span>
<span class="tr"><span class="th" id="line479">479</span><span class="td">Constant&nbsp;TOTALK_PE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;25;</span></span>
</div><div class='text'>
<h3 id="#definitions-scope-searching-reasons">Scope Searching Reasons.</h3><p><p> The parser makes use of a mechanism for searching through the objects currently &quot;in scope&quot;, which basically means visible to the actor who would perform the action envisaged by the command being parsed. It is sometimes useful to behave differently depending on why this scope searching is being done, so the following constants enumerate the possibilities.<p></p><p>I6&#39;s <span class="fixed"><a href="./Definitions.i6t.html#line495">EACH_TURN_REASON</a></span>, <span class="fixed">REACT_BEFORE_REASON</span> and <span class="fixed">REACT_AFTER_REASON</span><br> have been removed from this list as no longer meaningful; hence the lacuna in numbering.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line493">493</span><span class="td">Constant&nbsp;PARSING_REASON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0;</span></span>
<span class="tr"><span class="th" id="line494">494</span><span class="td">Constant&nbsp;TALKING_REASON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line495">495</span><span class="td">Constant&nbsp;EACH_TURN_REASON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line496">496</span><span class="td">Constant&nbsp;LOOPOVERSCOPE_REASON&nbsp;=&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line497">497</span><span class="td">Constant&nbsp;TESTSCOPE_REASON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;</span></span>
</div><div class='text'>
<h3 id="#definitions-token-types">Token Types.</h3><p><p> Tokens are the indecomposable pieces of a grammar line making up a possible reading of a command; some are literal words, others stand for &quot;any named object in scope&quot;, and so on. The following codes identify the possibilities. The <span class="fixed">*_TOKEN</span> constants must not be altered without modifying the I6 compiler to match (so, basically, they must not be altered at all).<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line507">507</span><span class="td">Constant&nbsp;ILLEGAL_TT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;Types&nbsp;of&nbsp;grammar&nbsp;token:&nbsp;illegal</span></span>
<span class="tr"><span class="th" id="line508">508</span><span class="td">Constant&nbsp;ELEMENTARY_TT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(one&nbsp;of&nbsp;those&nbsp;below)</span></span>
<span class="tr"><span class="th" id="line509">509</span><span class="td">Constant&nbsp;PREPOSITION_TT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.&nbsp;&#39;into&#39;</span></span>
<span class="tr"><span class="th" id="line510">510</span><span class="td">Constant&nbsp;ROUTINE_FILTER_TT&nbsp;&nbsp;=&nbsp;3;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.&nbsp;noun=CagedCreature</span></span>
<span class="tr"><span class="th" id="line511">511</span><span class="td">Constant&nbsp;ATTR_FILTER_TT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;4;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.&nbsp;edible</span></span>
<span class="tr"><span class="th" id="line512">512</span><span class="td">Constant&nbsp;SCOPE_TT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;5;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.&nbsp;scope=Spells</span></span>
<span class="tr"><span class="th" id="line513">513</span><span class="td">Constant&nbsp;GPR_TT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;general&nbsp;parsing&nbsp;routine</span></span>
<span class="tr"><span class="th" id="line514">514</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line515">515</span><span class="td">Constant&nbsp;NOUN_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;The&nbsp;elementary&nbsp;grammar&nbsp;tokens,&nbsp;and</span></span>
<span class="tr"><span class="th" id="line516">516</span><span class="td">Constant&nbsp;HELD_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;the&nbsp;numbers&nbsp;compiled&nbsp;by&nbsp;I6&nbsp;to</span></span>
<span class="tr"><span class="th" id="line517">517</span><span class="td">Constant&nbsp;MULTI_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;encode&nbsp;them</span></span>
<span class="tr"><span class="th" id="line518">518</span><span class="td">Constant&nbsp;MULTIHELD_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;3;</span></span>
<span class="tr"><span class="th" id="line519">519</span><span class="td">Constant&nbsp;MULTIEXCEPT_TOKEN&nbsp;&nbsp;=&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line520">520</span><span class="td">Constant&nbsp;MULTIINSIDE_TOKEN&nbsp;&nbsp;=&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line521">521</span><span class="td">Constant&nbsp;CREATURE_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;6;</span></span>
<span class="tr"><span class="th" id="line522">522</span><span class="td">Constant&nbsp;SPECIAL_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;7;</span></span>
<span class="tr"><span class="th" id="line523">523</span><span class="td">Constant&nbsp;NUMBER_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;8;</span></span>
<span class="tr"><span class="th" id="line524">524</span><span class="td">Constant&nbsp;TOPIC_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;9;</span></span>
<span class="tr"><span class="th" id="line525">525</span><span class="td">Constant&nbsp;ENDIT_TOKEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;15;&nbsp;&nbsp;&nbsp;!&nbsp;Value&nbsp;used&nbsp;to&nbsp;mean&nbsp;&quot;end&nbsp;of&nbsp;grammar&nbsp;line&quot;</span></span>
</div><div class='text'>
<h3 id="#definitions-gpr-return-values">GPR Return Values.</h3><p><p> GRP stands for &quot;General Parsing Routine&quot;, an I6 routine which acts as a grammar token: again, see the <strong> Inform Designer&#39;s Manual</strong>, 4th edition, for details.<p></p><p> In Library 6/11, <span class="fixed"><a href="./Definitions.i6t.html#line546">GPR_NOUN</a></span> is defined as <span class="fixed"><em>ff00</span>, but this would fail on Glulx: it needs to be <span class="fixed"></em>ffffff00</span> on 32-bit virtual machines. It appears that <span class="fixed"><a href="./Definitions.i6t.html#line546">GPR_NOUN</a></span> to <span class="fixed"><a href="./Definitions.i6t.html#line552">GPR_CREATURE</a></span>, though documented in the old <strong> Inform Translator&#39;s Manual</strong>, were omitted when this was consolidated into the DM4, so that they effectively disappeared from view. But they might still be useful for implementing inflected forms of nouns, so we have retained them here regardless.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line541">541</span><span class="td">Constant&nbsp;GPR_FAIL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;-1;&nbsp;&nbsp;&nbsp;!&nbsp;Return&nbsp;values&nbsp;from&nbsp;General&nbsp;Parsing</span></span>
<span class="tr"><span class="th" id="line542">542</span><span class="td">Constant&nbsp;GPR_PREPOSITION&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;Routines</span></span>
<span class="tr"><span class="th" id="line543">543</span><span class="td">Constant&nbsp;GPR_NUMBER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;</span></span>
<span class="tr"><span class="th" id="line544">544</span><span class="td">Constant&nbsp;GPR_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line545">545</span><span class="td">Constant&nbsp;GPR_REPARSE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;REPARSE_CODE;</span></span>
<span class="tr"><span class="th" id="line546">546</span><span class="td">Constant&nbsp;GPR_NOUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;-256;&nbsp;!&nbsp;Reparse,&nbsp;but&nbsp;as&nbsp;|NOUN_TOKEN|&nbsp;this&nbsp;time</span></span>
<span class="tr"><span class="th" id="line547">547</span><span class="td">Constant&nbsp;GPR_HELD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GPR_NOUN&nbsp;+&nbsp;1;&nbsp;!&nbsp;And&nbsp;so&nbsp;on</span></span>
<span class="tr"><span class="th" id="line548">548</span><span class="td">Constant&nbsp;GPR_MULTI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GPR_NOUN&nbsp;+&nbsp;2;</span></span>
<span class="tr"><span class="th" id="line549">549</span><span class="td">Constant&nbsp;GPR_MULTIHELD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GPR_NOUN&nbsp;+&nbsp;3;</span></span>
<span class="tr"><span class="th" id="line550">550</span><span class="td">Constant&nbsp;GPR_MULTIEXCEPT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GPR_NOUN&nbsp;+&nbsp;4;</span></span>
<span class="tr"><span class="th" id="line551">551</span><span class="td">Constant&nbsp;GPR_MULTIINSIDE&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GPR_NOUN&nbsp;+&nbsp;5;</span></span>
<span class="tr"><span class="th" id="line552">552</span><span class="td">Constant&nbsp;GPR_CREATURE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;GPR_NOUN&nbsp;+&nbsp;6;</span></span>
</div><div class='text'>
<h3 id="#definitions-list-styles">List Styles.</h3><p><p> These constants make up bitmaps of the options in use when listing objects.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line558">558</span><span class="td">Constant&nbsp;NEWLINE_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000000000001;&nbsp;!&nbsp;New-line&nbsp;after&nbsp;each&nbsp;entry</span></span>
<span class="tr"><span class="th" id="line559">559</span><span class="td">Constant&nbsp;INDENT_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000000000010;&nbsp;!&nbsp;Indent&nbsp;each&nbsp;entry&nbsp;by&nbsp;depth</span></span>
<span class="tr"><span class="th" id="line560">560</span><span class="td">Constant&nbsp;FULLINV_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000000000100;&nbsp;!&nbsp;Full&nbsp;inventory&nbsp;information&nbsp;after&nbsp;entry</span></span>
<span class="tr"><span class="th" id="line561">561</span><span class="td">Constant&nbsp;ENGLISH_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000000001000;&nbsp;!&nbsp;English&nbsp;sentence&nbsp;style,&nbsp;with&nbsp;commas&nbsp;and&nbsp;and</span></span>
<span class="tr"><span class="th" id="line562">562</span><span class="td">Constant&nbsp;RECURSE_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000000010000;&nbsp;!&nbsp;Recurse&nbsp;downwards&nbsp;with&nbsp;usual&nbsp;rules</span></span>
<span class="tr"><span class="th" id="line563">563</span><span class="td">Constant&nbsp;ALWAYS_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000000100000;&nbsp;!&nbsp;Always&nbsp;recurse&nbsp;downwards</span></span>
<span class="tr"><span class="th" id="line564">564</span><span class="td">Constant&nbsp;TERSE_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000001000000;&nbsp;!&nbsp;More&nbsp;terse&nbsp;English&nbsp;style</span></span>
<span class="tr"><span class="th" id="line565">565</span><span class="td">Constant&nbsp;PARTINV_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000010000000;&nbsp;!&nbsp;Only&nbsp;brief&nbsp;inventory&nbsp;information&nbsp;after&nbsp;entry</span></span>
<span class="tr"><span class="th" id="line566">566</span><span class="td">Constant&nbsp;DEFART_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000000100000000;&nbsp;!&nbsp;Use&nbsp;the&nbsp;definite&nbsp;article&nbsp;in&nbsp;list</span></span>
<span class="tr"><span class="th" id="line567">567</span><span class="td">Constant&nbsp;WORKFLAG_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000001000000000;&nbsp;!&nbsp;At&nbsp;top&nbsp;level&nbsp;(only),&nbsp;only&nbsp;list&nbsp;objects</span></span>
<span class="tr"><span class="th" id="line568">568</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;which&nbsp;have&nbsp;the&nbsp;&quot;workflag&quot;&nbsp;attribute</span></span>
<span class="tr"><span class="th" id="line569">569</span><span class="td">Constant&nbsp;ISARE_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000010000000000;&nbsp;!&nbsp;Print&nbsp;&quot;&nbsp;is&quot;&nbsp;or&nbsp;&quot;&nbsp;are&quot;&nbsp;before&nbsp;list</span></span>
<span class="tr"><span class="th" id="line570">570</span><span class="td">Constant&nbsp;CONCEAL_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0000100000000000;&nbsp;!&nbsp;Omit&nbsp;objects&nbsp;with&nbsp;&quot;concealed&quot;&nbsp;or&nbsp;&quot;scenery&quot;:</span></span>
<span class="tr"><span class="th" id="line571">571</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;if&nbsp;WORKFLAG_BIT&nbsp;also&nbsp;set,&nbsp;then&nbsp;does&nbsp;not</span></span>
<span class="tr"><span class="th" id="line572">572</span><span class="td">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;apply&nbsp;at&nbsp;top&nbsp;level,&nbsp;but&nbsp;does&nbsp;lower&nbsp;down</span></span>
<span class="tr"><span class="th" id="line573">573</span><span class="td">Constant&nbsp;NOARTICLE_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0001000000000000;&nbsp;!&nbsp;Print&nbsp;no&nbsp;articles,&nbsp;definite&nbsp;or&nbsp;not</span></span>
<span class="tr"><span class="th" id="line574">574</span><span class="td">Constant&nbsp;EXTRAINDENT_BIT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0010000000000000;&nbsp;!&nbsp;New&nbsp;in&nbsp;I7:&nbsp;extra&nbsp;indentation&nbsp;of&nbsp;1&nbsp;level</span></span>
<span class="tr"><span class="th" id="line575">575</span><span class="td">Constant&nbsp;CFIRSTART_BIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;$$0100000000000000;&nbsp;!&nbsp;Capitalise&nbsp;first&nbsp;article&nbsp;in&nbsp;list</span></span>
</div><div class='text'>
<h3 id="#definitions-lengths-of-time">Lengths Of Time.</h3><p><p> Inform measures time in minutes.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line581">581</span><span class="td">Constant&nbsp;QUARTER_HOUR&nbsp;=&nbsp;15;</span></span>
<span class="tr"><span class="th" id="line582">582</span><span class="td">Constant&nbsp;HALF_HOUR&nbsp;=&nbsp;30;</span></span>
<span class="tr"><span class="th" id="line583">583</span><span class="td">Constant&nbsp;ONE_HOUR&nbsp;=&nbsp;60;</span></span>
<span class="tr"><span class="th" id="line584">584</span><span class="td">Constant&nbsp;TWELVE_HOURS&nbsp;=&nbsp;720;</span></span>
<span class="tr"><span class="th" id="line585">585</span><span class="td">Constant&nbsp;TWENTY_FOUR_HOURS&nbsp;=&nbsp;1440;</span></span>
</div><div class='text'>
<h3 id="#definitions-empty-text">Empty Text.</h3><p><p> The I6 compiler does not optimise string compilation: if it needs to compile the (packed, read-only) string <span class="fixed">&quot;exemplum&quot;</span> twice, it will compile two copies. This is slightly wasteful on memory, though in practice the loss is not enough for us to care. But we do want to avoid this in I7 because, to make string-sorting algorithms more efficient, we want direct numerical comparison of packed addresses to be equivalent to string comparison: and that means the text &quot;exemplum&quot; has to be compiled once and once only. There&#39;s a general mechanism for this in NI, but the single case most often needed is the empty text, since this is the default value for text variables and properties: we give it a name as follows.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line600">600</span><span class="td">Constant&nbsp;EMPTY_TEXT_PACKED&nbsp;&quot;&quot;;</span></span>
<span class="tr"><span class="th" id="line601">601</span><span class="td">Array&nbsp;EMPTY_TEXT_VALUE&nbsp;--&gt;&nbsp;CONSTANT_PACKED_TEXT_STORAGE&nbsp;EMPTY_TEXT_PACKED;</span></span>
</div><div class='text'>
<h3 id="#definitions-empty-table">Empty Table.</h3><p><p> Similarly: the default value for the &quot;table&quot; kind of value, a Table containing no rows and no columns.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line608">608</span><span class="td">Array&nbsp;TheEmptyTable&nbsp;--&gt;&nbsp;0&nbsp;0;</span></span>
</div><div class='text'>
<h3 id="#definitions-empty-set">Empty Set.</h3><p><p> The falsity proposition describes the empty set of objects, and is the zero value for the &quot;description&quot; kind of value.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line615">615</span><span class="td">[&nbsp;Prop_Falsity&nbsp;reason&nbsp;obj;&nbsp;return&nbsp;0;&nbsp;];</span></span>
</div><div class='text'>
<h3 id="#definitions-score-and-rankings-table">Score and Rankings Table.</h3><p><p>The following command tells NI to compile constant definitions for <span class="fixed"><a href="./Definitions.i6t.html#line627">MAX_SCORE</a></span><br> and/or <span class="fixed">RANKING_TABLE</span>, in cases where there are scores and rankings. If there&#39;s no score, we define <span class="fixed"><a href="./Definitions.i6t.html#line627">MAX_SCORE</a></span> as 0 anyway; if there&#39;s no ranking table, <span class="fixed">RANKING_TABLE</span> is left undefined, so that we can <span class="fixed">#ifdef</span> this possibility later.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line625">625</span><span class="td">{-call:Tables::Support::compile_max_score}</span></span>
<span class="tr"><span class="th" id="line626">626</span><span class="td">#Ifndef&nbsp;MAX_SCORE;</span></span>
<span class="tr"><span class="th" id="line627">627</span><span class="td">Global&nbsp;MAX_SCORE&nbsp;=&nbsp;0;</span></span>
<span class="tr"><span class="th" id="line628">628</span><span class="td">#Endif;</span></span>
</div><div class='text'>
<h3 id="#definitions-template-attributes">Template Attributes.</h3><p><p> An I6 attribute is equivalent to an I7 &quot;either/or property&quot;, though the latter are not always translated into I6 attributes because the Z-machine has only a limited number of attributes to use. Here, we define attributes used by the template.<p></p><p> Many concepts in I6 correspond directly to their successors in I7, even if details may vary. (Value properties are a case in point.) Attributes are the opposite of this: indeed, no I6 concept is more fragmented in its I7 equivalents. All but one of the old I6 library attributes are still used (the <span class="fixed">general</span> attribute, for miscellaneous use, has been removed: it more often invited abuse than use); and a few new attributes have been added. But they are used for a variety of purposes. Some do correspond exactly to either/or properties in I7, but others are a sort of signature for I7 kinds. (So that for I7 use they are read-only.) Others still are used by the template layer as part of the implementation of services for I7, but are not visible to I7 source text as storage.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line649">649</span><span class="td">Attribute&nbsp;absent;&nbsp;!&nbsp;Used&nbsp;to&nbsp;mark&nbsp;objects&nbsp;removed&nbsp;from&nbsp;play</span></span>
<span class="tr"><span class="th" id="line650">650</span><span class="td">Attribute&nbsp;animate;&nbsp;!&nbsp;I6-level&nbsp;marker&nbsp;for&nbsp;I7&nbsp;kind&nbsp;&quot;person&quot;</span></span>
<span class="tr"><span class="th" id="line651">651</span><span class="td">Attribute&nbsp;clothing;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;wearable&quot;</span></span>
<span class="tr"><span class="th" id="line652">652</span><span class="td">Attribute&nbsp;concealed;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;undescribed&quot;</span></span>
<span class="tr"><span class="th" id="line653">653</span><span class="td">Attribute&nbsp;container;&nbsp;!&nbsp;I6-level&nbsp;marker&nbsp;for&nbsp;I7&nbsp;kind&nbsp;&quot;container&quot;</span></span>
<span class="tr"><span class="th" id="line654">654</span><span class="td">Attribute&nbsp;door;&nbsp;!&nbsp;I6-level&nbsp;marker&nbsp;for&nbsp;I7&nbsp;kind&nbsp;&quot;door&quot;</span></span>
<span class="tr"><span class="th" id="line655">655</span><span class="td">Attribute&nbsp;edible;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;edible&quot;&nbsp;vs&nbsp;&quot;inedible&quot;</span></span>
<span class="tr"><span class="th" id="line656">656</span><span class="td">Attribute&nbsp;enterable;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;enterable&quot;</span></span>
<span class="tr"><span class="th" id="line657">657</span><span class="td">Attribute&nbsp;light;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;lighted&quot;&nbsp;vs&nbsp;&quot;dark&quot;</span></span>
<span class="tr"><span class="th" id="line658">658</span><span class="td">Attribute&nbsp;lockable;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;lockable&quot;</span></span>
<span class="tr"><span class="th" id="line659">659</span><span class="td">Attribute&nbsp;locked;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;locked&quot;</span></span>
<span class="tr"><span class="th" id="line660">660</span><span class="td">Attribute&nbsp;moved;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;handled&quot;</span></span>
<span class="tr"><span class="th" id="line661">661</span><span class="td">Attribute&nbsp;on;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;switched&nbsp;on&quot;&nbsp;vs&nbsp;&quot;switched&nbsp;off&quot;</span></span>
<span class="tr"><span class="th" id="line662">662</span><span class="td">Attribute&nbsp;open;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;open&quot;&nbsp;vs&nbsp;&quot;closed&quot;</span></span>
<span class="tr"><span class="th" id="line663">663</span><span class="td">Attribute&nbsp;openable;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;openable&quot;</span></span>
<span class="tr"><span class="th" id="line664">664</span><span class="td">Attribute&nbsp;scenery;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;scenery&quot;</span></span>
<span class="tr"><span class="th" id="line665">665</span><span class="td">Attribute&nbsp;static;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;fixed&nbsp;in&nbsp;place&quot;&nbsp;vs&nbsp;&quot;portable&quot;</span></span>
<span class="tr"><span class="th" id="line666">666</span><span class="td">Attribute&nbsp;supporter;&nbsp;!&nbsp;I6-level&nbsp;marker&nbsp;for&nbsp;I7&nbsp;kind&nbsp;&quot;supporter&quot;</span></span>
<span class="tr"><span class="th" id="line667">667</span><span class="td">Attribute&nbsp;switchable;&nbsp;!&nbsp;I6-level&nbsp;marker&nbsp;for&nbsp;I7&nbsp;kind&nbsp;&quot;device&quot;</span></span>
<span class="tr"><span class="th" id="line668">668</span><span class="td">Attribute&nbsp;talkable;&nbsp;!&nbsp;Not&nbsp;currently&nbsp;used&nbsp;by&nbsp;I7,&nbsp;but&nbsp;retained&nbsp;for&nbsp;possible&nbsp;future&nbsp;use</span></span>
<span class="tr"><span class="th" id="line669">669</span><span class="td">Attribute&nbsp;transparent;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;transparent&quot;&nbsp;vs&nbsp;&quot;opaque&quot;</span></span>
<span class="tr"><span class="th" id="line670">670</span><span class="td">Attribute&nbsp;visited;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;visited&quot;</span></span>
<span class="tr"><span class="th" id="line671">671</span><span class="td">Attribute&nbsp;worn;&nbsp;!&nbsp;marks&nbsp;that&nbsp;an&nbsp;object&nbsp;tree&nbsp;edge&nbsp;represents&nbsp;wearing</span></span>
<span class="tr"><span class="th" id="line672">672</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line673">673</span><span class="td">Attribute&nbsp;male;&nbsp;!&nbsp;not&nbsp;directly&nbsp;used&nbsp;by&nbsp;I7,&nbsp;but&nbsp;available&nbsp;for&nbsp;languages&nbsp;with&nbsp;genders</span></span>
<span class="tr"><span class="th" id="line674">674</span><span class="td">Attribute&nbsp;female;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;female&quot;&nbsp;vs&nbsp;&quot;male&quot;</span></span>
<span class="tr"><span class="th" id="line675">675</span><span class="td">Attribute&nbsp;neuter;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;neuter&quot;</span></span>
<span class="tr"><span class="th" id="line676">676</span><span class="td">Attribute&nbsp;pluralname;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;plural-named&quot;</span></span>
<span class="tr"><span class="th" id="line677">677</span><span class="td">Attribute&nbsp;ambigpluralname;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;ambiguously&nbsp;plural&quot;</span></span>
<span class="tr"><span class="th" id="line678">678</span><span class="td">Attribute&nbsp;proper;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;proper-named&quot;</span></span>
<span class="tr"><span class="th" id="line679">679</span><span class="td">Attribute&nbsp;remove_proper;&nbsp;!&nbsp;remember&nbsp;to&nbsp;remove&nbsp;proper&nbsp;again&nbsp;when&nbsp;using&nbsp;ChangePlayer&nbsp;next</span></span>
<span class="tr"><span class="th" id="line680">680</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line681">681</span><span class="td">Attribute&nbsp;privately_named;&nbsp;!&nbsp;New&nbsp;in&nbsp;I7</span></span>
<span class="tr"><span class="th" id="line682">682</span><span class="td">Attribute&nbsp;mentioned;&nbsp;!&nbsp;New&nbsp;in&nbsp;I7</span></span>
<span class="tr"><span class="th" id="line683">683</span><span class="td">Attribute&nbsp;pushable;&nbsp;!&nbsp;New&nbsp;in&nbsp;I7</span></span>
<span class="tr"><span class="th" id="line684">684</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line685">685</span><span class="td">Attribute&nbsp;mark_as_room;&nbsp;!&nbsp;Used&nbsp;in&nbsp;I7&nbsp;to&nbsp;speed&nbsp;up&nbsp;testing&nbsp;&quot;ofclass&nbsp;K1_room&quot;</span></span>
<span class="tr"><span class="th" id="line686">686</span><span class="td">Attribute&nbsp;mark_as_thing;&nbsp;!&nbsp;Used&nbsp;in&nbsp;I7&nbsp;to&nbsp;speed&nbsp;up&nbsp;testing&nbsp;&quot;ofclass&nbsp;K2_thing&quot;</span></span>
<span class="tr"><span class="th" id="line687">687</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line688">688</span><span class="td">Attribute&nbsp;workflag;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;marked&nbsp;for&nbsp;listing&quot;,&nbsp;but&nbsp;basically&nbsp;temporary&nbsp;workspace&nbsp;</span></span>
<span class="tr"><span class="th" id="line689">689</span><span class="td">Attribute&nbsp;workflag2;&nbsp;!&nbsp;new&nbsp;in&nbsp;I7&nbsp;and&nbsp;also&nbsp;temporary&nbsp;workspace</span></span>
<span class="tr"><span class="th" id="line690">690</span><span class="td">Constant&nbsp;list_filter_permits&nbsp;=&nbsp;privately_named;&nbsp;!&nbsp;another&nbsp;I7&nbsp;listwriter&nbsp;convenience</span></span>
</div><div class='text'>
<h3 id="#definitions-template-properties">Template Properties.</h3><p><p> As remarked above, these more often correspond to value properties in I7. To an experienced I6 user, though, the death toll of abolished I6 properties in I7 is breathtaking: in alphabetical order, <span class="fixed">after</span>, <span class="fixed">cant_go</span>, <span class="fixed">daemon</span>, <span class="fixed">each_turn</span>, <span class="fixed">invent</span>, <span class="fixed"><a href="./Definitions.i6t.html#line758">life</a></span>, <span class="fixed">number</span>, <span class="fixed">orders</span>, <span class="fixed">react_after</span>, <span class="fixed">react_before</span>, <span class="fixed">time_left</span>, <span class="fixed">time_out</span>, <span class="fixed">when_closed</span>, <span class="fixed">when_off</span>, <span class="fixed">when_on</span>, <span class="fixed">when_open</span>. In May 2008, the direction properties <span class="fixed">n_to</span>, <span class="fixed">s_to</span>, <span class="fixed">e_to</span>, ..., <span class="fixed">out_to</span> joined the list of the missing.<p></p><p> The losses are numerous because of the shift from I6&#39;s object orientation to I7&#39;s rule orientation: information about the behaviour of objects is no longer thought of as data attached to them. At that, it could have been worse: a few unused I6 library properties have been retained for possible future use.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line708">708</span><span class="td">Property&nbsp;add_to_scope;&nbsp;!&nbsp;used&nbsp;as&nbsp;in&nbsp;I6&nbsp;to&nbsp;place&nbsp;component&nbsp;parts&nbsp;in&nbsp;scope</span></span>
<span class="tr"><span class="th" id="line709">709</span><span class="td">Property&nbsp;article&nbsp;&quot;a&quot;;&nbsp;!&nbsp;used&nbsp;as&nbsp;in&nbsp;I6&nbsp;to&nbsp;implement&nbsp;articles</span></span>
<span class="tr"><span class="th" id="line710">710</span><span class="td">Property&nbsp;capacity&nbsp;100;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;carrying&nbsp;capacity&quot;</span></span>
<span class="tr"><span class="th" id="line711">711</span><span class="td">Property&nbsp;component_child;&nbsp;!&nbsp;new&nbsp;in&nbsp;I7:&nbsp;forest&nbsp;structure&nbsp;holding&nbsp;&quot;part&nbsp;of&quot;&nbsp;relation</span></span>
<span class="tr"><span class="th" id="line712">712</span><span class="td">Property&nbsp;component_parent;&nbsp;!&nbsp;new&nbsp;in&nbsp;I7</span></span>
<span class="tr"><span class="th" id="line713">713</span><span class="td">Property&nbsp;component_sibling;&nbsp;!&nbsp;new&nbsp;in&nbsp;I7</span></span>
<span class="tr"><span class="th" id="line714">714</span><span class="td">Property&nbsp;description;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;description&quot;</span></span>
<span class="tr"><span class="th" id="line715">715</span><span class="td">Property&nbsp;door_dir;&nbsp;!&nbsp;used&nbsp;to&nbsp;implement&nbsp;two-sided&nbsp;doors,&nbsp;but&nbsp;holds&nbsp;direction&nbsp;object,&nbsp;not&nbsp;a&nbsp;property</span></span>
<span class="tr"><span class="th" id="line716">716</span><span class="td">Property&nbsp;door_to;&nbsp;!&nbsp;used&nbsp;as&nbsp;in&nbsp;I6&nbsp;to&nbsp;implement&nbsp;two-sided&nbsp;doors</span></span>
<span class="tr"><span class="th" id="line717">717</span><span class="td">Property&nbsp;found_in;&nbsp;!&nbsp;used&nbsp;as&nbsp;in&nbsp;I6&nbsp;to&nbsp;implement&nbsp;two-sided&nbsp;doors&nbsp;and&nbsp;backdrops</span></span>
<span class="tr"><span class="th" id="line718">718</span><span class="td">Property&nbsp;initial;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;initial&nbsp;description&quot;</span></span>
<span class="tr"><span class="th" id="line719">719</span><span class="td">Property&nbsp;list_together;&nbsp;!&nbsp;used&nbsp;as&nbsp;in&nbsp;I6&nbsp;to&nbsp;implement&nbsp;&quot;grouping&nbsp;together&quot;&nbsp;activity</span></span>
<span class="tr"><span class="th" id="line720">720</span><span class="td">Property&nbsp;map_region;&nbsp;!&nbsp;new&nbsp;in&nbsp;I7</span></span>
<span class="tr"><span class="th" id="line721">721</span><span class="td">Property&nbsp;parse_name&nbsp;0;&nbsp;!&nbsp;used&nbsp;as&nbsp;in&nbsp;I6&nbsp;to&nbsp;implement&nbsp;&quot;Understand...&nbsp;as...&quot;&nbsp;grammars</span></span>
<span class="tr"><span class="th" id="line722">722</span><span class="td">Property&nbsp;plural;&nbsp;!&nbsp;used&nbsp;as&nbsp;in&nbsp;I6&nbsp;to&nbsp;implement&nbsp;plural&nbsp;names&nbsp;for&nbsp;duplicate&nbsp;objects</span></span>
<span class="tr"><span class="th" id="line723">723</span><span class="td">Property&nbsp;regional_found_in;&nbsp;!&nbsp;new&nbsp;in&nbsp;I7</span></span>
<span class="tr"><span class="th" id="line724">724</span><span class="td">Property&nbsp;room_index;&nbsp;!&nbsp;new&nbsp;in&nbsp;I7:&nbsp;storage&nbsp;for&nbsp;route-finding</span></span>
<span class="tr"><span class="th" id="line725">725</span><span class="td">Property&nbsp;short_name&nbsp;0;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;printed&nbsp;name&quot;</span></span>
<span class="tr"><span class="th" id="line726">726</span><span class="td">Property&nbsp;vector;&nbsp;!&nbsp;new&nbsp;in&nbsp;I7:&nbsp;storage&nbsp;for&nbsp;route-finding</span></span>
<span class="tr"><span class="th" id="line727">727</span><span class="td">Property&nbsp;with_key;&nbsp;!&nbsp;=&nbsp;I7&nbsp;&quot;matching&nbsp;key&quot;</span></span>
<span class="tr"><span class="th" id="line728">728</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line729">729</span><span class="td">Property&nbsp;KD_Count;&nbsp;!&nbsp;Instance&nbsp;count&nbsp;of&nbsp;the&nbsp;kind&nbsp;of&nbsp;the&nbsp;current&nbsp;object</span></span>
<span class="tr"><span class="th" id="line730">730</span><span class="td">Property&nbsp;IK1_Count;&nbsp;!&nbsp;These&nbsp;are&nbsp;instance&nbsp;counts&nbsp;within&nbsp;kinds&nbsp;K1,&nbsp;K2,&nbsp;...</span></span>
<span class="tr"><span class="th" id="line731">731</span><span class="td">Property&nbsp;IK2_Count;&nbsp;!&nbsp;and&nbsp;it&nbsp;is&nbsp;efficient&nbsp;to&nbsp;declare&nbsp;the&nbsp;common&nbsp;ones&nbsp;with&nbsp;Property</span></span>
<span class="tr"><span class="th" id="line732">732</span><span class="td">Property&nbsp;IK4_Count;&nbsp;!&nbsp;since&nbsp;this&nbsp;results&nbsp;in&nbsp;a&nbsp;slightly&nbsp;smaller&nbsp;story&nbsp;file</span></span>
<span class="tr"><span class="th" id="line733">733</span><span class="td">Property&nbsp;IK5_Count;</span></span>
<span class="tr"><span class="th" id="line734">734</span><span class="td">Property&nbsp;IK6_Count;</span></span>
<span class="tr"><span class="th" id="line735">735</span><span class="td">Property&nbsp;IK8_Count;</span></span>
<span class="tr"><span class="th" id="line736">736</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line737">737</span><span class="td">Property&nbsp;IK1_link;&nbsp;!&nbsp;These&nbsp;are&nbsp;for&nbsp;linked&nbsp;lists&nbsp;used&nbsp;to&nbsp;make&nbsp;searches&nbsp;faster</span></span>
<span class="tr"><span class="th" id="line738">738</span><span class="td">Property&nbsp;IK2_link;&nbsp;!&nbsp;and&nbsp;again&nbsp;it&#39;s&nbsp;memory-efficient&nbsp;to&nbsp;declare&nbsp;the&nbsp;common&nbsp;ones</span></span>
<span class="tr"><span class="th" id="line739">739</span><span class="td">Property&nbsp;IK5_link;&nbsp;!&nbsp;</span></span>
<span class="tr"><span class="th" id="line740">740</span><span class="td">Property&nbsp;IK6_link;&nbsp;!&nbsp;</span></span>
<span class="tr"><span class="th" id="line741">741</span><span class="td">Property&nbsp;IK8_link;&nbsp;!&nbsp;</span></span>
<span class="tr"><span class="th" id="line742">742</span><span class="td"></span></span>
<span class="tr"><span class="th" id="line743">743</span><span class="td">Property&nbsp;articles;&nbsp;!&nbsp;not&nbsp;used&nbsp;by&nbsp;I7,&nbsp;but&nbsp;an&nbsp;interesting&nbsp;hook&nbsp;in&nbsp;the&nbsp;parser</span></span>
<span class="tr"><span class="th" id="line744">744</span><span class="td">Property&nbsp;grammar;&nbsp;!&nbsp;not&nbsp;used&nbsp;by&nbsp;I7,&nbsp;but&nbsp;an&nbsp;interesting&nbsp;hook&nbsp;in&nbsp;the&nbsp;parser</span></span>
<span class="tr"><span class="th" id="line745">745</span><span class="td">Property&nbsp;inside_description;&nbsp;!&nbsp;not&nbsp;used&nbsp;by&nbsp;I7,&nbsp;but&nbsp;an&nbsp;interesting&nbsp;hook&nbsp;in&nbsp;the&nbsp;locale&nbsp;code</span></span>
<span class="tr"><span class="th" id="line746">746</span><span class="td">Property&nbsp;short_name_indef&nbsp;0;&nbsp;!&nbsp;not&nbsp;used&nbsp;by&nbsp;I7,&nbsp;but&nbsp;an&nbsp;interesting&nbsp;hook&nbsp;in&nbsp;the&nbsp;listmaker</span></span>
</div><div class='text'>
<h3 id="#definitions-loss-of-life">Loss of Life.</h3><p><p> The loss of <span class="fixed"><a href="./Definitions.i6t.html#line758">life</a></span> is so appalling that I6 will not even compile a story file which doesn&#39;t define the property number <span class="fixed"><a href="./Definitions.i6t.html#line758">life</a></span> (well, strictly speaking, it checks the presence of constants suggesting the I6 library first, but the template layer does define constants like that). We define it as a null constant to be sure of avoiding any valid property number; I6 being typeless, that enables the veneer to compile again. (The relevant code is in <span class="fixed">CA__Pr</span>, defined in the <span class="fixed">veneer.c</span> section of I6.)<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line758">758</span><span class="td">Constant&nbsp;life&nbsp;=&nbsp;NULL;</span></span>
</div><div class='text'>
<h3 id="#definitions-action-count">Action Count.</h3><p><p> The number of valid I7 actions in existence.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line764">764</span><span class="td">Constant&nbsp;ActionCount&nbsp;=&nbsp;{-value:NUMBER_CREATED(action_name)};</span></span>
</div><div class='text'>
<h3 id="#definitions-fake-actions">Fake Actions.</h3><p><p> Though sometimes useful for I6 coding tricks, fake actions &ndash; action numbers not corresponding to any action, but different from those of valid actions, and useable with a number of action syntaxes &ndash; are not conceptually present in I7 source text. They can only really exist at the I6 level because I6 is typeless; in I7 terms, there is no convenient kind of value which could represent both actions and fake actions while protecting each from confusion with the other.<p></p><p> See the <strong> Inform Designer&#39;s Manual</strong>, 4th edition, for what these are used for.<p></p><p> The following fake actions from the I6 library have been dropped here: <span class="fixed">##LetGo</span>, <span class="fixed">##Receive</span>, <span class="fixed">##ThrownAt</span>, <span class="fixed">##Prompt</span>, <span class="fixed">##Places</span>, <span class="fixed">##Objects</span>, <span class="fixed">##Order</span>, <span class="fixed">##NotUnderstood</span>.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line783">783</span><span class="td">Fake_Action&nbsp;ListMiscellany;</span></span>
<span class="tr"><span class="th" id="line784">784</span><span class="td">Fake_Action&nbsp;Miscellany;</span></span>
<span class="tr"><span class="th" id="line785">785</span><span class="td">Fake_Action&nbsp;PluralFound;</span></span>
<span class="tr"><span class="th" id="line786">786</span><span class="td">Fake_Action&nbsp;TheSame;</span></span>
</div><div class='text'>
<h3 id="#definitions-formal-parameters">Formal Parameters.</h3><p><p> These are needed for efficient run-time ambiguity resolution.<p></p><p></div><div class="pre">
<span class="tr"><span class="th" id="line792">792</span><span class="td">Global&nbsp;formal_rv;</span></span>
<span class="tr"><span class="th" id="line793">793</span><span class="td">Global&nbsp;formal_par0;</span></span>
<span class="tr"><span class="th" id="line794">794</span><span class="td">Global&nbsp;formal_par1;</span></span>
<span class="tr"><span class="th" id="line795">795</span><span class="td">Global&nbsp;formal_par2;</span></span>
<span class="tr"><span class="th" id="line796">796</span><span class="td">Global&nbsp;formal_par3;</span></span>
<span class="tr"><span class="th" id="line797">797</span><span class="td">Global&nbsp;formal_par4;</span></span>
<span class="tr"><span class="th" id="line798">798</span><span class="td">Global&nbsp;formal_par5;</span></span>
<span class="tr"><span class="th" id="line799">799</span><span class="td">Global&nbsp;formal_par6;</span></span>
<span class="tr"><span class="th" id="line800">800</span><span class="td">Global&nbsp;formal_par7;</span></span>
<span class="tr"><span class="th" id="line801">801</span><span class="td">Global&nbsp;unicode_temp;</span></span>
</div><footer><hr><p><em>From I6T lib 6/12N &copy; Graham Nelson and published under the <a href="https://github.com/zedlopez/standard_rules/blob/main/LICENSE.md">Artistic License 2.0</a>. Distributed with <a href="http://inform7.com/">Inform 7 6M62</a>.</em></p></footer></body></html>
